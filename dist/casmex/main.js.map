{"version":3,"file":"main.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACuD;AACT;AACW;AACG;AAC4B;AACmB;AACuB;AAC3C;AACO;AACF;AACN;AACe;AACC;AACV;AACH;AACK;AACK;AACD;AACT;AACN;AAEuB;AACC;AACA;AACV;AACX;AACI;AAC0B;AACjB;AACA;AACT;AACyB;AACA;AACZ;AACZ;AACF;AACN;;;AAEnF,MAAM,MAAM,GAAW;IACrB,EAAE,IAAI,EAAE,EAAE,EAAE,UAAU,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE;IACpD,EAAE,IAAI,EAAE,OAAO,EAAE,SAAS,EAAE,kEAAc,EAAE,WAAW,EAAE,CAAC,uDAAS,CAAC,EAAE;IACtE;QACE,IAAI,EAAE,WAAW;QACjB,SAAS,EAAE,6FAAoB;QAC/B,WAAW,EAAE,CAAC,uDAAS,CAAC;KACzB;IACD;QACE,IAAI,EAAE,kBAAkB;QACxB,SAAS,EAAE,iGAAuB;QAClC,WAAW,EAAE,CAAC,uDAAS,CAAC;KACzB;IACD;QACE,IAAI,EAAE,QAAQ;QACd,SAAS,EAAE,qEAAe;QAC1B,WAAW,EAAE,CAAC,uDAAS,CAAC;QACxB,QAAQ,EAAE;YACR,EAAE,IAAI,EAAE,EAAE,EAAE,UAAU,EAAE,cAAc,EAAE,SAAS,EAAE,MAAM,EAAE;YAC3D;gBACE,IAAI,EAAE,mBAAmB;gBACzB,SAAS,EAAE,oHAAwB;gBACnC,IAAI,EAAE;oBACJ,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,wBAAwB,EAAE;oBACvD,EAAE,KAAK,EAAE,sBAAsB,EAAE,UAAU,EAAE,mBAAmB,EAAE;oBAClE,EAAE,KAAK,EAAE,UAAU,EAAE,UAAU,EAAE,EAAE,EAAE;iBACtC;gBACD,WAAW,EAAE,CAAC,uDAAS,CAAC;aACzB;YACD;gBACE,IAAI,EAAE,6CAA6C;gBACnD,SAAS,EAAE,2IAA+B;gBAC1C,IAAI,EAAE;oBACJ,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,wBAAwB,EAAE;oBACvD;wBACE,KAAK,EAAE,sBAAsB;wBAC7B,UAAU,EAAE,6BAA6B;qBAC1C;oBACD,EAAE,KAAK,EAAE,UAAU,EAAE,UAAU,EAAE,mBAAmB,EAAE;oBACtD,EAAE,KAAK,EAAE,uBAAuB,EAAE,UAAU,EAAE,EAAE,EAAE;iBACnD;gBACD,WAAW,EAAE,CAAC,uDAAS,CAAC;aACzB;YACD;gBACE,IAAI,EAAE,mDAAmD;gBACzD,SAAS,EAAE,2IAA+B;gBAC1C,IAAI,EAAE;oBACJ,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,wBAAwB,EAAE;oBACvD;wBACE,KAAK,EAAE,sBAAsB;wBAC7B,UAAU,EAAE,6BAA6B;qBAC1C;oBACD,EAAE,KAAK,EAAE,UAAU,EAAE,UAAU,EAAE,mBAAmB,EAAE;oBACtD,EAAE,KAAK,EAAE,yBAAyB,EAAE,UAAU,EAAE,EAAE,EAAE;iBACrD;gBACD,WAAW,EAAE,CAAC,uDAAS,CAAC;aACzB;YACD;gBACE,IAAI,EAAE,kDAAkD;gBACxD,SAAS,EAAE,2IAA+B;gBAC1C,IAAI,EAAE;oBACJ,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,wBAAwB,EAAE;oBACvD;wBACE,KAAK,EAAE,sBAAsB;wBAC7B,UAAU,EAAE,6BAA6B;qBAC1C;oBACD,EAAE,KAAK,EAAE,UAAU,EAAE,UAAU,EAAE,mBAAmB,EAAE;oBACtD,EAAE,KAAK,EAAE,wBAAwB,EAAE,UAAU,EAAE,EAAE,EAAE;iBACpD;gBACD,WAAW,EAAE,CAAC,uDAAS,CAAC;aACzB;YACD;gBACE,IAAI,EAAE,sBAAsB;gBAC5B,SAAS,EAAE,6FAAmB;gBAC9B,IAAI,EAAE;oBACJ,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,gCAAgC,EAAE;oBAC/D,EAAE,KAAK,EAAE,sBAAsB,EAAE,UAAU,EAAE,EAAE,EAAE;iBAClD;gBACD,WAAW,EAAE,CAAC,uDAAS,CAAC;aACzB;YACD;gBACE,IAAI,EAAE,kBAAkB;gBACxB,SAAS,EAAE,mGAAqB;gBAChC,IAAI,EAAE;oBACJ,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,4BAA4B,EAAE;oBAC3D,EAAE,KAAK,EAAE,kBAAkB,EAAE,UAAU,EAAE,EAAE,EAAE;iBAC9C;gBACD,WAAW,EAAE,CAAC,uDAAS,CAAC;aACzB;YACD;gBACE,IAAI,EAAE,kBAAkB;gBACxB,SAAS,EAAE,2GAAuB;gBAClC,IAAI,EAAE;oBACJ,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,4BAA4B,EAAE;oBAC3D,EAAE,KAAK,EAAE,kBAAkB,EAAE,UAAU,EAAE,EAAE,EAAE;iBAC9C;gBACD,WAAW,EAAE,CAAC,uDAAS,CAAC;aACzB;YACD;gBACE,IAAI,EAAE,iBAAiB;gBACvB,SAAS,EAAE,6GAAsB;gBACjC,IAAI,EAAE;oBACJ,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,wBAAwB,EAAE;oBACvD,EAAE,KAAK,EAAE,sBAAsB,EAAE,UAAU,EAAE,iBAAiB,EAAE;oBAChE,EAAE,KAAK,EAAE,iBAAiB,EAAE,UAAU,EAAE,EAAE,EAAE;iBAC7C;gBACD,WAAW,EAAE,CAAC,uDAAS,CAAC;aACzB;YACD;gBACE,IAAI,EAAE,yCAAyC;gBAC/C,SAAS,EAAE,4GAAqB;gBAChC,IAAI,EAAE;oBACJ,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,wBAAwB,EAAE;oBACvD;wBACE,KAAK,EAAE,sBAAsB;wBAC7B,UAAU,EAAE,2BAA2B;qBACxC;oBACD,EAAE,KAAK,EAAE,iBAAiB,EAAE,UAAU,EAAE,iBAAiB,EAAE;oBAC3D,EAAE,KAAK,EAAE,qBAAqB,EAAE,UAAU,EAAE,EAAE,EAAE;iBACjD;gBACD,WAAW,EAAE,CAAC,uDAAS,CAAC;aACzB;YACD;gBACE,IAAI,EAAE,8CAA8C;gBACpD,SAAS,EAAE,4GAAqB;gBAChC,IAAI,EAAE;oBACJ,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,wBAAwB,EAAE;oBACvD;wBACE,KAAK,EAAE,sBAAsB;wBAC7B,UAAU,EAAE,2BAA2B;qBACxC;oBACD,EAAE,KAAK,EAAE,iBAAiB,EAAE,UAAU,EAAE,iBAAiB,EAAE;oBAC3D,EAAE,KAAK,EAAE,sBAAsB,EAAE,UAAU,EAAE,EAAE,EAAE;iBAClD;gBACD,WAAW,EAAE,CAAC,uDAAS,CAAC;aACzB;YACD;gBACE,IAAI,EAAE,cAAc;gBACpB,SAAS,EAAE,uGAAqB;gBAChC,IAAI,EAAE;oBACJ,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,wBAAwB,EAAE;oBACvD,EAAE,KAAK,EAAE,UAAU,EAAE,UAAU,EAAE,sBAAsB,EAAE;oBACzD,EAAE,KAAK,EAAE,uBAAuB,EAAE,UAAU,EAAE,EAAE,EAAE;iBACnD;gBACD,WAAW,EAAE,CAAC,uDAAS,CAAC;aACzB;YACD;gBACE,IAAI,EAAE,0BAA0B;gBAChC,SAAS,EAAE,qGAAqB;gBAChC,IAAI,EAAE;oBACJ,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,wBAAwB,EAAE;oBACvD,EAAE,KAAK,EAAE,UAAU,EAAE,UAAU,EAAE,wBAAwB,EAAE;oBAC3D,EAAE,KAAK,EAAE,uBAAuB,EAAE,UAAU,EAAE,cAAc,EAAE;oBAC9D,EAAE,KAAK,EAAE,eAAe,EAAE,UAAU,EAAE,EAAE,EAAE;iBAC3C;gBACD,WAAW,EAAE,CAAC,uDAAS,CAAC;aACzB;YACD;gBACE,IAAI,EAAE,mCAAmC;gBACzC,SAAS,EAAE,qGAAqB;gBAChC,IAAI,EAAE;oBACJ,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,wBAAwB,EAAE;oBACvD,EAAE,KAAK,EAAE,UAAU,EAAE,UAAU,EAAE,wBAAwB,EAAE;oBAC3D,EAAE,KAAK,EAAE,uBAAuB,EAAE,UAAU,EAAE,cAAc,EAAE;oBAC9D,EAAE,KAAK,EAAE,YAAY,EAAE,UAAU,EAAE,EAAE,EAAE;iBACxC;gBACD,WAAW,EAAE,CAAC,uDAAS,CAAC;aACzB;YACD;gBACE,IAAI,EAAE,oCAAoC;gBAC1C,SAAS,EAAE,qGAAqB;gBAChC,IAAI,EAAE;oBACJ,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,wBAAwB,EAAE;oBACvD,EAAE,KAAK,EAAE,UAAU,EAAE,UAAU,EAAE,wBAAwB,EAAE;oBAC3D,EAAE,KAAK,EAAE,uBAAuB,EAAE,UAAU,EAAE,cAAc,EAAE;oBAC9D,EAAE,KAAK,EAAE,aAAa,EAAE,UAAU,EAAE,EAAE,EAAE;iBACzC;gBACD,WAAW,EAAE,CAAC,uDAAS,CAAC;aACzB;YACD;gBACE,IAAI,EAAE,cAAc;gBACpB,SAAS,EAAE,gGAAmB;gBAC9B,IAAI,EAAE;oBACJ,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,sBAAsB,EAAE;oBACrD,EAAE,KAAK,EAAE,UAAU,EAAE,UAAU,EAAE,sBAAsB,EAAE;oBACzD,EAAE,KAAK,EAAE,cAAc,EAAE,UAAU,EAAE,EAAE,EAAE;iBAC1C;gBACD,WAAW,EAAE,CAAC,uDAAS,CAAC;aACzB;YACD;gBACE,IAAI,EAAE,sBAAsB;gBAC5B,SAAS,EAAE,+FAAkB;gBAC7B,IAAI,EAAE;oBACJ,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,wBAAwB,EAAE;oBACvD,EAAE,KAAK,EAAE,UAAU,EAAE,UAAU,EAAE,wBAAwB,EAAE;oBAC3D,EAAE,KAAK,EAAE,cAAc,EAAE,UAAU,EAAE,cAAc,EAAE;oBACrD,EAAE,KAAK,EAAE,aAAa,EAAE,UAAU,EAAE,EAAE,EAAE;iBACzC;gBACD,WAAW,EAAE,CAAC,uDAAS,CAAC;aACzB;YACD;gBACE,IAAI,EAAE,+BAA+B;gBACrC,SAAS,EAAE,+FAAkB;gBAC7B,IAAI,EAAE;oBACJ,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,wBAAwB,EAAE;oBACvD,EAAE,KAAK,EAAE,UAAU,EAAE,UAAU,EAAE,wBAAwB,EAAE;oBAC3D,EAAE,KAAK,EAAE,cAAc,EAAE,UAAU,EAAE,cAAc,EAAE;oBACrD,EAAE,KAAK,EAAE,UAAU,EAAE,UAAU,EAAE,EAAE,EAAE;iBACtC;gBACD,WAAW,EAAE,CAAC,uDAAS,CAAC;aACzB;YACD;gBACE,IAAI,EAAE,gCAAgC;gBACtC,SAAS,EAAE,+FAAkB;gBAC7B,IAAI,EAAE;oBACJ,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,wBAAwB,EAAE;oBACvD,EAAE,KAAK,EAAE,UAAU,EAAE,UAAU,EAAE,wBAAwB,EAAE;oBAC3D,EAAE,KAAK,EAAE,cAAc,EAAE,UAAU,EAAE,cAAc,EAAE;oBACrD,EAAE,KAAK,EAAE,WAAW,EAAE,UAAU,EAAE,EAAE,EAAE;iBACvC;gBACD,WAAW,EAAE,CAAC,uDAAS,CAAC;aACzB;YACD;gBACE,IAAI,EAAE,iBAAiB;gBACvB,SAAS,EAAE,6GAAsB;gBACjC,IAAI,EAAE;oBACJ,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,wBAAwB,EAAE;oBACvD,EAAE,KAAK,EAAE,UAAU,EAAE,UAAU,EAAE,2BAA2B,EAAE;oBAC9D,EAAE,KAAK,EAAE,iBAAiB,EAAE,UAAU,EAAE,EAAE,EAAE;iBAC7C;gBACD,WAAW,EAAE,CAAC,uDAAS,CAAC;aACzB;YACD;gBACE,IAAI,EAAE,4BAA4B;gBAClC,SAAS,EAAE,6GAAsB;gBACjC,IAAI,EAAE;oBACJ,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,wBAAwB,EAAE;oBACvD,EAAE,KAAK,EAAE,UAAU,EAAE,UAAU,EAAE,2BAA2B,EAAE;oBAC9D,EAAE,KAAK,EAAE,iBAAiB,EAAE,UAAU,EAAE,iBAAiB,EAAE;oBAC3D,EAAE,KAAK,EAAE,gBAAgB,EAAE,UAAU,EAAE,EAAE,EAAE;iBAC5C;gBACD,WAAW,EAAE,CAAC,uDAAS,CAAC;aACzB;YACD;gBACE,IAAI,EAAE,qCAAqC;gBAC3C,SAAS,EAAE,6GAAsB;gBACjC,IAAI,EAAE;oBACJ,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,wBAAwB,EAAE;oBACvD,EAAE,KAAK,EAAE,UAAU,EAAE,UAAU,EAAE,2BAA2B,EAAE;oBAC9D,EAAE,KAAK,EAAE,iBAAiB,EAAE,UAAU,EAAE,iBAAiB,EAAE;oBAC3D,EAAE,KAAK,EAAE,aAAa,EAAE,UAAU,EAAE,EAAE,EAAE;iBACzC;gBACD,WAAW,EAAE,CAAC,uDAAS,CAAC;aACzB;YACD;gBACE,IAAI,EAAE,sCAAsC;gBAC5C,SAAS,EAAE,6GAAsB;gBACjC,IAAI,EAAE;oBACJ,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,wBAAwB,EAAE;oBACvD,EAAE,KAAK,EAAE,UAAU,EAAE,UAAU,EAAE,2BAA2B,EAAE;oBAC9D,EAAE,KAAK,EAAE,iBAAiB,EAAE,UAAU,EAAE,iBAAiB,EAAE;oBAC3D,EAAE,KAAK,EAAE,cAAc,EAAE,UAAU,EAAE,EAAE,EAAE;iBAC1C;gBACD,WAAW,EAAE,CAAC,uDAAS,CAAC;aACzB;YACD;gBACE,IAAI,EAAE,kBAAkB;gBACxB,SAAS,EAAE,iHAAuB;gBAClC,IAAI,EAAE;oBACJ,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,wBAAwB,EAAE;oBACvD,EAAE,KAAK,EAAE,UAAU,EAAE,UAAU,EAAE,4BAA4B,EAAE;oBAC/D,EAAE,KAAK,EAAE,kBAAkB,EAAE,UAAU,EAAE,EAAE,EAAE;iBAC9C;gBACD,WAAW,EAAE,CAAC,uDAAS,CAAC;aACzB;YACD;gBACE,IAAI,EAAE,eAAe;gBACrB,SAAS,EAAE,qGAAoB;gBAC/B,IAAI,EAAE;oBACJ,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,wBAAwB,EAAE;oBACvD,EAAE,KAAK,EAAE,UAAU,EAAE,UAAU,EAAE,yBAAyB,EAAE;oBAC5D,EAAE,KAAK,EAAE,eAAe,EAAE,UAAU,EAAE,EAAE,EAAE;iBAC3C;gBACD,WAAW,EAAE,CAAC,uDAAS,CAAC;aACzB;YACD;gBACE,IAAI,EAAE,mBAAmB;gBACzB,SAAS,EAAE,mGAAwB;gBACnC,IAAI,EAAE;oBACJ,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,wBAAwB,EAAE;oBACvD,EAAE,KAAK,EAAE,UAAU,EAAE,UAAU,EAAE,6BAA6B,EAAE;oBAChE,EAAE,KAAK,EAAE,qBAAqB,EAAE,UAAU,EAAE,EAAE,EAAE;iBACjD;gBACD,WAAW,EAAE,CAAC,uDAAS,CAAC;aACzB;YACD;gBACE,IAAI,EAAE,+BAA+B;gBACrC,SAAS,EAAE,mGAAwB;gBACnC,IAAI,EAAE;oBACJ,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,wBAAwB,EAAE;oBACvD,EAAE,KAAK,EAAE,UAAU,EAAE,UAAU,EAAE,6BAA6B,EAAE;oBAChE;wBACE,KAAK,EAAE,qBAAqB;wBAC5B,UAAU,EAAE,6BAA6B;qBAC1C;oBACD;wBACE,KAAK,EAAE,aAAa;wBACpB,UAAU,EAAE,yCAAyC;qBACtD;iBACF;gBACD,WAAW,EAAE,CAAC,uDAAS,CAAC;aACzB;YACD;gBACE,IAAI,EAAE,8BAA8B;gBACpC,SAAS,EAAE,mGAAwB;gBACnC,IAAI,EAAE;oBACJ,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,wBAAwB,EAAE;oBACvD,EAAE,KAAK,EAAE,UAAU,EAAE,UAAU,EAAE,6BAA6B,EAAE;oBAChE;wBACE,KAAK,EAAE,qBAAqB;wBAC5B,UAAU,EAAE,6BAA6B;qBAC1C;oBACD;wBACE,KAAK,EAAE,YAAY;wBACnB,UAAU,EAAE,wCAAwC;qBACrD;iBACF;gBACD,WAAW,EAAE,CAAC,uDAAS,CAAC;aACzB;YACD,IAAI;YACJ,kDAAkD;YAClD,yCAAyC;YACzC,YAAY;YACZ,+DAA+D;YAC/D,wEAAwE;YACxE,QAAQ;YACR,sCAAsC;YACtC,mDAAmD;YACnD,SAAS;YACT,QAAQ;YACR,8BAA8B;YAC9B,+DAA+D;YAC/D,SAAS;YACT,QAAQ;YACR,sCAAsC;YACtC,sEAAsE;YACtE,SAAS;YACT,OAAO;YACP,8BAA8B;YAC9B,KAAK;YACL;gBACE,IAAI,EAAE,qBAAqB;gBAC3B,SAAS,EAAE,6HAA0B;gBACrC,IAAI,EAAE;oBACJ,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,wBAAwB,EAAE;oBACvD,EAAE,KAAK,EAAE,UAAU,EAAE,UAAU,EAAE,+BAA+B,EAAE;oBAClE,EAAE,KAAK,EAAE,qBAAqB,EAAE,UAAU,EAAE,EAAE,EAAE;iBACjD;gBACD,WAAW,EAAE,CAAC,uDAAS,CAAC;aACzB;YACD;gBACE,IAAI,EAAE,kCAAkC;gBACxC,SAAS,EAAE,6HAA0B;gBACrC,IAAI,EAAE;oBACJ,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,wBAAwB,EAAE;oBACvD,EAAE,KAAK,EAAE,UAAU,EAAE,UAAU,EAAE,+BAA+B,EAAE;oBAClE,EAAE,KAAK,EAAE,qBAAqB,EAAE,UAAU,EAAE,qBAAqB,EAAE;oBACnE,EAAE,KAAK,EAAE,4BAA4B,EAAE,UAAU,EAAE,EAAE,EAAE;iBACxD;gBACD,WAAW,EAAE,CAAC,uDAAS,CAAC;aACzB;YACD;gBACE,IAAI,EAAE,2CAA2C;gBACjD,SAAS,EAAE,6HAA0B;gBACrC,IAAI,EAAE;oBACJ,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,wBAAwB,EAAE;oBACvD,EAAE,KAAK,EAAE,UAAU,EAAE,UAAU,EAAE,+BAA+B,EAAE;oBAClE,EAAE,KAAK,EAAE,qBAAqB,EAAE,UAAU,EAAE,qBAAqB,EAAE;oBACnE,EAAE,KAAK,EAAE,0BAA0B,EAAE,UAAU,EAAE,EAAE,EAAE;iBACtD;gBACD,WAAW,EAAE,CAAC,uDAAS,CAAC;aACzB;YACD;gBACE,IAAI,EAAE,YAAY;gBAClB,SAAS,EAAE,gHAAwB;gBACnC,IAAI,EAAE;oBACJ,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,wBAAwB,EAAE;oBACvD,EAAE,KAAK,EAAE,UAAU,EAAE,UAAU,EAAE,sBAAsB,EAAE;oBACzD,EAAE,KAAK,EAAE,YAAY,EAAE,UAAU,EAAE,EAAE,EAAE;iBACxC;gBACD,WAAW,EAAE,CAAC,uDAAS,CAAC;aACzB;YACD;gBACE,IAAI,EAAE,2BAA2B;gBACjC,SAAS,EAAE,+GAAuB;gBAClC,IAAI,EAAE;oBACJ,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,wBAAwB,EAAE;oBACvD,EAAE,KAAK,EAAE,UAAU,EAAE,UAAU,EAAE,sBAAsB,EAAE;oBACzD,EAAE,KAAK,EAAE,YAAY,EAAE,UAAU,EAAE,YAAY,EAAE;oBACjD,EAAE,KAAK,EAAE,mBAAmB,EAAE,UAAU,EAAE,EAAE,EAAE;iBAC/C;gBACD,WAAW,EAAE,CAAC,uDAAS,CAAC;aACzB;YACD;gBACE,IAAI,EAAE,oCAAoC;gBAC1C,SAAS,EAAE,+GAAuB;gBAClC,IAAI,EAAE;oBACJ,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,wBAAwB,EAAE;oBACvD,EAAE,KAAK,EAAE,UAAU,EAAE,UAAU,EAAE,sBAAsB,EAAE;oBACzD,EAAE,KAAK,EAAE,YAAY,EAAE,UAAU,EAAE,YAAY,EAAE;oBACjD,EAAE,KAAK,EAAE,gBAAgB,EAAE,UAAU,EAAE,EAAE,EAAE;iBAC5C;gBACD,WAAW,EAAE,CAAC,uDAAS,CAAC;aACzB;YACD;gBACE,IAAI,EAAE,qCAAqC;gBAC3C,SAAS,EAAE,+GAAuB;gBAClC,IAAI,EAAE;oBACJ,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,wBAAwB,EAAE;oBACvD,EAAE,KAAK,EAAE,UAAU,EAAE,UAAU,EAAE,sBAAsB,EAAE;oBACzD,EAAE,KAAK,EAAE,YAAY,EAAE,UAAU,EAAE,YAAY,EAAE;oBACjD,EAAE,KAAK,EAAE,iBAAiB,EAAE,UAAU,EAAE,EAAE,EAAE;iBAC7C;gBACD,WAAW,EAAE,CAAC,uDAAS,CAAC;aACzB;YACD;gBACE,IAAI,EAAE,mBAAmB;gBACzB,SAAS,EAAE,sGAAsB;gBACjC,IAAI,EAAE;oBACJ,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,6BAA6B,EAAE;oBAC5D,EAAE,KAAK,EAAE,mBAAmB,EAAE,UAAU,EAAE,EAAE,EAAE;iBAC/C;gBACD,WAAW,EAAE,CAAC,uDAAS,CAAC;aACzB;YACD;gBACE,IAAI,EAAE,kBAAkB;gBACxB,SAAS,EAAE,mGAAwB;gBACnC,IAAI,EAAE;oBACJ,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,4BAA4B,EAAE;oBAC3D;wBACE,KAAK,EAAE,kBAAkB;wBACzB,UAAU,EAAE,4BAA4B;qBACzC;iBACF;gBACD,WAAW,EAAE,CAAC,uDAAS,CAAC;aACzB;YACD;gBACE,IAAI,EAAE,uCAAuC;gBAC7C,SAAS,EAAE,wGAAoB;gBAC/B,IAAI,EAAE;oBACJ,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,4BAA4B,EAAE;oBAC3D;wBACE,KAAK,EAAE,kBAAkB;wBACzB,UAAU,EAAE,4BAA4B;qBACzC;oBACD,EAAE,KAAK,EAAE,cAAc,EAAE,UAAU,EAAE,EAAE,EAAE;iBAC1C;gBACD,WAAW,EAAE,CAAC,uDAAS,CAAC;aACzB;YACD;gBACE,IAAI,EAAE,gDAAgD;gBACtD,SAAS,EAAE,wGAAoB;gBAC/B,IAAI,EAAE;oBACJ,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,4BAA4B,EAAE;oBAC3D;wBACE,KAAK,EAAE,kBAAkB;wBACzB,UAAU,EAAE,4BAA4B;qBACzC;oBACD,EAAE,KAAK,EAAE,eAAe,EAAE,UAAU,EAAE,EAAE,EAAE;iBAC3C;gBACD,WAAW,EAAE,CAAC,uDAAS,CAAC;aACzB;YACD;gBACE,IAAI,EAAE,QAAQ;gBACd,SAAS,EAAE,oGAAsB;gBACjC,IAAI,EAAE;oBACJ,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,kBAAkB,EAAE;oBACjD;wBACE,KAAK,EAAE,QAAQ;wBACf,UAAU,EAAE,kBAAkB;qBAC/B;iBACF;gBACD,WAAW,EAAE,CAAC,uDAAS,CAAC;aACzB;YAED;gBACE,IAAI,EAAE,qBAAqB;gBAC3B,SAAS,EAAE,mGAAwB;gBACnC,IAAI,EAAE;oBACJ,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,+BAA+B,EAAE;oBAC9D;wBACE,KAAK,EAAE,qBAAqB;wBAC5B,UAAU,EAAE,+BAA+B;qBAC5C;iBACF;gBACD,WAAW,EAAE,CAAC,uDAAS,CAAC;aACzB;YACD;gBACE,IAAI,EAAE,2DAA2D;gBACjE,SAAS,EAAE,oHAAuB;gBAClC,IAAI,EAAE;oBACJ,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,+BAA+B,EAAE;oBAC9D;wBACE,KAAK,EAAE,qBAAqB;wBAC5B,UAAU,EAAE,+BAA+B;qBAC5C;oBACD,EAAE,KAAK,EAAE,iBAAiB,EAAE,UAAU,EAAE,EAAE,EAAE;iBAC7C;gBACD,WAAW,EAAE,CAAC,uDAAS,CAAC;aACzB;YACD;gBACE,IAAI,EAAE,qEAAqE;gBAC3E,SAAS,EAAE,oHAAuB;gBAClC,IAAI,EAAE;oBACJ,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,+BAA+B,EAAE;oBAC9D;wBACE,KAAK,EAAE,qBAAqB;wBAC5B,UAAU,EAAE,+BAA+B;qBAC5C;oBACD,EAAE,KAAK,EAAE,kBAAkB,EAAE,UAAU,EAAE,EAAE,EAAE;iBAC9C;gBACD,WAAW,EAAE,CAAC,uDAAS,CAAC;aACzB;YACD;gBACE,IAAI,EAAE,mBAAmB;gBACzB,SAAS,EAAE,qHAAwB;gBACnC,IAAI,EAAE;oBACJ,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,wBAAwB,EAAE;oBACvD,EAAE,KAAK,EAAE,UAAU,EAAE,UAAU,EAAE,6BAA6B,EAAE;oBAChE,EAAE,KAAK,EAAE,mBAAmB,EAAE,UAAU,EAAE,EAAE,EAAE;iBAC/C;gBACD,WAAW,EAAE,CAAC,uDAAS,CAAC;aACzB;YACD;gBACE,IAAI,EAAE,gCAAgC;gBACtC,SAAS,EAAE,qHAAwB;gBACnC,IAAI,EAAE;oBACJ,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,wBAAwB,EAAE;oBACvD,EAAE,KAAK,EAAE,UAAU,EAAE,UAAU,EAAE,6BAA6B,EAAE;oBAChE,EAAE,KAAK,EAAE,mBAAmB,EAAE,UAAU,EAAE,mBAAmB,EAAE;oBAC/D,EAAE,KAAK,EAAE,uBAAuB,EAAE,UAAU,EAAE,EAAE,EAAE;iBACnD;gBACD,WAAW,EAAE,CAAC,uDAAS,CAAC;aACzB;YACD;gBACE,IAAI,EAAE,yCAAyC;gBAC/C,SAAS,EAAE,qHAAwB;gBACnC,IAAI,EAAE;oBACJ,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,wBAAwB,EAAE;oBACvD,EAAE,KAAK,EAAE,UAAU,EAAE,UAAU,EAAE,6BAA6B,EAAE;oBAChE,EAAE,KAAK,EAAE,mBAAmB,EAAE,UAAU,EAAE,mBAAmB,EAAE;oBAC/D,EAAE,KAAK,EAAE,wBAAwB,EAAE,UAAU,EAAE,EAAE,EAAE;iBACpD;gBACD,WAAW,EAAE,CAAC,uDAAS,CAAC;aACzB;YACD;gBACE,IAAI,EAAE,0CAA0C;gBAChD,SAAS,EAAE,qHAAwB;gBACnC,IAAI,EAAE;oBACJ,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,wBAAwB,EAAE;oBACvD,EAAE,KAAK,EAAE,UAAU,EAAE,UAAU,EAAE,6BAA6B,EAAE;oBAChE,EAAE,KAAK,EAAE,mBAAmB,EAAE,UAAU,EAAE,mBAAmB,EAAE;oBAC/D,EAAE,KAAK,EAAE,yBAAyB,EAAE,UAAU,EAAE,EAAE,EAAE;iBACrD;gBACD,WAAW,EAAE,CAAC,uDAAS,CAAC;aACzB;YACD;gBACE,IAAI,EAAE,kBAAkB;gBACxB,SAAS,EAAE,gGAAuB;gBAClC,IAAI,EAAE;oBACJ,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,wBAAwB,EAAE;oBACvD;wBACE,KAAK,EAAE,kBAAkB;wBACzB,UAAU,EAAE,4BAA4B;qBACzC;iBACF;gBACD,WAAW,EAAE,CAAC,uDAAS,CAAC;aACzB;YACD;gBACE,IAAI,EAAE,0BAA0B;gBAChC,SAAS,EAAE,8HAA2B;gBACtC,IAAI,EAAE;oBACJ,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,wBAAwB,EAAE;oBACvD;wBACE,KAAK,EAAE,2BAA2B;wBAClC,UAAU,EAAE,oCAAoC;qBACjD;iBACF;gBACD,WAAW,EAAE,CAAC,uDAAS,CAAC;aACzB;YACD;gBACE,IAAI,EAAE,8BAA8B;gBACpC,SAAS,EAAE,oGAAmB;gBAC9B,IAAI,EAAE;oBACJ,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,wBAAwB,EAAE;oBACvD;wBACE,KAAK,EAAE,kBAAkB;wBACzB,UAAU,EAAE,4BAA4B;qBACzC;oBACD,EAAE,KAAK,EAAE,sBAAsB,EAAE,UAAU,EAAE,EAAE,EAAE;iBAClD;gBACD,WAAW,EAAE,CAAC,uDAAS,CAAC;aACzB;YACD;gBACE,IAAI,EAAE,uCAAuC;gBAC7C,SAAS,EAAE,oGAAmB;gBAC9B,IAAI,EAAE;oBACJ,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,wBAAwB,EAAE;oBACvD;wBACE,KAAK,EAAE,kBAAkB;wBACzB,UAAU,EAAE,4BAA4B;qBACzC;oBACD,EAAE,KAAK,EAAE,uBAAuB,EAAE,UAAU,EAAE,EAAE,EAAE;iBACnD;gBACD,WAAW,EAAE,CAAC,uDAAS,CAAC;aACzB;SACF;KACF;CACF,CAAC;AAMK,MAAM,gBAAgB;;gFAAhB,gBAAgB;8GAAhB,gBAAgB;kHAHjB,kEAAoB,CAAC,MAAM,EAAE,EAAE,sBAAsB,EAAE,QAAQ,EAAE,CAAC,EAClE,0DAAY;oIAEX,gBAAgB,qFAFjB,0DAAY;;;;;;;;;;;;;;;;;;;;;;;;;AC/oBD;AAE2B;;;;;;;;;;;;AAc3C,MAAM,YAAY;IACvB,YACU,MAAc,EACd,GAAsB,EACtB,mBAAwC,EACxC,WAAwB,EACxB,WAAwB,EACxB,YAA0B;QAL1B,WAAM,GAAN,MAAM,CAAQ;QACd,QAAG,GAAH,GAAG,CAAmB;QACtB,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,gBAAW,GAAX,WAAW,CAAa;QACxB,gBAAW,GAAX,WAAW,CAAa;QACxB,iBAAY,GAAZ,YAAY,CAAc;QAEpC,UAAK,GAAG,QAAQ,CAAC;IADd,CAAC;IAOJ,QAAQ;QACN,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,SAAS,EAAE,EAAE;YACtD,IAAI,CAAC,OAAO,GAAG,SAAS,CAAC;QAC3B,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE,CAAC;QAE7B,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,SAAS,CAAC,CAAC,GAAG,EAAE,EAAE;YACpD,IAAI,GAAG,CAAC,MAAM,EAAE;gBACd,IAAI,CAAC,wBAAwB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;aAC1C;iBAAM;gBACL,IAAI,CAAC,EAAE,IAAI,IAAI,CAAC,EAAE,CAAC,IAAI,EAAE,CAAC;aAC3B;QACH,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;YAC9C,IAAI,CAAC,IAAI,EAAE;gBACT,IAAI,CAAC,WAAW,CAAC,YAAY,EAAE,CAAC;aACjC;iBAAM;gBACL,IAAI,CAAC,WAAW,CAAC,qBAAqB,EAAE,CAAC;aAC1C;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,qBAAqB;QACnB,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC;IAC3B,CAAC;IAED,wBAAwB,CAAC,KAAU;QACjC,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;YAC/B,OAAO,EAAE,+BAA+B,KAAK,0BAA0B;YACvE,GAAG,EAAE,gBAAgB;YACrB,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC;gBAC/B,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE,CAAC;YAC/B,CAAC;YACD,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,MAAM,EAAE,CAAC;YAChB,CAAC;SACF,CAAC,CAAC;IACL,CAAC;IAED,MAAM;QACJ,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC;QAC/B,IAAI,CAAC,WAAW,CAAC,YAAY,EAAE,CAAC;QAChC,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACxC,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC,CAAC;QAC5D,YAAY,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QACjC,YAAY,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;QACpC,YAAY,CAAC,UAAU,CAAC,gBAAgB,CAAC,CAAC;QAC1C,YAAY,CAAC,UAAU,CAAC,qBAAqB,CAAC,CAAC;QAC/C,YAAY,CAAC,KAAK,EAAE,CAAC;QACrB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,0BAA0B,CAAC,CAAC;QAC9D,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;IAClC,CAAC;;wEArEU,YAAY;0GAAZ,YAAY;;;;;qFAFZ,CAAC,4DAAmB,CAAC;;QCpBlC,+EAAmE;QAAA,oEAA+E;QAClJ,4DAAY;QACZ,2EAA+B;QAE/B,wFAAqI;QAO/H,gRAAS,sEAAW,KAAC;QACtB,4DAAS;QAEV,4EAMC;QADC,gRAAS,sEAAW,KAAC;QACtB,4DAAS;QAGd,qEAAmB;;QAvBR,4FAAmC;QAIoE,0DAAkB;QAAlB,2EAAkB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJ1E;AACf;AACoC;AAMjD;AAC6C;AACJ;AACN;AAErB;AACE;AACE;AACF;AACJ;AACU;AACA;AACF;AACM;AACA;AACd;AACM;AACM;AAKvB;AACyB;AACR;AACE;AACU;AACR;AACF;AACI;AACV;AACQ;AAEP;AAEW;AACT;AACa;AACH;AACmB;AACY;AACmB;AACuB;AAC3C;AACO;AACF;AACG;AACkB;AAC3B;AACpB;AACmC;AACC;AACV;AACH;AACK;AAClD;AACI;AACE;AACE;AACE;AACV;AAEuD;AACD;AACT;AACN;AAChC;AAC+C;AACQ;AACC;AACA;AACO;AACxD;AACuC;AACvC;AAC2C;AACf;AACI;AAC0B;AACpE;AAEmD;AACA;AACT;AACyB;AACA;AAEJ;AACnB;AACC;AACqB;AAEX;AAC/C;AACmC;AACF;AACyC;AACA;AAC/B;AAChB;;;;AAEnF,kDAAkD;AAC3C,SAAS,iBAAiB,CAAC,UAAsB;IACtD,OAAO,IAAI,4EAAmB,CAAC,UAAU,CAAC,CAAC;AAC7C,CAAC;AAoHM,MAAM,SAAS;;kEAAT,SAAS;uGAAT,SAAS,cAFR,wDAAY;4GAXb;QACT,wDAAe;QACf;YACE,OAAO,EAAE,oEAAiB;YAC1B,QAAQ,EAAE,qFAA0B;YACpC,KAAK,EAAE,IAAI;SACZ;QACD,sDAAQ;QACR,wDAAc;QACd,6DAAmB;KACpB,YAzDC,qEAAa;QACb,0FAAuB;QACvB,iEAAgB;QAChB,mEAAgB;QAChB,uDAAW;QACX,6DAAc;QACd,wDAAW;QACX,2DAAa;QACb,yDAAY;QACZ,qDAAU;QACV,gEAAmB;QACnB,+DAAe;QACf,mEAAiB;QACjB,mEAAiB;QACjB,qDAAU;QACV,2DAAa;QACb,iEAAgB;QAChB,uEAAmB;QACnB,mEAAiB;QACjB,2DAAa;QACb,6DAAc;QACd,uEAAmB;QACnB,+DAAe;QACf,+DAAe;QACf,6DAAc;QACd,mEAAiB;QACjB,iEAAgB;QAChB,uDAAW;QACX,+DAAe;QACf,yEAAuB,CAAC;YACtB,MAAM,EAAE;gBACN,OAAO,EAAE,iEAAe;gBACxB,UAAU,EAAE,iBAAiB;gBAC7B,IAAI,EAAE,CAAC,6DAAU,CAAC;aACnB;SACF,CAAC;QACF,+DAAe;QACf,yDAAY;QACZ,uDAAW;QACX,2DAAa;QACb,6DAAc;QACd,iEAAgB;QAChB,sEAAsB,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;QAChE,qEAAkB;QAClB,2DAAe;QACf,uDAAW;oIAeF,SAAS,mBAhHlB,wDAAY;QACZ,qEAAe;QACf,kEAAc;QACd,iGAAuB;QACvB,oHAAwB;QACxB,2IAA+B;QAC/B,gGAAmB;QACnB,uGAAqB;QACrB,sGAAqB;QACrB,2HAAwB;QACxB,yGAAoB;QACpB,gGAAkB;QAClB,+GAAuB;QACvB,gHAAwB;QACxB,sGAAsB;QACtB,mGAAwB;QACxB,wGAAoB;QACpB,6GAAsB;QACtB,4GAAqB;QACrB,mGAAqB;QACrB,6FAAmB;QACnB,4GAA2B;QAC3B,oHAAuB;QACvB,qHAAwB;QACxB,qHAAwB;QACxB,4HAAyB;QACzB,2GAAuB;QACvB,oEAAiB;QACjB,+GAAoB;QACpB,gGAAuB;QACvB,oGAAmB;QACnB,8HAA2B;QAC3B,6GAAsB;QACtB,6GAAsB;QACtB,oGAAsB;QACtB,6HAA0B;QAC1B,6HAA0B;QAE1B,yHAA2B;QAC3B,sGAAmB;QACnB,uGAAqB;QACrB,4HAA2B;QAE3B,iHAAuB;QACvB,qGAAoB;QACpB,mGAAwB;QACxB,4IAA2B;QAC3B,4IAA2B;QAC3B,6GAAkB;QAClB,6FAAoB,aAGpB,qEAAa;QACb,0FAAuB;QACvB,iEAAgB;QAChB,mEAAgB;QAChB,uDAAW;QACX,6DAAc;QACd,wDAAW;QACX,2DAAa;QACb,yDAAY;QACZ,qDAAU;QACV,gEAAmB;QACnB,+DAAe;QACf,mEAAiB;QACjB,mEAAiB;QACjB,qDAAU;QACV,2DAAa;QACb,iEAAgB;QAChB,uEAAmB;QACnB,mEAAiB;QACjB,2DAAa;QACb,6DAAc;QACd,uEAAmB;QACnB,+DAAe;QACf,+DAAe;QACf,6DAAc;QACd,mEAAiB;QACjB,iEAAgB;QAChB,uDAAW;QACX,+DAAe,qEAQf,+DAAe;QACf,yDAAY;QACZ,uDAAW;QACX,2DAAa;QACb,6DAAc;QACd,iEAAgB,kEAEhB,qEAAkB;QAClB,2DAAe;QACf,uDAAW;;;;;;;;;;;;;;;;;;;AC9MU;;;;;AASlB,MAAM,SAAS;IACpB,YACU,WAAwB,EACxB,MAAc,EACd,WAAwB;QAFxB,gBAAW,GAAX,WAAW,CAAa;QACxB,WAAM,GAAN,MAAM,CAAQ;QACd,gBAAW,GAAX,WAAW,CAAa;IAC/B,CAAC;IACJ,WAAW,CACT,KAA6B,EAC7B,KAA0B;QAM1B,IAAI,IAAI,CAAC,WAAW,CAAC,UAAU,EAAE,EAAE;YACjC,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;YAC1B,IAAI,KAAK,CAAC,aAAa,CAAC,CAAC,MAAM,CAAC,IAAI,OAAO,EAAE;gBAC3C,OAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;gBAC/B,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;gBACrC,OAAO,IAAI,CAAC;aACb;YACD,IAAI,KAAK,CAAC,aAAa,CAAC,CAAC,MAAM,CAAC,IAAI,kBAAkB,EAAE;gBACtD,OAAO,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAC;gBACxC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;gBACrC,OAAO,IAAI,CAAC;aACb;YACD,IAAI,KAAK,CAAC,aAAa,CAAC,CAAC,MAAM,CAAC,IAAI,WAAW,EAAE;gBAC/C,OAAO,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC;gBACnC,OAAO,IAAI,CAAC;aACb;iBAAM;gBACL,sCAAsC;gBACtC,IAAI,YAAY,CAAC,OAAO,CAAC,qBAAqB,CAAC,EAAE;oBAC/C,OAAO,CAAC,GAAG,CAAC,4BAA4B,CAAC,CAAC;oBAC1C,OAAO,IAAI,CAAC;iBACb;qBAAM;oBACL,OAAO,CAAC,GAAG,CAAC,+BAA+B,CAAC,CAAC;oBAC7C,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;oBACrC,OAAO,KAAK,CAAC;iBACd;aACF;SACF;aAAM;YACL,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;YAC9B,IAAI,KAAK,CAAC,aAAa,CAAC,CAAC,MAAM,CAAC,IAAI,OAAO,EAAE;gBAC3C,OAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;gBAC/B,OAAO,IAAI,CAAC;aACb;YACD,IAAI,KAAK,CAAC,aAAa,CAAC,CAAC,MAAM,CAAC,IAAI,kBAAkB,EAAE;gBACtD,OAAO,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAC;gBACxC,OAAO,IAAI,CAAC;aACb;YAED,sBAAsB;YACtB,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC,CAAC,CAAC;YAC1D,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,8DAA8D,CAC/D,CAAC;YACF,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,kBAAkB,CAAC,CAAC,CAAC;YAC3C,OAAO,KAAK,CAAC;SACd;IACH,CAAC;;kEA3DU,SAAS;0GAAT,SAAS,WAAT,SAAS,mBAFR,MAAM;;;;;;;;;;;;;;;;;;;;;;;;ACZmB;AAEH;AAEE;;;;;;;AAQ/B,MAAM,WAAW;IACtB,YACU,MAAc,EACd,WAAwB,EACxB,MAAuB,EACvB,IAAgB,EAChB,QAAyB;QAJzB,WAAM,GAAN,MAAM,CAAQ;QACd,gBAAW,GAAX,WAAW,CAAa;QACxB,WAAM,GAAN,MAAM,CAAiB;QACvB,SAAI,GAAJ,IAAI,CAAY;QAChB,aAAQ,GAAR,QAAQ,CAAiB;QAGnC,gBAAW,GAAG,IAAI,iDAAe,CAAO,IAAI,CAAC,CAAC;QAC9C,uBAAkB,GAAG,IAAI,iDAAe,CAAmC;YACzE,MAAM,EAAE,KAAK;SACd,CAAC,CAAC;IALA,CAAC;IAcJ,UAAU;QACR,OAAO,CAAC,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;IAC5C,CAAC;IAED,MAAM;QACJ,IAAI,CAAC,WAAW,EAAE,CAAC;QACnB,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC,CAAC,CAAC;QAC1D,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC5B,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC,CAAC;QAChD,YAAY,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QACjC,YAAY,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;QACpC,YAAY,CAAC,UAAU,CAAC,gBAAgB,CAAC,CAAC;QAC1C,YAAY,CAAC,UAAU,CAAC,qBAAqB,CAAC,CAAC;QAC/C,YAAY,CAAC,KAAK,EAAE,CAAC;QACrB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,8DAA8D,CAC/D,CAAC;QACF,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,kBAAkB,CAAC,CAAC,CAAC;IAC7C,CAAC;IAED,UAAU,CAAC,WAAgB;QACzB,IAAI,WAAW,IAAI,CAAC,EAAE;YACpB,IAAI,CAAC,MAAM,EAAE,CAAC;SACf;aAAM;YACL,IAAI,CAAC,qBAAqB,CAAC,WAAW,CAAC,CAAC;YACxC,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC,GAAG,EAAE;gBAChC,IAAI,CAAC,MAAM,EAAE,CAAC;YAChB,CAAC,EAAE,WAAW,CAAC,CAAC;SACjB;IACH,CAAC;IAED,WAAW;QACT,IAAI,IAAI,CAAC,UAAU,EAAE;YACnB,aAAa,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;SAChC;QACD,IAAI,IAAI,CAAC,iBAAiB,EAAE;YAC1B,aAAa,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;SACvC;IACH,CAAC;IAED,qBAAqB,CAAC,WAAgB;QACpC,IAAI,WAAW,IAAI,MAAM,EAAE;YACzB,IAAI,CAAC,iBAAiB,GAAG,UAAU,CAAC,GAAG,EAAE;gBACvC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,WAAW,EAAE,CAAC,CAAC;YACrE,CAAC,EAAE,WAAW,GAAG,MAAM,CAAC,CAAC;SAC1B;aAAM;YACL,IAAI,UAAU,GACZ,WAAW,GAAG,IAAI,GAAG,EAAE;gBACrB,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,WAAW,GAAG,CAAC,IAAI,GAAG,EAAE,CAAC,CAAC,SAAS;gBACnD,CAAC,CAAC,oBAAoB,CAAC;YAC3B,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,UAAU,EAAE,CAAC,CAAC;SACnE;IACH,CAAC;IAED,SAAS;QACP,IAAI,QAAQ,GAOR,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;QACjD,IAAI,CAAC,QAAQ,EAAE;YACb,OAAO;SACR;QAED,IAAI,IAAI,GAAG,IAAI,6CAAI,CACjB,QAAQ,CAAC,SAAS,CAAC,EACnB,QAAQ,CAAC,WAAW,CAAC,EACrB,QAAQ,CAAC,QAAQ,CAAC,EAClB,QAAQ,CAAC,UAAU,CAAC,EACpB,QAAQ,CAAC,QAAQ,CAAC,EAClB,QAAQ,CAAC,gBAAgB,CAAC,EAC1B,QAAQ,CAAC,UAAU,CAAC,CACrB,CAAC;QAEF,IAAI,QAAQ,CAAC,gBAAgB,CAAC,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,IAAI,CAAC,EAAE;YAC1D,IAAI,CAAC,MAAM,EAAE,CAAC;SACf;aAAM;YACL,IAAI,CAAC,iBAAiB,EAAE,CAAC;SAC1B;IACH,CAAC;IAED,iBAAiB;QACf,IAAI,CAAC,gBAAgB,CAAC;YACpB,8BAA8B;YAC9B,QAAQ,EAAE,SAAS;YACnB,QAAQ,EAAE,UAAU;SACrB,CAAC;aACC,IAAI,CAAC,oDAAI,CAAC,CAAC,CAAC,CAAC;aACb,SAAS,CACR,CAAC,IAAS,EAAE,EAAE;YACZ,IAAI,IAAI,IAAI,IAAI,CAAC,GAAG,EAAE;gBACpB,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;aACxC;iBAAM;gBACL,IAAI,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;aAC/D;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACnB,CAAC,CACF,CAAC;IACN,CAAC;IAED,uBAAuB,CAAC,KAAU;QAChC,IAAI,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;QACvD,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;QACxD,IAAI,UAAU,GAAG,IAAI,6CAAI,CACvB,IAAI,CAAC,SAAS,CAAC,EACf,IAAI,CAAC,WAAW,CAAC,EACjB,IAAI,CAAC,QAAQ,CAAC,EACd,IAAI,CAAC,UAAU,CAAC,EAChB,KAAK,EACL,IAAI,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,CAAC,OAAO,EAAE,EACjC,IAAI,CAAC,UAAU,CAAC,CACjB,CAAC;QAEF,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAClC,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,IAAI,CAAC;YACnC,EAAE,IAAI,EAAE,SAAS,EAAE;YACnB,EAAE,IAAI,EAAE,QAAQ,EAAE;SACnB,CAAC,CAAC;QACH,YAAY,CAAC,OAAO,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;QACrC,YAAY,CAAC,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC;IAC/D,CAAC;IAED,gBAAgB,CAAC,IAAS;QACxB,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,qCAAqC,EAAE,IAAI,CAAC,CAAC;IACrE,CAAC;IAED,2BAA2B;IAE3B,qBAAqB;QACnB,qCAAqC;QACrC,IAAI,CAAC,aAAa,EAAE,CAAC;QAErB,6CAA6C;QAC7C,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC,SAAS,CAAC,CAAC,KAAK,EAAE,EAAE;YAC3D,IAAI,KAAK,IAAI,CAAC,EAAE;gBACd,IAAI,IAAI,CAAC,UAAU,EAAE,EAAE;oBACrB,IAAI,CAAC,WAAW,EAAE,CAAC;oBACnB,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC,CAAC;iBACpC;aACF;QACH,CAAC,CAAC,CAAC;QAEH,+BAA+B;QAC/B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,SAAS,EAAE,CAAC,SAAS,CAAC,GAAG,EAAE;YAChD,IAAI,IAAI,CAAC,UAAU,EAAE,EAAE;gBACrB,IAAI,CAAC,MAAM,EAAE,CAAC;aACf;QACH,CAAC,CAAC,CAAC;QAEH,iBAAiB;QACjB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,oDAAI,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,EAAE;YAC5D,IAAI,IAAI,CAAC,UAAU,EAAE,EAAE;gBACrB,IAAI,CAAC,iBAAiB,EAAE,CAAC;aAC1B;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,SAAS;QACP,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC;IAC5B,CAAC;IAED,YAAY;QACV,OAAO,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE,CAAC;IACtC,CAAC;IAED,SAAS;QACP,OAAO,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC;IACnC,CAAC;IACD,sBAAsB;QACpB,OAAO,IAAI,CAAC,QAAQ,CAAC,mBAAmB,EAAE,CAAC;IAC7C,CAAC;IAED,YAAY;QACV,IAAI,CAAC,UAAU,EAAE,WAAW,EAAE,CAAC;QAC/B,IAAI,CAAC,aAAa,EAAE,WAAW,EAAE,CAAC;QAClC,IAAI,CAAC,KAAK,EAAE,WAAW,EAAE,CAAC;QAC1B,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE,CAAC;IAC/B,CAAC;IAED,aAAa;QACX,IAAI,CAAC,QAAQ,CAAC,aAAa,EAAE,CAAC;IAChC,CAAC;IAED,YAAY;QACV,IAAI,CAAC,QAAQ,CAAC,UAAU,EAAE,CAAC;IAC7B,CAAC;IAED,eAAe;QACb,OAAO,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC;IAC7B,CAAC;;sEAxNU,WAAW;4GAAX,WAAW,WAAX,WAAW,mBAFV,MAAM;;;;;;;;;;;;;;;ACZb,MAAM,IAAI;IACf,YACU,OAAe,EACf,SAAiB,EACjB,MAAc,EACd,QAAgB,EAChB,MAAc,EACd,cAAsB,EACtB,QAAgB;QANhB,YAAO,GAAP,OAAO,CAAQ;QACf,cAAS,GAAT,SAAS,CAAQ;QACjB,WAAM,GAAN,MAAM,CAAQ;QACd,aAAQ,GAAR,QAAQ,CAAQ;QAChB,WAAM,GAAN,MAAM,CAAQ;QACd,mBAAc,GAAd,cAAc,CAAQ;QACtB,aAAQ,GAAR,QAAQ,CAAQ;IACvB,CAAC;IAEJ,IAAI,KAAK;QACP,IAAI,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC,cAAc,EAAE;YAC9C,OAAO,IAAI,CAAC;SACb;QACD,OAAO,IAAI,CAAC,MAAM,CAAC;IACrB,CAAC;CACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACfiE;AACZ;AAKX;AACX;AAGqE;AAM7E;AAEuB;;;;;;;;;;;;;;;;;;;;;;;ICuD/B,6EAQC;IADC,wSAAS,2EAAU,KAAC;IACrB,4DAAS;;;IAHR,4HAAqD;;;;IAgDnE,0EAGC;IAYY,qEAAU;IAAA,4DAAI;IACjB,4EAAiE;IAAnC,oZAAuB;IAArD,4DAAiE;IAGrE,0EAAmD;IAG7C,iFAAoB;IAAA,4EAAmC;IAAA,6DAAC;IAAA,4DAAO;IAEjE,6EAOE;IAJA,4ZAA8B;IAHhC,4DAOE;;;IAtBF,0DAIC;IAJD,gLAIC;IAG6B,0DAAuB;IAAvB,qFAAuB;IAWnD,0DAA8B;IAA9B,4FAA8B;;;;IAU1C,2FA8BC;IAVC,yVAAoB,uFAAqB,KAAC,6SAChB,gGAA8B,KADd,6SAG/B,uJAKd,KAR6C;IAU3C,4DAAmB;;;IA3BlB,yGAAyC;;;IA+CrC,6EAAwD;IACtD,uDACF;IAAA,4DAAS;;IADP,0DACF;IADE,uFACF;;;IAmBU,2EAA+C;IAAA,4DAAC;IAAA,4DAAO;;;IARzD,yEAMC;IACC,uDACA;IAAA,+IAAuD;IACzD,4DAAK;;;IAJH,qFAAwB;IAExB,0DACA;IADA,0FACA;IAAwB,0DAAqB;IAArB,qFAAqB;;;IATjD,qEAAI;IACF,sIASK;IACP,4DAAK;;;IATe,0DAAgC;IAAhC,0GAAgC;;;IA+C1C,0EAA2B;IACpB,uDAAsB;IAAA,4DAAM;;;IAA5B,0DAAsB;IAAtB,qFAAsB;;;;IA1BnC,0EAGC;IAYG,ugBAC6B,yFAAmB,OAAO,8BACtD;IAOD,mKAIc;IAAA,4DACf;;;;;IAxBC,0DAAyC;IAAzC,0GAAyC;;;;IA0B7C,0EAGC;IAEG,giBAAgC;IADlC,4DAKE;;;;IAPF,4GAA2C;IAGzC,0DAAgC;IAAhC,+FAAgC;;;;;IAMpC,0EAGC;IAMK,oaAAS,oGAA8B,KAAC;IAJ1C,4DASE;IACF,sEAGQ;IACV,4DAAQ;;;;;IAZJ,0DAA+B;IAA/B,gGAA+B;IAU/B,0DAAqC;IAArC,+JAAqC;;;IApE7C,yEAQC;IACC,6IA8BM;IACN,6IAUM;IACN,6IAoBM;IACR,4DAAK;;;IAjEH,qFAAwB;IAGrB,0DAAoC;IAApC,oGAAoC;IA+BpC,0DAAgC;IAAhC,gGAAgC;IAWhC,0DAA6B;IAA7B,6FAA6B;;;IArDpC,qEAAI;IACF,sIAwEK;IACP,4DAAK;;;IAvEgC,0DAE3C;IAF2C,0GAE3C;;;IAyEM,qEAAI;IAEA,2EACF;IAAA,4DAAK;;;IAFD,0DAAqD;IAArD,kHAAqD;;;IA3HzE,0EAGC;IAIO,8EACA;IAAA,qEAKE;IACJ,4DAAI;IAEN,0EAAoC;IAEhC,+HAES;IACT,0EAAsC;IAQlC,2IAac;IACd,2IA4Ec;IAEd,2IAMc;IAChB,4DAAU;;;IA9Gc,0DAA4B;IAA5B,+FAA4B;IAMlD,0DAAoC;IAApC,oGAAoC;;;IA+GlD,0EAKC;IAEuB,qEAAsC;IAAA,4DAAM;IAElE,yEAAiB;IAEV,2EAAgB;IAAA,4DAAI;;AD3TtB,MAAM,qBAAqB;IAqGhC,YACU,kBAAsC,EACtC,cAA8B,EAC/B,aAA4B,EAC5B,cAA8B,EAC7B,MAAc,EACd,KAAqB,EACrB,WAAwB,EACxB,kBAAsC,EACtC,mBAAwC,EACxC,mBAAwC,EACxC,EAAsB;QAVtB,uBAAkB,GAAlB,kBAAkB,CAAoB;QACtC,mBAAc,GAAd,cAAc,CAAgB;QAC/B,kBAAa,GAAb,aAAa,CAAe;QAC5B,mBAAc,GAAd,cAAc,CAAgB;QAC7B,WAAM,GAAN,MAAM,CAAQ;QACd,UAAK,GAAL,KAAK,CAAgB;QACrB,gBAAW,GAAX,WAAW,CAAa;QACxB,uBAAkB,GAAlB,kBAAkB,CAAoB;QACtC,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,OAAE,GAAF,EAAE,CAAoB;QA5GhC,iBAAY,GAAG,sBAAsB,CAAC;QAEtC,WAAM,GAAG,EAAE,CAAC;QACZ,YAAO,GAAG,EAAE,CAAC;QACb,SAAI,GAAG,KAAK,CAAC;QACb,aAAQ,GAAG,eAAe,CAAC;QAE3B,cAAS,GAAQ,SAAS,CAAC;QAC3B,qBAAgB,GAAQ,EAAE,CAAC;QAE3B,gBAAW,GAAY,KAAK,CAAC;QAC7B,eAAU,GAAQ,EAAE,CAAC;QAErB,wBAAmB,GAAY,KAAK,CAAC;QAErC,+BAA0B,GAAQ,IAAI,CAAC;QACvC,+BAA0B,GAAQ,IAAI,CAAC;QACvC,eAAU,GAAG,MAAM,CAAC,IAAI,CAAC;QACzB,eAAU,GAAG,KAAK,CAAC;QAEnB,yBAAoB,GAAQ,EAAE,CAAC;QAE/B,uBAAkB,GAAQ,EAAE,CAAC;QAC7B,4BAAuB,GAAQ,EAAE,CAAC;QAClC,wBAAmB,GAAG,EAAE,CAAC;QACzB,yBAAoB,GAAQ,EAAE,CAAC;QAC/B,0BAAqB,GAAQ,EAAE,CAAC;QAChC,2BAAsB,GAAQ,EAAE,CAAC;QACjC,uBAAkB,GAAQ,EAAE,IAAI,EAAE,YAAY,EAAE,IAAI,EAAE,kBAAkB,EAAE,CAAC;QAC3E,gCAA2B,GAAQ,EAAE,CAAC;QACtC,0BAAqB,GAAG,EAAE,CAAC;QAC3B,6BAAwB,GAAG,EAAE,CAAC;QAC9B,4BAAuB,GAAG,EAAE,CAAC;QAE7B,iBAAY,GAAU,EAAE,CAAC;QACzB,qBAAgB,GAAU,EAAE,CAAC;QAE7B,gCAA2B,GAAG,IAAI,CAAC;QAEnC,iBAAY,GAAY,KAAK,CAAC;QAC9B,2BAAsB,GAAY,KAAK,CAAC;QAExC,0BAAqB,GAAU,EAAE,CAAC;QAClC,sBAAiB,GAAG,KAAK,CAAC;QAC1B,kCAA6B,GAAU,EAAE,CAAC;QAC1C,gBAAW,GAAU;YACnB;gBACE,KAAK,EAAE,iBAAiB;gBACxB,MAAM,EAAE,UAAU;gBAClB,WAAW,EAAE,IAAI;gBACjB,SAAS,EAAE,UAAU;gBACrB,MAAM,EAAE,KAAK;gBACb,IAAI,EAAE,IAAI;aACX;YACD;gBACE,KAAK,EAAE,wBAAwB;gBAC/B,MAAM,EAAE,kBAAkB;gBAC1B,WAAW,EAAE,IAAI;gBACjB,SAAS,EAAE,UAAU;gBACrB,MAAM,EAAE,KAAK;gBACb,IAAI,EAAE,IAAI;aACX;YACD;gBACE,KAAK,EAAE,oBAAoB;gBAC3B,MAAM,EAAE,cAAc;gBACtB,WAAW,EAAE,IAAI;gBACjB,SAAS,EAAE,UAAU;gBACrB,MAAM,EAAE,KAAK;gBACb,IAAI,EAAE,IAAI;aACX;YACD;gBACE,KAAK,EAAE,UAAU;gBACjB,MAAM,EAAE,QAAQ;gBAChB,MAAM,EAAE,KAAK;gBACb,IAAI,EAAE,IAAI;aACX;SACF,CAAC;QACF,+BAA0B,GAAU,EAAE,CAAC;QAEvC,0BAAqB,GAAU,EAAE,CAAC;QAClC,iCAA4B,GAAU,EAAE,CAAC;QACzC,6BAAwB,GAAU,EAAE,CAAC;QAErC,4BAAuB,GAAQ,EAAE,CAAC;QAElC,6BAAwB,GAAU,EAAE,CAAC;QACrC,wBAAmB,GAAU,EAAE,CAAC;QAEhC,wBAAmB,GAAQ,EAAE,CAAC;QAE9B,yBAAoB,GAAY,KAAK,CAAC;QACtC,gBAAW,GAAY,KAAK,CAAC;QAE7B,qBAAgB,GAAG,EAAE,CAAC;QAEtB,oBAAe,GAAG,OAAO,CAAC;IAcvB,CAAC;IAKJ,QAAQ;QACN,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;QAClB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;YACjC,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAC1B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;QACrE,MAAM,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,MAAM,CAAC;QACnD,IAAI,MAAM,IAAI,MAAM,CAAC,EAAE,EAAE;YACvB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CACjE,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,CAAC,CACnE,CAAC;YACF,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,EAAE,CAAC;SAC1B;QAED,EAAE;QACF,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC,KAAK,CACxC,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAClC,CAAC;QACF,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;QACzE,IAAI,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,CAAC;QACjE,IAAI,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;QAEjE,IAAI,MAAM,GAAG,IAAI,CAAC;QAClB,IAAI,MAAM,GAAG,IAAI,CAAC;QAElB,IAAI,UAAU,EAAE;YACd,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;YACxB,MAAM,GAAG,IAAI,CAAC,wBAAwB,CAAC,MAAM,CAC3C,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,IAAI,UAAU,CAAC,eAAe,CAAC,IAAI,CACrD,CAAC,CAAC,CAAC,CAAC;YACL,MAAM,GAAG,IAAI,CAAC,mBAAmB,CAAC,MAAM,CACtC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,IAAI,UAAU,CAAC,UAAU,CAAC,IAAI,CAChD,CAAC,CAAC,CAAC,CAAC;SACN;aAAM;YACL,IAAI,SAAS,EAAE;gBACb,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC,CAAC;gBAC7D,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC;aACzD;SACF;QAED,IAAI,MAAM,EAAE;YACV,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;SACjC;QACD,IAAI,MAAM,EAAE;YACV,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;SACpC;QACD,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,IAAI,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE;YAC/C,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC;YACzB,IAAI,CAAC,eAAe,EAAE,CAAC;YACvB,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;YACjC,IAAI,IAAI,CAAC,IAAI,IAAI,KAAK,EAAE;gBACtB,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;gBACvB,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC;aAC3B;SACF;aAAM;YACL,IAAI,IAAI,CAAC,IAAI,IAAI,KAAK,EAAE;gBACtB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC;aAC/C;iBAAM;gBACL,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;aACxC;SACF;QACD,EAAE;QAEF,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,kBAAkB,CAAC,OAAO,EAAE,CAAC;QACpD,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QACvC,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,UAAU,EAAE;YAC9D,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;SACzB;IACH,CAAC;IAED,kBAAkB;QAChB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YACnC,YAAY,EAAE,IAAI,8DAAkB,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAE,EAAE;gBACnE,+DAAmB;aACpB,CAAC;YACF,OAAO,EAAE,IAAI,8DAAkB,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,EAAE;gBAC7D,+DAAmB;aACpB,CAAC;SACH,CAAC,CAAC;IACL,CAAC;IAED,IAAI,OAAO;QACT,OAAO,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;IAClD,CAAC;IACD,IAAI,UAAU;QACZ,OAAO,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;IAC7C,CAAC;IAED,gBAAgB;QACd,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QACzB,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;QAClC,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;QACxB,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC;IAC3B,CAAC;IAED,eAAe;QACb,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;QACrC,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QACvB,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;QAC3B,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;QACjC,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QACzB,IAAI,CAAC,qBAAqB,EAAE,CAAC;QAC7B,IAAI,CAAC,eAAe,EAAE,CAAC;IACzB,CAAC;IAED,yBAAyB,CAAC,SAAc,EAAE,SAAc;QACtD,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;QACrC,IAAI,CAAC,6BAA6B,GAAG,EAAE,CAAC;QAExC,IAAI,CAAC,6BAA6B,GAAG,IAAI,CAAC,KAAK,CAC7C,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CACjC,CAAC;QAEF,IAAI,CAAC,kBAAkB;aACpB,sBAAsB,CACrB,SAAS,EACT,SAAS,EACT,IAAI,CAAC,kBAAkB,CAAC,eAAe,EACvC,IAAI,CAAC,kBAAkB,CAAC,UAAU,EAClC,IAAI,CAAC,QAAQ,CACd;aACA,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;iBAClE;aACF;iBAAM;gBACL,IAAI,GAAG,CAAC,MAAM,CAAC,EAAE;oBACf,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;oBACxB,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;oBAC5D,IAAI,CAAC,gBAAgB;wBACnB,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;oBAE9C,IAAI,CAAC,YAAY;wBACf,IAAI,CAAC,kBAAkB,CAAC,uBAAuB,CAC7C,IAAI,CAAC,gBAAgB,EACrB,IAAI,CAAC,kBAAkB,EACvB,IAAI,CAAC,gBAAgB,CACtB,CAAC;oBAEJ,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC,WAAW,CAAC,CAAC;oBAClC,IAAI,GAAG,CAAC,WAAW,CAAC,EAAE;wBACpB,IAAI,CAAC,gBAAgB,GAAG,GAAG,CAAC,WAAW,CAAC,CAAC;qBAC1C;oBACD,IAAI,CAAC,mBAAmB,GAAG,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;oBAClD,IAAI,CAAC,0BAA0B,GAAG,GAAG,CAAC,aAAa,CAAC,CAAC;oBAErD,IAAI,CAAC,qBAAqB,GAAG,GAAG,CAAC,uBAAuB,CAAC,CAAC,GAAG,CAC3D,CAAC,MAAM,EAAE,EAAE;wBACT,OAAO,EAAE,IAAI,EAAE,MAAM,CAAC,IAAI,EAAE,QAAQ,EAAE,MAAM,CAAC,QAAQ,EAAE,CAAC;oBAC1D,CAAC,CACF,CAAC;oBACF,IAAI,CAAC,4BAA4B,GAAG,GAAG,CACrC,8BAA8B,CAC/B,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,EAAE;wBACf,OAAO,EAAE,IAAI,EAAE,MAAM,CAAC,IAAI,EAAE,QAAQ,EAAE,MAAM,CAAC,QAAQ,EAAE,CAAC;oBAC1D,CAAC,CAAC,CAAC;oBACH,IAAI,CAAC,wBAAwB,GAAG,GAAG,CACjC,0BAA0B,CAC3B,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,EAAE;wBACf,OAAO,EAAE,IAAI,EAAE,MAAM,CAAC,IAAI,EAAE,QAAQ,EAAE,MAAM,CAAC,QAAQ,EAAE,CAAC;oBAC1D,CAAC,CAAC,CAAC;oBAEH,IAAI,cAAc,GAAG,KAAK,CAAC;oBAC3B,IAAI,eAAe,GAAG,KAAK,CAAC;oBAE5B,IAAI,GAAG,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;wBAC5C,cAAc,GAAG,IAAI,CAAC;qBACvB;oBAED,IAAI,GAAG,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE;wBACpD,eAAe,GAAG,IAAI,CAAC;qBACxB;oBAED,IAAI,cAAc,IAAI,eAAe,EAAE;wBACrC,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;4BAC/C,KAAK,EAAE,UAAU;4BACjB,MAAM,EAAE,WAAW;4BACnB,SAAS,EAAE,MAAM;yBAClB,CAAC,CAAC;wBACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;4BAC/C,KAAK,EAAE,QAAQ;4BACf,MAAM,EAAE,SAAS;4BACjB,SAAS,EAAE,MAAM;yBAClB,CAAC,CAAC;wBACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;4BAC/C,KAAK,EAAE,eAAe;4BACtB,MAAM,EAAE,aAAa;4BACrB,SAAS,EAAE,MAAM;yBAClB,CAAC,CAAC;wBACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;4BAC/C,KAAK,EAAE,aAAa;4BACpB,MAAM,EAAE,WAAW;4BACnB,SAAS,EAAE,MAAM;yBAClB,CAAC,CAAC;wBAEH,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;qBACtC;yBAAM;wBACL,IAAI,cAAc,EAAE;4BAClB,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;gCAC/C,KAAK,EAAE,eAAe;gCACtB,MAAM,EAAE,aAAa;gCACrB,SAAS,EAAE,MAAM;6BAClB,CAAC,CAAC;4BACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;gCAC/C,KAAK,EAAE,aAAa;gCACpB,MAAM,EAAE,WAAW;gCACnB,SAAS,EAAE,MAAM;6BAClB,CAAC,CAAC;4BACH,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;yBACtC;6BAAM,IAAI,eAAe,EAAE;4BAC1B,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;gCAC/C,KAAK,EAAE,UAAU;gCACjB,MAAM,EAAE,WAAW;gCACnB,SAAS,EAAE,MAAM;6BAClB,CAAC,CAAC;4BACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;gCAC/C,KAAK,EAAE,QAAQ;gCACf,MAAM,EAAE,SAAS;gCACjB,SAAS,EAAE,MAAM;6BAClB,CAAC,CAAC;4BACH,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;yBACtC;6BAAM,IAAI,CAAC,cAAc,IAAI,CAAC,eAAe,EAAE;4BAC9C,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;yBACtC;qBACF;oBACD,IAAI,CAAC,0BAA0B,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC;oBAC9C,IAAI,CAAC,0BAA0B,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;wBAC/C,IAAI,QAAQ,GAAG,IAAI,CAAC,kBAAkB,CAAC,CAAC;wBAExC,IAAI,qBAAqB,GAAG,IAAI,CAAC;wBACjC,IAAI,mBAAmB,GAAG,IAAI,CAAC;wBAC/B,IAAI,qBAAqB,GAAG,IAAI,CAAC;wBAEjC,IAAI,QAAQ,IAAI,QAAQ,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE;4BACzC,IAAI,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,MAAM,IAAI,CAAC,EAAE;gCACtC,qBAAqB,GAAG,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;gCAClD,mBAAmB,GAAG,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;gCAChD,qBAAqB,GAAG,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;gCAElD,IAAI,mBAAmB,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE;oCACzC,IAAI,CAAC,eAAe,CAAC,GAAG,mBAAmB;yCACxC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;yCACd,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;oCACjB,IAAI,CAAC,aAAa,CAAC,GAAG,mBAAmB;yCACtC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;yCACd,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;iCAClB;gCAED,IAAI,qBAAqB,CAAC,QAAQ,CAAC,eAAe,CAAC,EAAE;oCACnD,IAAI,CAAC,UAAU,CAAC,GAAG,qBAAqB;yCACrC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;yCACd,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;oCACjB,IAAI,CAAC,QAAQ,CAAC,GAAG,qBAAqB;yCACnC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;yCACd,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;iCAClB;6BACF;iCAAM,IAAI,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,MAAM,IAAI,CAAC,EAAE;gCAC7C,qBAAqB,GAAG,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;gCAClD,mBAAmB,GAAG,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;gCAEhD,IAAI,mBAAmB,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE;oCACzC,IAAI,CAAC,eAAe,CAAC,GAAG,mBAAmB;yCACxC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;yCACd,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;oCACjB,IAAI,CAAC,aAAa,CAAC,GAAG,mBAAmB;yCACtC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;yCACd,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;iCAClB;qCAAM,IAAI,mBAAmB,CAAC,QAAQ,CAAC,eAAe,CAAC,EAAE;oCACxD,IAAI,CAAC,UAAU,CAAC,GAAG,mBAAmB;yCACnC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;yCACd,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;oCACjB,IAAI,CAAC,QAAQ,CAAC,GAAG,mBAAmB;yCACjC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;yCACd,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;iCAClB;6BACF;yBACF;6BAAM;yBACN;oBACH,CAAC,CAAC,CAAC;oBAEH,SAAS;oBAET,iDAAiD;oBACjD,mCAAmC;oBACnC,IAAI;oBAEJ,iCAAiC;oBACjC,mDAAmD;oBACnD,WAAW;oBACX,yDAAyD;oBACzD,yDAAyD;oBACzD,4BAA4B;oBAC5B,8BAA8B;oBAC9B,2BAA2B;oBAC3B,UAAU;oBACV,qDAAqD;oBAErD,0DAA0D;oBAC1D,8CAA8C;oBAC9C,qBAAqB;oBACrB,qDAAqD;oBACrD,wCAAwC;oBACxC,qBAAqB;oBACrB,4DAA4D;oBAC5D,wCAAwC;oBACxC,qBAAqB;oBACrB,UAAU;oBACV,UAAU;oBACV,0DAA0D;oBAC1D,yDAAyD;oBACzD,gCAAgC;oBAChC,+BAA+B;oBAC/B,2BAA2B;oBAC3B,UAAU;oBACV,yDAAyD;oBACzD,8BAA8B;oBAC9B,6BAA6B;oBAC7B,2BAA2B;oBAC3B,UAAU;oBACV,qDAAqD;oBACrD,0DAA0D;oBAC1D,8CAA8C;oBAC9C,qBAAqB;oBACrB,0DAA0D;oBAC1D,qEAAqE;oBACrE,oDAAoD;oBACpD,wDAAwD;oBACxD,qEAAqE;oBACrE,oDAAoD;oBACpD,6DAA6D;oBAC7D,wCAAwC;oBACxC,qBAAqB;oBACrB,UAAU;oBACV,UAAU;oBACV,MAAM;oBACN,IAAI;oBAEJ,IAAI,CAAC,0BAA0B,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;wBAC/C,OAAO,IAAI,CAAC,EAAE,CAAC;wBACf,IAAI,CAAC,uBAAuB,CAAC,GAAG,IAAI,CAAC,qBAAqB,CAAC;wBAC3D,IAAI,CAAC,8BAA8B,CAAC;4BAClC,IAAI,CAAC,4BAA4B,CAAC;wBACpC,IAAI,CAAC,0BAA0B,CAAC;4BAC9B,IAAI,CAAC,wBAAwB,CAAC;wBAChC,IAAI,CAAC,QAAQ,CAAC,GAAG,QAAQ,CAAC;oBAC5B,CAAC,CAAC,CAAC;oBAEH,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,wCAAwC,CACzC,CAAC;oBACF,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;iBACxC;qBAAM;oBACL,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;oBACrC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;oBACvC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;oBACvC,IAAI,CAAC,6BAA6B,GAAG,EAAE,CAAC;oBACxC,IAAI,GAAG,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;wBACrB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;qBAC/C;yBAAM;wBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,6CAA6C,CAC9C,CAAC;qBACH;oBACD,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;iBACxC;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;YACzB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,OAAO,CAAC,GAAG,CAAC,oCAAoC,EAAE,GAAG,CAAC,CAAC;YACvD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,8CAA8C,CAC/C,CAAC;QACJ,CAAC,CACF,CAAC;IACN,CAAC;IAED,QAAQ,CAAC,IAAS;QAChB,IAAI,CAAC,qBAAqB,EAAE,CAAC;IAC/B,CAAC;IACD,qBAAqB;QACnB,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,IAAI,SAAS,GAAG,EAAE,CAAC;QACnB,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,EAAE;YAC5B,SAAS,GAAG,QAAQ,CAAC;YACrB,IAAI,GAAG,UAAU,CAAC;SACnB;aAAM;YACL,SAAS,GAAG,UAAU,CAAC;YACvB,IAAI,GAAG,YAAY,CAAC;SACrB;QACD,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;QAChD,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,WAAW,GAAG,EAAE,CAAC;QACrB,WAAW;YACT,mDAAmD;gBACnD,iBAAiB;gBACjB,IAAI;gBACJ,2BAA2B,IAAI,CAAC,SAAS,GAAG,CAAC;QAE/C,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;YAC/B,OAAO,EAAE,WAAW;YACpB,GAAG,EAAE,0BAA0B;YAC/B,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;gBAC7B,IAAI,CAAC,mBAAmB,EAAE,CAAC;YAC7B,CAAC;YACD,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;gBAC/B,IAAI,CAAC,mBAAmB,EAAE,CAAC;YAC7B,CAAC;SACF,CAAC,CAAC;IACL,CAAC;IACD,YAAY,CAAC,SAAc;QACzB,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QAExC,MAAM,QAAQ,GAAG,IAAI,QAAQ,EAAE,CAAC;QAChC,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;QACvC,QAAQ,CAAC,MAAM,CAAC,WAAW,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QAC7C,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;QACrC,QAAQ,CAAC,MAAM,CAAC,cAAc,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QACzD,QAAQ,CAAC,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC1D,QAAQ,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;QACvC,IAAI,CAAC,qBAAqB,CAAC,QAAQ,CAAC,CAAC;IACvC,CAAC;IAED,qBAAqB,CAAC,QAAa;QACjC,IAAI,CAAC,kBAAkB,CAAC,qBAAqB,CAAC,QAAQ,CAAC,CAAC,SAAS,CAC/D,CAAC,GAAG,EAAE,EAAE;YACN,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;iBAClE;aACF;iBAAM;gBACL,IAAI,OAAO,GAAG,EAAE,CAAC;gBACjB,IAAI,GAAG,CAAC,OAAO,CAAC,IAAI,MAAM,EAAE;oBAC1B,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;oBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;iBAC5C;qBAAM;oBACL,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;wBACd,OAAO,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC;wBACrB,IAAI,CAAC,WAAW,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC;wBACrC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;qBAC5C;yBAAM;wBACL,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;wBACvC,OAAO,GAAG,gDAAgD,CAAC;wBAC3D,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;qBAC5C;iBACF;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,OAAO,CAAC,GAAG,CAAC,gCAAgC,EAAE,GAAG,CAAC,CAAC;YACnD,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,CACF,CAAC;IACJ,CAAC;IAED,qBAAqB;QACnB,IAAI,IAAI,CAAC,IAAI,IAAI,KAAK,EAAE;YACtB,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;SACzC;QACD,8CAAQ,CAAC;YACP,kBAAkB,EAAE,IAAI,CAAC,kBAAkB,CAAC,qBAAqB,CAC/D,IAAI,CAAC,MAAM,EACX,IAAI,CAAC,QAAQ,EACb,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EACvB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAC3B;YACD,wBAAwB,EACtB,IAAI,CAAC,kBAAkB,CAAC,2BAA2B,CACjD,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EACvB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,EAC1B,IAAI,CAAC,QAAQ,CACd;SACJ,CAAC;aACC,IAAI,CACH,oDAAI,CAAC,CAAC,CAAC,EACP,mDAAG,CAAC,CAAC,QAAQ,EAAE,EAAE;YACf,IACE,QAAQ,CAAC,wBAAwB,CAAC,MAAM,CAAC;gBACzC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,wBAAwB,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,EAClE;gBACA,OAAO;oBACL,GAAG,EAAE,sDAAsD;iBAC5D,CAAC;aACH;iBAAM;gBACL,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAC;gBACnD,IAAI,kBAAkB,GAAG,gEAAY,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAC;gBACnE,OAAO,kBAAkB,CAAC,cAAc,CAAC,CAAC;gBAC1C,IAAI,CAAC,gBAAgB,GAAG,QAAQ,CAAC,kBAAkB,CAAC,cAAc,CAAC,CAAC;gBACpE,MAAM,kBAAkB,GAAG,kBAAkB,CAAC;gBAC9C,IAAI,CAAC,uBAAuB,GAAG,QAAQ,CAAC,wBAAwB,CAAC;gBACjE,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,YAAY,CAAC,qBAAqB,CAAC,OAAO,CAC1E,CAAC,IAAI,EAAE,EAAE;oBACP,IAAI,IAAI,CAAC,cAAc,CAAC,IAAI,MAAM,EAAE;wBAClC,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC;qBACrD;oBACD,IAAI,IAAI,CAAC,cAAc,CAAC,IAAI,MAAM,EAAE;wBAClC,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC;qBACrD;gBACH,CAAC,CACF,CAAC;gBAEF,IAAI,IAAI,CAAC,IAAI,IAAI,KAAK,EAAE;oBACtB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,SAAS,CAAC;oBAC7D,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC;oBAC9B,IAAI,CAAC,gBAAgB;wBACnB,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,SAAS,CAAC;iBAC/C;gBAED,IAAI,CAAC,qBAAqB,GAAG;oBAC3B,GAAG,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,YAAY;yBAC9C,qBAAqB;iBACzB,CAAC;gBAEF,IAAI,CAAC,mBAAmB;oBACtB,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,SAAS;yBACxC,OAAO,CAAC,YAAY,EAAE,EAAE,CAAC;yBACzB,KAAK,CAAC,IAAI,CAAC,CAAC;gBAEjB,IAAI,CAAC,oBAAoB;oBACvB,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,UAAU,CAAC;gBAE/C,IAAI,0BAA0B,GAC5B,IAAI,CAAC,mBAAmB,CAAC,iBAAiB,CACxC,IAAI,CAAC,uBAAuB,EAC5B,IAAI,CAAC,qBAAqB,EAC1B,kBAAkB,EAClB,IAAI,CAAC,mBAAmB,EACxB,IAAI,CAAC,oBAAoB,EACzB,IAAI,CAAC,kBAAkB,CACxB,CAAC;gBAEJ,IAAI,CAAC,qBAAqB;oBACxB,0BAA0B,CAAC,uBAAuB,CAAC,CAAC;gBACtD,IAAI,CAAC,sBAAsB;oBACzB,0BAA0B,CAAC,wBAAwB,CAAC,CAAC;gBACvD,OAAO,kBAAkB,CAAC;aAC3B;QACH,CAAC,CAAC,CACH;aACA,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;gBACf,IACE,GAAG,CAAC,QAAQ,CAAC;oBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;oBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;oBACA,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;wBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;qBACjD;yBAAM;wBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,6BAA6B,CAC9B,CAAC;qBACH;iBACF;qBAAM;oBACL,IAAI,CAAC,kBAAkB,GAAG,GAAG,CAAC;oBAC9B,IAAI,IAAI,CAAC,IAAI,IAAI,MAAM,EAAE;wBACvB,IACE,CAAC,CACC,IAAI,CAAC,kBAAkB,CAAC,eAAe;4BACvC,IAAI,CAAC,kBAAkB,CAAC,UAAU,CACnC,EACD;4BACA,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;4BAClC,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;4BACzB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC;yBAC/C;6BAAM;4BACL,IAAI,CAAC,yBAAyB,CAAC,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;yBACtD;qBACF;yBAAM,IAAI,IAAI,CAAC,IAAI,IAAI,OAAO,EAAE;wBAC/B,IACE,CAAC,CACC,IAAI,CAAC,kBAAkB,CAAC,eAAe;4BACvC,IAAI,CAAC,kBAAkB,CAAC,UAAU,CACnC,EACD;4BACA,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;4BAClC,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;4BACzB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC;yBAC/C;6BAAM;4BACL,IAAI,CAAC,yBAAyB,CAAC,IAAI,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;yBACvD;qBACF;yBAAM;wBACL,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;wBACxB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;qBACxC;iBACF;aACF;iBAAM,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;gBACrB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;gBAC9C,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,OAAO;aACR;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;YACzB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,OAAO,CAAC,GAAG,CAAC,qCAAqC,EAAE,GAAG,CAAC,CAAC;YACxD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;QACnE,CAAC,CACF,CAAC;IACN,CAAC;IAED,gBAAgB,CAAC,UAAe;QAC9B,MAAM,mBAAmB,GAAG,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,EAAE,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC;QAC3E,IAAI,CAAC,mBAAmB,GAAG,mBAAmB,CAAC;IACjD,CAAC;IAED,sBAAsB,CACpB,SAAc,EACd,WAAgB,EAChB,gBAAqB;QAErB,IAAI,gBAAgB,GAAG,gBAAgB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAElD,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,CAAC,kBAAkB;aACpB,0BAA0B,CACzB,IAAI,CAAC,QAAQ,EACb,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EACvB,gBAAgB,EAChB,SAAS,EACT,WAAW,EACX,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAC3B;aACA,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;iBAClE;aACF;iBAAM;gBACL,IAAI,GAAG,CAAC,SAAS,CAAC,EAAE;oBAClB,IAAI,CAAC,0BAA0B,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC;oBACnD,IAAI,CAAC,0BAA0B,CAAC,kBAAkB,GAAG,KAAK,CAAC;oBAC3D,IAAI,CAAC,0BAA0B,CAAC,cAAc,GAAG,KAAK,CAAC;oBAEvD,IAAI,CAAC,uBAAuB,GAAG,GAAG,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE;wBACxD,OAAO,EAAE,IAAI,EAAE,GAAG,CAAC,UAAU,CAAC,EAAE,IAAI,EAAE,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC;oBACtD,CAAC,CAAC,CAAC;iBACJ;qBAAM;oBACL,IAAI,GAAG,CAAC,SAAS,CAAC,EAAE;wBAClB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC;wBAClD,IAAI,CAAC,sBAAsB,EAAE,CAAC;qBAC/B;yBAAM;wBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,4BAA4B,CAAC,CAAC;wBAChE,IAAI,CAAC,sBAAsB,EAAE,CAAC;qBAC/B;iBACF;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,OAAO,CAAC,GAAG,CAAC,yBAAyB,EAAE,GAAG,CAAC,CAAC;YAC5C,IAAI,CAAC,sBAAsB,EAAE,CAAC;YAC9B,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;QACnE,CAAC,CACF,CAAC;IACN,CAAC;IAED,sBAAsB;QACpB,IAAI,CAAC,0BAA0B,CAAC,sBAAsB,EAAE,CAAC;IAC3D,CAAC;IAED,aAAa,CAAC,gBAA0B;QACtC,gBAAgB,CAAC,MAAM,CAAC,WAAW,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;QACnD,gBAAgB,CAAC,MAAM,CAAC,WAAW,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;QAChD,gBAAgB,CAAC,MAAM,CAAC,cAAc,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QACjE,gBAAgB,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC/C,gBAAgB,CAAC,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAClE,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC;QACnC,IAAI,IAAI,CAAC,mBAAmB,IAAI,IAAI,CAAC,IAAI,IAAI,OAAO,EAAE;YACpD,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;YAChD,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;YAC7C,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;gBAC/B,OAAO,EAAE,kIAAkI;gBAC3I,GAAG,EAAE,0BAA0B;gBAC/B,MAAM,EAAE,GAAG,EAAE;oBACX,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;oBACxC,UAAU,CAAC,GAAG,EAAE;wBACd,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;wBAC5C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;oBACjD,CAAC,EAAE,GAAG,CAAC,CAAC;oBACR,UAAU,CAAC,GAAG,EAAE;wBACd,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;oBACzC,CAAC,EAAE,IAAI,CAAC,CAAC;gBACX,CAAC;aACF,CAAC,CAAC;SACJ;aAAM;YACL,IAAI,CAAC,0BAA0B,CAAC,gBAAgB,CAAC,CAAC;SACnD;IACH,CAAC;IAED,0BAA0B,CAAC,QAAa;QACtC,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;QACrC,IAAI,CAAC,6BAA6B,GAAG,EAAE,CAAC;QACxC,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QAExC,IAAI,CAAC,6BAA6B,GAAG,IAAI,CAAC,KAAK,CAC7C,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CACjC,CAAC;QAEF,IAAI,CAAC,kBAAkB,CAAC,2BAA2B,CAAC,QAAQ,CAAC,CAAC,SAAS,CACrE,CAAC,GAAG,EAAE,EAAE;YACN,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;iBAClE;aACF;iBAAM;gBACL,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,GAAG,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,KAAK,CAAC,IAAI,+BAA+B,EAAE;oBAC/D,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;oBACrC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;oBACvC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;oBACvC,IAAI,CAAC,6BAA6B,GAAG,EAAE,CAAC;oBACxC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;oBAC9C,OAAO;iBACR;gBACD,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,EAAE;oBACrB,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;oBAC7D,IAAI,CAAC,0BAA0B,GAAG,GAAG,CAAC,aAAa,CAAC,CAAC;oBACrD,IAAI,CAAC,0BAA0B,GAAG,GAAG,CAAC,WAAW,CAAC,CAAC;oBACnD,IAAI,OAAO,GACT,IAAI,CAAC,mBAAmB,CAAC,gCAAgC,CAAC,GAAG,CAAC,CAAC;oBAEjE,IAAI,SAAS,GAAG,IAAI,CAAC,kBAAkB,CAAC,uBAAuB,CAC7D,OAAO,CAAC,OAAO,EACf,IAAI,CAAC,kBAAkB,EACvB,IAAI,CAAC,gBAAgB,CACtB,CAAC;oBAEF,IAAI,CAAC,qBAAqB,GAAG,GAAG,CAAC,MAAM,CAAC,CACtC,uBAAuB,CACxB,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,EAAE;wBACf,OAAO,EAAE,IAAI,EAAE,MAAM,CAAC,IAAI,EAAE,QAAQ,EAAE,MAAM,CAAC,QAAQ,EAAE,CAAC;oBAC1D,CAAC,CAAC,CAAC;oBACH,IAAI,CAAC,4BAA4B,GAAG,GAAG,CAAC,MAAM,CAAC,CAC7C,8BAA8B,CAC/B,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,EAAE;wBACf,OAAO,EAAE,IAAI,EAAE,MAAM,CAAC,IAAI,EAAE,QAAQ,EAAE,MAAM,CAAC,QAAQ,EAAE,CAAC;oBAC1D,CAAC,CAAC,CAAC;oBACH,IAAI,CAAC,wBAAwB,GAAG,GAAG,CAAC,MAAM,CAAC,CACzC,0BAA0B,CAC3B,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,EAAE;wBACf,OAAO,EAAE,IAAI,EAAE,MAAM,CAAC,IAAI,EAAE,QAAQ,EAAE,MAAM,CAAC,QAAQ,EAAE,CAAC;oBAC1D,CAAC,CAAC,CAAC;oBAEH,IAAI,cAAc,GAAG,KAAK,CAAC;oBAC3B,IAAI,eAAe,GAAG,KAAK,CAAC;oBAE5B,IAAI,eAAe,GAAG,GAAG,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;oBAE1D,IAAI,GAAG,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;wBAC5C,cAAc,GAAG,IAAI,CAAC;qBACvB;oBAED,IAAI,GAAG,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE;wBACpD,eAAe,GAAG,IAAI,CAAC;qBACxB;oBAED,IAAI,cAAc,IAAI,eAAe,EAAE;wBACrC,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;4BAC/C,KAAK,EAAE,UAAU;4BACjB,MAAM,EAAE,WAAW;4BACnB,SAAS,EAAE,MAAM;yBAClB,CAAC,CAAC;wBACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;4BAC/C,KAAK,EAAE,QAAQ;4BACf,MAAM,EAAE,SAAS;4BACjB,SAAS,EAAE,MAAM;yBAClB,CAAC,CAAC;wBACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;4BAC/C,KAAK,EAAE,eAAe;4BACtB,MAAM,EAAE,aAAa;4BACrB,SAAS,EAAE,MAAM;yBAClB,CAAC,CAAC;wBACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;4BAC/C,KAAK,EAAE,aAAa;4BACpB,MAAM,EAAE,WAAW;4BACnB,SAAS,EAAE,MAAM;yBAClB,CAAC,CAAC;wBAEH,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;wBAErC,IAAI,cAAc,GAAG,OAAO,CAAC,WAAW,CAAC;wBACzC,IAAI,aAAa,GAAG,OAAO,CAAC,UAAU,CAAC;wBAEvC,cAAc,CAAC,OAAO,CAAC,CAAC,SAAS,EAAE,EAAE;4BACnC,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;4BAC3B,aAAa,CAAC,OAAO,CAAC,CAAC,QAAQ,EAAE,EAAE;gCACjC,IAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CACtB,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,2BAA2B,CAAC,CACxD,CAAC;gCACF,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;gCACtB,OAAO,CAAC,UAAU,CAAC,GAAG,SAAS,CAAC,YAAY,CAAC;gCAC7C,OAAO,CAAC,QAAQ,CAAC,GAAG,SAAS,CAAC,UAAU,CAAC;gCACzC,OAAO,CAAC,eAAe,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC;gCACzC,OAAO,CAAC,aAAa,CAAC,GAAG,QAAQ,CAAC,EAAE,CAAC;gCAErC,OAAO,CACL,kBAAkB,CACnB,GAAG,GAAG,eAAe,YAAY,QAAQ,CAAC,MAAM,CAAC,QAAQ,QAAQ,CAAC,IAAI,CAAC,oBAAoB,SAAS,CAAC,cAAc,CAAC,gBAAgB,SAAS,CAAC,YAAY,CAAC,EAAE,CAAC;gCAC/J,IAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;4BAChD,CAAC,CAAC,CAAC;wBACL,CAAC,CAAC,CAAC;qBACJ;yBAAM;wBACL,IAAI,cAAc,EAAE;4BAClB,IAAI,aAAa,GAAG,OAAO,CAAC,UAAU,CAAC;4BACvC,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;gCAC/C,KAAK,EAAE,eAAe;gCACtB,MAAM,EAAE,aAAa;gCACrB,SAAS,EAAE,MAAM;6BAClB,CAAC,CAAC;4BACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;gCAC/C,KAAK,EAAE,aAAa;gCACpB,MAAM,EAAE,WAAW;gCACnB,SAAS,EAAE,MAAM;6BAClB,CAAC,CAAC;4BACH,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;4BACrC,aAAa,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;gCAC9B,IAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CACtB,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,2BAA2B,CAAC,CACxD,CAAC;gCACF,OAAO,CAAC,eAAe,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC;gCACtC,OAAO,CAAC,aAAa,CAAC,GAAG,KAAK,CAAC,EAAE,CAAC;gCAClC,OAAO,CACL,kBAAkB,CACnB,GAAG,GAAG,eAAe,YAAY,KAAK,CAAC,MAAM,CAAC,QAAQ,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC;gCACrE,IAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;4BAChD,CAAC,CAAC,CAAC;yBACJ;6BAAM,IAAI,eAAe,EAAE;4BAC1B,IAAI,cAAc,GAAG,OAAO,CAAC,WAAW,CAAC;4BACzC,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;gCAC/C,KAAK,EAAE,UAAU;gCACjB,MAAM,EAAE,WAAW;gCACnB,SAAS,EAAE,MAAM;6BAClB,CAAC,CAAC;4BACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;gCAC/C,KAAK,EAAE,QAAQ;gCACf,MAAM,EAAE,SAAS;gCACjB,SAAS,EAAE,MAAM;6BAClB,CAAC,CAAC;4BACH,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;4BACrC,cAAc,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;gCAC/B,IAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CACtB,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,2BAA2B,CAAC,CACxD,CAAC;gCACF,OAAO,CAAC,UAAU,CAAC,GAAG,KAAK,CAAC,YAAY,CAAC;gCACzC,OAAO,CAAC,QAAQ,CAAC,GAAG,KAAK,CAAC,UAAU,CAAC;gCACrC,OAAO,CACL,kBAAkB,CACnB,GAAG,GAAG,eAAe,oBAAoB,KAAK,CAAC,cAAc,CAAC,gBAAgB,KAAK,CAAC,YAAY,CAAC,EAAE,CAAC;gCACrG,IAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;4BAChD,CAAC,CAAC,CAAC;yBACJ;6BAAM,IAAI,CAAC,cAAc,IAAI,CAAC,eAAe,EAAE;4BAC9C,IAAI,CAAC,0BAA0B,GAAG;gCAChC,GAAG,CAAC,MAAM,CAAC,CAAC,2BAA2B;6BACxC,CAAC;4BACF,IAAI,CAAC,0BAA0B,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;gCAC/C,IAAI,CAAC,kBAAkB,CAAC,GAAG,eAAe,CAAC;4BAC7C,CAAC,CAAC,CAAC;yBACJ;qBACF;oBAED,SAAS;oBAET,iDAAiD;oBACjD,mCAAmC;oBACnC,WAAW;oBACX,oCAAoC;oBACpC,IAAI;oBAEJ,iCAAiC;oBACjC,wCAAwC;oBACxC,4CAA4C;oBAC5C,OAAO;oBACP,wDAAwD;oBACxD,uCAAuC;oBACvC,QAAQ;oBACR,WAAW;oBACX,yDAAyD;oBACzD,qDAAqD;oBACrD,2CAA2C;oBAC3C,UAAU;oBACV,yDAAyD;oBACzD,4BAA4B;oBAC5B,8BAA8B;oBAC9B,2BAA2B;oBAC3B,UAAU;oBACV,4CAA4C;oBAC5C,wCAAwC;oBACxC,kCAAkC;oBAClC,+DAA+D;oBAC/D,WAAW;oBACX,sCAAsC;oBACtC,6CAA6C;oBAC7C,uDAAuD;oBACvD,UAAU;oBACV,0DAA0D;oBAC1D,8CAA8C;oBAC9C,yDAAyD;oBACzD,gCAAgC;oBAChC,+BAA+B;oBAC/B,2BAA2B;oBAC3B,UAAU;oBACV,yDAAyD;oBACzD,8BAA8B;oBAC9B,6BAA6B;oBAC7B,2BAA2B;oBAC3B,UAAU;oBACV,4CAA4C;oBAC5C,yCAAyC;oBACzC,kCAAkC;oBAClC,+DAA+D;oBAC/D,WAAW;oBACX,+CAA+C;oBAC/C,2CAA2C;oBAC3C,iBAAiB;oBACjB,6BAA6B;oBAC7B,wDAAwD;oBACxD,uDAAuD;oBACvD,UAAU;oBACV,MAAM;oBACN,IAAI;oBAEJ,IAAI,CAAC,0BAA0B,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;wBAC/C,OAAO,IAAI,CAAC,EAAE,CAAC;wBACf,IAAI,CAAC,uBAAuB,CAAC,GAAG,IAAI,CAAC,qBAAqB,CAAC;wBAC3D,IAAI,CAAC,8BAA8B,CAAC;4BAClC,IAAI,CAAC,4BAA4B,CAAC;wBACpC,IAAI,CAAC,0BAA0B,CAAC,GAAG,IAAI,CAAC,wBAAwB,CAAC;wBACjE,IAAI,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,0BAA0B,CAAC;wBACtD,IAAI,CAAC,QAAQ,CAAC,GAAG,QAAQ,CAAC;wBAC1B,IAAI,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;wBAC7B,IAAI,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC;oBACrC,CAAC,CAAC,CAAC;oBAEH,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,+BAA+B,CAAC,CAAC;iBACpE;qBAAM;oBACL,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;oBACrC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;oBACvC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;oBACvC,IAAI,CAAC,6BAA6B,GAAG,EAAE,CAAC;oBACxC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,kCAAkC,CACnC,CAAC;iBACH;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,OAAO,CAAC,GAAG,CAAC,gCAAgC,EAAE,GAAG,CAAC,CAAC;YACnD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;QACnE,CAAC,CACF,CAAC;IACJ,CAAC;IAED,sBAAsB,CAAC,gBAAqB;QAC1C,gBAAgB,CAAC,MAAM,CAAC,cAAc,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QACjE,gBAAgB,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC/C,gBAAgB,CAAC,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAClE,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,CAAC,kBAAkB;aACpB,6BAA6B,CAAC,gBAAgB,CAAC;aAC/C,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;iBAClE;aACF;iBAAM;gBACL,IAAI,GAAG,CAAC,GAAG,IAAI,mCAAmC,EAAE;oBAClD,qCAAqC;oBACrC,yCAAyC;oBACzC,IAAI,CAAC,2BAA2B,GAAG,IAAI,CAAC;oBACxC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,2BAA2B,CAAC,CAAC;iBAC/C;qBAAM;oBACL,IAAI,CAAC,2BAA2B,GAAG,KAAK,CAAC;oBACzC,IAAI,CAAC,0BAA0B,CAAC,gBAAgB;wBAC9C,IAAI,CAAC,0BAA0B,CAAC,YAAY,CAAC;oBAC/C,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;oBAC3C,IAAI,CAAC,0BAA0B,CAAC,sBAAsB,GAAG,KAAK,CAAC;oBAC/D,IAAI,CAAC,0BAA0B,CAAC,YAAY,GAAG,EAAE,CAAC;oBAClD,IAAI,CAAC,eAAe,EAAE,CAAC;iBACxB;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,OAAO,CAAC,GAAG,CAAC,sCAAsC,EAAE,GAAG,CAAC,CAAC;YACzD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,8CAA8C,CAC/C,CAAC;QACJ,CAAC,CACF,CAAC;IACN,CAAC;IAED,eAAe;QACb,IAAI,CAAC,kBAAkB;aACpB,uBAAuB,CACtB,IAAI,CAAC,MAAM,EACX,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EACvB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,EAC1B,IAAI,CAAC,QAAQ,CACd;aACA,SAAS,CAAC,CAAC,GAAG,EAAE,EAAE;YACjB,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;iBAClE;aACF;iBAAM;gBACL,IAAI,GAAG,CAAC,IAAI,IAAI,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE;oBAC/B,IAAI,CAAC,2BAA2B,GAAG,GAAG,CAAC,IAAI,CAAC;oBAC5C,IAAI,CAAC,2BAA2B,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;wBAC/C,GAAG,CAAC,MAAM,CAAC,GAAG,GAAG,CAAC,cAAc,CAAC,CAAC;wBAClC,GAAG,CAAC,MAAM,CAAC,GAAG,GAAG,CAAC,cAAc,CAAC,CAAC;oBACpC,CAAC,CAAC,CAAC;iBACJ;qBAAM;oBACL,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;iBACtB;aACF;QACH,CAAC,CAAC,CAAC;IACP,CAAC;IAED,UAAU,CAAC,OAAY;QACrB,OAAO,IAAI,CAAC,mBAAmB,CAAC,8BAA8B,CAAC,OAAO,CAAC,CAAC;IAC1E,CAAC;IAED,cAAc,CAAC,KAAU,EAAE,KAAU,EAAE,KAAU;QAC/C,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC,UAAU,CAAC,CAAC;IACpE,CAAC;IAED,yBAAyB;IACzB,wDAAwD;IACxD,yDAAyD;IACzD,mDAAmD;IACnD,UAAU;IACV,qCAAqC;IACrC,wEAAwE;IACxE,gEAAgE;IAChE,0BAA0B;IAC1B,QAAQ;IAER,4CAA4C;IAC5C,+CAA+C;IAC/C,yCAAyC;IACzC,kBAAkB;IAClB,uEAAuE;IACvE,0BAA0B;IAC1B,QAAQ;IAER,wCAAwC;IACxC,8EAA8E;IAC9E,mEAAmE;IACnE,0BAA0B;IAC1B,QAAQ;IACR,QAAQ;IACR,IAAI;IACJ,4BAA4B;IAC5B,wDAAwD;IACxD,sEAAsE;IACtE,kEAAkE;IAClE,oBAAoB;IACpB,6CAA6C;IAC7C,uCAAuC;IACvC,gBAAgB;IAChB,yEAAyE;IACzE,oBAAoB;IACpB,4EAA4E;IAC5E,qEAAqE;IACrE,oBAAoB;IACpB,QAAQ;IACR,IAAI;IAEJ,cAAc,CAAC,OAAY;QACzB,OAAO,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;IAC9C,CAAC;IAED,KAAK;QACH,IAAI,IAAI,CAAC,IAAI,IAAI,MAAM,EAAE;YACvB,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;YAChD,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;gBAC/B,OAAO,EAAE,mDAAmD;gBAC5D,GAAG,EAAE,uBAAuB;gBAC5B,MAAM,EAAE,GAAG,EAAE;oBACX,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;oBACxC,gCAAgC;oBAChC,0BAA0B;oBAC1B,+CAA+C;oBAC/C,kDAAkD;oBAClD,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;oBACrC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;oBACvC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;oBACvC,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;oBAC3B,IAAI,CAAC,0BAA0B,CAAC,gBAAgB,EAAE,CAAC;oBACnD,IAAI,CAAC,mBAAmB,EAAE,CAAC;gBAC7B,CAAC;gBACD,MAAM,EAAE,GAAG,EAAE;oBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;oBAC/B,IAAI,CAAC,mBAAmB,EAAE,CAAC;gBAC7B,CAAC;aACF,CAAC,CAAC;SACJ;aAAM,IAAI,IAAI,CAAC,IAAI,IAAI,OAAO,EAAE;YAC/B,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;YAChD,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;gBAC/B,OAAO,EAAE,mDAAmD;gBAC5D,GAAG,EAAE,uBAAuB;gBAC5B,MAAM,EAAE,GAAG,EAAE;oBACX,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;oBACxC,IAAI,CAAC,qBAAqB,EAAE,CAAC;oBAC7B,IAAI,CAAC,eAAe,EAAE,CAAC;oBACvB,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;oBAC5C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;gBACjD,CAAC;gBACD,MAAM,EAAE,GAAG,EAAE;oBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;oBAC/B,IAAI,CAAC,mBAAmB,EAAE,CAAC;gBAC7B,CAAC;aACF,CAAC,CAAC;SACJ;aAAM;YACL,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;YAChD,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;YAC7C,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;gBAC/B,OAAO,EAAE,kDAAkD;gBAC3D,GAAG,EAAE,uBAAuB;gBAC5B,MAAM,EAAE,GAAG,EAAE;oBACX,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;oBACrC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;oBACvC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;oBACvC,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;oBAC3B,IAAI,CAAC,0BAA0B,CAAC,gBAAgB,EAAE,CAAC;oBACnD,IAAI,CAAC,mBAAmB,EAAE,CAAC;oBAC3B,wBAAwB;oBACxB,2BAA2B;oBAC3B,6BAA6B;oBAC7B,4BAA4B;oBAC5B,qCAAqC;gBACvC,CAAC;gBACD,MAAM,EAAE,GAAG,EAAE;oBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;oBAC/B,IAAI,CAAC,mBAAmB,EAAE,CAAC;gBAC7B,CAAC;aACF,CAAC,CAAC;SACJ;IACH,CAAC;IAED,mBAAmB;QACjB,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;YAC5C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;QACjD,CAAC,EAAE,GAAG,CAAC,CAAC;QACR,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,EAAE,IAAI,CAAC,CAAC;IACX,CAAC;IAED,eAAe,CAAC,MAAM;QACpB,IACE,IAAI,CAAC,0BAA0B,CAAC,qBAAqB,EAAE;YACvD,IAAI,CAAC,0BAA0B,EAC/B;YACA,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,+EAA+E,CAChF,CAAC;SACH;QAED,IACE,IAAI,CAAC,IAAI,IAAI,OAAO;YACpB,CAAC,IAAI,CAAC,IAAI,IAAI,OAAO,IAAI,IAAI,CAAC,sBAAsB,CAAC,EACrD;YACA,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;YACxC,IAAI,gBAAgB,GAAG,KAAK,CAAC;YAC7B,IAAI,sBAAsB,GAAG,KAAK,CAAC;YACnC,IAAI,6BAA6B,GAAG,KAAK,CAAC;YAC1C,IAAI,yBAAyB,GAAG,KAAK,CAAC;YAEtC,IAAI,CAAC,0BAA0B,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;gBAC/C,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,EAAE;oBAC3B,IAAI,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC,gBAAgB,CAAC,WAAW,EAAE;wBACrD,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,MAAM;4BAC/C,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,WAAW,EAAE;4BACrC,CAAC,CAAC,IAAI;wBACR,CAAC,CAAC,IAAI,CAAC;oBACT,sDAAsD;oBACtD,sBAAsB;oBAEtB,IAAI;iBACL;YACH,CAAC,CAAC,CAAC;YAEH,IAAI,UAAU,GAAG,IAAI,CAAC,0BAA0B,CAAC,MAAM,CACrD,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,UAAU,CAAC,IAAI,GAAG,CAC5B,CAAC;YACF,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,UAAU,CAAC,CAAC;YAC/B,UAAU,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;gBAC7B,OAAO,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC,gBAAgB,CAAC,WAAW,EAAE;oBACxD,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,MAAM;wBAC/C,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,WAAW,EAAE;wBACrC,CAAC,CAAC,IAAI;oBACR,CAAC,CAAC,IAAI,CAAC;gBACT,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,EAAE;oBACzB,gBAAgB,GAAG,IAAI,CAAC;iBACzB;gBACD,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,EAAE;oBAC/B,sBAAsB,GAAG,IAAI,CAAC;iBAC/B;gBACD,IAAI,CAAC,OAAO,CAAC,wBAAwB,CAAC,EAAE;oBACtC,6BAA6B,GAAG,IAAI,CAAC;iBACtC;gBACD,IAAI,CAAC,OAAO,CAAC,oBAAoB,CAAC,EAAE;oBAClC,yBAAyB,GAAG,IAAI,CAAC;iBAClC;YACH,CAAC,CAAC,CAAC;YACH,IAAI,gBAAgB,EAAE;gBACpB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,8BAA8B,CAAC,CAAC;aACnE;iBAAM,IAAI,sBAAsB,EAAE;gBACjC,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,mCAAmC,CAAC,CAAC;aACxE;iBAAM,IAAI,6BAA6B,EAAE;gBACxC,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,0CAA0C,CAC3C,CAAC;aACH;iBAAM,IAAI,yBAAyB,EAAE;gBACpC,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,sCAAsC,CACvC,CAAC;aACH;iBAAM;gBACL,IAAI,OAAO,CAAC;gBACZ,gCAAgC;gBAChC,IAAI,IAAI,CAAC,IAAI,IAAI,MAAM,EAAE;oBACvB,IAAI,IAAI,GAAG;wBACT,IAAI,EAAE,IAAI,CAAC,0BAA0B;wBACrC,SAAS,EAAE,IAAI,CAAC,0BAA0B;wBAC1C,WAAW,EAAE,IAAI,CAAC,0BAA0B;wBAC5C,SAAS,EAAE,IAAI,CAAC,OAAO;qBACxB,CAAC;oBACF,OAAO,GAAG,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAC3C,IAAI,CAAC,MAAM,EACX,IAAI,EACJ,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EACvB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,EAC1B,IAAI,CAAC,QAAQ,CACd,CAAC;iBACH;qBAAM;oBACL,IAAI,IAAI,GAAG;wBACT,IAAI,EAAE,IAAI,CAAC,0BAA0B;wBACrC,SAAS,EAAE,IAAI,CAAC,0BAA0B;wBAC1C,WAAW,EAAE,IAAI,CAAC,0BAA0B;qBAC7C,CAAC;oBACF,OAAO,GAAG,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAC3C,IAAI,EACJ,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EACvB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,EAC1B,IAAI,CAAC,QAAQ,CACd,CAAC;iBACH;gBACD,IAAI,OAAO,EAAE;oBACX,OAAO,CAAC,SAAS,CACf,CAAC,GAAG,EAAE,EAAE;wBACN,IACE,GAAG,CAAC,QAAQ,CAAC;4BACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;4BAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;4BACA,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;gCAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;6BACjD;iCAAM;gCACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,6BAA6B,CAC9B,CAAC;6BACH;yBACF;6BAAM;4BACL,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;gCACd,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gCAC3C,IAAI,MAAM,IAAI,MAAM,EAAE;oCACpB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC;iCAC/C;qCAAM,IAAI,MAAM,IAAI,eAAe,EAAE;oCACpC,IAAI,CAAC,kBAAkB,CAAC,eAAe,GAAG,IAAI,CAAC;oCAC/C,IAAI,CAAC,kBAAkB,CAAC,UAAU,GAAG,IAAI,CAAC;oCAC1C,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,iCAAiC,CAAC,CAAC,CAAC;iCAC3D;6BACF;yBACF;oBACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;wBACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;wBACvC,OAAO,CAAC,GAAG,CAAC,0BAA0B,EAAE,GAAG,CAAC,CAAC;wBAC7C,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;oBACnE,CAAC,CACF,CAAC;iBACH;aACF;SACF;aAAM;YACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,kCAAkC,CAAC,CAAC;SACvE;IACH,CAAC;IAED,aAAa,CAAC,CAAM,EAAE,IAAS;QAC7B,CAAC,CAAC,cAAc,EAAE,CAAC;QACnB,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,IAAI,SAAS,GAAG,EAAE,CAAC;QACnB,IAAI,CAAC,CAAC,MAAM,CAAC,OAAO,EAAE;YACpB,SAAS,GAAG,GAAG,CAAC;YAChB,IAAI,GAAG,UAAU,CAAC;SACnB;aAAM;YACL,SAAS,GAAG,GAAG,CAAC;YAChB,IAAI,GAAG,YAAY,CAAC;SACrB;QACD,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;QAChD,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,WAAW,GAAG,EAAE,CAAC;QACrB,WAAW;YACT,mDAAmD;gBACnD,iBAAiB;gBACjB,IAAI;gBACJ,mBAAmB,CAAC;QACtB,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;YAC/B,OAAO,EAAE,WAAW;YACpB,GAAG,EAAE,sBAAsB;YAC3B,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,UAAU,CAAC,GAAG,SAAS,CAAC;gBAC7B,IAAI,CAAC,mBAAmB,EAAE,CAAC;gBAC3B,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,SAAS,CAAC,CAAC;YACtC,CAAC;YACD,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;gBAC/B,IAAI,CAAC,mBAAmB,EAAE,CAAC;gBAC3B,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACxB,CAAC;SACF,CAAC,CAAC;IACL,CAAC;;0FA19CU,qBAAqB;mHAArB,qBAAqB;;;kEAmHrB,+GAAoB;;;;;;qFArHpB,CAAC,iEAAa,EAAE,wDAAc,CAAC;;QC1B5C,yEAAkC;QAOpB,8DAKC;QALD,yEAKC;QAMG,uEAQE;QAQJ,4DAAI;QAEN,6IAEF;QAAA,4DAAI;QAEN,+DAAmD;QAAnD,2EAAmD;QAc3C,8IAAS,oBAAgB,MAAM,CAAC,IAAC;QAClC,4DAAS;QACV,8EASC;QAFC,8IAAS,oBAAgB,eAAe,CAAC,IAAC;QAE3C,4DAAS;QACV,8EAQC;QADC,8IAAS,WAAO,IAAC;QAClB,4DAAS;QACV,0HAQU;QACZ,4DAAM;QAMhB,2EAAyE;QAO9D,uEAAW;QAAA,4DACb;QACD,kFAQC;QADC,wJAAY,sBAAkB,IAAC;QAChC,4DAAa;QAEhB,2EAAqE;QAIhE,kEAAM;QAAA,4DACR;QACD,kFAQC;QADC,wJAAY,qBAAiB,IAAC;QAC/B,4DAAa;QAKtB,qHAoCM;QACN,+IA8BoB;QACtB,4DAAM;QACN,qHAqIM;QACR,4DAAM;QACN,oHAcM;QACN,2FAMC;QAOK,4RAAS,sEAAW,KAAC;QACtB,4DAAS;QAId,2FAMC;QAOK,4RAAS,sEAAY,KAAC;QACvB,4DAAS;QAEV,8EAMC;QADC,4RAAS,sEAAY,KAAC;QACvB,4DAAS;QAGd,2FAKC;QAOK,4RAAS,sEAAY,KAAC;QACvB,4DAAS;QAEV,8EAMC;QADC,4RAAS,sEAAY,KAAC;QACvB,4DAAS;QAGd,2FAKC;QAOK,4RAAS,sEAAY,KAAC;QACvB,4DAAS;QAEV,8EAMC;QADC,4RAAS,sEAAY,KAAC;QACvB,4DAAS;;QA1ZM,0DAA0B;QAA1B,mFAA0B;QAsB5B,0DAIC;QAJD,kKAIC;QASD,0DAA+C;QAA/C,4GAA+C;QAU/C,0DAA8D;QAA9D,+HAA8D;QAM7D,0DAAoB;QAApB,oFAAoB;QAc9B,0DAA6B;QAA7B,0FAA6B;QAYxB,0DAAoC;QAApC,iGAAoC;QAgBpC,0DAA+B;QAA/B,4FAA+B;QAWtC,0DAAyC;QAAzC,6GAAyC;QAqCzC,0DAAyC;QAAzC,6GAAyC;QAiC3C,0DAAsD;QAAtD,0HAAsD;QAuIxD,0DAEA;QAFA,wJAEA;QAgBD,0DAAkB;QAAlB,2EAAkB;QAkBlB,0DAAkB;QAAlB,2EAAkB;QAwBlB,0DAAkB;QAAlB,2EAAkB;QAwBlB,0DAAkB;QAAlB,2EAAkB;;;;;;;;;;;;;;;;;;ACla2C;AAEH;;;AAKrD,MAAM,kBAAkB;IAC7B,YAAoB,IAAgB;QAAhB,SAAI,GAAJ,IAAI,CAAY;QACpC,oBAAe,GAAQ,IAAI,CAAC;QAC5B,eAAU,GAAQ,IAAI,CAAC;QAEf,0BAAqB,GAAQ,SAAS,CAAC;IAJR,CAAC;IAMxC,OAAO,CAAC,IAAS;QACf,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC;IACpC,CAAC;IAED,OAAO;QACL,OAAO,IAAI,CAAC,qBAAqB,CAAC;IACpC,CAAC;IAED,kBAAkB;IAElB,4BAA4B;QAC1B,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,yDAAyD,CAC1D,CAAC;IACJ,CAAC;IAED,qBAAqB,CACnB,MAAW,EACX,QAAa,EACb,OAAY,EACZ,UAAe;QAEf,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,uDAAuD,EACvD;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC;iBACrB,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC;iBACrB,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;iBACpC,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;SACzC,CACF,CAAC;IACJ,CAAC;IAED,0BAA0B,CACxB,QAAa,EACb,OAAY,EACZ,WAAgB,EAChB,SAAc,EACd,WAAgB,EAChB,UAAe;QAEf,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,iDAAiD,EAAE;YACtE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC;iBACrB,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;iBACpC,GAAG,CAAC,aAAa,EAAE,WAAW,CAAC;iBAC/B,GAAG,CAAC,WAAW,EAAE,SAAS,CAAC;iBAC3B,GAAG,CAAC,aAAa,EAAE,WAAW,CAAC;iBAC/B,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;SACzC,CAAC,CAAC;IACL,CAAC;IAED,6BAA6B,CAAC,IAAS;QACrC,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CACnB,qDAAqD,EACrD,IAAI,CACL,CAAC;IACJ,CAAC;IAED,uBAAuB,CACrB,EAAU,EACV,OAAY,EACZ,UAAe,EACf,QAAa;QAEb,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB;OACC,EACD;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,QAAQ,EAAE,EAAE,CAAC;iBACjB,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;iBACpC,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;iBACrC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC;SACzB,CACF,CAAC;IACJ,CAAC;IAED,sBAAsB;IAEtB,kBAAkB,CAAC,EAAU,EAAE,QAAa,EAAE,OAAY,EAAE,UAAe;QACzE,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,wDAAwD,EACxD;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,QAAQ,EAAE,EAAE,CAAC;iBACjB,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;iBACpC,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;iBACrC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC;SACzB,CACF,CAAC;IACJ,CAAC;IACD,qBAAqB,CAAC,IAAS;QAC7B,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CACnB,6DAA6D,EAC7D,IAAI,CACL,CAAC;IACJ,CAAC;IAED,sBAAsB,CACpB,SAAc,EACd,SAAc,EACd,OAAY,EACZ,UAAe,EACf,QAAa;QAEb,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,mEAAmE,EACnE;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,WAAW,EAAE,SAAS,CAAC;iBAC3B,GAAG,CAAC,WAAW,EAAE,SAAS,CAAC;iBAC3B,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;iBACpC,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;iBACrC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC;SACzB,CACF,CAAC;IACJ,CAAC;IAED,2BAA2B,CAAC,OAAY,EAAE,UAAe,EAAE,QAAa;QACtE,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,iDAAiD,EAAE;YACtE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;iBACpC,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;iBACrC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC;SACzB,CAAC,CAAC;IACL,CAAC;IAED,2BAA2B,CAAC,IAAS;QACnC,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CACnB,wDAAwD,EACxD,IAAI,CACL,CAAC;IACJ,CAAC;IAED,WAAW,CACT,IAAI,EACJ,OAAY,EACZ,UAAe,EACf,QAAa;QAEb,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CACnB,uDAAuD,EACvD,IAAI,EACJ;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;iBACpC,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;iBACrC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC;SACzB,CACF,CAAC;IACJ,CAAC;IAED,WAAW,CACT,MAAM,EACN,IAAI,EACJ,OAAY,EACZ,UAAe,EACf,QAAa;QAEb,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,gEAAgE,EAChE,IAAI,EACJ;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC;iBACrB,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;iBACpC,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;iBACrC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC;SACzB,CACF,CAAC;IACJ,CAAC;;oFAnLU,kBAAkB;mHAAlB,kBAAkB,WAAlB,kBAAkB,mBAFjB,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACakC;AACsB;AAC5C;AACW;AAMnB;AAEuB;;;;;;;;;;;;;;;;;;;;;IC6DnC,0EAIC;IAFC,gLAAS,wBAAwB,IAAC;IAGlC,wEASC;IADC,oZAAS,uGAAiC,KAAC;IAC5C,4DAAI;IACL,wFAcC;IALC,ynBACqB,wCAC1B,IAAI,CAAC,SAAoB,wGACpB,KAAC,oXACc,qGAA+B,KAD7C;IAGH,4DAAgB;;;;IAxBd,0DAKE;IALF,4OAKE;IAMF,0DAAyC;IAAzC,8GAAyC;;;IAzB/C,yEAMC;IACC,uDACA;IAAA,6IA+BM;IACR,4DAAK;;;;IAnCH,iFAAyB;IAFzB,0FAA6B;IAI7B,0DACA;IADA,0FACA;IACG,0DAAqC;IAArC,yGAAqC;;;;IAmCxC,2EAIC;IACC,mEAA4B;IAC5B,4EAKE;IADA,ydAAS,yGAA0C,UAAU,CAAC,KAAC;IAJjE,4DAKE;;;IAZN,qEAA6B;IAC3B,8IAYO;IACT,4DAAK;;;IAVA,0DAA0D;IAA1D,8HAA0D;;;IAhDjE,qEAAI;IACF,qIAwCK;IACP,4DAAK;IACL,yEAAuB;IACrB,qIAcK;IACP,4DAAK;;;;IAzDe,0DAAY;IAAZ,+EAAY;IA0CV,0DAAO;IAAP,gFAAO;;;IA0BvB,0EAIC;IACC,uDACF;IAAA,4DAAM;;;;;IAHJ,oIAA+D;IAE/D,0DACF;IADE,yGACF;;;;;IACA,wEAeG;IAFD,kbAAgB,8FAAwB,EAAE,KAAC,8WAClC,8FAAwB,KADU;IAE1C,uDAA2B;IAAA,4DAC7B;;;;;IAbC,gOAME;IAMD,0DAA2B;IAA3B,8FAA2B;;;IAE9B,2EAMC;IACC,uDAIE;IAAA,4DACH;;;;IAVC,oJAEC;IAGD,0DAIE;IAJF,4MAIE;;;;IAiBA,wEAMC;IADD,sgBAAS,sGAA4B,OAAO,GAAG,KAAC;IAC/C,+DAAI;IAAA,4DACN;;;;IAtBH,2EAQC;IAFC,6aAAsB,WAAW,IAAI,IAAI,MAAC,qXACpB,WAAW,IAAI,KAAK,MADA;IAG1C,uDAME;IAAA,8JAOD;IAAA,4DACF;;;;IArBC,oJAEC;IAKD,0DAME;IANF,+RAME;IAEC,0DAEA;IAFA,uIAEA;;;IAzDP,qEAAiE;IAC/D,2JAMM;IACN,uJAgBC;IACD,6JAYC;IACD,6JAuBC;IACH,4DAAK;;;IA5DA,0DAAmC;IAAnC,2GAAmC;IAOnC,0DAAY;IAAZ,4EAAY;IAiBZ,0DAAY;IAAZ,4EAAY;IAaZ,0DAAY;IAAZ,4EAAY;;;;IA6Bf,4EAKC;IADC,uVAAgB,sEAAiB,KAAC;IAElC,gFAUE;IAPA,obAAS,oGAA8B,KAAC;IAH1C,4DAUE;IACF,sEAAkC;IACpC,4DAAQ;;;;IARJ,0DAKC;IALD,qKAKC;;;IAnBP,yEAGC;IACC,+JAkBQ;IACV,4DAAK;;;;IAlBA,0DAAqC;IAArC,6GAAqC;;;;IAmB1C,yEAGC;IAQK,uaAAS,yFAAmB,KAAC;IAC9B,4DAAS;;;IAFR,0DAA4C;IAA5C,yGAA4C;;;IAnGpD,wEAAyD;IACvD,oJA8DK;IAEL,oJAuBK;IACL,oJAcK;IACP,qEAAe;;;IAvGR,0DAA0D;IAA1D,8HAA0D;IAiE5D,0DAA2B;IAA3B,2FAA2B;IAwB3B,0DAA8B;IAA9B,8FAA8B;;;IA3FrC,yEAA8B;IAC5B,yJAwGe;IACjB,4DAAK;;;;IA1GD,sFAAyB;IACG,0DAAY;IAAZ,gFAAY;;;IA4G5C,qEAAI;IAC+B,yEAAc;IAAA,4DAAK;;;IAAhD,0DAA4B;IAA5B,wFAA4B;;;IAIlC,uDAOF;;;IAPE,uRAOF;;;IAzMJ,0EAAsE;IAYlE,yIA6Dc;IACd,yIAiHc;IACd,yIAIc;IACd,yIAQc;IAChB,4DAAU;;;IAvMR,0DAAgB;IAAhB,gFAAgB;;;;IA0MtB,0EAA+E;IAEvD,qEAAsC;IAAA,4DAAM;IAElE,yEAAiB;IAEV,gHAAmD;IAAA,4DAAI;IAC1D,4EAOC;IAHC,sSAAS,mFAAiB,KAAC;IAG5B,4DAAS;;AD1PT,MAAM,qBAAqB;IAQhC,YACU,MAAc,EACd,kBAAsC,EACtC,WAAwB,EACzB,aAA4B,EAC5B,cAA8B,EAC7B,KAAqB,EACrB,mBAAwC,EACxC,kBAAsC,EACtC,EAAsB;QARtB,WAAM,GAAN,MAAM,CAAQ;QACd,uBAAkB,GAAlB,kBAAkB,CAAoB;QACtC,gBAAW,GAAX,WAAW,CAAa;QACzB,kBAAa,GAAb,aAAa,CAAe;QAC5B,mBAAc,GAAd,cAAc,CAAgB;QAC7B,UAAK,GAAL,KAAK,CAAgB;QACrB,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,uBAAkB,GAAlB,kBAAkB,CAAoB;QACtC,OAAE,GAAF,EAAE,CAAoB;QAhBhC,aAAQ,GAAG,eAAe,CAAC;QAC3B,oBAAe,GAAQ,EAAE,CAAC;QAE1B,iBAAY,GAAY,KAAK,CAAC;QAE9B,qBAAgB,GAAG,EAAE,CAAC;QAgBtB,oBAAe,GAAY,KAAK,CAAC;QAEjC,yBAAoB,GAAY,KAAK,CAAC;QACtC,yBAAoB,GAAY,KAAK,CAAC;QACtC,2BAAsB,GAAY,KAAK,CAAC;QACxC,sBAAiB,GAAY,KAAK,CAAC;QAMnC,cAAS,GAAU,EAAE,CAAC;QACtB,cAAS,GAAU,EAAE,CAAC;QACtB,gBAAW,GAAU,EAAE,CAAC;QAKxB,cAAS,GAAW,kCAAkC,CAAC;QAEvD,4BAAuB,GAAU,EAAE,CAAC;QACpC,4BAAuB,GAAU,EAAE,CAAC;QACpC,8BAAyB,GAAU,EAAE,CAAC;QACtC,yBAAoB,GAAU,EAAE,CAAC;QAEjC,YAAO,GAAG,IAAI,CAAC;QAGf,6BAAwB,GAAU,EAAE,CAAC;QACrC,wBAAmB,GAAU,EAAE,CAAC;QAEhC,eAAU,GAAG,MAAM,CAAC,IAAI,CAAC;QACzB,SAAI,GAAG;YACL,EAAE,KAAK,EAAE,WAAW,EAAE,MAAM,EAAE,YAAY,EAAE,KAAK,EAAE,KAAK,EAAE;YAC1D,EAAE,KAAK,EAAE,WAAW,EAAE,MAAM,EAAE,mBAAmB,EAAE,KAAK,EAAE,KAAK,EAAE;YACjE,EAAE,KAAK,EAAE,aAAa,EAAE,MAAM,EAAE,UAAU,EAAE,KAAK,EAAE,KAAK,EAAE;YAC1D,EAAE,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE;YAClD,EAAE,KAAK,EAAE,WAAW,EAAE,MAAM,EAAE,YAAY,EAAE,KAAK,EAAE,IAAI,EAAE;SAC1D,CAAC;IA1CC,CAAC;IA4CJ,QAAQ;QACN,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QAExC,MAAM,cAAc,GAAG,eAAe,CAAC;QAEvC,qBAAqB;QACrB,IAAI,CAAC,WAAW;aACb,SAAS,CAAC,cAAc,CAAC;aACzB,IAAI,CAAC,CAAC,eAAuB,EAAE,EAAE;YAChC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC;QACjD,CAAC,CAAC,CAAC;QAEL,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;YACjC,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,kBAAkB,CAAC,eAAe,GAAG,IAAI,CAAC;QAC/C,IAAI,CAAC,kBAAkB,CAAC,UAAU,GAAG,IAAI,CAAC;QAE1C,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;QAE7D,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAE1B,EAAE;QACF,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC,KAAK,CACxC,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAClC,CAAC;QACF,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;QACzE,IAAI,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,CAAC;QACjE,IAAI,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;QAEjE,IAAI,MAAM,GAAG,IAAI,CAAC;QAClB,IAAI,MAAM,GAAG,IAAI,CAAC;QAElB,IAAI,UAAU,EAAE;YACd,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;YACxB,MAAM,GAAG,IAAI,CAAC,wBAAwB,CAAC,MAAM,CAC3C,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,IAAI,UAAU,CAAC,eAAe,CAAC,IAAI,CACrD,CAAC,CAAC,CAAC,CAAC;YACL,MAAM,GAAG,IAAI,CAAC,mBAAmB,CAAC,MAAM,CACtC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,IAAI,UAAU,CAAC,UAAU,CAAC,IAAI,CAChD,CAAC,CAAC,CAAC,CAAC;SACN;aAAM;YACL,IAAI,SAAS,EAAE;gBACb,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC,CAAC;gBAC7D,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC;aACzD;SACF;QAED,IAAI,MAAM,EAAE;YACV,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;SACjC;QACD,IAAI,MAAM,EAAE;YACV,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;SACpC;QACD,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,IAAI,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE;YAC/C,IAAI,CAAC,eAAe,EAAE,CAAC;SACxB;aAAM;YACL,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;SACxC;QACD,EAAE;IACJ,CAAC;IAED,kBAAkB;QAChB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YACnC,YAAY,EAAE,IAAI,8DAAkB,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAE,EAAE;gBACnE,+DAAmB;aACpB,CAAC;YACF,OAAO,EAAE,IAAI,8DAAkB,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAE,EAAE;gBAC9D,+DAAmB;aACpB,CAAC;SACH,CAAC,CAAC;IACL,CAAC;IAED,IAAI,OAAO;QACT,OAAO,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;IAClD,CAAC;IACD,IAAI,UAAU;QACZ,OAAO,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;IAC7C,CAAC;IAED,eAAe;QACb,IAAI,UAAU,GAAG;YACf,eAAe,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK;YACnC,UAAU,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK;SAClC,CAAC;QACF,cAAc,CAAC,OAAO,CAAC,WAAW,EAAE,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC;QAChE,IAAI,CAAC,wBAAwB,CAC3B,IAAI,CAAC,QAAQ,CAAC,MAAM,EACpB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EACvB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAC3B,CAAC;IACJ,CAAC;IAED,wBAAwB,CAAC,MAAW,EAAE,QAAa,EAAE,WAAgB;QACnE,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,8CAAQ,CAAC;YACP,kBAAkB,EAAE,IAAI,CAAC,kBAAkB,CAAC,qBAAqB,CAC/D,IAAI,CAAC,QAAQ,CAAC,MAAM,EACpB,IAAI,CAAC,QAAQ,EACb,QAAQ,EACR,WAAW,CACZ;YACD,sBAAsB,EAAE,IAAI,CAAC,kBAAkB,CAAC,kBAAkB,CAChE,MAAM,EACN,IAAI,CAAC,QAAQ,EACb,QAAQ,EACR,WAAW,CACZ;SACF,CAAC;aACC,IAAI,CACH,oDAAI,CAAC,CAAC,CAAC,EACP,mDAAG,CAAC,CAAC,QAAQ,EAAE,EAAE;YACf,IAAI,kBAAkB,GAAG,+DAAY,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAC;YACnE,OAAO,kBAAkB,CAAC,cAAc,CAAC,CAAC;YAC1C,IAAI,CAAC,gBAAgB,GAAG,QAAQ,CAAC,kBAAkB,CAAC,cAAc,CAAC,CAAC;YACpE,MAAM,kBAAkB,GAAG,kBAAkB,CAAC;YAC9C,MAAM,sBAAsB,GAAG,QAAQ,CAAC,sBAAsB,CAAC;YAE/D,IAAI,sBAAsB,CAAC,MAAM,CAAC,EAAE;gBAClC,IAAI,CAAC,kBAAkB,GAAG,sBAAsB,CAAC;gBACjD,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;oBAC3C,IAAI,WAAW,GAAG,GAAG,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;oBACnD,qDAAqD;oBAErD,MAAM,QAAQ,GAAG,GAAG,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;oBAE/C,mDAAmD;oBACnD,IAAI,QAAQ,GAAG,EAAE,CAAC;oBAClB,IAAI,OAAO,GAAG,EAAE,CAAC;oBACjB,IAAI,KAAK,GAAG,EAAE,CAAC;oBACf,IAAI,UAAU,GAAG,EAAE,CAAC;oBAEpB,uBAAuB;oBACvB,QAAQ,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;wBAC3B,+BAA+B;wBAC/B,wCAAwC;wBACxC,iCAAiC;wBACjC,kBAAkB;wBAClB,iCAAiC;wBAEjC,wCAAwC;wBACxC,2BAA2B;wBAC3B,IAAI;wBACJ,IAAI,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;4BACtD,sBAAsB;4BACtB,MAAM,YAAY,GAAG,OAAO;iCACzB,KAAK,CAAC,GAAG,CAAC;iCACV,GAAG,CAAC,CAAC,aAAa,EAAE,EAAE;gCACrB,MAAM,CAAC,IAAI,EAAE,EAAE,CAAC,GAAG,aAAa;qCAC7B,KAAK,CAAC,IAAI,CAAC;qCACX,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gCACrC,OAAO,WAAW,IAAI,MAAM,EAAE,EAAE,CAAC;4BACnC,CAAC,CAAC,CAAC;4BACL,OAAO,GAAG,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;yBACpC;6BAAM,IACL,OAAO,CAAC,UAAU,CAAC,cAAc,CAAC;4BAClC,OAAO,CAAC,QAAQ,CAAC,YAAY,CAAC,EAC9B;4BACA,oBAAoB;4BACpB,MAAM,YAAY,GAAG,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,WAAW,EAAE,EAAE;gCAC1D,MAAM,CAAC,SAAS,EAAE,OAAO,CAAC,GAAG,WAAW;qCACrC,KAAK,CAAC,IAAI,CAAC;qCACX,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gCACrC,OAAO,WAAW,SAAS,MAAM,OAAO,EAAE,CAAC;4BAC7C,CAAC,CAAC,CAAC;4BACH,KAAK,GAAG,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;yBAClC;oBACH,CAAC,CAAC,CAAC;oBAEH,IAAI,OAAO,CAAC,MAAM,IAAI,KAAK,CAAC,MAAM,EAAE;wBAClC,UAAU,IAAI,WAAW,OAAO,YAAY,KAAK,GAAG,CAAC;qBACtD;yBAAM,IAAI,OAAO,CAAC,MAAM,EAAE;wBACzB,UAAU,IAAI,WAAW,OAAO,GAAG,CAAC;qBACrC;yBAAM,IAAI,KAAK,CAAC,MAAM,EAAE;wBACvB,UAAU,IAAI,SAAS,KAAK,GAAG,CAAC;qBACjC;oBACD,4BAA4B;oBAC5B,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,UAAU,CAAC,CAAC;oBAE/B,IAAI,WAAW,CAAC,MAAM,EAAE;wBACtB,IAAI,gBAAgB,GAAG,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC;4BAC5D,WAAW,EAAE,WAAW;yBACzB,CAAC,CAAC;wBACH,GAAG,CAAC,WAAW,GACb,IAAI,CAAC,kBAAkB,CAAC,uBAAuB,CAC7C,gBAAgB,EAChB,kBAAkB,EAClB,IAAI,CAAC,gBAAgB,CAExB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;wBACb,IAAI,UAAU,EAAE,MAAM,EAAE;4BACtB,GAAG,CAAC,WAAW,GAAG,GAAG,CAAC,WAAW,GAAG,IAAI,GAAG,UAAU,CAAC;yBACvD;qBACF;yBAAM;wBACL,IAAI,UAAU,EAAE,MAAM,EAAE;4BACtB,GAAG,CAAC,WAAW,GAAG,UAAU,CAAC;yBAC9B;qBACF;gBACH,CAAC,CAAC,CAAC;gBAEH,IAAI,CAAC,eAAe,GAAG,CAAC,GAAG,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC;gBACzD,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;gBAC7B,IAAI,CAAC,eAAe,GAAG,CAAC,GAAG,IAAI,CAAC,kBAAkB,CAAC,eAAe,CAAC,CAAC;gBAEpE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;oBAC9D,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;gBACtC,CAAC,CAAC,CAAC;gBACH,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;oBAC9D,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;gBACtC,CAAC,CAAC,CAAC;gBACH,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAAC,GAAG,CACxD,CAAC,IAAI,EAAE,EAAE;oBACP,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;gBACtC,CAAC,CACF,CAAC;gBACF,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;oBACxD,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;gBACtC,CAAC,CAAC,CAAC;aACJ;iBAAM;gBACL,IAAI,sBAAsB,CAAC,KAAK,CAAC,EAAE;oBACjC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,sBAAsB,CAAC,KAAK,CAAC,CAAC,CAAC;iBAClE;gBACD,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;gBAC5B,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;aAC3B;YACD,OAAO,sBAAsB,CAAC;QAChC,CAAC,CAAC,CACH;aACA,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;iBAClE;aACF;iBAAM;gBACL,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE;oBAChB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;iBAC7B;aACF;YACD,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACvB,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;YAC5B,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;YAC5B,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,OAAO,CAAC,GAAG,CAAC,yCAAyC,EAAE,GAAG,CAAC,CAAC;YAC5D,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;QACnE,CAAC,CACF,CAAC;IACN,CAAC;IAED,eAAe,CAAC,IAAS;QACvB,IAAI,CAAC,kBAAkB,CAAC,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC;QAClE,IAAI,CAAC,kBAAkB,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC;QAChE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;YACnB,QAAQ;YACR,cAAc;YACd,aAAa;YACb,IAAI,CAAC,SAAS;YACd,MAAM;SACP,CAAC,CAAC;QACH,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IACxC,CAAC;IAED,UAAU,CAAC,IAAS;QAClB,IAAI,CAAC,kBAAkB,CAAC,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC;QAClE,IAAI,CAAC,kBAAkB,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC;QAChE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;YACnB,QAAQ;YACR,cAAc;YACd,aAAa;YACb,IAAI,CAAC,SAAS;YACd,OAAO;SACR,CAAC,CAAC;IACL,CAAC;IAED,aAAa,CAAC,CAAM,EAAE,IAAS;QAC7B,CAAC,CAAC,cAAc,EAAE,CAAC;QACnB,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,IAAI,SAAS,GAAG,EAAE,CAAC;QACnB,IAAI,CAAC,CAAC,MAAM,CAAC,OAAO,EAAE;YACpB,SAAS,GAAG,QAAQ,CAAC;YACrB,IAAI,GAAG,UAAU,CAAC;SACnB;aAAM;YACL,SAAS,GAAG,UAAU,CAAC;YACvB,IAAI,GAAG,YAAY,CAAC;SACrB;QACD,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;QAChD,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,WAAW,GAAG,EAAE,CAAC;QACrB,IAAI,WAAW,GAAG,kCAAkC,CAAC;QACrD,IACE,SAAS,IAAI,UAAU;YACvB,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,EAChD;YACA,WAAW;gBACT,mDAAmD;oBACnD,WAAW;oBACX,iBAAiB;oBACjB,IAAI;oBACJ,oBAAoB,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC;SAC5C;aAAM;YACL,WAAW;gBACT,mDAAmD;oBACnD,iBAAiB;oBACjB,IAAI;oBACJ,oBAAoB,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC;SAC5C;QACD,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;YAC/B,OAAO,EAAE,WAAW;YACpB,GAAG,EAAE,2BAA2B;YAChC,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,YAAY,CAAC,CAAC,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC;gBACtC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;YACjC,CAAC;YACD,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;gBAC/B,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;YAClC,CAAC;SACF,CAAC,CAAC;IACL,CAAC;IAED,mBAAmB,CAAC,MAAe;QACjC,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;YAC5C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;QACjD,CAAC,EAAE,GAAG,CAAC,CAAC;QACR,IAAI,CAAC,MAAM,EAAE;YACX,UAAU,CAAC,GAAG,EAAE;gBACd,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACzC,CAAC,EAAE,IAAI,CAAC,CAAC;SACV;IACH,CAAC;IAED,YAAY,CAAC,CAAM,EAAE,SAAc,EAAE,IAAS;QAC5C,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QAExC,MAAM,QAAQ,GAAG,IAAI,QAAQ,EAAE,CAAC;QAChC,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QAChD,QAAQ,CAAC,MAAM,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;QAChD,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;QACrC,QAAQ,CAAC,MAAM,CAAC,cAAc,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QACzD,QAAQ,CAAC,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC1D,QAAQ,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;QACvC,IAAI,CAAC,qBAAqB,CAAC,QAAQ,EAAE,CAAC,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;IACvD,CAAC;IAED,qBAAqB,CAAC,QAAa,EAAE,SAAc,EAAE,SAAc;QACjE,IAAI,CAAC,kBAAkB,CAAC,qBAAqB,CAAC,QAAQ,CAAC,CAAC,SAAS,CAC/D,CAAC,GAAG,EAAE,EAAE;YACN,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;iBAClE;aACF;iBAAM;gBACL,IAAI,OAAO,GAAG,EAAE,CAAC;gBACjB,IAAI,GAAG,CAAC,OAAO,CAAC,IAAI,MAAM,EAAE;oBAC1B,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;oBACvC,OAAO,GAAG,qCAAqC,GAAG,CAAC,KAAK,CAAC,MAAM,SAAS,CAAC,aAAa,CAAC,oCAAoC,CAAC;oBAC5H,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;iBAC5C;qBAAM;oBACL,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;wBACd,OAAO,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC;wBACrB,SAAS,CAAC,OAAO,GAAG,SAAU,CAAC,OAAO,CAAC;wBACvC,IAAI,CAAC,wBAAwB,CAC3B,IAAI,CAAC,QAAQ,CAAC,MAAM,EACpB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EACvB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAC3B,CAAC;wBACF,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;qBAC5C;yBAAM;wBACL,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;wBACvC,OAAO,GAAG,gDAAgD,CAAC;wBAC3D,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;qBAC5C;iBACF;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,OAAO,CAAC,GAAG,CAAC,gCAAgC,EAAE,GAAG,CAAC,CAAC;YACnD,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,CACF,CAAC;IACJ,CAAC;IAED,QAAQ,CAAC,EAAO;QACd,OAAO,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;IAC3C,CAAC;IAED,eAAe;QACb,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,EAAE,cAAc,EAAE,aAAa,CAAC,CAAC,CAAC;IAClE,CAAC;IACD,sBAAsB,CAAC,KAAK;QAC1B,IAAI,CAAC,OAAO,KAAK,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,KAAK,SAAS,CAAC,CAAC;IAC7D,CAAC;IAED,oBAAoB,CAAC,KAAK;QACxB,IAAI,CAAC,OAAO,KAAK,SAAS,CAAC,GAAG,KAAK,CAAC;IACtC,CAAC;IAED,oBAAoB,CAAC,KAAU;QAC7B,OAAO,IAAI,CAAC,iBAAiB,KAAK,EAAE,CAAC,CAAC;IACxC,CAAC;IAED,iBAAiB,CAAC,EAAe,EAAE,KAAU;QAC3C,IAAI,CAAC,iBAAiB,KAAK,EAAE,CAAC,GAAG,EAAE,CAAC,KAAK,CAAC;IAC5C,CAAC;IAED,kBAAkB,CAAC,KAAU;QAC3B,OAAO,IAAI,CAAC,OAAO,KAAK,SAAS,CAAC,CAAC;IACrC,CAAC;IAED,kBAAkB,CAAC,KAAU;QAC3B,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC;IACrB,CAAC;IAED,eAAe,CAAC,IAAY;QAC1B,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;IACzC,CAAC;;0FAhfU,qBAAqB;mHAArB,qBAAqB;;;;;;;qFAFrB,CAAC,iEAAa,EAAE,wDAAc,CAAC;;QCnC5C,yEAAkC;QAG5B,kEAAiC;QACjC,8FACF;QAAA,4DAAM;QACN,yEAAoB;QAKhB,6IAAS,qBAAiB,IAAC;QAG5B,4DAAS;QAId,yEAA6B;QAQhB,uEAAW;QAAA,4DACb;QACD,6EAOc;QAChB,4DAAM;QACN,2EAAqE;QAIhE,kEAAM;QAAA,4DACR;QACD,6EAOc;QAChB,4DAAM;QACN,2EAAmE;QAK/D,8IAAS,qBAAiB,IAAC;QAI5B,4DAAS;QAOpB,oHA2MM;QACR,4DAAM;QACN,oHAiBM;QAEN,2FAKC;QAOK,4RAAS,sEAAW,KAAC;QACtB,4DAAS;QAEV,8EAMC;QADC,4RAAS,sEAAW,KAAC;QACtB,4DAAS;;QAtSL,0DAA6B;QAA7B,0FAA6B;QAYxB,0DAAoC;QAApC,iGAAoC;QAepC,0DAA+B;QAA/B,4FAA+B;QAc/B,0DAAoC;QAApC,iGAAoC;QAQ3B,0DAA+C;QAA/C,mHAA+C;QA6M1C,0DAAiD;QAAjD,2JAAiD;QAuB3E,0DAAkB;QAAlB,2EAAkB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxS2C;AAOvC;AAGe;AAGQ;AACgD;;;;;;;;;;;;;;;ICDvF,6FAaC;IAFC,oVAAY,iFAAgB,KAAC,8TACA,2FAA+B,KAD/B;IAE9B,4DAAyB;;;IAXxB,6EAAa;;;;IAkBb,6FAaC;IAFC,mWAAY,iFAAgB,KAAC,6UACA,2FAA+B,KAD/B;IAE9B,4DAAyB;;;IAXxB,6EAAa;;;IAFf,uKAa0B;;;IAZvB,0FAAuB;;ADd7B,MAAM,uBAAuB;IAKlC,YACU,WAAwB,EACxB,WAAwB,EACxB,IAAgB,EAChB,cAA8B,EAC9B,MAAc,EACd,mBAAwC,EACxC,eAAuC;QANvC,gBAAW,GAAX,WAAW,CAAa;QACxB,gBAAW,GAAX,WAAW,CAAa;QACxB,SAAI,GAAJ,IAAI,CAAY;QAChB,mBAAc,GAAd,cAAc,CAAgB;QAC9B,WAAM,GAAN,MAAM,CAAQ;QACd,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,oBAAe,GAAf,eAAe,CAAwB;QAGjD,mBAAc,GAAQ,GAAG,CAAC;QAC1B,qBAAgB,GAAQ,GAAG,CAAC;QAE5B,aAAQ,GAAQ,IAAI,CAAC;QAIrB,mBAAc,GAAQ,EAAE,CAAC;QAEzB,WAAM,GAAG,IAAI,CAAC;QACd,UAAK,GAAG,IAAI,IAAI,EAAE,CAAC;QACnB,aAAQ,GAAG,IAAI,IAAI,CAAC,YAAY,CAAC,CAAC;QAClC,eAAU,GAAG,IAAI,IAAI,CAAC,YAAY,CAAC,CAAC;QACpC,eAAU,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;QAC7E,kBAAa,GAAG,IAAI,IAAI,EAAE,CAAC;QAC3B,iBAAY,GAAG,IAAI,IAAI,EAAE,CAAC;QAC1B,eAAU,GAAG,MAAM,CAAC,IAAI,CAAC;QACzB,aAAQ,GAAY,KAAK,CAAC;QAC1B,cAAS,GAAG,KAAK,CAAC;QAElB,iBAAY,GAAU,EAAE,CAAC;QACzB,YAAO,GAAQ,EAAE,CAAC;QAElB,YAAO,GAAG;YACR,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE;YAC7B,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE;YAC9B,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,KAAK,EAAE;SAC/B,CAAC;QAEF,SAAI,GAAG,KAAK,CAAC;QACb,WAAM,GAAG,IAAI,CAAC;QACd,aAAQ,GAAG,KAAK,CAAC;QACjB,eAAU,GAAG,IAAI,CAAC;QAClB,iBAAY,GAAG,IAAI,CAAC;QACpB,qBAAgB,GAAG,IAAI,CAAC;QACxB,WAAM,GAAG,IAAI,CAAC;QAEd,iBAAY,GAAQ,IAAI,CAAC;QAEzB,eAAU,GAAG,YAAY,CAAC;QAC1B,aAAQ,GAAG,yCAAyC,CAAC;QACrD,oBAAe,GACb,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,aAAa,CAAC;QAC5E,mBAAc,GAAG,YAAY,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC;QAExD,6BAAwB,GAAG,EAAE,CAAC;QAC9B,0BAAqB,GAAG,EAAE,CAAC;QAE3B,oBAAe,GAAG,EAAE,CAAC;QACrB,yBAAoB,GAAG,EAAE,CAAC;IAnDvB,CAAC;IAqDJ,QAAQ;QACN,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;YAC1C,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;QAErE,MAAM,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,MAAM,CAAC;QACnD,IAAI,MAAM,IAAI,MAAM,CAAC,EAAE,EAAE;YACvB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CACjE,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,CAAC,CACnE,CAAC;YACF,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;YAC7B,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC,EAAE,CAAC;YAC9B,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC;YAC7B,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,IAAI,CAAC;YAC5B,IAAI,CAAC,gBAAgB,GAAG,MAAM,CAAC,IAAI,CAAC;YACpC,IAAI,IAAI,CAAC,QAAQ,IAAI,KAAK,EAAE;gBAC1B,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;gBACpB,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC;gBACxB,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC;aAC3B;iBAAM;gBACL,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC;aACzB;SACF;QACD,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;QAExC,IAAI,CAAC,wBAAwB,CAC3B,IAAI,CAAC,MAAM,EACX,IAAI,CAAC,eAAe,EACpB,IAAI,CAAC,UAAU,EACf,IAAI,CAAC,QAAQ,CACd,CAAC;IACJ,CAAC;IAED,wBAAwB,CACtB,MAAW,EACX,OAAY,EACZ,OAAY,EACZ,QAAa;QAEb,mCAAmC;QACnC,IAAI,CAAC,gDAAgD,EAAE,CAAC;QACxD,IAAI,CAAC,eAAe;aACjB,wBAAwB,CAAC,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,QAAQ,CAAC;aAC5D,SAAS,CAAC,CAAC,GAAG,EAAE,EAAE;YACjB,IAAI,GAAG,CAAC,qBAAqB,CAAC,EAAE;gBAC9B,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC;gBAC9D,IAAI,CAAC,wBAAwB,GAAG,+DAAY,CAC1C,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC,CAC1C,CAAC;gBACF,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,wBAAwB,CAAC,CAAC;gBAC7D,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,qBAAqB,EAAE,IAAI,CAAC,CAAC;aAC3D;QACH,CAAC,CAAC,CAAC;IACP,CAAC;IAED,wBAAwB,CAAC,mBAAwB;QAC/C,mBAAmB,CAAC,OAAO,CAAC,CAAC,QAAgB,EAAE,EAAE;YAC/C,IAAI,QAAQ,IAAI,gBAAgB,EAAE;gBAChC,IAAI,CAAC,qBAAqB,CAAC,gBAAgB,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC;aACpE;iBAAM,IAAI,QAAQ,IAAI,eAAe,EAAE;gBACtC,IAAI,CAAC,qBAAqB,CAAC,eAAe,CAAC;oBACzC,IAAI,CAAC,QAAQ,IAAI,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC;aAC1C;iBAAM;gBACL,IAAI,CAAC,qBAAqB,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC;aAC7C;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,YAAY,CAAC,KAAU;QACrB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,cAAc,EAAE,KAAK,CAAC,CAAC;QAC/D,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC,KAAK,CAAC;QAClC,IAAI,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,gBAAgB,EAAE;YAChD,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,cAAc,CAAC;YAC5C,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;YACtB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,IAAI,IAAI,CAAC,qBAAqB,CAAC,cAAc,EAAE;gBAC7C,IAAI,CAAC,qBAAqB,CAAC,WAAW,GAAG,IAAI,CAAC;gBAC9C,IAAI,IAAI,CAAC,qBAAqB,CAAC,cAAc,EAAE,KAAK,EAAE;oBACpD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,+BAA+B,CAAC,CAAC;iBACpE;gBACD,IAAI,CAAC,qBAAqB,CAAC,cAAc,GAAG,SAAS,CAAC;aACvD;YACD,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;YACxC,IAAI,IAAI,CAAC,cAAc,IAAI,GAAG,EAAE;gBAC9B,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC;gBAC9B,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;gBACtB,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,wBAAwB,CAAC,CAAC;gBAC7D,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,qBAAqB,EAAE,IAAI,CAAC,CAAC;aAC3D;iBAAM;gBACL,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC;gBAC9B,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;gBACtB,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,wBAAwB,CAAC,CAAC;gBAC7D,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,qBAAqB,EAAE,IAAI,CAAC,CAAC;aAC3D;SACF;IACH,CAAC;IAED,kBAAkB,CAAC,qBAA0B,EAAE,OAAgB,KAAK;QAClE,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC;QACxC,IAAI,4BAA4B,GAAG,EAAE,CAAC;QACtC,KAAK,MAAM,CAAC,QAAQ,EAAE,KAAK,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,qBAAqB,CAAC,EAAE;YACrE,OAAO,CAAC,GAAG,CAAC,GAAG,QAAQ,KAAK,KAAK,EAAE,CAAC,CAAC;YACrC,4BAA4B,CAAC,IAAI,CAAC,GAAG,QAAQ,MAAM,KAAK,EAAE,CAAC,CAAC;SAC7D;QAED,IAAI,kBAAkB,GAAG,4BAA4B,CAAC,MAAM;YAC1D,CAAC,CAAC,4BAA4B,CAAC,IAAI,CAAC,GAAG,CAAC;YACxC,CAAC,CAAC,IAAI,CAAC;QACT,IAAI,CAAC,IAAI;aACN,GAAG,CAAC,qDAAqD,EAAE;YAC1D,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,aAAa,EAAE,kBAAkB,CAAC;iBACtC,GAAG,CAAC,MAAM,EAAE,yCAAyC,CAAC;iBACtD,GAAG,CAAC,YAAY,EAAE,YAAY,CAAC;iBAC/B,GAAG,CAAC,cAAc,EAAE,aAAa,CAAC;SACtC,CAAC;aACD,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;gBACd,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;gBAClB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;aAC/C;iBAAM;gBACL,2BAA2B;gBAC3B,IAAI,IAAI,EAAE;oBACR,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC;oBACpB,IAAI,IAAI,CAAC,IAAI,IAAI,MAAM,EAAE;wBACvB,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;qBACtC;yBAAM;wBACL,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;qBACxC;iBACF;qBAAM;oBACL,IAAI,CAAC,qBAAqB,CAAC,qBAAqB,CAAC,GAAG,CAAC,CAAC;iBACvD;gBACD,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;aAC1C;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,yDAAyD,CAC1D,CAAC;YACF,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,CACF,CAAC;IACN,CAAC;IAED,+BAA+B;IAC/B,cAAc;IACd,YAAY;IACZ,gFAAgF;IAChF,UAAU;IACV,iEAAiE;IACjE,UAAU;IACV,QAAQ;IACR,kBAAkB;IAClB,mBAAmB;IACnB,wCAAwC;IACxC,2CAA2C;IAC3C,4DAA4D;IAC5D,YAAY;IACZ,WAAW;IACX,mBAAmB;IACnB,6CAA6C;IAC7C,oEAAoE;IACpE,aAAa;IACb,UAAU;IACV,SAAS;IACT,IAAI;IAEJ,gDAAgD;QAC9C,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;QACrB,IAAI,CAAC,eAAe;aACjB,gDAAgD,EAAE;aAClD,SAAS,CACR,CAAC,SAAgB,EAAE,EAAE;YACnB,8BAA8B;YAC9B,OAAO,CAAC,GAAG,CAAC,sBAAsB,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;YAClD,OAAO,CAAC,GAAG,CAAC,sBAAsB,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;YAClD,IAAI,CAAC,UAAU,GAAG;gBAChB,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;gBACvB,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;aACxB,CAAC;QACJ,CAAC,EACD,CAAC,KAAK,EAAE,EAAE;YACR,wCAAwC;YACxC,OAAO,CAAC,KAAK,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;YAC/B,0EAA0E;QAC5E,CAAC,CACF,CAAC;IACN,CAAC;IAED,kBAAkB,CAAC,MAAW;QAC5B,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,CAAC,IAAI;aACN,GAAG,CACF,kEAAkE,MAAM,EAAE,EAC1E;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC;SACtD,CACF;aACA,IAAI,CACH,qDAAK,CAAC,IAAI,CAAC,CAAC,wCAAwC;SACrD;aACA,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,EAAE;gBAC1B,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,CAAC;gBACjC,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC,cAAc,CAAC,CAAC;gBACpC,yCAAyC;gBACzC,OAAO,CAAC,GAAG,EAAE,CAAC;gBACd,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC,cAAc,CAAC,CAAC,YAAY,CAAC,CAAC;gBACpD,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC,cAAc,CAAC,CAAC,QAAQ,CAAC,CAAC;gBAC5C,qDAAqD;gBACrD,gCAAgC;gBAChC,gCAAgC;gBAChC,IAAI;aACL;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,uDAAuD,CACxD,CAAC;YACF,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,CACF,CAAC;IACN,CAAC;IAED,QAAQ,CAAC,OAAY;QACnB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,IAAI,eAAe,GAAG,IAAI,QAAQ,EAAE,CAAC;QACrC,KAAK,IAAI,GAAG,IAAI,OAAO,EAAE;YACvB,eAAe,CAAC,MAAM,CAAC,GAAG,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC;SAC3C;QACD,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,eAAe,CAAC,CAAC;QACzC,IAAI,IAAI,CAAC,IAAI,IAAI,MAAM,EAAE;YACvB,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC;YAC7B,OAAO,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC;YACxC,OAAO,CAAC,cAAc,CAAC;gBACrB,IAAI,CAAC,QAAQ,IAAI,KAAK,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,YAAY,CAAC;YACtD,OAAO,CAAC,QAAQ,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACxC,IAAI,CAAC,sBAAsB,CAAC,OAAO,CAAC,CAAC;SACtC;aAAM;YACL,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC;YAC3C,OAAO,CAAC,cAAc,CAAC;gBACrB,IAAI,CAAC,QAAQ,IAAI,KAAK,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,YAAY,CAAC;YACtD,OAAO,CAAC,QAAQ,CAAC,GAAG,MAAM,CAAC,CAAC,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,CAAC,CAAC;YACrD,IAAI,CAAC,uBAAuB,CAAC,OAAO,CAAC,CAAC;SACvC;IACH,CAAC;IACD,sBAAsB,CAAC,OAAY;QACjC,IAAI,CAAC,IAAI;aACN,GAAG,CACF,mEAAmE,EACnE,OAAO,EACP;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC;iBAC1B,GAAG,CACF,cAAc,EACd,IAAI,CAAC,QAAQ,IAAI,KAAK,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,YAAY,CACpD;SACJ,CACF;aACA,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,EAAE;gBAC1B,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;oBAChD,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;iBACxC;qBAAM;oBACL,IAAI,GAAG,CAAC,MAAM,CAAC,EAAE;wBACf,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC;qBAChD;yBAAM;wBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,yCAAyC,CAC1C,CAAC;qBACH;oBACD,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,EAAE,qBAAqB,CAAC,CAAC,CAAC;oBACxD,iBAAiB;iBAClB;aACF;iBAAM;gBACL,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;aACxC;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,qDAAqD,CACtD,CAAC;YACF,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;YACxB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,CACF,CAAC;IACN,CAAC;IACD,uBAAuB,CAAC,OAAY;QAClC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACzB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC3B,IAAI,CAAC,IAAI;aACN,IAAI,CACH,iEAAiE,EACjE,OAAO,EACP;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC;iBAC1B,GAAG,CACF,cAAc,EACd,IAAI,CAAC,QAAQ,IAAI,KAAK,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,YAAY,CACpD;SACJ,CACF;aACA,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,EAAE;gBAC1B,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;oBAChD,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;iBACxC;qBAAM;oBACL,IAAI,GAAG,CAAC,MAAM,CAAC,EAAE;wBACf,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC;qBAChD;yBAAM;wBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,iCAAiC,CAClC,CAAC;qBACH;oBACD,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,EAAE,qBAAqB,CAAC,CAAC,CAAC;iBACzD;gBACD,iBAAiB;aAClB;iBAAM;gBACL,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;aACxC;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,qDAAqD,CACtD,CAAC;YACF,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;YACxB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,CACF,CAAC;IACN,CAAC;IAED,yBAAyB,CAAC,OAAY;QACpC,IAAI,CAAC,IAAI;aACN,GAAG,CACF,iEAAiE,EACjE,OAAO,EACP;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC;iBAC1B,GAAG,CAAC,cAAc,EAAE,YAAY,CAAC;SACrC,CACF;aACA,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,EAAE;gBAC1B,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;oBAChD,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;iBACxC;qBAAM;oBACL,IAAI,GAAG,CAAC,MAAM,CAAC,EAAE;wBACf,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC;qBAChD;yBAAM;wBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,mCAAmC,CACpC,CAAC;qBACH;oBACD,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,EAAE,qBAAqB,CAAC,CAAC,CAAC;iBACzD;gBACD,iBAAiB;aAClB;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,qDAAqD,CACtD,CAAC;YACF,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,CACF,CAAC;IACN,CAAC;IAED,mBAAmB;QACjB,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;YAC5C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;QACjD,CAAC,EAAE,GAAG,CAAC,CAAC;QACR,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,EAAE,IAAI,CAAC,CAAC;IACX,CAAC;;8FA1cU,uBAAuB;qHAAvB,uBAAuB;kEACvB,uGAAyB;;;;;;QCrBtC,yEAAsC;QAElC,uDACF;QAAA,4DAAM;QACN,yEAAoB;QAEhB,8JAAY,wBAAoB,IAAC;QAGjC,gFAGC;QACC,yJAa0B;QAC5B,4DAAa;QACb,gFAGC;QACC,mIAec;QAChB,4DAAa;QAKnB,wFAKC;QAOK,8RAAS,sEAAW,KAAC;QACtB,4DAAS;QAEV,8EAMC;QADC,8RAAS,sEAAW,KAAC;QACtB,4DAAS;;QAxEV,0DACF;QADE,uJACF;QAII,0DAAgC;QAAhC,2FAAgC;QAI9B,0DAAgD;QAAhD,iHAAgD;QAG7C,0DAAuB;QAAvB,uFAAuB;QAgB1B,0DAAgD;QAAhD,iHAAgD;QA2BtD,0DAAkB;QAAlB,2EAAkB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzD2C;AAUxC;AAMC;AAOuB;AACA;;;;;;;;;;;;;;;;;;;;ICIlC,2EAA8C;IAAA,4DAAC;IAAA,4DAAO;;;IA2BjD,2EAA8C;IAAA,uDAE5C;IAAA,4DAAO;;;IAFqC,0DAE5C;IAF4C,gFAE5C;;;IACF,2EAA8C;IAAA,uDAE5C;IAAA,4DAAO;;;IAFqC,0DAE5C;IAF4C,gFAE5C;;;;;IA9BN,wEAAqC;IACnC,0EAYC;IAUG,wdAAiB,wGAAmC,KAAC;IATvD,4DAUE;IACF,4LAES;IACT,4LAES;IACX,4DAAM;IACR,qEAAe;;;;IA7BX,0DAQC;IARD,+XAQC;IAOC,0DAA8B;IAA9B,0FAA8B;IAON,0DAAkB;IAAlB,iFAAkB;IAGlB,0DAAkB;IAAlB,iFAAkB;;;IA+B1C,2EAA8C;IAAA,uDAE5C;IAAA,4DAAO;;;IAFqC,0DAE5C;IAF4C,gFAE5C;;;IACF,2EAA8C;IAAA,uDAE5C;IAAA,4DAAO;;;IAFqC,0DAE5C;IAF4C,gFAE5C;;;;IA/BR,wEAAuC;IAEnC,0EAYC;IAUG,wdAAiB,wGAAmC,KAAC;IATvD,4DAUE;IACF,4LAES;IACT,4LAES;IACX,4DAAM;IACR,qEAAe;;;;IA7BX,0DAQC;IARD,+XAQC;IAOC,0DAA8B;IAA9B,0FAA8B;IAON,0DAAkB;IAAlB,iFAAkB;IAGlB,0DAAkB;IAAlB,iFAAkB;;;;IA0BlD,qFA0BC;IAdC,icAAY,gGAAkC,KAAC,maAC9B,wGAAmC,KADL;IAchD,4DAAa;;;;IArBZ,0EAAiB;;;;IAsBnB,iFAKC;IADC,idAAY,oGAA+B,KAAC;IAC7C,4DAAa;;;IAHZ,0FAA8B;;;IAuB5B,0EAA2B;IACpB,uDAAsB;IAAA,4DAAM;;;IAA5B,0DAAsB;IAAtB,qFAAsB;;;IApBjC,iFAiBC;IACC,wMAIc;IAAA,4DACf;;;;IApBC,kLAIC;;;IAgCC,0EAA2D;IAEvD,uDAKF;IAAA,4DAAM;;;;;IALJ,0DAKF;IALE,0KAKF;;;IAPF,uMAQM;;;IARwC,0EAAW;;;IAWzD,0EAA2B;IACpB,uDAAsB;IAAA,4DAAM;;;IAA5B,0DAAsB;IAAtB,qFAAsB;;;IA3BjC,iFAaC;IACC,yMAUc;IACd,yMAIc;IAChB,4DAAa;;;;IA3BX,0FAA8B;;;IAiC9B,6EAGC;IACC,uDACF;IAAA,4DAAS;;;IAHP,mFAAsB;IAEtB,0DACF;IADE,4FACF;;;IAVF,6EAIC;IACC,2LAKS;IACX,4DAAS;;;IARP,0FAA8B;IAGT,0DAAgB;IAAhB,qFAAgB;;;IAOzC,4EAQG;IAAA,uDAAmC;IAAA,4DACrC;;;IADE,0DAAmC;IAAnC,0GAAmC;;;IAEtC,4EAUG;IAAA,uDACI;IAAA,4DACN;;;IAFE,0DACI;IADJ,+IACI;;;IAEP,4EAUG;IAAA,uDAIC;IAAA,4DACH;;;IALE,0DAIC;IAJD,uJAIC;;;IAEJ,4EAUG;IAAA,uDACgC;IAAA,4DAClC;;;IAFE,0DACgC;IADhC,kJACgC;;;IAEnC,4EAOG;IAAA,sFAA2B;IAAA,4DAC7B;;;;IA7QH,0EAQC;IAKI,uDAIC;IAAA,4DACH;IAAA,6KAAsD;IACvD,4EAA2C;IACzC,6LAgCe;IACf,6LAkDe;IAKf,yLA0Bc;IACd,yLAKc;IACd,yLAuBC;IACD,2LA8Ba;IACb,mLAWS;IACX,qEAAe;IACf,iLASC;IACD,iLAYC;IACD,iLAeC;IACD,iLAYC;IACD,iLAQC;IACH,4DAAM;;;;;IA5QJ,kRAKE;IAGA,0DAEC;IAFD,8HAEC;IACA,0DAIC;IAJD,0NAIC;IACI,0DAAoB;IAApB,mFAAoB;IACd,0DAA4B;IAA5B,wFAA4B;IACzB,0DAAoB;IAApB,gFAAoB;IAiCpB,0DAAsB;IAAtB,kFAAsB;IAwDlC,0DAAoB;IAApB,gFAAoB;IA2BpB,0DAAwB;IAAxB,oFAAwB;IAMxB,0DAA8B;IAA9B,0FAA8B;IAwB9B,0DAA4B;IAA5B,wFAA4B;IA+B5B,0DAA2B;IAA3B,uFAA2B;IAa7B,0DAKH;IALG,gSAKH;IAKG,0DAOL;IAPK,yWAOL;IAMK,0DAOL;IAPK,uWAOL;IASK,0DAOL;IAPK,yWAOL;IAMK,0DAIF;IAJE,6QAIF;;;IA3QL,wEAAmD;IACjD,uKA8QM;IACR,qEAAe;;;IA9QV,0DAAmB;IAAnB,kFAAmB;;;IAT5B,8EAKC;IAEG,uKAgRe;IACjB,4DAAM;;;;IAvRN,uFAA2B;IAMO,0DAAiB;IAAjB,sFAAiB;;;IARvD,wEAAmD;IACjD,oJAyRU;IACZ,qEAAe;;;;IAtRV,0DAA+B;IAA/B,qGAA+B;;;;IA0SlC,6EAQC;IADC,oTAAS,wFAAc,KAAC;IACzB,4DAAS;;;IAHR,4HAAqD;;;;IArT3D,0EAAwE;IACtE,8IA2Re;IACf,0EAAgD;IAO5C,0SAAS,4EAAU,KAAC;IAErB,4DAAS;IACV,6EAQC;IAFC,0SAAS,2EAAS,KAAC;IAEpB,4DAAS;IACV,mIAQU;IACZ,4DAAM;;;IAzTmC,4FAA4B;IACnC,0DAAe;IAAf,wFAAe;IAoS7C,0DAAwB;IAAxB,wFAAwB;IASxB,0DAAwB;IAAxB,wFAAwB;IAGvB,0DAAuB;IAAvB,0FAAuB;;;IAU9B,0EAA6C;IAErB,qEAAsC;IAAA,4DAAM;IAElE,0EAAiB;IAEV,yEAAc;IAAA,4DAAI;;ADlSpB,MAAM,yBAAyB;IA6CpC,YACU,WAAwB,EACxB,WAAwB,EACxB,cAA8B,EAC9B,MAAc,EACd,mBAAwC,EACxC,IAAgB,EAChB,eAAuC;QANvC,gBAAW,GAAX,WAAW,CAAa;QACxB,gBAAW,GAAX,WAAW,CAAa;QACxB,mBAAc,GAAd,cAAc,CAAgB;QAC9B,WAAM,GAAN,MAAM,CAAQ;QACd,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,SAAI,GAAJ,IAAI,CAAY;QAChB,oBAAe,GAAf,eAAe,CAAwB;QA1C9B,aAAQ,GAAY,KAAK,CAAC;QAEnC,aAAQ,GAAG,IAAI,uDAAY,EAAO,CAAC;QACnC,8BAAyB,GAAG,IAAI,uDAAY,EAAO,CAAC;QAE9D,wBAAwB;QAExB,gBAAW,GAAY,KAAK,CAAC;QAC7B,mBAAc,GAAQ,EAAE,CAAC;QAEzB,WAAM,GAAG,IAAI,CAAC;QACd,WAAM,GAAG,IAAI,CAAC;QACd,cAAS,GAAG,KAAK,CAAC;QAClB,UAAK,GAAG,IAAI,IAAI,EAAE,CAAC;QACnB,aAAQ,GAAG,IAAI,IAAI,CAAC,YAAY,CAAC,CAAC;QAClC,eAAU,GAAG,IAAI,IAAI,CAAC,YAAY,CAAC,CAAC;QACpC,eAAU,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;QAG7E,iBAAY,GAAU,EAAE,CAAC;QAEzB,eAAU,GAAG,MAAM,CAAC,IAAI,CAAC;QAEzB,gBAAW,GAAG,IAAI,CAAC;QACnB,gBAAW,GAAG,EAAE,CAAC;QACjB,kBAAa,GAAG,IAAI,CAAC;QACrB,YAAO,GAAG,KAAK,CAAC;QAEhB,oBAAe,GAAQ,KAAK,CAAC;QAE7B,mBAAc,GAAiB,IAAI,CAAC;QAEpC,yBAAoB,GAAG,EAAE,CAAC;QAC1B,4BAAuB,GAAG,EAAE,CAAC;IAU1B,CAAC;IAEJ,QAAQ;QACN,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;IACvE,CAAC;IAED,WAAW,CAAC,CAAM;QAChB,OAAO,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC,CAAC,CAAC;QAE9B,IAAI,CAAC,CAAC,QAAQ,IAAI,CAAC,CAAC,QAAQ,CAAC,YAAY,EAAE;YACzC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC,CAAC;YACvE,IAAI,IAAI,CAAC,aAAa,EAAE;gBACtB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;gBACjD,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;aACtC;SACF;QACD,IAAI,CAAC,CAAC,UAAU,IAAI,CAAC,CAAC,UAAU,CAAC,YAAY,EAAE;YAC7C,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,YAAY,CAAC;YAC/C,IAAI,IAAI,CAAC,WAAW,EAAE;gBACpB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;gBACjD,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;aACtC;SACF;QACD,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,IAAI,CAAC,YAAY,EAAE;YACjC,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC;SACpC;QAED,IAAI,CAAC,CAAC,QAAQ,IAAI,CAAC,CAAC,QAAQ,CAAC,YAAY,EAAE;YACzC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC,CAAC;YACvE,IAAI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,MAAM,EAAE;gBACxC,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;gBACnD,IAAI,CAAC,gBAAgB,EAAE,CAAC;aACzB;SACF;IACH,CAAC;IAED,gBAAgB,CAAC,QAAkB;QACjC,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,QAAQ,CAAC,mBAAmB,CAAC,aAAa,EAAE;gBAC9C,QAAQ,CAAC,mBAAmB,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;aACpD;QACH,CAAC,EAAE,CAAC,CAAC,CAAC;IACR,CAAC;IAED,oBAAoB,CAAC,CAAM,EAAE,SAAc;QACzC,IAAI,SAAS,CAAC,WAAW,IAAI,SAAS,CAAC,WAAW,CAAC,MAAM,EAAE;YACzD,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,CAAC,MAAM,EAAE;gBACZ,KAAK,GAAG,KAAK,CAAC;aACf;YACD,SAAS,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;gBACpC,2BAA2B;gBAC3B,IAAI,GAAG,IAAI,CAAC,EAAE;oBACZ,KAAK,GAAG,IAAI,CAAC;iBACd;YACH,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,KAAK,EAAE;gBACV,IAAI,QAAQ,GAAG,IAAI,CAAC,cAAc;qBAC/B,GAAG,CAAC,SAAS,CAAC,QAAQ,CAAC;oBACxB,EAAE,GAAG,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;gBACxB,IAAI,QAAQ,EAAE;oBACZ,QAAQ,CAAC,SAAS,CAAC;wBACjB,YAAY,EAAE,IAAI;qBACnB,CAAC,CAAC;iBACJ;aACF;SACF;IACH,CAAC;IACD,oBAAoB,CAAC,CAAM,EAAE,SAAc;QACzC,IAAI,SAAS,CAAC,WAAW,IAAI,SAAS,CAAC,WAAW,CAAC,MAAM,EAAE;YACzD,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,EAAE;gBACL,KAAK,GAAG,KAAK,CAAC;gBACd,SAAS,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;oBACpC,2BAA2B;oBAC3B,IAAI,GAAG,IAAI,CAAC,CAAC,kBAAkB,CAAC,OAAO,CAAC,EAAE;wBACxC,KAAK,GAAG,IAAI,CAAC;qBACd;gBACH,CAAC,CAAC,CAAC;aACJ;YACD,IAAI,CAAC,KAAK,EAAE;gBACV,IAAI,QAAQ,GAAG,IAAI,CAAC,cAAc;qBAC/B,GAAG,CAAC,SAAS,CAAC,QAAQ,CAAC;oBACxB,EAAE,GAAG,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;gBACxB,IAAI,QAAQ,EAAE;oBACZ,QAAQ,CAAC,SAAS,CAAC;wBACjB,YAAY,EAAE,IAAI;qBACnB,CAAC,CAAC;iBACJ;aACF;SACF;IACH,CAAC;IAED,aAAa,CAAC,IAAS;QACrB,IAAI,CAAC,oBAAoB,GAAG,+DAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACrD,iBAAiB;QACjB,IAAI,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,KAAK,EAAE,EAAE;YACjD,MAAM,gBAAgB,GAAG,KAAK,CAAC,cAAc,CAAC;YAC9C,CAAC,GAAG,CAAC,gBAAgB,CAAC,GAAG,GAAG,CAAC,gBAAgB,CAAC,IAAI,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAClE,OAAO,GAAG,CAAC;QACb,CAAC,EAAE,EAAE,CAAC,CAAC;QACP,IAAI,OAAO,GAAG,EAAE,CAAC;QACjB,IAAI,CAAC,uBAAuB,GAAG,EAAE,CAAC;QAClC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;YACvC,IAAI,IAAI,GAAG;gBACT,QAAQ,EAAE,GAAG;gBACb,QAAQ,EAAE,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,qBAAqB,CAAC;gBACpD,MAAM,EAAE,WAAW,CAAC,GAAG,CAAC;qBACrB,GAAG,CAAC,CAAC,OAAO,EAAE,EAAE;oBACf,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC;oBACtD,IAAI,OAAO,CAAC,gBAAgB,CAAC,IAAI,KAAK,EAAE;wBACtC,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC;qBACpD;oBACD,IAAI,KAAK,GAAG;wBACV,QAAQ,EAAE,GAAG;wBACb,mBAAmB,EAAE,OAAO,CAAC,qBAAqB,CAAC;wBACnD,IAAI,EAAE,OAAO,CAAC,SAAS,CAAC;wBACxB,sBAAsB,EAAE,CAAC,OAAO,CAAC,mBAAmB,CAAC;wBACrD,SAAS,EAAE,OAAO,CAAC,SAAS,CAAC;wBAC7B,SAAS,EAAE,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,MAAM;wBAC/D,YAAY,EAAE,OAAO,CAAC,cAAc,CAAC;4BACnC,CAAC,CAAC,OAAO,CAAC,cAAc,CAAC;4BACzB,CAAC,CAAC,EAAE;wBACN,UAAU,EAAE,OAAO,CAAC,kBAAkB,CAAC;wBACvC,QAAQ,EAAE,OAAO,CAAC,aAAa,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK;wBACzD,eAAe,EAAE,IAAI,CAAC,eAAe,CAAC,QAAQ,CAC5C,OAAO,CAAC,gBAAgB,CAAC,CAC1B;4BACC,CAAC,CAAC,OAAO,CAAC,aAAa,CAAC,IAAI,MAAM;gCAChC,CAAC,CAAC,IAAI;gCACN,CAAC,CAAC,KAAK;4BACT,CAAC,CAAC,KAAK;wBACT,MAAM,EAAE,OAAO,CAAC,UAAU,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK;wBACpD,OAAO,EAAE,OAAO,CAAC,WAAW,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK;wBACtD,WAAW,EAAE,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,EAAE;wBACjE,YAAY,EACV,OAAO,CAAC,cAAc,CAAC,IAAI,OAAO,CAAC,cAAc,CAAC,IAAI,MAAM;4BAC1D,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;4BACrC,CAAC,CAAC,KAAK;wBACX,YAAY,EACV,OAAO,CAAC,kBAAkB,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK;wBACtD,MAAM,EAAE,OAAO,CAAC,QAAQ,CAAC;wBACzB,SAAS,EACP,OAAO,CAAC,WAAW,CAAC,EAAE,MAAM,GAAG,CAAC;4BAChC,OAAO,CAAC,WAAW,CAAC,IAAI,MAAM;4BAC5B,CAAC,CAAC,CAAC,OAAO,CAAC,WAAW,CAAC;4BACvB,CAAC,CAAC,KAAK;wBACX,SAAS,EACP,OAAO,CAAC,WAAW,CAAC,EAAE,MAAM,GAAG,CAAC;4BAChC,OAAO,CAAC,WAAW,CAAC,IAAI,MAAM;4BAC5B,CAAC,CAAC,CAAC,OAAO,CAAC,WAAW,CAAC;4BACvB,CAAC,CAAC,KAAK;wBACX,KAAK,EACH,OAAO,CAAC,OAAO,CAAC;4BAChB,OAAO,CAAC,OAAO,CAAC,IAAI,MAAM;4BAC1B,OAAO,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,CAAC,MAAM;4BAC5B,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC;4BAClB,CAAC,CAAC,KAAK;wBACX,QAAQ,EACN,OAAO,CAAC,cAAc,CAAC,IAAI,OAAO,CAAC,cAAc,CAAC,CAAC,IAAI,EAAE,CAAC,MAAM;4BAC9D,CAAC,CAAC,OAAO,CAAC,cAAc,CAAC;4BACzB,CAAC,CAAC,KAAK;wBACX,WAAW,EACT,OAAO,CAAC,aAAa,CAAC,IAAI,OAAO,CAAC,aAAa,CAAC,CAAC,MAAM;4BACrD,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;4BACpC,CAAC,CAAC,KAAK;wBACX,yBAAyB,EACvB,OAAO,CAAC,2BAA2B,CAAC;4BACpC,OAAO,CAAC,2BAA2B,CAAC,IAAI,KAAK;4BAC3C,CAAC,CAAC,OAAO,CAAC,2BAA2B,CAAC;4BACtC,CAAC,CAAC,KAAK;wBACX,MAAM,EACJ,OAAO,CAAC,QAAQ,CAAC,IAAI,OAAO,CAAC,QAAQ,CAAC,CAAC,IAAI,EAAE,CAAC,MAAM;4BAClD,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC;4BACnB,CAAC,CAAC,KAAK;wBACX,MAAM,EACJ,OAAO,CAAC,QAAQ,CAAC,IAAI,OAAO,CAAC,QAAQ,CAAC,CAAC,IAAI,EAAE,CAAC,MAAM;4BAClD,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC;4BACnB,CAAC,CAAC,KAAK;wBACX,UAAU,EACR,OAAO,CAAC,YAAY,CAAC,IAAI,OAAO,CAAC,YAAY,CAAC,CAAC,MAAM;4BACnD,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;4BACnC,CAAC,CAAC,KAAK;wBACX,OAAO,EACL,OAAO,CAAC,WAAW,CAAC,IAAI,MAAM;4BAC5B,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC;gCAClB,CAAC,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;gCAC9B,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;4BACzC,CAAC,CAAC,IAAI,CAAC,QAAQ;wBACnB,OAAO,EACL,OAAO,CAAC,WAAW,CAAC,IAAI,MAAM;4BAC5B,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC;gCAClB,CAAC,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;gCAC9B,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;4BACzC,CAAC,CAAC,IAAI,CAAC,UAAU;wBACrB,WAAW,EACT,OAAO,CAAC,WAAW,CAAC,IAAI,MAAM;4BAC5B,CAAC,CAAC,OAAO,CAAC,aAAa,CAAC;gCACtB,CAAC,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;gCAClC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;4BACzC,CAAC,CAAC,IAAI,IAAI,EAAE;wBAChB,gBAAgB,EACd,OAAO,CAAC,kBAAkB,CAAC;4BAC3B,OAAO,CAAC,kBAAkB,CAAC,CAAC,MAAM;4BAChC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,kBAAkB,CAAC,CAAC;4BACzC,CAAC,CAAC,KAAK;wBACX,kBAAkB,EAChB,OAAO,CAAC,oBAAoB,CAAC;4BAC7B,OAAO,CAAC,oBAAoB,CAAC,CAAC,MAAM;4BAClC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,oBAAoB,CAAC,CAAC;4BAC3C,CAAC,CAAC,KAAK;wBACX,KAAK,EAAE,OAAO,CAAC,OAAO,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK;wBAChD,OAAO,EAAE,OAAO,CAAC,SAAS,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK;qBACrD,CAAC;oBACF,OAAO,KAAK,CAAC;gBACf,CAAC,CAAC;qBACD,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,sBAAsB,GAAG,CAAC,CAAC,sBAAsB,CAAC;aACvE,CAAC;YACF,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACrB,CAAC,CAAC,CAAC;QACH,eAAe;QAEf,IAAI,CAAC,YAAY,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,QAAQ,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC;QACpE,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;QACzB,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;YACpC,IAAI,iBAAiB,GAAG,KAAK,CAAC;YAC9B,MAAM,YAAY,GAAG,IAAI,4DAAgB,CAAC,EAAE,CAAC,CAAC;YAC9C,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;gBAC/B,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE;oBACjB,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC;iBACpD;gBACD,IAAI,KAAK,CAAC,OAAO,EAAE;oBACjB,iBAAiB,GAAG,IAAI,CAAC;iBAC1B;gBACD,IAAI,UAAU,GAAG,EAAE,CAAC;gBACpB,IAAI,KAAK,CAAC,SAAS,EAAE;oBACnB,UAAU,CAAC,IAAI,CAAC,gEAAoB,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC;iBACxD;gBACD,IAAI,KAAK,CAAC,SAAS,EAAE;oBACnB,UAAU,CAAC,IAAI,CAAC,gEAAoB,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC;iBACxD;gBACD,IAAI,KAAK,CAAC,QAAQ,EAAE;oBAClB,UAAU,CAAC,IAAI,CAAC,+DAAmB,CAAC,CAAC;iBACtC;gBACD,IAAI,KAAK,CAAC,KAAK,EAAE;oBACf,UAAU,CAAC,IAAI,CAAC,8DAAkB,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;iBAClD;gBACD,YAAY,CAAC,UAAU,CACrB,KAAK,CAAC,IAAI,EACV,IAAI,CAAC,WAAW,CAAC,OAAO,CACtB;oBACE,KAAK,EAAE,KAAK,CAAC,YAAY,CAAC,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,CAAC,EAAE;oBACnD,QAAQ,EAAE,CAAC,KAAK,CAAC,MAAM;iBACxB,EACD,UAAU,CACX,CACF,CAAC;YACJ,CAAC,CAAC,CAAC;YACH,OAAO,CAAC,WAAW,CAAC,GAAG,iBAAiB,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;YACxD,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,OAAO,CAAC,QAAQ,EAAE,YAAY,CAAC,CAAC;QACjE,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACvC,IAAI,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,iBAAiB,CAAC,EAAE,GAAG,CAAC,gBAAgB,CAAC,EAAE;YACrE,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc;iBACtC,GAAG,CAAC,iBAAiB,CAAC;gBACvB,EAAE,GAAG,CAAC,gBAAgB,CAAC;iBACtB,YAAY,CAAC,SAAS,CAAC,CAAC,KAAK,EAAE,EAAE;gBAChC,IAAI,KAAK,IAAI,KAAK,CAAC,IAAI,EAAE;oBACvB,IAAI,iBAAiB,IAAI,IAAI,CAAC,UAAU,EAAE;wBACxC,IAAI,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,iBAAiB,CAAC,CAAC,MAAM,CACxD,CAAC,QAAa,EAAE,EAAE,CAAC,QAAQ,CAAC,IAAI,IAAI,KAAK,CAAC,IAAI,CAC/C,CAAC;wBACF,IAAI,UAAU,IAAI,UAAU,CAAC,MAAM,EAAE;4BACnC,IAAI,CAAC,eAAe,GAAG,UAAU,CAAC,CAAC,CAAC,EAAE,eAAe,EAAE,MAAM;gCAC3D,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,eAAe;gCAC/B,CAAC,CAAC,KAAK,CAAC;yBACX;6BAAM;4BACL,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;yBAC9B;qBACF;iBACF;YACH,CAAC,CAAC,CAAC;SACN;QAED,EAAE;QACF,IAAI,IAAI,CAAC,wBAAwB,IAAI,IAAI,CAAC,wBAAwB,CAAC,MAAM,EAAE;YACzE,IAAI,CAAC,wBAAwB,CAAC,OAAO,CAAC,CAAC,QAAQ,EAAE,EAAE;gBACjD,IAAI,CAAC,CAAC,QAAQ,IAAI,gBAAgB,IAAI,QAAQ,IAAI,eAAe,CAAC,EAAE;oBAClE,IAAI,SAAS,GAAG,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAC9C,CAAC,SAAS,EAAE,EAAE,CAAC,SAAS,CAAC,OAAO,IAAI,QAAQ,CAC7C,CAAC,CAAC,CAAC,CAAC;oBACL,IAAI,SAAS,EAAE;wBACb,IAAI,YAAY,GAAG,SAAS,CAAC,cAAc,CAAC;wBAC5C,IAAI,SAAS,GAAG,SAAS,CAAC,SAAS,CAAC;wBACpC,IAAI,CAAC,cAAc;6BAChB,GAAG,CAAC,YAAY,CAAC;4BAClB,EAAE,GAAG,CAAC,QAAQ,CAAC;6BACd,YAAY,CAAC,SAAS,CAAC,CAAC,KAAK,EAAE,EAAE;4BAChC,IAAI,CAAC,wBAAwB,CAAC,QAAQ,EAAE,KAAK,EAAE,SAAS,CAAC,CAAC;wBAC5D,CAAC,CAAC,CAAC;qBACN;iBACF;YACH,CAAC,CAAC,CAAC;SACJ;QAED,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;IACvB,CAAC;IAED,wBAAwB,CAAC,QAAQ,EAAE,KAAK,EAAE,SAAS;QACjD,IAAI,KAAK,EAAE;YACT,IAAI,SAAS,GAAG,KAAK,CAAC;YACtB,QAAQ,SAAS,EAAE;gBACjB,KAAK,gBAAgB;oBACnB,SAAS,GAAG,KAAK,CAAC,IAAI,CAAC;oBACvB,MAAM;gBACR,QAAQ;aACT;YACD,IAAI,CAAC,qBAAqB,CAAC,QAAQ,CAAC,GAAG,SAAS,CAAC;YACjD,oDAAoD;YACpD,IAAI,CAAC,yBAAyB,CAAC,IAAI,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC;SACjE;IACH,CAAC;IAED,qBAAqB,CAAC,aAAkB;QACtC,aAAa,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,SAAS,EAAE,EAAE;YACxC,IAAI,SAAS,CAAC,gBAAgB,CAAC,IAAI,KAAK,EAAE;gBACxC,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC;aACtD;YACD,IAAI,KAAK,GAAG;gBACV,QAAQ,EAAE,SAAS,CAAC,gBAAgB,CAAC;gBACrC,mBAAmB,EAAE,SAAS,CAAC,qBAAqB,CAAC;gBACrD,IAAI,EAAE,SAAS,CAAC,SAAS,CAAC;gBAC1B,sBAAsB,EAAE,CAAC,SAAS,CAAC,mBAAmB,CAAC;gBACvD,SAAS,EAAE,SAAS,CAAC,SAAS,CAAC;gBAC/B,SAAS,EAAE,SAAS,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,MAAM;gBACnE,YAAY,EAAE,SAAS,CAAC,cAAc,CAAC;oBACrC,CAAC,CAAC,SAAS,CAAC,cAAc,CAAC;oBAC3B,CAAC,CAAC,EAAE;gBACN,UAAU,EAAE,SAAS,CAAC,kBAAkB,CAAC;gBACzC,QAAQ,EAAE,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAAC;oBAClE,CAAC,CAAC,KAAK;oBACP,CAAC,CAAC,SAAS,CAAC,aAAa,CAAC,IAAI,MAAM;wBACpC,CAAC,CAAC,IAAI;wBACN,CAAC,CAAC,KAAK;gBACT,eAAe,EAAE,IAAI,CAAC,eAAe,CAAC,QAAQ,CAC5C,SAAS,CAAC,gBAAgB,CAAC,CAC5B;oBACC,CAAC,CAAC,SAAS,CAAC,aAAa,CAAC,IAAI,MAAM;wBAClC,CAAC,CAAC,IAAI;wBACN,CAAC,CAAC,KAAK;oBACT,CAAC,CAAC,KAAK;gBACT,MAAM,EAAE,SAAS,CAAC,UAAU,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK;gBACtD,OAAO,EAAE,SAAS,CAAC,WAAW,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK;gBACxD,WAAW,EAAE,SAAS,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,EAAE;gBACrE,YAAY,EACV,SAAS,CAAC,cAAc,CAAC,IAAI,SAAS,CAAC,cAAc,CAAC,IAAI,MAAM;oBAC9D,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC;oBACvC,CAAC,CAAC,KAAK;gBACX,YAAY,EAAE,SAAS,CAAC,kBAAkB,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK;gBACpE,MAAM,EAAE,SAAS,CAAC,QAAQ,CAAC;gBAC3B,SAAS,EACP,SAAS,CAAC,WAAW,CAAC,EAAE,MAAM,GAAG,CAAC,IAAI,SAAS,CAAC,WAAW,CAAC,IAAI,MAAM;oBACpE,CAAC,CAAC,CAAC,SAAS,CAAC,WAAW,CAAC;oBACzB,CAAC,CAAC,KAAK;gBACX,SAAS,EACP,SAAS,CAAC,WAAW,CAAC,EAAE,MAAM,GAAG,CAAC,IAAI,SAAS,CAAC,WAAW,CAAC,IAAI,MAAM;oBACpE,CAAC,CAAC,CAAC,SAAS,CAAC,WAAW,CAAC;oBACzB,CAAC,CAAC,KAAK;gBACX,KAAK,EACH,SAAS,CAAC,OAAO,CAAC;oBAClB,SAAS,CAAC,OAAO,CAAC,IAAI,MAAM;oBAC5B,SAAS,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,CAAC,MAAM;oBAC9B,CAAC,CAAC,SAAS,CAAC,OAAO,CAAC;oBACpB,CAAC,CAAC,KAAK;gBACX,QAAQ,EACN,SAAS,CAAC,cAAc,CAAC,IAAI,SAAS,CAAC,cAAc,CAAC,CAAC,IAAI,EAAE,CAAC,MAAM;oBAClE,CAAC,CAAC,SAAS,CAAC,cAAc,CAAC;oBAC3B,CAAC,CAAC,KAAK;gBACX,WAAW,EACT,SAAS,CAAC,aAAa,CAAC,IAAI,SAAS,CAAC,aAAa,CAAC,CAAC,MAAM;oBACzD,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC;oBACtC,CAAC,CAAC,KAAK;gBACX,yBAAyB,EACvB,SAAS,CAAC,2BAA2B,CAAC;oBACtC,SAAS,CAAC,2BAA2B,CAAC,IAAI,KAAK;oBAC7C,CAAC,CAAC,SAAS,CAAC,2BAA2B,CAAC;oBACxC,CAAC,CAAC,KAAK;gBACX,MAAM,EACJ,SAAS,CAAC,QAAQ,CAAC,IAAI,SAAS,CAAC,QAAQ,CAAC,CAAC,IAAI,EAAE,CAAC,MAAM;oBACtD,CAAC,CAAC,SAAS,CAAC,QAAQ,CAAC;oBACrB,CAAC,CAAC,KAAK;gBACX,MAAM,EACJ,SAAS,CAAC,QAAQ,CAAC,IAAI,SAAS,CAAC,QAAQ,CAAC,CAAC,IAAI,EAAE,CAAC,MAAM;oBACtD,CAAC,CAAC,SAAS,CAAC,QAAQ,CAAC;oBACrB,CAAC,CAAC,KAAK;gBACX,UAAU,EACR,SAAS,CAAC,YAAY,CAAC,IAAI,SAAS,CAAC,YAAY,CAAC,CAAC,MAAM;oBACvD,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;oBACrC,CAAC,CAAC,KAAK;gBACX,OAAO,EACL,SAAS,CAAC,WAAW,CAAC,IAAI,MAAM;oBAC9B,CAAC,CAAC,SAAS,CAAC,SAAS,CAAC;wBACpB,CAAC,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;wBAChC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;oBAC3C,CAAC,CAAC,IAAI,CAAC,QAAQ;gBACnB,OAAO,EACL,SAAS,CAAC,WAAW,CAAC,IAAI,MAAM;oBAC9B,CAAC,CAAC,SAAS,CAAC,SAAS,CAAC;wBACpB,CAAC,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;wBAChC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;oBAC3C,CAAC,CAAC,IAAI,CAAC,UAAU;gBACrB,WAAW,EACT,SAAS,CAAC,WAAW,CAAC,IAAI,MAAM;oBAC9B,CAAC,CAAC,SAAS,CAAC,aAAa,CAAC;wBACxB,CAAC,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC;wBACpC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;oBAC3C,CAAC,CAAC,IAAI,IAAI,EAAE;gBAChB,gBAAgB,EACd,SAAS,CAAC,kBAAkB,CAAC,IAAI,SAAS,CAAC,kBAAkB,CAAC,CAAC,MAAM;oBACnE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,kBAAkB,CAAC,CAAC;oBAC3C,CAAC,CAAC,KAAK;gBACX,kBAAkB,EAChB,SAAS,CAAC,oBAAoB,CAAC;oBAC/B,SAAS,CAAC,oBAAoB,CAAC,CAAC,MAAM;oBACpC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,oBAAoB,CAAC,CAAC;oBAC7C,CAAC,CAAC,KAAK;gBACX,KAAK,EAAE,SAAS,CAAC,OAAO,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK;gBAClD,OAAO,EAAE,SAAS,CAAC,SAAS,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK;aACvD,CAAC;YAEF,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE;gBACjB,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC;aAC/D;YACD,uBAAuB;YACvB,8BAA8B;YAC9B,IAAI;YACJ,IAAI,UAAU,GAAG,EAAE,CAAC;YACpB,IAAI,KAAK,CAAC,SAAS,EAAE;gBACnB,UAAU,CAAC,IAAI,CAAC,gEAAoB,CAAC,KAAK,CAAC,SAAmB,CAAC,CAAC,CAAC;aAClE;YACD,IAAI,KAAK,CAAC,SAAS,EAAE;gBACnB,UAAU,CAAC,IAAI,CAAC,gEAAoB,CAAC,KAAK,CAAC,SAAmB,CAAC,CAAC,CAAC;aAClE;YACD,IAAI,KAAK,CAAC,QAAQ,EAAE;gBAClB,UAAU,CAAC,IAAI,CAAC,+DAAmB,CAAC,CAAC;aACtC;YACD,IAAI,KAAK,CAAC,KAAK,EAAE;gBACf,UAAU,CAAC,IAAI,CAAC,8DAAkB,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;aAClD;YAED,MAAM,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,OAAO,CAC3C;gBACE,KAAK,EAAE,KAAK,CAAC,YAAY,CAAC,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,CAAC,EAAE;gBACnD,QAAQ,EAAE,CAAC,KAAK,CAAC,MAAM;aACxB,EACD,UAAU,CACX,CAAC;YAEF,IACE,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAC/B,CAAC,OAAO,EAAE,EAAE,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,OAAO,CAC7C,EACD;gBACA,wBAAwB;gBACxB,IAAI,sBAAsB,GAAG,KAAK,CAAC;gBACnC,IAAI,oBAAoB,GAAG,CAAC,CAAC,CAAC;gBAC9B,IAAI,kBAAkB,GAAG,CAAC,CAAC,CAAC;gBAC5B,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,WAAW,EAAE,YAAY,EAAE,EAAE;oBACtD,IAAI,WAAW,CAAC,QAAQ,IAAI,SAAS,CAAC,gBAAgB,CAAC,EAAE;wBACvD,oBAAoB,GAAG,YAAY,CAAC;wBACpC,WAAW,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,UAAU,EAAE,EAAE;4BAC/C,IAAI,KAAK,CAAC,IAAI,IAAI,SAAS,CAAC,SAAS,CAAC,EAAE;gCACtC,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,KAAK,CAAC,CAAC;gCACnC,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;gCAC/B,IAAI,aAAa,GAAG,CAAC,aAAa,EAAE,SAAS,EAAE,SAAS,CAAC,CAAC;gCAC1D,IAAI,uBAAuB,GAAG,+DAAY,CAAC,KAAK,CAAC,CAAC;gCAClD,IAAI,YAAY,GAAG,+DAAY,CAAC,KAAK,CAAC,CAAC;gCACvC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE;oCAC1B,OAAO,uBAAuB,CAAC,CAAC,CAAC,CAAC;oCAClC,OAAO,YAAY,CAAC,CAAC,CAAC,CAAC;gCACzB,CAAC,CAAC,CAAC;gCACH,OAAO,CAAC,GAAG,CAAC,iBAAiB,EAAE,uBAAuB,CAAC,CAAC;gCACxD,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,YAAY,CAAC,CAAC;gCAC1C,OAAO,CAAC,GAAG,CACT,aAAa,EACb,6DAAc,CAAC,uBAAuB,EAAE,YAAY,CAAC,CACtD,CAAC;gCAEF,IAAI,CAAC,6DAAc,CAAC,uBAAuB,EAAE,YAAY,CAAC,EAAE;oCAC1D,sBAAsB,GAAG,IAAI,CAAC;iCAC/B;gCAED,kBAAkB,GAAG,UAAU,CAAC;6BACjC;wBACH,CAAC,CAAC,CAAC;qBACJ;gBACH,CAAC,CAAC,CAAC;gBAEH,IAAI,sBAAsB,EAAE;oBAC1B,+BAA+B;oBAC/B,IAAI,oBAAoB,IAAI,CAAC,IAAI,kBAAkB,IAAI,CAAC,EAAE;wBACxD,IAAI,CAAC,YAAY,CAAC,oBAAoB,CAAC,CAAC,MAAM,CAAC,MAAM,CACnD,kBAAkB,EAClB,CAAC,EACD,KAAK,CACN,CAAC;qBACH;oBACD,IAAI,KAAK,CAAC,OAAO,EAAE;wBACjB,IAAI,CAAC,YAAY,CAAC,oBAAoB,CAAC,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC;qBAC7D;oBAEC,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,SAAS,CAAC,gBAAgB,CAAC,CACpD,CAAC,aAAa,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC;oBAEpC,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,SAAS,CAAC,gBAAgB,CAAC,CACpD,CAAC,UAAU,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE,YAAY,CAAC,CAAC;iBAClD;aACF;iBAAM;gBACL,4BAA4B;gBAC5B,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC;gBACxD,IAAI,oBAAoB,GAAG,CAAC,CAAC,CAAC;gBAC9B,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,WAAW,EAAE,YAAY,EAAE,EAAE;oBACtD,IAAI,WAAW,CAAC,QAAQ,IAAI,SAAS,CAAC,gBAAgB,CAAC,EAAE;wBACvD,oBAAoB,GAAG,YAAY,CAAC;qBACrC;gBACH,CAAC,CAAC,CAAC;gBACH,IAAI,oBAAoB,IAAI,CAAC,EAAE;oBAC7B,wBAAwB;oBACxB,IAAI,WAAW,GAAG,IAAI,CAAC,YAAY,CACjC,oBAAoB,CACrB,CAAC,MAAM,CAAC,SAAS,CAChB,CAAC,KAAK,EAAE,EAAE,CACR,CAAC,KAAK,CAAC,sBAAsB,GAAG,CAAC,KAAK,CAAC,sBAAsB,CAChE,CAAC;oBAEF,IAAI,CAAC,CAAC,WAAW,IAAI,CAAC,CAAC,EAAE;wBACvB,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC,oBAAoB,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC;qBACrE;oBAED,IAAI,CAAC,YAAY,CAAC,oBAAoB,CAAC,CAAC,MAAM,CAAC,MAAM,CACnD,WAAW,EACX,CAAC,EACD,KAAK,CACN,CAAC;oBAEF,IAAI,KAAK,CAAC,OAAO,EAAE;wBACjB,IAAI,CAAC,YAAY,CAAC,oBAAoB,CAAC,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC;qBAC7D;oBAGC,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,SAAS,CAAC,gBAAgB,CAAC,CACpD,CAAC,UAAU,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE,YAAY,CAAC,CAAC;iBAClD;qBAAM;oBACL,OAAO,CAAC,GAAG,CAAC,wBAAwB,EAAE,SAAS,CAAC,gBAAgB,CAAC,CAAC,CAAC;oBACnE,iCAAiC;oBACjC,IAAI,cAAc,GAAG;wBACnB,QAAQ,EAAE,SAAS,CAAC,gBAAgB,CAAC;wBACrC,QAAQ,EAAE,SAAS,CAAC,qBAAqB,CAAC;wBAC1C,MAAM,EAAE,CAAC,KAAK,CAAC;wBACf,SAAS,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK;qBACxC,CAAC;oBACF,IAAI,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC,SAAS,CAC3C,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC,OAAO,CAAC,QAAQ,GAAG,CAAC,KAAK,CAAC,mBAAmB,CAC5D,CAAC;oBAEF,IAAI,CAAC,CAAC,WAAW,IAAI,CAAC,CAAC,EAAE;wBACvB,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC;qBACxC;oBACD,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;oBAEzD,MAAM,eAAe,GAAG,IAAI,4DAAgB,CAAC,EAAE,CAAC,CAAC;oBACjD,eAAe,CAAC,UAAU,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE,YAAY,CAAC,CAAC;oBAC/D,IAAI,CAAC,cAAc,CAAC,UAAU,CAC5B,SAAS,CAAC,gBAAgB,CAAC,EAC3B,eAAe,CAChB,CAAC;iBACH;aACF;QACH,CAAC,CAAC,CAAC;QAEH,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,IAAI,CAAC,uBAAuB,CAAC,CAAC;QACjD,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;IACxC,CAAC;IAED,gBAAgB,CAAC,OAAY;QAC3B,IAAI,OAAO,GAAG,KAAK,CAAC;QACpB,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;YAC/B,IAAI,KAAK,CAAC,OAAO,EAAE;gBACjB,OAAO,GAAG,IAAI,CAAC;aAChB;QACH,CAAC,CAAC,CAAC;QACH,OAAO,OAAO,CAAC;IACjB,CAAC;IAED,YAAY,CAAC,SAAiB;QAC5B,OAAO,IAAI,CAAC,QAAQ,CAAC;IACvB,CAAC;IACD,YAAY,CAAC,SAAiB;QAC5B,IAAI,SAAS,IAAI,qBAAqB,EAAE;YACtC,OAAO,IAAI,IAAI,CAAC,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC;SAC7D;aAAM,IAAI,SAAS,IAAI,aAAa,EAAE;YACrC,OAAO,IAAI,CAAC,UAAU,CAAC;SACxB;aAAM;YACL,OAAO,IAAI,CAAC,UAAU,CAAC;SACxB;IACH,CAAC;IACD,YAAY,CAAC,SAAiB;QAC5B,IAAI,SAAS,IAAI,aAAa,EAAE;YAC9B,OAAO,IAAI,CAAC,UAAU,CAAC;SACxB;aAAM;YACL,OAAO,IAAI,IAAI,CAAC,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC;SAC7D;IACH,CAAC;IAED,WAAW,CAAC,KAAU,EAAE,SAAc;QACpC,IAAI,SAAS,IAAI,6BAA6B,EAAE;YAC9C,IAAI,OAAO,CAAC;YACZ,IAAI,KAAK,CAAC,OAAO,EAAE;gBACjB,OAAO,GAAG;oBACR,gBAAgB,EAAE,IAAI,CAAC,cAAc;yBAClC,GAAG,CAAC,iBAAiB,CAAC;wBACvB,EAAE,GAAG,CAAC,gBAAgB,CAAC,EAAE,KAAK;oBAChC,4BAA4B,EAAE,IAAI,CAAC,cAAc;yBAC9C,GAAG,CAAC,iBAAiB,CAAC;wBACvB,EAAE,GAAG,CAAC,4BAA4B,CAAC,EAAE,KAAK;oBAC5C,oBAAoB,EAAE,IAAI,CAAC,cAAc;yBACtC,GAAG,CAAC,iBAAiB,CAAC;wBACvB,EAAE,GAAG,CAAC,oBAAoB,CAAC,EAAE,KAAK;oBACpC,mBAAmB,EAAE,IAAI,CAAC,cAAc;yBACrC,GAAG,CAAC,iBAAiB,CAAC;wBACvB,EAAE,GAAG,CAAC,mBAAmB,CAAC,EAAE,KAAK;oBACnC,aAAa,EAAE,IAAI,CAAC,cAAc;yBAC/B,GAAG,CAAC,iBAAiB,CAAC;wBACvB,EAAE,GAAG,CAAC,aAAa,CAAC,EAAE,KAAK;oBAC7B,mBAAmB,EAAE,IAAI,CAAC,cAAc;yBACrC,GAAG,CAAC,iBAAiB,CAAC;wBACvB,EAAE,GAAG,CAAC,mBAAmB,CAAC,EAAE,KAAK;iBACpC,CAAC;aACH;iBAAM;gBACL,OAAO,GAAG;oBACR,gBAAgB,EAAE,EAAE;oBACpB,4BAA4B,EAAE,EAAE;oBAChC,oBAAoB,EAAE,EAAE;oBACxB,mBAAmB,EAAE,EAAE;oBACvB,aAAa,EAAE,EAAE;oBACjB,mBAAmB,EAAE,EAAE;iBACxB,CAAC;aACH;YAED,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;SAChE;IACH,CAAC;IAED,oBAAoB,CAAC,IAAS;QAC5B,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;YACpC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;gBAC/B,IAAI,KAAK,CAAC,WAAW,CAAC,IAAI,IAAI,EAAE;oBAC9B,IACE,KAAK,CAAC,SAAS,IAAI,gBAAgB;wBACnC,KAAK,CAAC,SAAS,IAAI,eAAe,EAClC;wBACA,IAAI,UAAU,GAAG,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,EAAE,MAAM,CAC7D,CAAC,OAAO,EAAE,EAAE;4BACV,OAAO,OAAO,CAAC,QAAQ,IAAI,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC;wBACtD,CAAC,CACF,CAAC;wBACF,IAAI,KAAK,GAAG,UAAU,EAAE,MAAM;4BAC5B,CAAC,CAAC;gCACE,IAAI,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC,IAAI;gCACxB,QAAQ,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC,QAAQ;6BACjC;4BACH,CAAC,CAAC,EAAE,CAAC;wBACP,IAAI,CAAC,cAAc;6BAChB,GAAG,CAAC,OAAO,CAAC,QAAQ,CAAC;6BACrB,GAAG,CAAC,KAAK,CAAC,SAAS,CAAC;6BACpB,UAAU,CAAC,KAAK,CAAC,CAAC;qBACtB;yBAAM,IAAI,KAAK,CAAC,SAAS,IAAI,UAAU,EAAE;wBACxC,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;wBAC5D,IAAI,CAAC,cAAc;6BAChB,GAAG,CAAC,OAAO,CAAC,QAAQ,CAAC;6BACrB,GAAG,CAAC,KAAK,CAAC,SAAS,CAAC;6BACpB,UAAU,CAAC,KAAK,CAAC,CAAC;qBACtB;yBAAM,IAAI,KAAK,CAAC,SAAS,IAAI,MAAM,EAAE;wBACpC,IAAI,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;4BAC1C,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;gCAC5C,CAAC,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,kBAAkB,CAAC,OAAO,CAAC;gCAChE,CAAC,CAAC,IAAI,IAAI,CACN,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,CACxD,CAAC,kBAAkB,CAAC,OAAO,CAAC;4BACjC,CAAC,CAAC,EAAE,CAAC;wBAEP,IAAI,CAAC,cAAc;6BAChB,GAAG,CAAC,OAAO,CAAC,QAAQ,CAAC;6BACrB,GAAG,CAAC,KAAK,CAAC,SAAS,CAAC;6BACpB,UAAU,CAAC,aAAa,CAAC,CAAC;qBAC9B;yBAAM;wBACL,IAAI,CAAC,cAAc;6BAChB,GAAG,CAAC,OAAO,CAAC,QAAQ,CAAC;6BACrB,GAAG,CAAC,KAAK,CAAC,SAAS,CAAC;6BACpB,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;qBACzC;iBACF;YACH,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;IACvB,CAAC;IACD,gBAAgB;QACd,IAAI,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,UAAU,EAAE;YAC5C,IAAI,CAAC,mBAAmB,EAAE,CAAC;YAC3B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;SACzB;IACH,CAAC;IACD,mBAAmB;QACjB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,WAAW,EAAE,EAAE;YAChE,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,OAAO,EAAE,CAAC;QACjD,CAAC,CAAC,CAAC;IACL,CAAC;IACD,kBAAkB;QAChB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,WAAW,EAAE,EAAE;YAChE,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,MAAM,EAAE,CAAC;QAChD,CAAC,CAAC,CAAC;QACH,IAAI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,MAAM,EAAE;YAC3C,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;gBACnD,IAAI,CAAC,cAAc;qBAChB,GAAG,CAAC,OAAO,CAAC;qBACZ,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;qBACjC,OAAO,EAAE,CAAC;YACf,CAAC,CAAC,CAAC;SACJ;IACH,CAAC;IAED,QAAQ,CAAC,IAAS;QAChB,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC;IACD,aAAa;QACX,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,IAAI,SAAS,GAAG,EAAE,CAAC;QACnB,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,EAAE;YAC5B,SAAS,GAAG,QAAQ,CAAC;YACrB,IAAI,GAAG,UAAU,CAAC;SACnB;aAAM;YACL,SAAS,GAAG,UAAU,CAAC;YACvB,IAAI,GAAG,YAAY,CAAC;SACrB;QACD,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;QAChD,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,WAAW,GAAG,EAAE,CAAC;QACrB,WAAW;YACT,mDAAmD;gBACnD,iBAAiB;gBACjB,IAAI;gBACJ,4BAA4B,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC;QAExD,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;YAC/B,OAAO,EAAE,WAAW;YACpB,GAAG,EAAE,2BAA2B;YAChC,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,YAAY,CACf,SAAS,EACT,IAAI,CAAC,WAAW,EAChB,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,CACjC,CAAC;gBACF,IAAI,CAAC,mBAAmB,EAAE,CAAC;YAC7B,CAAC;YACD,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;gBAC/B,IAAI,CAAC,mBAAmB,EAAE,CAAC;YAC7B,CAAC;SACF,CAAC,CAAC;IACL,CAAC;IAED,YAAY,CAAC,SAAc,EAAE,IAAS,EAAE,OAAY;QAClD,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,SAAS,EAAE,OAAO,CAAC,CAAC;IAC5D,CAAC;IAED,oBAAoB,CAAC,KAAU,EAAE,MAAW,EAAE,OAAY;QACxD,IAAI,OAAwB,CAAC;QAC7B,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,0BAA0B,CACvD,IAAI,CAAC,MAAM,EACX,MAAM,EACN,KAAK,CAAC,QAAQ,EAAE,EAChB,OAAO,CACR,CAAC;QACF,OAAO,CAAC,SAAS,CACf,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,EAAE;gBAC1B,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC;gBAC/C,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,CAAC,WAAW,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC;gBACrC,IAAI,IAAI,CAAC,WAAW,EAAE;oBACpB,IAAI,CAAC,mBAAmB,EAAE,CAAC;iBAC5B;qBAAM;oBACL,IAAI,CAAC,kBAAkB,EAAE,CAAC;iBAC3B;aACF;iBAAM;gBACL,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;aAC/C;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACjB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,CACF,CAAC;IACJ,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QAEtB,IAAI,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE;YAC/B,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,kCAAkC,CAAC,CAAC;YACtE,OAAO;SACR;QAED,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QAExC,IAAI,IAAI,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE,CAAC;QAE7C,IAAI,WAAW,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAE5D,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;YACpC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;gBAC/B,IACE,KAAK,CAAC,SAAS,IAAI,gBAAgB;oBACnC,KAAK,CAAC,SAAS,IAAI,eAAe,EAClC;oBACA,IAAI,KAAK,GAAG,WAAW,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;wBACzC,CAAC,CAAC,WAAW,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,UAAU,CAAC;wBAC7C,CAAC,CAAC,EAAE,CAAC;oBACP,WAAW,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,GAAG,KAAK,CAAC;iBACzC;qBAAM,IAAI,KAAK,CAAC,SAAS,IAAI,UAAU,EAAE;oBACxC,IAAI,KAAK,GAAG,WAAW,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;oBACnE,WAAW,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,GAAG,KAAK,CAAC;iBACzC;qBAAM,IAAI,KAAK,CAAC,SAAS,IAAI,MAAM,EAAE;oBACpC,IAAI,aAAa,GAAG,WAAW,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;wBACjD,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;4BACnD,CAAC,CAAC,IAAI,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,kBAAkB,CAC1D,OAAO,CACR;4BACH,CAAC,CAAC,IAAI,IAAI,CACN,WAAW,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,CAC/D,CAAC,kBAAkB,CAAC,OAAO,CAAC;wBACjC,CAAC,CAAC,EAAE,CAAC;oBACP,WAAW,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,GAAG,aAAa,CAAC;iBACjD;qBAAM;oBACL,WAAW,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;wBAC7B,WAAW,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,IAAI,MAAM;4BACzC,WAAW,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,IAAI,IAAI;4BACrC,CAAC,CAAC,EAAE;4BACJ,CAAC,CAAC,WAAW,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC;iBACvC;YACH,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;QACH,OAAO,CAAC,GAAG,CAAC,aAAa,EAAE,WAAW,CAAC,CAAC;QACxC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IAClC,CAAC;IAED,OAAO;QACL,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;QAChD,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;YAC/B,OAAO,EACL,mDAAmD;gBACnD,sFAAsF;YACxF,GAAG,EAAE,kBAAkB;YACvB,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;gBACvB,IAAI,IAAI,CAAC,cAAc,EAAE;oBACvB,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,CAAC;iBAC7B;gBACD,IAAI,CAAC,mBAAmB,EAAE,CAAC;YAC7B,CAAC;YACD,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;gBAC/B,IAAI,CAAC,mBAAmB,EAAE,CAAC;YAC7B,CAAC;SACF,CAAC,CAAC;IACL,CAAC;IACD,mBAAmB;QACjB,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;YAC5C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;QACjD,CAAC,EAAE,GAAG,CAAC,CAAC;QACR,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,EAAE,IAAI,CAAC,CAAC;IACX,CAAC;IACD,WAAW;QACT,IAAI,IAAI,CAAC,cAAc,EAAE;YACvB,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE,CAAC;SACnC;IACH,CAAC;;kGAp7BU,yBAAyB;uHAAzB,yBAAyB;;;;;;;QC/BtC,uHA0TO;QACP,qHASM;QACN,wFAKC;QAOK,8RAAS,sEAAW,KAAC;QACtB,4DAAS;QAEV,4EAMC;QADC,8RAAS,sEAAW,KAAC;QACtB,4DAAS;QAId,wFAKC;QAOK,+RAAS,sEAAY,KAAC;QACvB,4DAAS;QAEV,6EAMC;QADC,+RAAS,sEAAY,KAAC;QACvB,4DAAS;;QAnXP,8EAAc;QA2TO,0DAAe;QAAf,+EAAe;QAczC,0DAAkB;QAAlB,2EAAkB;QAyBlB,0DAAkB;QAAlB,2EAAkB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1V2C;;;;;;;;;;;;;;;;;;;;ICwB/C,4EAaE;IAFA,oaAAkC;IAXpC,4DAaE;;;IAFA,gGAAkC;;;;IAIpC,oFAMC;IAJC,qbAAkC;IAKpC,4DAAgB;;;IALd,gGAAkC;;;;IAMpC,iFAQC;IAHC,ibAAkC;IAGnC,4DAAa;;;IAHZ,gGAAkC;;;;IA2C1C,2EAGC;IACC,uDACA;IAAA,2EAIC;IADC,mZAAS,uGAA6B,KAAC;IAEvC,8DAQC;IARD,0EAQC;IACC,sEAEE;IAIJ,4DAAM;;;IArBR,0DACA;IADA,wFACA;;;IARN,yEAA+C;IAE3C,iFACA;IAAA,iIA2BO;IACT,4DAAM;;;IA3BmB,0DAAmB;IAAnB,0FAAmB;;;;;IAmDtC,0EAIC;IAFC,sLAAS,wBAAwB,IAAC;IAGlC,wEASC;IADC,0ZAAS,uGAAiC,KAAC;IAC5C,4DAAI;IACL,wFAcC;IALC,goBACuB,yCAC5B,IAAI,CAAC,SAAsB,wGACtB,KAAC,0XACc,qGAA+B,KAD7C;IAGH,4DAAgB;;;;IAxBd,0DAKE;IALF,4OAKE;IAMF,0DAAyC;IAAzC,8GAAyC;;;IAxB/C,yEAKC;IACC,uDACA;IAAA,mJA+BM;IACR,4DAAK;;;;;IAnCL,iFAAyB;IAFzB,0FAA6B;IAI3B,0DACA;IADA,0FACA;IACG,0DAAsC;IAAtC,8GAAsC;;;;IAmCzC,2EAIC;IACC,kEAA4B;IAC5B,4EAKE;IADA,geAAS,0GAA0C,UAAU,CAAC,KAAC;IAJjE,4DAKE;;IARF,2EAAuB;;;IAJ3B,qEAA4C;IAC1C,oJAYO;IACT,4DAAK;;;;IAXA,0DAA4B;IAA5B,gGAA4B;;;IA9CnC,qEAAI;IACF,2IAuCK;IACP,4DAAK;IACL,yEAAuB;IACrB,2IAcK;IACP,4DAAK;;;;IAxDa,0DAAY;IAAZ,gFAAY;IAyCR,0DAAS;IAAT,iFAAS;;;IA0BzB,0EAAqD;IACnD,uDACF;IAAA,4DAAM;;;;IADJ,0DACF;IADE,yGACF;;;;;IACA,sEAAoB;IACI,mfAAS,sIAAkD,KAAC;IAAkM,4DAAS;IAC7R,wEAgBC;IAND,8aAEZ,oHACmD,WACxD,GAAG,KAAK,GAAG,KAAK,CACD,KAAG;IACA,uDAA2B;IAAA,4DAC7B;;;;;;IAlBsI,0DAAuB;IAAvB,oFAAuB;IAI5J,0DAME;IANF,0IAME;IAOD,0DAA2B;IAA3B,8FAA2B;;;IAtBhC,qEAA+D;IAC7D,iKAEM;IACN,iKAoBM;IAER,4DAAK;;;IAzBG,0DAAe;IAAf,+EAAe;IAGf,0DAAY;IAAZ,4EAAY;;;;IAuBpB,yEAGC;IAOK,6aAAS,yHAA2C,YAAY,GAAG,KAAK,GAAG,KAAK,CAAC,KAAC;IACnF,4DAAS;;;IAGd,yEAGC;IAEG,wEAKU;IACZ,4DAAO;;;;IAET,yEAGC;IAMK,kbAAS,0HAA4C,KAAC;IAJxD,4DAWE;IACF,sEAAkC;IACpC,4DAAQ;;;;IAXJ,0DAA+B;IAA/B,gGAA+B;;;IA9DvC,wEAAyD;IACvD,0JA0BK;IACL,0JAaK;IACL,0JAYK;IACL,0JAmBK;IACP,qEAAe;;;;;IA1ER,0DAAwD;IAAxD,gIAAwD;IA4B1D,0DAAmC;IAAnC,mGAAmC;IAcnC,0DAA6B;IAA7B,6FAA6B;IAa7B,0DAA2B;IAA3B,2FAA2B;;;IAzDlC,yEAA8B;IAC5B,+JA2Ee;IACjB,4DAAK;;;;IA7ED,sFAAyB;IACG,0DAAY;IAAZ,gFAAY;;;IA2FxB,qEAAI;IACyB,sEAAW;IAAA,4DAAK;IACzC,yEAA+B;IAAA,sEAAW;IAAA,4DAAK;IAC/C,yEAA0C;IAAA,qEAAU;IAAA,4DAAK;IACzD,yEAAuC;IAAA,iEAAM;IAAA,4DAAK;IAClD,yEAAqC;IAAA,oEAAQ;IAAA,4DAAK;IAClD,0EAAsC;IAAA,oEAAQ;IAAA,4DAAK;IACnD,0EAAsC;IAAA,6EAAiB;IAAA,4DAAK;IAC5D,0EAAsC;IAAA,yEAAa;IAAA,4DAAK;IACxD,0EAAiC;IAAA,4EAAgB;IAAA,4DAAK;IACtD,sEAAK;IAAA,oEAAQ;IAAA,4DAAK;IAClB,sEAAK;IAAA,mEAAO;IAAA,4DAAK;;;;;IAIrB,qEAAI;IACI,uDAAY;IAAA,4DAAK;IACrB,qEAAK;IAKA,iYAAS,4FAAsB,KAAC;IAAC,uDAAkB;IAAA,4DAAI;IAC5D,qEAAI;IAAA,uDAA6B;IAAA,4DAAK;IACtC,qEAAI;IAAA,uDAA0B;IAAA,4DAAK;IACnC,sEAAI;IAAA,wDAAwB;IAAA,4DAAK;IACjC,sEAAI;IAAA,wDAAyB;IAAA,4DAAK;IAClC,sEAAI;IAAA,wDAAyB;IAAA,4DAAK;IAClC,sEAAI;IAAA,wDAAyB;IAAA,4DAAK;IAClC,sEAAI;IAAA,wDAAoB;IAAA,4DAAK;IAC7B,sEAAI;IACF,yEAKU;IACZ,4DAAO;IACP,sEAAI;IAID,4YAAS,mIAAqD,KAAC;IAFlE,4DAUM;IACA,uEAAkC;IAClC,4DAAQ;;;IApCV,0DAAY;IAAZ,6EAAY;IAEd,0DAIE;IAJF,2IAIE;IAAkC,0DAAkB;IAAlB,mFAAkB;IACpD,0DAA6B;IAA7B,8FAA6B;IAC7B,0DAA0B;IAA1B,2FAA0B;IAC1B,0DAAwB;IAAxB,yFAAwB;IACxB,0DAAyB;IAAzB,0FAAyB;IACzB,0DAAyB;IAAzB,0FAAyB;IACzB,0DAAyB;IAAzB,0FAAyB;IACzB,0DAAoB;IAApB,qFAAoB;IAcrB,0DAKD;IALC,iJAKD;;;IASN,qEAAI;IACiB,2GAAgD;IAAA,4DAAK;;;IAtE9F,qEAAI;IAWY,8JAcc;IACd,+JAyCc;IACd,6JAIc;IAClB,4DAAU;;;IAtED,0DAAwB;IAAxB,qFAAwB;;;IA4E7C,qEAAI;IAC+B,yEAAc;IAAA,4DAAK;;;IAAhD,0DAA4B;IAA5B,yFAA4B;;;IAIlC,uDAOF;;;IAPE,uRAOF;;;IAzPJ,0EAAsC;IAWlC,+IA4Dc;IACd,+IAoFc;IACd,+IA8EY;IACZ,+IAIc;IACd,+IAQc;IAChB,4DAAU;;;IAvPV,0DAAgB;IAAhB,gFAAgB;;;IA0PpB,0EAA8C;IAEtB,qEAAsC;IAAA,4DAAM;IAElE,yEAAiB;IAEV,sGAA2C;IAAA,4DAAI;;AD3XnD,MAAM,2BAA2B;IA+CtC,YACU,MAAc,EACd,WAAwB,EACxB,KAAqB,EACrB,mBAAwC,EACxC,eAAuC,EACvC,IAAgB;QALhB,WAAM,GAAN,MAAM,CAAQ;QACd,gBAAW,GAAX,WAAW,CAAa;QACxB,UAAK,GAAL,KAAK,CAAgB;QACrB,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,oBAAe,GAAf,eAAe,CAAwB;QACvC,SAAI,GAAJ,IAAI,CAAY;QApD1B,4BAAuB,GAAY,KAAK,CAAC;QACzC,wBAAmB,GAAY,KAAK,CAAC;QACrC,2BAAsB,GAAY,KAAK,CAAC;QACxC,4BAAuB,GAAY,KAAK,CAAC;QACzC,sBAAiB,GAAY,KAAK,CAAC;QACnC,wBAAmB,GAAY,KAAK,CAAC;QACrC,gDAAgD;QAChD,sBAAiB,GAAY,KAAK,CAAC;QAEnC,iBAAY,GAAG,EAAE,CAAC;QAClB,aAAQ,GAAG,EAAE,CAAC;QACd,gBAAW,GAAG,EAAE,CAAC;QACjB,iBAAY,GAAG,EAAE,CAAC;QAClB,WAAM,GAAG,EAAE,CAAC;QACZ,aAAQ,GAAG,EAAE,CAAC;QACd,qBAAgB,GAAG,EAAE,CAAC;QACtB,WAAM,GAAG,EAAE,CAAC;QAEZ,aAAQ,GAAQ,EAAE,CAAC;QACnB,+BAA0B,GAAU,EAAE,CAAC;QACvC,2BAAsB,GAAU,EAAE,CAAC;QACnC,8BAAyB,GAAU,EAAE,CAAC;QACtC,+BAA0B,GAAU,EAAE,CAAC;QACvC,yBAAoB,GAAU,EAAE,CAAC;QACjC,2BAAsB,GAAU,EAAE,CAAC;QACnC,8CAA8C;QAC9C,yBAAoB,GAAU,EAAE,CAAC;QAEjC,YAAO,GAAY,IAAI,CAAC;QAExB,cAAS,GAAW,8BAA8B,CAAC;QAEnD,cAAS,GAAG,KAAK,CAAC;QAElB,eAAU,GAAG,MAAM,CAAC,IAAI,CAAC;QAGzB,oBAAe,GAAY,KAAK,CAAC;QAEjC,aAAQ,GAAG,IAAI,CAAC;QAChB,oBAAe,GAAG,aAAa,CAAC;QAChC,eAAU,GAAG,YAAY,CAAC;QAC1B,eAAU,GAAG,GAAG,CAAC;QACjB,aAAQ,GAAG,IAAI,CAAC;QAEhB,uBAAkB,GAAQ,EAAE,CAAC;QAU7B,iBAAY,GAAG,EAAE,CAAC;QAClB,sBAAiB,GAAG,EAAE,CAAC;QACvB,uBAAkB,GAAG,EAAE,CAAC;QACxB,SAAI,GAAG,YAAY,CAAC;QAEpB,iBAAY,GAAQ,MAAM,CAAC;QAE3B,iBAAY,GAAQ,EAAE,CAAC;QACvB,oBAAe,GAAG;YAChB,EAAE,IAAI,EAAE,YAAY,EAAE,IAAI,EAAE,YAAY,EAAE;YAC1C,EAAE,IAAI,EAAE,WAAW,EAAE,IAAI,EAAE,WAAW,EAAE;SACzC,CAAC;QAEF,0BAAqB,GAAG,EAAE,CAAC;QAE3B,0BAAqB,GAAG,EAAE,CAAC;QAC3B,mBAAc,GAAG,EAAE,CAAC;QACpB,uBAAkB,GAAG,EAAE,CAAC;QACxB,yBAAoB,GAAG,EAAE,CAAC;QAC1B,oBAAe,GAAG,EAAE,CAAC;QAErB,0BAAqB,GAAG,EAAE,CAAC;QAC3B,sBAAiB,GAAG,EAAE,CAAC;QACvB,uBAAkB,GAAG,EAAE,CAAC;QACxB,gBAAW,GAAG,IAAI,CAAC;QACnB,SAAI,GAAG,EAAE,CAAC;QAEV,YAAO,GAAU;YACf,EAAE,KAAK,EAAE,cAAc,EAAE,MAAM,EAAE,eAAe,EAAE;YAClD,EAAE,KAAK,EAAE,UAAU,EAAE,MAAM,EAAE,oBAAoB,EAAE;YACnD,EAAE,KAAK,EAAE,aAAa,EAAE,MAAM,EAAE,aAAa,EAAE;YAC/C,EAAE,KAAK,EAAE,cAAc,EAAE,MAAM,EAAE,eAAe,EAAE;YAClD,EAAE,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,SAAS,EAAE;YACtC,EAAE,KAAK,EAAE,UAAU,EAAE,MAAM,EAAE,WAAW,EAAE;YAC1C,EAAE,KAAK,EAAE,iBAAiB,EAAE,MAAM,EAAE,YAAY,EAAE,KAAK,EAAE,IAAI,EAAE;YAC/D,EAAE,KAAK,EAAE,gBAAgB,EAAE,MAAM,EAAE,UAAU,EAAE;YAC/C,gDAAgD;YAChD,EAAE,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,gBAAgB,EAAE;SAC9C,CAAC;QACF,YAAO,GAAU;YACf,EAAE,KAAK,EAAE,cAAc,EAAE,MAAM,EAAE,eAAe,EAAE,KAAK,EAAE,IAAI,EAAE;YAC/D,EAAE,KAAK,EAAE,UAAU,EAAE,MAAM,EAAE,oBAAoB,EAAE,KAAK,EAAE,KAAK,EAAE;YACjE,EAAE,KAAK,EAAE,aAAa,EAAE,MAAM,EAAE,aAAa,EAAE,KAAK,EAAE,KAAK,EAAE;YAC7D,EAAE,KAAK,EAAE,cAAc,EAAE,MAAM,EAAE,eAAe,EAAE,KAAK,EAAE,KAAK,EAAE;YAChE,EAAE,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,SAAS,EAAE,KAAK,EAAE,IAAI,EAAE;YACnD,EAAE,KAAK,EAAE,UAAU,EAAE,MAAM,EAAE,WAAW,EAAE,KAAK,EAAE,KAAK,EAAE;YACxD,EAAE,KAAK,EAAE,iBAAiB,EAAE,MAAM,EAAE,YAAY,EAAE,KAAK,EAAE,IAAI,EAAE;YAC/D,EAAE,KAAK,EAAE,gBAAgB,EAAE,MAAM,EAAE,UAAU,EAAE,KAAK,EAAE,IAAI,EAAE;YAC5D,2DAA2D;YAC3D,EAAE,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,gBAAgB,EAAE,KAAK,EAAE,IAAI,EAAE;SAC3D,CAAC;QAEF,iBAAY,GAAG,EAAE,CAAC;IAtDf,CAAC;IAwDJ,QAAQ;QACN,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;YACjC,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;QAC7D,IAAI,CAAC,QAAQ,GAAG,kBAAkB,CAAC;QACnC,IAAI,CAAC,2BAA2B,EAAE,CAAC;QACnC,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAC3B,IAAI,CAAC,qBAAqB,GAAG,eAAe,CAAC;QAC7C,IAAI,CAAC,kBAAkB,GAAG,gBAAgB,CAAC;QAC3C,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC;IAC3B,CAAC;IAED,aAAa,CAAC,CAAM;QAClB,MAAM,QAAQ,GAAG,EAAE,CAAC;QACpB,MAAM,UAAU,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC9D,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC;QAC/B,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,QAAQ,CAAC,CAAC;QACpC,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,UAAU,CAAC,CAAC;IAC1C,CAAC;IAED,2BAA2B;QACzB,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,CAAC,eAAe;aACjB,wBAAwB,CACvB,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,EACvB,IAAI,CAAC,eAAe,EACpB,IAAI,CAAC,UAAU,EACf,IAAI,CAAC,QAAQ,CACd;aACA,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,0CAA0C;YAC1C,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACjB,IAAI,CAAC,qBAAqB,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC;YACzC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC;YACxC,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,qBAAqB,CAAC,GAAG,CACzD,CAAC,IAAI,EAAE,EAAE;gBACP,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,EAAE,CAAC;YAC1D,CAAC,CACF,CAAC;YACF,IAAI,CAAC,qBAAqB,CAAC,OAAO,CAChC,GAAG,CAAC,EAAE,IAAI,EAAE,aAAa,EAAE,IAAI,EAAE,YAAY,EAAE,CAAC,CACjD,CAAC;QACJ,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,0CAA0C;YAC1C,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,uBAAuB,CAAC,CAAC;QAC7D,CAAC,CACF,CAAC;IACN,CAAC;IACD,gBAAgB,CAAC,KAAU;QACzB,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QAEnB,IAAI,CAAC,QAAQ,GAAG,kBAAkB,CAAC;QACnC,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;QAClB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC3B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;QACzB,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;QACjC,IAAI,CAAC,kBAAkB,GAAG,gBAAgB,CAAC;QAC3C,IAAI,CAAC,qBAAqB,GAAG,eAAe,CAAC;QAC7C,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;QAC5B,IAAI,CAAC,2BAA2B,EAAE,CAAC;QACnC,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAC3B,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;IAChC,CAAC;IAED,gBAAgB,CAAC,KAAU;QACzB,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QACnB,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;QAChC,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;QACjC,IAAI,CAAC,kBAAkB,GAAG,GACxB,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,EAAE;YACxC,OAAO,GAAG,CAAC,IAAI,IAAI,KAAK,CAAC;QAC3B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CACd,KAAK,CAAC;QACN,IAAI,CAAC,qBAAqB,GAAG,GAC3B,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,EAAE;YACxC,OAAO,GAAG,CAAC,IAAI,IAAI,KAAK,CAAC;QAC3B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CACd,KAAK,CAAC;QACN,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,EAAE;YAC5D,OAAO,GAAG,CAAC,SAAS,IAAI,KAAK,CAAC;QAChC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC;QACnB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;QACrC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC;IAC1C,CAAC;IACD,gBAAgB,CAAC,CAAM,EAAE,QAAa;QACpC,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACjC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACf,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QACtB,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QACpD,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QAC9B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,mBAAmB,EAAE,CAAC;IAC7B,CAAC;IACD,iBAAiB,CAAC,IAAS;QACzB,OAAO,CAAC,GAAG,CAAC,OAAO,IAAI,CAAC,oBAAoB,CAAC,CAAC;QAC9C,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,IAAI,CAAC,kBAAkB,CAAC,CAAC;QAE3C,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,IAAI,CAAC,qBAAqB,CAAC,CAAC;QAC9C,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;QAC1C,OAAO,CAAC,GAAG,CACT,IAAI,EACJ,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,EAAE;YACpC,OAAO,CACL,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,qBAAqB,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAClE,CAAC;QACJ,CAAC,CAAC,CACH,CAAC;QAEF,IACE,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,EAAE;YACpC,OAAO,CACL,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,qBAAqB,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAClE,CAAC;QACJ,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,EACb;YACA,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,qBAAqB,CAAC,CAAC;SAC1D;aAAM;YACL,IACE,IAAI,CAAC,oBAAoB,IAAI,IAAI;gBACjC,IAAI,CAAC,oBAAoB,IAAI,EAAE,EAC/B;gBACA,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,wBAAwB,CAAC,CAAC;aAC7D;iBAAM,IACL,CAAC,OAAO,IAAI,CAAC,oBAAoB,IAAI,QAAQ;gBAC3C,IAAI,CAAC,oBAAoB,EAAE,IAAI,EAAE,CAAC,MAAM,CAAC;gBAC3C,IAAI,CAAC,oBAAoB,EACzB;gBACA,IAAI,CAAC,eAAe;oBAClB,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,oBAAoB,CAAC;gBACtD,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;gBAClC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;gBAE/C,IAAI,CAAC,kBAAkB;oBACrB,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,oBAAoB,CAAC;gBACzD,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;gBACrC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;gBACrD,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBACpD,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;aAC/B;SACF;QAED,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAC3B,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;QACjC,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;QAC9B,IAAI,CAAC,kBAAkB,GAAG,gBAAgB,CAAC;QAC3C,IAAI,CAAC,qBAAqB,GAAG,eAAe,CAAC;IAC/C,CAAC;IAED,mBAAmB;QACjB,oCAAoC;QACpC,2CAA2C;QAC3C,0BAA0B;QAC1B,0BAA0B;QAC1B,gCAAgC;QAChC,qCAAqC;QACrC,2DAA2D;QAC3D,6BAA6B;QAC7B,sBAAsB;QACtB,qBAAqB;QACrB,mBAAmB;QACnB,cAAc;QACd,KAAK;QACL,cAAc;QACd,iEAAiE;QACjE,kCAAkC;QAClC,2BAA2B;QAC3B,0BAA0B;QAC1B,uBAAuB;QACvB,UAAU;QACV,OAAO;QACP,qBAAqB;QACrB,eAAe;QACf,wBAAwB;QACxB,oCAAoC;QACpC,+BAA+B;QAC/B,gDAAgD;QAChD,wCAAwC;QACxC,oCAAoC;QACpC,mEAAmE;QACnE,iBAAiB;QACjB,oCAAoC;QACpC,mEAAmE;QACnE,oDAAoD;QACpD,oCAAoC;QACpC,cAAc;QACd,iEAAiE;QACjE,UAAU;QACV,sEAAsE;QACtE,8DAA8D;QAC9D,yDAAyD;QACzD,YAAY;QACZ,8DAA8D;QAC9D,yDAAyD;QACzD,YAAY;QACZ,4DAA4D;QAC5D,yDAAyD;QACzD,YAAY;QACZ,8DAA8D;QAC9D,yDAAyD;QACzD,YAAY;QACZ,kDAAkD;QAClD,yDAAyD;QACzD,YAAY;QACZ,sDAAsD;QACtD,yDAAyD;QACzD,YAAY;QACZ,QAAQ;QACR,OAAO;QACP,eAAe;QACf,8CAA8C;QAC9C,qEAAqE;QACrE,8BAA8B;QAC9B,MAAM;QACN,KAAK;IACP,CAAC;IACD,iBAAiB,CAAC,OAAY,EAAE,IAAS;QACvC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;YACnB,QAAQ;YACR,qBAAqB;YACrB,mBAAmB;YACnB,IAAI;YACJ,OAAO,CAAC,YAAY;YACpB,KAAK;SACN,CAAC,CAAC;IACL,CAAC;IACD,aAAa,CAAC,CAAM,EAAE,IAAS,EAAE,OAAY;QAC3C,CAAC,CAAC,cAAc,EAAE,CAAC;QACnB,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,IAAI,SAAS,GAAG,EAAE,CAAC;QACnB,IAAI,CAAC,CAAC,MAAM,CAAC,OAAO,EAAE;YACpB,SAAS,GAAG,QAAQ,CAAC;YACrB,IAAI,GAAG,UAAU,CAAC;SACnB;aAAM;YACL,SAAS,GAAG,UAAU,CAAC;YACvB,IAAI,GAAG,YAAY,CAAC;SACrB;QACD,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;QAChD,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,WAAW,GAAG,EAAE,CAAC;QACrB,WAAW;YACT,mDAAmD;gBACnD,iBAAiB;gBACjB,IAAI;gBACJ,yBAAyB,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC;QAEnD,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;YAC/B,OAAO,EAAE,WAAW;YACpB,GAAG,EAAE,sBAAsB;YAC3B,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,YAAY,CAAC,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;gBAC/C,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;YACjC,CAAC;YACD,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;gBAC/B,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;YAClC,CAAC;SACF,CAAC,CAAC;IACL,CAAC;IAED,wBAAwB,CAAC,CAAM,EAAE,IAAS,EAAE,OAAY;QACtD,CAAC,CAAC,cAAc,EAAE,CAAC;QACnB,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,IAAI,SAAS,GAAG,EAAE,CAAC;QACnB,IAAI,CAAC,CAAC,MAAM,CAAC,OAAO,EAAE;YACpB,SAAS,GAAG,QAAQ,CAAC;YACrB,IAAI,GAAG,UAAU,CAAC;SACnB;aAAM;YACL,SAAS,GAAG,UAAU,CAAC;YACvB,IAAI,GAAG,YAAY,CAAC;SACrB;QACD,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;QAChD,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,WAAW,GAAG,EAAE,CAAC;QACrB,WAAW;YACT,mDAAmD;gBACnD,iBAAiB;gBACjB,IAAI;gBACJ,4BAA4B,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC;QAE5C,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;YAC/B,OAAO,EAAE,WAAW;YACpB,GAAG,EAAE,sBAAsB;YAC3B,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,gBAAgB,CAAC,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;gBACnD,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;YACjC,CAAC;YACD,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;gBAC/B,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;YAClC,CAAC;SACF,CAAC,CAAC;IACL,CAAC;IAED,gBAAgB,CAAC,CAAM,EAAE,SAAc,EAAE,IAAS,EAAE,OAAY;QAC9D,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAClB,IAAI,CAAC,uBAAuB,CAC1B,IAAI,CAAC,IAAI,CAAC,EACV,SAAS,EACT,CAAC,CAAC,MAAM,EACR,IAAI,EACJ,OAAO,CACR,CAAC;IACJ,CAAC;IACD,uBAAuB,CACrB,KAAU,EACV,MAAW,EACX,SAAc,EACd,QAAa,EACb,OAAY;QAEZ,IAAI,OAAwB,CAAC;QAC7B,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC3B,gCAAgC;QAChC,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,0BAA0B,CACvD,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,EACvB,MAAM,EACN,KAAK,CAAC,QAAQ,EAAE,EAChB,OAAO,CACR,CAAC;QACF,WAAW;QACX,mEAAmE;QACnE,+BAA+B;QAC/B,cAAc;QACd,uBAAuB;QACvB,OAAO;QACP,IAAI;QACJ,OAAO,CAAC,SAAS,CACf,CAAC,GAAG,EAAE,EAAE;YACN,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACjB,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,EAAE;gBAC1B,SAAS,CAAC,OAAO,GAAG,SAAU,CAAC,OAAO,CAAC;gBACvC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;gBAC1C,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC;aAChD;iBAAM;gBACL,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;aAC/C;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACjB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,CACF,CAAC;IACJ,CAAC;IACD,YAAY,CAAC,CAAM,EAAE,SAAc,EAAE,IAAS,EAAE,OAAY;QAC1D,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAClB,IAAI,CAAC,oBAAoB,CACvB,IAAI,CAAC,cAAc,CAAC,EACpB,SAAS,EACT,CAAC,CAAC,MAAM,EACR,IAAI,EACJ,OAAO,CACR,CAAC;IACJ,CAAC;IAED,oBAAoB,CAClB,KAAU,EACV,MAAW,EACX,SAAc,EACd,QAAa,EACb,OAAY;QAEZ,IAAI,OAAwB,CAAC;QAC7B,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC3B,gCAAgC;QAChC,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,6BAA6B,CAC1D,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,EACvB,MAAM,EACN,KAAK,CAAC,QAAQ,EAAE,EAChB,OAAO,CACR,CAAC;QACF,WAAW;QACX,mEAAmE;QACnE,+BAA+B;QAC/B,cAAc;QACd,uBAAuB;QACvB,OAAO;QACP,IAAI;QACJ,OAAO,CAAC,SAAS,CACf,CAAC,GAAG,EAAE,EAAE;YACN,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACjB,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,EAAE;gBAC1B,SAAS,CAAC,OAAO,GAAG,SAAU,CAAC,OAAO,CAAC;gBACvC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;gBAC1C,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC;aAChD;iBAAM;gBACL,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;aAC/C;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACjB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,CACF,CAAC;IACJ,CAAC;IACD,YAAY,CAAC,OAAY,EAAE,IAAS;QAClC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;YACnB,QAAQ;YACR,kBAAkB;YAClB,gBAAgB;YAChB,IAAI;YACJ,OAAO,CAAC,YAAY;YACpB,MAAM;SACP,CAAC,CAAC;IACL,CAAC;IACD,eAAe,CAAC,QAAa;QAC3B,IAAI,OAAO,GAAG,QAAQ,CAAC,YAAY,IAAI,YAAY,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC;QACpE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;YACnB,QAAQ;YACR,qBAAqB;YACrB,mBAAmB;YACnB,OAAO;YACP,QAAQ,CAAC,EAAE;YACX,MAAM;SACP,CAAC,CAAC;IACL,CAAC;IACD,mBAAmB,CAAC,QAAQ,EAAE,OAAY,EAAE,YAAY;QACtD,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC;QAClC,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,YAAY,CAAC,CAAC;QAC1C,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,OAAO,CAAC,YAAY,CAAC,CAAC;QAClD,IAAI,QAAQ,IAAI,KAAK,EAAE;YACrB,IAAI,CAAC,IAAI;iBACN,GAAG,CACF,oEAAoE,EACpE;gBACE,OAAO,EAAE,IAAI,6DAAW,EAAE;qBACvB,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,YAAY,CAAC,CAAC;qBACzC,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;aACnD,CACF;iBACA,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;gBACN,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;oBACd,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC;oBAC5B,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;iBACxC;qBAAM;oBACL,OAAO,CAAC,GAAG,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC;oBAC5B,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;wBACpC,IAAI,OAAO,CAAC,cAAc,CAAC,IAAI,OAAO,CAAC,YAAY,EAAE;4BACnD,OAAO,CAAC,QAAQ,CAAC,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC;yBACjC;wBACD,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC;oBAC3C,CAAC,CAAC,CAAC;iBACJ;YACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;gBACN,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;gBACxB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,uDAAuD,CACxD,CAAC;gBACF,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACzC,CAAC,CACF,CAAC;SACL;IACH,CAAC;IAED,mBAAmB,CAAC,MAAe;QACjC,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;YAC5C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;QACjD,CAAC,EAAE,GAAG,CAAC,CAAC;QACR,IAAI,CAAC,MAAM,EAAE;YACX,UAAU,CAAC,GAAG,EAAE;gBACd,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACzC,CAAC,EAAE,IAAI,CAAC,CAAC;SACV;IACH,CAAC;IAED,sBAAsB,CAAC,KAAK;QAC1B,IAAI,CAAC,OAAO,KAAK,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,KAAK,SAAS,CAAC,CAAC;IAC7D,CAAC;IAED,oBAAoB,CAAC,KAAK;QACxB,IAAI,CAAC,OAAO,KAAK,SAAS,CAAC,GAAG,KAAK,CAAC;IACtC,CAAC;IAED,oBAAoB,CAAC,KAAU;QAC7B,OAAO,IAAI,CAAC,iBAAiB,KAAK,EAAE,CAAC,CAAC;IACxC,CAAC;IAED,iBAAiB,CAAC,EAAe,EAAE,KAAU;QAC3C,IAAI,CAAC,iBAAiB,KAAK,EAAE,CAAC,GAAG,EAAE,CAAC,KAAK,CAAC;IAC5C,CAAC;IAED,kBAAkB,CAAC,KAAU;QAC3B,OAAO,IAAI,CAAC,OAAO,KAAK,SAAS,CAAC,CAAC;IACrC,CAAC;IAED,kBAAkB,CAAC,KAAU;QAC3B,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC;IACrB,CAAC;IAED,aAAa;QACX,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;QACzB,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;QACjC,IAAI,CAAC,kBAAkB,GAAG,gBAAgB,CAAC;QAC3C,IAAI,CAAC,qBAAqB,GAAG,OAAO,CAAC;QACrC,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;QAC5B,IAAI,CAAC,2BAA2B,EAAE,CAAC;QACnC,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAC3B,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;IAChC,CAAC;IAED,aAAa,CAAC,CAAM;QAClB,IAAI,IAAI,CAAC,YAAY,EAAE;YACrB,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;SAC3C;aAAM;YACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;SAClE;IACH,CAAC;;sGAvnBU,2BAA2B;yHAA3B,2BAA2B;;;;;;;QCfxC,yEAAkC;QAQpB,0MAA0B,2GACd,kCAA8B,IADhB;QAI3B,4DAAa;QAEhB,yEAAsC;QAGlC,+MAA+B,2GACnB,kCAA8B,IADX;QAMhC,4DAAa;QACd,0EAIC;QADC,mKAAe,yBAAqB,IAAC;QAErC,kEAA4B;QAE5B,6EAAwC;QACtC,8HAaE;QAEF,8IAOgB;QAChB,wIAQc;QAChB,qEAAe;QACjB,4DAAO;QACP,8EAQC;QAJC,oJAAS,uCAA+B,IAAC;QAI1C,4DAAS;QACV,8EAOC;QAHC,oJAAS,mBAAe,IAAC;QAG1B,4DAAS;QAiBlB,2EAA8B;QAC5B,0HAgCM;QACR,4DAAM;QAEN,0HA2PM;QACR,4DAAM;QACN,0HASM;QACN,2FAKC;QAOK,kSAAS,sEAAW,KAAC;QACtB,4DAAS;QAEV,8EAMC;QADC,kSAAS,sEAAW,KAAC;QACtB,4DAAS;;QA5ZF,0DAA2B;QAA3B,wFAA2B;QAS3B,0DAAiC;QAAjC,8FAAiC;QAenB,0DAAyB;QAAzB,sFAAyB;QAQlC,0DAAoB;QAApB,gFAAoB;QASpB,0DAAsB;QAAtB,kFAAsB;QAQtB,0DAAoB;QAApB,gFAAoB;QAiBzB,0DAA0B;QAA1B,uFAA0B;QA2BhB,0DAA2B;QAA3B,2FAA2B;QAmC1B,0DAAe;QAAf,+EAAe;QA6PV,0DAAgB;QAAhB,gFAAgB;QAc1C,0DAAkB;QAAlB,2EAAkB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChZ4C;AAEZ;AAU9B;AAC6E;AACrE;AACW;AAEI;;;;;;;;;;;;;;;;;;;;;;;;ICoD/B,6EAQC;IADC,0SAAS,4EAAU,KAAC;IACrB,4DAAS;;;IAHR,4HAAqD;;;IA6BvD,0EAA2B;IACpB,uDAAkB;IAAA,4DAAM;;;IAAxB,0DAAkB;IAAlB,iFAAkB;;;IAqBzB,0EAA2B;IACpB,uDAAkB;IAAA,4DAAM;;;IAAxB,0DAAkB;IAAlB,iFAAkB;;;;IAQrC,0EAGC;IAYY,sEAAW;IAAA,4DAAI;IAClB,4EAAkE;IAApC,sZAAwB;IAAtD,4DAAkE;IAGtE,0EAAmD;IAG7C,gFAAmB;IAAA,4EAAmC;IAAA,6DAAC;IAAA,4DAAO;IAEhE,6EAQE;IALA,8ZAA+B,2PAInB,oFAAkB,KAJC;IAHjC,4DAQE;;;IAvBF,0DAIC;IAJD,iLAIC;IAG6B,0DAAwB;IAAxB,sFAAwB;IAWpD,0DAA+B;IAA/B,6FAA+B;;;;IAW3C,2FA8BC;IAVC,0VAAoB,uFAAqB,KAAC,8SAChB,gGAA8B,KADd,8SAG/B,uJAKd,KAR6C;IAU3C,4DAAmB;;;IA3BlB,yGAAyC;;;IA4CrC,6EAAwD;IACtD,uDACF;IAAA,4DAAS;;IADP,0DACF;IADE,uFACF;;;IAsBU,2EACG;IAAA,4DAAC;IAAA,4DACH;;;;IAbH,yEASC;IACC,uDACA;IAAA,gJAEC;IACH,4DAAK;;;;IAXH,sLAEE;IAKF,0DACA;IADA,0FACA;IAAO,0DAAgC;IAAhC,wGAAgC;;;IAZ3C,qEAAI;IACF,uIAcK;IACP,4DAAK;;;IAde,0DAAgC;IAAhC,0GAAgC;;;IAmD9C,0EAA2B;IACpB,uDAAsB;IAAA,4DAAM;;;IAA5B,0DAAsB;IAAtB,qFAAsB;;;;IAzB/B,0EAGC;IAWG,wgBAC6B,yFAAmB,OAAO,8BACtD;IAOJ,oKAIa;IACE,4DAAa;;;;;IAvB7B,0DAAyC;IAAzC,0GAAyC;;;;IAyBzC,0EAIC;IAIG,ohBAAyB,OAAO,iBAAG,klBAMnD,iIACI,CAAC,EAAE,OAAO,WACR,OAAO,8BAIF,KAZwC;IAkBpC,4DAAgB;;;;;IAxBjB,4GAA2C;IAKzC,0DAAS;IAAT,kEAAS;;;;IAqBb,0EAGC;IAEG,iiBAAgC;IADlC,4DAKE;;;;IAPF,4GAA2C;IAGzC,0DAAgC;IAAhC,+FAAgC;;;;IAUlC,wEAEC;IACC,6EASC;IALC,moBAC+B,6HACvC,OAAO,EAAE;IAGF,4DAAS;IACZ,qEAAe;;;;IAPX,0DAAqD;IAArD,sHAAqD;;;IAV3D,0EAGC;IACC,sKAae;IACjB,4DAAM;;;;IAbc,0DAAoC;IAApC,4JAAoC;;;;;IAcxD,0EAGC;IAMK,qaAAS,oGAA8B,KAAC;IAJ1C,4DASE;IACF,sEAGQ;IACV,4DAAQ;;;;;IAZJ,0DAA+B;IAA/B,gGAA+B;IAU/B,0DAAqC;IAArC,+JAAqC;;;IAlH7C,yEAQC;IACC,8IA6BM;IACN,8IA2BM;IACN,8IAUM;IACN,8IAkBM;IACN,8IAoBM;IACR,4DAAK;;;IA/GH,qFAAwB;IAGrB,0DAAoC;IAApC,oGAAoC;IA8BpC,0DAAiC;IAAjC,iGAAiC;IA4BjC,0DAAgC;IAAhC,gGAAgC;IAWhC,0DAAkC;IAAlC,kGAAkC;IAmBlC,0DAA6B;IAA7B,6FAA6B;;;IAnGpC,qEAAI;IACF,uIAsHK;IACP,4DAAK;;;IArHgC,0DAE3C;IAF2C,0GAE3C;;;IAuHM,qEAAI;IAEA,2EACF;IAAA,4DAAK;;;IAFD,0DAAqD;IAArD,kHAAqD;;;IA3KzE,0EAA8E;IAItE,+EACA;IAAA,qEAKE;IACJ,4DAAI;IAEN,0EAAoC;IAEhC,gIAES;IACT,0EAAsC;IAQlC,4IAkBc;IACd,4IA0Hc;IAEd,4IAMc;IAChB,4DAAU;;;IAjKc,0DAA4B;IAA5B,+FAA4B;IAMlD,0DAAoC;IAApC,oGAAoC;;;IAkKlD,0EAKC;IAEuB,qEAAsC;IAAA,4DAAM;IAElE,yEAAiB;IAEV,2EAAgB;IAAA,4DAAI;;ADrXtB,MAAM,sBAAsB;IA6GjC,YACU,cAA8B,EAC/B,aAA4B,EAC5B,cAA8B,EAC7B,MAAc,EACd,KAAqB,EACrB,WAAwB,EACxB,mBAAwC,EACxC,kBAAsC,EACtC,qBAA2C,EAC3C,mBAAwC,EACxC,EAAsB;QAVtB,mBAAc,GAAd,cAAc,CAAgB;QAC/B,kBAAa,GAAb,aAAa,CAAe;QAC5B,mBAAc,GAAd,cAAc,CAAgB;QAC7B,WAAM,GAAN,MAAM,CAAQ;QACd,UAAK,GAAL,KAAK,CAAgB;QACrB,gBAAW,GAAX,WAAW,CAAa;QACxB,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,uBAAkB,GAAlB,kBAAkB,CAAoB;QACtC,0BAAqB,GAArB,qBAAqB,CAAsB;QAC3C,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,OAAE,GAAF,EAAE,CAAoB;QArHhC,iBAAY,GAAG,sBAAsB,CAAC;QAEtC,WAAM,GAAG,EAAE,CAAC;QACZ,aAAQ,GAAG,EAAE,CAAC;QACd,SAAI,GAAG,KAAK,CAAC;QACb,aAAQ,GAAG,iBAAiB,CAAC;QAE7B,eAAU,GAAG,SAAS,CAAC;QACvB,sBAAiB,GAAG,EAAE,CAAC;QAEvB,gBAAW,GAAY,KAAK,CAAC;QAC7B,eAAU,GAAQ,EAAE,CAAC;QAErB,0BAAqB,GAAY,KAAK,CAAC;QAEvC,+BAA0B,GAAQ,IAAI,CAAC;QACvC,+BAA0B,GAAQ,IAAI,CAAC;QACvC,eAAU,GAAG,MAAM,CAAC,IAAI,CAAC;QACzB,eAAU,GAAG,KAAK,CAAC;QAEnB,6BAAwB,GAAQ,EAAE,CAAC;QAEnC,uBAAkB,GAAQ,EAAE,CAAC;QAC7B,4BAAuB,GAAQ,EAAE,CAAC;QAClC,wBAAmB,GAAG,EAAE,CAAC;QACzB,yBAAoB,GAAQ,EAAE,CAAC;QAC/B,0BAAqB,GAAQ,EAAE,CAAC;QAChC,2BAAsB,GAAQ,EAAE,CAAC;QACjC,uBAAkB,GAAQ,EAAE,IAAI,EAAE,YAAY,EAAE,IAAI,EAAE,kBAAkB,EAAE,CAAC;QAC3E,gCAA2B,GAAQ,EAAE,CAAC;QACtC,0BAAqB,GAAG,EAAE,CAAC;QAC3B,6BAAwB,GAAG,EAAE,CAAC;QAC9B,4BAAuB,GAAG,EAAE,CAAC;QAE7B,iBAAY,GAAU,EAAE,CAAC;QACzB,qBAAgB,GAAU,EAAE,CAAC;QAE7B,gCAA2B,GAAG,IAAI,CAAC;QAEnC,iBAAY,GAAY,KAAK,CAAC;QAC9B,2BAAsB,GAAY,KAAK,CAAC;QAExC,0BAAqB,GAAU,EAAE,CAAC;QAClC,sBAAiB,GAAG,KAAK,CAAC;QAC1B,kCAA6B,GAAU,EAAE,CAAC;QAC1C,gBAAW,GAAU;YACnB;gBACE,KAAK,EAAE,OAAO;gBACd,MAAM,EAAE,QAAQ;gBAChB,SAAS,EAAE,UAAU;gBACrB,MAAM,EAAE,KAAK;gBACb,IAAI,EAAE,IAAI;aACX;YACD;gBACE,KAAK,EAAE,QAAQ;gBACf,MAAM,EAAE,QAAQ;gBAChB,SAAS,EAAE,OAAO;gBAClB,MAAM,EAAE,KAAK;gBACb,IAAI,EAAE,IAAI;aACX;YACD;gBACE,KAAK,EAAE,cAAc;gBACrB,MAAM,EAAE,eAAe;gBACvB,SAAS,EAAE,UAAU;gBACrB,MAAM,EAAE,KAAK;gBACb,IAAI,EAAE,IAAI;aACX;YACD;gBACE,KAAK,EAAE,UAAU;gBACjB,MAAM,EAAE,QAAQ;gBAChB,MAAM,EAAE,KAAK;gBACb,IAAI,EAAE,IAAI;aACX;YACD;gBACE,KAAK,EAAE,QAAQ;gBACf,MAAM,EAAE,QAAQ;gBAEhB,SAAS,EAAE,QAAQ;gBACnB,MAAM,EAAE,IAAI;gBACZ,IAAI,EAAE,IAAI;aACX;SACF,CAAC;QACF,+BAA0B,GAAU,EAAE,CAAC;QAEvC,qBAAgB,GAAU,EAAE,CAAC;QAC7B,gBAAW,GAAU,EAAE,CAAC;QACxB,uBAAkB,GAAU,EAAE,CAAC;QAE/B,cAAS,GAAG,CAAC,CAAC;QACd,iBAAY,GAAG,GAAG,CAAC;QACnB,oBAAe,GAAG,MAAM,CAAC;QAEzB,4BAAuB,GAAQ,EAAE,CAAC;QAElC,6BAAwB,GAAU,EAAE,CAAC;QACrC,wBAAmB,GAAU,EAAE,CAAC;QAEhC,wBAAmB,GAAQ,EAAE,CAAC;QAE9B,yBAAoB,GAAY,KAAK,CAAC;QACtC,gBAAW,GAAY,KAAK,CAAC;QAE7B,qBAAgB,GAAG,EAAE,CAAC;QAEtB,oBAAe,GAAG,SAAS,CAAC;IAczB,CAAC;IAKJ,QAAQ;QACN,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;QAClB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;YACjC,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAC1B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;QACrE,MAAM,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,MAAM,CAAC;QACnD,IAAI,MAAM,IAAI,MAAM,CAAC,EAAE,EAAE;YACvB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CACjE,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,CAAC,CACnE,CAAC;YACF,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,EAAE,CAAC;SAC3B;QAED,oBAAoB;QAEpB,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC,KAAK,CACxC,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAClC,CAAC;QACF,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;QACzE,IAAI,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,CAAC;QACjE,IAAI,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC;QAE9D,IAAI,MAAM,GAAG,IAAI,CAAC;QAClB,IAAI,MAAM,GAAG,IAAI,CAAC;QAElB,IAAI,UAAU,EAAE;YACd,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;YACxB,MAAM,GAAG,IAAI,CAAC,wBAAwB,CAAC,MAAM,CAC3C,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,IAAI,UAAU,CAAC,eAAe,CAAC,IAAI,CACrD,CAAC,CAAC,CAAC,CAAC;YACL,MAAM,GAAG,IAAI,CAAC,mBAAmB,CAAC,MAAM,CACtC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,IAAI,UAAU,CAAC,UAAU,CAAC,IAAI,CAChD,CAAC,CAAC,CAAC,CAAC;SACN;aAAM;YACL,IAAI,SAAS,EAAE;gBACb,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC,CAAC;gBAC7D,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC;aACzD;SACF;QAED,IAAI,MAAM,EAAE;YACV,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;SACjC;QACD,IAAI,MAAM,EAAE;YACV,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;SACpC;QACD,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,IAAI,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE;YAC/C,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC;YACzB,IAAI,CAAC,eAAe,EAAE,CAAC;YACvB,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;YACjC,IAAI,IAAI,CAAC,IAAI,IAAI,KAAK,EAAE;gBACtB,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;gBACvB,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC;aAC3B;SACF;aAAM;YACL,IAAI,IAAI,CAAC,IAAI,IAAI,KAAK,EAAE;gBACtB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,wBAAwB,CAAC,CAAC,CAAC;aAClD;iBAAM;gBACL,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;aACxC;SACF;QAED,wBAAwB;QAExB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,qBAAqB,CAAC,OAAO,EAAE,CAAC;QACvD,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QACvC,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,UAAU,EAAE;YAC9D,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;SACzB;IACH,CAAC;IACD,kBAAkB;QAChB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YACnC,YAAY,EAAE,IAAI,8DAAkB,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAE,EAAE;gBACnE,+DAAmB;aACpB,CAAC;YACF,OAAO,EAAE,IAAI,8DAAkB,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,EAAE;gBAC7D,+DAAmB;aACpB,CAAC;SACH,CAAC,CAAC;IACL,CAAC;IAED,IAAI,OAAO;QACT,OAAO,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;IAClD,CAAC;IACD,IAAI,UAAU;QACZ,OAAO,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;IAC7C,CAAC;IAED,UAAU,CAAC,KAAoB;QAC7B,MAAM,SAAS,GAAG,MAAM,CAAC,YAAY,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAEtD,0CAA0C;QAC1C,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE;YACvC,KAAK,CAAC,cAAc,EAAE,CAAC;SACxB;IACH,CAAC;IAED,gBAAgB;QACd,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QACzB,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;QAClC,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;QACxB,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC;IAC3B,CAAC;IAED,eAAe;QACb,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;QACrC,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QACvB,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;QAC3B,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;QACjC,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QACzB,IAAI,CAAC,qBAAqB,EAAE,CAAC;QAC7B,IAAI,CAAC,eAAe,EAAE,CAAC;IACzB,CAAC;IAED,0BAA0B,CAAC,UAAe,EAAE,SAAc;QACxD,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACpB,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;QACrC,IAAI,CAAC,6BAA6B,GAAG,EAAE,CAAC;QAExC,IAAI,CAAC,6BAA6B,GAAG,IAAI,CAAC,KAAK,CAC7C,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CACjC,CAAC;QAEF,IAAI,CAAC,qBAAqB;aACvB,uBAAuB,CACtB,UAAU,EACV,SAAS,EACT,IAAI,CAAC,qBAAqB,CAAC,eAAe,EAC1C,IAAI,CAAC,qBAAqB,CAAC,UAAU,EACrC,IAAI,CAAC,QAAQ,CACd;aACA,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;gBACzB,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;iBAClE;aACF;iBAAM;gBACL,IAAI,GAAG,CAAC,MAAM,CAAC,EAAE;oBACf,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;oBACxB,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;oBAEhE,IAAI,CAAC,gBAAgB;wBACnB,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;oBAE9C,IAAI,CAAC,YAAY;wBACf,IAAI,CAAC,kBAAkB,CAAC,uBAAuB,CAC7C,IAAI,CAAC,gBAAgB,EACrB,IAAI,CAAC,kBAAkB,EACvB,IAAI,CAAC,gBAAgB,CACtB,CAAC;oBAEJ,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC,YAAY,CAAC,CAAC;oBACpC,IAAI,GAAG,CAAC,gBAAgB,CAAC,EAAE;wBACzB,IAAI,CAAC,iBAAiB,GAAG,GAAG,CAAC,gBAAgB,CAAC,CAAC;qBAChD;oBACD,IAAI,CAAC,qBAAqB,GAAG,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;oBACpD,IAAI,CAAC,0BAA0B,GAAG,GAAG,CAAC,aAAa,CAAC,CAAC;oBACrD,IAAI,CAAC,yBAAyB,CAAC,GAAG,CAAC,CAAC;oBACpC,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,EAAE;wBACnD,OAAO,EAAE,IAAI,EAAE,MAAM,CAAC,IAAI,EAAE,QAAQ,EAAE,MAAM,CAAC,QAAQ,EAAE,CAAC;oBAC1D,CAAC,CAAC,CAAC;oBACH,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;oBAErC,IAAI,cAAc,GAAG,KAAK,CAAC;oBAC3B,IAAI,eAAe,GAAG,KAAK,CAAC;oBAE5B,IAAI,GAAG,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;wBAC5C,cAAc,GAAG,IAAI,CAAC;qBACvB;oBAED,IAAI,GAAG,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE;wBACpD,eAAe,GAAG,IAAI,CAAC;qBACxB;oBAED,IAAI,cAAc,IAAI,eAAe,EAAE;wBACrC,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;4BAC/C,KAAK,EAAE,UAAU;4BACjB,MAAM,EAAE,WAAW;4BACnB,SAAS,EAAE,MAAM;yBAClB,CAAC,CAAC;wBACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;4BAC/C,KAAK,EAAE,QAAQ;4BACf,MAAM,EAAE,SAAS;4BACjB,SAAS,EAAE,MAAM;yBAClB,CAAC,CAAC;wBACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;4BAC/C,KAAK,EAAE,eAAe;4BACtB,MAAM,EAAE,aAAa;4BACrB,SAAS,EAAE,MAAM;yBAClB,CAAC,CAAC;wBACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;4BAC/C,KAAK,EAAE,aAAa;4BACpB,MAAM,EAAE,WAAW;4BACnB,SAAS,EAAE,MAAM;yBAClB,CAAC,CAAC;wBAEH,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;qBACtC;yBAAM;wBACL,IAAI,cAAc,EAAE;4BAClB,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;gCAC/C,KAAK,EAAE,eAAe;gCACtB,MAAM,EAAE,aAAa;gCACrB,SAAS,EAAE,MAAM;6BAClB,CAAC,CAAC;4BACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;gCAC/C,KAAK,EAAE,aAAa;gCACpB,MAAM,EAAE,WAAW;gCACnB,SAAS,EAAE,MAAM;6BAClB,CAAC,CAAC;4BACH,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;yBACtC;6BAAM,IAAI,eAAe,EAAE;4BAC1B,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;gCAC/C,KAAK,EAAE,UAAU;gCACjB,MAAM,EAAE,WAAW;gCACnB,SAAS,EAAE,MAAM;6BAClB,CAAC,CAAC;4BACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;gCAC/C,KAAK,EAAE,QAAQ;gCACf,MAAM,EAAE,SAAS;gCACjB,SAAS,EAAE,MAAM;6BAClB,CAAC,CAAC;4BACH,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;yBACtC;6BAAM,IAAI,CAAC,cAAc,IAAI,CAAC,eAAe,EAAE;4BAC9C,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;yBACtC;qBACF;oBACD,IAAI,CAAC,0BAA0B,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC;oBAC9C,IAAI,CAAC,0BAA0B,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;wBAC/C,IAAI,QAAQ,GAAG,IAAI,CAAC,kBAAkB,CAAC,CAAC;wBAExC,IAAI,qBAAqB,GAAG,IAAI,CAAC;wBACjC,IAAI,mBAAmB,GAAG,IAAI,CAAC;wBAC/B,IAAI,qBAAqB,GAAG,IAAI,CAAC;wBAEjC,IAAI,QAAQ,IAAI,QAAQ,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE;4BACzC,IAAI,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,MAAM,IAAI,CAAC,EAAE;gCACtC,qBAAqB,GAAG,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;gCAClD,mBAAmB,GAAG,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;gCAChD,qBAAqB,GAAG,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;gCAElD,IAAI,mBAAmB,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE;oCACzC,IAAI,CAAC,eAAe,CAAC,GAAG,mBAAmB;yCACxC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;yCACd,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;oCACjB,IAAI,CAAC,aAAa,CAAC,GAAG,mBAAmB;yCACtC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;yCACd,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;iCAClB;gCAED,IAAI,qBAAqB,CAAC,QAAQ,CAAC,eAAe,CAAC,EAAE;oCACnD,IAAI,CAAC,UAAU,CAAC,GAAG,qBAAqB;yCACrC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;yCACd,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;oCACjB,IAAI,CAAC,QAAQ,CAAC,GAAG,qBAAqB;yCACnC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;yCACd,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;iCAClB;6BACF;iCAAM,IAAI,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,MAAM,IAAI,CAAC,EAAE;gCAC7C,qBAAqB,GAAG,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;gCAClD,mBAAmB,GAAG,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;gCAEhD,IAAI,mBAAmB,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE;oCACzC,IAAI,CAAC,eAAe,CAAC,GAAG,mBAAmB;yCACxC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;yCACd,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;oCACjB,IAAI,CAAC,aAAa,CAAC,GAAG,mBAAmB;yCACtC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;yCACd,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;iCAClB;qCAAM,IAAI,mBAAmB,CAAC,QAAQ,CAAC,eAAe,CAAC,EAAE;oCACxD,IAAI,CAAC,UAAU,CAAC,GAAG,mBAAmB;yCACnC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;yCACd,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;oCACjB,IAAI,CAAC,QAAQ,CAAC,GAAG,mBAAmB;yCACjC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;yCACd,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;iCAClB;6BACF;yBACF;6BAAM;yBACN;oBACH,CAAC,CAAC,CAAC;oBAEH,SAAS;oBAET,iDAAiD;oBACjD,mCAAmC;oBACnC,IAAI;oBAEJ,iCAAiC;oBACjC,mDAAmD;oBACnD,WAAW;oBACX,yDAAyD;oBACzD,yDAAyD;oBACzD,4BAA4B;oBAC5B,8BAA8B;oBAC9B,2BAA2B;oBAC3B,UAAU;oBACV,qDAAqD;oBAErD,0DAA0D;oBAC1D,8CAA8C;oBAC9C,qBAAqB;oBACrB,qDAAqD;oBACrD,wCAAwC;oBACxC,qBAAqB;oBACrB,4DAA4D;oBAC5D,wCAAwC;oBACxC,qBAAqB;oBACrB,UAAU;oBACV,UAAU;oBACV,0DAA0D;oBAC1D,yDAAyD;oBACzD,gCAAgC;oBAChC,+BAA+B;oBAC/B,2BAA2B;oBAC3B,UAAU;oBACV,yDAAyD;oBACzD,8BAA8B;oBAC9B,6BAA6B;oBAC7B,2BAA2B;oBAC3B,UAAU;oBACV,qDAAqD;oBACrD,0DAA0D;oBAC1D,0DAA0D;oBAC1D,8CAA8C;oBAC9C,qBAAqB;oBACrB,0DAA0D;oBAC1D,qEAAqE;oBACrE,oDAAoD;oBACpD,wDAAwD;oBACxD,qEAAqE;oBACrE,oDAAoD;oBACpD,6DAA6D;oBAC7D,wCAAwC;oBACxC,qBAAqB;oBACrB,UAAU;oBACV,UAAU;oBACV,MAAM;oBACN,IAAI;oBAEJ,IAAI,CAAC,0BAA0B,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;wBAC/C,OAAO,IAAI,CAAC,EAAE,CAAC;wBACf,IAAI,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC;wBACvC,IAAI,CAAC,oBAAoB,CAAC,GAAG,IAAI,CAAC,kBAAkB,CAAC;wBACrD,IAAI,CAAC,QAAQ,CAAC,GAAG,GAAG,CAAC,QAAQ,CAAC,CAAC;wBAC/B,IAAI,CAAC,qBAAqB,CAAC,GAAG,KAAK,CAAC;wBACpC,IAAI,CAAC,QAAQ,CAAC,GAAG,QAAQ,CAAC;oBAC5B,CAAC,CAAC,CAAC;oBACH,6BAA6B;oBAE7B,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,IAAI,CAAC,0BAA0B,CAAC,CAAC;oBACnD,yDAAyD;oBAEzD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,0CAA0C,CAC3C,CAAC;oBACF,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;iBACxC;qBAAM;oBACL,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;oBACrC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;oBACvC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;oBACvC,IAAI,CAAC,6BAA6B,GAAG,EAAE,CAAC;oBACxC,IAAI,GAAG,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;wBACrB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;qBAC/C;yBAAM;wBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,+CAA+C,CAChD,CAAC;qBACH;oBACD,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;iBACxC;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;YACzB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,OAAO,CAAC,GAAG,CAAC,qCAAqC,EAAE,GAAG,CAAC,CAAC;YACxD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,8CAA8C,CAC/C,CAAC;QACJ,CAAC,CACF,CAAC;IACN,CAAC;IAED,QAAQ,CAAC,IAAS;QAChB,IAAI,CAAC,uBAAuB,EAAE,CAAC;IACjC,CAAC;IACD,uBAAuB;QACrB,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,IAAI,SAAS,GAAG,EAAE,CAAC;QACnB,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,EAAE;YAC5B,SAAS,GAAG,QAAQ,CAAC;YACrB,IAAI,GAAG,UAAU,CAAC;SACnB;aAAM;YACL,SAAS,GAAG,UAAU,CAAC;YACvB,IAAI,GAAG,YAAY,CAAC;SACrB;QACD,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;QAChD,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,WAAW,GAAG,EAAE,CAAC;QACrB,WAAW;YACT,mDAAmD;gBACnD,iBAAiB;gBACjB,IAAI;gBACJ,uBAAuB,IAAI,CAAC,UAAU,GAAG,CAAC;QAE5C,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;YAC/B,OAAO,EAAE,WAAW;YACpB,GAAG,EAAE,4BAA4B;YACjC,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;gBAC7B,IAAI,CAAC,mBAAmB,EAAE,CAAC;YAC7B,CAAC;YACD,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;gBAC/B,IAAI,CAAC,mBAAmB,EAAE,CAAC;YAC7B,CAAC;SACF,CAAC,CAAC;IACL,CAAC;IACD,YAAY,CAAC,SAAc;QACzB,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QAExC,MAAM,QAAQ,GAAG,IAAI,QAAQ,EAAE,CAAC;QAChC,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;QACvC,QAAQ,CAAC,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QAC/C,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;QACrC,QAAQ,CAAC,MAAM,CAAC,cAAc,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QACzD,QAAQ,CAAC,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC1D,QAAQ,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;QACvC,IAAI,CAAC,sBAAsB,CAAC,QAAQ,CAAC,CAAC;IACxC,CAAC;IAED,sBAAsB,CAAC,QAAa;QAClC,IAAI,CAAC,qBAAqB,CAAC,0BAA0B,CAAC,QAAQ,CAAC,CAAC,SAAS,CACvE,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,OAAO,GAAG,EAAE,CAAC;YACjB,IAAI,GAAG,CAAC,OAAO,CAAC,IAAI,MAAM,EAAE;gBAC1B,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;aAC5C;iBAAM;gBACL,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;oBACd,OAAO,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC;oBACrB,IAAI,CAAC,WAAW,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC;oBACrC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;iBAC5C;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;oBACvC,OAAO,GAAG,gDAAgD,CAAC;oBAC3D,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;iBAC5C;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACjB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,CACF,CAAC;IACJ,CAAC;IAED,qBAAqB;QACnB,IAAI,IAAI,CAAC,IAAI,IAAI,KAAK,EAAE;YACtB,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;SACzC;QACD,8CAAQ,CAAC;YACP,kBAAkB,EAAE,IAAI,CAAC,qBAAqB,CAAC,qBAAqB,CAClE,IAAI,CAAC,MAAM,EACX,IAAI,CAAC,QAAQ,EACb,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EACvB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAC3B;YACD,wBAAwB,EACtB,IAAI,CAAC,qBAAqB,CAAC,gCAAgC,CACzD,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EACvB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,EAC1B,IAAI,CAAC,QAAQ,CACd;SACJ,CAAC;aACC,IAAI,CACH,oDAAI,CAAC,CAAC,CAAC,EACP,mDAAG,CAAC,CAAC,QAAQ,EAAE,EAAE;YACf,IACE,QAAQ,CAAC,wBAAwB,CAAC,MAAM,CAAC;gBACzC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,wBAAwB,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,EAClE;gBACA,OAAO;oBACL,GAAG,EAAE,sDAAsD;iBAC5D,CAAC;aACH;iBAAM;gBACL,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAC;gBACnD,IAAI,kBAAkB,GAAG,gEAAY,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAC;gBACnE,OAAO,kBAAkB,CAAC,cAAc,CAAC,CAAC;gBAC1C,IAAI,CAAC,gBAAgB,GAAG,QAAQ,CAAC,kBAAkB,CAAC,cAAc,CAAC,CAAC;gBACpE,MAAM,kBAAkB,GAAG,kBAAkB,CAAC;gBAC9C,IAAI,CAAC,uBAAuB,GAAG,QAAQ,CAAC,wBAAwB,CAAC;gBACjE,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,YAAY,CAAC,qBAAqB,CAAC,OAAO,CAC1E,CAAC,IAAI,EAAE,EAAE;oBACP,IAAI,IAAI,CAAC,cAAc,CAAC,IAAI,MAAM,EAAE;wBAClC,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC;qBACrD;oBACD,IAAI,IAAI,CAAC,cAAc,CAAC,IAAI,MAAM,EAAE;wBAClC,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC;qBACrD;gBACH,CAAC,CACF,CAAC;gBAEF,IAAI,IAAI,CAAC,IAAI,IAAI,KAAK,EAAE;oBACtB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,UAAU,CAAC;oBAC/D,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC;oBAChC,IAAI,CAAC,iBAAiB;wBACpB,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,cAAc,CAAC;iBACpD;gBAED,IAAI,CAAC,qBAAqB,GAAG;oBAC3B,GAAG,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,YAAY;yBAC9C,qBAAqB;iBACzB,CAAC;gBAEF,IAAI,CAAC,mBAAmB;oBACtB,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,SAAS;yBACxC,OAAO,CAAC,YAAY,EAAE,EAAE,CAAC;yBACzB,KAAK,CAAC,IAAI,CAAC,CAAC;gBAEjB,IAAI,CAAC,oBAAoB;oBACvB,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,UAAU,CAAC;gBAE/C,IAAI,0BAA0B,GAC5B,IAAI,CAAC,mBAAmB,CAAC,iBAAiB,CACxC,IAAI,CAAC,uBAAuB,EAC5B,IAAI,CAAC,qBAAqB,EAC1B,kBAAkB,EAClB,IAAI,CAAC,mBAAmB,EACxB,IAAI,CAAC,oBAAoB,EACzB,IAAI,CAAC,kBAAkB,CACxB,CAAC;gBAEJ,IAAI,CAAC,qBAAqB;oBACxB,0BAA0B,CAAC,uBAAuB,CAAC,CAAC;gBACtD,IAAI,CAAC,sBAAsB;oBACzB,0BAA0B,CAAC,wBAAwB,CAAC,CAAC;gBACvD,OAAO,kBAAkB,CAAC;aAC3B;QACH,CAAC,CAAC,CACH;aACA,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;gBACf,IACE,GAAG,CAAC,QAAQ,CAAC;oBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;oBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;oBACA,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;oBACvC,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;oBACzB,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;wBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;qBACjD;yBAAM;wBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,6BAA6B,CAC9B,CAAC;qBACH;iBACF;qBAAM;oBACL,IAAI,CAAC,kBAAkB,GAAG,GAAG,CAAC;oBAC9B,IAAI,IAAI,CAAC,IAAI,IAAI,MAAM,EAAE;wBACvB,IACE,CAAC,CACC,IAAI,CAAC,qBAAqB,CAAC,eAAe;4BAC1C,IAAI,CAAC,qBAAqB,CAAC,UAAU,CACtC,EACD;4BACA,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;4BAClC,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;4BACzB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,wBAAwB,CAAC,CAAC,CAAC;yBAClD;6BAAM;4BACL,IAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;yBACxD;qBACF;yBAAM,IAAI,IAAI,CAAC,IAAI,IAAI,OAAO,EAAE;wBAC/B,IACE,CAAC,CACC,IAAI,CAAC,qBAAqB,CAAC,eAAe;4BAC1C,IAAI,CAAC,qBAAqB,CAAC,UAAU,CACtC,EACD;4BACA,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;4BAClC,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;4BACzB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,wBAAwB,CAAC,CAAC,CAAC;yBAClD;6BAAM;4BACL,IAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;yBACzD;qBACF;yBAAM;wBACL,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;wBACxB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;qBACxC;iBACF;aACF;iBAAM,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;gBACrB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;gBAC9C,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,OAAO;aACR;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;YACzB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,OAAO,CAAC,GAAG,CAAC,qCAAqC,EAAE,GAAG,CAAC,CAAC;YACxD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;QACnE,CAAC,CACF,CAAC;IACN,CAAC;IACD,gBAAgB,CAAC,UAAe;QAC9B,MAAM,mBAAmB,GAAG,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,EAAE,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC;QAC3E,IAAI,CAAC,mBAAmB,GAAG,mBAAmB,CAAC;IACjD,CAAC;IACD,sBAAsB,CACpB,SAAc,EACd,WAAgB,EAChB,gBAAqB;QAErB,IAAI,gBAAgB,GAAG,gBAAgB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAElD,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,CAAC,qBAAqB;aACvB,0BAA0B,CACzB,IAAI,CAAC,QAAQ,EACb,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EACvB,gBAAgB,EAChB,SAAS,EACT,WAAW,EACX,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAC3B;aACA,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;iBAClE;aACF;iBAAM;gBACL,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,GAAG,CAAC,SAAS,CAAC,EAAE;oBAClB,IAAI,CAAC,0BAA0B,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC;oBACnD,IAAI,CAAC,0BAA0B,CAAC,kBAAkB,GAAG,KAAK,CAAC;oBAC3D,IAAI,CAAC,0BAA0B,CAAC,cAAc,GAAG,KAAK,CAAC;oBAEvD,IAAI,CAAC,uBAAuB,GAAG,GAAG,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE;wBACxD,OAAO,EAAE,IAAI,EAAE,GAAG,CAAC,UAAU,CAAC,EAAE,IAAI,EAAE,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC;oBACtD,CAAC,CAAC,CAAC;iBACJ;qBAAM;oBACL,IAAI,GAAG,CAAC,SAAS,CAAC,EAAE;wBAClB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC;wBAClD,IAAI,CAAC,sBAAsB,EAAE,CAAC;qBAC/B;yBAAM;wBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,4BAA4B,CAAC,CAAC;wBAChE,IAAI,CAAC,sBAAsB,EAAE,CAAC;qBAC/B;iBACF;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,OAAO,CAAC,GAAG,CAAC,yBAAyB,EAAE,GAAG,CAAC,CAAC;YAC5C,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;YACjE,IAAI,CAAC,sBAAsB,EAAE,CAAC;QAChC,CAAC,CACF,CAAC;IACN,CAAC;IAED,sBAAsB;QACpB,IAAI,CAAC,0BAA0B,CAAC,sBAAsB,EAAE,CAAC;IAC3D,CAAC;IAED,aAAa,CAAC,gBAA0B;QACtC,gBAAgB,CAAC,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;QACrD,gBAAgB,CAAC,MAAM,CAAC,WAAW,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;QAChD,gBAAgB,CAAC,MAAM,CAAC,cAAc,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QACjE,gBAAgB,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC/C,gBAAgB,CAAC,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAClE,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC;QACnC,IAAI,IAAI,CAAC,qBAAqB,IAAI,IAAI,CAAC,IAAI,IAAI,OAAO,EAAE;YACtD,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;YAChD,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;YAC7C,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;gBAC/B,OAAO,EAAE,kIAAkI;gBAC3I,GAAG,EAAE,4BAA4B;gBACjC,MAAM,EAAE,GAAG,EAAE;oBACX,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;oBACxC,UAAU,CAAC,GAAG,EAAE;wBACd,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;wBAC5C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;oBACjD,CAAC,EAAE,GAAG,CAAC,CAAC;oBACR,UAAU,CAAC,GAAG,EAAE;wBACd,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;oBACzC,CAAC,EAAE,IAAI,CAAC,CAAC;gBACX,CAAC;aACF,CAAC,CAAC;SACJ;aAAM;YACL,IAAI,CAAC,uBAAuB,CAAC,gBAAgB,CAAC,CAAC;SAChD;IACH,CAAC;IAED,uBAAuB,CAAC,QAAa;QACnC,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;QACrC,IAAI,CAAC,6BAA6B,GAAG,EAAE,CAAC;QACxC,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QAExC,IAAI,CAAC,6BAA6B,GAAG,IAAI,CAAC,KAAK,CAC7C,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CACjC,CAAC;QAEF,IAAI,CAAC,qBAAqB,CAAC,wBAAwB,CAAC,QAAQ,CAAC,CAAC,SAAS,CACrE,CAAC,GAAG,EAAE,EAAE;YACN,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;iBAClE;aACF;iBAAM;gBACL,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,GAAG,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,KAAK,CAAC,IAAI,+BAA+B,EAAE;oBAC/D,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;oBACrC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;oBACvC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;oBACvC,IAAI,CAAC,6BAA6B,GAAG,EAAE,CAAC;oBACxC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;oBAC9C,OAAO;iBACR;gBAED,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,EAAE;oBACrB,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;oBAC7D,IAAI,CAAC,0BAA0B,GAAG,GAAG,CAAC,aAAa,CAAC,CAAC;oBACrD,IAAI,CAAC,yBAAyB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC;oBAC5C,IAAI,CAAC,0BAA0B,GAAG,GAAG,CAAC,WAAW,CAAC,CAAC;oBACnD,IAAI,OAAO,GACT,IAAI,CAAC,mBAAmB,CAAC,gCAAgC,CAAC,GAAG,CAAC,CAAC;oBAEjE,IAAI,SAAS,GAAG,IAAI,CAAC,kBAAkB,CAAC,uBAAuB,CAC7D,OAAO,CAAC,OAAO,EACf,IAAI,CAAC,kBAAkB,EACvB,IAAI,CAAC,gBAAgB,CACtB,CAAC;oBACF,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,EAAE;wBACxD,OAAO,EAAE,IAAI,EAAE,MAAM,CAAC,IAAI,EAAE,QAAQ,EAAE,MAAM,CAAC,QAAQ,EAAE,CAAC;oBAC1D,CAAC,CAAC,CAAC;oBACH,IAAI,cAAc,GAAG,KAAK,CAAC;oBAC3B,IAAI,eAAe,GAAG,KAAK,CAAC;oBAE5B,IAAI,eAAe,GAAG,GAAG,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;oBAE1D,IAAI,GAAG,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;wBAC5C,cAAc,GAAG,IAAI,CAAC;qBACvB;oBAED,IAAI,GAAG,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE;wBACpD,eAAe,GAAG,IAAI,CAAC;qBACxB;oBAED,IAAI,cAAc,IAAI,eAAe,EAAE;wBACrC,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;4BAC/C,KAAK,EAAE,UAAU;4BACjB,MAAM,EAAE,WAAW;4BACnB,SAAS,EAAE,MAAM;yBAClB,CAAC,CAAC;wBACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;4BAC/C,KAAK,EAAE,QAAQ;4BACf,MAAM,EAAE,SAAS;4BACjB,SAAS,EAAE,MAAM;yBAClB,CAAC,CAAC;wBACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;4BAC/C,KAAK,EAAE,eAAe;4BACtB,MAAM,EAAE,aAAa;4BACrB,SAAS,EAAE,MAAM;yBAClB,CAAC,CAAC;wBACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;4BAC/C,KAAK,EAAE,aAAa;4BACpB,MAAM,EAAE,WAAW;4BACnB,SAAS,EAAE,MAAM;yBAClB,CAAC,CAAC;wBAEH,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;wBAErC,IAAI,cAAc,GAAG,OAAO,CAAC,WAAW,CAAC;wBACzC,IAAI,aAAa,GAAG,OAAO,CAAC,UAAU,CAAC;wBAEvC,cAAc,CAAC,OAAO,CAAC,CAAC,SAAS,EAAE,EAAE;4BACnC,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;4BAC3B,aAAa,CAAC,OAAO,CAAC,CAAC,QAAQ,EAAE,EAAE;gCACjC,IAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CACtB,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,aAAa,CAAC,CAC1C,CAAC;gCACF,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;gCACtB,OAAO,CAAC,UAAU,CAAC,GAAG,SAAS,CAAC,YAAY,CAAC;gCAC7C,OAAO,CAAC,QAAQ,CAAC,GAAG,SAAS,CAAC,UAAU,CAAC;gCACzC,OAAO,CAAC,eAAe,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC;gCACzC,OAAO,CAAC,aAAa,CAAC,GAAG,QAAQ,CAAC,EAAE,CAAC;gCAErC,OAAO,CACL,kBAAkB,CACnB,GAAG,GAAG,eAAe,YAAY,QAAQ,CAAC,MAAM,CAAC,QAAQ,QAAQ,CAAC,IAAI,CAAC,oBAAoB,SAAS,CAAC,cAAc,CAAC,gBAAgB,SAAS,CAAC,YAAY,CAAC,EAAE,CAAC;gCAC/J,IAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;4BAChD,CAAC,CAAC,CAAC;wBACL,CAAC,CAAC,CAAC;qBACJ;yBAAM;wBACL,IAAI,cAAc,EAAE;4BAClB,IAAI,aAAa,GAAG,OAAO,CAAC,UAAU,CAAC;4BACvC,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;gCAC/C,KAAK,EAAE,eAAe;gCACtB,MAAM,EAAE,aAAa;gCACrB,SAAS,EAAE,MAAM;6BAClB,CAAC,CAAC;4BACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;gCAC/C,KAAK,EAAE,aAAa;gCACpB,MAAM,EAAE,WAAW;gCACnB,SAAS,EAAE,MAAM;6BAClB,CAAC,CAAC;4BACH,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;4BACrC,aAAa,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;gCAC9B,IAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CACtB,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,aAAa,CAAC,CAC1C,CAAC;gCACF,OAAO,CAAC,eAAe,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC;gCACtC,OAAO,CAAC,aAAa,CAAC,GAAG,KAAK,CAAC,EAAE,CAAC;gCAClC,OAAO,CACL,kBAAkB,CACnB,GAAG,GAAG,eAAe,YAAY,KAAK,CAAC,MAAM,CAAC,QAAQ,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC;gCACrE,IAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;4BAChD,CAAC,CAAC,CAAC;yBACJ;6BAAM,IAAI,eAAe,EAAE;4BAC1B,IAAI,cAAc,GAAG,OAAO,CAAC,WAAW,CAAC;4BACzC,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;gCAC/C,KAAK,EAAE,UAAU;gCACjB,MAAM,EAAE,WAAW;gCACnB,SAAS,EAAE,MAAM;6BAClB,CAAC,CAAC;4BACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;gCAC/C,KAAK,EAAE,QAAQ;gCACf,MAAM,EAAE,SAAS;gCACjB,SAAS,EAAE,MAAM;6BAClB,CAAC,CAAC;4BACH,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;4BACrC,cAAc,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;gCAC/B,IAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CACtB,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,aAAa,CAAC,CAC1C,CAAC;gCACF,OAAO,CAAC,UAAU,CAAC,GAAG,KAAK,CAAC,YAAY,CAAC;gCACzC,OAAO,CAAC,QAAQ,CAAC,GAAG,KAAK,CAAC,UAAU,CAAC;gCACrC,OAAO,CACL,kBAAkB,CACnB,GAAG,GAAG,eAAe,oBAAoB,KAAK,CAAC,cAAc,CAAC,gBAAgB,KAAK,CAAC,YAAY,CAAC,EAAE,CAAC;gCACrG,IAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;4BAChD,CAAC,CAAC,CAAC;yBACJ;6BAAM,IAAI,CAAC,cAAc,IAAI,CAAC,eAAe,EAAE;4BAC9C,IAAI,CAAC,0BAA0B,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,aAAa,CAAC,CAAC;4BAC9D,IAAI,CAAC,0BAA0B,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;gCAC/C,IAAI,CAAC,kBAAkB,CAAC,GAAG,eAAe,CAAC;4BAC7C,CAAC,CAAC,CAAC;yBACJ;qBACF;oBAED,IAAI,CAAC,0BAA0B,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;wBAC/C,OAAO,IAAI,CAAC,EAAE,CAAC;wBACf,IAAI,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,0BAA0B,CAAC;wBACtD,IAAI,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC;wBACvC,IAAI,CAAC,oBAAoB,CAAC,GAAG,IAAI,CAAC,kBAAkB,CAAC;wBACrD,IAAI,CAAC,QAAQ,CAAC,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC;wBACpC,IAAI,CAAC,qBAAqB,CAAC,GAAG,KAAK,CAAC;wBACpC,IAAI,CAAC,QAAQ,CAAC,GAAG,QAAQ,CAAC;wBAC1B,IAAI,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;wBAC7B,IAAI,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC;wBAErC,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;wBAC5B,OAAO,CAAC,GAAG,CAAC,SAAS,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC;oBAC9C,CAAC,CAAC,CAAC;oBACH,6BAA6B;oBAE7B,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,IAAI,CAAC,0BAA0B,CAAC,CAAC;oBACnD,yDAAyD;oBAEzD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,+BAA+B,CAAC,CAAC;oBACnE,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;iBACxC;qBAAM;oBACL,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;oBACrC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;oBACvC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;oBACvC,IAAI,CAAC,6BAA6B,GAAG,EAAE,CAAC;oBACxC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,kCAAkC,CACnC,CAAC;iBACH;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,OAAO,CAAC,GAAG,CAAC,mCAAmC,EAAE,GAAG,CAAC,CAAC;YACtD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;QACnE,CAAC,CACF,CAAC;IACJ,CAAC;IACD,yBAAyB,CAAC,IAAS;QACjC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAClB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,0BAA0B,CAAC,CAAC;QAC7C,IAAI,IAAI,CAAC,0BAA0B,EAAE;YACnC,MAAM,UAAU,GAAG,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YAC9D,MAAM,mBAAmB,GAAG,UAAU,CAAC,IAAI,CAAC,CAAC,SAAS,EAAE,EAAE,CACxD,SAAS,CAAC,QAAQ,CAAC,aAAa,CAAC,CAClC,CAAC;YAEF,IAAI,mBAAmB,EAAE;gBACvB,MAAM,eAAe,GAAG,+BAA+B,CAAC,IAAI,CAC1D,mBAAmB,CACpB,CAAC;gBAEF,OAAO,CAAC,GAAG,CAAC,iBAAiB,EAAE,eAAe,CAAC,CAAC;gBAEhD,IAAI,eAAe,IAAI,eAAe,CAAC,CAAC,CAAC,EAAE;oBACzC,MAAM,kBAAkB,GAAG,eAAe,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;oBACrD,OAAO,CAAC,GAAG,CAAC,oBAAoB,EAAE,kBAAkB,CAAC,CAAC;oBAEtD,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,kBAAkB,EAAE,MAAM,CACvD,CAAC,MAAM,EAAE,EAAE,CAAC,MAAM,CAAC,QAAQ,KAAK,kBAAkB,CACnD,CAAC;iBACH;aACF;SACF;QAED,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,kBAAkB,EAAE,GAAG,CAAC,CAAC,MAAM,EAAE,EAAE;YAChE,OAAO,EAAE,IAAI,EAAE,MAAM,CAAC,IAAI,EAAE,QAAQ,EAAE,MAAM,CAAC,QAAQ,EAAE,CAAC;QAC1D,CAAC,CAAC,CAAC;QACH,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;IACvC,CAAC;IACD,sBAAsB,CAAC,gBAAqB;QAC1C,gBAAgB,CAAC,MAAM,CAAC,cAAc,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QACjE,gBAAgB,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC/C,gBAAgB,CAAC,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAClE,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,CAAC,qBAAqB;aACvB,6BAA6B,CAAC,gBAAgB,CAAC;aAC/C,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,+BAA+B,CAChC,CAAC;iBACH;aACF;iBAAM;gBACL,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,GAAG,CAAC,GAAG,IAAI,mCAAmC,EAAE;oBAClD,qCAAqC;oBACrC,yCAAyC;oBACzC,IAAI,CAAC,2BAA2B,GAAG,IAAI,CAAC;oBACxC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,2BAA2B,CAAC,CAAC;iBAC/C;qBAAM;oBACL,IAAI,CAAC,2BAA2B,GAAG,KAAK,CAAC;oBACzC,IAAI,CAAC,0BAA0B,CAAC,gBAAgB;wBAC9C,IAAI,CAAC,0BAA0B,CAAC,YAAY,CAAC;oBAC/C,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;oBAC3C,IAAI,CAAC,0BAA0B,CAAC,sBAAsB,GAAG,KAAK,CAAC;oBAC/D,IAAI,CAAC,0BAA0B,CAAC,YAAY,GAAG,EAAE,CAAC;oBAClD,IAAI,CAAC,eAAe,EAAE,CAAC;iBACxB;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,OAAO,CAAC,GAAG,CAAC,sCAAsC,EAAE,GAAG,CAAC,CAAC;YACzD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,+BAA+B,CAAC,CAAC;QACrE,CAAC,CACF,CAAC;IACN,CAAC;IAED,eAAe;QACb,IAAI,CAAC,qBAAqB;aACvB,uBAAuB,CACtB,IAAI,CAAC,MAAM,EACX,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EACvB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,EAC1B,IAAI,CAAC,QAAQ,CACd;aACA,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,+BAA+B,CAChC,CAAC;iBACH;aACF;iBAAM;gBACL,IAAI,GAAG,CAAC,IAAI,IAAI,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE;oBAC/B,IAAI,CAAC,2BAA2B,GAAG,GAAG,CAAC,IAAI,CAAC;oBAC5C,IAAI,CAAC,2BAA2B,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;wBAC/C,GAAG,CAAC,MAAM,CAAC,GAAG,GAAG,CAAC,cAAc,CAAC,CAAC;wBAClC,GAAG,CAAC,MAAM,CAAC,GAAG,GAAG,CAAC,cAAc,CAAC,CAAC;oBACpC,CAAC,CAAC,CAAC;iBACJ;qBAAM;oBACL,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;iBACtB;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,OAAO,CAAC,GAAG,CAAC,mCAAmC,EAAE,GAAG,CAAC,CAAC;YACtD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,qCAAqC,CACtC,CAAC;QACJ,CAAC,CACF,CAAC;IACN,CAAC;IAED,gBAAgB,CAAC,MAAM;QACrB,IACE,IAAI,CAAC,0BAA0B,CAAC,qBAAqB,EAAE;YACvD,IAAI,CAAC,0BAA0B,EAC/B;YACA,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,+EAA+E,CAChF,CAAC;SACH;QAED,IACE,IAAI,CAAC,IAAI,IAAI,OAAO;YACpB,CAAC,IAAI,CAAC,IAAI,IAAI,OAAO,IAAI,IAAI,CAAC,sBAAsB,CAAC,EACrD;YACA,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;YACxC,IAAI,gBAAgB,GAAG,KAAK,CAAC;YAC7B,IAAI,mBAAmB,GAAG,KAAK,CAAC;YAChC,IAAI,YAAY,GAAG,KAAK,CAAC;YACzB,IAAI,mBAAmB,GAAG,KAAK,CAAC;YAChC,IAAI,aAAa,GAAG,KAAK,CAAC;YAC1B,IAAI,CAAC,0BAA0B,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;gBAC/C,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,EAAE;oBAC3B,IAAI,CAAC,gBAAgB,CAAC,GAAG,IAAI,CAAC,iBAAiB;wBAC7C,EAAE,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC;yBACrB,IAAI,EAAE;yBACN,WAAW,EAAE;wBACd,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,MAAM;4BAChD,CAAC,CAAC,IAAI,CAAC,iBAAiB;gCACpB,EAAE,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC;iCACrB,IAAI,EAAE;iCACN,WAAW,EAAE;4BAClB,CAAC,CAAC,IAAI;wBACR,CAAC,CAAC,IAAI,CAAC;oBACT,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,MAAM,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,IAAI,EAAE;wBACtD,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC;qBACrB;iBACF;YACH,CAAC,CAAC,CAAC;YACH,IAAI,UAAU,GAAG,IAAI,CAAC,0BAA0B,CAAC,MAAM,CACrD,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,UAAU,CAAC,IAAI,GAAG,CAC5B,CAAC;YAEF,UAAU,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;gBAC7B,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;gBAErB,IAAI,OAAO,CAAC,qBAAqB,CAAC,EAAE;oBAClC,mBAAmB,GAAG,IAAI,CAAC;iBAC5B;gBACD,OAAO,CAAC,gBAAgB,CAAC,GAAG,IAAI,CAAC,iBAAiB;oBAChD,EAAE,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC;qBACrB,IAAI,EAAE;qBACN,WAAW,EAAE;oBACd,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,MAAM;wBAChD,CAAC,CAAC,IAAI,CAAC,iBAAiB,EAAE,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC,WAAW,EAAE;wBACnE,CAAC,CAAC,IAAI;oBACR,CAAC,CAAC,IAAI,CAAC;gBACT,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,EAAE;oBAC9B,gBAAgB,GAAG,IAAI,CAAC;iBACzB;gBACD,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,OAAO,CAAC,OAAO,CAAC,IAAI,MAAM,EAAE;oBACnD,YAAY,GAAG,IAAI,CAAC;iBACrB;gBACD,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,IAAI,OAAO,CAAC,cAAc,CAAC,IAAI,MAAM,EAAE;oBACjE,mBAAmB,GAAG,IAAI,CAAC;iBAC5B;gBACD,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,OAAO,CAAC,QAAQ,CAAC,IAAI,GAAG,EAAE;oBAClD,aAAa,GAAG,IAAI,CAAC;iBACtB;YACH,CAAC,CAAC,CAAC;YACH,IAAI,gBAAgB,EAAE;gBACpB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,iCAAiC,CAAC,CAAC;aACtE;iBAAM,IAAI,YAAY,EAAE;gBACvB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,uBAAuB,CAAC,CAAC;aAC5D;iBAAM,IAAI,mBAAmB,EAAE;gBAC9B,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,8BAA8B,CAAC,CAAC;aACnE;iBAAM,IAAI,aAAa,EAAE;gBACxB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,4BAA4B,CAAC,CAAC;aACjE;iBAAM,IAAI,mBAAmB,EAAE;gBAC9B,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,mCAAmC,CAAC,CAAC;aACxE;iBAAM;gBACL,IAAI,IAAI,CAAC,mBAAmB,EAAE,IAAI,IAAI,CAAC,0BAA0B,EAAE,EAAE;oBACnE,OAAO;iBACR;qBAAM;oBACL,IAAI,OAAO,CAAC;oBACZ,IAAI,IAAI,CAAC,IAAI,IAAI,MAAM,EAAE;wBACvB,IAAI,IAAI,GAAG;4BACT,IAAI,EAAE,IAAI,CAAC,0BAA0B;4BACrC,SAAS,EAAE,IAAI,CAAC,0BAA0B;4BAC1C,WAAW,EAAE,IAAI,CAAC,0BAA0B;4BAC5C,UAAU,EAAE,IAAI,CAAC,QAAQ;yBAC1B,CAAC;wBACF,OAAO,GAAG,IAAI,CAAC,qBAAqB,CAAC,mBAAmB,CACtD,IAAI,CAAC,MAAM,EACX,IAAI,EACJ,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EACvB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,EAC1B,IAAI,CAAC,QAAQ,CACd,CAAC;wBACF,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;qBACzB;yBAAM;wBACL,IAAI,IAAI,GAAG;4BACT,IAAI,EAAE,IAAI,CAAC,0BAA0B;4BACrC,SAAS,EAAE,IAAI,CAAC,0BAA0B;4BAC1C,WAAW,EAAE,IAAI,CAAC,0BAA0B;yBAC7C,CAAC;wBACF,OAAO,GAAG,IAAI,CAAC,qBAAqB,CAAC,YAAY,CAC/C,IAAI,EACJ,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EACvB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,EAC1B,IAAI,CAAC,QAAQ,CACd,CAAC;qBACH;oBAED,IAAI,OAAO,EAAE;wBACX,OAAO,CAAC,SAAS,CACf,CAAC,GAAG,EAAE,EAAE;4BACN,IACE,GAAG,CAAC,QAAQ,CAAC;gCACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gCAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gCACA,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oCAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iCACjD;qCAAM;oCACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,8CAA8C,CAC/C,CAAC;iCACH;6BACF;iCAAM;gCACL,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;oCACd,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;oCAC3C,IAAI,MAAM,IAAI,MAAM,EAAE;wCACpB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,wBAAwB,CAAC,CAAC,CAAC;qCAClD;yCAAM,IAAI,MAAM,IAAI,eAAe,EAAE;wCACpC,IAAI,CAAC,qBAAqB,CAAC,eAAe,GAAG,IAAI,CAAC;wCAClD,IAAI,CAAC,qBAAqB,CAAC,UAAU,GAAG,IAAI,CAAC;wCAC7C,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;4CACnB,mCAAmC;yCACpC,CAAC,CAAC;qCACJ;iCACF;6BACF;wBACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;4BACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;4BACvC,OAAO,CAAC,GAAG,CAAC,2BAA2B,EAAE,GAAG,CAAC,CAAC;4BAC9C,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,8CAA8C,CAC/C,CAAC;wBACJ,CAAC,CACF,CAAC;qBACH;iBACF;aACF;SACF;aAAM;YACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,gCAAgC,CAAC,CAAC;SACrE;IACH,CAAC;IAED,0BAA0B;QACxB,IAAI,4BAA4B,GAAG,KAAK,CAAC;QACzC,IAAI,WAAW,GAAG,IAAI,CAAC,0BAA0B,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC;QACpE,IAAI,cAAc,GAAG,KAAK,CAAC;QAC3B,IAAI,eAAe,GAAG,KAAK,CAAC;QAE5B,IAAI,UAAU,GAAG,IAAI,CAAC,0BAA0B,CAAC,MAAM,CACrD,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,UAAU,CAAC,IAAI,GAAG,CAC5B,CAAC;QAEF,IAAI,WAAW,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;YACrC,cAAc,GAAG,IAAI,CAAC;SACvB;QAED,IAAI,WAAW,CAAC,OAAO,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE;YAC7C,eAAe,GAAG,IAAI,CAAC;SACxB;QAED,IAAI,cAAc,IAAI,eAAe,EAAE;YACrC,IAAI,UAAU,GAAG,EAAE,CAAC;YACpB,IAAI,cAAc,IAAI,eAAe,EAAE;gBACrC,UAAU,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;oBAC3B,IACE,UAAU,CAAC,GAAG,KAAK,CAAC,UAAU,CAAC,IAAI,KAAK,CAAC,eAAe,CAAC,EAAE,CAAC;wBAC5D,UAAU,CAAC,GAAG,KAAK,CAAC,UAAU,CAAC,IAAI,KAAK,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC,MAAM,EACnE;wBACA,UAAU,CAAC,GAAG,KAAK,CAAC,UAAU,CAAC,IAAI,KAAK,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC,IAAI,CAC/D,KAAK,CAAC,cAAc,CAAC,CACtB,CAAC;qBACH;yBAAM;wBACL,UAAU,CAAC,GAAG,KAAK,CAAC,UAAU,CAAC,IAAI,KAAK,CAAC,eAAe,CAAC,EAAE,CAAC,GAAG;4BAC7D,KAAK,CAAC,cAAc,CAAC;yBACtB,CAAC;qBACH;gBACH,CAAC,CAAC,CAAC;aACJ;iBAAM;gBACL,IAAI,cAAc,EAAE;oBAClB,UAAU,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;wBAC1B,IACE,UAAU,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;4BACjC,UAAU,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,MAAM,EACxC;4BACA,UAAU,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;yBAC9D;6BAAM;4BACL,UAAU,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;yBAC5D;oBACH,CAAC,CAAC,CAAC;iBACJ;qBAAM,IAAI,eAAe,EAAE;oBAC1B,UAAU,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;wBAC1B,IACE,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;4BAC5B,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,MAAM,EACnC;4BACA,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;yBACzD;6BAAM;4BACL,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;yBACvD;oBACH,CAAC,CAAC,CAAC;iBACJ;aACF;YACD,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,UAAU,CAAC,CAAC;YACxC,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,CAAC,UAAe,EAAE,EAAE;gBACpD,IAAI,IAAI,GAAG,CAAC,UAAU,CAAC,CAAC,IAAI,KAAK,UAAU,CAAC,MAAM,EAAE;oBAClD,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;oBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,iEAAiE,CAClE,CAAC;oBACF,4BAA4B,GAAG,IAAI,CAAC;iBACrC;YACH,CAAC,CAAC,CAAC;SACJ;aAAM;YACL,IAAI,UAAU,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;gBACvC,OAAO,IAAI,CAAC,cAAc,CAAC,CAAC;YAC9B,CAAC,CAAC,CAAC;YACH,IAAI,IAAI,GAAG,CAAC,UAAU,CAAC,CAAC,IAAI,KAAK,UAAU,CAAC,MAAM,EAAE;gBAClD,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,IAAI,CAAC,IAAI,IAAI,OAAO,EAAE;oBACxB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,+BAA+B,CAAC,CAAC;iBACpE;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,+BAA+B,CAAC,CAAC;iBACpE;gBACD,4BAA4B,GAAG,IAAI,CAAC;aACrC;SACF;QACD,OAAO,4BAA4B,CAAC;IACtC,CAAC;IACD,mBAAmB;QACjB,IAAI,qBAAqB,GAAG,KAAK,CAAC;QAClC,IAAI,WAAW,GAAG,IAAI,CAAC,0BAA0B,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC;QACpE,IAAI,cAAc,GAAG,KAAK,CAAC;QAC3B,IAAI,eAAe,GAAG,KAAK,CAAC;QAE5B,IAAI,UAAU,GAAG,IAAI,CAAC,0BAA0B,CAAC,MAAM,CACrD,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,UAAU,CAAC,IAAI,GAAG,CAC5B,CAAC;QAEF,IAAI,WAAW,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;YACrC,cAAc,GAAG,IAAI,CAAC;SACvB;QAED,IAAI,WAAW,CAAC,OAAO,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE;YAC7C,eAAe,GAAG,IAAI,CAAC;SACxB;QAED,IAAI,cAAc,IAAI,eAAe,EAAE;YACrC,IAAI,UAAU,GAAG,EAAE,CAAC;YACpB,IAAI,cAAc,IAAI,eAAe,EAAE;gBACrC,UAAU,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;oBAC3B,IACE,UAAU,CAAC,GAAG,KAAK,CAAC,UAAU,CAAC,IAAI,KAAK,CAAC,eAAe,CAAC,EAAE,CAAC;wBAC5D,UAAU,CAAC,GAAG,KAAK,CAAC,UAAU,CAAC,IAAI,KAAK,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC,MAAM,EACnE;wBACA,UAAU,CAAC,GAAG,KAAK,CAAC,UAAU,CAAC,IAAI,KAAK,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC,IAAI,CAC/D,KAAK,CAAC,OAAO,CAAC,CACf,CAAC;qBACH;yBAAM;wBACL,UAAU,CAAC,GAAG,KAAK,CAAC,UAAU,CAAC,IAAI,KAAK,CAAC,eAAe,CAAC,EAAE,CAAC,GAAG;4BAC7D,KAAK,CAAC,OAAO,CAAC;yBACf,CAAC;qBACH;gBACH,CAAC,CAAC,CAAC;aACJ;iBAAM;gBACL,IAAI,cAAc,EAAE;oBAClB,UAAU,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;wBAC1B,IACE,UAAU,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;4BACjC,UAAU,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,MAAM,EACxC;4BACA,UAAU,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;yBACvD;6BAAM;4BACL,UAAU,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;yBACrD;oBACH,CAAC,CAAC,CAAC;iBACJ;qBAAM,IAAI,eAAe,EAAE;oBAC1B,UAAU,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;wBAC1B,IACE,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;4BAC5B,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,MAAM,EACnC;4BACA,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;yBAClD;6BAAM;4BACL,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;yBAChD;oBACH,CAAC,CAAC,CAAC;iBACJ;aACF;YACD,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,UAAU,CAAC,CAAC;YACxC,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,CAAC,UAAe,EAAE,EAAE;gBACpD,IAAI,IAAI,GAAG,CAAC,UAAU,CAAC,CAAC,IAAI,KAAK,UAAU,CAAC,MAAM,EAAE;oBAClD,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;oBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,iEAAiE,CAClE,CAAC;oBACF,qBAAqB,GAAG,IAAI,CAAC;iBAC9B;YACH,CAAC,CAAC,CAAC;SACJ;aAAM;YACL,IAAI,UAAU,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;gBACvC,OAAO,IAAI,CAAC,OAAO,CAAC,CAAC;YACvB,CAAC,CAAC,CAAC;YACH,IAAI,IAAI,GAAG,CAAC,UAAU,CAAC,CAAC,IAAI,KAAK,UAAU,CAAC,MAAM,EAAE;gBAClD,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,IAAI,CAAC,IAAI,IAAI,OAAO,EAAE;oBACxB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,+BAA+B,CAAC,CAAC;iBACpE;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,+BAA+B,CAAC,CAAC;iBACpE;gBACD,qBAAqB,GAAG,IAAI,CAAC;aAC9B;SACF;QACD,OAAO,qBAAqB,CAAC;IAC/B,CAAC;IAED,KAAK;QACH,IAAI,IAAI,CAAC,IAAI,IAAI,MAAM,EAAE;YACvB,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;YAChD,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;gBAC/B,OAAO,EAAE,mDAAmD;gBAC5D,GAAG,EAAE,6BAA6B;gBAClC,MAAM,EAAE,GAAG,EAAE;oBACX,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;oBACxC,gCAAgC;oBAChC,0BAA0B;oBAC1B,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;oBACrC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;oBACvC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;oBACvC,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;oBAC5B,IAAI,CAAC,0BAA0B,CAAC,gBAAgB,EAAE,CAAC;oBACnD,IAAI,CAAC,mBAAmB,EAAE,CAAC;oBAC3B,+CAA+C;oBAC/C,kDAAkD;gBACpD,CAAC;gBACD,MAAM,EAAE,GAAG,EAAE;oBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;oBAC/B,IAAI,CAAC,mBAAmB,EAAE,CAAC;gBAC7B,CAAC;aACF,CAAC,CAAC;SACJ;aAAM,IAAI,IAAI,CAAC,IAAI,IAAI,OAAO,EAAE;YAC/B,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;YAChD,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;gBAC/B,OAAO,EAAE,mDAAmD;gBAC5D,GAAG,EAAE,6BAA6B;gBAClC,MAAM,EAAE,GAAG,EAAE;oBACX,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;oBACxC,IAAI,CAAC,qBAAqB,EAAE,CAAC;oBAC7B,IAAI,CAAC,eAAe,EAAE,CAAC;oBACvB,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;oBAC5C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;gBACjD,CAAC;gBACD,MAAM,EAAE,GAAG,EAAE;oBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;oBAC/B,IAAI,CAAC,mBAAmB,EAAE,CAAC;gBAC7B,CAAC;aACF,CAAC,CAAC;SACJ;aAAM;YACL,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;YAChD,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;YAC7C,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;gBAC/B,OAAO,EAAE,kDAAkD;gBAC3D,GAAG,EAAE,6BAA6B;gBAClC,MAAM,EAAE,GAAG,EAAE;oBACX,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;oBACrC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;oBACvC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;oBACvC,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;oBAE5B,IAAI,CAAC,0BAA0B,CAAC,gBAAgB,EAAE,CAAC;oBACnD,IAAI,CAAC,mBAAmB,EAAE,CAAC;oBAC3B,wBAAwB;oBACxB,2BAA2B;oBAC3B,6BAA6B;oBAC7B,4BAA4B;oBAC5B,qCAAqC;gBACvC,CAAC;gBACD,MAAM,EAAE,GAAG,EAAE;oBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;oBAC/B,IAAI,CAAC,mBAAmB,EAAE,CAAC;gBAC7B,CAAC;aACF,CAAC,CAAC;SACJ;IACH,CAAC;IAED,aAAa,CAAC,CAAM,EAAE,IAAS;QAC7B,CAAC,CAAC,cAAc,EAAE,CAAC;QACnB,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,IAAI,SAAS,GAAG,EAAE,CAAC;QACnB,IAAI,CAAC,CAAC,MAAM,CAAC,OAAO,EAAE;YACpB,SAAS,GAAG,GAAG,CAAC;YAChB,IAAI,GAAG,UAAU,CAAC;SACnB;aAAM;YACL,SAAS,GAAG,GAAG,CAAC;YAChB,IAAI,GAAG,YAAY,CAAC;SACrB;QACD,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;QAChD,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,WAAW,GAAG,EAAE,CAAC;QACrB,WAAW;YACT,mDAAmD;gBACnD,iBAAiB;gBACjB,IAAI;gBACJ,qBAAqB,CAAC;QACxB,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;YAC/B,OAAO,EAAE,WAAW;YACpB,GAAG,EAAE,sBAAsB;YAC3B,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,UAAU,CAAC,GAAG,SAAS,CAAC;gBAC7B,IAAI,CAAC,mBAAmB,EAAE,CAAC;gBAC3B,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,SAAS,CAAC,CAAC;YACtC,CAAC;YACD,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;gBAC/B,IAAI,CAAC,mBAAmB,EAAE,CAAC;gBAC3B,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACxB,CAAC;SACF,CAAC,CAAC;IACL,CAAC;IAED,mBAAmB;QACjB,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;YAC5C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;QACjD,CAAC,EAAE,GAAG,CAAC,CAAC;QACR,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,EAAE,IAAI,CAAC,CAAC;IACX,CAAC;IAED,cAAc,CAAC,OAAY;QACzB,OAAO,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;IAC9C,CAAC;IAED,UAAU,CAAC,OAAY;QACrB,OAAO,IAAI,CAAC,mBAAmB,CAAC,8BAA8B,CAAC,OAAO,CAAC,CAAC;IAC1E,CAAC;IACD,cAAc,CAAC,SAAc,EAAE,KAAU,EAAE,KAAU;QACnD,OAAO,CAAC,GAAG,CAAC,SAAS,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;QACrC,IAAI,SAAS,IAAI,OAAO,EAAE;YACxB,IAAI,SAAS,IAAI,OAAO,IAAI,KAAK,CAAC,MAAM,CAAC,IAAI,YAAY,EAAE;gBACzD,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;gBACrD,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,qBAAqB,CAAC,GAAG,IAAI,CAAC;aACtE;iBAAM;gBACL,IAAI,MAAM,CAAC,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,aAAa,CAAC,EAAE;oBAChE,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC,GAAG,MAAM,CACvD,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,aAAa,CACrD,CAAC;iBACH;qBAAM;oBACL,IAAI,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,SAAS,EAAE;wBACpD,IAAI,YAAY,GACd,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;wBACjE,IAAI,YAAY,GACd,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;wBACjE,IAAI,YAAY,IAAI,IAAI,EAAE;4BACxB,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;4BAC1B,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC;gCAC9C,MAAM,CAAC,YAAY,CAAC,CAAC;yBACxB;6BAAM,IAAI,YAAY,IAAI,GAAG,EAAE;4BAC9B,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC;gCAC9C,MAAM,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;yBAC5B;6BAAM,IAAI,YAAY,IAAI,GAAG,EAAE;4BAC9B,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC;gCAC9C,MAAM,CAAC,YAAY,CAAC,CAAC;yBACxB;6BAAM;4BACL,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;yBACtD;qBACF;yBAAM;wBACL,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;qBACtD;iBACF;aACF;SACF;QACD,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,GAAG,KAAK,CAAC,QAAQ,CAAC;IACrE,CAAC;IAED,gBAAgB,CACd,SAAc,EACd,QAAa,EACb,KAAU,EACV,KAAU,EACV,aAAkB;QAElB,OAAO,CAAC,GAAG,CACT,SAAS,EACT,QAAQ,EACR,KAAK,EACL,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CACvC,CAAC;QACF,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,qBAAqB,CAAC,GAAG,KAAK,CAAC;QACtE,IAAI,GAAG,GAAG,OAAO,CAAC;QAClB,IAAI,GAAG,GAAG,CAAC,CAAC;QAEZ,IAAI,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,IAAI,YAAY,EAAE;YACrE,GAAG,GAAG,GAAG,CAAC;SACX;aAAM,IAAI,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,IAAI,QAAQ,EAAE;YACxE,IAAI,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,SAAS,EAAE,MAAM,EAAE;gBAC5D,IAAI,YAAY,GACd,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;gBACjE,IAAI,YAAY,GACd,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;gBACjE,IACE,MAAM,CAAC,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,aAAa,CAAC,GAAG,CAAC;oBAChE,MAAM,CAAC,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,WAAW,CAAC,GAAG,CAAC,EAC9D;oBACA,GAAG,GAAG,MAAM,CAAC,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,aAAa,CAAC,CAAC;oBACnE,GAAG,GAAG,MAAM,CAAC,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,WAAW,CAAC,CAAC;iBAClE;qBAAM,IAAI,YAAY,IAAI,GAAG,EAAE;oBAC9B,GAAG,GAAG,MAAM,CAAC,YAAY,CAAC,CAAC;oBAC3B,GAAG,GAAG,MAAM,CAAC,YAAY,CAAC,CAAC;iBAC5B;qBAAM,IAAI,YAAY,IAAI,IAAI,EAAE;oBAC/B,GAAG,GAAG,MAAM,CAAC,YAAY,CAAC,CAAC;oBAC3B,GAAG,GAAG,OAAO,CAAC;iBACf;qBAAM,IAAI,YAAY,IAAI,GAAG,EAAE;oBAC9B,GAAG,GAAG,MAAM,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;oBAC/B,GAAG,GAAG,OAAO,CAAC;iBACf;qBAAM,IAAI,YAAY,IAAI,IAAI,EAAE;oBAC/B,GAAG,GAAG,CAAC,CAAC;oBACR,GAAG,GAAG,MAAM,CAAC,YAAY,CAAC,CAAC;iBAC5B;qBAAM,IAAI,YAAY,IAAI,GAAG,EAAE;oBAC9B,GAAG,GAAG,CAAC,CAAC;oBACR,GAAG,GAAG,MAAM,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;iBAChC;qBAAM;oBACL,GAAG,GAAG,OAAO,CAAC;iBACf;aACF;iBAAM,IACL,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,aAAa,EAAE,MAAM;gBAC5D,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,WAAW,EAAE,MAAM,EAC1D;gBACA,GAAG,GAAG,MAAM,CAAC,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,aAAa,CAAC,CAAC;gBACnE,GAAG,GAAG,MAAM,CAAC,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,WAAW,CAAC,CAAC;aAClE;SACF;QAED,IAAI,cAAc,GAAG,KAAK,CAAC;QAC3B,IAAI,KAAK,CAAC,KAAK,IAAI,CAAC,EAAE;YACpB,cAAc,GAAG,IAAI,CAAC;YACtB,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,qBAAqB,CAAC,GAAG,IAAI,CAAC;YACrE,OAAO,KAAK,CAAC;SACd;aAAM,IAAI,KAAK,CAAC,KAAK,GAAG,GAAG,IAAI,KAAK,CAAC,KAAK,GAAG,GAAG,EAAE;YACjD,cAAc,GAAG,IAAI,CAAC;YACtB,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,qBAAqB,CAAC,GAAG,IAAI,CAAC;YACrE,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,8BAA8B,GAAG,GAAG,GAAG,MAAM,GAAG,GAAG,CACpD,CAAC;YACF,IAAI,KAAK,CAAC,KAAK,IAAI,GAAG,IAAI,KAAK,CAAC,KAAK,IAAI,GAAG,EAAE;gBAC5C,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC,GAAG,KAAK,CAAC,KAAK,CAAC;gBAC/D,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,qBAAqB,CAAC,GAAG,KAAK,CAAC;aACvE;iBAAM,IAAI,KAAK,CAAC,KAAK,GAAG,GAAG,EAAE;gBAC5B,IAAI,gBAAgB,GAAG,aAAa,CAAC,SAAS,CAAC;gBAC/C,aAAa,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,GAAG,gBAAgB,CAAC;gBAC3D,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,qBAAqB,CAAC,GAAG,KAAK,CAAC;aACvE;iBAAM,IAAI,KAAK,CAAC,KAAK,GAAG,GAAG,EAAE;aAC7B;YACD,OAAO,KAAK,CAAC;SACd;IACH,CAAC;IAED,cAAc,CAAC,SAAc,EAAE,KAAU,EAAE,SAAc,EAAE,SAAc;QACvE,IAAI,SAAS,IAAI,QAAQ,EAAE;YACzB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;SACpB;aAAM,IAAI,SAAS,IAAI,OAAO,EAAE;YAC/B,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,SAAS,EAAE,SAAS,CAAC,CAAC;SACzC;IACH,CAAC;IAED,KAAK,CAAC,KAAU,EAAE,SAAc,EAAE,SAAc;QAC9C,IAAI,SAAS,GAAG;YACd,GAAG,SAAS;SACb,CAAC;QACF,SAAS,CAAC,SAAS,CAAC,GAAG,cAAc,CAAC;QACtC,SAAS,CAAC,QAAQ,CAAC,GAAG,GAAG,CAAC;QAC1B,SAAS,CAAC,UAAU,CAAC,GAAG,GAAG,CAAC;QAC5B,IAAI,CAAC,0BAA0B,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC,EAAE,CAAC,EAAE,SAAS,CAAC,CAAC;IAClE,CAAC;IACD,MAAM,CAAC,KAAU;QACf,IAAI,CAAC,0BAA0B,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;IACnD,CAAC;;4FAruDU,sBAAsB;oHAAtB,sBAAsB;;;kEA2HtB,+GAAoB;;;;;;qFA7HpB,CAAC,iEAAa,EAAE,wDAAc,CAAC;;QCzB5C,yEAAkC;QAOpB,8DAKC;QALD,yEAKC;QAMG,uEAQE;QAQJ,4DAAI;QAEN,iHACF;QAAA,4DAAI;QAEN,+DAAmD;QAAnD,2EAAmD;QAY3C,+IAAS,qBAAiB,MAAM,CAAC,IAAC;QACnC,4DAAS;QACV,8EAQC;QADC,+IAAS,qBAAiB,eAAe,CAAC,IAAC;QAC5C,4DAAS;QACV,8EAQC;QAFC,+IAAS,WAAO,IAAC;QAElB,4DAAS;QACV,2HAQU;QACZ,4DAAM;QAMhB,2EAAyE;QAO9D,uEAAW;QAAA,4DACb;QACD,kFAQC;QADC,yJAAY,sBAAkB,IAAC;QAE/B,qIAIc;QAAA,4DACf;QAEH,2EAAqE;QAIhE,kEAAM;QAAA,4DACR;QACD,kFAQC;QADC,yJAAY,qBAAiB,IAAC;QAE9B,qIAIc;QAAA,4DACf;QAKT,sHAqCM;QACN,gJA8BoB;QACtB,4DAAM;QACN,sHAqLM;QACR,4DAAM;QACN,qHAcM;QACN,2FAMC;QAOK,6RAAS,sEAAW,KAAC;QACtB,4DAAS;QAId,2FAMC;QAOK,6RAAS,sEAAY,KAAC;QACvB,4DAAS;QAEV,8EAMC;QADC,6RAAS,sEAAY,KAAC;QACvB,4DAAS;QAId,2FAKC;QAOK,6RAAS,sEAAY,KAAC;QACvB,4DAAS;QAEV,8EAMC;QADC,6RAAS,sEAAY,KAAC;QACvB,4DAAS;QAGd,2FAKC;QAOK,8RAAS,uEAAY,KAAC;QACvB,4DAAS;QAEV,8EAMC;QADC,8RAAS,uEAAY,KAAC;QACvB,4DAAS;;QApdM,0DAA0B;QAA1B,mFAA0B;QAoB5B,0DAEC;QAFD,iLAEC;QAUD,0DAA8D;QAA9D,+HAA8D;QAY9D,0DAAwB;QAAxB,qFAAwB;QAGvB,0DAAoB;QAApB,oFAAoB;QAc9B,0DAA6B;QAA7B,0FAA6B;QAYxB,0DAAoC;QAApC,iGAAoC;QAsBpC,0DAA+B;QAA/B,4FAA+B;QAiBtC,0DAAyC;QAAzC,6GAAyC;QAsCzC,0DAAyC;QAAzC,6GAAyC;QA+BT,0DAAuC;QAAvC,uGAAuC;QAyL3E,0DAEA;QAFA,wJAEA;QAgBD,0DAAkB;QAAlB,2EAAkB;QAkBlB,0DAAkB;QAAlB,2EAAkB;QAyBlB,0DAAkB;QAAlB,2EAAkB;QAwBlB,0DAAkB;QAAlB,2EAAkB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvdI;AAOQ;AACW;AAGI;;;;;;;;;;;;;;;;;ICoB7B,0EAA2B;IACpB,uDAAkB;IAAA,4DAAM;;;IAAxB,0DAAkB;IAAlB,gFAAkB;;;IAoBzB,0EAA2B;IACpB,uDAAkB;IAAA,4DAAM;;;IAAxB,0DAAkB;IAAlB,gFAAkB;;;;;IA0C7B,0EAIC;IAFC,iLAAS,wBAAwB,IAAC;IAGlC,wEASC;IADC,qZAAS,uGAAiC,KAAC;IAC5C,4DAAI;IACL,wFAcC;IALC,0nBACuB,wCAC5B,IAAI,CAAC,SAAsB,wGACtB,KAAC,qXACc,qGAA+B,KAD7C;IAGH,4DAAgB;;;;IAxBd,0DAKE;IALF,4OAKE;IAMF,0DAAyC;IAAzC,8GAAyC;;;IAzB/C,yEAMC;IACC,uDACA;IAAA,8IA+BM;IACR,4DAAK;;;;IAnCH,iFAAyB;IAFzB,0FAA6B;IAI7B,0DACA;IADA,0FACA;IACG,0DAAqC;IAArC,yGAAqC;;;;IAmCxC,2EAIC;IACC,mEAA4B;IAC5B,4EAKE;IADA,0dAAS,yGAA0C,UAAU,CAAC,KAAC;IAJjE,4DAKE;;;IAZN,qEAAuD;IACrD,+IAYO;IACT,4DAAK;;;IAdwB,iFAAyB;IAIjD,0DAAuD;IAAvD,2HAAuD;;;IAhD9D,qEAAI;IACF,sIAwCK;IACP,4DAAK;IACL,yEAAuB;IACrB,sIAcK;IACP,4DAAK;;;;IAzDe,0DAAY;IAAZ,gFAAY;IA0CV,0DAAO;IAAP,gFAAO;;;IA0BvB,0EAGC;IACC,uDACF;IAAA,4DAAM;;;;IADJ,0DACF;IADE,yGACF;;;;;IACA,wEAeG;IAFD,mbAAgB,gGAA0B,KAAC,+WAClC,gGAA0B,KADQ;IAE1C,uDAA2B;IAAA,4DAC7B;;;;;IAbC,gOAME;IAMD,0DAA2B;IAA3B,8FAA2B;;;IAE9B,2EAMC;IACC,uDAIE;IAAA,4DACH;;;;IAVC,oJAEC;IAGD,0DAIE;IAJF,4MAIE;;;;IAiBA,wEAMC;IADD,ugBAAS,sGAA4B,OAAO,GAAG,KAAC;IAC/C,+DAAI;IAAA,4DACN;;;;IAtBH,2EAQC;IAFC,8aAAsB,WAAW,IAAI,IAAI,MAAC,sXACpB,WAAW,IAAI,KAAK,MADA;IAG1C,uDAME;IAAA,+JAOD;IAAA,4DACF;;;;IArBC,oJAEC;IAKD,0DAME;IANF,+RAME;IAEC,0DAEA;IAFA,uIAEA;;;IAxDP,qEAA8D;IAC5D,4JAKM;IACN,wJAgBC;IACD,8JAYC;IACD,8JAuBC;IACH,4DAAK;;;IA3DA,0DAAmC;IAAnC,2GAAmC;IAMnC,0DAAY;IAAZ,4EAAY;IAiBZ,0DAAY;IAAZ,4EAAY;IAaZ,0DAAY;IAAZ,4EAAY;;;;IAyBjB,yEAGC;IAEC,gVAAgB,sEAAiB,KAAC;IAChC,gFAWE;IAPA,6aAAS,oGAA8B,KAAC;IAJ1C,4DAWE;IACF,sEAAkC;IACpC,4DAAQ;;;;IAXJ,0DAA+B;IAA/B,gGAA+B;;;;IAarC,yEAGC;IAQK,waAAS,0FAAoB,KAAC;IAC/B,4DAAS;;;IAFR,0DAA4C;IAA5C,yGAA4C;;;IA/FpD,wEAAyD;IACvD,qJA6DK;IAEL,qJAoBK;IACL,qJAcK;IACP,qEAAe;;;IAnGR,0DAAuD;IAAvD,2HAAuD;IAgEzD,0DAA2B;IAA3B,2FAA2B;IAqB3B,0DAA8B;IAA9B,8FAA8B;;;IAvFrC,yEAA8B;IAC5B,0JAoGe;IACjB,4DAAK;;;;IAtGD,sFAAyB;IACG,0DAAY;IAAZ,gFAAY;;;IAwG5C,qEAAI;IAC+B,yEAAc;IAAA,4DAAK;;;IAAhD,0DAA4B;IAA5B,yFAA4B;;;IAIlC,uDAOF;;;IAPE,uRAOF;;;IArMJ,0EAA0E;IAYtE,0IA6Dc;IACd,0IA6Gc;IACd,0IAIc;IACd,0IAQc;IAChB,4DAAU;;;IAnMR,0DAAgB;IAAhB,gFAAgB;;;;IAsMtB,0EAAiF;IAEzD,qEAAsC;IAAA,4DAAM;IAElE,yEAAiB;IAEV,iHAAoD;IAAA,4DAAI;IAC3D,4EAOC;IADC,uSAAS,oFAAkB,KAAC;IAC7B,4DAAS;;AD9QX,MAAM,sBAAsB;IA8CjC,YACU,MAAc,EACd,WAAwB,EACxB,KAAqB,EACrB,aAAmC,EACnC,kBAAsC,EACtC,mBAAwC,EACxC,cAA8B,EAC9B,EAAsB;QAPtB,WAAM,GAAN,MAAM,CAAQ;QACd,gBAAW,GAAX,WAAW,CAAa;QACxB,UAAK,GAAL,KAAK,CAAgB;QACrB,kBAAa,GAAb,aAAa,CAAsB;QACnC,uBAAkB,GAAlB,kBAAkB,CAAoB;QACtC,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,mBAAc,GAAd,cAAc,CAAgB;QAC9B,OAAE,GAAF,EAAE,CAAoB;QArDhC,aAAQ,GAAG,iBAAiB,CAAC;QAC7B,oBAAe,GAAG,iBAAiB,CAAC;QAGpC,eAAU,GAAG,MAAM,CAAC,IAAI,CAAC;QAGzB,oBAAe,GAAY,KAAK,CAAC;QAEjC,SAAI,GAAU;YACZ,EAAE,KAAK,EAAE,YAAY,EAAE,MAAM,EAAE,aAAa,EAAE,KAAK,EAAE,KAAK,EAAE;YAC5D,EAAE,KAAK,EAAE,gBAAgB,EAAE,MAAM,EAAE,oBAAoB,EAAE,KAAK,EAAE,KAAK,EAAE;YACvE,EAAE,KAAK,EAAE,aAAa,EAAE,MAAM,EAAE,UAAU,EAAE,KAAK,EAAE,KAAK,EAAE;YAC1D,EAAE,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE;YAClD,EAAE,KAAK,EAAE,WAAW,EAAE,MAAM,EAAE,YAAY,EAAE,KAAK,EAAE,IAAI,EAAE;SAC1D,CAAC;QAEF,0BAAqB,GAAY,KAAK,CAAC;QACvC,8BAAyB,GAAY,KAAK,CAAC;QAC3C,2BAAsB,GAAY,KAAK,CAAC;QACxC,sBAAiB,GAAY,KAAK,CAAC;QAEnC,eAAU,GAAG,EAAE,CAAC;QAChB,mBAAc,GAAG,EAAE,CAAC;QACpB,gBAAW,GAAG,EAAE,CAAC;QACjB,WAAM,GAAG,EAAE,CAAC;QAEZ,aAAQ,GAAQ,EAAE,CAAC;QACnB,6BAAwB,GAAU,EAAE,CAAC;QACrC,iCAA4B,GAAU,EAAE,CAAC;QACzC,8BAAyB,GAAU,EAAE,CAAC;QACtC,yBAAoB,GAAU,EAAE,CAAC;QACjC,yBAAoB,GAAQ,EAAE,CAAC;QAC/B,YAAO,GAAY,IAAI,CAAC;QAGxB,6BAAwB,GAAU,EAAE,CAAC;QACrC,wBAAmB,GAAU,EAAE,CAAC;QAEhC,cAAS,GAAW,mCAAmC,CAAC;QAExD,qBAAgB,GAAQ,EAAE,CAAC;QAE3B,qBAAgB,GAAG,EAAE,CAAC;IAWnB,CAAC;IAEJ,QAAQ;QACN,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QAExC,MAAM,cAAc,GAAG,eAAe,CAAC;QAEvC,qBAAqB;QACrB,IAAI,CAAC,WAAW;aACb,SAAS,CAAC,cAAc,CAAC;aACzB,IAAI,CAAC,CAAC,eAAuB,EAAE,EAAE;YAChC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC;QACjD,CAAC,CAAC,CAAC;QAEL,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;YACjC,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,aAAa,CAAC,eAAe,GAAG,IAAI,CAAC;QAC1C,IAAI,CAAC,aAAa,CAAC,UAAU,GAAG,IAAI,CAAC;QAErC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;QAE7D,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAE1B,oCAAoC;QAEpC,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC,KAAK,CACxC,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAClC,CAAC;QACF,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;QACzE,IAAI,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,CAAC;QACjE,IAAI,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC;QAE9D,IAAI,MAAM,GAAG,IAAI,CAAC;QAClB,IAAI,MAAM,GAAG,IAAI,CAAC;QAElB,IAAI,UAAU,EAAE;YACd,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;YACxB,MAAM,GAAG,IAAI,CAAC,wBAAwB,CAAC,MAAM,CAC3C,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,IAAI,UAAU,CAAC,eAAe,CAAC,IAAI,CACrD,CAAC,CAAC,CAAC,CAAC;YACL,MAAM,GAAG,IAAI,CAAC,mBAAmB,CAAC,MAAM,CACtC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,IAAI,UAAU,CAAC,UAAU,CAAC,IAAI,CAChD,CAAC,CAAC,CAAC,CAAC;SACN;aAAM;YACL,IAAI,SAAS,EAAE;gBACb,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC,CAAC;gBAC7D,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC;aACzD;SACF;QAED,IAAI,MAAM,EAAE;YACV,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;SACjC;QACD,IAAI,MAAM,EAAE;YACV,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;SACpC;QACD,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,IAAI,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE;YAC/C,IAAI,CAAC,eAAe,EAAE,CAAC;SACxB;QAED,yCAAyC;IAC3C,CAAC;IAED,kBAAkB;QAChB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YACnC,YAAY,EAAE,IAAI,8DAAkB,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAE,EAAE;gBACnE,+DAAmB;aACpB,CAAC;YACF,OAAO,EAAE,IAAI,8DAAkB,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAE,EAAE;gBAC9D,+DAAmB;aACpB,CAAC;SACH,CAAC,CAAC;IACL,CAAC;IAED,IAAI,OAAO;QACT,OAAO,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;IAClD,CAAC;IACD,IAAI,UAAU;QACZ,OAAO,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;IAC7C,CAAC;IAED,eAAe;QACb,IAAI,UAAU,GAAG;YACf,eAAe,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK;YACnC,UAAU,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK;SAClC,CAAC;QACF,cAAc,CAAC,OAAO,CAAC,QAAQ,EAAE,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC;QAC7D,IAAI,CAAC,wBAAwB,CAC3B,IAAI,CAAC,QAAQ,CAAC,MAAM,EACpB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EACvB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAC3B,CAAC;IACJ,CAAC;IACD,wBAAwB,CAAC,MAAW,EAAE,QAAa,EAAE,WAAgB;QACnE,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,8CAAQ,CAAC;YACP,kBAAkB,EAAE,IAAI,CAAC,aAAa,CAAC,qBAAqB,CAC1D,IAAI,CAAC,QAAQ,CAAC,MAAM,EACpB,IAAI,CAAC,QAAQ,EACb,QAAQ,EACR,WAAW,CACZ;YACD,wBAAwB,EAAE,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAC5D,MAAM,EACN,IAAI,CAAC,QAAQ,EACb,QAAQ,EACR,WAAW,CACZ;SACF,CAAC;aACC,IAAI,CACH,oDAAI,CAAC,CAAC,CAAC,EACP,mDAAG,CAAC,CAAC,QAAQ,EAAE,EAAE;YACf,IAAI,kBAAkB,GAAG,+DAAY,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAC;YACnE,OAAO,kBAAkB,CAAC,cAAc,CAAC,CAAC;YAC1C,IAAI,CAAC,gBAAgB,GAAG,QAAQ,CAAC,kBAAkB,CAAC,cAAc,CAAC,CAAC;YACpE,MAAM,kBAAkB,GAAG,kBAAkB,CAAC;YAC9C,MAAM,wBAAwB,GAAG,QAAQ,CAAC,wBAAwB,CAAC;YAEnE,IAAI,wBAAwB,CAAC,MAAM,CAAC,EAAE;gBACpC,IAAI,CAAC,oBAAoB,GAAG,wBAAwB,CAAC;gBACrD,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE,EAAE;oBAChD,IAAI,WAAW,GAAG,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;oBACtD,MAAM,QAAQ,GAAG,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;oBAClD,IAAI,OAAO,GAAG,EAAE,CAAC;oBACjB,IAAI,KAAK,GAAG,EAAE,CAAC;oBACf,IAAI,UAAU,GAAG,EAAE,CAAC;oBAEpB,uBAAuB;oBACvB,QAAQ,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;wBAC3B,IAAI,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;4BACtD,sBAAsB;4BACtB,MAAM,YAAY,GAAG,OAAO;iCACzB,KAAK,CAAC,GAAG,CAAC;iCACV,GAAG,CAAC,CAAC,aAAa,EAAE,EAAE;gCACrB,MAAM,CAAC,IAAI,EAAE,EAAE,CAAC,GAAG,aAAa;qCAC7B,KAAK,CAAC,IAAI,CAAC;qCACX,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gCACrC,OAAO,WAAW,IAAI,MAAM,EAAE,EAAE,CAAC;4BACnC,CAAC,CAAC,CAAC;4BACL,OAAO,GAAG,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;yBACpC;6BAAM,IACL,OAAO,CAAC,UAAU,CAAC,cAAc,CAAC;4BAClC,OAAO,CAAC,QAAQ,CAAC,YAAY,CAAC,EAC9B;4BACA,oBAAoB;4BACpB,MAAM,YAAY,GAAG,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,WAAW,EAAE,EAAE;gCAC1D,MAAM,CAAC,SAAS,EAAE,OAAO,CAAC,GAAG,WAAW;qCACrC,KAAK,CAAC,IAAI,CAAC;qCACX,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gCACrC,OAAO,WAAW,SAAS,MAAM,OAAO,EAAE,CAAC;4BAC7C,CAAC,CAAC,CAAC;4BACH,KAAK,GAAG,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;yBAClC;oBACH,CAAC,CAAC,CAAC;oBAEH,IAAI,OAAO,CAAC,MAAM,IAAI,KAAK,CAAC,MAAM,EAAE;wBAClC,UAAU,IAAI,WAAW,OAAO,YAAY,KAAK,GAAG,CAAC;qBACtD;yBAAM,IAAI,OAAO,CAAC,MAAM,EAAE;wBACzB,UAAU,IAAI,WAAW,OAAO,GAAG,CAAC;qBACrC;yBAAM,IAAI,KAAK,CAAC,MAAM,EAAE;wBACvB,UAAU,IAAI,SAAS,KAAK,GAAG,CAAC;qBACjC;oBAED,IAAI,WAAW,CAAC,MAAM,EAAE;wBACtB,IAAI,gBAAgB,GAAG,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC;4BAC5D,WAAW,EAAE,WAAW;yBACzB,CAAC,CAAC;wBACH,MAAM,CAAC,WAAW,GAChB,IAAI,CAAC,kBAAkB,CAAC,uBAAuB,CAC7C,gBAAgB,EAChB,kBAAkB,EAClB,IAAI,CAAC,gBAAgB,CAExB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;wBACb,IAAI,UAAU,EAAE,MAAM,EAAE;4BACtB,MAAM,CAAC,WAAW,GAAG,MAAM,CAAC,WAAW,GAAG,IAAI,GAAG,UAAU,CAAC;yBAC7D;qBACF;yBAAM;wBACL,IAAI,UAAU,EAAE,MAAM,EAAE;4BACtB,MAAM,CAAC,WAAW,GAAG,UAAU,CAAC;yBACjC;qBACF;gBACH,CAAC,CAAC,CAAC;gBACH,IAAI,CAAC,iBAAiB,GAAG,CAAC,GAAG,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;gBAC7D,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;gBAC7B,IAAI,CAAC,gBAAgB,GAAG;oBACtB,GAAG,IAAI,CAAC,oBAAoB,CAAC,gBAAgB;iBAC9C,CAAC;gBACF,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,GAAG,CACxD,CAAC,IAAI,EAAE,EAAE;oBACP,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;gBACtC,CAAC,CACF,CAAC;gBACF,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,oBAAoB,CAAC,cAAc,CAAC,GAAG,CAChE,CAAC,IAAI,EAAE,EAAE;oBACP,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;gBACtC,CAAC,CACF,CAAC;gBACF,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,oBAAoB,CAAC,WAAW,CAAC,GAAG,CAC1D,CAAC,IAAI,EAAE,EAAE;oBACP,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;gBACtC,CAAC,CACF,CAAC;gBACF,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;oBAC1D,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;gBACtC,CAAC,CAAC,CAAC;aACJ;iBAAM;gBACL,IAAI,wBAAwB,CAAC,KAAK,CAAC,EAAE;oBACnC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,wBAAwB,CAAC,KAAK,CAAC,CAChC,CAAC;iBACH;gBACD,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;gBAC5B,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;aAC7B;YACD,OAAO,wBAAwB,CAAC;QAClC,CAAC,CAAC,CACH;aACA,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;gBAC5B,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;iBAClE;aACF;iBAAM;gBACL,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE;oBAChB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;iBAC7B;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;YAC9B,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;YAC5B,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,OAAO,CAAC,GAAG,CAAC,0CAA0C,EAAE,GAAG,CAAC,CAAC;YAC7D,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,+CAA+C,CAChD,CAAC;QACJ,CAAC,CACF,CAAC;IACN,CAAC;IAED,iBAAiB,CAAC,IAAS;QACzB,IAAI,CAAC,aAAa,CAAC,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC;QAC7D,IAAI,CAAC,aAAa,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC;QAC3D,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;YACnB,QAAQ;YACR,iBAAiB;YACjB,YAAY;YACZ,IAAI,CAAC,UAAU;YACf,MAAM;SACP,CAAC,CAAC;QACH,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IACnC,CAAC;IAED,QAAQ,CAAC,EAAO;QACd,OAAO,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;IAC5C,CAAC;IAED,aAAa,CAAC,CAAM,EAAE,IAAS;QAC7B,CAAC,CAAC,cAAc,EAAE,CAAC;QACnB,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,IAAI,SAAS,GAAG,EAAE,CAAC;QACnB,IAAI,CAAC,CAAC,MAAM,CAAC,OAAO,EAAE;YACpB,SAAS,GAAG,QAAQ,CAAC;YACrB,IAAI,GAAG,UAAU,CAAC;SACnB;aAAM;YACL,SAAS,GAAG,UAAU,CAAC;YACvB,IAAI,GAAG,YAAY,CAAC;SACrB;QACD,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;QAChD,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,WAAW,GAAG,EAAE,CAAC;QACrB,IAAI,WAAW,GAAG,kCAAkC,CAAC;QACrD,IACE,SAAS,IAAI,UAAU;YACvB,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,EAClD;YACA,WAAW;gBACT,mDAAmD;oBACnD,WAAW;oBACX,iBAAiB;oBACjB,IAAI;oBACJ,uBAAuB,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC;SAChD;aAAM;YACL,WAAW;gBACT,mDAAmD;oBACnD,iBAAiB;oBACjB,IAAI;oBACJ,uBAAuB,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC;SAChD;QACD,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;YAC/B,OAAO,EAAE,WAAW;YACpB,GAAG,EAAE,sBAAsB;YAC3B,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,YAAY,CAAC,CAAC,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC;gBACtC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;YACjC,CAAC;YACD,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;gBAC/B,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;YAClC,CAAC;SACF,CAAC,CAAC;IACL,CAAC;IAED,mBAAmB,CAAC,MAAe;QACjC,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;YAC5C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;QACjD,CAAC,EAAE,GAAG,CAAC,CAAC;QACR,IAAI,CAAC,MAAM,EAAE;YACX,UAAU,CAAC,GAAG,EAAE;gBACd,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACzC,CAAC,EAAE,IAAI,CAAC,CAAC;SACV;IACH,CAAC;IAED,YAAY,CAAC,CAAM,EAAE,SAAc,EAAE,IAAS;QAC5C,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QAExC,MAAM,QAAQ,GAAG,IAAI,QAAQ,EAAE,CAAC;QAChC,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QAChD,QAAQ,CAAC,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;QAClD,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;QACrC,QAAQ,CAAC,MAAM,CAAC,cAAc,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QACzD,QAAQ,CAAC,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC1D,QAAQ,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;QACvC,IAAI,CAAC,sBAAsB,CAAC,QAAQ,EAAE,CAAC,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;IACxD,CAAC;IAED,sBAAsB,CAAC,QAAa,EAAE,SAAc,EAAE,UAAe;QACnE,IAAI,CAAC,aAAa,CAAC,0BAA0B,CAAC,QAAQ,CAAC,CAAC,SAAS,CAC/D,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,OAAO,GAAG,EAAE,CAAC;YACjB,IAAI,GAAG,CAAC,OAAO,CAAC,IAAI,MAAM,EAAE;gBAC1B,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,OAAO,GAAG,sCAAsC,GAAG,CAAC,KAAK,CAAC,MAAM,UAAU,CAAC,aAAa,CAAC,oCAAoC,CAAC;gBAC9H,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;aAC5C;iBAAM;gBACL,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;oBACd,OAAO,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC;oBACrB,SAAS,CAAC,OAAO,GAAG,SAAU,CAAC,OAAO,CAAC;oBACvC,IAAI,CAAC,wBAAwB,CAC3B,IAAI,CAAC,QAAQ,CAAC,MAAM,EACpB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EACvB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAC3B,CAAC;oBACF,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;iBAC5C;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;oBACvC,OAAO,GAAG,gDAAgD,CAAC;oBAC3D,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;iBAC5C;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACjB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,CACF,CAAC;IACJ,CAAC;IAED,WAAW,CAAC,IAAS;QACnB,IAAI,CAAC,aAAa,CAAC,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC;QAC7D,IAAI,CAAC,aAAa,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC;QAC3D,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;YACnB,QAAQ;YACR,iBAAiB;YACjB,YAAY;YACZ,IAAI,CAAC,UAAU;YACf,OAAO;SACR,CAAC,CAAC;IACL,CAAC;IAED,gBAAgB;QACd,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,EAAE,iBAAiB,EAAE,YAAY,CAAC,CAAC,CAAC;IACpE,CAAC;IAED,sBAAsB,CAAC,KAAK;QAC1B,IAAI,CAAC,OAAO,KAAK,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,KAAK,SAAS,CAAC,CAAC;IAC7D,CAAC;IAED,oBAAoB,CAAC,KAAK;QACxB,IAAI,CAAC,OAAO,KAAK,SAAS,CAAC,GAAG,KAAK,CAAC;IACtC,CAAC;IAED,oBAAoB,CAAC,KAAU;QAC7B,OAAO,IAAI,CAAC,iBAAiB,KAAK,EAAE,CAAC,CAAC;IACxC,CAAC;IAED,iBAAiB,CAAC,EAAe,EAAE,KAAU;QAC3C,IAAI,CAAC,iBAAiB,KAAK,EAAE,CAAC,GAAG,EAAE,CAAC,KAAK,CAAC;IAC5C,CAAC;IAED,kBAAkB,CAAC,KAAU;QAC3B,OAAO,IAAI,CAAC,OAAO,KAAK,SAAS,CAAC,CAAC;IACrC,CAAC;IAED,kBAAkB,CAAC,KAAU;QAC3B,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC;IACrB,CAAC;IAED,eAAe,CAAC,IAAY;QAC1B,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;IACzC,CAAC;;4FAxdU,sBAAsB;oHAAtB,sBAAsB;;;;;;;QCvBnC,yEAAkC;QAG1B,kEAAiC;QACjC,6EACF;QAAA,4DAAM;QACN,yEAAoB;QAOhB,8IAAS,sBAAkB,IAAC;QAC7B,4DAAS;QAGd,yEAA6B;QAQhB,uEAAW;QAAA,4DACb;QACD,kFAOC;QACC,qIAIc;QAAA,4DACf;QAEH,2EAAqE;QAIhE,kEAAM;QAAA,4DACR;QACD,kFAOC;QACC,qIAIc;QAAA,4DACf;QAEH,2EAAmE;QAK/D,+IAAS,qBAAiB,IAAC;QAI5B,4DAAS;QAMpB,qHAuMM;QACR,4DAAM;QACN,qHAiBM;QACN,2FAKC;QAOK,6RAAS,sEAAW,KAAC;QACtB,4DAAS;QAEV,8EAMC;QADC,6RAAS,sEAAW,KAAC;QACtB,4DAAS;;QA5SL,0DAA6B;QAA7B,0FAA6B;QAYxB,0DAAoC;QAApC,iGAAoC;QAqBpC,0DAA+B;QAA/B,4FAA+B;QAoB/B,0DAAoC;QAApC,iGAAoC;QAO3B,0DAAmD;QAAnD,uHAAmD;QAyM9C,0DAAmD;QAAnD,+JAAmD;QAsB7E,0DAAkB;QAAlB,2EAAkB;;;;;;;;;;;;;;;;;;AC7SyC;;;AAOxD,MAAM,oBAAoB;IAC/B,YAAoB,IAAgB;QAAhB,SAAI,GAAJ,IAAI,CAAY;QAEpC,oBAAe,GAAQ,IAAI,CAAC;QAC5B,eAAU,GAAQ,IAAI,CAAC;QAEf,0BAAqB,GAAQ,SAAS,CAAC;IALR,CAAC;IAOxC,OAAO,CAAC,IAAS;QACf,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC;IACpC,CAAC;IAED,OAAO;QACL,OAAO,IAAI,CAAC,qBAAqB,CAAC;IACpC,CAAC;IAED,kBAAkB;IAClB,6BAA6B;QAC3B,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,yDAAyD,CAC1D,CAAC;IACJ,CAAC;IAED,qBAAqB,CACnB,MAAW,EACX,QAAa,EACb,OAAY,EACZ,UAAe;QAEf,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,uDAAuD,EACvD;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC;iBACrB,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC;iBACrB,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;iBACpC,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;SACzC,CACF,CAAC;IACJ,CAAC;IAED,0BAA0B,CACxB,QAAa,EACb,OAAY,EACZ,WAAgB,EAChB,SAAc,EACd,WAAgB,EAChB,UAAe;QAEf,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,iDAAiD,EAAE;YACtE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC;iBACrB,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;iBACpC,GAAG,CAAC,aAAa,EAAE,WAAW,CAAC;iBAC/B,GAAG,CAAC,WAAW,EAAE,SAAS,CAAC;iBAC3B,GAAG,CAAC,aAAa,EAAE,WAAW,CAAC;iBAC/B,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;SACzC,CAAC,CAAC;IACL,CAAC;IAED,6BAA6B,CAAC,IAAS;QACrC,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CACnB,qDAAqD,EACrD,IAAI,CACL,CAAC;IACJ,CAAC;IAED,uBAAuB,CACrB,EAAU,EACV,OAAY,EACZ,UAAe,EACf,QAAa;QAEb,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB;OACC,EACD;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,QAAQ,EAAE,EAAE,CAAC;iBACjB,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;iBACpC,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;iBACrC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC;SACzB,CACF,CAAC;IACJ,CAAC;IACD,sBAAsB;IAEtB,iBAAiB,CAAC,EAAU,EAAE,QAAa,EAAE,OAAY,EAAE,UAAe;QACxE,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,uDAAuD,EACvD;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,QAAQ,EAAE,EAAE,CAAC;iBACjB,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;iBACpC,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;iBACrC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC;SACzB,CACF,CAAC;IACJ,CAAC;IAED,0BAA0B,CAAC,IAAS;QAClC,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CACnB,gEAAgE,EAChE,IAAI,CACL,CAAC;IACJ,CAAC;IAED,uBAAuB,CACrB,UAAe,EACf,SAAc,EACd,OAAY,EACZ,UAAe,EACf,QAAa;QAEb,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,qEAAqE,EACrE;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,YAAY,EAAE,UAAU,CAAC;iBAC7B,GAAG,CAAC,WAAW,EAAE,SAAS,CAAC;SAC/B,CACF,CAAC;IACJ,CAAC;IAED,gCAAgC,CAC9B,OAAY,EACZ,UAAe,EACf,QAAa;QAEb,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,uDAAuD,EACvD;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;iBACpC,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;iBACrC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC;SACzB,CACF,CAAC;IACJ,CAAC;IAED,wBAAwB,CAAC,IAAS;QAChC,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CACnB,yDAAyD,EACzD,IAAI,CACL,CAAC;IACJ,CAAC;IAED,YAAY,CACV,IAAI,EACJ,OAAY,EACZ,UAAe,EACf,QAAa;QAEb,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CACnB,wDAAwD,EACxD,IAAI,EACJ;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;iBACpC,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;iBACrC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC;SACzB,CACF,CAAC;IACJ,CAAC;IAED,mBAAmB,CACjB,MAAM,EACN,IAAI,EACJ,OAAY,EACZ,UAAe,EACf,QAAa;QAEb,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,kEAAkE,EAClE,IAAI,EACJ;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC;iBACrB,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;iBACpC,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;iBACrC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC;SACzB,CACF,CAAC;IACJ,CAAC;;wFAvLU,oBAAoB;qHAApB,oBAAoB,WAApB,oBAAoB,mBAFnB,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACEI;;;;;;;;;;;;;;;;;;ICwDlB,0EAA2B;IACpB,uDAAkB;IAAA,4DAAM;;;IAAxB,0DAAkB;IAAlB,iFAAkB;;;IAkDP,0EAA2B;IACpB,uDAAkB;IAAA,4DAAM;;;IAAxB,0DAAkB;IAAlB,iFAAkB;;;IAwGxC,0EAA2B;IACpB,uDAAkB;IAAA,4DAAM;;;IAAxB,0DAAkB;IAAlB,iFAAkB;;;IAsB3B,0EAA2B;IACpB,uDAAkB;IAAA,4DAAM;;;IAAxB,0DAAkB;IAAlB,iFAAkB;;;IAyBvB,0EAA2B;IACpB,uDAAkB;IAAA,4DAAM;;;IAAxB,0DAAkB;IAAlB,iFAAkB;;;IAmBZ,0EAA2B;IACpB,uDAAkB;IAAA,4DAAM;;;IAAxB,0DAAkB;IAAlB,iFAAkB;;;IAqBvB,0EAA2B;IACpB,uDAAkB;IAAA,4DAAM;;;IAAxB,0DAAkB;IAAlB,iFAAkB;;;IAwBzB,0EAA2B;IACpB,uDAAkB;IAAA,4DAAM;;;IAAxB,0DAAkB;IAAlB,iFAAkB;;;IAoBzB,0EAA2B;IACpB,uDAAkB;IAAA,4DAAM;;;IAAxB,0DAAkB;IAAlB,iFAAkB;;;IA8B3B,0EAA2B;IACpB,uDAAkB;IAAA,4DAAM;;;IAAxB,0DAAkB;IAAlB,iFAAkB;;;;IAkCzB,sEAAsD;IAIlD,6UAAa,+HAClC,IADsF;IAClE,4DAAgB;IACjB,4EAA6C;IAAA,uDAA4B;IAAA,4DAAQ;;;;IAH/E,0DAA4B;IAA5B,yFAA4B;IAGvB,0DAAqC;IAArC,kGAAqC;IAAC,0DAA4B;IAA5B,2FAA4B;;;IATjF,0EAAkK;IAG5J,4HAOM;IACR,4DAAM;;;IAR2B,0DAAqB;IAArB,+FAAqB;;;IAuMlD,0EAA2B;IACpB,uDAAkB;IAAA,4DAAM;;;IAAxB,0DAAkB;IAAlB,iFAAkB;;;IAmBzB,0EAA2B;IACpB,uDAAkB;IAAA,4DAAM;;;IAAxB,0DAAkB;IAAlB,iFAAkB;;;IAazB,0EAA2B;IACpB,uDAAkB;IAAA,4DAAM;;;IAAxB,0DAAkB;IAAlB,iFAAkB;;;;;IAI/B,yEAA+H;IAK/G,4HAAgE;IAAA,4DAAQ;IAChF,0EAA4B;IACY,sUAAa,+HAA2D,IAAP;IAAC,4DAAgB;IACxH,4EAAqB;IAAA,8DAAG;IAAA,4DAAQ;IAChC,qFAAwG;IAAlE,uUAAa,+HAA2D,IAAP;IAAC,4DAAgB;IACxH,6EAAqB;IAAA,8DAAE;IAAA,4DAAQ;IAGnC,2EAAwB;IAEf,2FAA+B;IAAA,4DAAQ;IAC9C,qEAKA;IACA,2EAAkE;IACpB,+TAAa,kHAChF,IADuH,yPACrF,2EAAS,eAAe,EAAE,MAAM,EAAC,aAAa,SAAS,KAD8B;IAAhG,4DAIK;IAKX,2EAAgC;IAGpB,iIAAoE;IAAA,4DAAQ;IACpF,2EAAkE;IACpB,+TAAa,4HAChF,IADiI,yPAC/F,2EAAS,eAAe,EAAE,MAAM,EAAC,uBAAuB,SAAS,KAD8B;IAA1G,4DAIK;IAIT,2EAAyB;IAEf,iHAAoD;IAAA,4DAAQ;IACpE,qEAKA;IACA,2EAAkE;IACpB,+TAAa,2HAChF,IADgI,yPAC9F,2EAAS,eAAe,EAAE,MAAM,EAAC,sBAAsB,SAAS,KAD8B;IAAzG,4DAIK;IAMb,2EAA+B;IAGnB,oFAAuB;IAAA,4DAAQ;IACvC,qEAKA;IACF,4DAAM;IACN,2EAAsB;IAGV,+EAAkB;IAAA,4DAAQ;IAEpC,2EAA4C;IAExC,yEAAc;IAEZ,2EAAkE;IACxD,wEAAW;IAAA,4DAAQ;IAC3B,4EAIK;IAJuC,+TAAa,uHACpF,IADgI,yPAC1F,2EAAS,eAAe,EAAE,MAAM,EAAC,kBAAkB,SAAS,KAD8B;IAArG,4DAIK;IAGP,2EAAkE;IACxD,wEAAW;IAAA,4DAAQ;IAC3B,4EAIK;IAJuC,+TAAa,uHACpF,IADgI,yPAC1F,2EAAS,eAAe,EAAE,MAAM,EAAC,kBAAkB,SAAS,KAD8B;IAArG,4DAIK;IAGT,qEAAe;IACjB,4DAAM;IAIV,2EAAsB;IAGV,uFAA0B;IAAA,4DAAQ;IAE5C,2EAA4C;IAExC,yEAAc;IACZ,2EAA6E;IACrC,uUAAa,oHAAgD,IAAP;IAAC,4DAAgB;IAC7G,6EAAqB;IAAA,+DAAG;IAAA,4DAAQ;IAChC,qFAA6F;IAAvD,uUAAa,oHAAgD,IAAP;IAAC,4DAAgB;IAC7G,6EAAqB;IAAA,8DAAE;IAAA,4DAAQ;IAEjC,2EAAkE;IACxD,wEAAW;IAAA,4DAAQ;IAC3B,4EAIK;IAJuC,+TAAa,qHACpF,IAD8H,yPACxF,2EAAS,eAAe,EAAE,MAAM,EAAC,gBAAgB,SAAS,KAD8B;IAAnG,4DAIK;IAGP,2EAAkE;IACxD,wEAAW;IAAA,4DAAQ;IAC3B,4EAIK;IAJuC,+TAAa,qHACpF,IAD8H,yPACxF,2EAAS,eAAe,EAAE,MAAM,EAAC,gBAAgB,SAAS,KAD8B;IAAnG,4DAIK;IAGT,qEAAe;IACjB,4DAAM;IAIV,2EAAsB;IAGV,qFAAwB;IAAA,4DAAQ;IAE1C,2EAA4C;IAExC,yEAAc;IACZ,2EAA6E;IACrC,uUAAa,oHAAgD,IAAP;IAAC,4DAAgB;IAC7G,6EAAqB;IAAA,+DAAG;IAAA,4DAAQ;IAChC,qFAA6F;IAAvD,uUAAa,oHAAgD,IAAP;IAAC,4DAAgB;IAC7G,6EAAqB;IAAA,8DAAE;IAAA,4DAAQ;IAEjC,2EAAkE;IACxD,wEAAW;IAAA,4DAAQ;IAC3B,4EAIK;IAJuC,+TAAa,qHACpF,IAD8H,yPACxF,2EAAS,eAAe,EAAE,MAAM,EAAC,gBAAgB,SAAS,KAD8B;IAAnG,4DAIK;IAGP,2EAAkE;IACxD,wEAAW;IAAA,4DAAQ;IAC3B,4EAIK;IAJuC,+TAAa,qHACpF,IAD8H,yPACxF,2EAAS,eAAe,EAAE,MAAM,EAAC,gBAAgB,SAAS,KAD8B;IAAnG,4DAIK;IAGT,qEAAe;IACjB,4DAAM;IAIV,2EAAsB;IAGV,0FAA6B;IAAA,4DAAQ;IAE/C,2EAA4C;IAExC,0EAAc;IACZ,4EAA6E;IACrC,wUAAa,oHAAgD,IAAP;IAAC,4DAAgB;IAC7G,8EAAqB;IAAA,gEAAG;IAAA,4DAAQ;IAChC,sFAA6F;IAAvD,wUAAa,oHAAgD,IAAP;IAAC,4DAAgB;IAC7G,8EAAqB;IAAA,+DAAE;IAAA,4DAAQ;IAEjC,4EAAkE;IACxD,yEAAW;IAAA,4DAAQ;IAC3B,6EAIK;IAJuC,gUAAa,gIACpF,IADyI,0PACnG,2EAAS,eAAe,EAAE,MAAM,EAAC,2BAA2B,SAAS,KAD8B;IAA9G,4DAIK;IAGP,4EAAkE;IACxD,yEAAW;IAAA,4DAAQ;IAC3B,6EAIK;IAJuC,gUAAa,gIACpF,IADyI,0PACnG,2EAAS,eAAe,EAAE,MAAM,EAAC,2BAA2B,SAAS,KAD8B;IAA9G,4DAIK;IAGT,qEAAe;IACjB,4DAAM;;;IAhNkC,0DAAiE;IAAjE,gIAAiE;IAEjE,0DAAiE;IAAjE,gIAAiE;IAWzG,0DAA6F;IAA7F,sJAA6F;IAG/C,0DAAoD;IAApD,mHAAoD;IAcpD,0DAA8D;IAA9D,6HAA8D;IAe5G,0DAA2G;IAA3G,oKAA2G;IAG7D,0DAA6D;IAA7D,4HAA6D;IAkB7G,0DAAuF;IAAvF,gJAAuF;IAcnC,2DAAyD;IAAzD,wHAAyD;IASzD,0DAAyD;IAAzD,wHAAyD;IAqB/D,0DAAsD;IAAtD,qHAAsD;IAEtD,0DAAsD;IAAtD,qHAAsD;IAKhD,0DAAuD;IAAvD,sHAAuD;IASvD,0DAAuD;IAAvD,sHAAuD;IAqB7D,0DAAsD;IAAtD,qHAAsD;IAEtD,0DAAsD;IAAtD,qHAAsD;IAKhD,0DAAuD;IAAvD,sHAAuD;IASvD,0DAAuD;IAAvD,sHAAuD;IAqB7D,0DAAsD;IAAtD,qHAAsD;IAEtD,0DAAsD;IAAtD,qHAAsD;IAKhD,0DAAkE;IAAlE,iIAAkE;IASlE,0DAAkE;IAAlE,iIAAkE;;;ADh1BvI,MAAM,uBAAuB;IA2GlC,YACU,MAAc,EACd,KAAqB,EACrB,WAAwB,EACxB,mBAAwC,EACxC,WAAwB,EACxB,eAA8C;QAL9C,WAAM,GAAN,MAAM,CAAQ;QACd,UAAK,GAAL,KAAK,CAAgB;QACrB,gBAAW,GAAX,WAAW,CAAa;QACxB,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,gBAAW,GAAX,WAAW,CAAa;QACxB,oBAAe,GAAf,eAAe,CAA+B;QA/GxD,iBAAY,GAAQ;YAClB,UAAU,EAAE,WAAW;YACvB,cAAc,EAAE,IAAI;YACpB,MAAM,EAAE,GAAG;YACX,eAAe,EAAE;gBACf,WAAW,EAAE,EAAE;gBACf,cAAc,EAAE,EAAE;gBAClB,WAAW,EAAE,EAAE;gBACf,UAAU,EAAE,EAAE;gBACd,OAAO,EAAE,EAAE;gBACX,QAAQ,EAAE,EAAE;gBACZ,OAAO,EAAE,EAAE;gBACX,YAAY,EAAE,EAAE;gBAChB,WAAW,EAAE,EAAE;gBACf,WAAW,EAAE,EAAE;gBACf,eAAe,EAAE,EAAE;gBACnB,OAAO,EAAE,EAAE;gBACX,YAAY,EAAE,EAAE;gBAChB,mBAAmB,EAAE,EAAE;gBACvB,aAAa,EAAE,EAAE;gBACjB,YAAY,EAAE,EAAE;gBAChB,UAAU,EAAE,EAAE;gBACd,eAAe,EAAE,EAAE;gBACnB,MAAM,EAAE,EAAE;aACX;YACD,kBAAkB,EAAE;gBAClB,mBAAmB,EAAE,EAAE;gBACvB,wBAAwB,EAAE,EAAE;gBAC5B,oBAAoB,EAAE,EAAE;gBACxB,mBAAmB,EAAE,EAAE;gBACvB,wBAAwB,EAAE,EAAE;gBAC5B,sCAAsC,EAAE,EAAE;gBAC1C,sCAAsC,EAAE,EAAE;gBAC1C,yCAAyC,EAAE,EAAE;gBAC7C,qCAAqC,EAAE,EAAE;gBACzC,yBAAyB,EAAE,EAAE;gBAC7B,sBAAsB,EAAE,EAAE;gBAC1B,wBAAwB,EAAE,EAAE;gBAC5B,mBAAmB,EAAE,EAAE;aACxB;YACD,gBAAgB,EAAE;gBAChB,0BAA0B,EAAE,EAAE;gBAC9B,0BAA0B,EAAE,EAAE;gBAC9B,UAAU,EAAE,EAAE;aACf;YACD,aAAa,EAAE;gBACb,mBAAmB,EAAE,EAAE;aACxB;YACD,gBAAgB,EAAE;gBAChB,sBAAsB,EAAE,EAAE;aAC3B;YACD,aAAa,EAAE;gBACb,eAAe,EAAE,EAAE;gBACnB,cAAc,EAAE,EAAE;aACnB;SACF,CAAC;QAEF,mBAAc,GAAG;YACf;gBACE,KAAK,EAAE,cAAc;gBACrB,GAAG,EAAE,aAAa;aACnB;YACD;gBACE,KAAK,EAAE,SAAS;gBAChB,GAAG,EAAE,SAAS;aACf;SACF,CAAC;QAEF,eAAU,GAAG,MAAM,CAAC,IAAI,CAAC;QAEzB,gBAAW,GAAY,KAAK,CAAC;QAC7B,oBAAe,GAAY,IAAI,CAAC;QAChC,SAAI,GAAG,KAAK,CAAC;QAkBb,mBAAc,GAAQ,EAAE,CAAC;QACzB,wBAAmB,GAAQ,EAAE,CAAC;QAC9B,+BAA0B,GAAQ,EAAE,CAAC;QACrC,yBAAoB,GAAQ,EAAE,CAAC;QAC/B,wBAAmB,GAAQ,EAAE,CAAC;QAC9B,sBAAiB,GAAQ,EAAE,CAAC;QAC5B,2BAAsB,GAAQ,EAAE,CAAC;QACjC,iBAAY,GAAQ,EAAE,CAAC;QACvB,sBAAiB,GAAQ,EAAE,CAAC;QAC5B,oBAAe,GAAQ,EAAE,CAAC;QAC1B,+BAA0B,GAAQ,EAAE,CAAC;QACrC,6BAAwB,GAAQ,EAAE,CAAC;QACnC,2BAAsB,GAAQ,EAAE,CAAC;QACjC,uBAAkB,GAAQ,EAAE,CAAC;QAW7B,YAAO,GAAQ,EAAE,CAAC;QAClB,cAAS,GAAQ,EAAE,CAAC;QAEpB,WAAM,GAAG,EAAE,CAAC;IALT,CAAC;IAOJ,QAAQ;QACN,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,MAAM,cAAc,GAAG,eAAe,CAAC;QACvC,IAAI,CAAC,WAAW;aACb,SAAS,CAAC,cAAc,CAAC;aACzB,IAAI,CAAC,CAAC,eAAuB,EAAE,EAAE;YAChC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC;QACjD,CAAC,CAAC,CAAC;QACL,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;QAErE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;YACjC,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAC1B,IAAI,CAAC,sBAAsB,EAAE,CAAC;IAChC,CAAC;IAED,gCAAgC,CAAC,sBAA6B;QAC5D,8CAA8C;QAC9C,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,YAAY,GAAG,sBAAsB,CAAC;QACxE,IAAI,CAAC,0BAA0B,GAAG,sBAAsB,CAAC;IAC3D,CAAC;IAED,SAAS;QACP,IAAI,CAAC,eAAe,GAAG,CAAC,IAAI,CAAC,eAAe,CAAC;IAC/C,CAAC;IAED,QAAQ,CAAC,OAAO,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK;QAClC,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QACzC,IAAI,OAAO,IAAI,aAAa,EAAE;YAC5B,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,CAAC,KAAK,CAAC,GAAG,KAAK,IAAI,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC;SAC3E;QACD,IAAI,OAAO,IAAI,oBAAoB,EAAE;YACnC,IAAI,CAAC,YAAY,CAAC,oBAAoB,CAAC,CAAC,KAAK,CAAC;gBAC5C,KAAK,IAAI,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC;SAC/B;QACD,IAAI,OAAO,IAAI,eAAe,EAAE;YAC9B,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC,KAAK,CAAC,GAAG,KAAK,IAAI,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC;SACzE;IACH,CAAC;IAED,aAAa,CAAC,IAAY,EAAE,OAAc;QACxC,OAAO,CAAC,GAAG,CACT,MAAM,EACN,OAAO,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,IAAI,KAAK,IAAI,CAAC,CAC3C,CAAC;QACF,OAAO,OAAO,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,IAAI,KAAK,IAAI,CAAC,CAAC;IACpD,CAAC;IAED,sBAAsB;QACpB,IAAI,CAAC,eAAe,CAAC,kBAAkB,EAAE,CAAC,SAAS,CACjD,CAAC,GAAG,EAAE,EAAE;YACN,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,8CAA8C,CAC/C,CAAC;iBACH;aACF;iBAAM;gBACL,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,EAAE;oBAC1B,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;oBACvC,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC;oBACjC,IAAI,CAAC,YAAY,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC;oBAChC,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC;oBACnB,IAAI,CAAC,eAAe;wBAClB,GAAG,CAAC,MAAM,CAAC,CAAC,iBAAiB,CAAC,CAAC,iBAAiB,CAAC,CAAC;oBACpD,IAAI,GAAG,CAAC,MAAM,CAAC,CAAC,iBAAiB,CAAC,CAAC,SAAS,CAAC,EAAE;wBAC7C,MAAM,WAAW,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,iBAAiB,CAAC,CAAC,SAAS,CAAC,CAAC;wBAC9D,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,MAAM,EAAE,EAAE;4BAC3D,OAAO,WAAW,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;wBACtD,CAAC,CAAC,CAAC;qBACJ;oBACD,IAAI,GAAG,CAAC,MAAM,CAAC,CAAC,iBAAiB,CAAC,CAAC,cAAc,CAAC,EAAE;wBAClD,MAAM,WAAW,GACf,GAAG,CAAC,MAAM,CAAC,CAAC,iBAAiB,CAAC,CAAC,cAAc,CAAC,CAAC;wBACjD,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAC3D,CAAC,MAAM,EAAE,EAAE;4BACT,OAAO,WAAW,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;wBACtD,CAAC,CACF,CAAC;wBACF,IAAI,CAAC,gCAAgC,CACnC,IAAI,CAAC,sBAAsB,CAC5B,CAAC;qBACH;oBACD,IAAI,GAAG,CAAC,MAAM,CAAC,CAAC,iBAAiB,CAAC,CAAC,eAAe,CAAC,EAAE;wBACnD,MAAM,WAAW,GACf,GAAG,CAAC,MAAM,CAAC,CAAC,iBAAiB,CAAC,CAAC,eAAe,CAAC,CAAC;wBAClD,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,oBAAoB,CAAC,MAAM,CACzD,CAAC,MAAM,EAAE,EAAE;4BACT,OAAO,WAAW,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;wBACtD,CAAC,CACF,CAAC;qBACH;oBACD,IAAI,GAAG,CAAC,MAAM,CAAC,CAAC,iBAAiB,CAAC,CAAC,qBAAqB,CAAC,EAAE;wBACzD,MAAM,gBAAgB,GACpB,GAAG,CAAC,MAAM,CAAC,CAAC,iBAAiB,CAAC,CAAC,qBAAqB,CAAC,CAAC;wBACxD,IAAI,CAAC,2BAA2B,GAAG,IAAI,CAAC,aAAa,CACnD,gBAAgB,EAChB,IAAI,CAAC,mBAAmB,CACzB,CAAC;qBACH;oBACD,IAAI,GAAG,CAAC,MAAM,CAAC,CAAC,iBAAiB,CAAC,CAAC,UAAU,CAAC,EAAE;wBAC9C,MAAM,YAAY,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,iBAAiB,CAAC,CAAC,UAAU,CAAC,CAAC;wBAChE,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,aAAa,CACxC,YAAY,EACZ,IAAI,CAAC,eAAe,CACrB,CAAC;qBACH;oBACD,IAAI,GAAG,CAAC,MAAM,CAAC,CAAC,iBAAiB,CAAC,CAAC,cAAc,CAAC,EAAE;wBAClD,MAAM,gBAAgB,GACpB,GAAG,CAAC,MAAM,CAAC,CAAC,iBAAiB,CAAC,CAAC,cAAc,CAAC,CAAC;wBACjD,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,aAAa,CAC1C,gBAAgB,EAChB,IAAI,CAAC,mBAAmB,CACzB,CAAC;qBACH;oBACD,IAAI,GAAG,CAAC,MAAM,CAAC,CAAC,iBAAiB,CAAC,CAAC,YAAY,CAAC,EAAE;wBAChD,MAAM,gBAAgB,GACpB,GAAG,CAAC,MAAM,CAAC,CAAC,iBAAiB,CAAC,CAAC,YAAY,CAAC,CAAC;wBAC/C,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,aAAa,CACxC,gBAAgB,EAChB,IAAI,CAAC,iBAAiB,CACvB,CAAC;qBACH;oBACD,IAAI,GAAG,CAAC,MAAM,CAAC,CAAC,iBAAiB,CAAC,CAAC,iBAAiB,CAAC,EAAE;wBACrD,MAAM,gBAAgB,GACpB,GAAG,CAAC,MAAM,CAAC,CAAC,iBAAiB,CAAC,CAAC,iBAAiB,CAAC,CAAC;wBACpD,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,aAAa,CAC7C,gBAAgB,EAChB,IAAI,CAAC,sBAAsB,CAC5B,CAAC;qBACH;oBACD,IAAI,GAAG,CAAC,MAAM,CAAC,CAAC,iBAAiB,CAAC,CAAC,QAAQ,CAAC,EAAE;wBAC5C,MAAM,UAAU,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,iBAAiB,CAAC,CAAC,QAAQ,CAAC,CAAC;wBAC5D,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,aAAa,CACpC,MAAM,CAAC,UAAU,CAAC,EAClB,IAAI,CAAC,YAAY,CAClB,CAAC;wBACF,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;wBACxC,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;wBACjC,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;qBACzC;oBACD,IAAI,GAAG,CAAC,MAAM,CAAC,CAAC,kBAAkB,CAAC,CAAC,YAAY,CAAC,EAAE;wBACjD,MAAM,gBAAgB,GACpB,GAAG,CAAC,MAAM,CAAC,CAAC,kBAAkB,CAAC,CAAC,YAAY,CAAC,CAAC;wBAChD,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,aAAa,CACxC,gBAAgB,EAChB,IAAI,CAAC,iBAAiB,CACvB,CAAC;qBACH;oBACD,IACE,GAAG,CAAC,MAAM,CAAC,CAAC,oBAAoB,CAAC,CAAC,qBAAqB,CAAC,KAAK,GAAG,EAChE;wBACA,MAAM,uBAAuB,GAAG,GAAG,CAAC;wBACpC,IAAI,CAAC,yBAAyB,GAAG,IAAI,CAAC,aAAa,CACjD,uBAAuB,EACvB,IAAI,CAAC,0BAA0B,CAChC,CAAC;qBACH;yBAAM;wBACL,MAAM,uBAAuB,GAAG,GAAG,CAAC;wBACpC,IAAI,CAAC,yBAAyB,GAAG,IAAI,CAAC,aAAa,CACjD,uBAAuB,EACvB,IAAI,CAAC,0BAA0B,CAChC,CAAC;qBACH;oBACD,IAAI,GAAG,CAAC,MAAM,CAAC,CAAC,eAAe,CAAC,CAAC,iBAAiB,CAAC,KAAK,GAAG,EAAE;wBAC3D,MAAM,uBAAuB,GAAG,GAAG,CAAC;wBACpC,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,aAAa,CAC7C,uBAAuB,EACvB,IAAI,CAAC,sBAAsB,CAC5B,CAAC;qBACH;yBAAM;wBACL,MAAM,uBAAuB,GAAG,GAAG,CAAC;wBACpC,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,aAAa,CAC7C,uBAAuB,EACvB,IAAI,CAAC,sBAAsB,CAC5B,CAAC;qBACH;oBACD,IAAI,GAAG,CAAC,MAAM,CAAC,CAAC,eAAe,CAAC,CAAC,gBAAgB,CAAC,KAAK,GAAG,EAAE;wBAC1D,MAAM,uBAAuB,GAAG,GAAG,CAAC;wBACpC,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,aAAa,CAC5C,uBAAuB,EACvB,IAAI,CAAC,wBAAwB,CAC9B,CAAC;qBACH;yBAAM;wBACL,MAAM,uBAAuB,GAAG,GAAG,CAAC;wBACpC,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,aAAa,CAC5C,uBAAuB,EACvB,IAAI,CAAC,wBAAwB,CAC9B,CAAC;qBACH;iBACF;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,OAAO,CAAC,GAAG,CAAC,kBAAkB,EAAE,GAAG,CAAC,CAAC;YACrC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,8CAA8C,CAC/C,CAAC;QACJ,CAAC,CACF,CAAC;IACJ,CAAC;IAED,eAAe;QACb,6CAA6C;QAC7C,OAAO;QACP,8DAA8D;QAC9D,gEAAgE;QAChE,kEAAkE;QAClE,MAAM;QACN,kCAAkC;QAClC,uCAAuC;QACvC,gDAAgD;QAChD,OAAO;QACP,IAAI;IACN,CAAC;IAED,iBAAiB,CAAC,GAAY,EAAE,GAAQ;QACtC,IAAI,GAAG,EAAE;YACP,IAAI,GAAG,EAAE;gBACP,GAAG,CAAC,KAAK,CAAC,MAAM,GAAG,mBAAmB,CAAC;aACxC;SACF;aAAM;YACL,GAAG,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;SAC3B;IACH,CAAC;IAED,cAAc,CAAC,KAAU;QACvB,MAAM,SAAS,GAAG,KAAK,CAAC,MAAM,CAAC;QAC/B,MAAM,IAAI,GAAG,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QAChC,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,SAAS,CAAC,CAAC;QACpC,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;QAC1B,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;QAC1C,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC;QACzC,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC;QACpC,IAAI,IAAI,EAAE;YACR,MAAM,MAAM,GAAG,IAAI,UAAU,EAAE,CAAC;YAEhC,MAAM,CAAC,SAAS,GAAG,GAAG,EAAE;gBACtB,MAAM,UAAU,GAAG,MAAM,CAAC,MAAgB,CAAC;gBAC3C,IAAI,CAAC,cAAc,GAAG,UAAU,CAAC;YACnC,CAAC,CAAC;YAEF,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;SAC5B;IACH,CAAC;IAED,oBAAoB,CAAC,KAAa;QAChC,6CAA6C;QAC7C,OAAO,KAAK,CAAC,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;IACzD,CAAC;IAED,kBAAkB,CAAC,MAAc;QAC/B,MAAM,cAAc,GAAG,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC;QACtE,MAAM,aAAa,GAAG,cAAc,CAAC,MAAM,CACzC,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CACrC,CAAC;QACF,OAAO,aAAa,CAAC,MAAM,KAAK,CAAC,CAAC;IACpC,CAAC;IAED,YAAY,CAAC,KAAa;QACxB,0CAA0C;QAC1C,MAAM,UAAU,GAAG,kDAAkD,CAAC;QACtE,OAAO,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAChC,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QACjD,0BAA0B;QAC1B,IAAI,kBAAkB,GAAG,KAAK,CAAC;QAC/B,IAAI,cAAc,GAAG,KAAK,CAAC;QAC3B,IAAI,kBAAkB,GAAG,KAAK,CAAC;QAC/B,IAAI,kBAAkB,GAAG,KAAK,CAAC;QAC/B,IAAI,iBAAiB,GAAG,KAAK,CAAC;QAC9B,IAAI,eAAe,GAAG,KAAK,CAAC;QAC5B,IAAI,mBAAmB,GAAG,KAAK,CAAC;QAChC,IAAI,0BAA0B,GAAG,KAAK,CAAC;QACvC,IAAI,oBAAoB,GAAG,KAAK,CAAC;QACjC,IAAI,sBAAsB,GAAG,KAAK,CAAC;QACnC,IAAI,iBAAiB,GAAG,KAAK,CAAC;QAC9B,IAAI,sBAAsB,GAAG,KAAK,CAAC;QACnC,IAAI,wBAAwB,GAAG,KAAK,CAAC;QAErC,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;QAEpB,KAAK,MAAM,GAAG,IAAI,IAAI,CAAC,YAAY,EAAE;YACnC,IAAI,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE;gBACzC,IACE,OAAO,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,KAAK,QAAQ;oBAC1C,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,KAAK,IAAI,EAC/B;oBACA,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,EAAE,CAAC;iBACrD;qBAAM;oBACL,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;iBAC9C;aACF;SACF;QAED,IAAI,CAAC,SAAS,GAAG,EAAE,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAC1C,IAAI,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,iBAAiB,CAAC,EAAE;YACvD,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC;YACvE,IAAI,IAAI,CAAC,eAAe,EAAE;gBACxB,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC,SAAS,CAAC,GAAG,IAAI,CAAC,eAAe;qBAChE,GAAG,CAAC,CAAC,OAAO,EAAE,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC;qBAC9B,IAAI,CAAC,GAAG,CAAC,CAAC;aACd;YACD,IAAI,IAAI,CAAC,sBAAsB,EAAE;gBAC/B,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC,cAAc,CAAC;oBAC/C,IAAI,CAAC,sBAAsB,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;aACxE;YACD,IAAI,IAAI,CAAC,mBAAmB,EAAE;gBAC5B,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC,eAAe,CAAC;oBAChD,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;aACrE;YACD,IAAI,IAAI,CAAC,2BAA2B,EAAE;gBACpC,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC,qBAAqB,CAAC;oBACtD,IAAI,CAAC,2BAA2B,CAAC,MAAM,CAAC,CAAC;aAC5C;YACD,IAAI,IAAI,CAAC,gBAAgB,EAAE;gBACzB,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC,UAAU,CAAC;oBAC3C,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;aACjC;YACD,IAAI,IAAI,CAAC,qBAAqB,EAAE;gBAC9B,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC,iBAAiB,CAAC;oBAClD,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC,CAAC;aACtC;YACD,IAAI,IAAI,CAAC,YAAY,EAAE;gBACrB,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;aACzE;YACD,IAAI,IAAI,CAAC,kBAAkB,EAAE;gBAC3B,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC,cAAc,CAAC;oBAC/C,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC;aACnC;YACD,IAAI,IAAI,CAAC,gBAAgB,EAAE;gBACzB,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC,YAAY,CAAC;oBAC7C,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;aACjC;YACD,IAAI,IAAI,CAAC,gBAAgB,EAAE;gBACzB,IAAI,CAAC,SAAS,CAAC,kBAAkB,CAAC,CAAC,YAAY,CAAC;oBAC9C,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;aACjC;YACD,IAAI,IAAI,CAAC,eAAe,EAAE;gBACxB,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC,iBAAiB,CAAC;oBAClD,IAAI,CAAC,eAAe,CAAC;aACxB;YAED,gEAAgE;YAChE,4CAA4C;YAC5C,uDAAuD;YACvD,wCAAwC;YACxC,sDAAsD;YACtD,uCAAuC;YACvC,IAAI,IAAI,CAAC,yBAAyB,CAAC,MAAM,CAAC,KAAK,KAAK,EAAE;gBACpD,IAAI,CAAC,SAAS,CAAC,oBAAoB,CAAC,CAAC,qBAAqB,CAAC,GAAG,GAAG,CAAC;aACnE;iBAAM;gBACL,IAAI,CAAC,SAAS,CAAC,oBAAoB,CAAC,CAAC,qBAAqB,CAAC,GAAG,GAAG,CAAC;aACnE;YACD,IAAI,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC,KAAK,KAAK,EAAE;gBAChD,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,CAAC,iBAAiB,CAAC,GAAG,GAAG,CAAC;aAC1D;iBAAM;gBACL,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,CAAC,iBAAiB,CAAC,GAAG,GAAG,CAAC;aAC1D;YACD,IAAI,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,KAAK,KAAK,EAAE;gBAC/C,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,CAAC,gBAAgB,CAAC,GAAG,GAAG,CAAC;aACzD;iBAAM;gBACL,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,CAAC,gBAAgB,CAAC,GAAG,GAAG,CAAC;aACzD;YAED,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC,aAAa,CAAC;gBAC9C,IAAI,CAAC,oBAAoB,CACvB,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC,aAAa,CAAC,CACjD,CAAC;YACJ,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC,gBAAgB,CAAC;gBACjD,IAAI,CAAC,oBAAoB,CACvB,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC,gBAAgB,CAAC,CACpD,CAAC;YACJ,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC,aAAa,CAAC;gBAC9C,IAAI,CAAC,oBAAoB,CACvB,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC,aAAa,CAAC,CACjD,CAAC;YACJ,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC,YAAY,CAAC;gBAC7C,IAAI,CAAC,oBAAoB,CACvB,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC,YAAY,CAAC,CAChD,CAAC;YAEJ,IACE,CAAC,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC,aAAa,CAAC;gBACjD,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC,aAAa,CAAC,KAAK,EAAE,EACvD;gBACA,kBAAkB,GAAG,IAAI,CAAC;aAC3B;YACD,IACE,CAAC,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC,SAAS,CAAC;gBAC7C,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC,SAAS,CAAC,KAAK,EAAE,EACnD;gBACA,cAAc,GAAG,IAAI,CAAC;aACvB;YACD,IACE,CAAC,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC,UAAU,CAAC;gBAC9C,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC,UAAU,CAAC,KAAK,EAAE,EACpD;gBACA,eAAe,GAAG,IAAI,CAAC;aACxB;YACD,IACE,CAAC,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC,YAAY,CAAC;gBAChD,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC,YAAY,CAAC,KAAK,EAAE,EACtD;gBACA,iBAAiB,GAAG,IAAI,CAAC;aAC1B;YACD,IACE,CAAC,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC,aAAa,CAAC;gBACjD,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC,aAAa,CAAC,KAAK,EAAE,EACvD;gBACA,kBAAkB,GAAG,IAAI,CAAC;aAC3B;YACD,IACE,CAAC,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC,gBAAgB,CAAC;gBACpD,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC,gBAAgB,CAAC,KAAK,EAAE,EAC1D;gBACA,kBAAkB,GAAG,IAAI,CAAC;aAC3B;YACD,IACE,CAAC,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC,cAAc,CAAC;gBAClD,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC,cAAc,CAAC,KAAK,EAAE,EACxD;gBACA,mBAAmB,GAAG,IAAI,CAAC;aAC5B;YACD,IACE,CAAC,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC,qBAAqB,CAAC;gBACzD,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC,qBAAqB,CAAC,KAAK,EAAE,EAC/D;gBACA,0BAA0B,GAAG,IAAI,CAAC;aACnC;YACD,IACE,CAAC,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC,eAAe,CAAC;gBACnD,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC,eAAe,CAAC,KAAK,EAAE,EACzD;gBACA,oBAAoB,GAAG,IAAI,CAAC;aAC7B;YACD,IACE,CAAC,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC,iBAAiB,CAAC;gBACrD,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC,iBAAiB,CAAC,KAAK,EAAE,EAC3D;gBACA,sBAAsB,GAAG,IAAI,CAAC;aAC/B;YACD,IACE,CAAC,IAAI,CAAC,SAAS,CAAC,kBAAkB,CAAC,CAAC,YAAY,CAAC;gBACjD,IAAI,CAAC,SAAS,CAAC,kBAAkB,CAAC,CAAC,YAAY,CAAC,KAAK,EAAE,EACvD;gBACA,iBAAiB,GAAG,IAAI,CAAC;aAC1B;YACD,IACE,CAAC,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,CAAC,iBAAiB,CAAC;gBACnD,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,CAAC,iBAAiB,CAAC,KAAK,EAAE,EACzD;gBACA,sBAAsB,GAAG,IAAI,CAAC;aAC/B;YACD,IACE,CAAC,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,CAAC,gBAAgB,CAAC;gBAClD,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,CAAC,gBAAgB,CAAC,KAAK,EAAE,EACxD;gBACA,wBAAwB,GAAG,IAAI,CAAC;aACjC;SACF;QAED,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QACpC,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,OAAO,CAAC,EAAE;YACvE,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,oCAAoC,CAAC,CAAC;YACxE,OAAO,CAAC,iDAAiD;SAC1D;aAAM,IAAI,kBAAkB,EAAE;YAC7B,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,+BAA+B,CAAC,CAAC;SACpE;aAAM,IAAI,cAAc,EAAE;YACzB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,4BAA4B,CAAC,CAAC;SACjE;aAAM,IAAI,kBAAkB,EAAE;YAC7B,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,uCAAuC,CACxC,CAAC;SACH;aAAM,IAAI,kBAAkB,EAAE;YAC7B,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,+BAA+B,CAAC,CAAC;SACpE;aAAM,IAAI,iBAAiB,EAAE;YAC5B,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,8BAA8B,CAAC,CAAC;SACnE;aAAM,IAAI,eAAe,EAAE;YAC1B,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,8BAA8B,CAAC,CAAC;SACnE;aAAM,IAAI,mBAAmB,EAAE;YAC9B,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,kCAAkC,CAAC,CAAC;SACvE;aAAM,IAAI,0BAA0B,EAAE;YACrC,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,0CAA0C,CAC3C,CAAC;SACH;aAAM,IAAI,oBAAoB,EAAE;YAC/B,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,mCAAmC,CAAC,CAAC;SACxE;aAAM,IAAI,sBAAsB,EAAE;YACjC,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,qCAAqC,CAAC,CAAC;SAC1E;aAAM,IAAI,iBAAiB,EAAE;YAC5B,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,+BAA+B,CAAC,CAAC;SACpE;aAAM,IAAI,sBAAsB,EAAE;YACjC,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,qCAAqC,CAAC,CAAC;SAC1E;aAAM,IAAI,wBAAwB,EAAE;YACnC,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,wCAAwC,CACzC,CAAC;SACH;aAAM;YACL,IAAI,OAAO,CAAC;YACZ,IAAI,IAAI,CAAC,IAAI,IAAI,MAAM,EAAE;gBACvB,IAAI,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC;gBAE1B,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,qBAAqB,CAAC,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;gBACxE,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;aACzB;iBAAM;gBACL,IAAI,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC;gBAC1B,OAAO,CAAC,GAAG,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;gBAC7B,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,mBAAmB,CAAC,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;aACvE;YAED,IAAI,OAAO,EAAE;gBACX,OAAO,CAAC,SAAS,CACf,CAAC,GAAG,EAAE,EAAE;oBACN,IACE,GAAG,CAAC,QAAQ,CAAC;wBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;wBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;wBACA,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;4BAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;yBACjD;6BAAM;4BACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,8CAA8C,CAC/C,CAAC;yBACH;qBACF;yBAAM;wBACL,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;4BACd,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;4BAC3C,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;4BACvC,IAAI,CAAC,sBAAsB,EAAE,CAAC;yBAC/B;qBACF;gBACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;oBACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;oBACvC,OAAO,CAAC,GAAG,CAAC,eAAe,EAAE,GAAG,CAAC,CAAC;oBAClC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,8CAA8C,CAC/C,CAAC;gBACJ,CAAC,CACF,CAAC;aACH;SACF;IACH,CAAC;IAED,mBAAmB;QACjB,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;YAC5C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;QACjD,CAAC,EAAE,GAAG,CAAC,CAAC;QACR,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,EAAE,IAAI,CAAC,CAAC;IACX,CAAC;IAED,OAAO;QACL,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;QAChD,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;YAC/B,OAAO,EAAE,mDAAmD;YAC5D,GAAG,EAAE,kCAAkC;YACvC,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,mBAAmB,EAAE,CAAC;gBAC3B,IAAI,CAAC,YAAY,GAAG;oBAClB,UAAU,EAAE,WAAW;oBACvB,cAAc,EAAE,IAAI;oBACpB,MAAM,EAAE,GAAG;oBACX,eAAe,EAAE;wBACf,WAAW,EAAE,EAAE;wBACf,cAAc,EAAE,EAAE;wBAClB,WAAW,EAAE,EAAE;wBACf,UAAU,EAAE,EAAE;wBACd,OAAO,EAAE,EAAE;wBACX,QAAQ,EAAE,EAAE;wBACZ,OAAO,EAAE,EAAE;wBACX,YAAY,EAAE,EAAE;wBAChB,WAAW,EAAE,EAAE;wBACf,WAAW,EAAE,EAAE;wBACf,eAAe,EAAE,EAAE;wBACnB,OAAO,EAAE,EAAE;wBACX,YAAY,EAAE,EAAE;wBAChB,mBAAmB,EAAE,EAAE;wBACvB,aAAa,EAAE,EAAE;wBACjB,YAAY,EAAE,EAAE;wBAChB,UAAU,EAAE,EAAE;wBACd,eAAe,EAAE,EAAE;wBACnB,MAAM,EAAE,EAAE;qBACX;oBACD,kBAAkB,EAAE;wBAClB,mBAAmB,EAAE,EAAE;wBACvB,wBAAwB,EAAE,EAAE;wBAC5B,oBAAoB,EAAE,EAAE;wBACxB,mBAAmB,EAAE,EAAE;wBACvB,wBAAwB,EAAE,EAAE;wBAC5B,sCAAsC,EAAE,EAAE;wBAC1C,sCAAsC,EAAE,EAAE;wBAC1C,yCAAyC,EAAE,EAAE;wBAC7C,qCAAqC,EAAE,EAAE;wBACzC,yBAAyB,EAAE,EAAE;wBAC7B,sBAAsB,EAAE,EAAE;wBAC1B,wBAAwB,EAAE,EAAE;wBAC5B,mBAAmB,EAAE,EAAE;qBACxB;oBACD,gBAAgB,EAAE;wBAChB,0BAA0B,EAAE,EAAE;wBAC9B,0BAA0B,EAAE,EAAE;wBAC9B,UAAU,EAAE,EAAE;qBACf;oBACD,aAAa,EAAE;wBACb,mBAAmB,EAAE,EAAE;qBACxB;oBACD,gBAAgB,EAAE;wBAChB,sBAAsB,EAAE,EAAE;qBAC3B;oBACD,aAAa,EAAE;wBACb,eAAe,EAAE,EAAE;wBACnB,cAAc,EAAE,EAAE;qBACnB;iBACF,CAAC;gBACF,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;gBAC1B,IAAI,CAAC,sBAAsB,GAAG,EAAE,CAAC;gBACjC,IAAI,CAAC,mBAAmB,GAAG,EAAE,CAAC;gBAC9B,IAAI,CAAC,2BAA2B,GAAG,EAAE,CAAC;gBACtC,IAAI,CAAC,qBAAqB,GAAG,EAAE,CAAC;gBAChC,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;gBACvB,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;gBAC7B,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;gBAC3B,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;gBAC3B,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;gBAC3B,IAAI,CAAC,qBAAqB,GAAG,EAAE,CAAC;gBAChC,IAAI,CAAC,oBAAoB,GAAG,EAAE,CAAC;gBAC/B,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;YAC/B,CAAC;YACD,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;gBAC/B,IAAI,CAAC,mBAAmB,EAAE,CAAC;YAC7B,CAAC;SACF,CAAC,CAAC;IACL,CAAC;IAED,kBAAkB;QAChB,GAAG;QACH,IAAI,CAAC,eAAe,CAAC,uBAAuB,EAAE,CAAC,SAAS,CACtD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,iBAAiB,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,YAAY,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;gBAC9D,OAAO;oBACL,IAAI,EAAE,IAAI,CAAC,QAAQ;oBACnB,IAAI,EAAE,IAAI,CAAC,IAAI;iBAChB,CAAC;YACJ,CAAC,CAAC,CAAC;QACL,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,2DAA2D,CAC5D,CAAC;QACJ,CAAC,CACF,CAAC;QACF,GAAG;QACH,IAAI,CAAC,eAAe,CAAC,+BAA+B,EAAE,CAAC,SAAS,CAC9D,CAAC,GAAG,EAAE,EAAE,GAAE,CAAC,EACX,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,2DAA2D,CAC5D,CAAC;QACJ,CAAC,CACF,CAAC;QACF,GAAG;QACH,IAAI,CAAC,eAAe,CAAC,uBAAuB,EAAE,CAAC,SAAS,CACtD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,iBAAiB,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,YAAY,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;gBAC9D,OAAO;oBACL,IAAI,EAAE,IAAI,CAAC,QAAQ;oBACnB,IAAI,EAAE,IAAI,CAAC,IAAI;iBAChB,CAAC;YACJ,CAAC,CAAC,CAAC;QACL,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,2DAA2D,CAC5D,CAAC;QACJ,CAAC,CACF,CAAC;QACF,GAAG;QACH,IAAI,CAAC,eAAe,CAAC,yBAAyB,EAAE,CAAC,SAAS,CACxD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,mBAAmB,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;gBAClE,OAAO;oBACL,IAAI,EAAE,IAAI,CAAC,QAAQ;oBACnB,IAAI,EAAE,IAAI,CAAC,IAAI;iBAChB,CAAC;YACJ,CAAC,CAAC,CAAC;QACL,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,2DAA2D,CAC5D,CAAC;QACJ,CAAC,CACF,CAAC;QACF,GAAG;QACH,IAAI,CAAC,eAAe,CAAC,4BAA4B,EAAE,CAAC,SAAS,CAC3D,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,kBAAkB,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,aAAa,CAAC,CAAC;QACvD,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,2DAA2D,CAC5D,CAAC;QACJ,CAAC,CACF,CAAC;QACF,GAAG;QACH,IAAI,CAAC,eAAe,CAAC,2BAA2B,EAAE,CAAC,SAAS,CAC1D,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,mBAAmB,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;gBAClE,OAAO;oBACL,IAAI,EAAE,IAAI,CAAC,QAAQ;oBACnB,IAAI,EAAE,IAAI,CAAC,IAAI;iBAChB,CAAC;YACJ,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,oBAAoB,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,eAAe,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;gBACpE,OAAO;oBACL,IAAI,EAAE,IAAI,CAAC,QAAQ;oBACnB,IAAI,EAAE,IAAI,CAAC,IAAI;iBAChB,CAAC;YACJ,CAAC,CAAC,CAAC;QACL,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,2DAA2D,CAC5D,CAAC;QACJ,CAAC,CACF,CAAC;QACF,GAAG;QACH,IAAI,CAAC,eAAe,CAAC,2BAA2B,EAAE,CAAC,SAAS,CAC1D,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,sBAAsB,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,iBAAiB,CAAC,CAAC,GAAG,CAC9D,CAAC,IAAI,EAAE,EAAE;gBACP,OAAO;oBACL,IAAI,EAAE,IAAI,CAAC,YAAY;oBACvB,IAAI,EAAE,IAAI,CAAC,IAAI;iBAChB,CAAC;YACJ,CAAC,CACF,CAAC;QACJ,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,2DAA2D,CAC5D,CAAC;QACJ,CAAC,CACF,CAAC;QACF,GAAG;QACH,IAAI,CAAC,eAAe,CAAC,kBAAkB,EAAE,CAAC,SAAS,CACjD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,0BAA0B,GAAG,GAAG,CAAC,MAAM,CAAC,CAC3C,qBAAqB,CACtB,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;gBACb,OAAO;oBACL,IAAI,EAAE,IAAI,CAAC,QAAQ;oBACnB,IAAI,EAAE,IAAI,CAAC,IAAI;iBAChB,CAAC;YACJ,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,wBAAwB,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,mBAAmB,CAAC,CAAC,GAAG,CAClE,CAAC,IAAI,EAAE,EAAE;gBACP,OAAO;oBACL,IAAI,EAAE,IAAI,CAAC,QAAQ;oBACnB,IAAI,EAAE,IAAI,CAAC,IAAI;iBAChB,CAAC;YACJ,CAAC,CACF,CAAC;YACF,IAAI,CAAC,sBAAsB,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,iBAAiB,CAAC,CAAC,GAAG,CAC9D,CAAC,IAAI,EAAE,EAAE;gBACP,OAAO;oBACL,IAAI,EAAE,IAAI,CAAC,QAAQ;oBACnB,IAAI,EAAE,IAAI,CAAC,IAAI;iBAChB,CAAC;YACJ,CAAC,CACF,CAAC;QACJ,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,2DAA2D,CAC5D,CAAC;QACJ,CAAC,CACF,CAAC;QACF,GAAG;QACH,IAAI,CAAC,eAAe,CAAC,0BAA0B,EAAE,CAAC,SAAS,CACzD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,cAAc,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;gBACxD,OAAO;oBACL,IAAI,EAAE,IAAI,CAAC,OAAO;oBAClB,IAAI,EAAE,IAAI,CAAC,IAAI;iBAChB,CAAC;YACJ,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,eAAe,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;gBACzD,OAAO;oBACL,IAAI,EAAE,IAAI,CAAC,QAAQ;oBACnB,IAAI,EAAE,IAAI,CAAC,IAAI;iBAChB,CAAC;YACJ,CAAC,CAAC,CAAC;QACL,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,2DAA2D,CAC5D,CAAC;QACJ,CAAC,CACF,CAAC;QACF,IAAI;QACJ,IAAI,CAAC,eAAe,CAAC,wBAAwB,EAAE,CAAC,SAAS,CACvD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,YAAY,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;gBACpD,OAAO;oBACL,IAAI,EAAE,IAAI,CAAC,QAAQ;oBACnB,IAAI,EAAE,IAAI,CAAC,IAAI;iBAChB,CAAC;YACJ,CAAC,CAAC,CAAC;QACL,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,2DAA2D,CAC5D,CAAC;QACJ,CAAC,CACF,CAAC;QACF,IAAI;QACJ,IAAI,CAAC,eAAe,CAAC,qCAAqC,EAAE,CAAC,SAAS,CACpE,CAAC,GAAG,EAAE,EAAE,GAAE,CAAC,EACX,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,2DAA2D,CAC5D,CAAC;QACJ,CAAC,CACF,CAAC;IACJ,CAAC;;8FAl9BU,uBAAuB;qHAAvB,uBAAuB;;QCnBpC,yEAGS;QAMO,+EAAmB;QAAA,0EAAuB;QAAA,4DAAC;QAAA,4DAAO;QAAC,0EACrD;QAAA,4DAAI;QACJ,4EAQD;QAFC,+IAAS,eAAW,IAAC;QAEtB,4DAAS;QAGZ,yEAAc;QACZ,8EAAkF;QAE9E,yEAAc;QACZ,0EAAkE;QACxD,0EAAa;QAAA,4DAAQ;QAAA,2EAAuB;QAAA,6DAAC;QAAA,4DAAO;QAC5D,qEAKA;QACA,4EAIK;QAJuC,8NAAsD,+FACvF,aAAS,cAAc,EAAE,MAAM,EAAC,aAAa,SAAS,IADiC;QAAlG,4DAIK;QAGP,0EAA0F;QAEtF,qEACF;QAAA,4DAAQ;QAAA,2EAAuB;QAAA,6DAAC;QAAA,4DAAO;QACvC,qEAKA;QACE,qFAUyB;QAA9B,6MAA6B;QAC1C,sIAIc;QAChB,4DAAgB;QAGA,0EAAkE;QACxD,mFAAsB;QAAA,4DAAQ;QAAA,2EAAuB;QAAA,6DAAC;QAAA,4DAAO;QACrE,4EAIK;QAJuC,iOAAyD,+FAC1F,aAAS,cAAc,EAAE,MAAM,EAAC,gBAAgB,SAAS,IADiC;QAArG,4DAIK;QAGP,0EAAkE;QACxD,0EAAa;QAAA,4DAAQ;QAAA,2EAAuB;QAAA,6DAAC;QAAA,4DAAO;QAC5D,4EAIK;QAJuC,8NAAsD,+FACvF,aAAS,cAAc,EAAE,MAAM,EAAC,aAAa,SAAS,IADiC;QAAlG,4DAIK;QAGP,0EAA0F;QAEtF,yEACF;QAAA,4DAAQ;QAAA,2EAAuB;QAAA,6DAAC;QAAA,4DAAO;QACvC,4EAII;QAJwC,6NAAqD,+FACvF,aAAS,cAAc,EAAE,MAAM,EAAC,SAAS,SAAS,IADqC;QAAjG,4DAII;QAEN,0EAAkE;QACxD,+EAAkB;QAAA,4DAAQ;QAClC,qFAE+D;QAD/D,kOAAkD,uGACvC,aAAS,cAAc,EAAE,MAAM,EAAC,SAAS,SAAS,IADX;QAElD,4DAAgB;QAElB,0EAA0F;QAEtF,uEACF;QAAA,4DAAQ;QAAA,2EAAuB;QAAA,6DAAC;QAAA,4DAAO;QACvC,kFAGyC;QAFzC,2MAA8B;QAG5B,sIAIc;QAAA,4DAAa;QAE/B,0EAAkE;QACxD,mEAAM;QAAA,4DAAQ;QACtB,qEAKA;QACA,6EAMK;QANuC,0NAAkD,+FACnF,aAAS,cAAc,EAAE,MAAM,EAAC,SAAS,SAAS,IADiC;QAA9F,4DAMK;QAGP,0EAAkE;QACxD,2EAAc;QAAA,4DAAQ;QAC9B,qEAKA;QACT,qFAEmE;QADnE,uOAAuD,uGAC7C,aAAS,cAAc,EAAE,MAAM,EAAC,cAAc,SAAS,IADV;QAEvD,4DAAgB;QAET,0EAAkE;QACxD,0EAAa;QAAA,4DAAQ;QAC7B,qEAKA;QACA,qFAEmE;QADnE,sOAAsD,uGAC3C,aAAS,cAAc,EAAE,MAAM,EAAC,aAAa,SAAS,IADX;QAEtD,4DAAgB;QAElB,0EAAkE;QACxD,0EAAa;QAAA,4DAAQ;QAC7B,qEAKE;QACF,2EAAyB;QACoB,2RAAS,qEAAe,KAAC;QAClE,2EAA8B;QACT,qMAA6B;QAAhD,4DAAmD;QAErD,2EAAgC;QAC9B,oEAA4B;QAC9B,4DAAM;QACN,iFAUE;QAPA,6RAAS,gFAAkB,IAAI,MAAY,KAAC,mOACpC,gFAAkB,KAAK,MAAY,KADC,+FAElC,0BAAsB,IAFY;QAH9C,4DAUE;QAIV,qEAAe;QACjB,4DAAM;QAER,+EAAwF;QAEpF,yEAAc;QACZ,0EAAkE;QACxD,2EAAc;QAAA,4DAAQ;QAAA,2EAAuB;QAAA,6DAAC;QAAA,4DAAO;QAC7D,qEAKA;QACA,qFAW4D;QAD5D,oNAAoC,2GACxB,kDAA8C,IADtB;QAEjD,sIAIc;QAChB,4DAAgB;QAGH,0EAA0F;QAEtF,mFACF;QAAA,4DAAQ;QAAA,4EAAuB;QAAA,8DAAC;QAAA,4DAAO;QACvC,sEAKA;QAEf,mFAGsC;QADtC,uNAAyC;QAEzC,wIAIc;QAAA,4DAAa;QAGd,2EAAkE;QACxD,6EAAe;QAAA,4DAAQ;QAAA,4EAAuB;QAAA,8DAAC;QAAA,4DAAO;QAC9D,sEAKA;QACA,sFAUkC;QAAlC,kNAAiC;QAC9C,wIAIc;QAChB,4DAAgB;QAGH,2EAAkE;QACxD,4EAAc;QAAA,4DAAQ;QAC9B,sEAKA;QACA,mFAGsC;QADtC,8MAAgC;QAEhC,wIAIc;QAAA,4DAAa;QAG7B,2EAA0F;QAEtF,0EACF;QAAA,4DAAQ;QACR,sEAKA;QACA,mFAIwC;QAFtC,4MAA8B,qGACtB,aAAS,cAAc,EAAE,MAAM,EAAC,YAAY,SAAS,IAD/B;QAG9B,wIAIc;QAAA,4DAAa;QAGjC,qEAAe;QACjB,4DAAM;QAER,gFAAwF;QAEpF,0EAAc;QACZ,2EAAkE;QACxD,+EAAiB;QAAA,4DAAQ;QAAA,4EAAuB;QAAA,8DAAC;QAAA,4DAAO;QAChE,sEAKA;QACA,mFAGwC;QADtC,iNAAmC;QAEnC,wIAIc;QAAA,4DAAa;QAG/B,2EAA0F;QAEtF,oEACF;QAAA,4DAAQ;QACR,sEAKA;QACA,mFAGwC;QADtC,wMAA0B;QAE1B,wIAIc;QAAA,4DAAa;QAIjC,qEAAe;QACjB,4DAAM;QAEV,qEAAe;QACjB,4DAAM;QACJ,gFAIG;QAEC,0EAAc;QACZ,2EAAkE;QACxD,oFAAsB;QAAA,4DAAQ;QACtC,sEAKA;QACA,mFAEwC;QAFyB,qNAAuC;QAGtG,wIAIc;QAAA,4DAAa;QAE/B,2EAAkE;QACxD,6FAA+B;QAAA,4DAAQ;QAC/C,6EAIK;QAJuC,+OAAsE,gGACvG,aAAS,oBAAoB,EAAE,MAAM,EAAC,0BAA0B,SAAS,IAD8B;QAAlH,4DAIK;QAGP,4EAAkE;QACxD,oFAAsB;QAAA,4DAAQ;QACtC,sEAKA;QACA,4EAAgC;QACmC,mPAAkE;QAAC,4DAAgB;QACpJ,8EAAqB;QAAA,yFAA4B;QAAA,4DAAQ;QAIzD,sFAAoI;QAAnE,mPAAkE;QAAC,4DAAgB;QACpJ,8EAAqB;QAAA,yFAA4B;QAAA,4DAAQ;QAG7D,wHAcM;QACR,qEAAe;QACjB,4DAAM;QAEN,2EAAiB;QACX,gFAAmB;QAAA,4DAAK;QAC5B,4EAAmC;QAEvB,8FAAgC;QAAA,4DAAQ;QAElD,4EAA4B;QAEc,uPAAsE;QAAC,4DAAgB;QAC7H,8EAAqB;QAAA,gEAAG;QAAA,4DAAQ;QAChC,sFAA6G;QAAvE,uPAAsE;QAAC,4DAAgB;QAC7H,8EAAqB;QAAA,+DAAE;QAAA,4DAAQ;QAIrC,4EAAmC;QAEvB,6GAA+C;QAAA,4DAAQ;QAEjE,4EAA4B;QAEc,qQAAoF;QAAC,4DAAgB;QAC3I,8EAAqB;QAAA,gEAAG;QAAA,4DAAQ;QAChC,sFAA2H;QAArF,qQAAoF;QAAC,4DAAgB;QAC3I,8EAAqB;QAAA,+DAAE;QAAA,4DAAQ;QAIrC,4EAAmC;QAEvB,6GAA+C;QAAA,4DAAQ;QAEjE,4EAA4B;QAEc,qQAAoF;QAAC,4DAAgB;QAC3I,8EAAqB;QAAA,gEAAG;QAAA,4DAAQ;QAChC,sFAA2H;QAArF,qQAAoF;QAAC,4DAAgB;QAC3I,8EAAqB;QAAA,+DAAE;QAAA,4DAAQ;QAIrC,4EAAmC;QAEvB,gHAAkD;QAAA,4DAAQ;QAEpE,4EAA4B;QAEc,wQAAuF;QAAC,4DAAgB;QAC9I,8EAAqB;QAAA,gEAAG;QAAA,4DAAQ;QAChC,sFAA8H;QAAxF,wQAAuF;QAAC,4DAAgB;QAC9I,8EAAqB;QAAA,+DAAE;QAAA,4DAAQ;QAIrC,4EAAmC;QAEvB,4GAA8C;QAAA,4DAAQ;QAEhE,4EAA4B;QAEc,oQAAmF;QAAC,4DAAgB;QAC1I,8EAAqB;QAAA,gEAAG;QAAA,4DAAQ;QAChC,sFAA0H;QAApF,oQAAmF;QAAC,4DAAgB;QAC1I,8EAAqB;QAAA,+DAAE;QAAA,4DAAQ;QAIrC,4EAAmC;QAEvB,gGAAkC;QAAA,4DAAQ;QAEpD,4EAA4B;QAEc,wPAAuE;QAAC,4DAAgB;QAC9H,8EAAqB;QAAA,gEAAG;QAAA,4DAAQ;QAChC,sFAA8G;QAAxE,wPAAuE;QAAC,4DAAgB;QAC9H,8EAAqB;QAAA,+DAAE;QAAA,4DAAQ;QAIrC,4EAAmC;QAEvB,6FAA+B;QAAA,4DAAQ;QAEjD,4EAA4B;QAEc,uPAAsE;QAAC,4DAAgB;QAC7H,8EAAqB;QAAA,gEAAG;QAAA,4DAAQ;QAChC,sFAA6G;QAAvE,uPAAsE;QAAC,4DAAgB;QAC7H,8EAAqB;QAAA,+DAAE;QAAA,4DAAQ;QAIrC,4EAAmC;QAEvB,2FAA6B;QAAA,4DAAQ;QAE/C,4EAA4B;QAEc,qPAAoE;QAAC,4DAAgB;QAC3H,8EAAqB;QAAA,gEAAG;QAAA,4DAAQ;QAChC,sFAA2G;QAArE,qPAAoE;QAAC,4DAAgB;QAC3H,8EAAqB;QAAA,+DAAE;QAAA,4DAAQ;QAIrC,4EAAmC;QAEvB,uFAAyB;QAAA,4DAAQ;QAE3C,4EAA4B;QAEc,kPAAiE;QAAC,4DAAgB;QACxH,8EAAqB;QAAA,gEAAG;QAAA,4DAAQ;QAChC,sFAAwG;QAAlE,kPAAiE;QAAC,4DAAgB;QACxH,8EAAqB;QAAA,+DAAE;QAAA,4DAAQ;QAMvC,gFAAmF;QAE/E,0EAAc;QACZ,2EAAkE;QACxD,uFAAyB;QAAA,4DAAQ;QACzC,6EAIK;QAJuC,qOAA4D,gGAC7F,aAAS,eAAe,EAAE,MAAM,EAAC,qBAAqB,SAAS,IAD8B;QAAxG,4DAIK;QAKT,qEAAe;QACjB,4DAAM;QAGR,gFAAsF;QAElF,0EAAc;QACZ,2EAAkE;QACxD,0FAA4B;QAAA,4DAAQ;QAC5C,6EAIK;QAJuC,2OAAkE,gGACnG,aAAS,kBAAkB,EAAE,MAAM,EAAC,wBAAwB,SAAS,IAD8B;QAA9G,4DAIK;QAGT,qEAAe;QACjB,4DAAM;QAER,gFAAqF;QAEjF,0EAAc;QACZ,2EAAkE;QACxD,0FAA4B;QAAA,4DAAQ;QAC5C,6EAIK;QAJuC,+OAAsE,gGACvG,aAAS,kBAAkB,EAAE,MAAM,EAAC,4BAA4B,SAAS,IAD8B;QAAlH,4DAIK;QAGP,2EAAkE;QACxD,0FAA4B;QAAA,4DAAQ;QAC5C,6EAIK;QAJuC,+OAAsE,gGACvG,aAAS,kBAAkB,EAAE,MAAM,EAAC,4BAA4B,SAAS,IAD8B;QAAlH,4DAIK;QAGP,2EAA0F;QAEtF,yEACF;QAAA,4DAAQ;QAAA,4EAAuB;QAAA,8DAAC;QAAA,4DAAO;QACvC,mFAGwC;QADtC,4MAA8B;QAE9B,wIAIc;QAAA,4DAAa;QAEjC,qEAAe;QACjB,4DAAM;QAER,gFAAmF;QAE/E,0EAAc;QACZ,2EAA0F;QAEtF,wFACF;QAAA,4DAAQ;QAAA,4EAAuB;QAAA,8DAAC;QAAA,4DAAO;QACvC,mFAGwC;QADtC,iNAAmC;QAEnC,wIAIc;QAAA,4DAAa;QAE/B,2EAA0F;QAEtF,kFACF;QAAA,4DAAQ;QAAA,4EAAuB;QAAA,8DAAC;QAAA,4DAAO;QACvC,mFAGwC;QADtC,gNAAkC;QAElC,wIAIc;QAAA,4DAAa;QAE/B,2HA6NM;QACR,qEAAe;QACjB,4DAAM;QAEV,4EAAgD;QAO5C,iJAAS,cAAU,IAAC;QAErB,4DAAS;QACV,+EAQC;QAFC,iJAAS,aAAS,IAAC;QAEpB,4DAAS;QAYd,4FAMD;QAOK,iSAAS,uEAAY,KAAC;QACvB,4DAAS;QAEV,+EAMC;QADC,iSAAS,uEAAY,KAAC;QACvB,4DAAS;;QAv5BN,0DAAwB;QAAxB,qFAAwB;QAKM,0DAAmB;QAAnB,4EAAmB;QAS3C,0DAAyC;QAAzC,kGAAyC;QAEG,0DAAsD;QAAtD,iHAAsD;QAelG,0DAAiE;QAAjE,0HAAiE;QAGpE,0DAA0B;QAA1B,uFAA0B;QAoBqB,0DAAyD;QAAzD,oHAAyD;QASzD,0DAAsD;QAAtD,iHAAsD;QAWtD,0DAAqD;QAArD,gHAAqD;QAQnB,0DAAqB;QAArB,8EAAqB;QASnD,0DAA2B;QAA3B,wFAA2B;QAgB3E,0DAAoH;QAApH,kLAAoH;QAExE,0DAAkD;QAAlD,6GAAkD;QAe9F,0DAAmG;QAAnG,4JAAmG;QAE9B,0DAAqB;QAArB,8EAAqB;QAW1F,0DAAoG;QAApG,6JAAoG;QAEtB,0DAAqB;QAArB,8EAAqB;QAWjG,0DAA8D;QAA9D,4HAA8D;QAKvC,0DAA6B;QAA7B,wFAA6B;QAchD,0DAAuB;QAAvB,gFAAuB;QAQC,0DAAmB;QAAnB,4EAAmB;QASjD,0DAAgH;QAAhH,yKAAgH;QAGhH,0DAA+B;QAA/B,4FAA+B;QA2B/B,0DAA6E;QAA7E,sIAA6E;QAGpC,0DAAsC;QAAtC,mGAAsC;QAiB/E,0DAA6G;QAA7G,sKAA6G;QAG7G,0DAAgC;QAAhC,6FAAgC;QAwBhC,0DAAuF;QAAvF,gJAAuF;QAEvC,0DAA+B;QAA/B,4FAA+B;QAmB/E,0DAAmF;QAAnF,4IAAmF;QAEnC,0DAA6B;QAA7B,0FAA6B;QAe/C,0DAAmB;QAAnB,4EAAmB;QASjD,0DAAuE;QAAvE,gIAAuE;QAEvB,0DAAkC;QAAlC,+FAAkC;QAmBlF,0DAA8E;QAA9E,uIAA8E;QAEpD,0DAAwB;QAAxB,qFAAwB;QAmBxD,0DAAmB;QAAnB,4EAAmB;QAWf,0DAAmF;QAAnF,4IAAmF;QAEzD,0DAAsC;QAAtC,mGAAsC;QAWpB,0DAAsE;QAAtE,iIAAsE;QAalH,0DAAmF;QAAnF,4IAAmF;QAGhB,0DAAkE;QAAlE,6HAAkE;QAKlE,0DAAkE;QAAlE,6HAAkE;QAIpE,0DAA6F;QAA7F,6JAA6F;QA0BtH,2DAAsE;QAAtE,iIAAsE;QAEtE,0DAAsE;QAAtE,iIAAsE;QAWtE,0DAAoF;QAApF,+IAAoF;QAEpF,0DAAoF;QAApF,+IAAoF;QAWpF,0DAAoF;QAApF,+IAAoF;QAEpF,0DAAoF;QAApF,+IAAoF;QAWpF,0DAAuF;QAAvF,kJAAuF;QAEvF,0DAAuF;QAAvF,kJAAuF;QAWvF,0DAAmF;QAAnF,8IAAmF;QAEnF,0DAAmF;QAAnF,8IAAmF;QAWnF,0DAAuE;QAAvE,kIAAuE;QAEvE,0DAAuE;QAAvE,kIAAuE;QAWvE,0DAAsE;QAAtE,iIAAsE;QAEtE,0DAAsE;QAAtE,iIAAsE;QAWtE,0DAAoE;QAApE,+HAAoE;QAEpE,0DAAoE;QAApE,+HAAoE;QAWpE,0DAAiE;QAAjE,4HAAiE;QAEjE,0DAAiE;QAAjE,4HAAiE;QAO9E,0DAAmB;QAAnB,4EAAmB;QAKA,0DAA4D;QAA5D,uHAA4D;QAa5E,0DAAmB;QAAnB,4EAAmB;QAKH,0DAAkE;QAAlE,6HAAkE;QAUnF,0DAAmB;QAAnB,4EAAmB;QAKF,0DAAsE;QAAtE,iIAAsE;QAStE,0DAAsE;QAAtE,iIAAsE;QAWlE,0DAA6B;QAA7B,0FAA6B;QAapD,0DAAmB;QAAnB,4EAAmB;QAOI,0DAAkC;QAAlC,+FAAkC;QAclC,0DAAoC;QAApC,iGAAoC;QAUpE,0DAA2G;QAA3G,+KAA2G;QAyOjI,0DAAwB;QAAxB,qFAAwB;QASxB,0DAAwB;QAAxB,qFAAwB;QAkB9B,0DAAkB;QAAlB,2EAAkB;;;;;;;;;;;;;;;;;;ACx5BqC;;;AAOxD,MAAM,6BAA6B;IACxC,YAAoB,IAAgB;QAAhB,SAAI,GAAJ,IAAI,CAAY;IAAG,CAAC;IACxC,uBAAuB;QACrB,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,8DAA8D,CAC/D,CAAC;IACJ,CAAC;IACD,+BAA+B;QAC7B,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,sEAAsE,CACvE,CAAC;IACJ,CAAC;IACD,uBAAuB;QACrB,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,8DAA8D,CAC/D,CAAC;IACJ,CAAC;IACD,yBAAyB;QACvB,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,gEAAgE,CACjE,CAAC;IACJ,CAAC;IACD,4BAA4B;QAC1B,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,mEAAmE,CACpE,CAAC;IACJ,CAAC;IACD,2BAA2B;QACzB,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,kEAAkE,CACnE,CAAC;IACJ,CAAC;IACD,2BAA2B;QACzB,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,kEAAkE,CACnE,CAAC;IACJ,CAAC;IACD,kBAAkB;QAChB,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,yDAAyD,CAC1D,CAAC;IACJ,CAAC;IACD,0BAA0B;QACxB,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,iEAAiE,CAClE,CAAC;IACJ,CAAC;IACD,wBAAwB;QACtB,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,+DAA+D,CAChE,CAAC;IACJ,CAAC;IACD,qCAAqC;QACnC,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,4EAA4E,CAC7E,CAAC;IACJ,CAAC;IACD,kBAAkB;QAChB,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,mEAAmE,CACpE,CAAC;IACJ,CAAC;IACD,mBAAmB,CAAC,IAAI,EAAE,MAAW;QACnC,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CACnB,0DAA0D,EAC1D,IAAI,EACJ;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE,CAAC,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC;SACjD,CACF,CAAC;IACJ,CAAC;IACD,qBAAqB,CAAC,IAAI,EAAE,MAAW;QACrC,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,4DAA4D,EAC5D,IAAI,EACJ;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE,CAAC,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC;SACjD,CACF,CAAC;IACJ,CAAC;;0GA/EU,6BAA6B;8HAA7B,6BAA6B,WAA7B,6BAA6B,mBAF5B,MAAM;;;;;;;;;;;;;;;;;;;;;;ACLuB;AAKiB;;;;;AAKrD,MAAM,WAAW;IAOtB,YAC4B,QAAkB,EACpC,cAA8B,EAC9B,gBAAkC,EAClC,gBAAkC;QAHhB,aAAQ,GAAR,QAAQ,CAAU;QACpC,mBAAc,GAAd,cAAc,CAAgB;QAC9B,qBAAgB,GAAhB,gBAAgB,CAAkB;QAClC,qBAAgB,GAAhB,gBAAgB,CAAkB;QAV5C,qBAAgB,GAAG;YACjB,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,SAAS,EAAE;YACxC,EAAE,KAAK,EAAE,UAAU,EAAE,UAAU,EAAE,SAAS,EAAE;YAC5C,EAAE,KAAK,EAAE,uBAAuB,EAAE,UAAU,EAAE,cAAc,EAAE;SAC/D,CAAC;QAoDF,mBAAc,GAAG,IAAI,iDAAe,CAAM;YACxC,EAAE,IAAI,EAAE,SAAS,EAAE;YACnB,EAAE,IAAI,EAAE,QAAQ,EAAE;SACnB,CAAC,CAAC;QAEH,mBAAc,GAAG,IAAI,iDAAe,CAAU,KAAK,CAAC,CAAC;QAQrD,oBAAe,GAAG,IAAI,iDAAe,CAAQ,IAAI,CAAC,gBAAgB,CAAC,CAAC;QASpE,qCAAgC,GAAG,IAAI,yCAAO,EAAS,CAAC;QASxD,kBAAa,GAAG,IAAI,iDAAe,CAAU,KAAK,CAAC,CAAC;QACpD,qBAAgB,GAAG,IAAI,iDAAe,CAAU,IAAI,CAAC,CAAC;QAY9C,qBAAgB,GAAG,IAAI,iDAAe,CAAS,EAAE,CAAC,CAAC;QAC3D,eAAU,GAAG,IAAI,CAAC,gBAAgB,CAAC,YAAY,EAAE,CAAC;QAkBlD,iBAAY,GAAG,IAAI,iDAAe,CAAQ,EAAE,CAAC,CAAC;IA5G3C,CAAC;IAEJ,gBAAgB,CAAC,WAAgB;QAC/B,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,CAAC;QAC5B,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC;YACtB,QAAQ,EAAE,SAAS;YACnB,OAAO,EAAE,SAAS;YAClB,MAAM,EAAE,WAAW;SACpB,CAAC,CAAC;IACL,CAAC;IACD,gBAAgB,CAAC,WAAgB;QAC/B,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,CAAC;QAC5B,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC;YACtB,QAAQ,EAAE,MAAM;YAChB,OAAO,EAAE,SAAS;YAClB,MAAM,EAAE,WAAW;SACpB,CAAC,CAAC;IACL,CAAC;IAED,WAAW,CAAC,KAAa;QACvB,IAAI,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,cAAc,CAC1C,WAAW,CACO,CAAC;QAErB,IAAI,SAAS,EAAE;YACb,SAAS,CAAC,IAAI,GAAG,KAAK,GAAG,MAAM,CAAC;SACjC;QAED,oBAAoB;QACpB,2DAA2D;QAC3D,kBAAkB;QAClB,6DAA6D;QAC7D,4BAA4B;QAC5B,4DAA4D;QAC5D,UAAU;QACV,WAAW;QACX,kBAAkB;QAClB,6DAA6D;QAC7D,4BAA4B;QAC5B,8DAA8D;QAC9D,UAAU;QACV,IAAI;QACJ,wBAAwB;IAC1B,CAAC;IAQD,oBAAoB;QAClB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACjC,CAAC;IACD,mBAAmB;QACjB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAClC,CAAC;IAID,iBAAiB;QACf,OAAO,IAAI,CAAC,eAAe,CAAC;IAC9B,CAAC;IACD,iBAAiB,CAAC,GAAQ;QACxB,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IACjC,CAAC;IAID,kCAAkC,CAAC,+BAAoC;QACrE,IAAI,CAAC,gCAAgC,CAAC,IAAI,CAAC,+BAA+B,CAAC,CAAC;IAC9E,CAAC;IACD,kCAAkC;QAChC,OAAO,IAAI,CAAC,gCAAgC,CAAC,YAAY,EAAE,CAAC;IAC9D,CAAC;IAID,oBAAoB,CAAC,GAAQ;QAC3B,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC/B,CAAC;IACD,uBAAuB,CAAC,GAAQ;QAC9B,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAClC,CAAC;IAED,eAAe,CAAC,IAAY;QAC1B,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACnC,CAAC;IAKD,YAAY,CAAC,KAAa;QACxB,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACpC,CAAC;IAED,SAAS,CAAC,GAAW;QACnB,OAAO,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,SAAS,EAAE,CAAC;IACpD,CAAC;IAED,WAAW,CAAC,QAAgB;QAC1B,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;IACtC,CAAC;IAED,YAAY;QACV,OAAO,IAAI,CAAC,gBAAgB,CAAC,YAAY,CAAC;IAC5C,CAAC;IAID,cAAc;QACZ,OAAO,IAAI,CAAC,YAAY,CAAC;IAC3B,CAAC;IACD,cAAc,CAAC,GAAQ;QACrB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC9B,CAAC;;sEA/HU,WAAW,yDAQZ,qDAAQ;4GARP,WAAW,WAAX,WAAW,mBAFV,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IEUhB,6EAAsD;IACpD,uDACF;IAAA,4DAAS;;;IADP,0DACF;IADE,4FACF;;;;;IAqBQ,0EAIC;IAFC,mLAAS,wBAAwB,IAAC;IAGlC,wEASC;IADC,uZAAS,uGAAiC,KAAC;IAC5C,4DAAI;IACL,wFAcC;IALC,6nBACqB,wCAC1B,IAAI,CAAC,SAAoB,wGACpB,KAAC,uXACc,qGAA+B,KAD7C;IAGH,4DAAgB;;;;IAxBd,0DAKE;IALF,4OAKE;IAMF,0DAAyC;IAAzC,8GAAyC;;;IAzB/C,yEAMC;IACC,uDACA;IAAA,gJA+BM;IACR,4DAAK;;;;;IAnCH,iFAAyB;IAFzB,0FAA6B;IAI7B,0DACA;IADA,0FACA;IACG,0DAAgC;IAAhC,oGAAgC;;;;IAoCnC,2EAIC;IACC,mEAA4B;IAC5B,4EAKE;IADA,6dAAS,yGAA0C,UAAU,CAAC,KAAC;IAJjE,4DAKE;;IARF,2EAAuB;;;IAJ3B,qEAA4C;IAC1C,iJAYO;IACT,4DAAK;;;;IAZA,0DAAgC;IAAhC,oGAAgC;;;IA/CvC,qEAAI;IACF,wIAwCK;IACP,4DAAK;IAEL,yEAAuB;IACrB,wIAcK;IACP,4DAAK;;;;IA1De,0DAAY;IAAZ,gFAAY;IA2CV,0DAAS;IAAT,gFAAS;;;;IAyB3B,yEAAsH;IAA7C,saAAS,iGAA2B,MAAM,CAAC,KAAC;IACnH,uDACF;IAAA,4DAAK;;;;IADH,0DACF;IADE,yGACF;;;;IACA,yEAGC;IAOK,0aAAS,iGAA2B,OAAO,CAAC,KAAC;IAC9C,4DAAS;IACV,6EAMC;IADC,0aAAS,+FAAyB,KAAC;IACpC,4DAAS;;;IAtBhB,wEAAyD;IACvD,uJAEK;IACL,uJAoBK;IACP,qEAAe;;;;IAxBR,0DAA4B;IAA5B,gGAA4B;IAI9B,0DAA6B;IAA7B,iGAA6B;;;IANpC,yEAA+B;IAC7B,4JAyBe;IACjB,4DAAK;;;;IA3BD,sFAAyB;IACG,0DAAY;IAAZ,gFAAY;;;IA6B5C,qEAAI;IAC+B,yEAAc;IAAA,4DAAK;;;IAAhD,0DAA4B;IAA5B,wFAA4B;;;IAIlC,uDAOF;;;IAPE,uRAOF;;;IA9IN,yEAAqE;IAG/D,kEAAiC;IACjC,kGACF;IAAA,4DAAM;IACN,0EAAoB;IAClB,wEAOU;IACZ,4DAAM;IAER,0EAAoB;IAClB,iIAES;IACT,kFASC;IACC,4IA8Dc;IACd,4IAkCc;IACd,6IAIc;IACd,6IAQc;IAChB,4DAAU;;;IA7HgB,0DAA0B;IAA1B,6FAA0B;IAKlD,0DAAgB;IAAhB,gFAAgB;;;IA2HtB,0EAAkF;IAE1D,qEAAsC;IAAA,4DAAM;IAElE,0EAAiB;IAGX,qHACF;IAAA,4DAAI;IACH,wEAOS;IACZ,4DAAM;;;IAYJ,0EAAgC;IAC9B,uDAEF;IAAA,4DAAM;;;IAFJ,0DAEF;IAFE,wLAEF;;;IASE,qEAAI;IACE,qEAAU;IAAA,4DAAK;IACnB,qEAAI;IAAA,uEAAY;IAAA,4DAAK;IACrB,qEAAI;IAAA,qEAAU;IAAA,4DAAK;IACnB,qEAAI;IAAA,mEAAQ;IAAA,4DAAK;IACjB,qEAAI;IAAA,6EAAiB;IAAA,4DAAK;;;IAI5B,qEAAI;IAEA,uEAIE;IACJ,4DAAK;IACL,qEAAI;IACF,uEAIE;IACJ,4DAAK;IACL,qEAAI;IACF,uEAIE;IACJ,4DAAK;IACL,qEAAI;IACF,uEAKE;IACJ,4DAAK;IACL,qEAAI;IACF,wEAKE;IACJ,4DAAK;;;IAjCD,0DAAqC;IAArC,yGAAqC;IACrC,0EAAiB;IAMjB,0DAAuC;IAAvC,2GAAuC;IACvC,0EAAiB;IAMjB,0DAAqC;IAArC,yGAAqC;IACrC,0EAAiB;IAMjB,0DAAsC;IAAtC,0GAAsC;IACtC,0EAAiB;IAOjB,0DAAmC;IAAnC,uGAAmC;IACnC,0EAAiB;;;;AD1NxB,MAAM,wBAAwB;IAwDnC,YACU,MAAc,EACd,WAAwB,EACxB,KAAqB,EACrB,QAAkB,EAClB,uBAAgD;QAJhD,WAAM,GAAN,MAAM,CAAQ;QACd,gBAAW,GAAX,WAAW,CAAa;QACxB,UAAK,GAAL,KAAK,CAAgB;QACrB,aAAQ,GAAR,QAAQ,CAAU;QAClB,4BAAuB,GAAvB,uBAAuB,CAAyB;QA5D1D,cAAS,GAAW,qCAAqC,CAAC;QAG1D,wBAAmB,GAAU,EAAE,CAAC;QAEhC,oBAAe,GAAY,KAAK,CAAC;QAEjC,4BAAuB,GAAY,KAAK,CAAC;QACzC,0BAAqB,GAAY,KAAK,CAAC;QACvC,oBAAe,GAAY,KAAK,CAAC;QACjC,kCAA6B,GAAY,KAAK,CAAC;QAC/C,kCAA6B,GAAY,KAAK,CAAC;QAC/C,+BAA0B,GAAY,KAAK,CAAC;QAC5C,2BAAsB,GAAY,KAAK,CAAC;QACxC,yBAAoB,GAAY,KAAK,CAAC;QAEtC,eAAU,GAAG,MAAM,CAAC,IAAI,CAAC;QAMzB,sBAAiB,GAAQ,EAAE,CAAC;QAC5B,mBAAc,GAAQ,EAAE,CAAC;QAIzB,iBAAY,GAAG,KAAK,CAAC;QACrB,0BAAqB,GAAG,EAAE,CAAC;QAE3B,+BAA0B,GAAU,EAAE,CAAC;QACvC,6BAAwB,GAAU,EAAE,CAAC;QACrC,uBAAkB,GAAU,EAAE,CAAC;QAC/B,qCAAgC,GAAU,EAAE,CAAC;QAC7C,oCAA+B,GAAU,EAAE,CAAC;QAC5C,iCAA4B,GAAU,EAAE,CAAC;QACzC,8BAAyB,GAAU,EAAE,CAAC;QACtC,4BAAuB,GAAU,EAAE,CAAC;QAEpC,SAAI,GAAU;YACZ,EAAE,KAAK,EAAE,cAAc,EAAE,MAAM,EAAE,cAAc,EAAE,KAAK,EAAE,KAAK,EAAE;YAC/D,EAAE,KAAK,EAAE,YAAY,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAE;YACvD,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE;YAC/C;gBACE,KAAK,EAAE,oBAAoB;gBAC3B,MAAM,EAAE,uBAAuB;gBAC/B,KAAK,EAAE,KAAK;aACb;YACD,EAAE,KAAK,EAAE,gBAAgB,EAAE,MAAM,EAAE,mBAAmB,EAAE,KAAK,EAAE,KAAK,EAAE;YACtE,EAAE,KAAK,EAAE,aAAa,EAAE,MAAM,EAAE,cAAc,EAAE,KAAK,EAAE,KAAK,EAAE;YAC9D,EAAE,KAAK,EAAE,WAAW,EAAE,MAAM,EAAE,YAAY,EAAE,KAAK,EAAE,KAAK,EAAE;YAC1D,EAAE,KAAK,EAAE,YAAY,EAAE,MAAM,EAAE,YAAY,EAAE,KAAK,EAAE,KAAK,EAAE;SAC5D,CAAC;QAEF,YAAO,GAAG,IAAI,CAAC;IAOZ,CAAC;IAEJ,QAAQ;QACN,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QAExC,MAAM,cAAc,GAAG,2BAA2B,CAAC;QACnD,IAAI,CAAC,WAAW;aACb,SAAS,CAAC,cAAc,CAAC;aACzB,IAAI,CAAC,CAAC,eAAuB,EAAE,EAAE;YAChC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC;QACjD,CAAC,CAAC,CAAC;QAEL,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;YACjC,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,uBAAuB;aACzB,yBAAyB,EAAE;aAC3B,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;iBAC/C;aACF;iBAAM;gBACL,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;oBACf,IAAI,CAAC,sBAAsB,GAAG,GAAG,CAAC;oBAClC,IAAI,CAAC,mBAAmB,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC;oBACvC,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;oBAC7B,IAAI,CAAC,aAAa,EAAE,CAAC;oBACrB,IAAI,CAAC,gBAAgB,EAAE,CAAC;iBACzB;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;oBAC9C,IAAI,CAAC,mBAAmB,GAAG,EAAE,CAAC;oBAC9B,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;iBAC7B;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,OAAO,CAAC,GAAG,CAAC,iCAAiC,EAAE,GAAG,CAAC,CAAC;YACpD,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAC9B,CAAC,CACF;aACA,GAAG,CAAC,GAAG,EAAE;YACR,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,CAAC,CAAC;IACP,CAAC;IAED,aAAa;QACX,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC,CAAC,QAAQ,EAAE,EAAE;YAC5C,QAAQ,CAAC,gBAAgB,CAAC,GAAG,GAAG,CAAC;YACjC,QAAQ,CAAC,oBAAoB,CAAC,GAAG,GAAG,QAAQ,CAAC,oBAAoB,CAAC,EAAE,CAAC;YACrE,QAAQ,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAC/C,QAAQ,CAAC,aAAa,CAAC,CACxB,CAAC;QACJ,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;IACvB,CAAC;IAED,gBAAgB;QACd,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,sBAAsB,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;YACxE,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;QACtC,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;YACxD,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;QACtC,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,sBAAsB,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;YACpE,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;QACtC,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,sBAAsB,CACnD,oBAAoB,CACrB,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;YACb,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;QACtC,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,cAAc,GAAG,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC,CAAC;QACnD,IAAI,eAAe,GAAG,IAAI,CAAC,sBAAsB,CAAC,WAAW,CAAC,GAAG,CAC/D,CAAC,IAAI,EAAE,EAAE;YACP,IAAI,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;YAC/C,OAAO,UAAU,CAAC;QACpB,CAAC,CACF,CAAC;QACF,IAAI,CAAC,WAAW,GAAG,CAAC,GAAG,IAAI,GAAG,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAChE,CAAC,KAAK,EAAE,EAAE;YACR,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC;QACxC,CAAC,CACF,CAAC;QACF,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,sBAAsB,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;YAClE,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;QACtC,CAAC,CAAC,CAAC;IACL,CAAC;IACD,gBAAgB,CAAC,IAAI;QACnB,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,qBAAqB,CAAC;QACxD,IAAI,CAAC,qBAAqB,CAAC,cAAc,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC;QAClE,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC;QAClD,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;QAChD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;IAC3B,CAAC;IACD,iBAAiB,CAAC,IAAS,EAAE,IAAS;QACpC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;YACnB,QAAQ;YACR,mBAAmB;YACnB,uBAAuB;YACvB,IAAI,CAAC,EAAE;YACP,IAAI;SACL,CAAC,CAAC;IACL,CAAC;IAED,WAAW;QACT,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;YAC5C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;QACjD,CAAC,EAAE,GAAG,CAAC,CAAC;QACR,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,EAAE,IAAI,CAAC,CAAC;IACX,CAAC;IAED,sBAAsB,CAAC,KAAK;QAC1B,IAAI,CAAC,OAAO,KAAK,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,KAAK,SAAS,CAAC,CAAC;IAC7D,CAAC;IAED,oBAAoB,CAAC,KAAK;QACxB,IAAI,CAAC,OAAO,KAAK,SAAS,CAAC,GAAG,KAAK,CAAC;IACtC,CAAC;IAED,oBAAoB,CAAC,KAAU;QAC7B,OAAO,IAAI,CAAC,iBAAiB,KAAK,EAAE,CAAC,CAAC;IACxC,CAAC;IAED,iBAAiB,CAAC,EAAe,EAAE,KAAU;QAC3C,IAAI,CAAC,iBAAiB,KAAK,EAAE,CAAC,GAAG,EAAE,CAAC,KAAK,CAAC;IAC5C,CAAC;IAED,kBAAkB,CAAC,KAAU;QAC3B,OAAO,IAAI,CAAC,OAAO,KAAK,SAAS,CAAC,CAAC;IACrC,CAAC;IAED,kBAAkB,CAAC,KAAU;QAC3B,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC;IACrB,CAAC;;gGAlNU,wBAAwB;sHAAxB,wBAAwB;QCZrC,qHAiJM;QACN,oHAoBM;QACN,sEAAK;QAED,qMAA0B,4FAGhB,iBAAa,IAHG;QAK1B,oIAKc;QACd,6EAKC;QACC,qIAQc;QACd,sIAwCc;QAChB,4DAAU;;QA5OqB,gGAAgC;QAkJvC,0DAAoD;QAApD,wHAAoD;QAyB5E,0DAAyC;QAAzC,gIAAyC;QAFzC,qFAA0B;QAexB,0DAA2B;QAA3B,gIAA2B;QAH3B,4FAA+B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChLb;AAE0B;AACN;AACD;;;;;;;;;;;;;;;IC8FjC,0EAA2B;IACnB,uDAAiB;IAAA,4DAAM;;;IAAvB,0DAAiB;IAAjB,gFAAiB;;;IAiBzB,0EAA2B;IACnB,uDAAiB;IAAA,4DAAM;;;IAAvB,0DAAiB;IAAjB,gFAAiB;;;IAiBzB,0EAA2B;IACnB,uDAAiB;IAAA,4DAAM;;;IAAvB,0DAAiB;IAAjB,gFAAiB;;;IA2BzB,0EAAwB;IACtB,uDACF;IAAA,4DAAM;;;IADJ,0DACF;IADE,gGACF;;;IAoBJ,0EAAoE;IAClE,uDAGF;IAAA,4DAAM;;;IAHJ,0DAGF;IAHE,oRAGF;;;IAkBY,2EAA+C;IAAA,4DAAC;IAAA,4DAAO;;;IAL3D,qEAGC;IACC,uDACE;IAAA,wJAAuD;IAC3D,4DAAK;;;IAJH,iFAAyB;IAEzB,0DACE;IADF,yFACE;IAAwB,0DAAqB;IAArB,qFAAqB;;;;IAK/C,2EAIC;IACC,mEAA4B;IAC5B,4EAOE;IAHA,oeACyB,0GACnC,UAAU,CAAC;IANH,4DAOE;;IAVF,2EAAuB;;;IAJ3B,qEAA4C;IAC1C,wJAcO;IACT,4DAAK;;;IAdA,0DAA4D;IAA5D,gIAA4D;;;IAZnE,qEAAI;IACF,+IAMK;IACP,4DAAK;IACL,yEAAuB;IACrB,+IAgBK;IACP,4DAAK;;;IAzBe,0DAAS;IAAT,iFAAS;IAQP,0DAAS;IAAT,iFAAS;;;;;IAyB/B,qEAAI;IAEA,uEAIE;IACJ,4DAAK;IACL,qEAAI;IACF,uEAIE;IACJ,4DAAK;IACL,qEAAI;IAIA,2UAAa,0FAC1B,IAD6C,8XAIT,8HACtB,KAL+B;IASjC,4DAAgB;IAEnB,qEAAI;IAKA,mUAAa,uFAC1B,IAD0C,yUAGrB,iHAA2C,KAHtB;IAJ/B,4DAaE;IAEJ,yEAA+B;IAS3B,oUAAa,2FAC1B,IAD8C;IARnC,4DASE;IAEJ,sEAAI;IAIA,4UAAa,0FAC1B,IAD6C;IAMjC,4DAAgB;;;;IAhEf,0DAAqC;IAArC,yGAAqC;IACrC,0EAAiB;IAMjB,0DAAuC;IAAvC,2GAAuC;IACvC,0EAAiB;IAMjB,0DAAmC;IAAnC,gGAAmC;IAkBnC,0DAAmC;IAAnC,uGAAmC;IAFnC,sFAAyB;IAiBzB,0DAEE;IAFF,2LAEE;IAQF,0DAAqC;IAArC,kGAAqC;;;IAY3C,qEAAI;IAC+B,yEAAc;IAAA,4DAAK;;;IAAhD,0DAA4B;IAA5B,yFAA4B;;;;IAxHxC,0EAAoE;IAUhE,mJA6Bc;IACd,qJA6Ec;IACd,mJAIc;IAChB,4DAAU;;;IAnHR,0DAA2B;IAA3B,+HAA2B;IAL3B,8FAA8B;;ADlLjC,MAAM,+BAA+B;IAuE1C,YACU,mBAAwC,EACxC,EAAsB,EACtB,KAAqB,EACrB,MAAc,EACd,uBAAgD,EAChD,WAAwB,EACxB,cAA8B;QAN9B,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,OAAE,GAAF,EAAE,CAAoB;QACtB,UAAK,GAAL,KAAK,CAAgB;QACrB,WAAM,GAAN,MAAM,CAAQ;QACd,4BAAuB,GAAvB,uBAAuB,CAAyB;QAChD,gBAAW,GAAX,WAAW,CAAa;QACxB,mBAAc,GAAd,cAAc,CAAgB;QA7ExC,iBAAY,GAAG,sBAAsB,CAAC;QAGtC,iBAAY,GAAU,EAAE,CAAC;QACzB,sBAAiB,GAAG,KAAK,CAAC;QAC1B,wBAAmB,GAAU,EAAE,CAAC;QAEhC,mBAAc,GAAU,EAAE,CAAC;QAE3B,+BAA0B,GAAU,EAAE,CAAC;QACvC,yBAAoB,GAAU,EAAE,CAAC;QACjC,0BAAqB,GAAU,EAAE,CAAC;QAElC,6BAAwB,GAAU,EAAE,CAAC;QAErC,wBAAmB,GAAY,KAAK,CAAC;QACrC,sBAAiB,GAAQ,EAAE,CAAC;QAE5B,mBAAc,GAAG,KAAK,CAAC;QAIvB,eAAU,GAAG,EAAE,CAAC;QAChB,yBAAoB,GAAG,EAAE,CAAC;QAC1B,2BAAsB,GAAQ,EAAE,CAAC;QACjC,iBAAY,GAAQ,EAAE,CAAC;QAIvB,gBAAW,GAAG,KAAK,CAAC;QACpB,8BAAyB,GAAG,EAAE,CAAC;QAC/B,SAAI,GAAG,KAAK,CAAC;QAGb,SAAI,GAAU;YACZ;gBACE,KAAK,EAAE,WAAW;gBAClB,MAAM,EAAE,YAAY;gBACpB,KAAK,EAAE,KAAK;gBACZ,WAAW,EAAE,KAAK;aACnB;YACD;gBACE,KAAK,EAAE,aAAa;gBACpB,MAAM,EAAE,cAAc;gBACtB,KAAK,EAAE,KAAK;gBACZ,WAAW,EAAE,KAAK;aACnB;YACD,EAAE,KAAK,EAAE,UAAU,EAAE,MAAM,EAAE,WAAW,EAAE,KAAK,EAAE,KAAK,EAAE,WAAW,EAAE,IAAI,EAAE;YAC3E;gBACE,KAAK,EAAE,kBAAkB;gBACzB,MAAM,EAAE,mBAAmB;gBAC3B,KAAK,EAAE,KAAK;gBACZ,WAAW,EAAE,IAAI;aAClB;YACD;gBACE,KAAK,EAAE,aAAa;gBACpB,MAAM,EAAE,cAAc;gBACtB,KAAK,EAAE,KAAK;gBACZ,WAAW,EAAE,KAAK;aACnB;YACD;gBACE,KAAK,EAAE,YAAY;gBACnB,MAAM,EAAE,YAAY;gBACpB,KAAK,EAAE,KAAK;gBACZ,WAAW,EAAE,IAAI;aAClB;SACF,CAAC;QAaA,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,mDAAG,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;IAC1E,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,MAAM,CAAC;QAClD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CACjE,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,CAAC,CACnE,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;QAC7D,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;YACjC,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,gBAAgB,EAAE,CAAC;QAExB,IAAI,CAAC,IAAI,IAAI,MAAM,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,IAAI,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;QACzE,IAAI,IAAI,CAAC,IAAI,IAAI,OAAO,EAAE;YACxB,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;YACvB,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC;SAC1B;QAED,IAAI;QACJ,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC,KAAK,CAC1C,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAClC,CAAC;QACF,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;QAE3E,IAAI,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,CAAC;QACjE,IAAI,MAAM,GAAG,IAAI,CAAC;QAClB,IAAI,MAAM,GAAG,IAAI,CAAC;QAClB,IAAI,SAAS,EAAE;YACb,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC,CAAC;YAC7D,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC;SACzD;QAED,IAAI,MAAM,EAAE;YACV,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;SACjC;QACD,IAAI,MAAM,EAAE;YACV,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;YACnC,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC;YACzB,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;SACxB;QAED,IAAI;QAEJ,IAAI,CAAC,uBAAuB;aACzB,uBAAuB,EAAE;aACzB,IAAI,CAAC,oDAAI,CAAC,CAAC,CAAC,CAAC;aACb,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;iBAC/C;aACF;iBAAM;gBACL,IAAI,GAAG,CAAC,MAAM,CAAC,EAAE;oBACf,IAAI,CAAC,oBAAoB,GAAG,GAAG,CAAC,MAAM,CAAC,CACrC,uBAAuB,CACxB,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE;wBACZ,OAAO,EAAE,IAAI,EAAE,GAAG,CAAC,aAAa,EAAE,IAAI,EAAE,GAAG,CAAC,aAAa,EAAE,CAAC;oBAC9D,CAAC,CAAC,CAAC;oBACH,IAAI,CAAC,wBAAwB,GAAG,GAAG,CAAC,MAAM,CAAC,CACzC,uBAAuB,CACxB,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE;wBACZ,OAAO,EAAE,IAAI,EAAE,GAAG,CAAC,QAAQ,EAAE,IAAI,EAAE,GAAG,CAAC,QAAQ,EAAE,CAAC;oBACpD,CAAC,CAAC,CAAC;oBACH,MAAM,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,MAAM,CAAC;oBACnD,IAAI,MAAM,IAAI,MAAM,CAAC,EAAE,EAAE;wBACvB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;wBACxB,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;wBACrC,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,EAAE,CAAC;qBAC7B;iBACF;qBAAM,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;oBACrB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;oBAC9C,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;oBACvB,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;iBACzB;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;YACvB,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;YACxB,OAAO,CAAC,GAAG,CAAC,iCAAiC,EAAE,GAAG,CAAC,CAAC;QACtD,CAAC,CACF;aACA,GAAG,CAAC,GAAG,EAAE;YACR,IAAI,CAAC,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE;gBACpC,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;aACxC;QACH,CAAC,CAAC,CAAC;IACP,CAAC;IAED,gBAAgB;QACd,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YACjC,YAAY,EAAE,IAAI,8DAAkB,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAE,EAAE;gBACnE,+DAAmB;aACpB,CAAC;YACF,KAAK,EAAE,IAAI,8DAAkB,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,EAAE;gBAC3D,+DAAmB;aACpB,CAAC;YACF,OAAO,EAAE,IAAI,8DAAkB,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,EAAE;gBAC7D,+DAAmB;aACpB,CAAC;SACH,CAAC,CAAC;IACL,CAAC;IAED,IAAI,OAAO;QACT,OAAO,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;IAChD,CAAC;IACD,IAAI,UAAU;QACZ,OAAO,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;IAC3C,CAAC;IACD,IAAI,QAAQ;QACV,OAAO,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;IACzC,CAAC;IAED,WAAW,CAAC,CAAM;QAChB,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;YACrB,IAAI,CAAC,oBAAoB,GAAG,EAAE,CAAC;YAC/B,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;YACzB,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;YACtB,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;YACvB,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;SACzB;QACD,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC;IAC3B,CAAC;IAED,cAAc;QACZ,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;YACrB,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;YACtB,IAAI,CAAC,oBAAoB,GAAG,EAAE,CAAC;YAC/B,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;YACzB,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;SACxB;QACD,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;IACzB,CAAC;IAED,YAAY,CAAC,CAAM;QACjB,IAAI,CAAC,cAAc,EAAE,CAAC;IACxB,CAAC;IAED,cAAc;QACZ,IAAI,IAAI,CAAC,IAAI,IAAI,KAAK,EAAE;YACtB,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;YACxC,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;YACvB,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;YACzB,IAAI,CAAC,oBAAoB,GAAG,EAAE,CAAC;YAC/B,IAAI,CAAC,uBAAuB;iBACzB,+BAA+B,EAAE;iBACjC,IAAI,CAAC,oDAAI,CAAC,CAAC,CAAC,CAAC;iBACb,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;gBACN,IACE,GAAG,CAAC,QAAQ,CAAC;oBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;oBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;oBACA,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;wBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;qBACjD;yBAAM;wBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;qBAC/C;iBACF;qBAAM;oBACL,IAAI,GAAG,CAAC,MAAM,CAAC,EAAE;wBACf,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;wBAChC,IAAI,CAAC,iBAAiB;4BACpB,GAAG,CAAC,MAAM,CAAC,CAAC,6BAA6B,CAAC,CAAC;wBAC7C,IAAI,CAAC,YAAY,GAAG,CAAC,GAAG,IAAI,CAAC,iBAAiB,CAAC,CAAC;wBAChD,IAAI,CAAC,mBAAmB,GAAG,CAAC,GAAG,IAAI,CAAC,iBAAiB,CAAC,CAAC;wBACvD,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;4BACjC,IAAI,CAAC,iBAAiB,CAAC,GAAG,IAAI,CAAC,wBAAwB,CAAC,GAAG,CACzD,CAAC,CAAC,EAAE,EAAE;gCACJ,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;4BACzC,CAAC,CACF,CAAC;4BACF,IAAI,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC;4BACrB,IAAI,CAAC,YAAY,CAAC,GAAG,EAAE,CAAC;4BACxB,IAAI,CAAC,aAAa,CAAC;gCACjB,IAAI,CAAC,aAAa,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;4BAC9C,IAAI,CAAC,mBAAmB,CAAC,GAAG,IAAI,CAAC,UAAU;gCACzC,EAAE,KAAK,CAAC,GAAG,CAAC;iCACX,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE;gCACT,OAAO,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC;4BAC/B,CAAC,CAAC,CAAC;4BACL,IAAI,CAAC,YAAY,CAAC,GAAG,EAAE,CAAC;wBAC1B,CAAC,CAAC,CAAC;qBACJ;yBAAM,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;wBACrB,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;wBACjC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;qBAC/C;iBACF;YACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;gBACN,OAAO,CAAC,GAAG,CAAC,iCAAiC,EAAE,GAAG,CAAC,CAAC;YACtD,CAAC,CACF;iBACA,GAAG,CAAC,GAAG,EAAE;gBACR,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACzC,CAAC,CAAC,CAAC;SACN;IACH,CAAC;IAED,eAAe;QACb,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;YACnC,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,EAAE;gBAC5B,IAAI,CAAC,iBAAiB,CAAC,GAAG,IAAI,CAAC,wBAAwB,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE;oBAChE,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;gBACzC,CAAC,CAAC,CAAC;gBACH,IAAI,KAAK,GAAG,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAC7C,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CACrC,CAAC;gBACF,IAAI,KAAK,IAAI,CAAC,CAAC,EAAE;oBACf,IAAI,CAAC,YAAY,CAAC,GAAG,EAAE,CAAC;iBACzB;qBAAM;oBACL,IAAI,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC,YAAY,CAAC,CAAC;iBACrE;aACF;YACD,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,EAAE;gBAC9B,IAAI,IAAI,CAAC,UAAU,EAAE;oBACnB,IAAI,CAAC,mBAAmB,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC;wBAC5C,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE;4BACxC,OAAO,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC;wBACpC,CAAC,CAAC;wBACJ,CAAC,CAAC,EAAE,CAAC;iBACR;qBAAM;oBACL,IAAI,CAAC,YAAY,CAAC,GAAG,EAAE,CAAC;oBACxB,IAAI,CAAC,mBAAmB,CAAC,GAAG,EAAE,CAAC;iBAChC;gBAED,IAAI,KAAK,GAAG,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAC7C,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CACrC,CAAC;gBACF,IAAI,KAAK,IAAI,CAAC,CAAC,EAAE;oBACf,IAAI,CAAC,YAAY,CAAC,GAAG,EAAE,CAAC;iBACzB;qBAAM;oBACL,IAAI,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC,YAAY,CAAC,CAAC;iBACrE;aACF;YACD,IAAI,KAAK,GAAG,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAC7C,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CACrC,CAAC;YACF,IAAI,KAAK,IAAI,CAAC,CAAC,EAAE;gBACf,IAAI,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;aACnE;iBAAM;gBACL,IAAI,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC,aAAa,CAAC,CAAC;aACvE;YACD,IAAI,KAAK,IAAI,CAAC,CAAC,EAAE;gBACf,IAAI,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC;aACtB;iBAAM;gBACL,IAAI,CAAC,SAAS,CAAC,GAAG,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,CAAC;aAC/D;QACH,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,oBAAoB,GAAG,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC;QACrD,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;IACzB,CAAC;IAED,wBAAwB,CAAC,MAAM;QAC7B,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,CAAC,uBAAuB;aACzB,yBAAyB,EAAE;aAC3B,IAAI,CAAC,oDAAI,CAAC,CAAC,CAAC,CAAC;aACb,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;iBAC/C;aACF;iBAAM;gBACL,IAAI,GAAG,CAAC,SAAS,CAAC,IAAI,GAAG,CAAC,SAAS,CAAC,CAAC,MAAM,EAAE;oBAC3C,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;oBAC/B,GAAG,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;wBACjC,IAAI,GAAG,GAAG,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;wBAChC,IAAI,IAAI,GAAG,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;wBACjC,IAAI,MAAM,GAAG,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;wBACnC,IACE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,IAAI,GAAG;4BAC9B,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,IAAI,IAAI;4BAChC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,IAAI,MAAM;4BACpC,CAAC,IAAI,CAAC,iBAAiB,EACvB;4BACA,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;4BAC9B,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;gCAC/B,OAAO,EAAE,qCAAqC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,qBAAqB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,oBAAoB,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,iDAAiD;gCACjN,MAAM,EAAE,GAAG,EAAE;oCACX,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC;gCAClC,CAAC;gCACD,MAAM,EAAE,GAAG,EAAE;oCACX,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,yBAAyB,CAC1B,CAAC;gCACJ,CAAC;6BACF,CAAC,CAAC;yBACJ;oBACH,CAAC,CAAC,CAAC;oBACH,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE;wBAC3B,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC;qBACjC;iBACF;qBAAM;oBACL,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC;iBACjC;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,OAAO,CAAC,GAAG,CACT,yDAAyD,EACzD,GAAG,CACJ,CAAC;QACJ,CAAC,CACF;aACA,GAAG,CAAC,GAAG,EAAE;YACR,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,CAAC,CAAC;IACP,CAAC;IAED,kBAAkB,CAAC,MAAW;QAC5B,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,IAAI,GAAG;YACT,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI;YAC9B,YAAY,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI;YACrC,UAAU,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI;YACtC,SAAS,EAAE,IAAI;YACf,WAAW,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM;YACjC,MAAM,EAAE,GAAG;YACX,qBAAqB,EAAE,EAAE;SAC1B,CAAC;QACF,IAAI,CAAC,oBAAoB,CAAC,OAAO,CAAC,CAAC,QAAQ,EAAE,EAAE;YAC7C,IAAI,UAAU,GAAG,EAAE,CAAC;YACpB,IAAI,UAAU,GAAG,EAAE,CAAC;YACpB,QAAQ,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,CAAC,EAAE,EAAE,EAAE;gBACpC,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC;YAC/B,CAAC,CAAC,CAAC;YACH,IAAI,QAAQ,CAAC,UAAU,IAAI,QAAQ,CAAC,UAAU,CAAC,MAAM,EAAE;gBACrD,QAAQ,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,CAAC,EAAE,EAAE,EAAE;oBACpC,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC;gBAC/B,CAAC,CAAC,CAAC;aACJ;YAED,IAAI,eAAe,GAAG;gBACpB,YAAY,EAAE,QAAQ,CAAC,cAAc,CAAC;gBACtC,SAAS,EAAE,QAAQ,CAAC,WAAW,CAAC;gBAChC,WAAW,EAAE,QAAQ,CAAC,aAAa,CAAC;gBACpC,SAAS,EAAE,QAAQ,CAAC,WAAW,CAAC;gBAChC,UAAU,EAAE,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC;gBAChC,WAAW,EAAE,QAAQ,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI;gBACnD,OAAO,EAAE,QAAQ,CAAC,SAAS,CAAC;gBAC5B,UAAU,EAAE,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI;aAC5D,CAAC;YACF,IAAI,CAAC,uBAAuB,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;QACtD,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,uBAAuB,CAAC,wBAAwB,CAAC,IAAI,CAAC,CAAC,SAAS,CACnE,CAAC,GAAG,EAAE,EAAE;YACN,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;iBAC/C;aACF;iBAAM;gBACL,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;oBACd,IAAI,IAAI,CAAC,IAAI,IAAI,OAAO,EAAE;wBACxB,IAAI,IAAI,CAAC,iBAAiB,EAAE;4BAC1B,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,uCAAuC,CACxC,CAAC;yBACH;6BAAM;4BACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,qCAAqC,CACtC,CAAC;yBACH;qBACF;oBACD,IAAI,IAAI,CAAC,IAAI,IAAI,KAAK,EAAE;wBACtB,IAAI,IAAI,CAAC,iBAAiB,EAAE;4BAC1B,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,uCAAuC,CACxC,CAAC;yBACH;6BAAM;4BACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,iCAAiC,CAClC,CAAC;yBACH;qBACF;oBAED,IAAI,IAAI,CAAC,IAAI,IAAI,MAAM,EAAE;wBACvB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,uCAAuC,CACxC,CAAC;qBACH;oBACD,IAAI,MAAM,IAAI,MAAM,EAAE;wBACpB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,0BAA0B,CAAC,CAAC,CAAC;qBACpD;yBAAM,IAAI,MAAM,IAAI,YAAY,EAAE;wBACjC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;4BACnB,oDAAoD;yBACrD,CAAC,CAAC;qBACJ;iBACF;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,OAAO,CAAC,GAAG,CAAC,0BAA0B,EAAE,GAAG,CAAC,CAAC;QAC/C,CAAC,CACF,CAAC;IACJ,CAAC;IAED,0BAA0B,CAAC,KAAK,EAAE,KAAK;QACrC,IAAI,OAAO,GAAG,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QACzC,IAAI,OAAO,GAAG,IAAI,CAAC,oBAAoB,CAAC,MAAM,EAAE;YAC9C,IAAI,GAAG,GACL,wBAAwB;gBACxB,CAAC,IAAI,CAAC,oBAAoB,CAAC,MAAM,IAAI,CAAC;oBACpC,CAAC,CAAC,WAAW;oBACb,CAAC,CAAC,eAAe,GAAG,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC;YAC1D,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC;YACvC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;SAC5B;aAAM;YACL,IAAI,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;YAC/C,IAAI,OAAO,IAAI,CAAC,EAAE;gBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,8CAA8C,CAC/C,CAAC;gBACF,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,oBAAoB,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,GAAG,OAAO,CAAC;gBACtE,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;aAC5B;iBAAM;gBACL,IAAI,KAAK,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,oBAAoB,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,KAAK,EAAE;oBACpE,OAAO,GAAG,CAAC;wBACT,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,oBAAoB,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;4BAC1D,OAAO,CAAC,CAAC;oBACb,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;iBAC7B;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,8DAA8D,CAC/D,CAAC;oBACF,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;iBAC5B;aACF;SACF;IACH,CAAC;IAED,sBAAsB,CAAC,MAAM,EAAE,QAAQ;QACrC,IAAI,UAAU,GAAQ,EAAE,CAAC;QACzB,UAAU,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IACxD,CAAC;IAED,oBAAoB,CAAC,MAAM;QACzB,IAAI,cAAc,GAAG,KAAK,CAAC;QAC3B,IAAI,aAAa,GAAG,KAAK,CAAC;QAC1B,IAAI,eAAe,GAAG,KAAK,CAAC;QAC5B,IAAI,wBAAwB,GAAG,KAAK,CAAC;QACrC,IAAI,CAAC,oBAAoB,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;YAC5C,IAAI,OAAO,CAAC,UAAU,IAAI,EAAE,EAAE;gBAC5B,cAAc,GAAG,IAAI,CAAC;aACvB;YACD,IAAI,OAAO,CAAC,OAAO,GAAG,IAAI,CAAC,oBAAoB,CAAC,MAAM,EAAE;gBACtD,wBAAwB,GAAG,IAAI,CAAC;aACjC;YACD,IAAI,OAAO,CAAC,OAAO,IAAI,CAAC,IAAI,OAAO,CAAC,OAAO,GAAG,CAAC,EAAE;gBAC/C,aAAa,GAAG,IAAI,CAAC;aACtB;YACD,IAAI,OAAO,CAAC,iBAAiB,CAAC,MAAM,IAAI,OAAO,CAAC,UAAU,CAAC,MAAM,IAAI,CAAC,EAAE;gBACtE,eAAe,GAAG,IAAI,CAAC;aACxB;QACH,CAAC,CAAC,CAAC;QACH,IAAI,cAAc,EAAE;YAClB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,0BAA0B,CAAC,CAAC;SAC/D;aAAM,IAAI,aAAa,EAAE;YACxB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,uBAAuB,CAAC,CAAC;SAC5D;aAAM,IAAI,wBAAwB,EAAE;YACnC,IAAI,GAAG,GACL,wBAAwB;gBACxB,CAAC,IAAI,CAAC,oBAAoB,CAAC,MAAM,IAAI,CAAC;oBACpC,CAAC,CAAC,WAAW;oBACb,CAAC,CAAC,eAAe,GAAG,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC;YAC1D,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC;SACxC;aAAM,IAAI,eAAe,EAAE;YAC1B,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,yBAAyB,CAAC,CAAC;SAC9D;aAAM;YACL,IAAI,IAAI,CAAC,IAAI,IAAI,MAAM,EAAE;gBACvB,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC;aACjC;iBAAM;gBACL,IAAI,CAAC,wBAAwB,CAAC,MAAM,CAAC,CAAC;aACvC;SACF;IACH,CAAC;IAED,oBAAoB,CAAC,UAAe;QAClC,8CAAQ,CAAC;YACP,iBAAiB,EACf,IAAI,CAAC,uBAAuB,CAAC,oBAAoB,CAAC,UAAU,CAAC;YAC/D,kBAAkB,EAChB,IAAI,CAAC,uBAAuB,CAAC,+BAA+B,EAAE;SACjE,CAAC;aACC,IAAI,CACH,oDAAI,CAAC,CAAC,CAAC,EACP,mDAAG,CAAC,CAAC,QAAQ,EAAE,EAAE;YACf,IACE,QAAQ,CAAC,iBAAiB,CAAC,MAAM,CAAC;gBAClC,QAAQ,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC,eAAe,CAAC,EACnD;gBACA,MAAM,iBAAiB,GACrB,QAAQ,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC,eAAe,CAAC,CAAC;gBACtD,MAAM,kBAAkB,GACtB,QAAQ,CAAC,kBAAkB,CAAC,MAAM,CAAC,CACjC,6BAA6B,CAC9B,CAAC;gBACJ,iBAAiB,CAAC,uBAAuB,CAAC,CAAC,OAAO,CAChD,CAAC,MAAW,EAAE,EAAE;oBACd,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;oBACvC,MAAM,CAAC,iBAAiB,CAAC,GAAG,IAAI,CAAC,wBAAwB,CAAC,GAAG,CAC3D,CAAC,CAAC,EAAE,EAAE;wBACJ,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;oBACzC,CAAC,CACF,CAAC;oBACF,IAAI,WAAW,GAAG,MAAM,CAAC,YAAY,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;oBAClD,MAAM,CAAC,YAAY,CAAC,GAAG,WAAW,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE;wBAC7C,OAAO,EAAE,KAAK,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC;oBACnC,CAAC,CAAC,CAAC;oBACH,MAAM,CAAC,aAAa,CAAC;wBACnB,MAAM,CAAC,aAAa,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;oBAChD,MAAM,CAAC,mBAAmB,CAAC,GAAG,EAAE,CAAC;oBACjC,IAAI,IAAI,GAAG,kBAAkB,CAAC,IAAI,CAChC,CAAC,MAAM,EAAE,EAAE,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,MAAM,CAAC,WAAW,CAAC,CACvD,CAAC;oBACF,IAAI,IAAI,IAAI,IAAI,CAAC,YAAY,CAAC,EAAE;wBAC9B,MAAM,CAAC,mBAAmB,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;4BAC1D,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE;gCACtC,OAAO,EAAE,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC;4BAChC,CAAC,CAAC;4BACJ,CAAC,CAAC;gCACE;oCACE,KAAK,EAAE,IAAI,CAAC,YAAY,CAAC;oCACzB,KAAK,EAAE,IAAI,CAAC,YAAY,CAAC;iCAC1B;6BACF,CAAC;qBACP;oBAED,IAAI,MAAM,CAAC,UAAU,EAAE;wBACrB,IAAI,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;4BAC9C,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC;4BACjC,CAAC,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,CAAC;wBAC3B,MAAM,CAAC,YAAY,CAAC,GAAG,WAAW,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE;4BAC7C,OAAO,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC;wBACpC,CAAC,CAAC,CAAC;qBACJ;gBACH,CAAC,CACF,CAAC;gBACF,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;gBAChC,IAAI,CAAC,iBAAiB,GAAG,CAAC,GAAG,kBAAkB,CAAC,CAAC;gBAEjD,IAAI,CAAC,cAAc,GAAG,kBAAkB,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,EAAE;oBACvD,OAAO,iBAAiB,CAAC,uBAAuB,CAAC,CAAC,IAAI,CACpD,CAAC,SAAS,EAAE,EAAE;wBACZ,OAAO,SAAS,CAAC,WAAW,CAAC,IAAI,IAAI,CAAC,WAAW,CAAC,CAAC;oBACrD,CAAC,CACF,CAAC;gBACJ,CAAC,CAAC,CAAC;gBACH,IAAI,CAAC,YAAY,GAAG,kBAAkB,CAAC,MAAM,CAC3C,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,EAAE,CAAC,CAC1C,CAAC;gBACF,OAAO,iBAAiB,CAAC;aAC1B;iBAAM;gBACL,IAAI,QAAQ,CAAC,iBAAiB,CAAC,KAAK,CAAC,EAAE;oBACrC,OAAO,QAAQ,CAAC,iBAAiB,CAAC;iBACnC;aACF;QACH,CAAC,CAAC,CACH;aACA,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,GAAG,CAAC,QAAQ,CAAC,EAAE;gBACjB,IACE,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;oBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;oBACA,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;oBACvB,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;wBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;qBACjD;yBAAM;wBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;qBAC/C;iBACF;qBAAM;oBACL,IAAI,CAAC,oBAAoB,GAAG,GAAG,CAAC,uBAAuB,CAAC,CAAC;oBACzD,IAAI,CAAC,oBAAoB,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,CAAC,EAAE,EAAE;wBAC5C,IAAI,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC;wBAChE,IAAI,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC;wBAChE,IAAI,CAAC,aAAa,CAAC;4BACjB,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC;oBAChD,CAAC,CAAC,CAAC;oBAEH,MAAM,QAAQ,GAAG,IAAI,CAAC,0BAA0B,CAAC,IAAI,CACnD,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,IAAI,KAAK,GAAG,CAAC,cAAc,CAAC,CAC9C,CAAC;oBACF,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;oBAChC,MAAM,SAAS,GAAG,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAC9C,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,IAAI,KAAK,GAAG,CAAC,MAAM,CAAC,CACtC,CAAC;oBACF,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;oBAClC,MAAM,WAAW,GAAG,IAAI,CAAC,qBAAqB,CAAC,IAAI,CACjD,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,IAAI,KAAK,GAAG,CAAC,YAAY,CAAC,CAC5C,CAAC;oBACF,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;iBACvC;aACF;iBAAM,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;gBACrB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;gBAC9C,OAAO;aACR;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,gDAAgD,CACjD,CAAC;QACJ,CAAC,CACF;aACA,GAAG,CAAC,GAAG,EAAE;YACR,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,EAAE,EAAE;gBACjC,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;aACxC;QACH,CAAC,CAAC,CAAC;IACP,CAAC;IAED,KAAK;QACH,IAAI,IAAI,CAAC,IAAI,IAAI,MAAM,IAAI,IAAI,CAAC,IAAI,IAAI,OAAO,EAAE;YAC/C,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;SACvB;QACD,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;QACjC,IAAI,CAAC,oBAAoB,GAAG,EAAE,CAAC;QAC/B,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QACvB,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;QACzB,wBAAwB;QACxB,yBAAyB;QACzB,2BAA2B;QAC3B,2BAA2B;QAC3B,6BAA6B;IAC/B,CAAC;;8GAztBU,+BAA+B;6HAA/B,+BAA+B,6HAF/B,CAAC,4DAAmB,CAAC;QCjBlC,yEAAkC;QASlB,8DAKH;QALG,yEAKH;QAMG,wEAQE;QAQJ,4DAAI;QAGJ,+DAAiB;QAAjB,2EAAiB;QAIb,6KAEF;QAAA,4DAAI;QAIhB,2EAAmD;QAS7C,wJAAS,yBAAqB,MAAM,CAAC,IAAC;QAEvC,4DAAS;QACV,8EAQC;QAFC,wJAAS,yBAAqB,YAAY,CAAC,IAAC;QAE7C,4DAAS;QACV,8EAQC;QADC,wJAAS,WAAO,IAAC;QAClB,4DAAS;QAOd,2EAAqE;QAK9D,uEAAW;QAAA,4DACb;QACD,kFASC;QADC,wKAAY,uBAAmB,IAAC;QAElC,8IAIc;QAAA,4DAAa;QAE7B,2EAAqE;QACc,kEAAM;QAAA,4DAAQ;QAC/F,kFASC;QADC,kKAAY,oBAAgB,IAAC;QAE/B,8IAIc;QAAA,4DAAa;QAE7B,2EAAqE;QACgB,gEAAI;QAAA,4DAAQ;QAC/F,kFASC;QADC,kKAAY,oBAAgB,IAAC;QAE/B,8IAIc;QAAA,4DAAa;QAK/B,2EAAsC;QAGhC,2EACF;QAAA,4DAAM;QACN,2EAGC;QACC,6EACF;QAAA,4DAAM;QAER,kFAMC;QACC,8IAIc;QAChB,4DAAa;QAEf,2EAGC;QAQG,wJAAS,qBAAiB,IAAC;QAC5B,4DAAS;QAGZ,2EAA+B;QAC7B,8HAIM;QACN,8HA4HM;QACR,4DAAM;QAIV,kFAImB;;QA5SD,2DAA0B;QAA1B,mFAA0B;QA6BlC,0DAA2D;QAA3D,4HAA2D;QAS3D,0DAA2D;QAA3D,4HAA2D;QAS3D,0DAAkB;QAAlB,2EAAkB;QAWnB,0DAA2B;QAA3B,wFAA2B;QAW1B,0DAAsC;QAAtC,mGAAsC;QAkBtC,0DAAiC;QAAjC,8FAAiC;QAkBjC,0DAAgC;QAAhC,6FAAgC;QA4BlC,0DAAuB;QAAvB,oFAAuB;QAqBvB,0DAAmC;QAAnC,gGAAmC;QAQJ,0DAAiC;QAAjC,iGAAiC;QAKjC,0DAAiC;QAAjC,iGAAiC;QAoItE,0DAAmB;QAAnB,4EAAmB;;;;;;;;;;;;;;;;;;;;AChUd,MAAM,uBAAuB;IAClC,YAAoB,IAAgB;QAAhB,SAAI,GAAJ,IAAI,CAAY;IAAG,CAAC;IAExC,yBAAyB;QACvB,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,6DAA6D,CAC9D,CAAC;IACJ,CAAC;IAED,uBAAuB;QACrB,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,yDAAyD,CAC1D,CAAC;IACJ,CAAC;IAED,+BAA+B;QAC7B,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,0DAA0D,CAC3D,CAAC;IACJ,CAAC;IAED,oBAAoB,CAAC,UAAe;QAClC,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,8DAA8D,UAAU,EAAE,CAC3E,CAAC;IACJ,CAAC;IACD,wBAAwB,CAAC,IAAS;QAChC,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CACnB,wDAAwD,EACxD,IAAI,CACL,CAAC;IACJ,CAAC;;8FA/BU,uBAAuB;wHAAvB,uBAAuB,WAAvB,uBAAuB,mBAFtB,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IEAd,2EAMC;IACC,4FACF;IAAA,4DAAO;;;IAGL,2EAGG;IAAA,iFAAsB;IAAA,4DACxB;;;IAEC,2EAA0B;IAAA,oFAAyB;IAAA,4DAAO;;;IAN5D,gJAIC;IACD,0OAEc;;;;IALX,4FAA0B;;;IAhBnC,wEAAkD;IAChD,0EAA2B;IACzB,mEAAiC;IACjC,kIAQO;IAEP,4NASc;IAChB,4DAAM;IACR,qEAAe;;;;IApBR,0DAEW;IAFX,wIAEW;;;IA4BV,2EAOG;IAAA,qEAAU;IAAA,4DACZ;;;IAPC,gKAIC;;;;IAMH,wFAgBC;IARC,0dAAyD,wdAG5D,IAAI,KAHwD,8aAM7D,KAAK,KANwD;IAQ1D,4DAAoB;;;IAdnB,kFAAiB;;;IAFnB,2JAgBqB;;;IAflB,0FAAuB;;;IAoB1B,2EAOG;IAAA,oEAAS;IAAA,4DACX;;;IAPC,gKAIC;;;;IAMH,wFAgBC;IARC,0dAAyD,wdAG5D,IAAI,KAHwD,8aAM7D,KAAK,KANwD;IAQ1D,4DAAoB;;;IAdnB,kFAAiB;;;IAFnB,2JAgBqB;;;IAflB,0FAAuB;;;;IAmBhC,wFAiBC;IALC,4cAAyD,0cAG5D,IAAI,KAHwD,sUAInB,+FAA6B,KAJV;IAK1D,4DAAoB;;;IAXnB,iFAAiB;;;;IAYnB,wFAkBC;IAFC,4cAAyD,sUACnB,+FAA6B,KADV;IAE1D,4DAAoB;;;IAZnB,iFAAiB;;;;IAanB,wFAeC;IAJC,4cAAyD,0cAG5D,IAAI,KAHwD;IAI1D,4DAAoB;;;IAbnB,iFAAiB;;ADhIhB,MAAM,oBAAoB;IAC/B,YACU,WAAwB,EACxB,cAA8B,EAC9B,MAAc;QAFd,gBAAW,GAAX,WAAW,CAAa;QACxB,mBAAc,GAAd,cAAc,CAAgB;QAC9B,WAAM,GAAN,MAAM,CAAQ;QAKxB,SAAI,GAAG,OAAO,CAAC,GAAG,CAAC;QAEnB,mBAAc,GAAQ,GAAG,CAAC;QAC1B,qBAAgB,GAAQ,GAAG,CAAC;QAE5B,yBAAoB,GAAQ,GAAG,CAAC;QAEhC,qCAAgC,GAAQ,IAAI,CAAC;QAE7C,qBAAgB,GAAQ,IAAI,CAAC;QAE7B,wBAAmB,GAAG,IAAI,CAAC;QAE3B,uBAAkB,GAAQ,IAAI,CAAC;QAE/B,uBAAkB,GAAQ,KAAK,CAAC;QAEhC,WAAM,GAAG,IAAI,CAAC;QAEd,SAAI,GAAG,KAAK,CAAC;QACb,WAAM,GAAG,IAAI,CAAC;QACd,aAAQ,GAAG,KAAK,CAAC;QAxBf,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;IACtB,CAAC;IAyBD,qBAAqB,CAAC,IAAS;QAC7B,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;QACzB,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;IAClC,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;YAC1C,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;QAErE,MAAM,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,MAAM,CAAC;QACnD,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACpB,IAAI,MAAM,IAAI,MAAM,CAAC,IAAI,EAAE;YACzB,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,IAAI,CAAC;YAC5B,IAAI,IAAI,CAAC,QAAQ,IAAI,KAAK,EAAE;gBAC1B,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC;gBACxB,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC;aAC3B;iBAAM;gBACL,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC;aACzB;SACF;QACD,IAAI,MAAM,IAAI,MAAM,CAAC,EAAE,EAAE;YACvB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CACjE,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,CAAC,CACnE,CAAC;YACF,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,EAAE,CAAC;SACzB;IACH,CAAC;IAED,YAAY,CAAC,KAAU;QACrB,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QACnB,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC,KAAK,CAAC;QAClC,IAAI,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,gBAAgB,EAAE;YAChD,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,cAAc,CAAC;SAC7C;QACD,IAAI,IAAI,CAAC,cAAc,IAAI,CAAC,EAAE;YAC5B,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;YACtB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;gBACnB,QAAQ;gBACR,kBAAkB;gBAClB,gBAAgB;gBAChB,KAAK;aACN,CAAC,CAAC;SAEJ;aAAM;YACL,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;YACtB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;gBACnB,QAAQ;gBACR,kBAAkB;gBAClB,gBAAgB;gBAChB,KAAK;aACN,CAAC,CAAC;SACJ;IACH,CAAC;;wFAvFU,oBAAoB;kHAApB,oBAAoB;QCTjC,yEAAsC;QACpC,kIAwBe;QAEf,yEAAoB;QAEhB,2JAAY,wBAAoB,IAAC;QAIjC,gFAA6D;QAC3D,gIAUc;QACd,gIAkBc;QAChB,4DAAa;QACb,gFAA6D;QAC3D,gIAUc;QACd,gIAkBc;QAChB,4DAAa;QAEf,8IAiBqB;QACrB,+IAkBqB;QACrB,8IAeqB;QACvB,4DAAM;;QAtJS,0DAAiC;QAAjC,iGAAiC;QA6B5C,0DAAgC;QAAhC,2FAAgC;QAGpB,0DAAgD;QAAhD,iHAAgD;QAgChD,0DAAgD;QAAhD,iHAAgD;QAkC3D,0DAIF;QAJE,qKAIF;QAcE,0DAIF;QAJE,oKAIF;QAeE,0DAAqE;QAArE,yIAAqE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjIhC;AACmB;;;;;;;;;;;;;;;;;;;IC2B3C,0EAA2B;IACpB,uDAAkB;IAAA,4DAAM;;;IAAxB,0DAAkB;IAAlB,iFAAkB;;;;IASzB,4EAQE;IAHA,oaAAkC;IALpC,4DAQE;;;IAHA,gGAAkC;;;;IAuCpC,4EAOE;IAFA,oaAAkC;IALpC,4DAOE;;;IAFA,gGAAkC;;;;IAIpC,oFAOC;IAJC,obAAkC;IAKpC,4DAAgB;;;IALd,gGAAkC;;;;IAMpC,iFASC;IAJC,8aAAkC;IAInC,4DAAa;;;IAJZ,gGAAkC;;;IAKpC,mEAA0D;;;;IAgDtE,2EAGC;IACC,uDACA;IAAA,2EAIC;IADC,gZAAS,uGAA6B,KAAC;IAEvC,8DAQC;IARD,0EAQC;IACC,sEAEE;IAIJ,4DAAM;;;IArBR,0DACA;IADA,wFACA;;;IARN,yEAA+C;IAE3C,iFACA;IAAA,8HA2BO;IACT,4DAAM;;;IA3BmB,0DAAmB;IAAnB,0FAAmB;;;IA2EtC,4EAKc;;;IADZ,gFAAmB;;;IA5BvB,yEAQC;IAeC,uDACA;IAAA,6JAKc;IAiChB,4DAAK;;;IA3DH,iFAAyB;IACzB,0FAA6B;IAmB7B,0DACA;IADA,0FACA;IACG,0DAEA;IAFA,qIAEA;;;;IAuCH,2EAIC;IACC,mEAA4B;IAC5B,4EAKE;IADA,6dAAS,0GAA0C,UAAU,CAAC,KAAC;IAJjE,4DAKE;;;IARF,uFAA+B;;;IAJnC,qEAA+C;IAC7C,iJAYO;IACT,4DAAK;;;;IAXA,0DAA4B;IAA5B,gGAA4B;;;IArEnC,qEAAI;IACF,wIA8DK;IACP,4DAAK;IACL,yEAAuB;IACrB,wIAcK;IACP,4DAAK;;;IA/Ee,0DAAY;IAAZ,gFAAY;IAgEV,0DAAY;IAAZ,gFAAY;;;IA2B5B,0EAAqD;IACnD,uDACF;IAAA,4DAAM;;;;IADJ,0DACF;IADE,yGACF;;;;;IACA,sEAAoB;IAGhB,gfAAS,sIAAoD,KAAC;IAS/D,4DAAS;IACV,wEAeG;IAND,2aAEZ,oHACmD,WACxD,GAAG,KAAK,GAAG,KAAK,CACD,KAAG;IACA,uDAA2B;IAAA,4DAC7B;;;;;;IAtBC,0DAAuB;IAAvB,oFAAuB;IAQvB,0DAME;IANF,0IAME;IAOD,0DAA2B;IAA3B,8FAA2B;;;IAhClC,qEAA+D;IAC7D,8JAEM;IACN,8JA8BM;IACR,4DAAK;;;IAlCG,0DAAe;IAAf,+EAAe;IAGf,0DAAY;IAAZ,4EAAY;;;;IAgCpB,yEAGC;IAOK,0aAEjB,yHACwD,YACxD,GAAG,KAAK,GAAG,KAAK,CACD,KAAG;IAEF,4DAAS;;;IADR,0DAAyC;IAAzC,sGAAyC;;;IAI/C,yEAGC;IAEG,wEAKU;IACZ,4DAAO;;;;IAET,yEAGC;IAMK,+aAAS,0HAA4C,KAAC;IAJxD,4DAWE;IACF,sEAAkC;IACpC,4DAAQ;;;;IAXJ,0DAA+B;IAA/B,gGAA+B;;;IA7EvC,wEAAyD;IACvD,uJAmCK;IACL,uJAmBK;IACL,uJAYK;IACL,uJAmBK;IACP,qEAAe;;;;;IAzFR,0DAAwD;IAAxD,gIAAwD;IAqC1D,0DAAmC;IAAnC,mGAAmC;IAoBnC,0DAA6B;IAA7B,6FAA6B;IAa7B,0DAA2B;IAA3B,2FAA2B;;;IAxElC,yEAA8B;IAC5B,4JA0Fe;IACjB,4DAAK;;;;IA5FD,sFAAyB;IACG,0DAAY;IAAZ,gFAAY;;;IA6GlC,qEAAI;IACuB,oEAAS;IAAA,4DAAK;IACvC,yEAA+B;IAAA,qEAAU;IAAA,4DAAK;IAC9C,yEAA0C;IAAA,oEAAS;IAAA,4DAAK;IACxD,yEAAuC;IAAA,gEAAK;IAAA,4DAAK;IACjD,yEAAqC;IAAA,mEAAO;IAAA,4DAAK;IACjD,0EAAsC;IAAA,oEAAQ;IAAA,4DAAK;IACnD,0EAAsC;IAAA,4EAAgB;IAAA,4DAAK;IAC3D,0EAAsC;IAAA,wEAAY;IAAA,4DAAK;IACvD,0EAAqC;IAAA,2EAAe;IAAA,4DAAK;IACzD,sEAAI;IAAA,oEAAQ;IAAA,4DAAK;IACjB,sEAAI;IAAA,kEAAM;IAAA,4DAAK;;;IA6Bb,sEAEC;IACC,uDAAY;IAAA,gEAAM;IACpB,4DAAM;;;IADJ,0DAAY;IAAZ,qFAAY;;;;;;IA5BlB,qEAAI;IACE,uDAAc;IAAA,4DAAK;IACvB,qEAAI;IASA,2dAC6B,kFAC1C,UAAU,KAAiC,+CAC9B,KAAC;IACA,uDAAoB;IAAA,4DACtB;IAEH,qEAAI;IAAA,uDAA+B;IAAA,4DAAK;IACxC,qEAAI;IAAA,uDAA4B;IAAA,4DAAK;IACrC,sEAAI;IAAA,wDAA0B;IAAA,4DAAK;IACnC,sEAAI;IAAA,wDAA2B;IAAA,4DAAK;IACpC,sEAAI;IAAA,wDAA2B;IAAA,4DAAK;IACpC,sEAAI;IAAA,8DAAE;IAAA,4DAAK;IACX,sEAAI;IACF,0JAIM;IACR,4DAAK;IACL,sEAAI;IAEA,yEAMU;IACZ,4DAAO;IAET,sEAAI;IAIE,yYAExB,mIAIqB,KAAI;IARH,4DAiBE;IACF,uEAKQ;IACV,4DAAQ;;;;IAnEN,0DAAc;IAAd,6EAAc;IAId,0DAIE;IAJF,2IAIE;IAMD,0DAAoB;IAApB,mFAAoB;IAGrB,0DAA+B;IAA/B,8FAA+B;IAC/B,0DAA4B;IAA5B,2FAA4B;IAC5B,0DAA0B;IAA1B,yFAA0B;IAC1B,0DAA2B;IAA3B,0FAA2B;IAC3B,0DAA2B;IAA3B,0FAA2B;IAIR,0DAAmC;IAAnC,yGAAmC;IAYpD,0DAAoD;IAApD,qHAAoD;IAepD,0DAKC;IALD,iJAKC;IAMD,0DAEE;IAFF,4LAEE;;;IAOV,qEAAI;IAEA,6GACF;IAAA,4DAAK;;;IA1GjB,qEAAI;IAcI,2JAcc;IACd,4JAwEc;IACd,0JAMc;IAChB,4DAAU;;;IAzGR,0DAAwB;IAAxB,qFAAwB;;;IA+GhC,qEAAI;IACkC,yEAAc;IAAA,4DAAK;;;IAAnD,0DAA+B;IAA/B,4FAA+B;;;IAIpC,uDAOH;;;;IAPG,0UAOH;;;;;IA3UJ,0EAAuD;IAOnD,0TAAc,uFAAqB,KAAC;IAWpC,4IAmFc;IACd,4IAoGc;IACd,4IAkHc;IACd,4IAIc;IACd,4IAQc;IAChB,4DAAU;;;IAzUR,0DAAmB;IAAnB,mFAAmB;;;IA4UzB,0EAA4E;IAEpD,qEAAiC;IAAA,4DAAM;IAE7D,yEAAiB;IAEV,uHAA0D;IAAA,4DAAI;;;IAIvE,0EAAkF;IAE1D,qEAAuC;IAAA,4DAAM;IAEnE,yEAAiB;IAEV,6GAAkD;IAAA,4DAAI;;;ADrhBxD,MAAM,wBAAwB;IAqDnC,YACU,MAAc,EACd,WAAwB,EACxB,KAAqB,EACrB,mBAAwC,EACxC,eAAuC,EACvC,IAAgB;QALhB,WAAM,GAAN,MAAM,CAAQ;QACd,gBAAW,GAAX,WAAW,CAAa;QACxB,UAAK,GAAL,KAAK,CAAgB;QACrB,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,oBAAe,GAAf,eAAe,CAAwB;QACvC,SAAI,GAAJ,IAAI,CAAY;QA1D1B,4BAAuB,GAAY,KAAK,CAAC;QACzC,wBAAmB,GAAY,KAAK,CAAC;QACrC,2BAAsB,GAAY,KAAK,CAAC;QACxC,4BAAuB,GAAY,KAAK,CAAC;QACzC,sBAAiB,GAAY,KAAK,CAAC;QACnC,wBAAmB,GAAY,KAAK,CAAC;QACrC,gCAA2B,GAAY,KAAK,CAAC;QAC7C,sBAAiB,GAAY,KAAK,CAAC;QACnC,gBAAW,GAAY,KAAK,CAAC;QAC7B,oBAAe,GAAY,KAAK,CAAC;QAEjC,iBAAY,GAAG,EAAE,CAAC;QAClB,aAAQ,GAAG,EAAE,CAAC;QACd,gBAAW,GAAG,EAAE,CAAC;QACjB,iBAAY,GAAG,EAAE,CAAC;QAClB,WAAM,GAAG,EAAE,CAAC;QACZ,aAAQ,GAAG,EAAE,CAAC;QACd,qBAAgB,GAAG,EAAE,CAAC;QACtB,WAAM,GAAG,EAAE,CAAC;QAEZ,aAAQ,GAAQ,EAAE,CAAC;QACnB,+BAA0B,GAAU,EAAE,CAAC;QACvC,2BAAsB,GAAU,EAAE,CAAC;QACnC,8BAAyB,GAAU,EAAE,CAAC;QACtC,+BAA0B,GAAU,EAAE,CAAC;QACvC,yBAAoB,GAAU,EAAE,CAAC;QACjC,2BAAsB,GAAU,EAAE,CAAC;QACnC,mCAA8B,GAAU,EAAE,CAAC;QAC3C,yBAAoB,GAAU,EAAE,CAAC;QAEjC,YAAO,GAAY,IAAI,CAAC;QAExB,cAAS,GAAW,8BAA8B,CAAC;QAEnD,cAAS,GAAG,KAAK,CAAC;QAElB,eAAU,GAAG,MAAM,CAAC,IAAI,CAAC;QAGzB,oBAAe,GAAY,KAAK,CAAC;QAEjC,aAAQ,GAAG,IAAI,CAAC;QAChB,oBAAe,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC,CAAC;QACtE,eAAU,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC;QAC5D,eAAU,GAAG,CAAC,CAAC;QACf,aAAQ,GAAG,EAAE,CAAC;QACd,eAAU,GAAG,CAAC,CAAC;QACf,iBAAY,GAAG,CAAC,CAAC;QACjB,WAAM,GAAG,IAAI,CAAC;QACd,YAAO,GAAG,MAAM,CAAC;QAEjB,uBAAkB,GAAQ,EAAE,CAAC;QAU7B,eAAU,GAAG,OAAO,CAAC;QACrB,iBAAY,GAAG,EAAE,CAAC;QAClB,sBAAiB,GAAG,EAAE,CAAC;QACvB,uBAAkB,GAAG,EAAE,CAAC;QACxB,SAAI,GAAG,YAAY,CAAC;QAEpB,iBAAY,GAAQ,MAAM,CAAC;QAE3B,iBAAY,GAAQ,EAAE,CAAC;QACvB,oBAAe,GAAG;YAChB,EAAE,IAAI,EAAE,YAAY,EAAE,IAAI,EAAE,YAAY,EAAE;YAC1C,EAAE,IAAI,EAAE,WAAW,EAAE,IAAI,EAAE,WAAW,EAAE;SACzC,CAAC;QAEF,0BAAqB,GAAG,EAAE,CAAC;QAE3B,0BAAqB,GAAG,EAAE,CAAC;QAC3B,mBAAc,GAAG,EAAE,CAAC;QACpB,uBAAkB,GAAG,EAAE,CAAC;QACxB,yBAAoB,GAAG,EAAE,CAAC;QAC1B,oBAAe,GAAG,EAAE,CAAC;QAErB,0BAAqB,GAAG,EAAE,CAAC;QAC3B,sBAAiB,GAAG,EAAE,CAAC;QACvB,uBAAkB,GAAG,EAAE,CAAC;QACxB,gBAAW,GAAG,IAAI,CAAC;QAEnB,YAAO,GAAU;YACf;gBACE,KAAK,EAAE,cAAc;gBACrB,MAAM,EAAE,eAAe;gBACvB,KAAK,EAAE,KAAK;gBACZ,WAAW,EAAE,OAAO;aACrB;YACD;gBACE,KAAK,EAAE,UAAU;gBACjB,MAAM,EAAE,oBAAoB;gBAC5B,KAAK,EAAE,KAAK;gBACZ,WAAW,EAAE,MAAM;aACpB;YACD,mDAAmD;YACnD;gBACE,KAAK,EAAE,cAAc;gBACrB,MAAM,EAAE,eAAe;gBACvB,KAAK,EAAE,KAAK;gBACZ,WAAW,EAAE,OAAO;aACrB;YACD,EAAE,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,SAAS,EAAE,KAAK,EAAE,IAAI,EAAE,WAAW,EAAE,OAAO,EAAE;YACzE;gBACE,KAAK,EAAE,UAAU;gBACjB,MAAM,EAAE,WAAW;gBACnB,KAAK,EAAE,IAAI;gBACX,WAAW,EAAE,OAAO;aACrB;YACD;gBACE,KAAK,EAAE,kBAAkB;gBACzB,MAAM,EAAE,YAAY;gBACpB,KAAK,EAAE,IAAI;gBACX,WAAW,EAAE,MAAM;aACpB;YACD;gBACE,KAAK,EAAE,gBAAgB;gBACvB,MAAM,EAAE,UAAU;gBAClB,KAAK,EAAE,IAAI;aACZ;YACD;gBACE,KAAK,EAAE,UAAU;gBACjB,MAAM,EAAE,WAAW;gBACnB,KAAK,EAAE,IAAI;aACZ;YACD;gBACE,KAAK,EAAE,QAAQ;gBACf,MAAM,EAAE,gBAAgB;gBACxB,KAAK,EAAE,IAAI;aACZ;SACF,CAAC;QAEF,cAAS,GAAQ;YACf,YAAY,EAAE,CAAC;YACf,QAAQ,EAAE,CAAC;YACX,WAAW,EAAE,CAAC;YACd,YAAY,EAAE,CAAC;YACf,MAAM,EAAE,CAAC;YACT,QAAQ,EAAE,CAAC;YACX,gBAAgB,EAAE,CAAC;YACnB,MAAM,EAAE,CAAC;SACV,CAAC;QACF,kBAAa,GAAQ;YACnB,YAAY,EAAE,CAAC;YACf,QAAQ,EAAE,CAAC;YACX,WAAW,EAAE,CAAC;YACd,YAAY,EAAE,CAAC;YACf,MAAM,EAAE,CAAC;YACT,QAAQ,EAAE,CAAC;YACX,gBAAgB,EAAE,CAAC;YACnB,MAAM,EAAE,CAAC;SACV,CAAC;QAEF,wBAAmB,GAAU,EAAE,CAAC;QAEhC,cAAS,GAAG,IAAI,CAAC;QAEjB,gBAAW,GAAG,eAAe,CAAC;QAE9B,qBAAqB;QACrB,yBAAoB,GAAG,KAAK,CAAC;QAC7B,iBAAY,GAAG,IAAI,CAAC;QAEpB,iBAAY,GAAU,EAAE,CAAC;QACzB,kBAAa,GAAQ,EAAE,CAAC;IA/GrB,CAAC;IAiHJ,QAAQ;QACN,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QAExC,MAAM,cAAc,GAAG,eAAe,CAAC;QACvC,IAAI,CAAC,WAAW;aACb,SAAS,CAAC,cAAc,CAAC;aACzB,IAAI,CAAC,CAAC,eAAuB,EAAE,EAAE;YAChC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC;QACjD,CAAC,CAAC,CAAC;QAEL,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;YACjC,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;QACH,MAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC;QAC1C,IAAI,MAAM,EAAE;YACV,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAC9D,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CACtD,CAAC;YACF,OAAO,CAAC,GAAG,CAAC,SAAS,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;YACxC,IAAI,IAAI,CAAC,UAAU,IAAI,qBAAqB,EAAE;gBAC5C,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;aAC7B;iBAAM;gBACL,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;aAC9B;SACF;QACD,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;QAC7D,IAAI,CAAC,QAAQ,GAAG,kBAAkB,CAAC;QACnC,IAAI,CAAC,2BAA2B,EAAE,CAAC;QACnC,8CAA8C;QAC9C,IAAI,CAAC,qBAAqB,GAAG,OAAO,CAAC;QACrC,IAAI,CAAC,kBAAkB,GAAG,kBAAkB,CAAC;IAC/C,CAAC;IAED,iBAAiB;QACf,IAAI,CAAC,IAAI;aACN,GAAG,CAAC,0DAA0D,EAAE;YAC/D,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,aAAa,EAAE,sCAAsC,CAAC;iBAC1D,GAAG,CAAC,MAAM,EAAE,mBAAmB,CAAC;iBAChC,GAAG,CAAC,YAAY,EAAE,YAAY,CAAC;iBAC/B,GAAG,CAAC,cAAc,EAAE,aAAa,CAAC;SACtC,CAAC;aACD,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,GAAG,CAAC,CAAC;YAC7B,IAAI,GAAG,CAAC,gBAAgB,CAAC,EAAE;gBACzB,IAAI,CAAC,mBAAmB,GAAG,GAAG,CAAC,gBAAgB,CAAC,CAAC;aAClD;iBAAM;gBACL,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;gBAC1B,IAAI,CAAC,qBAAqB,GAAG,EAAE,CAAC;aACjC;YACD,IAAI,IAAI,CAAC,mBAAmB,CAAC,MAAM,EAAE;gBACnC,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;gBACvB,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;oBACvC,IAAI,OAAO,GAAG,GAAG,CAAC,SAAS,IAAI,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;oBACrD,IAAI,KAAK,GAAG;wBACV,IAAI,EAAE,GAAG,CAAC,UAAU,CAAC;wBACrB,IAAI,EAAE,kBAAkB,GAAG,CAAC,UAAU,CAAC,EAAE;wBACzC,OAAO,EAAE,OAAO;qBACjB,CAAC;oBACF,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;oBAC9B,IAAI,OAAO,EAAE;wBACX,IAAI,IAAI,CAAC,YAAY,IAAI,KAAK,EAAE;4BAC9B,IAAI,CAAC,oBAAoB,GAAG,GAAG,KAAK,CAAC,IAAI,EAAE,CAAC;4BAC5C,IAAI,CAAC,eAAe,GAAG,aAAa,KAAK,CAAC,IAAI,EAAE,CAAC;4BACjD,IAAI,CAAC,qBAAqB,GAAG,kBAAkB,KAAK,CAAC,IAAI,EAAE,CAAC;4BAC5D,OAAO,CAAC,GAAG,CACT,sBAAsB,EACtB,IAAI,CAAC,oBAAoB,CAC1B,CAAC;4BACF,OAAO,CAAC,GAAG,CAAC,iBAAiB,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;4BACrD,OAAO,CAAC,GAAG,CACT,uBAAuB,EACvB,IAAI,CAAC,qBAAqB,CAC3B,CAAC;yBACH;qBACF;gBACH,CAAC,CAAC,CAAC;aACJ;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,2DAA2D,CAC5D,CAAC;QACJ,CAAC,CACF,CAAC;IACN,CAAC;IAED,aAAa,CAAC,CAAM;QAClB,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QAEf,IAAI,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,KAAK,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE;YACvC,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,KAAK,CAAC;YAC3B,IAAI,CAAC,eAAe,GAAG,aAAa,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;YAC9D,IAAI,CAAC,qBAAqB,GAAG,kBAAkB,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;SAC1E;IACH,CAAC;IAED,qBAAqB;IACrB,kEAAkE;IAClE,+BAA+B;IAC/B,uCAAuC;IACvC,2CAA2C;IAC3C,oDAAoD;IACpD,sDAAsD;IACtD,UAAU;IACV,MAAM;IACN,IAAI;IAEJ,mCAAmC;IACnC,8BAA8B;IAC9B,sDAAsD;IACtD,oCAAoC;IACpC,kBAAkB;IAClB,6DAA6D;IAC7D,wCAAwC;IACxC,mCAAmC;IACnC,uDAAuD;IACvD,6DAA6D;IAC7D,4DAA4D;IAC5D,+CAA+C;IAC/C,oCAAoC;IACpC,uDAAuD;IACvD,+DAA+D;IAC/D,0DAA0D;IAC1D,eAAe;IACf,mCAAmC;IACnC,uDAAuD;IACvD,6DAA6D;IAC7D,4DAA4D;IAC5D,QAAQ;IACR,uBAAuB;IACvB,6BAA6B;IAC7B,6BAA6B;IAC7B,yBAAyB;IACzB,iCAAiC;IACjC,8DAA8D;IAC9D,8CAA8C;IAC9C,0CAA0C;IAC1C,qBAAqB;IACrB,0CAA0C;IAC1C,cAAc;IACd,cAAc;IACd,iBAAiB;IAEjB,iBAAiB;IACjB,8DAA8D;IAC9D,iDAAiD;IACjD,iDAAiD;IACjD,8CAA8C;IAC9C,iCAAiC;IACjC,0BAA0B;IAC1B,gBAAgB;IAChB,iCAAiC;IACjC,2BAA2B;IAC3B,gBAAgB;IAChB,wBAAwB;IACxB,qBAAqB;IACrB,iCAAiC;IACjC,0BAA0B;IAC1B,gBAAgB;IAChB,iCAAiC;IACjC,2BAA2B;IAC3B,gBAAgB;IAChB,wBAAwB;IACxB,cAAc;IACd,cAAc;IACd,iBAAiB;IACjB,QAAQ;IACR,MAAM;IACN,IAAI;IAEJ,aAAa,CAAC,CAAM;QAClB,yBAAyB;QACzB,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;YACtB,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC5D,OAAO,CAAC,GAAG,CACT,+BAA+B,EAC/B,CAAC,EACD,IAAI,CAAC,QAAQ,EACb,IAAI,CAAC,UAAU,CAChB,CAAC;YACF,IAAI,kBAAkB,GAAG,IAAI,CAAC,WAAW,CAAC;YAC1C,IAAI,CAAC,CAAC,IAAI,EAAE;gBACV,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,IAAI,CAAC;aACxB;YACD,IAAI,CAAC,CAAC,SAAS,EAAE;gBACf,IAAI,CAAC,CAAC,SAAS,IAAI,CAAC,EAAE;oBACpB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;iBACvB;qBAAM;oBACL,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;iBACtB;gBACD,QAAQ,CAAC,CAAC,SAAS,EAAE;oBACnB,KAAK,cAAc;wBACjB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;wBACnB,MAAM;oBACR,KAAK,UAAU;wBACb,IAAI,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,YAAY,IAAI,WAAW,EAAE;4BACzD,IAAI,CAAC,MAAM,GAAG,oBAAoB,CAAC;yBACpC;6BAAM;4BACL,IAAI,CAAC,MAAM,GAAG,UAAU,CAAC;yBAC1B;wBACD,MAAM;oBACR,KAAK,aAAa;wBAChB,IAAI,CAAC,MAAM,GAAG,4BAA4B,CAAC;wBAC3C,MAAM;oBACR,KAAK,cAAc;wBACjB,IAAI,CAAC,MAAM,GAAG,qBAAqB,CAAC;wBACpC,MAAM;oBACR,KAAK,QAAQ;wBACX,IAAI,CAAC,MAAM,GAAG,cAAc,CAAC;wBAC7B,MAAM;oBACR,KAAK,UAAU;wBACb,IAAI,CAAC,MAAM,GAAG,UAAU,CAAC;wBACzB,MAAM;oBACR,KAAK,kBAAkB;wBACrB,IAAI,CAAC,MAAM,GAAG,kBAAkB,CAAC;wBACjC,MAAM;oBACR,KAAK,QAAQ;wBACX,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC;wBACvB,MAAM;oBAER;wBACE,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;wBACnB,MAAM;iBACT;aACF;iBAAM;gBACL,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;gBACnB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;aACvB;YACD,IAAI,CAAC,CAAC,OAAO,IAAI,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE;gBAClD,IAAI,YAAY,GAAG,EAAE,CAAC;gBACtB,KAAK,MAAM,IAAI,IAAI,CAAC,CAAC,OAAO,EAAE;oBAC5B,QAAQ,IAAI,EAAE;wBACZ,KAAK,cAAc;4BACjB,YAAY,GAAG,QAAQ,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC;4BAClD,MAAM;wBACR,KAAK,UAAU;4BACb,IAAI,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,YAAY,IAAI,WAAW,EAAE;gCACzD,YAAY,GAAG,wBAAwB,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC;6BACnE;iCAAM;gCACL,YAAY,GAAG,cAAc,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC;6BACzD;4BACD,MAAM;wBACR,KAAK,aAAa;4BAChB,YAAY,GAAG,gCAAgC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC;4BAC1E,MAAM;wBACR,KAAK,cAAc;4BACjB,YAAY,GAAG,yBAAyB,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC;4BACnE,MAAM;wBACR,KAAK,QAAQ;4BACX,YAAY,GAAG,kBAAkB,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC;4BAC5D,MAAM;wBACR,KAAK,UAAU;4BACb,YAAY,GAAG,cAAc,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC;4BACxD,MAAM;wBACR,KAAK,kBAAkB;4BACrB,YAAY,GAAG,sBAAsB,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC;4BAChE,MAAM;wBAER;4BACE,YAAY,GAAG,EAAE,CAAC;4BAClB,MAAM;qBACT;oBACD,IAAI,kBAAkB,EAAE,MAAM,IAAI,kBAAkB,IAAI,IAAI,EAAE;wBAC5D,IAAI,YAAY,EAAE,MAAM,EAAE;4BACxB,kBAAkB,IAAI,IAAI,YAAY,EAAE,CAAC;yBAC1C;qBACF;yBAAM;wBACL,kBAAkB,GAAG,YAAY,CAAC;qBACnC;iBACF;gBACD,OAAO,CAAC,GAAG,CAAC,oBAAoB,EAAE,kBAAkB,CAAC,CAAC;gBACtD,IAAI,CAAC,mBAAmB,CAAC,kBAAkB,CAAC,CAAC;aAC9C;iBAAM;gBACL,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;aAC5C;SACF;QACD,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QACnB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;QACtB,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;IAC5B,CAAC;IAED,2BAA2B;QACzB,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,CAAC,eAAe;aACjB,wBAAwB,CACvB,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,EACvB,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,EAC5B,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,EACvB,IAAI,CAAC,QAAQ,CACd;aACA,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,qBAAqB,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC;YACzC,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,qBAAqB,CAAC,GAAG,CACzD,CAAC,IAAI,EAAE,EAAE;gBACP,OAAO;oBACL,IAAI,EAAE,IAAI,CAAC,WAAW;oBACtB,IAAI,EAAE,IAAI,CAAC,SAAS;iBACrB,CAAC;YACJ,CAAC,CACF,CAAC;YACF,IAAI,CAAC,qBAAqB,CAAC,OAAO,CAChC,GAAG,CAAC,EAAE,IAAI,EAAE,eAAe,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAC3C,CAAC;QACJ,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,uBAAuB,CAAC,CAAC;QAC7D,CAAC,CACF,CAAC;IACN,CAAC;IACD,gBAAgB,CAAC,KAAU;QACzB,IAAI,CAAC,QAAQ,GAAG,kBAAkB,CAAC;QACnC,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;QAC3B,IAAI,KAAK,IAAI,WAAW,EAAE;YACxB,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;YACpC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE,EAAE;gBAC9B,IAAI,MAAM,CAAC,KAAK,KAAK,UAAU,EAAE;oBAC/B,MAAM,CAAC,MAAM,GAAG,gBAAgB,CAAC;iBAClC;YACH,CAAC,CAAC,CAAC;SACJ;aAAM;YACL,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE,EAAE;gBAC9B,IAAI,MAAM,CAAC,KAAK,KAAK,UAAU,EAAE;oBAC/B,MAAM,CAAC,MAAM,GAAG,oBAAoB,CAAC;iBACtC;YACH,CAAC,CAAC,CAAC;SACJ;QACD,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;QAClB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;QACzB,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;QACjC,IAAI,CAAC,kBAAkB,GAAG,kBAAkB,CAAC;QAC7C,IAAI,CAAC,qBAAqB,GAAG,OAAO,CAAC;QACrC,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;QAC5B,IAAI,CAAC,2BAA2B,EAAE,CAAC;QACnC,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACvB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QACzB,8CAA8C;QAC9C,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;QAC9B,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC;IAC7B,CAAC;IAED,gBAAgB,CAAC,KAAU;QACzB,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;QAChC,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;QACjC,IAAI,CAAC,kBAAkB,GAAG,GACxB,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,EAAE;YACxC,OAAO,GAAG,CAAC,IAAI,IAAI,KAAK,CAAC;QAC3B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CACd,KAAK,CAAC;QACN,IAAI,CAAC,qBAAqB,GAAG,GAC3B,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,EAAE;YACxC,OAAO,GAAG,CAAC,IAAI,IAAI,KAAK,CAAC;QAC3B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CACd,KAAK,CAAC;QACN,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,EAAE;YAC5D,OAAO,GAAG,CAAC,SAAS,IAAI,KAAK,CAAC;QAChC,CAAC,CAAC,CAAC,CAAC,CAAC;YACH,CAAC,CAAC,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,EAAE;gBACxC,OAAO,GAAG,CAAC,SAAS,IAAI,KAAK,CAAC;YAChC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,YAAY;YACpB,CAAC,CAAC,MAAM,CAAC;QACX,IAAI,CAAC,iBAAiB,EAAE,CAAC;QACzB,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,IAAI,CAAC,YAAY,IAAI,KAAK,EAAE;gBAC9B,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;aAC3C;QACH,CAAC,EAAE,IAAI,CAAC,CAAC;IACX,CAAC;IACD,gBAAgB,CAAC,CAAM,EAAE,QAAa;QACpC,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACjC,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpC,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;QACjC,IAAI,CAAC,WAAW;YACd,IAAI,CAAC,iBAAiB,CAAC,MAAM,GAAG,CAAC;gBAC/B,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,GAAG,CAAC;gBAClC,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,MAAM,IAAI,CAAC;oBACpC,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC;oBAC3B,CAAC,CAAC,IAAI,CAAC;QACX,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QACzB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACvB,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;QAC7B,IAAI,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE;YAC9B,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;SAC5C;aAAM,IAAI,IAAI,CAAC,YAAY,IAAI,KAAK,EAAE;YACrC,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;SAC/B;IACH,CAAC;IACD,iBAAiB,CAAC,IAAS;QACzB,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,IAAI,CAAC,qBAAqB,CAAC,CAAC;QACtD,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;QAC9C,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QAC/C,OAAO,CAAC,GAAG,CAAC,sBAAsB,EAAE,IAAI,CAAC,oBAAoB,CAAC,CAAC;QAC/D,OAAO,CAAC,GAAG,CAAC,iBAAiB,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;QACrD,IACE,CAAC,IAAI,CAAC,oBAAoB,IAAI,IAAI;YAClC,IAAI,CAAC,oBAAoB,EAAE,IAAI,EAAE,CAAC,MAAM,EACxC;YACA,IACE,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,EAAE;gBACpC,OAAO,CACL,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,qBAAqB,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAClE,CAAC;YACJ,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,EACb;gBACA,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,0DAA0D,CAC3D,CAAC;aACH;iBAAM;gBACL,IAAI,IAAI,CAAC,YAAY,IAAI,KAAK,EAAE;oBAC9B,IAAI,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,eAAe,CAAC,MAAM,GAAG,CAAC,EAAE;wBAC3D,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;wBAC/C,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC;wBACxD,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;wBACpD,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;qBACjD;yBAAM;wBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,+BAA+B,CAAC,CAAC;wBACnE,OAAO;qBACR;iBACF;gBACD,aAAa;gBACb,yCAAyC;gBACzC,oCAAoC;gBACpC,MAAM;gBACN,4BAA4B;gBAC5B,wEAAwE;gBACxE,IAAI;qBACC,IACH,CAAC,OAAO,IAAI,CAAC,oBAAoB,IAAI,QAAQ;oBAC3C,IAAI,CAAC,oBAAoB,EAAE,IAAI,EAAE,CAAC,MAAM,CAAC;oBAC3C,IAAI,CAAC,oBAAoB,EACzB;oBACA,IAAI,IAAI,CAAC,YAAY,IAAI,MAAM,EAAE;wBAC/B,IAAI,YAAY,GAAG,IAAI,IAAI,CACzB,IAAI,CAAC,oBAAoB,CAC1B,CAAC,kBAAkB,CAAC,OAAO,CAAC,CAAC;wBAC9B,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,YAAY,CAAC,CAAC;wBAC1C,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,kBAAkB,GAAG,YAAY,CAAC;wBAC9D,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;wBAE/C,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,qBAAqB,GAAG,YAAY,CAAC;wBACpE,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;wBACrD,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;qBACrD;yBAAM;wBACL,IAAI,CAAC,eAAe;4BAClB,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,oBAAoB,CAAC;wBACtD,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;wBAE/C,IAAI,CAAC,kBAAkB;4BACrB,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,oBAAoB,CAAC;wBACzD,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;wBACrD,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;qBACrD;iBACF;gBACD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;gBACzB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;gBACvB,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;gBAC3C,IAAI,CAAC,CAAC,IAAI,CAAC,YAAY,IAAI,KAAK,CAAC,EAAE;oBACjC,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;iBAClC;gBACD,iCAAiC;gBACjC,gDAAgD;gBAChD,wCAAwC;aACzC;SACF;aAAM;YACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,+BAA+B,CAAC,CAAC;YACnE,OAAO;SACR;IACH,CAAC;IAED,mBAAmB,CAAC,WAAgB;QAClC,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,OAAwB,CAAC;QAE7B,OAAO,CAAC,GAAG,CACT,UAAU,EACV,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,EACvB,WAAW,EACX,GAAG,IAAI,CAAC,UAAU,EAAE,EACpB,GAAG,IAAI,CAAC,QAAQ,EAAE,EAClB,IAAI,CAAC,IAAI,EACT,IAAI,CAAC,MAAM,EACX,IAAI,CAAC,OAAO,CACb,CAAC;QACF,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,wBAAwB,CACrD,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,EACvB,WAAW,EACX,GAAG,IAAI,CAAC,UAAU,EAAE,EACpB,GAAG,IAAI,CAAC,QAAQ,EAAE,EAClB,IAAI,CAAC,IAAI,EACT,IAAI,CAAC,MAAM,EACX,IAAI,CAAC,OAAO,CACb,CAAC;QAEF,OAAO,CAAC,SAAS,CACf,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,EAAE;gBAC1B,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;oBACvB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;oBAChD,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;iBACxB;qBAAM;oBACL,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,0BAA0B,CAAC,MAAM,EAAE;wBAChD,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;wBACvB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;qBAC7B;yBAAM;wBACL,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;qBACvB;oBACD,IAAI,CAAC,YAAY,GAAG,GAAG,CAAC,IAAI,EAAE,0BAA0B,CAAC;oBACzD,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC,IAAI,EAAE,UAAU,CAAC;oBACvC,IAAI,CAAC,YAAY,GAAG,GAAG,CAAC,IAAI,EAAE,UAAU,CAAC;oBACzC,6DAA6D;oBAC7D,wDAAwD;oBACxD,mDAAmD;oBACnD,MAAM;oBACN,wDAAwD;oBACxD,mDAAmD;oBACnD,MAAM;oBACN,sDAAsD;oBACtD,mDAAmD;oBACnD,MAAM;oBACN,wDAAwD;oBACxD,mDAAmD;oBACnD,MAAM;oBACN,4CAA4C;oBAC5C,mDAAmD;oBACnD,MAAM;oBACN,gDAAgD;oBAChD,mDAAmD;oBACnD,MAAM;iBACP;aACF;iBAAM;gBACL,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;aACxB;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,8DAA8D;YAC9D,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACzB,CAAC,CACF,CAAC;IACJ,CAAC;IACD,cAAc,CAAC,IAAS;QACtB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;YACnB,QAAQ;YACR,kBAAkB;YAClB,gBAAgB;YAChB,IAAI;SACL,CAAC,CAAC;IACL,CAAC;IACD,iBAAiB,CAAC,OAAY,EAAE,IAAS;QACvC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;YACnB,QAAQ;YACR,qBAAqB;YACrB,mBAAmB;YACnB,IAAI;YACJ,OAAO,CAAC,YAAY;YACpB,OAAO,CAAC,QAAQ;YAChB,KAAK;SACN,CAAC,CAAC;IACL,CAAC;IAED,aAAa,CAAC,CAAM,EAAE,IAAS,EAAE,OAAY;QAC3C,CAAC,CAAC,cAAc,EAAE,CAAC;QACnB,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,IAAI,SAAS,GAAG,EAAE,CAAC;QACnB,IAAI,CAAC,CAAC,MAAM,CAAC,OAAO,EAAE;YACpB,SAAS,GAAG,QAAQ,CAAC;YACrB,IAAI,GAAG,UAAU,CAAC;SACnB;aAAM;YACL,SAAS,GAAG,UAAU,CAAC;YACvB,IAAI,GAAG,YAAY,CAAC;SACrB;QACD,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;QAChD,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,WAAW,GAAG,EAAE,CAAC;QACrB,WAAW;YACT,mDAAmD;gBACnD,iBAAiB;gBACjB,IAAI;gBACJ,yBAAyB,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC;QAEnD,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;YAC/B,OAAO,EAAE,WAAW;YACpB,GAAG,EAAE,sBAAsB;YAC3B,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,YAAY,CAAC,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;gBAC/C,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;YACjC,CAAC;YACD,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;gBAC/B,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;YAClC,CAAC;SACF,CAAC,CAAC;IACL,CAAC;IAED,wBAAwB,CAAC,CAAM,EAAE,IAAS,EAAE,OAAY;QACtD,CAAC,CAAC,cAAc,EAAE,CAAC;QACnB,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,IAAI,SAAS,GAAG,EAAE,CAAC;QACnB,IAAI,CAAC,CAAC,MAAM,CAAC,OAAO,EAAE;YACpB,SAAS,GAAG,QAAQ,CAAC;YACrB,IAAI,GAAG,UAAU,CAAC;SACnB;aAAM;YACL,SAAS,GAAG,UAAU,CAAC;YACvB,IAAI,GAAG,YAAY,CAAC;SACrB;QACD,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;QAChD,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,WAAW,GAAG,EAAE,CAAC;QACrB,WAAW;YACT,mDAAmD;gBACnD,iBAAiB;gBACjB,IAAI;gBACJ,4BAA4B,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC;QAE5C,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;YAC/B,OAAO,EAAE,WAAW;YACpB,GAAG,EAAE,sBAAsB;YAC3B,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,gBAAgB,CAAC,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;gBACnD,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;YACjC,CAAC;YACD,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;gBAC/B,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;YAClC,CAAC;SACF,CAAC,CAAC;IACL,CAAC;IAED,gBAAgB,CAAC,CAAM,EAAE,SAAc,EAAE,IAAS,EAAE,OAAY;QAC9D,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,CAAC,uBAAuB,CAC1B,IAAI,CAAC,IAAI,CAAC,EACV,SAAS,EACT,CAAC,CAAC,MAAM,EACR,IAAI,EACJ,OAAO,CACR,CAAC;IACJ,CAAC;IACD,uBAAuB,CACrB,KAAU,EACV,MAAW,EACX,SAAc,EACd,QAAa,EACb,OAAY;QAEZ,IAAI,OAAwB,CAAC;QAC7B,gCAAgC;QAChC,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,0BAA0B,CACvD,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,EACvB,MAAM,EACN,KAAK,CAAC,QAAQ,EAAE,EAChB,OAAO,CACR,CAAC;QACF,WAAW;QACX,mEAAmE;QACnE,+BAA+B;QAC/B,cAAc;QACd,uBAAuB;QACvB,OAAO;QACP,IAAI;QACJ,OAAO,CAAC,SAAS,CACf,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,EAAE;gBAC1B,SAAS,CAAC,OAAO,GAAG,CAAC,SAAS,CAAC,OAAO,CAAC;gBACvC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;gBAC1C,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC;gBAC/C,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;aACxC;iBAAM;gBACL,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;aAC/C;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACjB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,CACF,CAAC;IACJ,CAAC;IACD,YAAY,CAAC,CAAM,EAAE,SAAc,EAAE,IAAS,EAAE,OAAY;QAC1D,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,CAAC,oBAAoB,CACvB,IAAI,CAAC,cAAc,CAAC,EACpB,SAAS,EACT,CAAC,CAAC,MAAM,EACR,IAAI,EACJ,OAAO,CACR,CAAC;IACJ,CAAC;IAED,oBAAoB,CAClB,KAAU,EACV,MAAW,EACX,SAAc,EACd,QAAa,EACb,OAAY;QAEZ,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC;QAClC,IAAI,OAAwB,CAAC;QAC7B,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,6BAA6B,CAC1D,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,EACvB,MAAM,EACN,KAAK,CAAC,QAAQ,EAAE,EAChB,OAAO,CACR,CAAC;QACF,OAAO,CAAC,SAAS,CACf,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,EAAE;gBAC1B,SAAS,CAAC,OAAO,GAAG,CAAC,SAAS,CAAC,OAAO,CAAC;gBACvC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;gBAC1C,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC;gBAC/C,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE;oBACtB,QAAQ,CAAC,MAAM,GAAG,UAAU,CAAC;iBAC9B;qBAAM;oBACL,QAAQ,CAAC,MAAM,GAAG,QAAQ,CAAC;iBAC5B;gBACD,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;aACxC;iBAAM;gBACL,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;aAC/C;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACjB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,CACF,CAAC;IACJ,CAAC;IACD,mBAAmB,CAAC,MAAe;QACjC,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;YAC5C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;QACjD,CAAC,EAAE,GAAG,CAAC,CAAC;QACR,IAAI,CAAC,MAAM,EAAE;YACX,UAAU,CAAC,GAAG,EAAE;gBACd,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACzC,CAAC,EAAE,IAAI,CAAC,CAAC;SACV;IACH,CAAC;IAED,YAAY,CAAC,OAAY,EAAE,IAAS;QAClC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;YACnB,QAAQ;YACR,kBAAkB;YAClB,gBAAgB;YAChB,IAAI;YACJ,OAAO,CAAC,YAAY;YACpB,MAAM;SACP,CAAC,CAAC;IACL,CAAC;IACD,eAAe,CAAC,QAAa,EAAE,OAAY;QACzC,OAAO,CAAC,GAAG,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;QAChC,IAAI,OAAO,GAAG,QAAQ,CAAC,YAAY,IAAI,YAAY,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC;QACpE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;YACnB,QAAQ;YACR,qBAAqB;YACrB,mBAAmB;YACnB,OAAO;YACP,OAAO,CAAC,YAAY;YACpB,OAAO,CAAC,QAAQ;YAChB,QAAQ,CAAC,EAAE;YACX,MAAM;SACP,CAAC,CAAC;IACL,CAAC;IACD,mBAAmB,CAAC,QAAQ,EAAE,OAAY,EAAE,YAAY;QACtD,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;QAC/B,IAAI,QAAQ,IAAI,KAAK,EAAE;YACrB,IAAI,CAAC,IAAI;iBACN,GAAG,CACF,oEAAoE,EACpE;gBACE,OAAO,EAAE,IAAI,6DAAW,EAAE;qBACvB,GAAG,CAAC,cAAc,EAAE,YAAY,CAAC;qBACjC,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;aACnD,CACF;iBACA,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;gBACN,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;oBACd,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC;oBAC5B,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;iBACxC;qBAAM;oBACL,IAAI,SAAS,GAAG,EAAE,CAAC;oBACnB,SAAS,GAAG,GAAG,CAAC;oBAChB,SAAS,CAAC,MAAM,CAAC,EAAE,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;wBACjC,MAAM,cAAc,GAAG;4BACrB,WAAW,EAAE,GAAG,CAAC,QAAQ,IAAI,EAAE;4BAC/B,aAAa,EAAE,GAAG,CAAC,UAAU,IAAI,EAAE;4BACnC,iBAAiB,EAAE,GAAG,CAAC,iBAAiB,IAAI,EAAE;yBAC/C,CAAC;wBAEF,4BAA4B;wBAC5B,MAAM,mBAAmB,GAAG,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC;6BACpD,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,GAAG,KAAK,cAAc,CAAC,GAAG,CAAC,EAAE,CAAC;6BAC9C,IAAI,CAAC,IAAI,CAAC,CAAC;wBACd,GAAG,CAAC,cAAc,GAAG,mBAAmB,CAAC;wBACzC,kCAAkC;wBAClC,OAAO,CAAC,GAAG,CAAC,aAAa,EAAE,GAAG,CAAC,cAAc,CAAC,CAAC;oBACjD,CAAC,CAAC,CAAC;oBACH,OAAO,CAAC,GAAG,CAAC,aAAa,EAAE,SAAS,CAAC,CAAC;oBACtC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;wBACpC,IAAI,OAAO,CAAC,cAAc,CAAC,IAAI,OAAO,CAAC,YAAY,EAAE;4BACnD,OAAO,CAAC,QAAQ,CAAC,GAAG,SAAS,CAAC,MAAM,CAAC,CAAC;yBACvC;oBACH,CAAC,CAAC,CAAC;iBACJ;YACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;gBACN,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;gBACxB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,uDAAuD,CACxD,CAAC;gBACF,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACzC,CAAC,CACF,CAAC;SACL;IACH,CAAC;IACD,sBAAsB,CAAC,KAAK;QAC1B,IAAI,CAAC,OAAO,KAAK,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,KAAK,SAAS,CAAC,CAAC;IAC7D,CAAC;IAED,oBAAoB,CAAC,KAAK;QACxB,IAAI,CAAC,OAAO,KAAK,SAAS,CAAC,GAAG,KAAK,CAAC;IACtC,CAAC;IAED,oBAAoB,CAAC,KAAU;QAC7B,OAAO,IAAI,CAAC,iBAAiB,KAAK,EAAE,CAAC,CAAC;IACxC,CAAC;IAED,iBAAiB,CAAC,EAAe,EAAE,KAAU;QAC3C,IAAI,CAAC,iBAAiB,KAAK,EAAE,CAAC,GAAG,EAAE,CAAC,KAAK,CAAC;IAC5C,CAAC;IAED,kBAAkB,CAAC,KAAU;QAC3B,OAAO,IAAI,CAAC,OAAO,KAAK,SAAS,CAAC,CAAC;IACrC,CAAC;IAED,kBAAkB,CAAC,KAAU;QAC3B,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC;IACrB,CAAC;IAED,aAAa;QACX,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;QACzB,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;QACjC,IAAI,CAAC,kBAAkB,GAAG,kBAAkB,CAAC;QAC7C,IAAI,CAAC,qBAAqB,GAAG,OAAO,CAAC;QACrC,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;QAC5B,IAAI,CAAC,2BAA2B,EAAE,CAAC;QACnC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QACzB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACvB,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;QAC9B,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC;IAC7B,CAAC;IAED,aAAa,CAAC,CAAM;QAClB,IAAI,IAAI,CAAC,YAAY,EAAE;YACrB,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;SAC3C;aAAM;YACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;SAClE;IACH,CAAC;;gGAjhCU,wBAAwB;sHAAxB,wBAAwB;;;;;;;QCfrC,yEAAkC;QAclB,uMAA0B,wGACd,kCAA8B,IADhB;QAM3B,4DAAa;QAGd,yEAAyB;QAGrB,4MAA+B,wGACnB,kCAA8B,IADX;QAQ/B,uIAIc;QAAA,4DACf;QACD,2EAGC;QADC,gKAAe,yBAAqB,IAAC;QAErC,6EAAwC;QACtC,2HAQE;QAoCF,2HAOE;QAEF,2IAQgB;QAChB,qIASc;QACd,mHAA0D;QAC5D,qEAAe;QACjB,4DAAM;QAGV,2EAAwE;QAKpE,iJAAS,uCAA+B,IAAC;QAI1C,4DAAS;QACV,8EAOC;QAHC,iJAAS,mBAAe,IAAC;QAG1B,4DAAS;QAKhB,2EAAgE;QAQ5D,iJACiB,uCAA+B,WAAW,GAAG,KACtE,GAAG,KAAK,CAAC;QACF,4DAAS;QAMlB,2EAA8B;QAC5B,uHAgCM;QACR,4DAAM;QAEN,wHA6UM;QACR,4DAAM;QACN,uHASM;QACN,uHASM;QACN,2FAKC;QAOK,gSAAS,uEAAW,KAAC;QACtB,4DAAS;QAEV,8EAMC;QADC,gSAAS,uEAAW,KAAC;QACtB,4DAAS;;QA1iBE,0DAA+B;QAA/B,gIAA+B;QAN/B,wFAA2B;QAYzB,0DAAiC;QAAjC,8FAAiC;QAmBnB,0DAAyB;QAAzB,sFAAyB;QAElC,0DAAmB;QAAnB,+EAAmB;QA4CnB,0DAAoB;QAApB,gFAAoB;QASpB,0DAAsB;QAAtB,kFAAsB;QAUtB,0DAAoB;QAApB,gFAAoB;QAQnB,0DAA2B;QAA3B,2FAA2B;QAanC,0DAA0B;QAA1B,uFAA0B;QAqB9B,0DAA0B;QAA1B,uFAA0B;QAWhB,0DAA2B;QAA3B,2FAA2B;QAmC1B,0DAAgC;QAAhC,oGAAgC;QA+U3B,0DAA8C;QAA9C,qJAA8C;QAU9C,0DAAoD;QAApD,4HAAoD;QAc9E,0DAAkB;QAAlB,2EAAkB;;;;;;;;;;;;;;;;;;;;;AC5iB2C;AAEP;AACZ;;;AAKrC,MAAM,sBAAsB;IAIjC,YAAoB,IAAgB;QAAhB,SAAI,GAAJ,IAAI,CAAY;QAHpC,oBAAe,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC,CAAC;QACtE,eAAU,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC;IAErB,CAAC;IACxC,6BAA6B;IAC7B,gBAAgB;IAChB,sBAAsB;IACtB,qBAAqB;IACrB,kBAAkB;IAClB,MAAM;IACN,0BAA0B;IAC1B,mFAAmF;IACnF,QAAQ;IACR,mCAAmC;IACnC,6BAA6B;IAC7B,2CAA2C;IAC3C,yCAAyC;IACzC,sCAAsC;IACtC,QAAQ;IACR,OAAO;IACP,IAAI;IAEJ,wBAAwB,CACtB,EAAU,EACV,WAAgB,EAChB,UAAe,EACf,QAAa,EACb,QAAa,EACb,MAAW,EACX,OAAY;QAEZ,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,yEAAyE,EACzE;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,QAAQ,EAAE,EAAE,CAAC;iBACjB,GAAG,CAAC,aAAa,EAAE,WAAW,CAAC;iBAC/B,GAAG,CAAC,YAAY,EAAE,UAAU,CAAC;iBAC7B,GAAG,CAAC,UAAU,EAAE,QAAQ,CAAC;iBACzB,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC;iBACrB,GAAG,CAAC,SAAS,EAAE,OAAO,CAAC;iBACvB,GAAG,CAAC,cAAc,EAAE,QAAQ,CAAC;SACjC,CACF,CAAC;IACJ,CAAC;IACD,wBAAwB,CACtB,EAAU,EACV,OAAY,EACZ,UAAe,EACf,QAAa;QAEb,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,kEAAkE,EAClE;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,QAAQ,EAAE,EAAE,CAAC;iBACjB,GAAG,CAAC,iBAAiB,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;iBACvC,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;iBACrC,GAAG,CAAC,UAAU,EAAE,QAAQ,CAAC;SAC7B,CACF,CAAC;IACJ,CAAC;IACD,sEAAsE;IACtE,0BAA0B;IAC1B,yEAAyE;IACzE,QAAQ;IACR,mCAAmC;IACnC,iCAAiC;IACjC,iCAAiC;IACjC,0BAA0B;IAC1B,QAAQ;IACR,OAAO;IACP,IAAI;IAEJ,wBAAwB;IACxB,0BAA0B;IAC1B,6EAA6E;IAC7E,OAAO;IACP,IAAI;IAEJ,6CAA6C;IAC7C,gDAAgD;QAC9C,uBAAuB;QACvB,MAAM,aAAa,GACjB,wEAAwE,CAAC;QAC3E,MAAM,aAAa,GACjB,gFAAgF,CAAC;QAEnF,kCAAkC;QAClC,MAAM,oBAAoB,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;QAC1D,MAAM,oBAAoB,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;QAE1D,kCAAkC;QAClC,OAAO,8CAAQ,CAAC,CAAC,oBAAoB,EAAE,oBAAoB,CAAC,CAAC,CAAC,IAAI,CAChE,0DAAU,CAAC,CAAC,KAAK,EAAE,EAAE;YACnB,yCAAyC;YACzC,OAAO,CAAC,KAAK,CAAC,sCAAsC,EAAE,KAAK,CAAC,CAAC;YAC7D,OAAO,gDAAU,CAAC,oBAAoB,CAAC,CAAC;QAC1C,CAAC,CAAC,CACH,CAAC;IACJ,CAAC;IACD,kDAAkD;IAElD,6BAA6B,CAC3B,MAAW,EACX,MAAW,EACX,EAAO,EACP,QAAa;QAEb,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,+DAA+D,EAC/D;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC;iBACrB,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC;iBACrB,GAAG,CAAC,IAAI,EAAE,EAAE,CAAC;iBACb,GAAG,CAAC,cAAc,EAAE,QAAQ,CAAC;SACjC,CACF,CAAC;IACJ,CAAC;IACD,0BAA0B,CAAC,MAAW,EAAE,MAAW,EAAE,EAAO,EAAE,QAAa;QACzE,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,yEAAyE,EACzE;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC;iBACrB,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC;iBACrB,GAAG,CAAC,IAAI,EAAE,EAAE,CAAC;iBACb,GAAG,CAAC,cAAc,EAAE,QAAQ,CAAC;SACjC,CACF,CAAC;IACJ,CAAC;IAED,wBAAwB,CACtB,EAAU,EACV,OAAY,EACZ,UAAe,EACf,QAAa;QAEb,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,kEAAkE,EAClE;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,QAAQ,EAAE,EAAE,CAAC;iBACjB,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;iBACpC,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;iBACrC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC;SACzB,CACF,CAAC;IACJ,CAAC;;4FAtJU,sBAAsB;uHAAtB,sBAAsB,WAAtB,sBAAsB,mBAFrB,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFsD;;;;;;;;;;;;;;;;ICsCtD,6EAUD;IAHC,6SAAS,mFAAkB,KAAC;IAG7B,4DAAS;;;IADR,wFAAwB;;;;IAW1B,6EASC;IAFC,8SAAS,oFAAkB,eAAe,CAAC,KAAC;IAE7C,4DAAS;;;IADR,wFAAwB;;;;IAE1B,6EASC;IAFC,8SAAS,yEAAO,KAAC;IAElB,4DAAS;;;IADR,wFAAwB;;;;IAE1B,6EAQC;IADC,8SAAS,4EAAU,KAAC;IACrB,4DAAS;;;IAHR,4HAAqD;;;IAsCzD,0EAA2B;IAGvB,qEAAwE;IACxE,uDACF;IAAA,4DAAM;;;;IAFC,0DAAgC;IAAhC,iKAAgC;IACrC,0DACF;IADE,4FACF;;;IAmDA,0EAA2B;IACpB,uDAAkB;IAAA,4DAAM;;;IAAxB,0DAAkB;IAAlB,iFAAkB;;;;IAiCnC,0EAAqE;IASjE,2YAAS,0FAAmB,KAAC;IAE9B,4DAAS;;;IADR,0DAA2C;IAA3C,oHAA2C;;;;IAjEnD,0EAED;IAMe,6EACJ;IAAA,4DAAI;IACJ,iFASC;IALC,iTAAa,2FACxB,IAD4C;IAMjC,8IAIc;IAAA,4DACf;IAGL,0EAAmD;IAEjB,2EAAe;IAAA,4DAAI;IACjD,6EAOE;IADA,6SAAa,yFACxB,IAD0C;IANjC,4DAOE;IAIN,2EAAmD;IAEjB,+EAAmB;IAAA,4DAAI;IACrD,6EAOE;IADA,6SAAa,8FACxB,IAD+C;IANtC,4DAOE;IAGR,gIAYM;IACR,4DAAM;;;;;IAvDI,0DAAkC;IAAlC,kGAAkC;IAuBlC,0DAA2C;IAA3C,kHAA2C;IAc3C,0DAA2C;IAA3C,kHAA2C;IAKC,0DAAe;IAAf,+EAAe;;AD1MpE,MAAM,0BAA0B;IA+BrC,YACU,MAAc,EACd,WAAwB,EACxB,KAAqB,EACrB,oBAAsD,EACtD,SAAuB,EACvB,mBAAwC;QALxC,WAAM,GAAN,MAAM,CAAQ;QACd,gBAAW,GAAX,WAAW,CAAa;QACxB,UAAK,GAAL,KAAK,CAAgB;QACrB,yBAAoB,GAApB,oBAAoB,CAAkC;QACtD,cAAS,GAAT,SAAS,CAAc;QACvB,wBAAmB,GAAnB,mBAAmB,CAAqB;QApClD,iBAAY,GAAG,sBAAsB,CAAC;QACtC,gBAAW,GAAY,KAAK,CAAC;QAC7B,oBAAe,GAAY,KAAK,CAAC;QACjC,SAAI,GAAG,KAAK,CAAC;QACb,gBAAW,GAAG,EAAE,CAAC;QACjB,gBAAW,GAAG,EAAE,CAAC;QACjB,wBAAmB,GAAG,EAAE,CAAC;QACzB,uBAAkB,GAAQ,EAAE,CAAC;QAC7B,oBAAe,GAAG,EAAE,CAAC;QACrB,2BAAsB,GAAQ,EAAE,CAAC;QACjC,kBAAa,GAAG,EAAE,CAAC;QACnB,uBAAkB,GAAG,EAAE,CAAC;QACxB,2BAAsB,GAAG,EAAE,CAAC;QAE5B,0BAAqB,GAAG,EAAE,CAAC;QAE3B,aAAQ,GAAQ,EAAE,CAAC;QAEnB,gBAAW,GAAU;YACnB;gBACE,eAAe,EAAE,EAAE;gBACnB,aAAa,EAAE,EAAE;gBACjB,kBAAkB,EAAE,EAAE;gBACtB,MAAM,EAAE,GAAG;aACZ;SACF,CAAC;QAEF,cAAS,GAAU,EAAE,CAAC;QACtB,eAAU,GAAU,EAAE,CAAC;IASpB,CAAC;IAEJ,QAAQ;QACN,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,MAAM,cAAc,GAAG,eAAe,CAAC;QACvC,IAAI,CAAC,WAAW;aACb,SAAS,CAAC,cAAc,CAAC;aACzB,IAAI,CAAC,CAAC,eAAuB,EAAE,EAAE;YAChC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC;QACjD,CAAC,CAAC,CAAC;QAEL,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;YACjC,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;QAE7D,MAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC;QAC1C,IAAI,MAAM,IAAI,MAAM,CAAC,EAAE,EAAE;YACvB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CACxD,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,CAAC,CAC1D,CAAC;YACF,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,EAAE,CAAC;SAC9B;QAED,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,IAAI,CAAC,kBAAkB,EAAE,IAAI,CAAC,sBAAsB,CAAC,CAAC;QAEzE,IAAI,CAAC,oBAAoB,EAAE,CAAC;IAC9B,CAAC;IAED,oBAAoB;QAClB,IAAI,IAAI,CAAC,IAAI,IAAI,KAAK,EAAE;YACtB,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;SACzC;QACD,IAAI,CAAC,oBAAoB,CAAC,wBAAwB,EAAE,CAAC,SAAS,CAC5D,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,EAAE;gBAC1B,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;oBAChD,sBAAsB;iBACvB;qBAAM;oBACL,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC;oBAC9B,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;oBAC7B,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,UAAU,CAAC,oBAAoB,CAAC,CAAC,GAAG,CACjE,CAAC,MAAM,EAAE,EAAE;wBACT,OAAO;4BACL,IAAI,EAAE,MAAM,CAAC,IAAI;4BACjB,IAAI,EAAE,MAAM,CAAC,QAAQ;4BACrB,KAAK,EAAE,MAAM,CAAC,KAAK;yBACpB,CAAC;oBACJ,CAAC,CACF,CAAC;oBACF,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC,UAAU,CAC3C,iBAAiB,CAClB,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,EAAE;wBACf,OAAO,EAAE,IAAI,EAAE,MAAM,CAAC,IAAI,EAAE,IAAI,EAAE,MAAM,CAAC,QAAQ,EAAE,CAAC;oBACtD,CAAC,CAAC,CAAC;oBACH,IAAI,IAAI,CAAC,IAAI,IAAI,MAAM,EAAE;wBACvB,IAAI,CAAC,oBAAoB,EAAE,CAAC;qBAC7B;iBACF;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,uBAAuB,CAAC,CAAC;QAC7D,CAAC,CACF,CAAC;IACJ,CAAC;IAED,oBAAoB;QAClB,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,CAAC,oBAAoB,CAAC,qBAAqB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,SAAS,CACzE,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,EAAE;gBAC1B,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;oBAChD,sBAAsB;iBACvB;qBAAM;oBACL,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;oBACjB,OAAO,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,kBAAkB,CAAC,CAAC;oBAC1C,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC,aAAa,CAAC,CAAC;oBACtC,yCAAyC;oBACzC,IAAI,GAAG,CAAC,aAAa,CAAC,EAAE;wBACtB,yCAAyC;wBACzC,MAAM,gBAAgB,GAAG,IAAI,CAAC,kBAAkB,CAAC,IAAI,CACnD,CAAC,MAAM,EAAE,EAAE,CAAC,MAAM,CAAC,IAAI,KAAK,GAAG,CAAC,aAAa,CAAC,CAC/C,CAAC;wBACF,OAAO,CAAC,GAAG,CAAC,2BAA2B,EAAE,gBAAgB,CAAC,CAAC;wBAC3D,IAAI,CAAC,sBAAsB,GAAG,gBAAgB,CAAC,IAAI,CAAC;wBACpD,IAAI,CAAC,WAAW,GAAG,gBAAgB,CAAC,IAAI,CAAC;wBACzC,OAAO,CAAC,GAAG,CACT,2BAA2B,EAC3B,IAAI,CAAC,sBAAsB,CAC5B,CAAC;qBACH;oBACD,OAAO,CAAC,GAAG,CAAC,aAAa,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;oBAC7C,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;oBAEtB,IAAI,GAAG,CAAC,gBAAgB,CAAC,IAAI,GAAG,CAAC,gBAAgB,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE;wBAC7D,iDAAiD;wBACjD,GAAG,CAAC,gBAAgB,CAAC,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE,EAAE;4BACvC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC;gCACpB,EAAE,EAAE,MAAM,CAAC,IAAI,CAAC;gCAChB,eAAe,EAAE,MAAM,CAAC,WAAW,CAAC;gCACpC,aAAa,EAAE,MAAM,CAAC,eAAe,CAAC;gCACtC,kBAAkB,EAAE,MAAM,CAAC,oBAAoB,CAAC;gCAChD,MAAM,EAAE,MAAM,CAAC,QAAQ,CAAC;6BACzB,CAAC,CAAC;4BACH,IAAI,CAAC,qBAAqB,GAAG,MAAM,CAAC,WAAW,CAAC,CAAC;4BACjD,IAAI,MAAM,CAAC,QAAQ,CAAC,IAAI,GAAG,EAAE;gCAC3B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;gCACxB,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;6BAC9B;iCAAM;gCACL,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;gCACzB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;6BAC7B;wBACH,CAAC,CAAC,CAAC;qBACJ;oBACD,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;iBACxC;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,uBAAuB,CAAC,CAAC;QAC7D,CAAC,CACF,CAAC;IACJ,CAAC;IAED,mBAAmB,CAAC,KAAU;QAC5B,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;QAC5B,MAAM,gBAAgB,GAAG,IAAI,CAAC,kBAAkB,CAAC,IAAI,CACnD,CAAC,MAAM,EAAE,EAAE,CAAC,MAAM,CAAC,IAAI,KAAK,KAAK,CAClC,CAAC;QACF,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,gBAAgB,CAAC,CAAC;QACxC,mDAAmD;QACnD,uCAAuC;QACvC,IAAI;QACJ,IAAI,CAAC,sBAAsB,GAAG,gBAAgB,CAAC,IAAI,CAAC;QACpD,IAAI,CAAC,iBAAiB,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;IAChD,CAAC;IAED,UAAU,CAAC,QAAgB;QACzB,+DAA+D;QAE/D,MAAM,WAAW,GAAG,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAC9C,CAAC,MAAM,EAAE,EAAE,CAAC,MAAM,CAAC,IAAI,KAAK,QAAQ,CACrC,CAAC;QAEF,4CAA4C;QAE5C,IAAI,WAAW,IAAI,WAAW,CAAC,KAAK,EAAE;YACpC,4CAA4C;YAC5C,OAAO,yBAAyB,WAAW,CAAC,KAAK,EAAE,CAAC;SACrD;aAAM;YACL,OAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;YAC/B,OAAO,EAAE,CAAC,CAAC,mCAAmC;SAC/C;IACH,CAAC;IACD,kBAAkB,CAAC,IAAY;QAC7B,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,kBAAkB,CAAC,CAAC;QACpD,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QAE7C,MAAM,WAAW,GAAG,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAC9C,CAAC,MAAM,EAAE,EAAE,CAAC,MAAM,CAAC,IAAI,KAAK,IAAI,CACjC,CAAC;QACF,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,WAAW,CAAC,CAAC;QAEzC,IAAI,WAAW,IAAI,WAAW,CAAC,KAAK,EAAE;YACpC,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,WAAW,CAAC,KAAK,CAAC,CAAC;YACzC,IAAI,CAAC,mBAAmB,GAAG,WAAW,CAAC,IAAI,CAAC;YAC5C,OAAO,CAAC,GAAG,CAAC,iBAAiB,EAAE,IAAI,CAAC,mBAAmB,CAAC,CAAC;YACzD,OAAO,yBAAyB,WAAW,CAAC,KAAK,EAAE,CAAC;SACrD;aAAM;YACL,OAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;YAC/B,OAAO,EAAE,CAAC,CAAC,mCAAmC;SAC/C;IACH,CAAC;IAED,iBAAiB,CAAC,gBAAqB;QACrC,IAAI,CAAC,oBAAoB,CAAC,qBAAqB,CAAC,gBAAgB,CAAC,CAAC,SAAS,CACzE,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,EAAE;gBAC1B,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;oBAChD,sBAAsB;iBACvB;qBAAM;oBACL,iDAAiD;oBACjD,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;oBACjB,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,CAAC;iBACxC;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,uBAAuB,CAAC,CAAC;QAC7D,CAAC,CACF,CAAC;IACJ,CAAC;IACD,iBAAiB,CAAC,MAAW;QAC3B,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACpB,IAAI,oBAAoB,GAAG,KAAK,CAAC;QACjC,IAAI,sBAAsB,GAAG,KAAK,CAAC;QACnC,IAAI,kBAAkB,GAAG,KAAK,CAAC;QAC/B,IAAI,yBAAyB,GAAG,KAAK,CAAC;QACtC,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QACtC,OAAO,CAAC,GAAG,CAAC,wBAAwB,EAAE,IAAI,CAAC,sBAAsB,CAAC,CAAC;QACnE,OAAO,CAAC,GAAG,CAAC,aAAa,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QAE7C,IAAI,IAAI,CAAC,IAAI,IAAI,MAAM,EAAE;YACvB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE;gBAC5C,OAAO;oBACL,EAAE,EAAE,GAAG,CAAC,EAAE;oBACV,WAAW,EAAE,IAAI,CAAC,WAAW;oBAC7B,WAAW,EAAE,IAAI,CAAC,sBAAsB;oBACxC,aAAa,EAAE,GAAG,CAAC,aAAa;yBAC7B,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC;yBACpB,IAAI,EAAE;yBACN,WAAW,EAAE;oBAChB,kBAAkB,EAAE,GAAG,CAAC,kBAAkB;yBACvC,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC;yBACpB,IAAI,EAAE;yBACN,WAAW,EAAE;oBAChB,SAAS,EAAE,GAAG,CAAC,eAAe;oBAC9B,MAAM,EAAE,GAAG,CAAC,MAAM;iBACnB,CAAC;YACJ,CAAC,CAAC,CAAC;YACH,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;SAC7B;aAAM;YACL,OAAO,CAAC,GAAG,CAAC,wBAAwB,EAAE,IAAI,CAAC,sBAAsB,CAAC,CAAC;YACnE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE;gBAC5C,OAAO;oBACL,WAAW,EAAE,IAAI,CAAC,WAAW;oBAC7B,WAAW,EAAE,IAAI,CAAC,sBAAsB;oBACxC,aAAa,EAAE,GAAG,CAAC,aAAa;yBAC7B,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC;yBACpB,IAAI,EAAE;yBACN,WAAW,EAAE;oBAChB,kBAAkB,EAAE,GAAG,CAAC,kBAAkB;yBACvC,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC;yBACpB,IAAI,EAAE;yBACN,WAAW,EAAE;oBAChB,SAAS,EAAE,GAAG,CAAC,eAAe;oBAC9B,MAAM,EAAE,GAAG;iBACZ,CAAC;YACJ,CAAC,CAAC,CAAC;SACJ;QACD,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;YACjC,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;YACrB,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,IAAI,OAAO,CAAC,aAAa,CAAC,IAAI,MAAM,EAAE;gBAC/D,kBAAkB,GAAG,IAAI,CAAC;aAC3B;YACD,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,OAAO,CAAC,WAAW,CAAC,IAAI,MAAM,EAAE;gBAC3D,sBAAsB,GAAG,IAAI,CAAC;aAC/B;YACD,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,EAAE;gBAC7B,oBAAoB,GAAG,IAAI,CAAC;aAC7B;YACD,IAAI,CAAC,OAAO,CAAC,oBAAoB,CAAC,EAAE;gBAClC,yBAAyB,GAAG,IAAI,CAAC;aAClC;QACH,CAAC,CAAC,CAAC;QAEH,IAAI,kBAAkB,EAAE;YACtB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;SAClE;aAAM,IAAI,sBAAsB,EAAE;YACjC,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,yBAAyB,CAAC,CAAC;SAC9D;aAAM,IAAI,yBAAyB,EAAE;YACpC,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,kCAAkC,CAAC,CAAC;SACvE;aAAM,IAAI,oBAAoB,EAAE;YAC/B,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;SAClE;aAAM,IAAI,IAAI,CAAC,WAAW,CAAC,MAAM,IAAI,CAAC,EAAE;YACvC,MAAM,gBAAgB,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAC3C,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,eAAe,CAC7B,CAAC;YACF,MAAM,sBAAsB,GAAG,IAAI,GAAG,CAAC,gBAAgB,CAAC,CAAC;YACzD,OAAO,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;YACpC,IAAI,gBAAgB,CAAC,MAAM,IAAI,sBAAsB,CAAC,IAAI,EAAE;gBAC1D,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,yCAAyC,CAC1C,CAAC;gBACF,OAAO;aACR;iBAAM;gBACL,OAAO,CAAC,GAAG,CAAC,eAAe,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;gBAC7C,IAAI,OAAO,CAAC;gBACZ,IAAI,IAAI,CAAC,IAAI,IAAI,MAAM,EAAE;oBACvB,IAAI,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC;oBAC1B,OAAO,GAAG,IAAI,CAAC,oBAAoB,CAAC,aAAa,CAC/C,IAAI,EACJ,IAAI,CAAC,QAAQ,CAAC,MAAM,CACrB,CAAC;iBACH;qBAAM;oBACL,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;oBAC5B,IAAI,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC;oBAC1B,OAAO,GAAG,IAAI,CAAC,oBAAoB,CAAC,aAAa,CAC/C,IAAI,EACJ,IAAI,CAAC,QAAQ,CAAC,MAAM,CACrB,CAAC;iBACH;gBACD,IAAI,OAAO,EAAE;oBACX,OAAO,CAAC,SAAS,CACf,CAAC,GAAG,EAAE,EAAE;wBACN,IACE,GAAG,CAAC,QAAQ,CAAC;4BACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;4BAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;4BACA,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;gCAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;6BACjD;iCAAM;gCACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,8CAA8C,CAC/C,CAAC;6BACH;yBACF;6BAAM;4BACL,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;gCACd,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gCAC3C,IAAI,MAAM,IAAI,MAAM,EAAE;oCACpB,gCAAgC;oCAChC,yCAAyC;oCACzC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,4BAA4B,CAAC,CAAC,CAAC;oCACrD,IAAI,CAAC,mBAAmB,EAAE,CAAC;iCAC5B;qCAAM,IAAI,MAAM,IAAI,eAAe,EAAE;oCACpC,IAAI,CAAC,oBAAoB,EAAE,CAAC;oCAC5B,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;oCACtB,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;oCACtB,IAAI,CAAC,WAAW,GAAG;wCACjB;4CACE,eAAe,EAAE,EAAE;4CACnB,aAAa,EAAE,EAAE;4CACjB,kBAAkB,EAAE,EAAE;yCACvB;qCACF,CAAC;iCACH;6BACF;iCAAM,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;gCACvB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;gCAChD,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;6BACxC;yBACF;oBACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;wBACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;wBACvC,OAAO,CAAC,GAAG,CAAC,qBAAqB,EAAE,GAAG,CAAC,CAAC;wBACxC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,8CAA8C,CAC/C,CAAC;oBACJ,CAAC,CACF,CAAC;iBACH;aACF;SACF;IACH,CAAC;IAED,aAAa;QACX,OAAO,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,MAAM,IAAI,GAAG,CAAC,CAAC;IAC7D,CAAC;IAED,SAAS,CAAC,KAAa,EAAE,KAAU;QACjC,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QACxC,IAAI,IAAI,CAAC,IAAI,IAAI,MAAM,EAAE;YACvB,IAAI,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,EAAE,EAAE;gBAC9B,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,SAAS,CAAC;aAC5C;SACF;aAAM;YACL,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;SACnC;IACH,CAAC;IACD,KAAK;QACH,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;QAChD,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;YAC/B,OAAO,EAAE,kDAAkD;YAC3D,GAAG,EAAE,0BAA0B;YAC/B,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;gBACtB,IAAI,CAAC,oBAAoB,EAAE,CAAC;gBAC5B,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;gBACtB,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;gBACtB,IAAI,CAAC,WAAW,GAAG;oBACjB;wBACE,eAAe,EAAE,EAAE;wBACnB,aAAa,EAAE,EAAE;wBACjB,kBAAkB,EAAE,EAAE;qBACvB;iBACF,CAAC;YACJ,CAAC;YACD,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;gBAC/B,IAAI,CAAC,mBAAmB,EAAE,CAAC;YAC7B,CAAC;SACF,CAAC,CAAC;IACL,CAAC;IAED,gBAAgB;QACd,IAAI,CAAC,eAAe,GAAG,CAAC,IAAI,CAAC,eAAe,CAAC;IAC/C,CAAC;IACD,MAAM;QACJ,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC;YACpB,eAAe,EAAE,EAAE;YACnB,aAAa,EAAE,EAAE;YACjB,kBAAkB,EAAE,EAAE;YACtB,MAAM,EAAE,GAAG;SACZ,CAAC,CAAC;QACH,OAAO,CAAC,GAAG,CAAC,SAAS,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;IAC3C,CAAC;IAED,mBAAmB;QACjB,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;YAC5C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;QACjD,CAAC,EAAE,GAAG,CAAC,CAAC;QACR,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,EAAE,IAAI,CAAC,CAAC;IACX,CAAC;IAED,QAAQ,CAAC,IAAS;QAChB,IAAI,CAAC,wBAAwB,EAAE,CAAC;IAClC,CAAC;IACD,wBAAwB;QACtB,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,IAAI,SAAS,GAAG,EAAE,CAAC;QACnB,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,EAAE;YAC5B,SAAS,GAAG,GAAG,CAAC;YAChB,IAAI,GAAG,UAAU,CAAC;SACnB;aAAM;YACL,SAAS,GAAG,GAAG,CAAC;YAChB,IAAI,GAAG,YAAY,CAAC;SACrB;QACD,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;QAChD,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,WAAW,GAAG,EAAE,CAAC;QACrB,WAAW;YACT,mDAAmD;gBACnD,iBAAiB;gBACjB,IAAI;gBACJ,wBAAwB,IAAI,CAAC,WAAW,GAAG,CAAC;QAE9C,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;YAC/B,OAAO,EAAE,WAAW;YACpB,GAAG,EAAE,6BAA6B;YAClC,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;gBAC7B,IAAI,CAAC,mBAAmB,EAAE,CAAC;YAC7B,CAAC;YACD,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;gBAC/B,IAAI,CAAC,mBAAmB,EAAE,CAAC;YAC7B,CAAC;SACF,CAAC,CAAC;IACL,CAAC;IACD,YAAY,CAAC,SAAc;QACzB,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QAExC,MAAM,QAAQ,GAAG,IAAI,QAAQ,EAAE,CAAC;QAChC,QAAQ,CAAC,MAAM,CAAC,aAAa,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QACjD,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;QACrC,QAAQ,CAAC,MAAM,CAAC,WAAW,EAAE,IAAI,CAAC,qBAAqB,CAAC,CAAC;QACzD,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,CAAC;IACrC,CAAC;IAED,mBAAmB,CAAC,QAAa;QAC/B,IAAI,CAAC,oBAAoB,CAAC,0BAA0B,CAAC,QAAQ,CAAC,CAAC,SAAS,CACtE,CAAC,GAAG,EAAE,EAAE;YACN,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;iBAClE;aACF;iBAAM;gBACL,IAAI,OAAO,GAAG,EAAE,CAAC;gBACjB,IAAI,GAAG,CAAC,OAAO,CAAC,IAAI,MAAM,EAAE;oBAC1B,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;oBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;iBAC5C;qBAAM;oBACL,IAAI,GAAG,CAAC,MAAM,CAAC,EAAE;wBACf,OAAO,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC;wBACtB,IAAI,CAAC,WAAW,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC;wBACrC,IAAI,CAAC,eAAe,GAAG,CAAC,IAAI,CAAC,eAAe,CAAC;wBAC7C,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;qBAC5C;yBAAM;wBACL,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;wBACvC,OAAO,GAAG,gDAAgD,CAAC;wBAC3D,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;qBAC5C;iBACF;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,OAAO,CAAC,GAAG,CAAC,gCAAgC,EAAE,GAAG,CAAC,CAAC;YACnD,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,CACF,CAAC;IACJ,CAAC;;oGApiBU,0BAA0B;wHAA1B,0BAA0B;;QCbvC,yEAAkC;QAOlB,8DAKC;QALD,yEAKC;QAMG,uEAQE;QAQJ,4DAAI;QAEN,8HACF;QAAA,4DAAI;QAEN,+DAAmD;QAAnD,2EAAmD;QAG3C,+HAUQ;QACV,8EAQC;QAFC,mJAAS,sBAAkB,MAAM,CAAC,IAAC;QAEpC,4DAAS;QACV,+HASU;QACV,+HASU;QACV,+HAQU;QACZ,4DAAM;QAMlB,2EAED;QAMe,0EAAa;QAAA,4EAAmC;QAAA,6DAAC;QAAA,4DAAO;QAE5D,kFAUC;QANC,mKAAY,qCAAiC,IAAC;QAahD,yIAQc;QAAA,4DACb;QAGP,2EAAmD;QAU7C,0EACF;QAAA,4DAAI;QACJ,6EAKE;QAFA,oMAAyB;QAH3B,4DAKE;QAOV,0HAsEM;QACN,2EAED;QAcS,mJAAS,YAAQ,IAAC;QAEnB,4DAAS;QACV,yEAA+C;QAC7C,+EACF;QAAA,4DAAI;QAQR,2FAML;QAOK,iSAAS,sEAAY,KAAC;QACvB,4DAAS;QAEV,8EAMC;QADC,iSAAS,sEAAY,KAAC;QACvB,4DAAS;QAGR,2FAKD;QAOK,iSAAS,sEAAY,KAAC;QACvB,4DAAS;QAEV,8EAMC;QADC,iSAAS,sEAAY,KAAC;QACvB,4DAAS;;QAzRI,0DAA0B;QAA1B,mFAA0B;QAoB3B,0DAAoB;QAApB,oFAAoB;QAerB,0DAA2C;QAA3C,4GAA2C;QAK1C,0DAAmB;QAAnB,mFAAmB;QAUnB,0DAAmB;QAAnB,mFAAmB;QAQnB,0DAAoB;QAApB,oFAAoB;QA2BzB,2DAA8B;QAA9B,2FAA8B;QA6BlC,0DAIC;QAJD,+KAIC;QAQC,0DAAyB;QAAzB,oFAAyB;QAUuB,0DAAoB;QAApB,wFAAoB;QAqFtE,0DAA2C;QAA3C,4GAA2C;QAmBrD,0DAAkB;QAAlB,2EAAkB;QAwBd,0DAAkB;QAAlB,2EAAkB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IEhQd,yEAMC;IACC,uDAEF;IAAA,4DAAK;;;IAJH,gFAAyB;IAFzB,yFAA6B;IAI7B,0DAEF;IAFE,yFAEF;;;;IAIE,2EAA4G;IAC1G,mEAA4B;IAC5B,4EAKE;IADA,wdAAS,yGAA0C,UAAU,CAAC,KAAC;IAJjE,4DAKE;;;IARN,qEAAuD;IACrD,6IAQO;IACT,4DAAK;;;IAVwB,iFAAyB;IACE,0DAAoD;IAApD,wHAAoD;;;IAd9G,qEAAI;IACF,oIASK;IACP,4DAAK;IACL,yEAAuB;IACrB,oIAUK;IACP,4DAAK;;;;IAtBe,0DAAY;IAAZ,+EAAY;IAWV,0DAAO;IAAP,gFAAO;;;IAsBvB,0EAGC;IACC,uDAEF;IAAA,4DAAM;;;;IAFJ,0DAEF;IAFE,yGAEF;;;IACA,2EAMC;IACC,uDAIE;IAAA,4DACH;;;;IAVC,oJAEC;IAGD,0DAIE;IAJF,4MAIE;;;IAEJ,2EAMC;IACC,uDAIE;IAAA,4DACH;;;;IAVC,oJAEC;IAGD,0DAIE;IAJF,4MAIE;;;;IAEJ,sEAAoB;IAGlB,saAAS,+FAAyB,KAAC;IAClC,uDAA2B;IAAA,4DAC7B;;;;IADE,0DAA2B;IAA3B,8FAA2B;;;IAtChC,yEAAoF;IAClF,0JAMM;IACN,4JAYC;IACD,4JAYC;IACD,0JAOI;IACN,4DAAK;;;IAxCF,0DAAoC;IAApC,2GAAoC;IAOlC,0DAAY;IAAZ,4EAAY;IAaZ,0DAAY;IAAZ,4EAAY;IAYT,0DAAY;IAAZ,4EAAY;;;;IASpB,yEAGH;IAMK,0aAAS,oGAA8B,KAAC;IAJ1C,4DAWE;IACF,sEAAkC;IACpC,4DAAQ;;;;IAXJ,0DAA+B;IAA/B,gGAA+B;;;;IAarC,yEAGK;IAQK,qaAAS,uFAAiB,KAAC;IAC5B,4DAAS;;;IAFR,0DAA4C;IAA5C,yGAA4C;;;IA1EpD,wEAAyD;IACvD,mJA0CK;IACL,mJAmBC;IACL,mJAcS;IACP,qEAAe;;;IA9ER,0DAAmD;IAAnD,wHAAmD;IA4CzD,0DAA2B;IAA3B,2FAA2B;IAoBvB,0DAA2B;IAA3B,2FAA2B;;;IAlElC,yEAA8B;IAC5B,wJA+Ee;IACjB,4DAAK;;;;IAjFD,sFAAyB;IACG,0DAAY;IAAZ,gFAAY;;;IAmF5C,qEAAI;IAC+B,yEAAc;IAAA,4DAAK;;;IAAhD,0DAA4B;IAA5B,wFAA4B;;;IAIlC,uDAOF;;;IAPE,uRAOF;;ADpJC,MAAM,0BAA0B;IA6CrC,YACU,MAAc,EACd,WAAwB,EACxB,KAAqB,EACrB,oBAAsD,EACtD,mBAAwC;QAJxC,WAAM,GAAN,MAAM,CAAQ;QACd,gBAAW,GAAX,WAAW,CAAa;QACxB,UAAK,GAAL,KAAK,CAAgB;QACrB,yBAAoB,GAApB,oBAAoB,CAAkC;QACtD,wBAAmB,GAAnB,mBAAmB,CAAqB;QAjDlD,aAAQ,GAAQ,EAAE,CAAC;QACnB,mBAAc,GAAQ;YACpB,IAAI,EAAE;gBACJ;oBACE,EAAE,EAAE,CAAC;oBACL,MAAM,EAAE,IAAI;oBACZ,WAAW,EAAE,UAAU;oBACvB,WAAW,EAAE,SAAS;oBACtB,kBAAkB,EAAE,mCAAmC;oBACvD,aAAa,EAAE,SAAS;oBACxB,MAAM,EAAE,QAAQ;iBACjB;gBACD;oBACE,EAAE,EAAE,CAAC;oBACL,MAAM,EAAE,IAAI;oBACZ,WAAW,EAAE,UAAU;oBACvB,WAAW,EAAE,SAAS;oBACtB,kBAAkB,EAAE,iCAAiC;oBACrD,aAAa,EAAE,SAAS;oBACxB,MAAM,EAAE,QAAQ;iBACjB;gBACD;oBACE,EAAE,EAAE,CAAC;oBACL,MAAM,EAAE,IAAI;oBACZ,WAAW,EAAE,UAAU;oBACvB,WAAW,EAAE,MAAM;oBACnB,kBAAkB,EAAE,gCAAgC;oBACpD,aAAa,EAAE,MAAM;oBACrB,MAAM,EAAE,QAAQ;iBACjB;gBACD;oBACE,EAAE,EAAE,CAAC;oBACL,MAAM,EAAE,IAAI;oBACZ,WAAW,EAAE,SAAS;oBACtB,WAAW,EAAE,OAAO;oBACpB,kBAAkB,EAAE,oBAAoB;oBACxC,aAAa,EAAE,OAAO;oBACtB,MAAM,EAAE,QAAQ;iBACjB;aACF;SACF,CAAC;QAEF,+BAA0B,GAAQ,EAAE,CAAC;QAUrC,SAAI,GAAU;YACZ,EAAE,KAAK,EAAE,aAAa,EAAE,MAAM,EAAE,cAAc,EAAE,KAAK,EAAE,KAAK,EAAE;YAC9D,EAAE,KAAK,EAAE,aAAa,EAAE,MAAM,EAAE,cAAc,EAAE,KAAK,EAAE,KAAK,EAAE;YAC9D,EAAE,KAAK,EAAE,eAAe,EAAE,MAAM,EAAE,gBAAgB,EAAE,KAAK,EAAE,KAAK,EAAE;YAClE;gBACE,KAAK,EAAE,oBAAoB;gBAC3B,MAAM,EAAE,qBAAqB;gBAC7B,KAAK,EAAE,KAAK;aACb;YACD,EAAE,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAE;YACnD,EAAE,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAE;SACpD,CAAC;QACF,mCAA8B,GAAG,KAAK,CAAC;QAEvC,eAAU,GAAG,CAAC,CAAC;QACf,aAAQ,GAAG,EAAE,CAAC;IAjBX,CAAC;IAmBJ,QAAQ;QACN,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QAExC,MAAM,cAAc,GAAG,eAAe,CAAC;QACvC,8DAA8D;QAC9D,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,0BAA0B,CAAC,CAAC;QAE7C,qBAAqB;QACrB,IAAI,CAAC,WAAW;aACb,SAAS,CAAC,cAAc,CAAC;aACzB,IAAI,CAAC,CAAC,eAAuB,EAAE,EAAE;YAChC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC;QACjD,CAAC,CAAC,CAAC;QAEL,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;YACjC,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;QAC7D,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QAEvC,IAAI,CAAC,oBAAoB,EAAE,CAAC;IAC9B,CAAC;IAED,oBAAoB;QAClB,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QACnB,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,CAAC,oBAAoB,CAAC,qBAAqB,EAAE,CAAC,SAAS,CACzD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,EAAE;gBAC1B,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;oBAChD,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;iBACtC;qBAAM;oBACL,IAAI,CAAC,0BAA0B,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC;oBAC9C,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,0BAA0B,EAAE,GAAG,CAAC,CAAC;oBAClD,6DAA6D;oBAC7D,wDAAwD;oBACxD,mDAAmD;oBACnD,MAAM;oBACN,wDAAwD;oBACxD,mDAAmD;oBACnD,MAAM;oBACN,sDAAsD;oBACtD,mDAAmD;oBACnD,MAAM;oBACN,wDAAwD;oBACxD,mDAAmD;oBACnD,MAAM;oBACN,4CAA4C;oBAC5C,mDAAmD;oBACnD,MAAM;oBACN,gDAAgD;oBAChD,mDAAmD;oBACnD,MAAM;oBACN,yCAAyC;oBACzC,wDAAwD;oBACxD,0DAA0D;oBAC1D,oBAAoB;oBACpB,qBAAqB;oBACrB,QAAQ;oBACR,IAAI;iBACL;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,uBAAuB,CAAC,CAAC;QAC7D,CAAC,CACF,CAAC;IACJ,CAAC;IAED,aAAa;QACX,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,EAAE,qBAAqB,EAAE,cAAc,CAAC,CAAC,CAAC;IAC1E,CAAC;IAED,gBAAgB,CAAC,IAAS;QACxB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;YACnB,QAAQ;YACR,qBAAqB;YACrB,cAAc;YACd,IAAI,CAAC,WAAW;YAChB,MAAM;SACP,CAAC,CAAC;IACL,CAAC;IAED,aAAa,CAAC,CAAM,EAAE,IAAS;QAC7B,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;QACrB,CAAC,CAAC,cAAc,EAAE,CAAC;QACnB,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,IAAI,SAAS,GAAG,EAAE,CAAC;QACnB,IAAI,CAAC,CAAC,MAAM,CAAC,OAAO,EAAE;YACpB,SAAS,GAAG,GAAG,CAAC;YAChB,IAAI,GAAG,UAAU,CAAC;SACnB;aAAM;YACL,SAAS,GAAG,GAAG,CAAC;YAChB,IAAI,GAAG,YAAY,CAAC;SACrB;QACD,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;QAChD,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,WAAW,GAAG,EAAE,CAAC;QACrB,WAAW;YACT,mDAAmD;gBACnD,iBAAiB;gBACjB,IAAI;gBACJ,wBAAwB,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC;QACjD,IAAI,QAAQ,GAAG,EAAE,CAAC;QAClB,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;YAC/B,OAAO,EAAE,WAAW;YACpB,GAAG,EAAE,sBAAsB;YAC3B,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,YAAY,CAAC,CAAC,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC;gBACtC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;YACjC,CAAC;YACD,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;gBAC/B,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;YAClC,CAAC;SACF,CAAC,CAAC;IACL,CAAC;IAED,mBAAmB,CAAC,MAAe;QACjC,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;YAC5C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;QACjD,CAAC,EAAE,GAAG,CAAC,CAAC;QACR,IAAI,CAAC,MAAM,EAAE;YACX,UAAU,CAAC,GAAG,EAAE;gBACd,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACzC,CAAC,EAAE,IAAI,CAAC,CAAC;SACV;IACH,CAAC;IAED,YAAY,CAAC,CAAM,EAAE,SAAc,EAAE,IAAS;QAC5C,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,MAAM,QAAQ,GAAG,IAAI,QAAQ,EAAE,CAAC;QAChC,QAAQ,CAAC,MAAM,CAAC,aAAa,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC;QACpD,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;QACrC,QAAQ,CAAC,MAAM,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;QAChD,sBAAsB;QACtB,MAAM;QACN,wCAAwC;QACxC,yBAAyB;QACzB,OAAO;QACP,KAAK;QACL,IAAI,CAAC,uBAAuB,CAAC,SAAS,EAAE,CAAC,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;IAC9D,CAAC;IAED,uBAAuB,CAAC,SAAc,EAAE,SAAc,EAAE,QAAQ;QAC9D,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;QAEjC,IAAI,CAAC,oBAAoB,CAAC,0BAA0B,CAAC,QAAQ,CAAC,CAAC,SAAS,CACtE,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,OAAO,GAAG,EAAE,CAAC;YACjB,IAAI,GAAG,CAAC,MAAM,CAAC,EAAE;gBACf,OAAO,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC;gBACtB,SAAS,CAAC,OAAO,GAAG,SAAU,CAAC,OAAO,CAAC;gBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;gBAC3C,IAAI,CAAC,oBAAoB,EAAE,CAAC;gBAC5B,0CAA0C;aAC3C;iBAAM;gBACL,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,OAAO,GAAG,gDAAgD,CAAC;gBAC3D,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;aAC5C;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACjB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,CACF,CAAC;IACJ,CAAC;;oGAnPU,0BAA0B;wHAA1B,0BAA0B;;QCZvC,yEAAkC;QAG1B,kEAAiC;QACjC,yFACF;QAAA,4DAAM;QACN,yEAAoB;QAOhB,kJAAS,mBAAe,IAAC;QAC1B,4DAAS;QAIlB,yEAAoB;QAad,wIA0Bc;QACd,yIAwFc;QACd,yIAIc;QACd,yIAQc;QAChB,4DAAU;QAEZ,2FAKD;QAOK,iSAAS,sEAAW,KAAC;QACtB,4DAAS;QAEV,8EAMC;QADC,iSAAS,sEAAW,KAAC;QACtB,4DAAS;;QAnKR,0DAAgB;QAAhB,6EAAgB;QAkJpB,0DAAkB;QAAlB,2EAAkB;;;;;;;;;;;;;;;;;;ACvK2C;;;AAOxD,MAAM,gCAAgC;IAC3C,YAAoB,IAAgB;QAAhB,SAAI,GAAJ,IAAI,CAAY;IAAG,CAAC;IACxC,qBAAqB;QACnB,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,qDAAqD,CAAC,CAAC;IAC9E,CAAC;IACD,wBAAwB;QACtB,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,6DAA6D,CAC9D,CAAC;IACJ,CAAC;IACD,qBAAqB,CAAC,WAAgB;QACpC,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,oDAAoD,EAAE;YACzE,OAAO,EAAE,IAAI,6DAAW,EAAE,CAAC,GAAG,CAAC,aAAa,EAAE,WAAW,CAAC;SAC3D,CAAC,CAAC;IACL,CAAC;IACD,qBAAqB,CAAC,WAAgB;QACpC,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,8DAA8D,EAC9D;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE,CAAC,GAAG,CAAC,aAAa,EAAE,WAAW,CAAC;SAC3D,CACF,CAAC;IACJ,CAAC;IACD,0BAA0B,CAAC,IAAS;QAClC,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CACnB,kDAAkD,EAClD,IAAI,CACL,CAAC;IACJ,CAAC;IAED,aAAa,CAAC,IAAI,EAAE,MAAW;QAC7B,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CACnB,wDAAwD,EACxD,IAAI,EACJ;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE,CAAC,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC;SACjD,CACF,CAAC;IACJ,CAAC;IACD,aAAa,CAAC,IAAI,EAAE,MAAW;QAC7B,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,0DAA0D,EAC1D,IAAI,EACJ;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE,CAAC,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC;SACjD,CACF,CAAC;IACJ,CAAC;;gHA/CU,gCAAgC;iIAAhC,gCAAgC,WAAhC,gCAAgC,mBAF/B,MAAM;;;;;;;;;;;;;;;;;;;ACHc;;;AAK3B,MAAM,iBAAiB;IAC5B,YAAoB,aAAuB;QAAvB,kBAAa,GAAb,aAAa,CAAU;IAAG,CAAC;IAE/C,eAAe;QACb,IAAI,kDAAS,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC;IAC9D,CAAC;IAED,YAAY;QACV,OAAO,IAAI,CAAC,aAAa,CAAC,EAAE,CAAC,aAAa,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;IACpE,CAAC;IAED,WAAW;QACT,IAAI,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE;YAC/B,OAAO,mBAAmB,CAAC;SAC5B;aAAM;YACL,OAAO,YAAY,CAAC;SACrB;IACH,CAAC;;kFAjBU,iBAAiB;+GAAjB,iBAAiB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACPkD;AAKxD;AAE0C;AACZ;AAGtB;AACW;AAE0D;AAGtD;;;;;;;;;;;;;;;;;;;;;IC4D/B,6EAQC;IADC,4SAAS,4EAAU,KAAC;IACrB,4DAAS;;;IAHR,4HAAqD;;;IA6BvD,0EAA2B;IACpB,uDAAkB;IAAA,4DAAM;;;IAAxB,0DAAkB;IAAlB,iFAAkB;;;IAqBzB,0EAA2B;IACpB,uDAAkB;IAAA,4DAAM;;;IAAxB,0DAAkB;IAAlB,iFAAkB;;;;IAQrC,0EAGC;IAYY,wEAAa;IAAA,4DAAI;IACpB,4EAKE;IAFA,0ZAA0B;IAH5B,4DAKE;IAGN,0EAAmD;IAG7C,kFAAqB;IAAA,4EAAmC;IAAA,6DAAC;IAAA,4DAAO;IAElE,6EAOE;IAJA,2ZAA0B;IAH5B,4DAOE;;;IA3BF,0DAIC;IAJD,mLAIC;IAMC,0DAA0B;IAA1B,wFAA0B;IAa1B,0DAA0B;IAA1B,wFAA0B;;;;IAUtC,2FA8BC;IAVC,4VAAoB,uFAAqB,KAAC,gTAChB,gGAA8B,KADd,gTAG/B,uJAKd,KAR6C;IAU3C,4DAAmB;;;IA3BlB,yGAAyC;;;IA4CrC,6EAAwD;IACtD,uDACF;IAAA,4DAAS;;IADP,0DACF;IADE,uFACF;;;IAiBU,qEAWE;;;IAnBJ,yEAMC;IACC,uDACA;IAAA,gJAWE;IACJ,4DAAK;;;IAfH,qFAAwB;IAExB,0DACA;IADA,0FACA;IACG,0DAA8B;IAA9B,8FAA8B;;;IAVrC,qEAAI;IACF,yIAoBK;IACP,4DAAK;;;IApBe,0DAAgC;IAAhC,0GAAgC;;;IAsD1C,0EAA2B;IACpB,uDAAkB;IAAA,4DAAM;;;IAAxB,0DAAkB;IAAlB,iFAAkB;;;;IAxB/B,0EAGC;IAWG,0gBAC6B,yFAAmB,OAAO,8BACtD;IAMA,sKAIa;IAChB,4DAAa;;;;;IAtBX,0DAAyC;IAAzC,0GAAyC;;;;IAwB7C,0EAGC;IAWG,miBAAgC,ygBAEH,kIAC5B,KAH+B;IAFlC,4DAcE;;;;;IAZA,0DAAgC;IAAhC,+FAAgC;;;;IAcpC,0EAGC;IAGG,miBAAgC,kiBAIH,6HAC5B,KAL+B;IAFlC,4DAaE;;;;;IAfF,4GAA2C;IAIzC,0DAAgC;IAAhC,+FAAgC;;;;IAapC,0EAGC;IAEG,miBAAgC;IADlC,4DAKE;;;;IAPF,4GAA2C;IAGzC,0DAAgC;IAAhC,+FAAgC;;;;IAUlC,wEAEC;IACC,6EASC;IALC,qoBAC+B,6HACvC,OAAO,EAAE;IAGF,4DAAS;IACZ,qEAAe;;;;IAPX,0DAAqD;IAArD,sHAAqD;;;IAV3D,0EAGC;IACC,wKAae;IACjB,4DAAM;;;;IAbc,0DAAmC;IAAnC,6GAAmC;;;;;IAcvD,0EAGC;IAMK,uaAAS,oGAA8B,KAAC;IAJ1C,4DASE;IACF,sEAGQ;IACV,4DAAQ;;;;;IAZJ,0DAA+B;IAA/B,gGAA+B;IAU/B,0DAAqC;IAArC,+JAAqC;;;IAjI7C,yEAKC;IACC,gJA4BM;IACN,gJA2BM;IACN,gJAkBM;IACN,gJAUM;IACN,gJAkBM;IACN,gJAoBM;IACR,4DAAK;;;IAjIH,qFAAwB;IAGrB,0DAAoC;IAApC,oGAAoC;IA6BpC,0DAAoC;IAApC,oGAAoC;IA4BpC,0DAAiC;IAAjC,iGAAiC;IAmBjC,0DAAgC;IAAhC,gGAAgC;IAWhC,0DAAkC;IAAlC,kGAAkC;IAmBlC,0DAA6B;IAA7B,6FAA6B;;;IAlHpC,qEAAI;IACF,yIAqIK;IACP,4DAAK;;;IArIe,0DAAgC;IAAhC,0GAAgC;;;IArDlE,0EAA8E;IAItE,iFACA;IAAA,qEAKE;IACJ,4DAAI;IAEN,0EAAoC;IAEhC,kIAES;IACT,0EAAsC;IAMlC,8IAwBc;IAEd,8IAyIc;IAChB,4DAAU;;;IA7Kc,0DAA4B;IAA5B,+FAA4B;IAKlD,0DAAoC;IAApC,oGAAoC;;;IA+KlD,0EAKC;IAEuB,qEAAsC;IAAA,4DAAM;IAElE,yEAAiB;IAEV,2EAAgB;IAAA,4DAAI;;AD7YtB,MAAM,wBAAwB;IAwKnC,YACU,EAAsB,EACtB,cAA8B,EAC/B,aAA4B,EAC5B,cAA8B,EAC7B,MAAc,EACd,KAAqB,EACrB,WAAwB,EACxB,mBAAwC,EACxC,eAAwC,EACxC,mBAAwC,EACxC,kBAAsC,EACtC,GAAsB;QAXtB,OAAE,GAAF,EAAE,CAAoB;QACtB,mBAAc,GAAd,cAAc,CAAgB;QAC/B,kBAAa,GAAb,aAAa,CAAe;QAC5B,mBAAc,GAAd,cAAc,CAAgB;QAC7B,WAAM,GAAN,MAAM,CAAQ;QACd,UAAK,GAAL,KAAK,CAAgB;QACrB,gBAAW,GAAX,WAAW,CAAa;QACxB,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,oBAAe,GAAf,eAAe,CAAyB;QACxC,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,uBAAkB,GAAlB,kBAAkB,CAAoB;QACtC,QAAG,GAAH,GAAG,CAAmB;QAhLhC,iBAAY,GAAG,sBAAsB,CAAC;QAEtC,WAAM,GAAG,EAAE,CAAC;QACZ,eAAU,GAAG,EAAE,CAAC;QAChB,SAAI,GAAG,KAAK,CAAC;QACb,aAAQ,GAAG,mBAAmB,CAAC;QAE/B,iBAAY,GAAG,SAAS,CAAC;QACzB,iBAAY,GAAG,EAAE,CAAC;QAElB,eAAU,GAAQ,EAAE,CAAC;QACrB,gBAAW,GAAY,KAAK,CAAC;QAE7B,uBAAkB,GAAQ,EAAE,CAAC;QAC7B,4BAAuB,GAAQ,EAAE,CAAC;QAClC,wBAAmB,GAAG,EAAE,CAAC;QACzB,yBAAoB,GAAQ,EAAE,CAAC;QAC/B,0BAAqB,GAAQ,EAAE,CAAC;QAChC,2BAAsB,GAAQ,EAAE,CAAC;QACjC,uBAAkB,GAAQ,EAAE,IAAI,EAAE,YAAY,EAAE,IAAI,EAAE,kBAAkB,EAAE,CAAC;QAC3E,gCAA2B,GAAQ,EAAE,CAAC;QACtC,0BAAqB,GAAG,EAAE,CAAC;QAC3B,6BAAwB,GAAG,EAAE,CAAC;QAC9B,4BAAuB,GAAG,EAAE,CAAC;QAE7B,iBAAY,GAAU,EAAE,CAAC;QACzB,qBAAgB,GAAU,EAAE,CAAC;QAE7B,gCAA2B,GAAG,IAAI,CAAC;QAEnC,iBAAY,GAAY,KAAK,CAAC;QAC9B,2BAAsB,GAAY,KAAK,CAAC;QAGxC,6BAAwB,GAAU,EAAE,CAAC;QACrC,wBAAmB,GAAU,EAAE,CAAC;QAEhC,wBAAmB,GAAQ,EAAE,CAAC;QAE9B,yBAAoB,GAAY,KAAK,CAAC;QACtC,gBAAW,GAAY,KAAK,CAAC;QAE7B,mBAAc,GAAU,EAAE,CAAC;QAC3B,yBAAoB,GAAU,EAAE,CAAC;QAEjC,uBAAkB,GAAY,KAAK,CAAC;QAEpC,kCAA6B,GAAU,EAAE,CAAC;QAC1C,gBAAW,GAAU;YACnB;gBACE,KAAK,EAAE,UAAU;gBACjB,MAAM,EAAE,UAAU;gBAClB,SAAS,EAAE,UAAU;gBACrB,MAAM,EAAE,KAAK;gBACb,IAAI,EAAE,IAAI;aACX;YACD;gBACE,KAAK,EAAE,gBAAgB;gBACvB,MAAM,EAAE,mBAAmB;gBAC3B,SAAS,EAAE,UAAU;gBACrB,MAAM,EAAE,KAAK;gBACb,IAAI,EAAE,IAAI;aACX;YAED;gBACE,KAAK,EAAE,cAAc;gBACrB,MAAM,EAAE,oBAAoB;gBAE5B,SAAS,EAAE,OAAO;gBAClB,MAAM,EAAE,KAAK;gBACb,IAAI,EAAE,sCAAsC;aAC7C;YACD;gBACE,KAAK,EAAE,iBAAiB;gBACxB,MAAM,EAAE,oBAAoB;gBAE5B,SAAS,EAAE,OAAO;gBAClB,MAAM,EAAE,KAAK;gBACb,IAAI,EAAE,eAAe;aACtB;YACD;gBACE,KAAK,EAAE,iBAAiB;gBACxB,MAAM,EAAE,yBAAyB;gBACjC,SAAS,EAAE,OAAO;gBAClB,MAAM,EAAE,KAAK;gBACb,IAAI,EAAE,uBAAuB;aAC9B;YACD;gBACE,KAAK,EAAE,aAAa;gBACpB,MAAM,EAAE,cAAc;gBAEtB,SAAS,EAAE,UAAU;gBACrB,MAAM,EAAE,KAAK;gBACb,IAAI,EAAE,IAAI;aACX;YACD;gBACE,KAAK,EAAE,WAAW;gBAClB,MAAM,EAAE,qBAAqB;gBAE7B,SAAS,EAAE,UAAU;gBACrB,MAAM,EAAE,KAAK;gBACb,IAAI,EAAE,IAAI;aACX;YACD;gBACE,KAAK,EAAE,cAAc;gBACrB,MAAM,EAAE,eAAe;gBACvB,SAAS,EAAE,UAAU;gBACrB,MAAM,EAAE,KAAK;gBACb,IAAI,EAAE,IAAI;aACX;YACD;gBACE,KAAK,EAAE,WAAW;gBAClB,MAAM,EAAE,YAAY;gBACpB,SAAS,EAAE,UAAU;gBACrB,MAAM,EAAE,KAAK;gBACb,IAAI,EAAE,IAAI;aACX;YACD;gBACE,KAAK,EAAE,UAAU;gBACjB,MAAM,EAAE,WAAW;gBAEnB,SAAS,EAAE,UAAU;gBACrB,MAAM,EAAE,KAAK;gBACb,IAAI,EAAE,IAAI;aACX;YACD;gBACE,KAAK,EAAE,aAAa;gBACpB,MAAM,EAAE,cAAc;gBAEtB,SAAS,EAAE,UAAU;gBACrB,MAAM,EAAE,KAAK;gBACb,IAAI,EAAE,IAAI;aACX;YACD;gBACE,KAAK,EAAE,UAAU;gBACjB,MAAM,EAAE,QAAQ;gBAChB,MAAM,EAAE,KAAK;gBACb,IAAI,EAAE,IAAI;aACX;YACD;gBACE,KAAK,EAAE,QAAQ;gBACf,MAAM,EAAE,QAAQ;gBAEhB,SAAS,EAAE,QAAQ;gBACnB,MAAM,EAAE,IAAI;gBACZ,IAAI,EAAE,IAAI;aACX;SACF,CAAC;QAEF,+BAA0B,GAAU,EAAE,CAAC;QACvC,+BAA0B,GAAQ,IAAI,CAAC;QACvC,+BAA0B,GAAQ,IAAI,CAAC;QAEvC,0BAAqB,GAAU,EAAE,CAAC;QAClC,oBAAe,GAAU,EAAE,CAAC;QAE5B,sBAAiB,GAAG,KAAK,CAAC;QAE1B,uBAAkB,GAAY,KAAK,CAAC;QAEpC,qBAAgB,GAAG,EAAE,CAAC;QAEtB,oBAAe,GAAG,WAAW,CAAC;IAe3B,CAAC;IAEJ,QAAQ;QACN,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;QAClB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;YACjC,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAC1B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;QACrE,MAAM,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,MAAM,CAAC;QACnD,IAAI,MAAM,IAAI,MAAM,CAAC,EAAE,EAAE;YACvB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CACjE,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,CAAC,CACnE,CAAC;YACF,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,EAAE,CAAC;SAC7B;QAED,EAAE;QACF,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC,KAAK,CACxC,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAClC,CAAC;QACF,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;QACzE,IAAI,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,CAAC;QACjE,IAAI,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;QAE3D,IAAI,MAAM,GAAG,IAAI,CAAC;QAClB,IAAI,MAAM,GAAG,IAAI,CAAC;QAElB,IAAI,UAAU,EAAE;YACd,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;YACxB,MAAM,GAAG,IAAI,CAAC,wBAAwB,CAAC,MAAM,CAC3C,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,IAAI,UAAU,CAAC,eAAe,CAAC,IAAI,CACrD,CAAC,CAAC,CAAC,CAAC;YACL,MAAM,GAAG,IAAI,CAAC,mBAAmB,CAAC,MAAM,CACtC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,IAAI,UAAU,CAAC,UAAU,CAAC,IAAI,CAChD,CAAC,CAAC,CAAC,CAAC;SACN;aAAM;YACL,IAAI,SAAS,EAAE;gBACb,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC,CAAC;gBAC7D,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC;aACzD;SACF;QAED,IAAI,MAAM,EAAE;YACV,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;SACjC;QACD,IAAI,MAAM,EAAE;YACV,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;SACpC;QACD,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,IAAI,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE;YAC/C,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC;YACzB,IAAI,CAAC,eAAe,EAAE,CAAC;YACvB,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;YACjC,IAAI,IAAI,CAAC,IAAI,IAAI,KAAK,EAAE;gBACtB,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;gBACvB,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC;aAC3B;SACF;aAAM;YACL,IAAI,IAAI,CAAC,IAAI,IAAI,KAAK,EAAE;gBACtB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,0BAA0B,CAAC,CAAC,CAAC;aACpD;iBAAM;gBACL,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;aACxC;SACF;QACD,EAAE;QAEF,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE,CAAC;QACjD,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QACvC,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,UAAU,EAAE;YAC9D,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;SACzB;IACH,CAAC;IAED,aAAa,CAAC,gBAA0B;QACtC,gBAAgB,CAAC,MAAM,CAAC,iBAAiB,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QAC9D,gBAAgB,CAAC,MAAM,CAAC,WAAW,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;QAChD,gBAAgB,CAAC,MAAM,CAAC,cAAc,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QACjE,gBAAgB,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC/C,gBAAgB,CAAC,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAClE,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC;QACnC,IAAI,IAAI,CAAC,kBAAkB,IAAI,IAAI,CAAC,IAAI,IAAI,OAAO,EAAE;YACnD,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;YAChD,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;YAC7C,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;gBAC/B,OAAO,EAAE,kIAAkI;gBAC3I,GAAG,EAAE,8BAA8B;gBACnC,MAAM,EAAE,GAAG,EAAE;oBACX,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;oBACxC,UAAU,CAAC,GAAG,EAAE;wBACd,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;wBAC5C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;oBACjD,CAAC,EAAE,GAAG,CAAC,CAAC;oBACR,UAAU,CAAC,GAAG,EAAE;wBACd,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;oBACzC,CAAC,EAAE,IAAI,CAAC,CAAC;gBACX,CAAC;aACF,CAAC,CAAC;SACJ;aAAM;YACL,IAAI,CAAC,gBAAgB,CAAC,gBAAgB,CAAC,CAAC;SACzC;IACH,CAAC;IAED,uBAAuB,CAAC,KAAU,EAAE,IAAS;QAC3C,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;QACrC,IAAI,CAAC,6BAA6B,GAAG,EAAE,CAAC;QAExC,IAAI,CAAC,6BAA6B,GAAG,IAAI,CAAC,KAAK,CAC7C,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CACjC,CAAC;QAEF,UAAU;QACV,IAAI,CAAC,eAAe;aACjB,kBAAkB,CACjB,KAAK,EACL,IAAI,EACJ,IAAI,CAAC,eAAe,CAAC,eAAe,EACpC,IAAI,CAAC,eAAe,CAAC,UAAU,EAC/B,IAAI,CAAC,QAAQ,CACd;aACA,SAAS,CAAC,CAAC,GAAG,EAAE,EAAE;YACjB,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;gBACzB,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;iBAClE;aACF;iBAAM;gBACL,IAAI,GAAG,CAAC,MAAM,CAAC,EAAE;oBACf,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;oBACxB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;oBAEvD,IAAI,CAAC,YAAY,GAAG,GAAG,CAAC,sBAAsB,CAAC,CAAC;oBAChD,IAAI,GAAG,CAAC,sBAAsB,CAAC,EAAE;wBAC/B,IAAI,CAAC,YAAY,GAAG,GAAG,CAAC,sBAAsB,CAAC,CAAC;qBACjD;oBACD,IAAI,CAAC,kBAAkB,GAAG,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;oBACjD,IAAI,CAAC,0BAA0B,GAAG,GAAG,CAAC,aAAa,CAAC,CAAC;oBAErD,gBAAgB;oBAChB,oEAAoE;oBAEpE,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;oBAEpE,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,kBAAkB,CAAC,uBAAuB,CACjE,IAAI,CAAC,gBAAgB,EACrB,IAAI,CAAC,kBAAkB,EACvB,IAAI,CAAC,gBAAgB,CACtB,CAAC;oBAEF,IAAI,CAAC,cAAc,GAAG,GAAG,CAAC,gBAAgB,CAAC,CAAC,GAAG,CAAC,CAAC,SAAS,EAAE,EAAE;wBAC5D,OAAO,EAAE,IAAI,EAAE,SAAS,CAAC,OAAO,EAAE,IAAI,EAAE,SAAS,CAAC,OAAO,EAAE,CAAC;oBAC9D,CAAC,CAAC,CAAC;oBACH,IAAI,CAAC,oBAAoB,GAAG,GAAG,CAAC,sBAAsB,CAAC,CAAC,GAAG,CACzD,CAAC,SAAS,EAAE,EAAE;wBACZ,OAAO,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC;oBAC9C,CAAC,CACF,CAAC;oBAEF,IAAI,cAAc,GAAG,KAAK,CAAC;oBAC3B,IAAI,eAAe,GAAG,KAAK,CAAC;oBAE5B,IAAI,GAAG,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;wBAC5C,cAAc,GAAG,IAAI,CAAC;qBACvB;oBAED,IAAI,GAAG,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE;wBACpD,eAAe,GAAG,IAAI,CAAC;qBACxB;oBAED,IAAI,cAAc,IAAI,eAAe,EAAE;wBACrC,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE;4BAChD,KAAK,EAAE,UAAU;4BACjB,MAAM,EAAE,WAAW;4BACnB,SAAS,EAAE,MAAM;yBAClB,CAAC,CAAC;wBACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE;4BAChD,KAAK,EAAE,QAAQ;4BACf,MAAM,EAAE,SAAS;4BACjB,SAAS,EAAE,MAAM;yBAClB,CAAC,CAAC;wBACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE;4BAChD,KAAK,EAAE,eAAe;4BACtB,MAAM,EAAE,aAAa;4BACrB,SAAS,EAAE,MAAM;yBAClB,CAAC,CAAC;wBACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE;4BAChD,KAAK,EAAE,aAAa;4BACpB,MAAM,EAAE,WAAW;4BACnB,SAAS,EAAE,MAAM;yBAClB,CAAC,CAAC;wBAEH,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;qBACtC;yBAAM;wBACL,IAAI,cAAc,EAAE;4BAClB,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE;gCAChD,KAAK,EAAE,eAAe;gCACtB,MAAM,EAAE,aAAa;gCACrB,SAAS,EAAE,MAAM;6BAClB,CAAC,CAAC;4BACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE;gCAChD,KAAK,EAAE,aAAa;gCACpB,MAAM,EAAE,WAAW;gCACnB,SAAS,EAAE,MAAM;6BAClB,CAAC,CAAC;4BACH,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;yBACtC;6BAAM,IAAI,eAAe,EAAE;4BAC1B,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE;gCAChD,KAAK,EAAE,UAAU;gCACjB,MAAM,EAAE,WAAW;gCACnB,SAAS,EAAE,MAAM;6BAClB,CAAC,CAAC;4BACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE;gCAChD,KAAK,EAAE,QAAQ;gCACf,MAAM,EAAE,SAAS;gCACjB,SAAS,EAAE,MAAM;6BAClB,CAAC,CAAC;4BACH,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;yBACtC;6BAAM,IAAI,CAAC,cAAc,IAAI,CAAC,eAAe,EAAE;4BAC9C,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;yBACtC;qBACF;oBACD,IAAI,CAAC,0BAA0B,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC;oBAC9C,IAAI,CAAC,0BAA0B,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;wBAC/C,IAAI,QAAQ,GAAG,IAAI,CAAC,kBAAkB,CAAC,CAAC;wBAExC,IAAI,qBAAqB,GAAG,IAAI,CAAC;wBACjC,IAAI,mBAAmB,GAAG,IAAI,CAAC;wBAC/B,IAAI,qBAAqB,GAAG,IAAI,CAAC;wBAEjC,IAAI,QAAQ,IAAI,QAAQ,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE;4BACzC,IAAI,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,MAAM,IAAI,CAAC,EAAE;gCACtC,qBAAqB,GAAG,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;gCAClD,mBAAmB,GAAG,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;gCAChD,qBAAqB,GAAG,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;gCAElD,IAAI,mBAAmB,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE;oCACzC,IAAI,CAAC,eAAe,CAAC,GAAG,mBAAmB;yCACxC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;yCACd,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;oCACjB,IAAI,CAAC,aAAa,CAAC,GAAG,mBAAmB;yCACtC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;yCACd,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;iCAClB;gCAED,IAAI,qBAAqB,CAAC,QAAQ,CAAC,eAAe,CAAC,EAAE;oCACnD,IAAI,CAAC,UAAU,CAAC,GAAG,qBAAqB;yCACrC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;yCACd,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;oCACjB,IAAI,CAAC,QAAQ,CAAC,GAAG,qBAAqB;yCACnC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;yCACd,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;iCAClB;6BACF;iCAAM,IAAI,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,MAAM,IAAI,CAAC,EAAE;gCAC7C,qBAAqB,GAAG,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;gCAClD,mBAAmB,GAAG,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;gCAEhD,IAAI,mBAAmB,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE;oCACzC,IAAI,CAAC,eAAe,CAAC,GAAG,mBAAmB;yCACxC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;yCACd,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;oCACjB,IAAI,CAAC,aAAa,CAAC,GAAG,mBAAmB;yCACtC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;yCACd,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;iCAClB;qCAAM,IAAI,mBAAmB,CAAC,QAAQ,CAAC,eAAe,CAAC,EAAE;oCACxD,IAAI,CAAC,UAAU,CAAC,GAAG,mBAAmB;yCACnC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;yCACd,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;oCACjB,IAAI,CAAC,QAAQ,CAAC,GAAG,mBAAmB;yCACjC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;yCACd,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;iCAClB;6BACF;yBACF;6BAAM;yBACN;oBACH,CAAC,CAAC,CAAC;oBAEH,SAAS;oBAET,iDAAiD;oBACjD,mCAAmC;oBACnC,IAAI;oBAEJ,iCAAiC;oBACjC,mDAAmD;oBACnD,WAAW;oBACX,yDAAyD;oBACzD,0DAA0D;oBAC1D,4BAA4B;oBAC5B,8BAA8B;oBAC9B,2BAA2B;oBAC3B,UAAU;oBACV,qDAAqD;oBACrD,0DAA0D;oBAC1D,8CAA8C;oBAC9C,mDAAmD;oBACnD,sCAAsC;oBACtC,mBAAmB;oBACnB,0DAA0D;oBAC1D,sCAAsC;oBACtC,mBAAmB;oBACnB,UAAU;oBACV,0DAA0D;oBAC1D,0DAA0D;oBAC1D,gCAAgC;oBAChC,+BAA+B;oBAC/B,2BAA2B;oBAC3B,UAAU;oBACV,0DAA0D;oBAC1D,8BAA8B;oBAC9B,6BAA6B;oBAC7B,2BAA2B;oBAC3B,UAAU;oBACV,qDAAqD;oBACrD,0DAA0D;oBAC1D,8CAA8C;oBAC9C,uDAAuD;oBACvD,mEAAmE;oBACnE,gDAAgD;oBAChD,qDAAqD;oBACrD,mEAAmE;oBACnE,gDAAgD;oBAEhD,0DAA0D;oBAC1D,sCAAsC;oBACtC,mBAAmB;oBACnB,UAAU;oBACV,MAAM;oBACN,IAAI;oBAEJ,IAAI,CAAC,0BAA0B,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;wBAC/C,OAAO,IAAI,CAAC,EAAE,CAAC;wBACf,IAAI,CAAC,gBAAgB,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC;wBAC7C,IAAI,CAAC,sBAAsB,CAAC,GAAG,IAAI,CAAC,oBAAoB,CAAC;wBACzD,IAAI,CAAC,QAAQ,CAAC,GAAG,GAAG,CAAC,QAAQ,CAAC,CAAC;wBAC/B,IAAI,CAAC,eAAe,CAAC,GAAG,KAAK,CAAC;wBAC9B,IAAI,CAAC,kBAAkB,CAAC,GAAG,KAAK,CAAC;wBACjC,IAAI,CAAC,wBAAwB,CAAC,GAAG,KAAK,CAAC;wBACvC,IAAI,CAAC,QAAQ,CAAC,GAAG,QAAQ,CAAC;oBAC5B,CAAC,CAAC,CAAC;oBAEH,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,IAAI,CAAC,0BAA0B,CAAC,CAAC;oBAEnD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,oCAAoC,CACrC,CAAC;oBACF,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;iBACxC;qBAAM;oBACL,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;oBACrC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;oBACvC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;oBACvC,IAAI,CAAC,6BAA6B,GAAG,EAAE,CAAC;oBACxC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,yCAAyC,CAC1C,CAAC;oBACF,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;iBACxC;aACF;QACH,CAAC,CAAC,CAAC;IACP,CAAC;IAED,QAAQ,CAAC,IAAS;QAChB,IAAI,CAAC,yBAAyB,EAAE,CAAC;IACnC,CAAC;IACD,yBAAyB;QACvB,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,IAAI,SAAS,GAAG,EAAE,CAAC;QACnB,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,EAAE;YAC5B,SAAS,GAAG,QAAQ,CAAC;YACrB,IAAI,GAAG,UAAU,CAAC;SACnB;aAAM;YACL,SAAS,GAAG,UAAU,CAAC;YACvB,IAAI,GAAG,YAAY,CAAC;SACrB;QACD,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;QAChD,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,WAAW,GAAG,EAAE,CAAC;QACrB,WAAW;YACT,mDAAmD;gBACnD,iBAAiB;gBACjB,IAAI;gBACJ,yBAAyB,IAAI,CAAC,YAAY,GAAG,CAAC;QAEhD,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;YAC/B,OAAO,EAAE,WAAW;YACpB,GAAG,EAAE,8BAA8B;YACnC,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;gBAC7B,IAAI,CAAC,mBAAmB,EAAE,CAAC;YAC7B,CAAC;YACD,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;gBAC/B,IAAI,CAAC,mBAAmB,EAAE,CAAC;YAC7B,CAAC;SACF,CAAC,CAAC;IACL,CAAC;IACD,YAAY,CAAC,SAAc;QACzB,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QAExC,MAAM,QAAQ,GAAG,IAAI,QAAQ,EAAE,CAAC;QAChC,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;QACvC,QAAQ,CAAC,MAAM,CAAC,sBAAsB,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QAC3D,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;QACrC,QAAQ,CAAC,MAAM,CAAC,cAAc,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QACzD,QAAQ,CAAC,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC1D,QAAQ,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;QACvC,IAAI,CAAC,yBAAyB,CAAC,QAAQ,CAAC,CAAC;IAC3C,CAAC;IAED,yBAAyB,CAAC,QAAa;QACrC,IAAI,CAAC,eAAe,CAAC,oBAAoB,CAAC,QAAQ,CAAC,CAAC,SAAS,CAC3D,CAAC,GAAG,EAAE,EAAE;YACN,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;iBAClE;aACF;iBAAM;gBACL,IAAI,OAAO,GAAG,EAAE,CAAC;gBACjB,IAAI,GAAG,CAAC,OAAO,CAAC,IAAI,MAAM,EAAE;oBAC1B,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;oBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;iBAC5C;qBAAM;oBACL,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;wBACd,OAAO,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC;wBACrB,IAAI,CAAC,WAAW,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC;wBACrC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;qBAC5C;yBAAM;wBACL,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;wBACvC,OAAO,GAAG,gDAAgD,CAAC;wBAC3D,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;qBAC5C;iBACF;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,OAAO,CAAC,GAAG,CAAC,gCAAgC,EAAE,GAAG,CAAC,CAAC;YACnD,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,CACF,CAAC;IACJ,CAAC;IAED,gBAAgB,CAAC,QAAa;QAC5B,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;QACrC,IAAI,CAAC,6BAA6B,GAAG,EAAE,CAAC;QACxC,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QAExC,IAAI,CAAC,6BAA6B,GAAG,IAAI,CAAC,KAAK,CAC7C,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CACjC,CAAC;QAEF,UAAU;QACV,IAAI,CAAC,eAAe,CAAC,mBAAmB,CAAC,QAAQ,CAAC,CAAC,SAAS,CAC1D,CAAC,GAAG,EAAE,EAAE;YACN,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;iBAClE;aACF;iBAAM;gBACL,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBAEvC,IAAI,GAAG,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,KAAK,CAAC,IAAI,+BAA+B,EAAE;oBAC/D,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;oBACrC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;oBACvC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;oBACvC,IAAI,CAAC,6BAA6B,GAAG,EAAE,CAAC;oBACxC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;oBAC9C,OAAO;iBACR;gBAED,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,EAAE;oBACrB,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;oBAC7D,IAAI,CAAC,0BAA0B,GAAG,GAAG,CAAC,aAAa,CAAC,CAAC;oBACrD,IAAI,CAAC,0BAA0B,GAAG,GAAG,CAAC,WAAW,CAAC,CAAC;oBACnD,IAAI,OAAO,GACT,IAAI,CAAC,mBAAmB,CAAC,gCAAgC,CAAC,GAAG,CAAC,CAAC;oBAEjE,IAAI,SAAS,GAAG,IAAI,CAAC,kBAAkB,CAAC,uBAAuB,CAC7D,OAAO,CAAC,OAAO,EACf,IAAI,CAAC,kBAAkB,EACvB,IAAI,CAAC,gBAAgB,CACtB,CAAC;oBACF,IAAI,CAAC,cAAc,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,cAAc,CAAC,GAAG,CAClD,CAAC,SAAS,EAAE,EAAE;wBACZ,OAAO,EAAE,IAAI,EAAE,SAAS,CAAC,OAAO,EAAE,IAAI,EAAE,SAAS,CAAC,OAAO,EAAE,CAAC;oBAC9D,CAAC,CACF,CAAC;oBACF,IAAI,CAAC,oBAAoB,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,oBAAoB,CAAC,GAAG,CAC9D,CAAC,SAAS,EAAE,EAAE;wBACZ,OAAO,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC;oBAC9C,CAAC,CACF,CAAC;oBAEF,IAAI,cAAc,GAAG,KAAK,CAAC;oBAC3B,IAAI,eAAe,GAAG,KAAK,CAAC;oBAE5B,IAAI,eAAe,GAAG,GAAG,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;oBAE1D,IAAI,GAAG,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;wBAC5C,cAAc,GAAG,IAAI,CAAC;qBACvB;oBAED,IAAI,GAAG,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE;wBACpD,eAAe,GAAG,IAAI,CAAC;qBACxB;oBAED,IAAI,cAAc,IAAI,eAAe,EAAE;wBACrC,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE;4BAChD,KAAK,EAAE,UAAU;4BACjB,MAAM,EAAE,WAAW;4BACnB,SAAS,EAAE,MAAM;yBAClB,CAAC,CAAC;wBACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE;4BAChD,KAAK,EAAE,QAAQ;4BACf,MAAM,EAAE,SAAS;4BACjB,SAAS,EAAE,MAAM;yBAClB,CAAC,CAAC;wBACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE;4BAChD,KAAK,EAAE,eAAe;4BACtB,MAAM,EAAE,aAAa;4BACrB,SAAS,EAAE,MAAM;yBAClB,CAAC,CAAC;wBACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE;4BAChD,KAAK,EAAE,aAAa;4BACpB,MAAM,EAAE,WAAW;4BACnB,SAAS,EAAE,MAAM;yBAClB,CAAC,CAAC;wBAEH,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;wBAErC,IAAI,cAAc,GAAG,OAAO,CAAC,WAAW,CAAC;wBACzC,IAAI,aAAa,GAAG,OAAO,CAAC,UAAU,CAAC;wBAEvC,cAAc,CAAC,OAAO,CAAC,CAAC,SAAS,EAAE,EAAE;4BACnC,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;4BAC3B,aAAa,CAAC,OAAO,CAAC,CAAC,QAAQ,EAAE,EAAE;gCACjC,IAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CACtB,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,gBAAgB,CAAC,CAC7C,CAAC;gCACF,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;gCACtB,OAAO,CAAC,UAAU,CAAC,GAAG,SAAS,CAAC,YAAY,CAAC;gCAC7C,OAAO,CAAC,QAAQ,CAAC,GAAG,SAAS,CAAC,UAAU,CAAC;gCACzC,OAAO,CAAC,eAAe,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC;gCACzC,OAAO,CAAC,aAAa,CAAC,GAAG,QAAQ,CAAC,EAAE,CAAC;gCAErC,OAAO,CACL,kBAAkB,CACnB,GAAG,GAAG,eAAe,YAAY,QAAQ,CAAC,MAAM,CAAC,QAAQ,QAAQ,CAAC,IAAI,CAAC,oBAAoB,SAAS,CAAC,cAAc,CAAC,gBAAgB,SAAS,CAAC,YAAY,CAAC,EAAE,CAAC;gCAC/J,IAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;4BAChD,CAAC,CAAC,CAAC;wBACL,CAAC,CAAC,CAAC;qBACJ;yBAAM;wBACL,IAAI,cAAc,EAAE;4BAClB,IAAI,aAAa,GAAG,OAAO,CAAC,UAAU,CAAC;4BACvC,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE;gCAChD,KAAK,EAAE,eAAe;gCACtB,MAAM,EAAE,aAAa;gCACrB,SAAS,EAAE,MAAM;6BAClB,CAAC,CAAC;4BACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE;gCAChD,KAAK,EAAE,aAAa;gCACpB,MAAM,EAAE,WAAW;gCACnB,SAAS,EAAE,MAAM;6BAClB,CAAC,CAAC;4BACH,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;4BACrC,aAAa,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;gCAC9B,IAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CACtB,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,gBAAgB,CAAC,CAC7C,CAAC;gCACF,OAAO,CAAC,eAAe,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC;gCACtC,OAAO,CAAC,aAAa,CAAC,GAAG,KAAK,CAAC,EAAE,CAAC;gCAClC,OAAO,CACL,kBAAkB,CACnB,GAAG,GAAG,eAAe,YAAY,KAAK,CAAC,MAAM,CAAC,QAAQ,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC;gCACrE,IAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;4BAChD,CAAC,CAAC,CAAC;yBACJ;6BAAM,IAAI,eAAe,EAAE;4BAC1B,IAAI,cAAc,GAAG,OAAO,CAAC,WAAW,CAAC;4BACzC,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE;gCAChD,KAAK,EAAE,UAAU;gCACjB,MAAM,EAAE,WAAW;gCACnB,SAAS,EAAE,MAAM;6BAClB,CAAC,CAAC;4BACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE;gCAChD,KAAK,EAAE,QAAQ;gCACf,MAAM,EAAE,SAAS;gCACjB,SAAS,EAAE,MAAM;6BAClB,CAAC,CAAC;4BACH,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;4BACrC,cAAc,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;gCAC/B,IAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CACtB,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,gBAAgB,CAAC,CAC7C,CAAC;gCACF,OAAO,CAAC,UAAU,CAAC,GAAG,KAAK,CAAC,YAAY,CAAC;gCACzC,OAAO,CAAC,QAAQ,CAAC,GAAG,KAAK,CAAC,UAAU,CAAC;gCACrC,OAAO,CACL,kBAAkB,CACnB,GAAG,GAAG,eAAe,oBAAoB,KAAK,CAAC,cAAc,CAAC,gBAAgB,KAAK,CAAC,YAAY,CAAC,EAAE,CAAC;gCACrG,IAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;4BAChD,CAAC,CAAC,CAAC;yBACJ;6BAAM,IAAI,CAAC,cAAc,IAAI,CAAC,eAAe,EAAE;4BAC9C,IAAI,CAAC,0BAA0B,GAAG;gCAChC,GAAG,CAAC,MAAM,CAAC,CAAC,gBAAgB;6BAC7B,CAAC;4BACF,IAAI,CAAC,0BAA0B,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;gCAC/C,IAAI,CAAC,kBAAkB,CAAC,GAAG,eAAe,CAAC;4BAC7C,CAAC,CAAC,CAAC;yBACJ;qBACF;oBAED,UAAU;oBAEV,6CAA6C;oBAC7C,wDAAwD;oBACxD,+DAA+D;oBAC/D,MAAM;oBACN,WAAW;oBACX,sEAAsE;oBACtE,wDAAwD;oBACxD,uCAAuC;oBACvC,QAAQ;oBACR,kDAAkD;oBAClD,IAAI;oBAEJ,iDAAiD;oBACjD,mCAAmC;oBACnC,WAAW;oBACX,oCAAoC;oBACpC,IAAI;oBAEJ,iCAAiC;oBACjC,sEAAsE;oBACtE,wDAAwD;oBACxD,uCAAuC;oBACvC,QAAQ;oBACR,kDAAkD;oBAClD,WAAW;oBACX,yDAAyD;oBACzD,qDAAqD;oBACrD,2CAA2C;oBAC3C,UAAU;oBACV,0DAA0D;oBAC1D,4BAA4B;oBAC5B,8BAA8B;oBAC9B,2BAA2B;oBAC3B,UAAU;oBACV,4CAA4C;oBAC5C,wCAAwC;oBACxC,kCAAkC;oBAClC,uDAAuD;oBACvD,WAAW;oBACX,sCAAsC;oBACtC,6CAA6C;oBAC7C,uDAAuD;oBACvD,UAAU;oBACV,0DAA0D;oBAC1D,8CAA8C;oBAC9C,0DAA0D;oBAC1D,gCAAgC;oBAChC,+BAA+B;oBAC/B,2BAA2B;oBAC3B,UAAU;oBACV,0DAA0D;oBAC1D,8BAA8B;oBAC9B,6BAA6B;oBAC7B,2BAA2B;oBAC3B,UAAU;oBACV,4CAA4C;oBAC5C,yCAAyC;oBACzC,kCAAkC;oBAClC,uDAAuD;oBACvD,WAAW;oBACX,+CAA+C;oBAC/C,2CAA2C;oBAC3C,iBAAiB;oBACjB,6BAA6B;oBAC7B,wDAAwD;oBACxD,uDAAuD;oBACvD,UAAU;oBACV,MAAM;oBACN,IAAI;oBAEJ,IAAI,CAAC,0BAA0B,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;wBAC/C,OAAO,IAAI,CAAC,EAAE,CAAC;wBACf,IAAI,CAAC,gBAAgB,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC;wBAC7C,IAAI,CAAC,sBAAsB,CAAC,GAAG,IAAI,CAAC,oBAAoB,CAAC;wBACzD,IAAI,CAAC,QAAQ,CAAC,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC;wBACpC,IAAI,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,0BAA0B,CAAC;wBACtD,IAAI,CAAC,eAAe,CAAC,GAAG,KAAK,CAAC;wBAC9B,IAAI,CAAC,kBAAkB,CAAC,GAAG,KAAK,CAAC;wBACjC,IAAI,CAAC,wBAAwB,CAAC,GAAG,KAAK,CAAC;wBACvC,IAAI,CAAC,QAAQ,CAAC,GAAG,QAAQ,CAAC;wBAC1B,IAAI,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;wBAC7B,IAAI,CAAC,cAAc,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC;oBAC3C,CAAC,CAAC,CAAC;oBACH,6BAA6B;oBAE7B,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,IAAI,CAAC,0BAA0B,CAAC,CAAC;oBACnD,yDAAyD;oBAEzD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,+BAA+B,CAAC,CAAC;oBACnE,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;iBACxC;qBAAM;oBACL,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;oBACrC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;oBACvC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;oBACvC,IAAI,CAAC,6BAA6B,GAAG,EAAE,CAAC;oBACxC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,kCAAkC,CACnC,CAAC;iBACH;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,OAAO,CAAC,GAAG,CAAC,gCAAgC,EAAE,GAAG,CAAC,CAAC;YACnD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;QACnE,CAAC,CACF,CAAC;IACJ,CAAC;IAED,kBAAkB;QAChB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YACnC,YAAY,EAAE,IAAI,8DAAkB,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAE,EAAE;gBACnE,+DAAmB;aACpB,CAAC;YACF,OAAO,EAAE,IAAI,8DAAkB,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,EAAE;gBAC7D,+DAAmB;aACpB,CAAC;SACH,CAAC,CAAC;IACL,CAAC;IAED,IAAI,OAAO;QACT,OAAO,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;IAClD,CAAC;IACD,IAAI,UAAU;QACZ,OAAO,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;IAC7C,CAAC;IAED,gBAAgB;QACd,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QACzB,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;QAClC,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;QACxB,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC;IAC3B,CAAC;IAED,eAAe;QACb,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;QACrC,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QACvB,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;QAC3B,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;QACjC,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QACzB,IAAI,CAAC,qBAAqB,EAAE,CAAC;QAC7B,IAAI,CAAC,eAAe,EAAE,CAAC;IACzB,CAAC;IAED,cAAc,CAAC,CAAM,EAAE,KAAU,EAAE,QAAa,EAAE,OAAY;QAC5D,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,WAAW,EAAE,KAAK,EAAE,OAAO,CAAC,CAAC;QAE3C,IAAI,KAAK,IAAI,WAAW,EAAE;YACxB,IAAI,CAAC,CAAC,WAAW,IAAI,IAAI,EAAE;gBACzB,IAAI,CAAC,0BAA0B,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,CAAC,EAAE,EAAE;oBAClD,IAAI,CAAC,IAAI,QAAQ,EAAE;wBACjB,IAAI,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;qBACrB;gBACH,CAAC,CAAC,CAAC;aACJ;SACF;aAAM,IAAI,KAAK,IAAI,aAAa,EAAE;YACjC,IAAI,CAAC,CAAC,WAAW,EAAE;gBACjB,OAAO,CAAC,WAAW,CAAC,GAAG,KAAK,CAAC;gBAC7B,OAAO,CAAC,UAAU,CAAC,GAAG,KAAK,CAAC;gBAC5B,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC;aAC1B;iBAAM;gBACL,OAAO,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC;gBAC5B,OAAO,CAAC,UAAU,CAAC,GAAG,IAAI,CAAC;aAC5B;SACF;IACH,CAAC;IAED,cAAc,CAAC,SAAc,EAAE,KAAU,EAAE,KAAU;QACnD,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC;QAE/D,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,CAAC;IACtD,CAAC;IAED,cAAc,CAAC,SAAc,EAAE,KAAU,EAAE,SAAc,EAAE,SAAc;QACvE,IAAI,SAAS,IAAI,QAAQ,EAAE;YACzB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;SACpB;aAAM,IAAI,SAAS,IAAI,OAAO,EAAE;YAC/B,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,SAAS,EAAE,SAAS,CAAC,CAAC;SACzC;IACH,CAAC;IACD,KAAK,CAAC,KAAU,EAAE,SAAc,EAAE,SAAc;QAC9C,IAAI,SAAS,GAAG;YACd,GAAG,SAAS;SACb,CAAC;QACF,SAAS,CAAC,SAAS,CAAC,GAAG,cAAc,CAAC;QACtC,SAAS,CAAC,QAAQ,CAAC,GAAG,GAAG,CAAC;QAC1B,SAAS,CAAC,UAAU,CAAC,GAAG,GAAG,CAAC;QAC5B,SAAS,CAAC,WAAW,CAAC,GAAG,KAAK,CAAC;QAC/B,IAAI,CAAC,0BAA0B,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC,EAAE,CAAC,EAAE,SAAS,CAAC,CAAC;IAClE,CAAC;IACD,MAAM,CAAC,KAAU;QACf,IAAI,CAAC,0BAA0B,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;IACnD,CAAC;IAED,gBAAgB,CAAC,CAAM,EAAE,KAAU,EAAE,GAAQ,EAAE,QAAa;QAC1D,IAAI,KAAK,IAAI,cAAc,EAAE;YAC3B,MAAM,OAAO,GAAG,gBAAgB,CAAC;YACjC,IAAI,CAAC,CAAC,MAAM,EAAE;gBACZ,MAAM,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;gBAC/B,IAAI,KAAK,EAAE;oBACT,MAAM,GAAG,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;oBAC/B,MAAM,GAAG,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;oBAC/B,IAAI,GAAG,IAAI,GAAG,EAAE;wBACd,GAAG,CAAC,SAAS,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;wBACnC,IAAI,CAAC,0BAA0B,CAAC,QAAQ,CAAC,CAAC,eAAe,CAAC,GAAG,KAAK,CAAC;qBACpE;yBAAM;wBACL,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;wBAChC,IAAI,CAAC,0BAA0B,CAAC,QAAQ,CAAC,CAAC,eAAe,CAAC,GAAG,IAAI,CAAC;qBACnE;iBACF;qBAAM;oBACL,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;oBAChC,IAAI,CAAC,0BAA0B,CAAC,QAAQ,CAAC,CAAC,eAAe,CAAC,GAAG,IAAI,CAAC;iBACnE;aACF;iBAAM;gBACL,GAAG,CAAC,SAAS,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;gBACnC,IAAI,CAAC,0BAA0B,CAAC,QAAQ,CAAC,CAAC,eAAe,CAAC,GAAG,KAAK,CAAC;aACpE;SACF;aAAM,IAAI,KAAK,IAAI,iBAAiB,EAAE;YACrC,MAAM,OAAO,GAAG,OAAO,CAAC;YACxB,IAAI,CAAC,CAAC,MAAM,EAAE;gBACZ,MAAM,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;gBAC/B,IAAI,KAAK,EAAE;oBACT,GAAG,CAAC,SAAS,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;oBACnC,IAAI,CAAC,0BAA0B,CAAC,QAAQ,CAAC,CAAC,kBAAkB,CAAC,GAAG,KAAK,CAAC;iBACvE;qBAAM;oBACL,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;oBAChC,IAAI,CAAC,0BAA0B,CAAC,QAAQ,CAAC,CAAC,kBAAkB,CAAC,GAAG,IAAI,CAAC;iBACtE;aACF;iBAAM;gBACL,GAAG,CAAC,SAAS,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;gBACnC,IAAI,CAAC,0BAA0B,CAAC,QAAQ,CAAC,CAAC,kBAAkB,CAAC,GAAG,KAAK,CAAC;aACvE;SACF;aAAM,IAAI,KAAK,IAAI,iBAAiB,EAAE;YACrC,MAAM,OAAO,GAAG,OAAO,CAAC;YACxB,IAAI,CAAC,CAAC,MAAM,EAAE;gBACZ,MAAM,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;gBAC/B,IAAI,KAAK,EAAE;oBACT,IAAI,MAAM,CAAC,CAAC,CAAC,GAAG,GAAG,IAAI,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE;wBACpC,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;wBAChC,IAAI,CAAC,0BAA0B,CAAC,QAAQ,CAAC,CACvC,wBAAwB,CACzB,GAAG,IAAI,CAAC;qBACV;yBAAM;wBACL,GAAG,CAAC,SAAS,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;wBACnC,IAAI,CAAC,0BAA0B,CAAC,QAAQ,CAAC,CACvC,wBAAwB,CACzB,GAAG,KAAK,CAAC;qBACX;iBACF;qBAAM;oBACL,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;oBAChC,IAAI,CAAC,0BAA0B,CAAC,QAAQ,CAAC,CAAC,wBAAwB,CAAC;wBACjE,IAAI,CAAC;iBACR;aACF;iBAAM;gBACL,GAAG,CAAC,SAAS,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;gBACnC,IAAI,CAAC,0BAA0B,CAAC,QAAQ,CAAC,CAAC,wBAAwB,CAAC;oBACjE,KAAK,CAAC;aACT;SACF;IACH,CAAC;IAED,qBAAqB;QACnB,IAAI,IAAI,CAAC,IAAI,IAAI,KAAK,EAAE;YACtB,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;SACzC;QACD,8CAAQ,CAAC;YACP,kBAAkB,EAAE,IAAI,CAAC,eAAe,CAAC,qBAAqB,CAC5D,IAAI,CAAC,MAAM,EACX,IAAI,CAAC,QAAQ,EACb,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EACvB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAC3B;YACD,wBAAwB,EAAE,IAAI,CAAC,eAAe,CAAC,0BAA0B,CACvE,IAAI,CAAC,MAAM,EACX,IAAI,CAAC,QAAQ,EACb,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EACvB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAC3B;SACF,CAAC;aACC,IAAI,CACH,oDAAI,CAAC,CAAC,CAAC,EACP,mDAAG,CAAC,CAAC,QAAQ,EAAE,EAAE;YACf,IACE,QAAQ,CAAC,wBAAwB,CAAC,MAAM,CAAC;gBACzC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,wBAAwB,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,EAClE;gBACA,OAAO;oBACL,GAAG,EAAE,sDAAsD;iBAC5D,CAAC;aACH;iBAAM;gBACL,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAC;gBACnD,IAAI,kBAAkB,GAAG,gEAAY,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAC;gBACnE,OAAO,kBAAkB,CAAC,cAAc,CAAC,CAAC;gBAC1C,IAAI,CAAC,gBAAgB,GAAG,QAAQ,CAAC,kBAAkB,CAAC,cAAc,CAAC,CAAC;gBACpE,MAAM,kBAAkB,GAAG,kBAAkB,CAAC;gBAC9C,IAAI,CAAC,uBAAuB,GAAG,QAAQ,CAAC,wBAAwB,CAAC;gBACjE,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,YAAY,CAAC,qBAAqB,CAAC,OAAO,CAC1E,CAAC,IAAI,EAAE,EAAE;oBACP,IAAI,IAAI,CAAC,cAAc,CAAC,IAAI,MAAM,EAAE;wBAClC,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC;qBACrD;oBACD,IAAI,IAAI,CAAC,cAAc,CAAC,IAAI,MAAM,EAAE;wBAClC,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC;qBACrD;gBACH,CAAC,CACF,CAAC;gBAEF,IAAI,IAAI,CAAC,IAAI,IAAI,KAAK,EAAE;oBACtB,IAAI,CAAC,YAAY;wBACf,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,YAAY,CAAC;oBACjD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC;oBACpC,IAAI,CAAC,YAAY;wBACf,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,YAAY,CAAC;iBAClD;gBAED,IAAI,CAAC,qBAAqB,GAAG;oBAC3B,GAAG,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,YAAY;yBAC9C,qBAAqB;iBACzB,CAAC;gBAEF,IAAI,CAAC,mBAAmB;oBACtB,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,SAAS;yBACxC,OAAO,CAAC,YAAY,EAAE,EAAE,CAAC;yBACzB,KAAK,CAAC,IAAI,CAAC,CAAC;gBAEjB,IAAI,CAAC,oBAAoB;oBACvB,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,UAAU,CAAC;gBAE/C,IAAI,0BAA0B,GAC5B,IAAI,CAAC,mBAAmB,CAAC,iBAAiB,CACxC,IAAI,CAAC,uBAAuB,EAC5B,IAAI,CAAC,qBAAqB,EAC1B,kBAAkB,EAClB,IAAI,CAAC,mBAAmB,EACxB,IAAI,CAAC,oBAAoB,EACzB,IAAI,CAAC,kBAAkB,CACxB,CAAC;gBAEJ,IAAI,CAAC,qBAAqB;oBACxB,0BAA0B,CAAC,uBAAuB,CAAC,CAAC;gBACtD,IAAI,CAAC,sBAAsB;oBACzB,0BAA0B,CAAC,wBAAwB,CAAC,CAAC;gBACvD,OAAO,kBAAkB,CAAC;aAC3B;QACH,CAAC,CAAC,CACH;aACA,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;gBACf,IACE,GAAG,CAAC,QAAQ,CAAC;oBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;oBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;oBACA,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;oBACvC,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;oBACzB,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;wBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;qBACjD;yBAAM;wBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,6BAA6B,CAC9B,CAAC;qBACH;iBACF;qBAAM;oBACL,IAAI,CAAC,kBAAkB,GAAG,GAAG,CAAC;oBAC9B,IAAI,IAAI,CAAC,IAAI,IAAI,MAAM,EAAE;wBACvB,IACE,CAAC,CACC,IAAI,CAAC,eAAe,CAAC,eAAe;4BACpC,IAAI,CAAC,eAAe,CAAC,UAAU,CAChC,EACD;4BACA,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;4BAClC,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;4BACzB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,0BAA0B,CAAC,CAAC,CAAC;yBACpD;6BAAM;4BACL,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;yBACvD;qBACF;yBAAM,IAAI,IAAI,CAAC,IAAI,IAAI,OAAO,EAAE;wBAC/B,IACE,CAAC,CACC,IAAI,CAAC,eAAe,CAAC,eAAe;4BACpC,IAAI,CAAC,eAAe,CAAC,UAAU,CAChC,EACD;4BACA,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;4BAClC,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;4BACzB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,0BAA0B,CAAC,CAAC,CAAC;yBACpD;6BAAM;4BACL,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC;yBACxD;qBACF;yBAAM;wBACL,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;wBACxB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;qBACxC;iBACF;aACF;iBAAM,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;gBACrB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;gBAC9C,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,OAAO;aACR;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;YACzB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,OAAO,CAAC,GAAG,CAAC,qCAAqC,EAAE,GAAG,CAAC,CAAC;YACxD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;QACnE,CAAC,CACF,CAAC;IACN,CAAC;IAED,gBAAgB,CAAC,UAAe;QAC9B,MAAM,mBAAmB,GAAG,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,EAAE,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC;QAC3E,IAAI,CAAC,mBAAmB,GAAG,mBAAmB,CAAC;IACjD,CAAC;IAED,sBAAsB;QACpB,IAAI,CAAC,0BAA0B,CAAC,sBAAsB,EAAE,CAAC;IAC3D,CAAC;IAED,sBAAsB,CACpB,SAAc,EACd,WAAgB,EAChB,gBAAqB;QAErB,IAAI,gBAAgB,GAAG,gBAAgB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAElD,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,CAAC,eAAe;aACjB,0BAA0B,CACzB,IAAI,CAAC,QAAQ,EACb,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EACvB,gBAAgB,EAChB,SAAS,EACT,WAAW,EACX,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAC3B;aACA,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;iBAClE;aACF;iBAAM;gBACL,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,GAAG,CAAC,SAAS,CAAC,EAAE;oBAClB,IAAI,CAAC,0BAA0B,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC;oBACnD,IAAI,CAAC,0BAA0B,CAAC,kBAAkB,GAAG,KAAK,CAAC;oBAC3D,IAAI,CAAC,0BAA0B,CAAC,cAAc,GAAG,KAAK,CAAC;oBAEvD,IAAI,CAAC,uBAAuB,GAAG,GAAG,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE;wBACxD,OAAO,EAAE,IAAI,EAAE,GAAG,CAAC,UAAU,CAAC,EAAE,IAAI,EAAE,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC;oBACtD,CAAC,CAAC,CAAC;iBACJ;qBAAM;oBACL,IAAI,GAAG,CAAC,SAAS,CAAC,EAAE;wBAClB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC;wBAClD,IAAI,CAAC,sBAAsB,EAAE,CAAC;qBAC/B;yBAAM;wBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,4BAA4B,CAAC,CAAC;wBAChE,IAAI,CAAC,sBAAsB,EAAE,CAAC;qBAC/B;iBACF;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,OAAO,CAAC,GAAG,CAAC,yBAAyB,EAAE,GAAG,CAAC,CAAC;YAC5C,IAAI,CAAC,sBAAsB,EAAE,CAAC;YAC9B,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;QACnE,CAAC,CACF,CAAC;IACN,CAAC;IAED,eAAe;QACb,IAAI,CAAC,eAAe;aACjB,uBAAuB,CACtB,IAAI,CAAC,MAAM,EACX,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EACvB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,EAC1B,IAAI,CAAC,QAAQ,CACd;aACA,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,+BAA+B,CAChC,CAAC;iBACH;aACF;iBAAM;gBACL,IAAI,GAAG,CAAC,MAAM,CAAC,IAAI,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE;oBAClC,IAAI,CAAC,2BAA2B,GAAG,GAAG,CAAC,IAAI,CAAC;oBAC5C,IAAI,CAAC,2BAA2B,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;wBAC/C,GAAG,CAAC,MAAM,CAAC,GAAG,GAAG,CAAC,cAAc,CAAC,CAAC;wBAClC,GAAG,CAAC,MAAM,CAAC,GAAG,GAAG,CAAC,cAAc,CAAC,CAAC;oBACpC,CAAC,CAAC,CAAC;iBACJ;qBAAM;oBACL,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;iBACtB;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,OAAO,CAAC,GAAG,CAAC,mCAAmC,EAAE,GAAG,CAAC,CAAC;YACtD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,qCAAqC,CACtC,CAAC;QACJ,CAAC,CACF,CAAC;IACN,CAAC;IAED,sBAAsB,CAAC,gBAAqB;QAC1C,gBAAgB,CAAC,MAAM,CAAC,cAAc,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QACjE,gBAAgB,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC/C,gBAAgB,CAAC,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAClE,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,CAAC,eAAe;aACjB,6BAA6B,CAAC,gBAAgB,CAAC;aAC/C,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,+BAA+B,CAChC,CAAC;iBACH;aACF;iBAAM;gBACL,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,GAAG,CAAC,GAAG,IAAI,mCAAmC,EAAE;oBAClD,qCAAqC;oBACrC,yCAAyC;oBACzC,IAAI,CAAC,2BAA2B,GAAG,IAAI,CAAC;oBACxC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,2BAA2B,CAAC,CAAC;iBAC/C;qBAAM;oBACL,IAAI,CAAC,2BAA2B,GAAG,KAAK,CAAC;oBACzC,IAAI,CAAC,0BAA0B,CAAC,gBAAgB;wBAC9C,IAAI,CAAC,0BAA0B,CAAC,YAAY,CAAC;oBAC/C,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;oBAC3C,IAAI,CAAC,0BAA0B,CAAC,sBAAsB,GAAG,KAAK,CAAC;oBAC/D,IAAI,CAAC,0BAA0B,CAAC,YAAY,GAAG,EAAE,CAAC;oBAClD,IAAI,CAAC,eAAe,EAAE,CAAC;iBACxB;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,OAAO,CAAC,GAAG,CAAC,sCAAsC,EAAE,GAAG,CAAC,CAAC;YACzD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,+BAA+B,CAAC,CAAC;QACrE,CAAC,CACF,CAAC;IACN,CAAC;IAED,kBAAkB,CAAC,MAAM;QACvB,OAAO,CAAC,GAAG,CACT,eAAe,EACf,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,0BAA0B,EAAE,IAAI,EAAE,CAAC,CAAC,CACzD,CAAC;QACF,IACE,IAAI,CAAC,0BAA0B,CAAC,qBAAqB,EAAE;YACvD,IAAI,CAAC,0BAA0B,EAC/B;YACA,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,+EAA+E,CAChF,CAAC;SACH;QAED,IACE,IAAI,CAAC,IAAI,IAAI,OAAO;YACpB,CAAC,IAAI,CAAC,IAAI,IAAI,OAAO,IAAI,IAAI,CAAC,sBAAsB,CAAC,EACrD;YACA,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;YACxC,IAAI,gBAAgB,GAAG,KAAK,CAAC;YAC7B,IAAI,gBAAgB,GAAG,KAAK,CAAC;YAC7B,IAAI,sBAAsB,GAAG,KAAK,CAAC;YACnC,IAAI,aAAa,GAAG,KAAK,CAAC;YAC1B,IAAI,UAAU,GAAG,KAAK,CAAC;YACvB,IAAI,aAAa,GAAG,CAAC,CAAC;YAEtB,IAAI,CAAC,0BAA0B,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;gBAC/C,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,EAAE;oBAC3B,IAAI,CAAC,cAAc,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE;wBACpD,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,MAAM;4BAC3C,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE;4BACjC,CAAC,CAAC,IAAI;wBACR,CAAC,CAAC,IAAI,CAAC;oBACT,sDAAsD;oBACtD,sBAAsB;oBAEtB,IAAI;iBACL;YACH,CAAC,CAAC,CAAC;YAEH,IAAI,UAAU,GAAG,IAAI,CAAC,0BAA0B,CAAC,MAAM,CACrD,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,UAAU,CAAC,IAAI,GAAG,CAC5B,CAAC;YACF,UAAU,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;gBAC7B,IAAI,OAAO,CAAC,WAAW,CAAC,EAAE;oBACxB,aAAa,EAAE,CAAC;iBACjB;gBACD,IAAI,OAAO,CAAC,eAAe,CAAC,EAAE;oBAC5B,aAAa,GAAG,IAAI,CAAC;iBACtB;gBACD,IAAI,OAAO,CAAC,kBAAkB,CAAC,EAAE;oBAC/B,gBAAgB,GAAG,IAAI,CAAC;iBACzB;gBACD,IAAI,OAAO,CAAC,wBAAwB,CAAC,EAAE;oBACrC,sBAAsB,GAAG,IAAI,CAAC;iBAC/B;gBACD,OAAO,CAAC,cAAc,CAAC,GAAG,IAAI,CAAC,YAAY;oBACzC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,MAAM;wBAC3C,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE;wBACjC,CAAC,CAAC,IAAI;oBACR,CAAC,CAAC,IAAI,CAAC;gBACT,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,IAAI,OAAO,CAAC,cAAc,CAAC,IAAI,MAAM,EAAE;oBACjE,gBAAgB,GAAG,IAAI,CAAC;iBACzB;gBACD,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,EAAE;oBACxB,UAAU,GAAG,IAAI,CAAC;iBACnB;YACH,CAAC,CAAC,CAAC;YAEH,IAAI,gBAAgB,EAAE;gBACpB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,8BAA8B,CAAC,CAAC;aACnE;iBAAM,IAAI,UAAU,EAAE;gBACrB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,yBAAyB,CAAC,CAAC;aAC9D;iBAAM,IAAI,aAAa,EAAE;gBACxB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,oCAAoC,CAAC,CAAC;aACzE;iBAAM,IAAI,gBAAgB,EAAE;gBAC3B,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,gCAAgC,CAAC,CAAC;aACrE;iBAAM,IAAI,sBAAsB,EAAE;gBACjC,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,uCAAuC,CACxC,CAAC;aACH;iBAAM,IAAI,aAAa,GAAG,CAAC,EAAE;gBAC5B,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,wCAAwC,CACzC,CAAC;aACH;iBAAM;gBACL,IAAI,IAAI,CAAC,uBAAuB,EAAE,EAAE;oBAClC,OAAO;iBACR;qBAAM;oBACL,IAAI,OAAO,CAAC;oBACZ,gCAAgC;oBAChC,IAAI,IAAI,CAAC,IAAI,IAAI,MAAM,EAAE;wBACvB,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,cAAc,CAC3C,IAAI,CAAC,MAAM,EACX,IAAI,CAAC,0BAA0B,EAC/B,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EACvB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,EAC1B,IAAI,CAAC,QAAQ,EACb,IAAI,CAAC,IAAI,CACV,CAAC;qBACH;yBAAM;wBACL,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,eAAe,CAC5C,IAAI,CAAC,MAAM,EACX,IAAI,CAAC,0BAA0B,EAC/B,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EACvB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,EAC1B,IAAI,CAAC,QAAQ,EACb,IAAI,CAAC,IAAI,CACV,CAAC;qBACH;oBACD,IAAI,OAAO,EAAE;wBACX,OAAO,CAAC,SAAS,CACf,CAAC,GAAG,EAAE,EAAE;4BACN,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;4BACjB,IACE,GAAG,CAAC,QAAQ,CAAC;gCACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gCAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gCACA,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oCAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iCACjD;qCAAM;oCACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;iCAC/C;6BACF;iCAAM;gCACL,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;oCACd,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;oCAC3C,IAAI,MAAM,IAAI,MAAM,EAAE;wCACpB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,0BAA0B,CAAC,CAAC,CAAC;qCACpD;yCAAM,IAAI,MAAM,IAAI,eAAe,EAAE;wCACpC,IAAI,CAAC,eAAe,CAAC,eAAe,GAAG,IAAI,CAAC;wCAC5C,IAAI,CAAC,eAAe,CAAC,UAAU,GAAG,IAAI,CAAC;wCACvC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;4CACnB,uCAAuC;yCACxC,CAAC,CAAC;qCACJ;iCACF;6BACF;wBACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;4BACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;4BACvC,OAAO,CAAC,GAAG,CAAC,yBAAyB,EAAE,GAAG,CAAC,CAAC;wBAC9C,CAAC,CACF,CAAC;qBACH;iBACF;aACF;SACF;aAAM;YACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,kCAAkC,CAAC,CAAC;SACvE;IACH,CAAC;IAED,uBAAuB;QACrB,IAAI,mBAAmB,GAAG,KAAK,CAAC;QAChC,IAAI,WAAW,GAAG,IAAI,CAAC,0BAA0B,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC;QACpE,IAAI,cAAc,GAAG,KAAK,CAAC;QAC3B,IAAI,eAAe,GAAG,KAAK,CAAC;QAE5B,IAAI,UAAU,GAAG,IAAI,CAAC,0BAA0B,CAAC,MAAM,CACrD,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,UAAU,CAAC,IAAI,GAAG,CAC5B,CAAC;QACF,IAAI,WAAW,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;YACrC,cAAc,GAAG,IAAI,CAAC;SACvB;QAED,IAAI,WAAW,CAAC,OAAO,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE;YAC7C,eAAe,GAAG,IAAI,CAAC;SACxB;QAED,IAAI,cAAc,IAAI,eAAe,EAAE;YACrC,IAAI,UAAU,GAAG,EAAE,CAAC;YACpB,IAAI,cAAc,IAAI,eAAe,EAAE;gBACrC,UAAU,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;oBAC3B,IACE,UAAU,CAAC,GAAG,KAAK,CAAC,UAAU,CAAC,IAAI,KAAK,CAAC,eAAe,CAAC,EAAE,CAAC;wBAC5D,UAAU,CAAC,GAAG,KAAK,CAAC,UAAU,CAAC,IAAI,KAAK,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC,MAAM,EACnE;wBACA,UAAU,CAAC,GAAG,KAAK,CAAC,UAAU,CAAC,IAAI,KAAK,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC,IAAI,CAC/D,KAAK,CAAC,UAAU,CAAC,CAClB,CAAC;qBACH;yBAAM;wBACL,UAAU,CAAC,GAAG,KAAK,CAAC,UAAU,CAAC,IAAI,KAAK,CAAC,eAAe,CAAC,EAAE,CAAC,GAAG;4BAC7D,KAAK,CAAC,UAAU,CAAC;yBAClB,CAAC;qBACH;gBACH,CAAC,CAAC,CAAC;aACJ;iBAAM;gBACL,IAAI,cAAc,EAAE;oBAClB,UAAU,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;wBAC1B,IACE,UAAU,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;4BACjC,UAAU,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,MAAM,EACxC;4BACA,UAAU,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;yBAC1D;6BAAM;4BACL,UAAU,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;yBACxD;oBACH,CAAC,CAAC,CAAC;iBACJ;qBAAM,IAAI,eAAe,EAAE;oBAC1B,UAAU,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;wBAC1B,IACE,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;4BAC5B,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,MAAM,EACnC;4BACA,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;yBACrD;6BAAM;4BACL,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;yBACnD;oBACH,CAAC,CAAC,CAAC;iBACJ;aACF;YACD,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,UAAU,CAAC,CAAC;YACxC,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,CAAC,UAAe,EAAE,EAAE;gBACpD,IAAI,IAAI,GAAG,CAAC,UAAU,CAAC,CAAC,IAAI,KAAK,UAAU,CAAC,MAAM,EAAE;oBAClD,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;oBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,4DAA4D,CAC7D,CAAC;oBACF,mBAAmB,GAAG,IAAI,CAAC;iBAC5B;YACH,CAAC,CAAC,CAAC;SACJ;aAAM;YACL,IAAI,UAAU,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;gBACvC,OAAO,IAAI,CAAC,UAAU,CAAC,CAAC;YAC1B,CAAC,CAAC,CAAC;YACH,IAAI,IAAI,GAAG,CAAC,UAAU,CAAC,CAAC,IAAI,KAAK,UAAU,CAAC,MAAM,EAAE;gBAClD,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,4BAA4B,CAAC,CAAC;gBAChE,mBAAmB,GAAG,IAAI,CAAC;aAC5B;SACF;QAED,OAAO,mBAAmB,CAAC;IAC7B,CAAC;IAED,yBAAyB;IACzB,wDAAwD;IACxD,8BAA8B;IAC9B,uDAAuD;IACvD,yDAAyD;IACzD,sBAAsB;IACtB,QAAQ;IAER,oCAAoC;IACpC,mEAAmE;IACnE,+DAA+D;IAC/D,sBAAsB;IACtB,QAAQ;IACR,QAAQ;IACR,IAAI;IAEJ,4BAA4B;IAC5B,wDAAwD;IACxD,wDAAwD;IACxD,uDAAuD;IACvD,oBAAoB;IACpB,oEAAoE;IACpE,6DAA6D;IAC7D,oBAAoB;IACpB,QAAQ;IACR,IAAI;IAEJ,aAAa,CAAC,CAAM,EAAE,IAAS;QAC7B,CAAC,CAAC,cAAc,EAAE,CAAC;QACnB,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,IAAI,SAAS,GAAG,EAAE,CAAC;QACnB,IAAI,CAAC,CAAC,MAAM,CAAC,OAAO,EAAE;YACpB,SAAS,GAAG,GAAG,CAAC;YAChB,IAAI,GAAG,UAAU,CAAC;SACnB;aAAM;YACL,SAAS,GAAG,GAAG,CAAC;YAChB,IAAI,GAAG,YAAY,CAAC;SACrB;QACD,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;QAChD,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,WAAW,GAAG,EAAE,CAAC;QACrB,WAAW;YACT,mDAAmD;gBACnD,iBAAiB;gBACjB,IAAI;gBACJ,uBAAuB,CAAC;QAC1B,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;YAC/B,OAAO,EAAE,WAAW;YACpB,GAAG,EAAE,sBAAsB;YAC3B,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,UAAU,CAAC,GAAG,SAAS,CAAC;gBAC7B,IAAI,CAAC,mBAAmB,EAAE,CAAC;gBAC3B,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,SAAS,CAAC,CAAC;YACtC,CAAC;YACD,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;gBAC/B,IAAI,CAAC,mBAAmB,EAAE,CAAC;gBAC3B,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACxB,CAAC;SACF,CAAC,CAAC;IACL,CAAC;IAED,mBAAmB;QACjB,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;YAC5C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;QACjD,CAAC,EAAE,GAAG,CAAC,CAAC;QACR,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,EAAE,IAAI,CAAC,CAAC;IACX,CAAC;IAED,KAAK;QACH,IAAI,IAAI,CAAC,IAAI,IAAI,MAAM,IAAI,IAAI,CAAC,IAAI,IAAI,OAAO,EAAE;YAC/C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;YAChD,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;gBAC/B,OAAO,EAAE,mDAAmD;gBAC5D,GAAG,EAAE,+BAA+B;gBACpC,MAAM,EAAE,GAAG,EAAE;oBACX,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;oBACxC,gCAAgC;oBAChC,0BAA0B;oBAC1B,+CAA+C;oBAC/C,kDAAkD;oBAClD,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;oBACrC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;oBACvC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;oBACvC,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;oBAEvB,IAAI,CAAC,0BAA0B,CAAC,gBAAgB,EAAE,CAAC;oBACnD,IAAI,CAAC,mBAAmB,EAAE,CAAC;gBAC7B,CAAC;gBACD,MAAM,EAAE,GAAG,EAAE;oBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;oBAC/B,IAAI,CAAC,mBAAmB,EAAE,CAAC;gBAC7B,CAAC;aACF,CAAC,CAAC;SACJ;aAAM;YACL,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;YAChD,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;YAC7C,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;gBAC/B,OAAO,EAAE,kDAAkD;gBAC3D,GAAG,EAAE,+BAA+B;gBACpC,MAAM,EAAE,GAAG,EAAE;oBACX,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;oBACrC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;oBACvC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;oBACvC,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;oBAEvB,IAAI,CAAC,0BAA0B,CAAC,gBAAgB,EAAE,CAAC;oBACnD,IAAI,CAAC,mBAAmB,EAAE,CAAC;oBAC3B,wBAAwB;oBACxB,2BAA2B;oBAC3B,6BAA6B;oBAC7B,4BAA4B;oBAC5B,qCAAqC;gBACvC,CAAC;gBACD,MAAM,EAAE,GAAG,EAAE;oBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;oBAC/B,IAAI,CAAC,mBAAmB,EAAE,CAAC;gBAC7B,CAAC;aACF,CAAC,CAAC;SACJ;IACH,CAAC;;gGAntDU,wBAAwB;sHAAxB,wBAAwB;kEACxB,+GAAoB;;;;qFAHpB,CAAC,iEAAa,EAAE,wDAAc,CAAC;;QCvB5C,yEAAkC;QAOpB,8DAKC;QALD,yEAKC;QAMG,uEAQE;QAQJ,4DAAI;QAEN,mHACF;QAAA,4DAAI;QAEN,+DAAmD;QAAnD,2EAAmD;QAc3C,iJAAS,uBAAmB,MAAM,CAAC,IAAC;QACrC,4DAAS;QAcV,8EAQC;QAFC,iJAAS,WAAO,IAAC;QAElB,4DAAS;QACV,6HAQU;QACZ,4DAAM;QAMhB,2EAAyE;QAO9D,uEAAW;QAAA,4DACb;QACD,kFAQC;QADC,2JAAY,sBAAkB,IAAC;QAE/B,uIAIc;QAAA,4DACf;QAEH,2EAAqE;QAIhE,kEAAM;QAAA,4DACR;QACD,kFAQC;QADC,2JAAY,qBAAiB,IAAC;QAE9B,uIAIc;QAAA,4DACf;QAKT,wHAyCM;QACN,kJA8BoB;QACtB,4DAAM;QACN,wHAiMM;QACR,4DAAM;QACN,uHAcM;QACN,2FAMC;QAOK,+RAAS,sEAAW,KAAC;QACtB,4DAAS;QAId,2FAMC;QAOK,+RAAS,sEAAY,KAAC;QACvB,4DAAS;QAEV,8EAMC;QADC,+RAAS,sEAAY,KAAC;QACvB,4DAAS;QAGd,2FAKC;QAOK,+RAAS,sEAAY,KAAC;QACvB,4DAAS;QAEV,8EAMC;QADC,+RAAS,sEAAY,KAAC;QACvB,4DAAS;QAGd,2FAKC;QAOK,gSAAS,uEAAY,KAAC;QACvB,4DAAS;QAEV,8EAMC;QADC,gSAAS,uEAAY,KAAC;QACvB,4DAAS;;QAzeM,0DAA0B;QAA1B,mFAA0B;QAoB5B,0DAIC;QAJD,kKAIC;QA0BD,0DAAwB;QAAxB,qFAAwB;QAGvB,0DAAoB;QAApB,oFAAoB;QAc9B,0DAA6B;QAA7B,0FAA6B;QAYxB,0DAAoC;QAApC,iGAAoC;QAsBpC,0DAA+B;QAA/B,4FAA+B;QAiBtC,0DAAyC;QAAzC,6GAAyC;QA0CzC,0DAAyC;QAAzC,6GAAyC;QA+BT,0DAAuC;QAAvC,uGAAuC;QAqM3E,0DAEA;QAFA,wJAEA;QAgBD,0DAAkB;QAAlB,2EAAkB;QAkBlB,0DAAkB;QAAlB,2EAAkB;QAwBlB,0DAAkB;QAAlB,2EAAkB;QAwBlB,0DAAkB;QAAlB,2EAAkB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACveI;AAEQ;AACW;AAGI;;;;;;;;;;;;;;;;;ICoB/B,0EAA2B;IACpB,uDAAkB;IAAA,4DAAM;;;IAAxB,0DAAkB;IAAlB,gFAAkB;;;IAoBzB,0EAA2B;IACpB,uDAAkB;IAAA,4DAAM;;;IAAxB,0DAAkB;IAAlB,gFAAkB;;;;;IA0C7B,0EAIC;IAFC,mLAAS,wBAAwB,IAAC;IAGlC,wEASC;IADC,uZAAS,uGAAiC,KAAC;IAC5C,4DAAI;IACL,wFAcC;IALC,4nBACqB,wCAC1B,IAAI,CAAC,SAAoB,wGACpB,KAAC,uXACc,qGAA+B,KAD7C;IAGH,4DAAgB;;;;IAxBd,0DAKE;IALF,4OAKE;IAMF,0DAAyC;IAAzC,8GAAyC;;;IAzB/C,yEAMC;IACC,uDACA;IAAA,gJA+BM;IACR,4DAAK;;;;IAnCH,iFAAyB;IAFzB,0FAA6B;IAI7B,0DACA;IADA,0FACA;IACG,0DAAqC;IAArC,yGAAqC;;;;IAmCxC,2EAIC;IACC,mEAA4B;IAC5B,4EAKE;IADA,4dAAS,yGAA0C,UAAU,CAAC,KAAC;IAJjE,4DAKE;;;IAZN,qEAAuD;IACrD,iJAYO;IACT,4DAAK;;;IAdwB,iFAAyB;IAIjD,0DAAuD;IAAvD,2HAAuD;;;IAhD9D,qEAAI;IACF,wIAwCK;IACP,4DAAK;IACL,yEAAuB;IACrB,wIAcK;IACP,4DAAK;;;;IAzDe,0DAAY;IAAZ,gFAAY;IA0CV,0DAAO;IAAP,gFAAO;;;IA0BvB,0EAGC;IACC,uDACF;IAAA,4DAAM;;;;IADJ,0DACF;IADE,yGACF;;;;;IACA,wEAeG;IAFD,qbAAgB,6FAAuB,KAAC,iXAC/B,6FAAuB,KADQ;IAEvC,uDAA2B;IAAA,4DAC7B;;;;;IAbC,gOAME;IAMD,0DAA2B;IAA3B,8FAA2B;;;IAE9B,2EAMC;IACC,uDAIE;IAAA,4DACH;;;;IAVC,oJAEC;IAGD,0DAIE;IAJF,4MAIE;;;;IAiBA,wEAMC;IADD,ygBAAS,sGAA4B,OAAO,GAAG,KAAC;IAC/C,+DAAI;IAAA,4DACN;;;;IAtBH,2EAQC;IAFC,gbAAsB,WAAW,IAAI,IAAI,MAAC,wXACpB,WAAW,IAAI,KAAK,MADA;IAG1C,uDAME;IAAA,iKAOD;IAAA,4DACF;;;;IArBC,oJAEC;IAKD,0DAME;IANF,+RAME;IAEC,0DAEA;IAFA,uIAEA;;;IAxDP,qEAA8D;IAC5D,8JAKM;IACN,0JAgBC;IACD,gKAYC;IACD,gKAuBC;IACH,4DAAK;;;IA3DA,0DAAmC;IAAnC,2GAAmC;IAMnC,0DAAY;IAAZ,4EAAY;IAiBZ,0DAAY;IAAZ,4EAAY;IAaZ,0DAAY;IAAZ,4EAAY;;;;IAyBjB,yEAGC;IAEC,kVAAgB,sEAAiB,KAAC;IAChC,gFAWE;IAPA,+aAAS,oGAA8B,KAAC;IAJ1C,4DAWE;IACF,sEAAkC;IACpC,4DAAQ;;;;IAXJ,0DAA+B;IAA/B,gGAA+B;;;;IAarC,yEAGC;IAQK,0aAAS,uFAAiB,KAAC;IAC5B,4DAAS;;;IAFR,0DAA4C;IAA5C,yGAA4C;;;IA/FpD,wEAAyD;IACvD,uJA6DK;IAEL,uJAoBK;IACL,uJAcK;IACP,qEAAe;;;IAnGR,0DAAuD;IAAvD,2HAAuD;IAgEzD,0DAA2B;IAA3B,2FAA2B;IAqB3B,0DAA8B;IAA9B,8FAA8B;;;IAvFrC,yEAA8B;IAC5B,4JAoGe;IACjB,4DAAK;;;;IAtGD,sFAAyB;IACG,0DAAY;IAAZ,gFAAY;;;IAwG5C,qEAAI;IAC+B,yEAAc;IAAA,4DAAK;;;IAAhD,0DAA4B;IAA5B,yFAA4B;;;IAIlC,uDAOF;;;IAPE,uRAOF;;;IArMJ,0EAAoE;IAYhE,4IA6Dc;IACd,4IA6Gc;IACd,4IAIc;IACd,4IAQc;IAChB,4DAAU;;;IAnMR,0DAAgB;IAAhB,gFAAgB;;;;IAsMtB,0EAA8E;IAEtD,qEAAsC;IAAA,4DAAM;IAElE,yEAAiB;IAEV,oHAAyD;IAAA,4DAAI;IAChE,4EAOC;IADC,ySAAS,iFAAe,KAAC;IAC1B,4DAAS;;AD9QT,MAAM,wBAAwB;IA+CnC,YACU,MAAc,EACd,WAAwB,EACxB,KAAqB,EACrB,eAAwC,EACxC,kBAAsC,EACtC,mBAAwC,EACxC,cAA8B,EAC9B,EAAsB;QAPtB,WAAM,GAAN,MAAM,CAAQ;QACd,gBAAW,GAAX,WAAW,CAAa;QACxB,UAAK,GAAL,KAAK,CAAgB;QACrB,oBAAe,GAAf,eAAe,CAAyB;QACxC,uBAAkB,GAAlB,kBAAkB,CAAoB;QACtC,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,mBAAc,GAAd,cAAc,CAAgB;QAC9B,OAAE,GAAF,EAAE,CAAoB;QAtDhC,aAAQ,GAAG,mBAAmB,CAAC;QAC/B,mBAAc,GAAU,EAAE,CAAC;QAE3B,eAAU,GAAG,MAAM,CAAC,IAAI,CAAC;QAGzB,oBAAe,GAAY,KAAK,CAAC;QAEjC,SAAI,GAAU;YACZ,EAAE,KAAK,EAAE,cAAc,EAAE,MAAM,EAAE,eAAe,EAAE,KAAK,EAAE,KAAK,EAAE;YAChE,EAAE,KAAK,EAAE,cAAc,EAAE,MAAM,EAAE,sBAAsB,EAAE,KAAK,EAAE,KAAK,EAAE;YACvE,EAAE,KAAK,EAAE,aAAa,EAAE,MAAM,EAAE,UAAU,EAAE,KAAK,EAAE,KAAK,EAAE;YAC1D,EAAE,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE;YAClD,EAAE,KAAK,EAAE,WAAW,EAAE,MAAM,EAAE,YAAY,EAAE,KAAK,EAAE,IAAI,EAAE;SAC1D,CAAC;QAEF,4BAAuB,GAAY,KAAK,CAAC;QACzC,4BAAuB,GAAY,KAAK,CAAC;QACzC,2BAAsB,GAAY,KAAK,CAAC;QACxC,sBAAiB,GAAY,KAAK,CAAC;QAEnC,iBAAY,GAAG,EAAE,CAAC;QAClB,iBAAY,GAAG,EAAE,CAAC;QAClB,gBAAW,GAAG,EAAE,CAAC;QACjB,WAAM,GAAG,EAAE,CAAC;QAEZ,aAAQ,GAAQ,EAAE,CAAC;QACnB,+BAA0B,GAAU,EAAE,CAAC;QACvC,+BAA0B,GAAU,EAAE,CAAC;QACvC,8BAAyB,GAAU,EAAE,CAAC;QACtC,yBAAoB,GAAU,EAAE,CAAC;QACjC,sBAAiB,GAAQ,EAAE,CAAC;QAC5B,YAAO,GAAY,IAAI,CAAC;QAGxB,6BAAwB,GAAU,EAAE,CAAC;QACrC,wBAAmB,GAAU,EAAE,CAAC;QAEhC,cAAS,GAAW,gCAAgC,CAAC;QAErD,uBAAkB,GAAQ,EAAE,CAAC;QAE7B,YAAO,GAAG,EAAE,CAAC;QAEb,qBAAgB,GAAG,EAAE,CAAC;IAWnB,CAAC;IAEJ,QAAQ;QACN,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QAExC,MAAM,cAAc,GAAG,eAAe,CAAC;QACvC,IAAI,CAAC,WAAW;aACb,SAAS,CAAC,cAAc,CAAC;aACzB,IAAI,CAAC,CAAC,eAAuB,EAAE,EAAE;YAChC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC;QACjD,CAAC,CAAC,CAAC;QAEL,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;YACjC,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,eAAe,CAAC,eAAe,GAAG,IAAI,CAAC;QAC5C,IAAI,CAAC,eAAe,CAAC,UAAU,GAAG,IAAI,CAAC;QAEvC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;QAE7D,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAE1B,EAAE;QACF,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC,KAAK,CACxC,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAClC,CAAC;QACF,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;QACzE,IAAI,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,CAAC;QACjE,IAAI,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;QAE3D,IAAI,MAAM,GAAG,IAAI,CAAC;QAClB,IAAI,MAAM,GAAG,IAAI,CAAC;QAElB,IAAI,UAAU,EAAE;YACd,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;YACxB,MAAM,GAAG,IAAI,CAAC,wBAAwB,CAAC,MAAM,CAC3C,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,IAAI,UAAU,CAAC,eAAe,CAAC,IAAI,CACrD,CAAC,CAAC,CAAC,CAAC;YACL,MAAM,GAAG,IAAI,CAAC,mBAAmB,CAAC,MAAM,CACtC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,IAAI,UAAU,CAAC,UAAU,CAAC,IAAI,CAChD,CAAC,CAAC,CAAC,CAAC;SACN;aAAM;YACL,IAAI,SAAS,EAAE;gBACb,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC,CAAC;gBAC7D,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC;aACzD;SACF;QAED,IAAI,MAAM,EAAE;YACV,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;SACjC;QACD,IAAI,MAAM,EAAE;YACV,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;SACpC;QACD,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,IAAI,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE;YAC/C,IAAI,CAAC,eAAe,EAAE,CAAC;SACxB;aAAM;YACL,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;SACxC;QACD,EAAE;IACJ,CAAC;IAED,kBAAkB;QAChB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YACnC,YAAY,EAAE,IAAI,8DAAkB,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAE,EAAE;gBACnE,+DAAmB;aACpB,CAAC;YACF,OAAO,EAAE,IAAI,8DAAkB,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAE,EAAE;gBAC9D,+DAAmB;aACpB,CAAC;SACH,CAAC,CAAC;IACL,CAAC;IAED,IAAI,OAAO;QACT,OAAO,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;IAClD,CAAC;IACD,IAAI,UAAU;QACZ,OAAO,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;IAC7C,CAAC;IAED,eAAe;QACb,IAAI,UAAU,GAAG;YACf,eAAe,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK;YACnC,UAAU,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK;SAClC,CAAC;QACF,cAAc,CAAC,OAAO,CAAC,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC;QAC1D,IAAI,CAAC,wBAAwB,CAC3B,IAAI,CAAC,QAAQ,CAAC,MAAM,EACpB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EACvB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAC3B,CAAC;IACJ,CAAC;IACD,wBAAwB,CAAC,MAAW,EAAE,QAAa,EAAE,WAAgB;QACnE,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QAExC,8CAAQ,CAAC;YACP,kBAAkB,EAAE,IAAI,CAAC,eAAe,CAAC,qBAAqB,CAC5D,MAAM,EACN,IAAI,CAAC,QAAQ,EACb,QAAQ,EACR,WAAW,CACZ;YACD,qBAAqB,EAAE,IAAI,CAAC,eAAe,CAAC,mBAAmB,CAC7D,MAAM,EACN,IAAI,CAAC,QAAQ,EACb,QAAQ,EACR,WAAW,CACZ;SACF,CAAC;aACC,IAAI,CACH,oDAAI,CAAC,CAAC,CAAC,EACP,mDAAG,CAAC,CAAC,QAAQ,EAAE,EAAE;YACf,IAAI,kBAAkB,GAAG,+DAAY,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAC;YACnE,OAAO,kBAAkB,CAAC,cAAc,CAAC,CAAC;YAC1C,IAAI,CAAC,gBAAgB,GAAG,QAAQ,CAAC,kBAAkB,CAAC,cAAc,CAAC,CAAC;YACpE,MAAM,kBAAkB,GAAG,kBAAkB,CAAC;YAC9C,MAAM,qBAAqB,GAAG,QAAQ,CAAC,qBAAqB,CAAC;YAE7D,IAAI,qBAAqB,CAAC,MAAM,CAAC,EAAE;gBACjC,IAAI,CAAC,iBAAiB,GAAG,qBAAqB,CAAC;gBAC/C,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;oBAC1C,IAAI,WAAW,GAAG,GAAG,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;oBAEnD,MAAM,QAAQ,GAAG,GAAG,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;oBAE/C,mDAAmD;oBACnD,IAAI,QAAQ,GAAG,EAAE,CAAC;oBAClB,IAAI,OAAO,GAAG,EAAE,CAAC;oBACjB,IAAI,KAAK,GAAG,EAAE,CAAC;oBACf,IAAI,UAAU,GAAG,EAAE,CAAC;oBAEpB,uBAAuB;oBACvB,QAAQ,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;wBAC3B,+BAA+B;wBAC/B,wCAAwC;wBACxC,iCAAiC;wBACjC,kBAAkB;wBAClB,iCAAiC;wBAEjC,wCAAwC;wBACxC,2BAA2B;wBAC3B,IAAI;wBACJ,IAAI,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;4BACtD,sBAAsB;4BACtB,MAAM,YAAY,GAAG,OAAO;iCACzB,KAAK,CAAC,GAAG,CAAC;iCACV,GAAG,CAAC,CAAC,aAAa,EAAE,EAAE;gCACrB,MAAM,CAAC,IAAI,EAAE,EAAE,CAAC,GAAG,aAAa;qCAC7B,KAAK,CAAC,IAAI,CAAC;qCACX,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gCACrC,OAAO,WAAW,IAAI,MAAM,EAAE,EAAE,CAAC;4BACnC,CAAC,CAAC,CAAC;4BACL,OAAO,GAAG,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;yBACpC;6BAAM,IACL,OAAO,CAAC,UAAU,CAAC,cAAc,CAAC;4BAClC,OAAO,CAAC,QAAQ,CAAC,YAAY,CAAC,EAC9B;4BACA,oBAAoB;4BACpB,MAAM,YAAY,GAAG,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,WAAW,EAAE,EAAE;gCAC1D,MAAM,CAAC,SAAS,EAAE,OAAO,CAAC,GAAG,WAAW;qCACrC,KAAK,CAAC,IAAI,CAAC;qCACX,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gCACrC,OAAO,WAAW,SAAS,MAAM,OAAO,EAAE,CAAC;4BAC7C,CAAC,CAAC,CAAC;4BACH,KAAK,GAAG,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;yBAClC;oBACH,CAAC,CAAC,CAAC;oBAEH,IAAI,OAAO,CAAC,MAAM,IAAI,KAAK,CAAC,MAAM,EAAE;wBAClC,UAAU,IAAI,WAAW,OAAO,YAAY,KAAK,GAAG,CAAC;qBACtD;yBAAM,IAAI,OAAO,CAAC,MAAM,EAAE;wBACzB,UAAU,IAAI,WAAW,OAAO,GAAG,CAAC;qBACrC;yBAAM,IAAI,KAAK,CAAC,MAAM,EAAE;wBACvB,UAAU,IAAI,SAAS,KAAK,GAAG,CAAC;qBACjC;oBACD,4BAA4B;oBAC5B,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,UAAU,CAAC,CAAC;oBAE/B,yCAAyC;oBACzC,IAAI,WAAW,CAAC,MAAM,EAAE;wBACtB,IAAI,gBAAgB,GAAG,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC;4BAC5D,WAAW,EAAE,WAAW;yBACzB,CAAC,CAAC;wBACH,GAAG,CAAC,WAAW,GACb,IAAI,CAAC,kBAAkB,CAAC,uBAAuB,CAC7C,gBAAgB,EAChB,kBAAkB,EAClB,IAAI,CAAC,gBAAgB,CAExB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;wBACb,IAAI,UAAU,EAAE,MAAM,EAAE;4BACtB,GAAG,CAAC,WAAW,GAAG,GAAG,CAAC,WAAW,GAAG,IAAI,GAAG,UAAU,CAAC;yBACvD;qBACF;yBAAM;wBACL,IAAI,UAAU,EAAE,MAAM,EAAE;4BACtB,GAAG,CAAC,WAAW,GAAG,UAAU,CAAC;yBAC9B;qBACF;gBACH,CAAC,CAAC,CAAC;gBACH,IAAI,CAAC,cAAc,GAAG,CAAC,GAAG,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;gBACvD,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;gBAC7B,IAAI,CAAC,kBAAkB,GAAG;oBACxB,GAAG,IAAI,CAAC,iBAAiB,CAAC,kBAAkB;iBAC7C,CAAC;gBACF,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,GAAG,CACzD,CAAC,IAAI,EAAE,EAAE;oBACP,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;gBACtC,CAAC,CACF,CAAC;gBACF,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,GAAG,CACzD,CAAC,IAAI,EAAE,EAAE;oBACP,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;gBACtC,CAAC,CACF,CAAC;gBACF,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,GAAG,CACvD,CAAC,IAAI,EAAE,EAAE;oBACP,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;gBACtC,CAAC,CACF,CAAC;gBACF,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;oBACvD,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;gBACtC,CAAC,CAAC,CAAC;aACJ;iBAAM;gBACL,IAAI,qBAAqB,CAAC,KAAK,CAAC,EAAE;oBAChC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,qBAAqB,CAAC,KAAK,CAAC,CAAC,CAAC;iBACjE;gBACD,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;gBAC5B,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;aAC1B;YACD,OAAO,qBAAqB,CAAC;QAC/B,CAAC,CAAC,CACH;aACA,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;gBAC5B,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;iBAClE;aACF;iBAAM;gBACL,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE;oBAChB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;iBAC7B;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;YACzB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;YAC5B,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,OAAO,CAAC,GAAG,CAAC,uCAAuC,EAAE,GAAG,CAAC,CAAC;YAC1D,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,4CAA4C,CAC7C,CAAC;QACJ,CAAC,CACF,CAAC;IACN,CAAC;IAED,cAAc,CAAC,IAAS;QACtB,IAAI,CAAC,eAAe,CAAC,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC;QAC/D,IAAI,CAAC,eAAe,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC;QAC7D,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;YACnB,QAAQ;YACR,mBAAmB;YACnB,cAAc;YACd,IAAI,CAAC,YAAY;YACjB,MAAM;SACP,CAAC,CAAC;QACH,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IACrC,CAAC;IAED,QAAQ,CAAC,EAAO;QACd,OAAO,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;IAC9C,CAAC;IAED,aAAa,CAAC,CAAM,EAAE,IAAS;QAC7B,CAAC,CAAC,cAAc,EAAE,CAAC;QACnB,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,IAAI,SAAS,GAAG,EAAE,CAAC;QACnB,IAAI,CAAC,CAAC,MAAM,CAAC,OAAO,EAAE;YACpB,SAAS,GAAG,QAAQ,CAAC;YACrB,IAAI,GAAG,UAAU,CAAC;SACnB;aAAM;YACL,SAAS,GAAG,UAAU,CAAC;YACvB,IAAI,GAAG,YAAY,CAAC;SACrB;QACD,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;QAChD,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,WAAW,GAAG,EAAE,CAAC;QACrB,IAAI,WAAW,GAAG,kCAAkC,CAAC;QACrD,IACE,SAAS,IAAI,UAAU;YACvB,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,EACtD;YACA,WAAW;gBACT,mDAAmD;oBACnD,WAAW;oBACX,iBAAiB;oBACjB,IAAI;oBACJ,oBAAoB,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC;SAC/C;aAAM;YACL,WAAW;gBACT,mDAAmD;oBACnD,iBAAiB;oBACjB,IAAI;oBACJ,oBAAoB,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC;SAC/C;QACD,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;YAC/B,OAAO,EAAE,WAAW;YACpB,GAAG,EAAE,sBAAsB;YAC3B,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,YAAY,CAAC,CAAC,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC;gBACtC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;YACjC,CAAC;YACD,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;gBAC/B,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;YAClC,CAAC;SACF,CAAC,CAAC;IACL,CAAC;IAED,YAAY,CAAC,CAAM,EAAE,SAAc,EAAE,IAAS;QAC5C,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QAExC,MAAM,QAAQ,GAAG,IAAI,QAAQ,EAAE,CAAC;QAChC,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QAChD,QAAQ,CAAC,MAAM,CAAC,sBAAsB,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;QAC9D,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;QACrC,QAAQ,CAAC,MAAM,CAAC,cAAc,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QACzD,QAAQ,CAAC,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC1D,QAAQ,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;QACvC,IAAI,CAAC,sBAAsB,CAAC,QAAQ,EAAE,CAAC,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;IACxD,CAAC;IAED,sBAAsB,CAAC,QAAa,EAAE,SAAc,EAAE,OAAY;QAChE,IAAI,CAAC,eAAe,CAAC,oBAAoB,CAAC,QAAQ,CAAC,CAAC,SAAS,CAC3D,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,OAAO,GAAG,EAAE,CAAC;YACjB,IAAI,GAAG,CAAC,OAAO,CAAC,IAAI,MAAM,EAAE;gBAC1B,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,OAAO,GAAG,gDAAgD,GAAG,CAAC,KAAK,CAAC,MAAM,OAAO,CAAC,aAAa,CAAC,oCAAoC,CAAC;gBACrI,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;aAC5C;iBAAM;gBACL,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;oBACd,OAAO,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC;oBACrB,SAAS,CAAC,OAAO,GAAG,SAAU,CAAC,OAAO,CAAC;oBACvC,IAAI,CAAC,wBAAwB,CAC3B,IAAI,CAAC,QAAQ,CAAC,MAAM,EACpB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EACvB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAC3B,CAAC;oBACF,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;iBAC5C;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;oBACvC,OAAO,GAAG,gDAAgD,CAAC;oBAC3D,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;iBAC5C;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACjB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,CACF,CAAC;IACJ,CAAC;IAED,QAAQ,CAAC,IAAS;QAChB,IAAI,CAAC,eAAe,CAAC,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC;QAC/D,IAAI,CAAC,eAAe,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC;QAC7D,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;YACnB,QAAQ;YACR,mBAAmB;YACnB,cAAc;YACd,IAAI,CAAC,YAAY;YACjB,OAAO;SACR,CAAC,CAAC;IACL,CAAC;IAED,aAAa;QACX,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,EAAE,mBAAmB,EAAE,cAAc,CAAC,CAAC,CAAC;IACxE,CAAC;IAED,mBAAmB,CAAC,MAAe;QACjC,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;YAC5C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;QACjD,CAAC,EAAE,GAAG,CAAC,CAAC;QACR,IAAI,CAAC,MAAM,EAAE;YACX,UAAU,CAAC,GAAG,EAAE;gBACd,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACzC,CAAC,EAAE,IAAI,CAAC,CAAC;SACV;IACH,CAAC;IAED,sBAAsB,CAAC,KAAK;QAC1B,IAAI,CAAC,OAAO,KAAK,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,KAAK,SAAS,CAAC,CAAC;IAC7D,CAAC;IAED,oBAAoB,CAAC,KAAK;QACxB,IAAI,CAAC,OAAO,KAAK,SAAS,CAAC,GAAG,KAAK,CAAC;IACtC,CAAC;IAED,oBAAoB,CAAC,KAAU;QAC7B,OAAO,IAAI,CAAC,iBAAiB,KAAK,EAAE,CAAC,CAAC;IACxC,CAAC;IAED,iBAAiB,CAAC,EAAe,EAAE,KAAU;QAC3C,IAAI,CAAC,iBAAiB,KAAK,EAAE,CAAC,GAAG,EAAE,CAAC,KAAK,CAAC;IAC5C,CAAC;IAED,kBAAkB,CAAC,KAAU;QAC3B,OAAO,IAAI,CAAC,OAAO,KAAK,SAAS,CAAC,CAAC;IACrC,CAAC;IAED,kBAAkB,CAAC,KAAU;QAC3B,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC;IACrB,CAAC;IAED,eAAe,CAAC,IAAY;QAC1B,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;IACzC,CAAC;;gGAteU,wBAAwB;sHAAxB,wBAAwB;;;;;;;QCvBrC,yEAAkC;QAG5B,kEAAiC;QACjC,+EACF;QAAA,4DAAM;QACN,yEAAoB;QAOhB,gJAAS,mBAAe,IAAC;QAC1B,4DAAS;QAGd,yEAA6B;QAQhB,uEAAW;QAAA,4DACb;QACD,kFAOC;QACC,uIAIc;QAAA,4DACf;QAEH,2EAAqE;QAIhE,kEAAM;QAAA,4DACR;QACD,kFAOC;QACC,uIAIc;QAAA,4DACf;QAEH,2EAAmE;QAK/D,iJAAS,qBAAiB,IAAC;QAI5B,4DAAS;QAMpB,uHAuMM;QACR,4DAAM;QACN,uHAiBM;QACN,2FAKC;QAOK,+RAAS,sEAAW,KAAC;QACtB,4DAAS;QAEV,8EAMC;QADC,+RAAS,sEAAW,KAAC;QACtB,4DAAS;;QA5SL,0DAA6B;QAA7B,0FAA6B;QAYxB,0DAAoC;QAApC,iGAAoC;QAqBpC,0DAA+B;QAA/B,4FAA+B;QAoB/B,0DAAoC;QAApC,iGAAoC;QAO3B,0DAA6C;QAA7C,iHAA6C;QAyMxC,0DAAgD;QAAhD,yJAAgD;QAsB1E,0DAAkB;QAAlB,2EAAkB;;;;;;;;;;;;;;;;;;AC7S2C;;;AAOxD,MAAM,uBAAuB;IAClC,YAAoB,IAAgB;QAAhB,SAAI,GAAJ,IAAI,CAAY;QACpC,oBAAe,GAAQ,IAAI,CAAC;QAC5B,eAAU,GAAQ,IAAI,CAAC;QAEf,0BAAqB,GAAQ,SAAS,CAAC;IAJR,CAAC;IAMxC,OAAO,CAAC,IAAS;QACf,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC;IACpC,CAAC;IAED,OAAO;QACL,OAAO,IAAI,CAAC,qBAAqB,CAAC;IACpC,CAAC;IACD,kBAAkB;IAClB,gBAAgB;QACd,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,yDAAyD,CAC1D,CAAC;IACJ,CAAC;IAED,qBAAqB,CACnB,MAAW,EACX,QAAa,EACb,OAAY,EACZ,UAAe;QAEf,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,uDAAuD,EACvD;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC;iBACrB,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC;iBACrB,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;iBACpC,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;SACzC,CACF,CAAC;IACJ,CAAC;IAED,0BAA0B,CACxB,QAAa,EACb,OAAY,EACZ,WAAgB,EAChB,SAAc,EACd,WAAgB,EAChB,UAAe;QAEf,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,iDAAiD,EAAE;YACtE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC;iBACrB,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;iBACpC,GAAG,CAAC,aAAa,EAAE,WAAW,CAAC;iBAC/B,GAAG,CAAC,WAAW,EAAE,SAAS,CAAC;iBAC3B,GAAG,CAAC,aAAa,EAAE,WAAW,CAAC;iBAC/B,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;SACzC,CAAC,CAAC;IACL,CAAC;IAED,6BAA6B,CAAC,IAAS;QACrC,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CACnB,qDAAqD,EACrD,IAAI,CACL,CAAC;IACJ,CAAC;IAED,uBAAuB,CACrB,EAAU,EACV,OAAY,EACZ,UAAe,EACf,QAAa;QAEb,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB;OACC,EACD;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,QAAQ,EAAE,EAAE,CAAC;iBACjB,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;iBACpC,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;iBACrC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC;SACzB,CACF,CAAC;IACJ,CAAC;IAED,sBAAsB;IAEtB,mBAAmB,CACjB,EAAU,EACV,QAAa,EACb,OAAY,EACZ,UAAe;QAEf,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,gEAAgE,EAChE;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,QAAQ,EAAE,EAAE,CAAC;iBACjB,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;iBACpC,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;iBACrC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC;SACzB,CACF,CAAC;IACJ,CAAC;IAED,0BAA0B,CACxB,MAAW,EACX,QAAa,EACb,OAAY,EACZ,UAAe;QAEf,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,uDAAuD,EACvD;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC;iBACrB,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;iBACpC,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;iBACrC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC;SACzB,CACF,CAAC;IACJ,CAAC;IAED,mBAAmB,CAAC,IAAS;QAC3B,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CACnB,4DAA4D,EAC5D,IAAI,CACL,CAAC;IACJ,CAAC;IAED,kBAAkB,CAChB,OAAY,EACZ,SAAc,EACd,OAAY,EACZ,UAAe,EACf,QAAa;QAEb,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,kEAAkE,EAClE;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,sBAAsB,EAAE,OAAO,CAAC;iBACpC,GAAG,CAAC,WAAW,EAAE,SAAS,CAAC;iBAC3B,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;iBACpC,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;iBACrC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC;SACzB,CACF,CAAC;IACJ,CAAC;IAED,oBAAoB,CAAC,IAAS;QAC5B,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CACnB,oEAAoE,EACpE,IAAI,CACL,CAAC;IACJ,CAAC;IAED,eAAe,CACb,MAAW,EACX,IAAS,EACT,OAAY,EACZ,UAAe,EACf,QAAa,EACb,SAAc;QAEd,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CACnB,4DAA4D,EAC5D,IAAI,EACJ;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC;iBACrB,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;iBACpC,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;iBACrC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC;iBACrB,GAAG,CAAC,WAAW,EAAE,SAAS,CAAC;SAC/B,CACF,CAAC;IACJ,CAAC;IAED,cAAc,CACZ,MAAW,EACX,IAAS,EACT,OAAY,EACZ,UAAe,EACf,QAAa,EACb,SAAc;QAEd,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CACnB,6DAA6D,EAC7D,IAAI,EACJ;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC;iBACrB,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;iBACpC,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;iBACrC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC;iBACrB,GAAG,CAAC,WAAW,EAAE,SAAS,CAAC;SAC/B,CACF,CAAC;IACJ,CAAC;;8FAtMU,uBAAuB;wHAAvB,uBAAuB,WAAvB,uBAAuB,mBAFtB,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACHwD;AACtB;AAK+C;AACrE;AACW;AAMnB;AAEuB;;;;;;;;;;;;;;;;;;;;;;;IC2D/B,6EAQC;IADC,2SAAS,4EAAU,KAAC;IACrB,4DAAS;;;IAHR,4HAAqD;;;IAgCvD,0EAA2B;IACpB,uDAAkB;IAAA,4DAAM;;;IAAxB,0DAAkB;IAAlB,iFAAkB;;;IAwBzB,0EAA2B;IACpB,uDAAkB;IAAA,4DAAM;;;IAAxB,0DAAkB;IAAlB,iFAAkB;;;IAuBzB,0EAA2B;IACpB,uDAAkB;IAAA,4DAAM;;;IAAxB,0DAAkB;IAAlB,iFAAkB;;;;IAQrC,0EAGC;IASM,oEAAS;IAAA,4DAAI;IAChB,4EAAoE;IAAtC,yZAA0B;IAAxD,4DAAoE;IAEtE,0EAAsB;IAElB,6EAAiB;IAAA,2EAAmC;IAAA,4DAAC;IAAA,4DAAO;IAE9D,6EAOE;IAJA,6ZAA6B;IAH/B,4DAOE;;;IApBF,0DAIC;IAJD,+KAIC;IAG6B,0DAA0B;IAA1B,wFAA0B;IAStD,0DAA6B;IAA7B,2FAA6B;;;;IAOnC,2FA8BC;IAVC,2VAAoB,uFAAqB,KAAC,+SAChB,gGAA8B,KADd,+SAG/B,uJAKd,KAR6C;IAU3C,4DAAmB;;;IA3BlB,yGAAyC;;;IA2D7B,iEAA6D;;;IAA5B,iFAAyB;;;IAD5D,2EAAU;IACR,0IAA6D;IAC/D,4DAAW;;;IADY,0DAAU;IAAV,gFAAU;;;IAQ7B,2EACG;IAAA,mEAKF;IAAA,4DAAO;;;IAHJ,0DAAqB;IAArB,kFAAqB;;;IAN3B,qEAAgC;IAC9B,uDAEA;IAAA,iJAMQ;IACV,4DAAK;;;IATH,0DAEA;IAFA,0FAEA;IAAyB,0DAAc;IAAd,8EAAc;;;;IAWvC,2EAOC;IACC,mEAA4B;IAC5B,4EAYE;IAPA,8dAEhB,0GAGI,UAAU,CACD,KAAI;IAXH,4DAYE;;;IAhBF,0EAAsB;IAOpB,0DAAwB;IAAxB,yFAAwB;;;IAb9B,qEAA+C;IAC7C,iJAsBO;IACT,4DAAK;;;;IAtBA,0DAEA;IAFA,wIAEA;;;IAlBP,yEAAsB;IACpB,wIAUK;IACP,4DAAK;IACL,yEAAuB;IACrB,wIAwBK;IACP,4DAAK;;;;IAvCD,kFAAiB;IACC,0DAAU;IAAV,gFAAU;IAaV,0DAAY;IAAZ,gFAAY;;;;IAoD9B,qFAOuB;;;;;IANrB,8EAAiB;;;IAYjB,wEAAuC;IACrC,0EAGC;IACC,uDAIF;IAAA,4DAAM;IACR,qEAAe;;;;IAPX,0DAA4B;IAA5B,6FAA4B;IAE5B,0DAIF;IAJE,2KAIF;;;;IAEF,wEAAqC;IACnC,4EAIE;IAFA,yjBAAgC;IAFlC,4DAIE;IACJ,qEAAe;;;;IAHX,0DAAgC;IAAhC,+FAAgC;;;;IAQlC,wEAAiD;IAC/C,4EAAsD;IAAnC,wkBAAgC;IAAnD,4DAAsD;IACxD,qEAAe;;;;IADM,0DAAgC;IAAhC,+FAAgC;;;;IAMnD,wEAKC;IACC,gFAcE;IAXA,ulBAAgC,6fAG7C,uHAIF,WAAW,EACA,KARoC;IAHlC,4DAcE;IACJ,qEAAe;;;;IAZX,0DAAgC;IAAhC,+FAAgC;;;IAapC,wEAA+B;IAC7B,2EAQG;IAAA,6DAAE;IAAA,4DACJ;IACH,qEAAe;;;;IARX,0DAIC;IAJD,2JAIC;;;IAjCP,4EAGC;IACC,8MAqBe;IACf,8MAWe;IACjB,qEAAe;;;IApCb,0EAAiB;IAGd,0DAGD;IAHC,oJAGD;;;;IAmCF,wEAKC;IACC,gFAoBE;IAjBA,ulBAAgC,8fAG7C,wHAIF,WAAW,EACA,KARoC;IAHlC,4DAoBE;IACJ,qEAAe;;;;;IAlBX,0DAAgC;IAAhC,+FAAgC;;;IAmBpC,wEAA+B;IAC7B,2EAQG;IAAA,6DAAE;IAAA,4DACJ;IACH,qEAAe;;;;IARX,0DAIC;IAJD,2JAIC;;;IAvCP,4EAGC;IACC,8MA2Be;IACf,8MAWe;IACjB,qEAAe;;;IA1Cb,0EAAiB;IAGd,0DAGD;IAHC,oJAGD;;;IA+CA,2EAcE;;;;;IAVA,gIAEC;;;IAZL,wEAKC;IACC,+MAcE;IACJ,qEAAe;;;IAbV,0DAAgC;IAAhC,gGAAgC;;;IAcrC,wEAA+B;IAC7B,2EAQG;IAAA,6DAAE;IAAA,4DACJ;IACH,qEAAe;;;;IARX,0DAIC;IAJD,4JAIC;;;IAjCP,4EAGC;IACC,8MAqBe;IACf,8MAWe;IACjB,qEAAe;;;IApCb,0EAAiB;IAGd,0DAGD;IAHC,oJAGD;;;;;IAmCF,wEAMC;IACC,gFA6BE;IApBA,wlBAAgC,ggBAUlD,8HAIE,WAAW,eACX,WAAW,EACA,KAhBqC;IATlC,4DA6BE;IACJ,qEAAe;;;;;IA1BX,0DAIE;IAJF,kNAIE;;;;IAuBN,wEAIC;IACC,kFAUC;IAPC,6lBAAgC;IAQlC,4DAAa;IACf,qEAAe;;;;;IAVX,0DAA+C;IAA/C,qHAA+C;;;IAWnD,wEACG;IAAA,2EAQE;IAAA,6DAAE;IAAA,4DACJ;IAAA,qEACF;;;;IARG,0DAIC;IAJD,4JAIC;;;IAnEP,4EAGC;IACC,8MAqCe;IACf,8MAiBe;IACf,8MAWC;IACH,qEAAe;;;IAtEb,0EAAiB;IAGd,0DAIF;IAJE,0LAIF;IAkCE,0DAEA;IAFA,sHAEA;;;;IAoCC,6EAiBE;IAPA,gmBAAgC;IAVlC,4DAiBE;;;;IAPA,+FAAgC;;;IAhBpC,wEAKC;IACC,gNAiBE;IACJ,qEAAe;;;IAhBV,0DAMJ;IANI,qNAMJ;;;IAWD,wEAA+B;IAC7B,2EAQG;IAAA,6DAAE;IAAA,4DACJ;IACH,qEAAe;;;;IARX,0DAIC;IAJD,4JAIC;;;IAlCT,wEAA+B;IAE3B,8MAwBe;IACf,8MAWe;IACjB,qEAAe;;;IAtCD,0DAAiB;IAAjB,0EAAiB;IAE1B,0DAGD;IAHC,oJAGD;;;IAjNR,4EAGC;IACC,+LAEe;IACf,+LAsCe;IACf,+LA4Ce;IACf,+LAsCe;IACf,+LAwEe;IACf,+LAwCe;IACjB,qEAAe;;;IAlPb,mFAAsB;IAEP,0DAAgC;IAAhC,4FAAgC;IAI5C,0DAAyB;IAAzB,qFAAyB;IAuCzB,0DAAyB;IAAzB,qFAAyB;IA6CzB,0DAA2B;IAA3B,uFAA2B;IAuC3B,0DAA4B;IAA5B,wFAA4B;;;;IA6H7B,wEAMC;IACC,2EAAgC;IAG5B,wlBAAgC;IAFlC,4DAIE;IAEN,qEAAe;;;;;IAJT,0DAAgC;IAAhC,+FAAgC;;;IAKtC,wEACG;IAAA,2EAQE;IAAA,6DAAE;IAAA,4DACJ;IAAA,qEACF;;;;IARG,0DAIC;IAJD,4JAIC;;;IA5BP,4EAKC;IACC,8MAce;IACf,8MAWC;IACH,qEAAe;;;IA7Bb,0EAAiB;IAGd,0DAIF;IAJE,0LAIF;;;;IAuBH,wEAUC;IACC,2EAAgC;IAG5B,ykBAAgC,gfAEG,qHAClC,KAH+B;IAFlC,4DAYE;IAEN,qEAAe;;;;;IAZT,0DAAgC;IAAhC,+FAAgC;;;IApDxC,4EAGC;IACC,+LAiCe;IACf,+LA0Be;IACjB,qEAAe;;;IA/Db,0EAAiB;IAGd,0DAEA;IAFA,sHAEA;IAgCA,0DAQN;IARM,6SAQN;;;;IAuBG,wEAKC;IACC,qFAcC;IAXC,ilBAAgC,ggBAUf,oGAAyB,KAVV;IAYlC,4DAAgB;IAClB,qEAAe;;;;;IAfX,0DAA+C;IAA/C,qHAA+C;;;IAgBnD,wEACG;IAAA,2EAQE;IAAA,6DAAE;IAAA,4DACJ;IAAA,qEACF;;;;IARG,0DAIC;IAJD,4JAIC;;;IAlCP,4EAGC;IACC,+LAsBe;IACf,+LAWC;IACH,qEAAe;;;IArCb,0EAAiB;IAGd,0DAGD;IAHC,qKAGD;;;;IAiCF,wEAMC;IACC,+EAUC;IATC,2kBAAgC;IASjC,4DAAU;IACb,qEAAe;;;;IAVX,0DAAgC;IAAhC,+FAAgC;;;IAWpC,wEACG;IAAA,2EAQE;IAAA,6DAAE;IAAA,4DACJ;IAAA,qEACF;;;;IARG,0DAIC;IAJD,4JAIC;;;IA3BP,4EAAwD;IACtD,+LAkBe;IACf,+LAWC;IACH,qEAAe;;;IAhCuB,0EAAiB;IAElD,0DAIF;IAJE,0LAIF;;;;IA+BD,wEAKC;IACC,kFAQC;IAHC,8kBAAgC;IAIlC,4DAAa;IACf,qEAAe;;;;;IARX,0DAEC;IAFD,oIAEC;;;;IAOL,wEACG;IAAA,kFAQA;IALC,8kBAAgC;IAMlC,4DACD;IAAA,qEAAe;;;;;IARZ,0DAA+C;IAA/C,qHAA+C;;;IAxBrD,4EAGC;IACC,+LAgBe;IACf,+LAWgB;IAClB,qEAAe;;;IA/Bb,0EAAiB;IAGd,0DAGD;IAHC,sJAGD;;;IA0BJ,wEACG;IAAA,4EACE;IAAA,6DAAE;IAAA,4DACJ;IAAA,qEACF;;;IA7bH,4EAGC;IACC,gLAUe;IACf,gLAMe;IACf,gLAoPe;IAEf,gLAiEe;IACf,gLAuCe;IACf,gLAgCe;IACf,gLAiCe;IACf,gLAIC;IACH,qEAAe;;;IA5bb,kFAAqB;IAEN,0DAAsB;IAAtB,kFAAsB;IAWtB,0DAAoB;IAApB,gFAAoB;IAQhC,0DAAqB;IAArB,iFAAqB;IAsPrB,0DAAwB;IAAxB,oFAAwB;IAkExB,0DAA6B;IAA7B,yFAA6B;IAuCjB,0DAAqB;IAArB,iFAAqB;IAkCjC,0DAA8B;IAA9B,0FAA8B;;;IA7arC,yEAWC;IACC,+KAOuB;IAEvB,iKA8be;IACjB,4DAAK;;;;;;IAldH,wPAOC;IAKE,0DAAY;IAAZ,4EAAY;IAQZ,0DAAkD;IAAlD,0HAAkD;;;;IA7BzD,yEAMC;IACC,wIAodK;IACP,4DAAK;;;;IA3dH,2PAIE;IAGgB,0DAAY;IAAZ,gFAAY;;;;IAzF9C,0EAA8E;IAItE,sEACA;IAAA,qEAKE;IACJ,4DAAI;IAEN,0EAAoC;IAQ5B,uaAA6B,2QACb,uFAAoB,KADP,+QAEX,yFAAsB,KAFX;IAO7B,6IAIc;IACd,6IAyCc;IACd,6IAmec;IAChB,4DAAc;;;IA7hBZ,0DAAoC;IAApC,oGAAoC;;;IAoiBlD,2EAGC;IAEuB,sEAAsC;IAAA,4DAAM;IAElE,yEAAiB;IAEV,2EAAgB;IAAA,4DAAI;;AD9wBtB,MAAM,uBAAuB;IAkRlC,YACU,cAA8B,EAC/B,aAA4B,EAC5B,cAA8B,EAC7B,MAAc,EACd,KAAqB,EACrB,WAAwB,EACxB,mBAAwC,EACxC,kBAAsC,EACtC,eAAgC,EAChC,mBAAwC,EACxC,EAAsB;QAVtB,mBAAc,GAAd,cAAc,CAAgB;QAC/B,kBAAa,GAAb,aAAa,CAAe;QAC5B,mBAAc,GAAd,cAAc,CAAgB;QAC7B,WAAM,GAAN,MAAM,CAAQ;QACd,UAAK,GAAL,KAAK,CAAgB;QACrB,gBAAW,GAAX,WAAW,CAAa;QACxB,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,uBAAkB,GAAlB,kBAAkB,CAAoB;QACtC,oBAAe,GAAf,eAAe,CAAiB;QAChC,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,OAAE,GAAF,EAAE,CAAoB;QA5RhC,iBAAY,GAAG,sBAAsB,CAAC;QAGtC,qBAAgB,GAAW,YAAY,CAAC;QAExC,WAAM,GAAG,EAAE,CAAC;QACZ,WAAM,GAAG,EAAE,CAAC;QACZ,SAAI,GAAG,KAAK,CAAC;QACb,2BAA2B;QAE3B,iBAAY,GAAG,SAAS,CAAC;QACzB,oBAAe,GAAG,EAAE,CAAC;QAErB,eAAU,GAAQ,EAAE,CAAC;QACrB,gBAAW,GAAY,KAAK,CAAC;QAE7B,sBAAiB,GAAY,KAAK,CAAC;QAEnC,2BAAsB,GAAQ,EAAE,CAAC;QACjC,+BAA0B,GAAQ,IAAI,CAAC;QACvC,+BAA0B,GAAQ,IAAI,CAAC;QAEvC,yBAAoB,GAAQ,EAAE,CAAC;QAE/B,uBAAkB,GAAQ,EAAE,CAAC;QAC7B,4BAAuB,GAAQ,EAAE,CAAC;QAClC,wBAAmB,GAAG,EAAE,CAAC;QACzB,yBAAoB,GAAQ,EAAE,CAAC;QAC/B,0BAAqB,GAAQ,EAAE,CAAC;QAChC,2BAAsB,GAAQ,EAAE,CAAC;QACjC,uBAAkB,GAAQ,EAAE,IAAI,EAAE,YAAY,EAAE,IAAI,EAAE,kBAAkB,EAAE,CAAC;QAC3E,gCAA2B,GAAQ,EAAE,CAAC;QACtC,0BAAqB,GAAG,EAAE,CAAC;QAC3B,6BAAwB,GAAG,EAAE,CAAC;QAC9B,4BAAuB,GAAG,EAAE,CAAC;QAE7B,iBAAY,GAAU,EAAE,CAAC;QACzB,qBAAgB,GAAU,EAAE,CAAC;QAE7B,gCAA2B,GAAG,IAAI,CAAC;QAEnC,iBAAY,GAAY,KAAK,CAAC;QAC9B,2BAAsB,GAAY,KAAK,CAAC;QAGxC,gBAAW,GAAY,KAAK,CAAC;QAC7B,cAAS,GAAY,KAAK,CAAC;QAE3B,kBAAa,GAAQ,EAAE,CAAC;QAExB,+BAA0B,GAAU,EAAE,CAAC;QAEvC,kCAA6B,GAAU,EAAE,CAAC;QAE1C,cAAS,GAAG,KAAK,CAAC;QAElB,SAAI,GAAU;YACZ;gBACE,KAAK,EAAE,SAAS;gBAChB,MAAM,EAAE,YAAY;gBACpB,IAAI,EAAE,QAAQ;gBACd,KAAK,EAAE,OAAO;gBACd,IAAI,EAAE,IAAI;aACX;YACD;gBACE,KAAK,EAAE,kBAAkB;gBACzB,MAAM,EAAE,aAAa;gBACrB,IAAI,EAAE,OAAO;gBACb,KAAK,EAAE,OAAO;gBACd,IAAI,EAAE,IAAI;aACX;YACD;gBACE,KAAK,EAAE,aAAa;gBACpB,MAAM,EAAE,cAAc;gBACtB,IAAI,EAAE,UAAU;gBAChB,KAAK,EAAE,MAAM;gBACb,IAAI,EAAE,IAAI;aACX;YACD;gBACE,KAAK,EAAE,UAAU;gBACjB,MAAM,EAAE,WAAW;gBACnB,IAAI,EAAE,UAAU;gBAChB,KAAK,EAAE,MAAM;gBACb,IAAI,EAAE,IAAI;aACX;YACD;gBACE,KAAK,EAAE,WAAW;gBAClB,MAAM,EAAE,YAAY;gBACpB,IAAI,EAAE,UAAU;gBAChB,KAAK,EAAE,MAAM;gBACb,IAAI,EAAE,IAAI;aACX;YACD;gBACE,KAAK,EAAE,gBAAgB;gBACvB,MAAM,EAAE,iBAAiB;gBACzB,IAAI,EAAE,UAAU;gBAChB,KAAK,EAAE,MAAM;gBACb,IAAI,EAAE,IAAI;aACX;YACD;gBACE,KAAK,EAAE,kBAAkB;gBACzB,MAAM,EAAE,iBAAiB;gBACzB,IAAI,EAAE,UAAU;gBAChB,KAAK,EAAE,MAAM;gBACb,IAAI,EAAE,IAAI;aACX;YACD;gBACE,KAAK,EAAE,OAAO;gBACd,MAAM,EAAE,OAAO;gBACf,IAAI,EAAE,OAAO;gBACb,KAAK,EAAE,OAAO;gBACd,IAAI,EAAE,IAAI;aACX;YAED;gBACE,KAAK,EAAE,cAAc;gBACrB,MAAM,EAAE,eAAe;gBACvB,IAAI,EAAE,OAAO;gBACb,KAAK,EAAE,OAAO;gBACd,IAAI,EAAE,IAAI;aACX;YACD;gBACE,KAAK,EAAE,QAAQ;gBACf,MAAM,EAAE,QAAQ;gBAChB,IAAI,EAAE,OAAO;gBACb,KAAK,EAAE,MAAM;gBACb,IAAI,EAAE,IAAI;aACX;YACD;gBACE,KAAK,EAAE,QAAQ;gBACf,MAAM,EAAE,QAAQ;gBAChB,IAAI,EAAE,OAAO;gBACb,KAAK,EAAE,MAAM;gBACb,IAAI,EAAE,IAAI;aACX;YACD,IAAI;YACJ,0BAA0B;YAC1B,8BAA8B;YAC9B,mBAAmB;YACnB,mBAAmB;YACnB,eAAe;YACf,KAAK;YACL;gBACE,KAAK,EAAE,WAAW;gBAClB,MAAM,EAAE,YAAY;gBACpB,IAAI,EAAE,OAAO;gBACb,KAAK,EAAE,MAAM;gBACb,IAAI,EAAE,IAAI;aACX;YACD;gBACE,KAAK,EAAE,WAAW;gBAClB,MAAM,EAAE,YAAY;gBACpB,IAAI,EAAE,OAAO;gBACb,KAAK,EAAE,MAAM;gBACb,IAAI,EAAE,IAAI;aACX;YACD;gBACE,KAAK,EAAE,cAAc;gBACrB,MAAM,EAAE,eAAe;gBACvB,IAAI,EAAE,OAAO;gBACb,KAAK,EAAE,OAAO;gBACd,IAAI,EAAE,IAAI;aACX;YACD;gBACE,KAAK,EAAE,YAAY;gBACnB,MAAM,EAAE,aAAa;gBACrB,IAAI,EAAE,eAAe;gBACrB,KAAK,EAAE,OAAO;gBACd,IAAI,EAAE,IAAI;aACX;YACD;gBACE,KAAK,EAAE,aAAa;gBACpB,MAAM,EAAE,cAAc;gBACtB,IAAI,EAAE,OAAO;gBACb,KAAK,EAAE,OAAO;gBACd,IAAI,EAAE,0DAA0D;aACjE;YACD;gBACE,KAAK,EAAE,2BAA2B;gBAClC,MAAM,EAAE,mBAAmB;gBAC3B,IAAI,EAAE,UAAU;gBAChB,KAAK,EAAE,OAAO;gBACd,IAAI,EAAE,6DAA6D;aACpE;YACD;gBACE,KAAK,EAAE,SAAS;gBAChB,MAAM,EAAE,SAAS;gBACjB,IAAI,EAAE,UAAU;gBAChB,KAAK,EAAE,OAAO;gBACd,IAAI,EAAE,IAAI;aACX;YACD;gBACE,KAAK,EAAE,oBAAoB;gBAC3B,MAAM,EAAE,cAAc;gBACtB,IAAI,EAAE,gBAAgB;gBACtB,KAAK,EAAE,OAAO;gBACd,IAAI,EAAE,IAAI;aACX;YACD;gBACE,KAAK,EAAE,OAAO;gBACd,MAAM,EAAE,OAAO;gBACf,IAAI,EAAE,UAAU;gBAChB,KAAK,EAAE,OAAO;gBACd,IAAI,EAAE,IAAI;aACX;YACD;gBACE,KAAK,EAAE,kBAAkB;gBACzB,MAAM,EAAE,YAAY;gBACpB,IAAI,EAAE,gBAAgB;gBACtB,KAAK,EAAE,OAAO;gBACd,IAAI,EAAE,IAAI;aACX;YACD;gBACE,KAAK,EAAE,SAAS;gBAChB,MAAM,EAAE,SAAS;gBACjB,IAAI,EAAE,OAAO;gBACb,KAAK,EAAE,OAAO;gBACd,IAAI,EAAE,IAAI;aACX;SACF,CAAC;QAEF,YAAO,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QAE5C,uBAAkB,GAAG,EAAE,CAAC;QACxB,qBAAgB,GAAG,EAAE,CAAC;QAEtB,0BAAqB,GAAQ,EAAE,CAAC;QAEhC,kBAAa,GAAe,EAAE,CAAC;QAC/B,0BAAqB,GAAG,CAAC,CAAC;QAE1B,4BAAuB,GAAG,EAAE,CAAC;QAC7B,wBAAmB,GAAQ,EAAE,CAAC;QAE9B,4BAAuB,GAAQ,EAAE,CAAC;QAGlC,6BAAwB,GAAU,EAAE,CAAC;QACrC,wBAAmB,GAAU,EAAE,CAAC;QAChC,sBAAiB,GAAU,EAAE,CAAC;QAE9B,yBAAoB,GAAY,KAAK,CAAC;QACtC,gBAAW,GAAY,KAAK,CAAC;QAE7B,oBAAe,GAAG;YAChB,KAAK,EAAE;gBACL;oBACE,IAAI,EAAE,SAAS;oBACf,QAAQ,EAAE,SAAS;iBACpB;gBACD;oBACE,IAAI,EAAE,SAAS;oBACf,QAAQ,EAAE,SAAS;iBACpB;aACF;YACD,OAAO,EAAE;gBACP;oBACE,IAAI,EAAE,UAAU;oBAChB,QAAQ,EAAE,UAAU;iBACrB;gBACD;oBACE,IAAI,EAAE,UAAU;oBAChB,QAAQ,EAAE,UAAU;iBACrB;aACF;SACF,CAAC;QAEF,qBAAgB,GAAG,EAAE,CAAC;QAEtB,qBAAgB,GAAG,EAAE,CAAC;QAEtB,oBAAe,GAAG,OAAO,CAAC;IAcvB,CAAC;IAKJ,QAAQ;QACN,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;QAClB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;YACjC,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAC1B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;QACrE,MAAM,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,MAAM,CAAC;QACnD,IAAI,MAAM,IAAI,MAAM,CAAC,EAAE,EAAE;YACvB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CACjE,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,CAAC,CACnE,CAAC;YACF,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,EAAE,CAAC;SACzB;QAED,IAAI;QAEJ,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC,KAAK,CACxC,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAClC,CAAC;QACF,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;QAEzE,IAAI,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,CAAC;QACjE,IAAI,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC;QAE5D,IAAI,MAAM,GAAG,IAAI,CAAC;QAClB,IAAI,MAAM,GAAG,IAAI,CAAC;QAElB,IAAI,UAAU,EAAE;YACd,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;YACxB,MAAM,GAAG,IAAI,CAAC,wBAAwB,CAAC,MAAM,CAC3C,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,IAAI,UAAU,CAAC,eAAe,CAAC,IAAI,CACrD,CAAC,CAAC,CAAC,CAAC;YACL,MAAM,GAAG,IAAI,CAAC,mBAAmB,CAAC,MAAM,CACtC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,IAAI,UAAU,CAAC,UAAU,CAAC,IAAI,CAChD,CAAC,CAAC,CAAC,CAAC;SACN;aAAM;YACL,IAAI,SAAS,EAAE;gBACb,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC,CAAC;gBAC7D,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC;aACzD;SACF;QAED,IAAI,MAAM,EAAE;YACV,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;SACjC;QACD,IAAI,MAAM,EAAE;YACV,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;SACpC;QAED,IAAI,CAAC,eAAe,CAAC,yBAAyB,EAAE,CAAC,SAAS,CACxD,CAAC,GAAG,EAAE,EAAE;YACN,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;iBAClE;aACF;iBAAM;gBACL,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;oBACf,IAAI,CAAC,iBAAiB,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,uBAAuB,CAAC;yBAC1D,MAAM,CAAC,CAAC,IAAI,EAAE,EAAE;wBACf,OAAO,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC;oBACpD,CAAC,CAAC;yBACD,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;wBACZ,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,aAAa,EAAE,IAAI,EAAE,IAAI,CAAC,aAAa,EAAE,CAAC;oBAChE,CAAC,CAAC,CAAC;oBAEL,IAAI,OAAO,GAAG,IAAI,CAAC;oBAEnB,IAAI,UAAU,EAAE;wBACd,OAAO,GAAG,IAAI,CAAC,iBAAiB,CAAC,MAAM,CACrC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,IAAI,UAAU,CAAC,QAAQ,CAAC,IAAI,CAC9C,CAAC,CAAC,CAAC,CAAC;qBACN;oBAED,IAAI,OAAO,EAAE;wBACX,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;qBACnC;oBAED,IAAI,IAAI,CAAC,IAAI,IAAI,KAAK,EAAE;wBACtB,IACE,IAAI,CAAC,OAAO,CAAC,KAAK;4BAClB,IAAI,CAAC,UAAU,CAAC,KAAK;4BACrB,IAAI,CAAC,QAAQ,CAAC,KAAK,EACnB;4BACA,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;4BACvB,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC;4BAC1B,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;4BACxB,IAAI,CAAC,eAAe,EAAE,CAAC;4BACvB,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;yBAClC;6BAAM;4BACL,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,mBAAmB,CAAC,CAAC,CAAC;yBAC7C;qBACF;yBAAM;wBACL,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC;wBACzB,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;wBACvB,IACE,IAAI,CAAC,OAAO,CAAC,KAAK;4BAClB,IAAI,CAAC,UAAU,CAAC,KAAK;4BACrB,IAAI,CAAC,QAAQ,CAAC,KAAK,EACnB;4BACA,IAAI,CAAC,eAAe,EAAE,CAAC;yBACxB;6BAAM;4BACL,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;yBACxC;qBACF;iBACF;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;iBACxC;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;QACnE,CAAC,CACF,CAAC;QACF,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE,CAAC;QACjD,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QACvC,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,UAAU,EAAE;YAC9D,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;SACzB;IACH,CAAC;IAED,KAAK,CAAC,GAAQ;QACZ,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACjB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,0BAA0B,CAAC,CAAC;IAC/C,CAAC;IAED,kBAAkB;QAChB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YACnC,YAAY,EAAE,IAAI,8DAAkB,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAE,EAAE;gBACnE,+DAAmB;aACpB,CAAC;YACF,OAAO,EAAE,IAAI,8DAAkB,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,EAAE;gBAC7D,+DAAmB;aACpB,CAAC;YACF,KAAK,EAAE,IAAI,8DAAkB,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,EAAE;gBAC3D,+DAAmB;aACpB,CAAC;SACH,CAAC,CAAC;IACL,CAAC;IAED,IAAI,OAAO;QACT,OAAO,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;IAClD,CAAC;IACD,IAAI,UAAU;QACZ,OAAO,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;IAC7C,CAAC;IACD,IAAI,QAAQ;QACV,OAAO,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;IAC3C,CAAC;IAED,gBAAgB;QACd,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QACzB,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;QAClC,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;QACxB,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;QACtB,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC;IAC3B,CAAC;IACD,gBAAgB;QACd,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QACzB,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;QAClC,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;QACtB,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;IACzB,CAAC;IAED,eAAe;QACb,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;QACrC,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QACvB,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;QAC3B,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;QACjC,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QACzB,IAAI,CAAC,qBAAqB,EAAE,CAAC;QAC7B,kCAAkC;QAClC,IAAI,CAAC,gDAAgD,EAAE,CAAC;QACxD,IAAI,CAAC,eAAe,EAAE,CAAC;IACzB,CAAC;IAED,iBAAiB,CAAC,MAAW;QAC3B,OAAO,CAAC,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC,CAAC;IACtC,CAAC;IAED,gBAAgB,CAAC,SAAc;QAC7B,IAAI,SAAS,IAAI,gBAAgB,IAAI,SAAS,IAAI,eAAe,EAAE;YACjE,OAAO,UAAU,CAAC;SACnB;aAAM;YACL,OAAO,SAAS,CAAC;SAClB;IACH,CAAC;IAED,sBAAsB,CAAC,YAAiB,EAAE,SAAc;QACtD,IAAI,UAAU,GAAG,KAAK,CAAC;QACvB,IAAI,CAAC,mBAAmB,GAAG,EAAE,CAAC;QAC9B,IAAI,CAAC,uBAAuB,GAAG,EAAE,CAAC;QAClC,IAAI,CAAC,eAAe;aACjB,kBAAkB,CACjB,YAAY,EACZ,SAAS,EACT,IAAI,CAAC,eAAe,CAAC,eAAe,EACpC,IAAI,CAAC,eAAe,CAAC,UAAU,EAC/B,IAAI,CAAC,eAAe,CAAC,QAAQ,CAC9B;aACA,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;gBACzB,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;iBAClE;aACF;iBAAM;gBACL,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;oBACf,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;oBACvC,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;oBACjC,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;oBAE5D,IAAI,CAAC,0BAA0B,GAAG,GAAG,CAAC,aAAa,CAAC,CAAC;oBAErD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,oBAAoB,CAAC,cAAc,CAAC,CAAC;oBAC9D,IAAI,IAAI,CAAC,oBAAoB,CAAC,cAAc,CAAC,EAAE;wBAC7C,IAAI,CAAC,eAAe;4BAClB,IAAI,CAAC,oBAAoB,CAAC,cAAc,CAAC,CAAC;qBAC7C;oBACD,IAAI,CAAC,iBAAiB;wBACpB,CAAC,IAAI,CAAC,oBAAoB,CAAC,gBAAgB,CAAC,CAAC;oBAE/C,IAAI,OAAO,GACT,IAAI,CAAC,mBAAmB,CAAC,gCAAgC,CACvD,IAAI,CAAC,oBAAoB,CAC1B,CAAC;oBAEJ,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAC5D,IAAI,CAAC,oBAAoB,CAC1B,CAAC;oBAEF,IAAI,CAAC,YAAY;wBACf,IAAI,CAAC,kBAAkB,CAAC,uBAAuB,CAC7C,OAAO,CAAC,OAAO,EACf,IAAI,CAAC,kBAAkB,EACvB,IAAI,CAAC,gBAAgB,CACtB,CAAC;oBACJ,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;oBAC/C,IAAI,CAAC,6BAA6B,GAAG,EAAE,CAAC;oBACxC,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;oBAErC,IAAI,YAAY,GAAG,EAAE,CAAC;oBACtB,IAAI,oBAAoB,GAAG,KAAK,CAAC;oBACjC,IAAI,mBAAmB,GAAG,KAAK,CAAC;oBAChC,IAAI,oBAAoB,GAAG,KAAK,CAAC;oBAEjC,IAAI,CAAC,6BAA6B,GAAG,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC;oBAEpD,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,6BAA6B,CAAC,CAAC;oBAEhD,IAAI,YAAY,GAAG,EAAE,CAAC;oBACtB,IAAI,cAAc,GAAG,KAAK,CAAC;oBAC3B,IAAI,eAAe,GAAG,KAAK,CAAC;oBAE5B,IAAI,GAAG,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;wBAC5C,cAAc,GAAG,IAAI,CAAC;qBACvB;oBAED,IAAI,GAAG,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE;wBACpD,eAAe,GAAG,IAAI,CAAC;qBACxB;oBAED,IAAI,cAAc,IAAI,eAAe,EAAE;wBACrC,GAAG,CAAC,MAAM,CAAC,CAAC,eAAe,CAAC,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;4BAC5C,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;gCACrC,OAAiB,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE;oCAC/B,CAAC,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,kBAAkB,CAAC;yCAC7C,KAAK,CAAC,MAAM,CAAC;yCACb,KAAK,CAAC,CAAC,CAAC;yCACR,IAAI,CAAC,MAAM,CAAC,CAAC;gCAClB,CAAC,CAAC,CAAC;4BACL,CAAC,CAAC,CAAC;wBACL,CAAC,CAAC,CAAC;wBACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;4BAC/C,KAAK,EAAE,UAAU;4BACjB,MAAM,EAAE,WAAW;4BACnB,IAAI,EAAE,MAAM;yBACb,CAAC,CAAC;wBACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;4BAC/C,KAAK,EAAE,QAAQ;4BACf,MAAM,EAAE,SAAS;4BACjB,IAAI,EAAE,MAAM;yBACb,CAAC,CAAC;wBACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;4BAC/C,KAAK,EAAE,eAAe;4BACtB,MAAM,EAAE,aAAa;4BACrB,IAAI,EAAE,MAAM;yBACb,CAAC,CAAC;wBACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;4BAC/C,KAAK,EAAE,aAAa;4BACpB,MAAM,EAAE,WAAW;4BACnB,IAAI,EAAE,MAAM;yBACb,CAAC,CAAC;qBACJ;yBAAM;wBACL,IAAI,cAAc,EAAE;4BAClB,GAAG,CAAC,MAAM,CAAC,CAAC,eAAe,CAAC,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;gCAC5C,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;oCACrC,OAAiB,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE;wCAC/B,CAAC,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC;4CACd,CAAC,CAAC,MAAM,CAAC,CAAC,kBAAkB,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;oCACnD,CAAC,CAAC,CAAC;gCACL,CAAC,CAAC,CAAC;4BACL,CAAC,CAAC,CAAC;4BACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;gCAC/C,KAAK,EAAE,eAAe;gCACtB,MAAM,EAAE,aAAa;gCACrB,IAAI,EAAE,MAAM;6BACb,CAAC,CAAC;4BACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;gCAC/C,KAAK,EAAE,aAAa;gCACpB,MAAM,EAAE,WAAW;gCACnB,IAAI,EAAE,MAAM;6BACb,CAAC,CAAC;yBACJ;6BAAM,IAAI,eAAe,EAAE;4BAC1B,GAAG,CAAC,MAAM,CAAC,CAAC,eAAe,CAAC,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;gCAC5C,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;oCACrC,OAAiB,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE;wCAC/B,CAAC,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC;4CACd,CAAC,CAAC,MAAM,CAAC,CAAC,kBAAkB,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;oCACnD,CAAC,CAAC,CAAC;gCACL,CAAC,CAAC,CAAC;4BACL,CAAC,CAAC,CAAC;4BACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;gCAC/C,KAAK,EAAE,UAAU;gCACjB,MAAM,EAAE,WAAW;gCACnB,IAAI,EAAE,MAAM;6BACb,CAAC,CAAC;4BACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;gCAC/C,KAAK,EAAE,QAAQ;gCACf,MAAM,EAAE,SAAS;gCACjB,IAAI,EAAE,MAAM;6BACb,CAAC,CAAC;yBACJ;6BAAM,IAAI,CAAC,cAAc,IAAI,CAAC,eAAe,EAAE;4BAC9C,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;gCACtD,IAAI,gBAAgB,GAAG;oCACrB,IAAI,EAAE;wCACJ,OAAO,EAAE,GAAG,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;wCACrC,GAAG,EAAE,CAAC;qCACP;oCACD,QAAQ,EAAE,IAAI;oCACd,IAAI,EAAE,KAAK;oCACX,QAAQ,EAAE,EAAE;iCACb,CAAC;gCAEF,IAAI,eAAe,GACjB,GAAG,CAAC,MAAM,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,CAC7B,GAAG,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAC7B,CAAC;gCAEJ,eAAe,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;oCAChC,KAAK,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC;oCACrB,IAAI,KAAK,CAAC,MAAM,CAAC,CAAC,cAAc,CAAC,IAAI,KAAK,EAAE;wCAC1C,KAAK,CAAC,iBAAiB,CAAC,GAAG,KAAK,CAAC;wCACjC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;qCAChC;gCACH,CAAC,CAAC,CAAC;gCAEH,gBAAgB,CAAC,UAAU,CAAC,GAAG,eAAe,CAAC;gCAC/C,YAAY,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;4BACtC,CAAC,CAAC,CAAC;yBACJ;qBACF;oBAED,IAAI,CAAC,6BAA6B,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;wBACjD,GAAG,CAAC,MAAM,CAAC,CAAC,eAAe,CAAC,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;4BAC5C,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;gCACrC,OAAiB,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE;oCAC/B,IACE,GAAG,CAAC,OAAO,CAAC,IAAI,YAAY;wCAC5B,GAAG,CAAC,OAAO,CAAC,IAAI,cAAc;wCAC9B,GAAG,CAAC,OAAO,CAAC,IAAI,aAAa;wCAC7B,GAAG,CAAC,OAAO,CAAC,IAAI,kBAAkB;wCAClC,GAAG,CAAC,OAAO,CAAC,IAAI,oBAAoB,EACpC;wCACA,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,EAAE;4CAC3B,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAClC,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CACxB,CAAC;yCACH;qCACF;oCACD,IACE,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,IAAI,KAAK;wCAChC,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,IAAI,MAAM,EACjC;wCACA,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,GAAG,IAAI,CAAC;qCAChC;oCACD,IACE,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,IAAI,IAAI;wCAC/B,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,IAAI,OAAO,EAClC;wCACA,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,GAAG,KAAK,CAAC;qCACjC;oCACD,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,IAAI,MAAM,EAAE;wCACrC,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,CAAC;qCAC9B;oCACD,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;wCAChB,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,GAAG,GAAG,CAAC,OAAO,CAAC,CAAC;qCACxC;gCACH,CAAC,CAAC,CAAC;4BACL,CAAC,CAAC,CAAC;wBACL,CAAC,CAAC,CAAC;oBACL,CAAC,CAAC,CAAC;oBAEH,IAAI,cAAc,IAAI,eAAe,EAAE;wBACrC,IAAI,cAAc,IAAI,eAAe,EAAE;4BACrC,OAAO,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE,EAAE,EAAE;gCACxC,OAAO,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE,EAAE,EAAE;oCACvC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE;wCACnD,IAAI,gBAAgB,GAAG;4CACrB,IAAI,EAAE;gDACJ,OAAO,EAAE,GAAG,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;gDACrC,GAAG,EAAE,EAAE;6CACR;4CACD,QAAQ,EAAE,IAAI;4CACd,IAAI,EAAE,KAAK;4CACX,QAAQ,EAAE,EAAE;yCACb,CAAC;wCACF,IAAI,eAAe,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,CACnD,GAAG,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAC7B,CAAC,MAAM,CAAC,CAAC,KAAK,EAAE,EAAE;4CACjB,OAAO,CACL,KAAK,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC;gDACpB,QAAQ,KAAK,CAAC,MAAM,CAAC,QAAQ,KAAK,CAAC,IAAI,CAAC,oBAAoB,KAAK,CAAC,cAAc,CAAC,gBAAgB,KAAK,CAAC,YAAY,CAAC,EAAE,CACvH,CAAC;wCACJ,CAAC,CAAC,CAAC;wCACH,eAAe,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;4CAChC,KAAK,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC,GAAG,KAAK,CAAC,cAAc,CAAC,CAAC;4CAClD,KAAK,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,GAAG,KAAK,CAAC,YAAY,CAAC,CAAC;4CAC9C,KAAK,CAAC,MAAM,CAAC,CAAC,eAAe,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC,CAAC;4CAC/C,KAAK,CAAC,MAAM,CAAC,CAAC,aAAa,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC;4CAC3C,KAAK,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC;4CACrB,IAAI,KAAK,CAAC,MAAM,CAAC,CAAC,cAAc,CAAC,IAAI,KAAK,EAAE;gDAC1C,KAAK,CAAC,iBAAiB,CAAC,GAAG,KAAK,CAAC;gDACjC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;6CAChC;wCACH,CAAC,CAAC,CAAC;wCAEH,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;wCAC7B,gBAAgB,CAAC,UAAU,CAAC,GAAG,eAAe,CAAC;wCAC/C,YAAY,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;oCACtC,CAAC,CAAC,CAAC;gCACL,CAAC,CAAC,CAAC;4BACL,CAAC,CAAC,CAAC;yBACJ;6BAAM;4BACL,IAAI,cAAc,EAAE;gCAClB,OAAO,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,CAAC,EAAE,EAAE;oCACrC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE;wCACnD,IAAI,gBAAgB,GAAG;4CACrB,IAAI,EAAE;gDACJ,OAAO,EAAE,GAAG,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;gDACrC,GAAG,EAAE,CAAC;6CACP;4CACD,QAAQ,EAAE,IAAI;4CACd,IAAI,EAAE,KAAK;4CACX,QAAQ,EAAE,EAAE;yCACb,CAAC;wCACF,IAAI,eAAe,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,CACnD,GAAG,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAC7B,CAAC,MAAM,CACN,CAAC,KAAK,EAAE,EAAE,CACR,KAAK,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC;4CACpB,QAAQ,IAAI,CAAC,MAAM,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,EAAE,CAC3C,CAAC;wCACF,eAAe,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;4CAChC,KAAK,CAAC,MAAM,CAAC,CAAC,eAAe,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC;4CAC9C,KAAK,CAAC,MAAM,CAAC,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC;4CAC1C,KAAK,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC;4CACrB,IAAI,KAAK,CAAC,MAAM,CAAC,CAAC,cAAc,CAAC,IAAI,KAAK,EAAE;gDAC1C,KAAK,CAAC,iBAAiB,CAAC,GAAG,KAAK,CAAC;gDACjC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;6CAChC;wCACH,CAAC,CAAC,CAAC;wCAEH,gBAAgB,CAAC,UAAU,CAAC,GAAG,eAAe,CAAC;wCAC/C,YAAY,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;oCACtC,CAAC,CAAC,CAAC;gCACL,CAAC,CAAC,CAAC;6BACJ;iCAAM,IAAI,eAAe,EAAE;gCAC1B,OAAO,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,CAAC,EAAE,EAAE;oCACtC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE;wCACnD,IAAI,gBAAgB,GAAG;4CACrB,IAAI,EAAE;gDACJ,OAAO,EAAE,GAAG,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;gDACrC,GAAG,EAAE,CAAC;6CACP;4CACD,QAAQ,EAAE,IAAI;4CACd,IAAI,EAAE,KAAK;4CACX,QAAQ,EAAE,EAAE;yCACb,CAAC;wCACF,IAAI,eAAe,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,CACnD,GAAG,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAC7B,CAAC,MAAM,CACN,CAAC,KAAK,EAAE,EAAE,CACR,KAAK,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC;4CACpB,gBAAgB,IAAI,CAAC,cAAc,CAAC,gBAAgB,IAAI,CAAC,YAAY,CAAC,EAAE,CAC3E,CAAC;wCACF,eAAe,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;4CAChC,KAAK,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC;4CACjD,KAAK,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC;4CAC7C,KAAK,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC;4CACrB,IAAI,KAAK,CAAC,MAAM,CAAC,CAAC,cAAc,CAAC,IAAI,KAAK,EAAE;gDAC1C,KAAK,CAAC,iBAAiB,CAAC,GAAG,KAAK,CAAC;gDACjC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;6CAChC;wCACH,CAAC,CAAC,CAAC;wCAEH,gBAAgB,CAAC,UAAU,CAAC,GAAG,eAAe,CAAC;wCAC/C,YAAY,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;oCACtC,CAAC,CAAC,CAAC;gCACL,CAAC,CAAC,CAAC;6BACJ;yBACF;qBACF;yBAAM;qBACN;oBAED,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,YAAY,CAAC,CAAC;oBAChC,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,IAAI,CAAC,6BAA6B,CAAC,CAAC;oBAEtD,IAAI,CAAC,0BAA0B,GAAG,CAAC,GAAG,YAAY,CAAC,CAAC;oBACpD,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;iBACzB;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;oBAC9C,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;oBACzB,IAAI,GAAG,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC,WAAW,CAAC,EAAE;wBACpC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;wBACzB,IAAI,CAAC,0BAA0B,CAAC,YAAY,CAAC,OAAO,EAAE,CAAC;qBACxD;oBACD,IAAI,CAAC,mBAAmB,GAAG,EAAE,CAAC;oBAC9B,IAAI,CAAC,uBAAuB,GAAG,EAAE,CAAC;iBACnC;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;YACzB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,OAAO,CAAC,GAAG,CAAC,kCAAkC,EAAE,GAAG,CAAC,CAAC;QACvD,CAAC,CACF,CAAC;IACN,CAAC;IAED,QAAQ,CAAC,IAAS;QAChB,IAAI,CAAC,qBAAqB,EAAE,CAAC;IAC/B,CAAC;IACD,qBAAqB;QACnB,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,IAAI,SAAS,GAAG,EAAE,CAAC;QACnB,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,EAAE;YAC5B,SAAS,GAAG,QAAQ,CAAC;YACrB,IAAI,GAAG,UAAU,CAAC;SACnB;aAAM;YACL,SAAS,GAAG,UAAU,CAAC;YACvB,IAAI,GAAG,YAAY,CAAC;SACrB;QACD,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;QAChD,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,WAAW,GAAG,EAAE,CAAC;QACrB,WAAW;YACT,mDAAmD;gBACnD,iBAAiB;gBACjB,IAAI;gBACJ,0BAA0B,IAAI,CAAC,YAAY,GAAG,CAAC;QAEjD,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;YAC/B,OAAO,EAAE,WAAW;YACpB,GAAG,EAAE,0BAA0B;YAC/B,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;gBAC7B,IAAI,CAAC,mBAAmB,EAAE,CAAC;YAC7B,CAAC;YACD,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;gBAC/B,IAAI,CAAC,mBAAmB,EAAE,CAAC;YAC7B,CAAC;SACF,CAAC,CAAC;IACL,CAAC;IACD,YAAY,CAAC,SAAc;QACzB,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QAExC,MAAM,QAAQ,GAAG,IAAI,QAAQ,EAAE,CAAC;QAChC,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;QACvC,QAAQ,CAAC,MAAM,CAAC,cAAc,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QACnD,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;QACrC,QAAQ,CAAC,MAAM,CAAC,cAAc,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QACzD,QAAQ,CAAC,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC1D,QAAQ,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAClD,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC;IAClC,CAAC;IAED,gBAAgB,CAAC,QAAa;QAC5B,IAAI,CAAC,eAAe,CAAC,oBAAoB,CAAC,QAAQ,CAAC,CAAC,SAAS,CAC3D,CAAC,GAAG,EAAE,EAAE;YACN,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;iBAClE;aACF;iBAAM;gBACL,IAAI,OAAO,GAAG,EAAE,CAAC;gBACjB,IAAI,GAAG,CAAC,OAAO,CAAC,IAAI,MAAM,EAAE;oBAC1B,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;oBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;iBAC5C;qBAAM;oBACL,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;wBACd,OAAO,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC;wBACrB,IAAI,CAAC,WAAW,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC;wBACrC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;qBAC5C;yBAAM;wBACL,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;wBACvC,OAAO,GAAG,gDAAgD,CAAC;wBAC3D,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;qBAC5C;iBACF;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,OAAO,CAAC,GAAG,CAAC,+BAA+B,EAAE,GAAG,CAAC,CAAC;YAClD,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,CACF,CAAC;IACJ,CAAC;IAED,YAAY,CAAC,KAAK;QAChB,IAAI,KAAK,CAAC,IAAI,EAAE;YACd,KAAK,CAAC,MAAM,CAAC,CAAC,iBAAiB,CAAC,GAAG,KAAK,CAAC;SAC1C;IACH,CAAC;IACD,cAAc,CAAC,KAAK;QAClB,OAAO,KAAK,CAAC,MAAM,CAAC,CAAC,iBAAiB,CAAC,CAAC;QACxC,IAAI,KAAK,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC,IAAI,KAAK,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE;YACrE,KAAK,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;gBAC1C,IAAI,KAAK,CAAC,cAAc,CAAC,iBAAiB,CAAC,EAAE;oBAC3C,OAAO,KAAK,CAAC,iBAAiB,CAAC,CAAC;iBACjC;YACH,CAAC,CAAC,CAAC;SACJ;IACH,CAAC;IAED,gDAAgD;QAC9C,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;QAC3B,IAAI,CAAC,eAAe;aACjB,gDAAgD,EAAE;aAClD,SAAS,CACR,CAAC,SAAgB,EAAE,EAAE;YACnB,8BAA8B;YAC9B,OAAO,CAAC,GAAG,CAAC,sBAAsB,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;YAClD,OAAO,CAAC,GAAG,CAAC,sBAAsB,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;YAClD,IAAI,CAAC,gBAAgB,GAAG;gBACtB,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;gBACvB,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;aACxB,CAAC;YACF,mBAAmB;YACnB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,EAAE,EAAE;gBAC5B,IAAI,CAAC,gBAAgB,CAAC,sBAAsB,CAAC,CAAC,IAAI,CAAC;oBACjD,IAAI,EAAE,GAAG,CAAC,EAAE;oBACZ,QAAQ,EAAE,GAAG,CAAC,EAAE;iBACjB,CAAC,CAAC;aACJ;YACD,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;QACrC,CAAC,EACD,CAAC,KAAK,EAAE,EAAE;YACR,OAAO,CAAC,KAAK,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;QACjC,CAAC,CACF,CAAC;IACN,CAAC;IAED,8BAA8B;IAC9B,yBAAyB;IACzB,sDAAsD;IACtD,kBAAkB;IAClB,mBAAmB;IACnB,eAAe;IACf,6BAA6B;IAC7B,gDAAgD;IAChD,+DAA+D;IAC/D,cAAc;IACd,gCAAgC;IAChC,+DAA+D;IAC/D,qBAAqB;IACrB,gFAAgF;IAChF,cAAc;IACd,wCAAwC;IACxC,mBAAmB;IACnB,2CAA2C;IAC3C,iDAAiD;IACjD,YAAY;IACZ,WAAW;IACX,mBAAmB;IACnB,gEAAgE;IAChE,sCAAsC;IACtC,UAAU;IACV,SAAS;IACT,IAAI;IAEJ,qBAAqB;QACnB,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,8CAAQ,CAAC;YACP,kBAAkB,EAAE,IAAI,CAAC,eAAe,CAAC,qBAAqB,CAC5D,IAAI,CAAC,MAAM,EACX,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,EACxB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EACvB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAC3B;YACD,uBAAuB,EAAE,IAAI,CAAC,eAAe,CAAC,0BAA0B,CACtE,IAAI,CAAC,MAAM,EACX,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,EACxB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EACvB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAC3B;SACF,CAAC;aACC,IAAI,CACH,oDAAI,CAAC,CAAC,CAAC,EACP,mDAAG,CAAC,CAAC,QAAQ,EAAE,EAAE;YACf,IACE,QAAQ,CAAC,uBAAuB,CAAC,MAAM,CAAC;gBACxC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,EACjE;gBACA,OAAO;oBACL,GAAG,EAAE,sDAAsD;iBAC5D,CAAC;aACH;iBAAM,IACL,CAAC,QAAQ,CAAC,uBAAuB,CAAC,MAAM,CAAC;gBACzC,QAAQ,CAAC,uBAAuB,CAAC,KAAK,CAAC,EACvC;gBACA,OAAO;oBACL,GAAG,EAAE,QAAQ,CAAC,uBAAuB,CAAC,KAAK,CAAC;iBAC7C,CAAC;aACH;iBAAM;gBACL,IAAI,kBAAkB,GAAG,gEAAY,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAC;gBACnE,OAAO,kBAAkB,CAAC,cAAc,CAAC,CAAC;gBAC1C,IAAI,CAAC,gBAAgB,GAAG,QAAQ,CAAC,kBAAkB,CAAC,cAAc,CAAC,CAAC;gBACpE,MAAM,kBAAkB,GAAG,kBAAkB,CAAC;gBAC9C,IAAI,CAAC,uBAAuB,GAAG,QAAQ,CAAC,uBAAuB,CAAC;gBAChE,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,YAAY,CAAC,qBAAqB,CAAC,OAAO,CAC1E,CAAC,IAAI,EAAE,EAAE;oBACP,IAAI,IAAI,CAAC,cAAc,CAAC,IAAI,MAAM,EAAE;wBAClC,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC;qBACnD;oBACD,IAAI,IAAI,CAAC,cAAc,CAAC,IAAI,MAAM,EAAE;wBAClC,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC;qBACnD;gBACH,CAAC,CACF,CAAC;gBAEF,IAAI,IAAI,CAAC,IAAI,IAAI,KAAK,EAAE;oBACtB,IAAI,CAAC,YAAY;wBACf,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,YAAY,CAAC;oBACjD,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC;oBAChC,IAAI,CAAC,eAAe;wBAClB,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,YAAY,CAAC;iBAClD;gBAED,IAAI,CAAC,qBAAqB,GAAG;oBAC3B,GAAG,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,YAAY;yBAC9C,qBAAqB;iBACzB,CAAC;gBAEF,IAAI,CAAC,mBAAmB;oBACtB,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,SAAS;yBACxC,OAAO,CAAC,YAAY,EAAE,EAAE,CAAC;yBACzB,KAAK,CAAC,IAAI,CAAC,CAAC;gBAEjB,IAAI,CAAC,oBAAoB;oBACvB,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,UAAU,CAAC;gBAE/C,IAAI,0BAA0B,GAC5B,IAAI,CAAC,mBAAmB,CAAC,iBAAiB,CACxC,IAAI,CAAC,uBAAuB,EAC5B,IAAI,CAAC,qBAAqB,EAC1B,kBAAkB,EAClB,IAAI,CAAC,mBAAmB,EACxB,IAAI,CAAC,oBAAoB,EACzB,IAAI,CAAC,kBAAkB,CACxB,CAAC;gBAEJ,IAAI,CAAC,qBAAqB;oBACxB,0BAA0B,CAAC,uBAAuB,CAAC,CAAC;gBACtD,IAAI,CAAC,sBAAsB;oBACzB,0BAA0B,CAAC,wBAAwB,CAAC,CAAC;gBACvD,OAAO,kBAAkB,CAAC;aAC3B;QACH,CAAC,CAAC,CACH;aACA,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;gBACf,IACE,GAAG,CAAC,QAAQ,CAAC;oBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;oBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;oBACA,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;oBACvC,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;oBACzB,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;wBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;qBACjD;yBAAM;wBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,6BAA6B,CAC9B,CAAC;qBACH;iBACF;qBAAM;oBACL,IAAI,CAAC,kBAAkB,GAAG,GAAG,CAAC;oBAC9B,IAAI,IAAI,CAAC,IAAI,IAAI,MAAM,EAAE;wBACvB,IACE,CAAC,CACC,IAAI,CAAC,eAAe,CAAC,eAAe;4BACpC,IAAI,CAAC,eAAe,CAAC,UAAU;4BAC/B,IAAI,CAAC,eAAe,CAAC,QAAQ,CAC9B,EACD;4BACA,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;4BAClC,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;4BACzB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,mBAAmB,CAAC,CAAC,CAAC;yBAC7C;6BAAM;4BACL,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;yBAClD;qBACF;yBAAM,IAAI,IAAI,CAAC,IAAI,IAAI,OAAO,EAAE;wBAC/B,IACE,CAAC,CACC,IAAI,CAAC,eAAe,CAAC,eAAe;4BACpC,IAAI,CAAC,eAAe,CAAC,UAAU;4BAC/B,IAAI,CAAC,eAAe,CAAC,QAAQ,CAC9B,EACD;4BACA,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;4BAClC,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;4BACzB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,mBAAmB,CAAC,CAAC,CAAC;yBAC7C;6BAAM;4BACL,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;yBACnD;qBACF;yBAAM;wBACL,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;wBACxB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;qBACxC;iBACF;aACF;iBAAM,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;gBACrB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;gBAC9C,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,OAAO;aACR;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;YACzB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,OAAO,CAAC,GAAG,CAAC,qCAAqC,EAAE,GAAG,CAAC,CAAC;YACxD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;QACnE,CAAC,CACF,CAAC;IACN,CAAC;IAED,sBAAsB,CACpB,OAAY,EACZ,WAAgB,EAChB,gBAAqB;QAErB,IAAI,gBAAgB,GAAG,gBAAgB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAElD,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,CAAC,eAAe;aACjB,0BAA0B,CACzB,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,EACxB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EACvB,gBAAgB,EAChB,OAAO,EACP,WAAW,EACX,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAC3B;aACA,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;iBAClE;aACF;iBAAM;gBACL,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,0BAA0B,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC;oBACnD,IAAI,CAAC,0BAA0B,CAAC,kBAAkB,GAAG,KAAK,CAAC;oBAC3D,IAAI,CAAC,0BAA0B,CAAC,cAAc,GAAG,KAAK,CAAC;oBAEvD,IAAI,CAAC,uBAAuB,GAAG,GAAG,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE;wBACtD,OAAO,EAAE,IAAI,EAAE,GAAG,CAAC,UAAU,CAAC,EAAE,IAAI,EAAE,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC;oBACtD,CAAC,CAAC,CAAC;iBACJ;qBAAM;oBACL,IAAI,GAAG,CAAC,SAAS,CAAC,EAAE;wBAClB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC;wBAClD,IAAI,CAAC,sBAAsB,EAAE,CAAC;qBAC/B;yBAAM;wBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,4BAA4B,CAAC,CAAC;wBAChE,IAAI,CAAC,sBAAsB,EAAE,CAAC;qBAC/B;iBACF;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,OAAO,CAAC,GAAG,CAAC,yBAAyB,EAAE,GAAG,CAAC,CAAC;YAC5C,IAAI,CAAC,sBAAsB,EAAE,CAAC;YAC9B,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;QACnE,CAAC,CACF,CAAC;IACN,CAAC;IAED,sBAAsB;QACpB,IAAI,CAAC,0BAA0B,CAAC,sBAAsB,EAAE,CAAC;IAC3D,CAAC;IAED,aAAa,CAAC,gBAA0B;QACtC,gBAAgB,CAAC,MAAM,CAAC,cAAc,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;QACrD,gBAAgB,CAAC,MAAM,CAAC,WAAW,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;QAChD,gBAAgB,CAAC,MAAM,CAAC,cAAc,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QACjE,gBAAgB,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC1D,gBAAgB,CAAC,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAClE,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC;QACnC,IAAI,IAAI,CAAC,iBAAiB,IAAI,IAAI,CAAC,IAAI,IAAI,OAAO,EAAE;YAClD,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;YAChD,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;YAC7C,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;gBAC/B,OAAO,EAAE,kIAAkI;gBAC3I,GAAG,EAAE,wBAAwB;gBAC7B,MAAM,EAAE,GAAG,EAAE;oBACX,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;oBACxC,UAAU,CAAC,GAAG,EAAE;wBACd,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;wBAC5C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;oBACjD,CAAC,EAAE,GAAG,CAAC,CAAC;oBACR,UAAU,CAAC,GAAG,EAAE;wBACd,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;oBACzC,CAAC,EAAE,IAAI,CAAC,CAAC;gBACX,CAAC;aACF,CAAC,CAAC;SACJ;aAAM;YACL,IAAI,CAAC,yBAAyB,CAAC,gBAAgB,CAAC,CAAC;SAClD;IACH,CAAC;IAED,yBAAyB,CAAC,QAAa;QACrC,IAAI,CAAC,mBAAmB,GAAG,EAAE,CAAC;QAC9B,IAAI,CAAC,uBAAuB,GAAG,EAAE,CAAC;QAClC,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,CAAC,eAAe;aACjB,kBAAkB,CAAC,QAAQ,CAAC;aAC5B,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;iBAClE;aACF;iBAAM;gBACL,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;gBAC7D,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;oBACf,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,EAAE;wBACrB,IAAI,CAAC,0BAA0B,GAAG,GAAG,CAAC,aAAa,CAAC,CAAC;wBACrD,IAAI,OAAO,GACT,IAAI,CAAC,mBAAmB,CAAC,gCAAgC,CACvD,GAAG,CACJ,CAAC;wBAEJ,IAAI,SAAS,GAAG,IAAI,CAAC,kBAAkB,CAAC,uBAAuB,CAC7D,OAAO,CAAC,OAAO,EACf,IAAI,CAAC,kBAAkB,EACvB,IAAI,CAAC,gBAAgB,CACtB,CAAC;wBAEF,IAAI,CAAC,6BAA6B,GAAG,EAAE,CAAC;wBAExC,IAAI,YAAY,GAAG,EAAE,CAAC;wBACtB,IAAI,oBAAoB,GAAG,KAAK,CAAC;wBACjC,IAAI,mBAAmB,GAAG,KAAK,CAAC;wBAChC,IAAI,oBAAoB,GAAG,KAAK,CAAC;wBAEjC,IAAI,CAAC,6BAA6B,GAAG,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC;wBACpD,IAAI,CAAC,0BAA0B,GAAG,GAAG,CAAC,WAAW,CAAC,CAAC;wBAEnD,IAAI,YAAY,GAAG,EAAE,CAAC;wBACtB,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE;4BACnD,IAAI,gBAAgB,GAAG;gCACrB,IAAI,EAAE;oCACJ,OAAO,EAAE,GAAG,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;iCACtC;gCACD,QAAQ,EAAE,IAAI;gCACd,IAAI,EAAE,KAAK;gCACX,QAAQ,EAAE,EAAE;6BACb,CAAC;4BAEF,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE,EAAE;gCAChC,IAAI,QAAQ,GAAG,EAAE,IAAI,EAAE,EAAE,EAAE,CAAC;gCAC5B,IAAI,CAAC,6BAA6B,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;oCACjD,IACE,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,IAAI,MAAM;wCAC9B,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,IAAI,KAAK,EAC7B;wCACA,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,GAAG,IAAI,CAAC;qCAC7B;oCACD,IACE,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,IAAI,OAAO;wCAC/B,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,IAAI,IAAI,EAC5B;wCACA,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,GAAG,KAAK,CAAC;qCAC9B;oCACD,QAAQ,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;gCACxD,CAAC,CAAC,CAAC;gCACH,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;oCAC3C,IAAI,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,SAAS,EAAE;wCACtC,IAAI,CAAC,6BAA6B,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;4CACjD,IAAI,KAAK,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;gDACzB,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC,OAAO,CAAC,CAAC;6CACrC;wCACH,CAAC,CAAC,CAAC;qCACJ;gCACH,CAAC,CAAC,CAAC;gCACH,QAAQ,CAAC,MAAM,CAAC,CAAC,mBAAmB,CAAC;oCACnC,MAAM,CAAC,mBAAmB,CAAC,CAAC;gCAC9B,QAAQ,CAAC,MAAM,CAAC,CAAC,gBAAgB,CAAC;oCAChC,MAAM,CAAC,gBAAgB,CAAC,CAAC;gCAC3B,QAAQ,CAAC,MAAM,CAAC,CAAC,qBAAqB,CAAC;oCACrC,MAAM,CAAC,qBAAqB,CAAC,CAAC;gCAChC,QAAQ,CAAC,MAAM,CAAC,CAAC,WAAW,CAAC,GAAG,MAAM,CAAC,WAAW,CAAC,CAAC;gCACpD,QAAQ,CAAC,MAAM,CAAC,CAAC,kBAAkB,CAAC;oCAClC,MAAM,CAAC,kBAAkB,CAAC,CAAC;gCAC7B,QAAQ,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,GAAG,MAAM,CAAC,QAAQ,CAAC,CAAC;gCAC9C,QAAQ,CAAC,MAAM,CAAC,CAAC,SAAS,CAAC,GAAG,MAAM,CAAC,SAAS,CAAC,CAAC;gCAChD,QAAQ,CAAC,MAAM,CAAC,CAAC,aAAa,CAAC,GAAG,MAAM,CAAC,aAAa,CAAC,CAAC;gCACxD,QAAQ,CAAC,MAAM,CAAC,CAAC,SAAS,CAAC,GAAG,MAAM,CAAC,SAAS,CAAC,CAAC;gCAChD,QAAQ,CAAC,MAAM,CAAC,CAAC,SAAS,CAAC,GAAG,MAAM,CAAC,SAAS,CAAC,CAAC;gCAChD,QAAQ,CAAC,MAAM,CAAC,CAAC,aAAa,CAAC,GAAG,MAAM,CAAC,aAAa,CAAC,CAAC;gCAExD,QAAQ,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC;gCAExB,gBAAgB,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;4BAC9C,CAAC,CAAC,CAAC;4BACH,YAAY,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;wBACtC,CAAC,CAAC,CAAC;wBAEH,IAAI,cAAc,GAAG,KAAK,CAAC;wBAC3B,IAAI,eAAe,GAAG,KAAK,CAAC;wBAE5B,IAAI,eAAe,GAAG,GAAG,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;wBAE1D,IAAI,GAAG,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;4BAC5C,cAAc,GAAG,IAAI,CAAC;yBACvB;wBAED,IAAI,GAAG,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE;4BACpD,eAAe,GAAG,IAAI,CAAC;yBACxB;wBAED,IAAI,cAAc,IAAI,eAAe,EAAE;4BACrC,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;gCAC/C,KAAK,EAAE,UAAU;gCACjB,MAAM,EAAE,WAAW;gCACnB,IAAI,EAAE,MAAM;6BACb,CAAC,CAAC;4BACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;gCAC/C,KAAK,EAAE,QAAQ;gCACf,MAAM,EAAE,SAAS;gCACjB,IAAI,EAAE,MAAM;6BACb,CAAC,CAAC;4BACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;gCAC/C,KAAK,EAAE,eAAe;gCACtB,MAAM,EAAE,aAAa;gCACrB,IAAI,EAAE,MAAM;6BACb,CAAC,CAAC;4BACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;gCAC/C,KAAK,EAAE,aAAa;gCACpB,MAAM,EAAE,WAAW;gCACnB,IAAI,EAAE,MAAM;6BACb,CAAC,CAAC;4BAEH,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;4BAErC,IAAI,cAAc,GAAG,OAAO,CAAC,WAAW,CAAC;4BACzC,IAAI,aAAa,GAAG,OAAO,CAAC,UAAU,CAAC;4BAEvC,cAAc,CAAC,OAAO,CAAC,CAAC,SAAS,EAAE,EAAE;gCACnC,aAAa,CAAC,OAAO,CAAC,CAAC,QAAQ,EAAE,CAAC,EAAE,EAAE;oCACpC,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC,CAAC;oCACpD,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;wCACnB,GAAG,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;wCACvB,GAAG,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;4CAChC,KAAK,CAAC,MAAM,CAAC,CAAC,eAAe,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC;4CAC/C,KAAK,CAAC,MAAM,CAAC,CAAC,aAAa,CAAC,GAAG,QAAQ,CAAC,EAAE,CAAC;4CAC3C,KAAK,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC,GAAG,SAAS,CAAC,YAAY,CAAC;4CACnD,KAAK,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,GAAG,SAAS,CAAC,UAAU,CAAC;4CAC/C,KAAK,CAAC,MAAM,CAAC,CACX,kBAAkB,CACnB,GAAG,GAAG,eAAe,YAAY,QAAQ,CAAC,MAAM,CAAC,QAAQ,QAAQ,CAAC,IAAI,CAAC,oBAAoB,SAAS,CAAC,cAAc,CAAC,gBAAgB,SAAS,CAAC,YAAY,CAAC,EAAE,CAAC;wCACjK,CAAC,CAAC,CAAC;oCACL,CAAC,CAAC,CAAC;oCACH,IAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC;gCAChD,CAAC,CAAC,CAAC;4BACL,CAAC,CAAC,CAAC;yBACJ;6BAAM;4BACL,IAAI,cAAc,EAAE;gCAClB,IAAI,aAAa,GAAG,OAAO,CAAC,UAAU,CAAC;gCACvC,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;oCAC/C,KAAK,EAAE,eAAe;oCACtB,MAAM,EAAE,aAAa;oCACrB,IAAI,EAAE,MAAM;iCACb,CAAC,CAAC;gCACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;oCAC/C,KAAK,EAAE,aAAa;oCACpB,MAAM,EAAE,WAAW;oCACnB,IAAI,EAAE,MAAM;iCACb,CAAC,CAAC;gCACH,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;gCACrC,aAAa,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,CAAC,EAAE,EAAE;oCAChC,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC,CAAC;oCACpD,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;wCACnB,GAAG,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;wCACvB,GAAG,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;4CAChC,KAAK,CAAC,MAAM,CAAC,CAAC,eAAe,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC;4CAC9C,KAAK,CAAC,MAAM,CAAC,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC;4CAC1C,KAAK,CAAC,MAAM,CAAC,CACX,kBAAkB,CACnB,GAAG,GAAG,eAAe,YAAY,IAAI,CAAC,MAAM,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC;wCACrE,CAAC,CAAC,CAAC;oCACL,CAAC,CAAC,CAAC;oCAEH,IAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC;gCAChD,CAAC,CAAC,CAAC;6BACJ;iCAAM,IAAI,eAAe,EAAE;gCAC1B,IAAI,cAAc,GAAG,OAAO,CAAC,WAAW,CAAC;gCACzC,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;oCAC/C,KAAK,EAAE,UAAU;oCACjB,MAAM,EAAE,WAAW;oCACnB,IAAI,EAAE,MAAM;iCACb,CAAC,CAAC;gCACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;oCAC/C,KAAK,EAAE,QAAQ;oCACf,MAAM,EAAE,SAAS;oCACjB,IAAI,EAAE,MAAM;iCACb,CAAC,CAAC;gCACH,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;gCACrC,cAAc,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,CAAC,EAAE,EAAE;oCACjC,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC,CAAC;oCACpD,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;wCACnB,GAAG,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;wCACvB,GAAG,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;4CAChC,KAAK,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC;4CACjD,KAAK,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC;4CAC7C,KAAK,CAAC,MAAM,CAAC,CACX,kBAAkB,CACnB,GAAG,GAAG,eAAe,oBAAoB,IAAI,CAAC,cAAc,CAAC,gBAAgB,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC;wCACrG,CAAC,CAAC,CAAC;oCACL,CAAC,CAAC,CAAC;oCAEH,IAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC;gCAChD,CAAC,CAAC,CAAC;6BACJ;iCAAM,IAAI,CAAC,cAAc,IAAI,CAAC,eAAe,EAAE;gCAC9C,IAAI,CAAC,0BAA0B,GAAG,CAAC,GAAG,YAAY,CAAC,CAAC;gCACpD,IAAI,CAAC,0BAA0B,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,EAAE;oCACjD,GAAG,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;oCACvB,GAAG,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;wCAChC,KAAK,CAAC,MAAM,CAAC,CAAC,kBAAkB,CAAC,GAAG,eAAe,CAAC;oCACtD,CAAC,CAAC,CAAC;gCACL,CAAC,CAAC,CAAC;6BACJ;yBACF;wBAED,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,IAAI,CAAC,0BAA0B,CAAC,CAAC;wBACnD,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,IAAI,CAAC,6BAA6B,CAAC,CAAC;wBAEtD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,+BAA+B,CAChC,CAAC;qBACH;yBAAM;wBACL,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;wBACrC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;wBACvC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;wBACvC,IAAI,CAAC,6BAA6B,GAAG,EAAE,CAAC;wBACxC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,kCAAkC,CACnC,CAAC;qBACH;iBACF;qBAAM;oBACL,IAAI,GAAG,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,KAAK,CAAC,IAAI,+BAA+B,EAAE;wBAC/D,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;wBACrC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;wBACvC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;wBACvC,IAAI,CAAC,6BAA6B,GAAG,EAAE,CAAC;wBACxC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;wBAC9C,OAAO;qBACR;iBACF;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,gEAAgE,CACjE,CAAC;YACF,OAAO,CAAC,GAAG,CAAC,oCAAoC,EAAE,GAAG,CAAC,CAAC;QACzD,CAAC,CACF;aACA,GAAG,CAAC,GAAG,EAAE;YACR,UAAU,CAAC,GAAG,EAAE;gBACd,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACzC,CAAC,EAAE,GAAG,CAAC,CAAC;QACV,CAAC,CAAC,CAAC;IACP,CAAC;IAED,QAAQ,CAAC,GAAQ,EAAE,CAAM;QACvB,IAAI,OAAO,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,gBAAgB,CAAC,CAAC,CAAC,EAAE,CAAC;QAC7C,IAAI,KAAK,GAAG,GAAG,CAAC,IAAI,IAAI,QAAQ,CAAC,CAAC,CAAC,kBAAkB,CAAC,CAAC,CAAC,EAAE,CAAC;QAE3D,OAAO,kBAAkB,OAAO,GAAG,CAAC;IACtC,CAAC;IAED,sBAAsB,CAAC,gBAAqB;QAC1C,gBAAgB,CAAC,MAAM,CAAC,cAAc,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QACjE,gBAAgB,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC1D,gBAAgB,CAAC,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAClE,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,CAAC,eAAe;aACjB,6BAA6B,CAAC,gBAAgB,CAAC;aAC/C,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,+BAA+B,CAChC,CAAC;iBACH;aACF;iBAAM;gBACL,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,GAAG,CAAC,GAAG,IAAI,mCAAmC,EAAE;oBAClD,qCAAqC;oBACrC,yCAAyC;oBACzC,IAAI,CAAC,2BAA2B,GAAG,IAAI,CAAC;oBACxC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,2BAA2B,CAAC,CAAC;iBAC/C;qBAAM;oBACL,IAAI,CAAC,2BAA2B,GAAG,KAAK,CAAC;oBACzC,IAAI,CAAC,0BAA0B,CAAC,gBAAgB;wBAC9C,IAAI,CAAC,0BAA0B,CAAC,YAAY,CAAC;oBAC/C,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;oBAC3C,IAAI,CAAC,0BAA0B,CAAC,sBAAsB,GAAG,KAAK,CAAC;oBAC/D,IAAI,CAAC,0BAA0B,CAAC,YAAY,GAAG,EAAE,CAAC;oBAClD,IAAI,CAAC,eAAe,EAAE,CAAC;iBACxB;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,OAAO,CAAC,GAAG,CAAC,sCAAsC,EAAE,GAAG,CAAC,CAAC;YACzD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,+BAA+B,CAAC,CAAC;QACrE,CAAC,CACF,CAAC;IACN,CAAC;IAED,eAAe;QACb,IAAI,CAAC,2BAA2B,GAAG,EAAE,CAAC;QACtC,IAAI,CAAC,eAAe;aACjB,uBAAuB,CACtB,IAAI,CAAC,MAAM,EACX,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EACvB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,EAC1B,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CACzB;aACA,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,+BAA+B,CAChC,CAAC;iBACH;aACF;iBAAM;gBACL,IAAI,GAAG,CAAC,IAAI,IAAI,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE;oBAC/B,IAAI,CAAC,2BAA2B,GAAG,GAAG,CAAC,IAAI,CAAC;oBAC5C,IAAI,CAAC,2BAA2B,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;wBAC/C,GAAG,CAAC,MAAM,CAAC,GAAG,GAAG,CAAC,cAAc,CAAC,CAAC;wBAClC,GAAG,CAAC,MAAM,CAAC,GAAG,GAAG,CAAC,cAAc,CAAC,CAAC;oBACpC,CAAC,CAAC,CAAC;iBACJ;qBAAM;oBACL,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;iBACtB;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,OAAO,CAAC,GAAG,CAAC,mCAAmC,EAAE,GAAG,CAAC,CAAC;YACtD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,qCAAqC,CACtC,CAAC;QACJ,CAAC,CACF,CAAC;IACN,CAAC;IAED,cAAc,CAAC,MAAM;QACnB,IACE,IAAI,CAAC,0BAA0B,CAAC,qBAAqB,EAAE;YACvD,IAAI,CAAC,0BAA0B,EAC/B;YACA,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,+EAA+E,CAChF,CAAC;SACH;QAED,IAAI,gBAAgB,GAAG,KAAK,CAAC;QAC7B,IAAI,eAAe,GAAG,KAAK,CAAC;QAC5B,IAAI,qBAAqB,GAAG,KAAK,CAAC;QAElC,IAAI,WAAW,CAAC;QAEhB,IAAI,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC,EAAE;YACtC,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC;SACtE;aAAM,IAAI,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,EAAE;YAC5C,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC;YACpE,WAAW,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC,0BAA0B,CAAC;SAC5D;QAED,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,IAAI,CAAC,0BAA0B,CAAC,CAAC;QACpD,IAAI,8BAA8B,GAAG,gEAAY,CAC/C,IAAI,CAAC,0BAA0B,CAChC,CAAC;QAEF,IAAI,QAAQ,GAAG,EAAE,CAAC;QAClB,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE;YAC3D,IAAI,QAAQ,GAAG,EAAE,CAAC;YAClB,IAAI,WAAW,GAAG,8BAA8B,CAAC,MAAM,CAAC,CAAC,SAAS,EAAE,EAAE;gBACpE,OAAO,SAAS,CAAC,MAAM,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;YAC3C,CAAC,CAAC,CAAC;YACH,WAAW,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;gBAC3B,QAAQ,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;YACrC,CAAC,CAAC,CAAC;YAEH,QAAQ,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;gBACzB,OAAO,KAAK,CAAC,QAAQ,CAAC,CAAC;gBACvB,gDAAgD;gBAChD,IACE,KAAK,CAAC,iBAAiB,CAAC,IAAI,KAAK;oBACjC,KAAK,CAAC,iBAAiB,CAAC,IAAI,GAAG,EAC/B;oBACA,KAAK,CAAC,MAAM,CAAC,CAAC,cAAc,CAAC,GAAG,KAAK,CAAC;iBACvC;qBAAM;oBACL,KAAK,CAAC,MAAM,CAAC,CAAC,cAAc,CAAC,GAAG,IAAI,CAAC;iBACtC;gBACD,IAAI,KAAK,CAAC,MAAM,CAAC,CAAC,kBAAkB,CAAC,IAAI,KAAK,EAAE;oBAC9C,qBAAqB,GAAG,IAAI,CAAC;iBAC9B;gBACD,IAAI,KAAK,CAAC,MAAM,CAAC,CAAC,iBAAiB,CAAC,IAAI,KAAK,EAAE;oBAC7C,eAAe,GAAG,IAAI,CAAC;iBACxB;gBAED,kBAAkB;gBAElB,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,UAAU,EAAE,EAAE;oBAChD,IAAI,KAAK,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC,IAAI,SAAS,EAAE;wBAC1C,KAAK,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC,GAAG,IAAI,CAAC;qBAClC;oBACD,QAAQ,UAAU,EAAE;wBAClB,KAAK,aAAa,CAAC;wBACnB,KAAK,UAAU,CAAC;wBAChB,KAAK,WAAW,CAAC;wBACjB,KAAK,kBAAkB;4BACrB,IACE,KAAK,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC,IAAI,IAAI;gCACjC,KAAK,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC,IAAI,MAAM,EACnC;gCACA,KAAK,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC,GAAG,MAAM,CAAC;6BACpC;iCAAM;gCACL,KAAK,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC,GAAG,OAAO,CAAC;6BACrC;4BACD,MAAM;wBACR,KAAK,OAAO,CAAC;wBACb,KAAK,SAAS,CAAC;wBACf,KAAK,gBAAgB,CAAC;wBACtB,KAAK,2BAA2B;4BAC9B,IACE,KAAK,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC,IAAI,IAAI;gCACjC,KAAK,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC,IAAI,KAAK,EAClC;gCACA,KAAK,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC,GAAG,KAAK,CAAC;6BACnC;iCAAM;gCACL,KAAK,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC,GAAG,IAAI,CAAC;6BAClC;4BACD,MAAM;qBACT;gBACH,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;YAEH,QAAQ,CAAC,CAAC,CAAC,GAAG,QAAQ,CAAC;QACzB,CAAC,CAAC,CAAC;QAEH,IACE,CAAC,IAAI,CAAC,eAAe;YACrB,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC,MAAM,IAAI,CAAC,EACpD;YACA,gBAAgB,GAAG,IAAI,CAAC;SACzB;QAED,IAAI,gBAAgB,EAAE;YACpB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,8BAA8B,CAAC,CAAC;SACnE;aAAM,IAAI,qBAAqB,EAAE;YAChC,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,gCAAgC,CAAC,CAAC;SACrE;aAAM,IAAI,eAAe,EAAE;YAC1B,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,oCAAoC,CAAC,CAAC;SACzE;aAAM;YACL,WAAW,CAAC,IAAI,GAAG,EAAE,CAAC;YAEtB,WAAW,CAAC,MAAM,CAAC,CAAC,eAAe,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YAClD,WAAW,CAAC,cAAc,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC;YAChD,WAAW,CAAC,cAAc,CAAC,GAAG,IAAI,CAAC,eAAe;gBAChD,CAAC,CAAC,IAAI,CAAC,eAAe;gBACtB,CAAC,CAAC,EAAE,CAAC;YACP,WAAW,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;YACpC,yCAAyC;YACzC,qCAAqC;YACrC,sCAAsC;YACtC,iCAAiC;YACjC,6DAA6D;YAC7D,yCAAyC;YACzC,sCAAsC;YACtC,gDAAgD;YAChD,qCAAqC;YACrC,IAAI;YAEJ,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;YACzB,IACE,IAAI,CAAC,IAAI,IAAI,OAAO;gBACpB,CAAC,IAAI,CAAC,IAAI,IAAI,OAAO,IAAI,IAAI,CAAC,sBAAsB,CAAC,EACrD;gBACA,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;gBACxC,IAAI,OAAO,CAAC;gBACZ,IAAI,IAAI,CAAC,IAAI,IAAI,MAAM,EAAE;oBACvB,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,cAAc,CAC3C,IAAI,CAAC,MAAM,EACX,WAAW,EACX,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EACvB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,EAC1B,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CACzB,CAAC;iBACH;qBAAM;oBACL,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,cAAc,CAC3C,WAAW,EACX,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EACvB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,EAC1B,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CACzB,CAAC;iBACH;gBACD,kEAAkE;gBAClE,6CAA6C;gBAC7C,2CAA2C;gBAC3C,8BAA8B;gBAC9B,yCAAyC;gBACzC,iDAAiD;gBACjD,4CAA4C;gBAE5C,eAAe;gBACf,8BAA8B;gBAC9B,mCAAmC;gBACnC,uCAAuC;gBACvC,cAAc;gBACd,iCAAiC;gBACjC,yEAAyE;gBACzE,mBAAmB;gBACnB,wCAAwC;gBACxC,YAAY;gBACZ,UAAU;gBACV,QAAQ;gBACR,QAAQ;gBAER,iBAAiB;gBACjB,aAAa;gBACb,+CAA+C;gBAC/C,6CAA6C;gBAC7C,QAAQ;gBACR,OAAO;gBACP,MAAM;gBACN,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;gBAChE,IAAI,OAAO,EAAE;oBACX,OAAO,CAAC,SAAS,CACf,CAAC,GAAG,EAAE,EAAE;wBACN,IACE,GAAG,CAAC,QAAQ,CAAC;4BACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;4BAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;4BACA,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;gCAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;6BACjD;iCAAM;gCACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;6BAC/C;yBACF;6BAAM;4BACL,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;gCACd,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gCAC3C,IAAI,MAAM,IAAI,MAAM,EAAE;oCACpB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,mBAAmB,CAAC,CAAC,CAAC;iCAC7C;qCAAM,IAAI,MAAM,IAAI,eAAe,EAAE;oCACpC,IAAI,CAAC,eAAe,CAAC,eAAe,GAAG,IAAI,CAAC;oCAC5C,IAAI,CAAC,eAAe,CAAC,UAAU,GAAG,IAAI,CAAC;oCACvC,IAAI,CAAC,eAAe,CAAC,QAAQ,GAAG,IAAI,CAAC;oCACrC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,kCAAkC,CAAC,CAAC,CAAC;iCAC5D;6BACF;yBACF;oBACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;wBACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;wBACvC,OAAO,CAAC,GAAG,CAAC,6BAA6B,EAAE,GAAG,CAAC,CAAC;oBAClD,CAAC,CACF,CAAC;iBACH;aACF;iBAAM;gBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,kCAAkC,CAAC,CAAC;aACvE;SACF;IACH,CAAC;IAED,SAAS,CAAC,GAAG;QACX,IAAI,KAAK,GAAG,EAAE,CAAC;QACf,IAAI,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,EAAE,UAAU,GAAG,EAAE,KAAK;YAChD,IAAI,OAAO,KAAK,KAAK,QAAQ,IAAI,KAAK,KAAK,IAAI,EAAE;gBAC/C,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE;oBAC/B,OAAO;iBACR;gBACD,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aACnB;YACD,OAAO,KAAK,CAAC;QACf,CAAC,CAAC,CAAC;QACH,KAAK,GAAG,IAAI,CAAC,CAAC,kBAAkB;QAChC,OAAO,GAAG,CAAC;IACb,CAAC;IAED,KAAK;QACH,IAAI,IAAI,CAAC,IAAI,IAAI,MAAM,EAAE;YACvB,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;YAChD,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;gBAC/B,OAAO,EAAE,mDAAmD;gBAC5D,GAAG,EAAE,2BAA2B;gBAChC,MAAM,EAAE,GAAG,EAAE;oBACX,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;oBACxC,gCAAgC;oBAChC,0BAA0B;oBAC1B,+CAA+C;oBAC/C,kDAAkD;oBAClD,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;oBACrC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;oBACvC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;oBACvC,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;oBAE1B,IAAI,CAAC,0BAA0B,CAAC,gBAAgB,EAAE,CAAC;oBACnD,IAAI,CAAC,mBAAmB,EAAE,CAAC;gBAC7B,CAAC;gBACD,MAAM,EAAE,GAAG,EAAE;oBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;oBAC/B,IAAI,CAAC,mBAAmB,EAAE,CAAC;gBAC7B,CAAC;aACF,CAAC,CAAC;SACJ;aAAM,IAAI,IAAI,CAAC,IAAI,IAAI,OAAO,EAAE;YAC/B,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;YAChD,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;gBAC/B,OAAO,EAAE,mDAAmD;gBAC5D,GAAG,EAAE,2BAA2B;gBAChC,MAAM,EAAE,GAAG,EAAE;oBACX,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;oBACxC,IAAI,CAAC,qBAAqB,EAAE,CAAC;oBAC7B,IAAI,CAAC,eAAe,EAAE,CAAC;oBACvB,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;oBAC5C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;gBACjD,CAAC;gBACD,MAAM,EAAE,GAAG,EAAE;oBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;oBAC/B,IAAI,CAAC,mBAAmB,EAAE,CAAC;gBAC7B,CAAC;aACF,CAAC,CAAC;SACJ;aAAM;YACL,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;YAChD,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;YAC7C,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;gBAC/B,OAAO,EAAE,kDAAkD;gBAC3D,GAAG,EAAE,2BAA2B;gBAChC,MAAM,EAAE,GAAG,EAAE;oBACX,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;oBACrC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;oBACvC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;oBACvC,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;oBAE1B,IAAI,CAAC,0BAA0B,CAAC,gBAAgB,EAAE,CAAC;oBACnD,IAAI,CAAC,mBAAmB,EAAE,CAAC;oBAC3B,wBAAwB;oBACxB,2BAA2B;oBAC3B,6BAA6B;oBAC7B,yBAAyB;oBACzB,2BAA2B;oBAC3B,4BAA4B;oBAC5B,qCAAqC;gBACvC,CAAC;gBACD,MAAM,EAAE,GAAG,EAAE;oBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;oBAC/B,IAAI,CAAC,mBAAmB,EAAE,CAAC;gBAC7B,CAAC;aACF,CAAC,CAAC;SACJ;IACH,CAAC;IAED,mBAAmB;QACjB,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;YAC5C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;QACjD,CAAC,EAAE,GAAG,CAAC,CAAC;QACR,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,EAAE,IAAI,CAAC,CAAC;IACX,CAAC;IAED,kBAAkB;QAChB,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;YACxC,IAAI,IAAI,CAAC,SAAS,CAAC,EAAE;gBACnB,IAAI,CAAC,SAAS,CAAC,GAAG,IAAI,CAAC,eAAe,CAAC,CAAC,MAAM,CAC5C,CAAC,MAAM,EAAE,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,CAC9C,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC;aAClB;YAED,IAAI,IAAI,CAAC,OAAO,CAAC,EAAE;gBACjB,IAAI,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,MAAM,CACxC,CAAC,MAAM,EAAE,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,CAC5C,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC;aAClB;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IACD,qBAAqB;QACnB,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;YACxC,IAAI,CAAC,SAAS,CAAC,GAAG,IAAI,CAAC,eAAe,CAAC,CAAC,MAAM,CAC5C,CAAC,MAAM,EAAE,EAAE,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,CAClD,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;YACb,IAAI,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,MAAM,CACxC,CAAC,MAAM,EAAE,EAAE,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,CAChD,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;QACf,CAAC,CAAC,CAAC;IACL,CAAC;IAED,aAAa,CAAC,CAAM,EAAE,OAAY,EAAE,MAAW,EAAE,SAAc;QAC7D,OAAO,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC;QAC5B,OAAO,CAAC,cAAc,CAAC,GAAG,IAAI,CAAC;QAC/B,OAAO,CAAC,iBAAiB,CAAC,GAAG,IAAI,CAAC;QAClC,4BAA4B;IAC9B,CAAC;IACD,aAAa,CAAC,CAAM,EAAE,OAAY,EAAE,MAAW,EAAE,SAAc;QAC7D,OAAO,CAAC,kBAAkB,CAAC,GAAG,IAAI,CAAC;QACnC,OAAO,CAAC,cAAc,CAAC,GAAG,IAAI,CAAC;QAC/B,OAAO,CAAC,iBAAiB,CAAC,GAAG,IAAI,CAAC;QAClC,IAAI,SAAS,IAAI,CAAC,EAAE;YAClB,IAAI,SAAS,GAAG,CAAC,EAAE;gBACjB,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;gBACnC,OAAO,CAAC,kBAAkB,CAAC,GAAG,KAAK,CAAC;gBACpC,IAAI,CAAC,gBAAgB,GAAG,8CAA8C,CAAC;aACxE;iBAAM;gBACL,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;gBACtC,OAAO,CAAC,kBAAkB,CAAC,GAAG,IAAI,CAAC;aACpC;SACF;IACH,CAAC;IAED,oBAAoB;IACpB,YAAY;IACZ,kBAAkB;IAClB,yBAAyB;IACzB,yBAAyB;IACzB,MAAM;IACN,qCAAqC;IACrC,qCAAqC;IAErC,mCAAmC;IACnC,uCAAuC;IACvC,qBAAqB;IACrB,uDAAuD;IACvD,gDAAgD;IAEhD,yBAAyB;IACzB,kCAAkC;IAClC,qDAAqD;IACrD,uCAAuC;IACvC,cAAc;IACd,MAAM;IAEN,oCAAoC;IACpC,iBAAiB;IACjB,+CAA+C;IAC/C,4CAA4C;IAE5C,sCAAsC;IACtC,oCAAoC;IACpC,uDAAuD;IACvD,yCAAyC;IACzC,eAAe;IACf,iFAAiF;IACjF,0CAA0C;IAC1C,oDAAoD;IACpD,QAAQ;IACR,aAAa;IACb,8BAA8B;IAC9B,8EAA8E;IAE9E,kDAAkD;IAClD,wCAAwC;IACxC,MAAM;IAEN,6CAA6C;IAC7C,uEAAuE;IACvE,aAAa;IACb,oCAAoC;IACpC,MAAM;IACN,IAAI;IAEJ,cAAc,CAAC,CAAM,EAAE,OAAY,EAAE,KAAU;QAC7C,IAAI,KAAK,IAAI,aAAa,EAAE;YAC1B,IAAI,CAAC,CAAC,WAAW,EAAE;gBACjB,OAAO,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC;gBAC5B,OAAO,CAAC,UAAU,CAAC,GAAG,IAAI,CAAC;aAC5B;iBAAM;gBACL,OAAO,CAAC,WAAW,CAAC,GAAG,KAAK,CAAC;gBAC7B,OAAO,CAAC,UAAU,CAAC,GAAG,KAAK,CAAC;aAC7B;SACF;IACH,CAAC;IAED,kBAAkB,CAChB,CAAM,EACN,OAAY,EACZ,WAAgB,EAChB,SAAc,EACd,SAAc;QAEd,OAAO,CAAC,iBAAiB,CAAC,GAAG,IAAI,CAAC;QAClC,IAAI,CAAC,EAAE;YACL,IAAI,SAAS,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,IAAI,SAAS,CAAC,EAAE;gBACzC,OAAO,CAAC,iBAAiB,CAAC,GAAG,KAAK,CAAC;gBACnC,IAAI,CAAC,kBAAkB;oBACrB,wDAAwD,CAAC;aAC5D;iBAAM,IAAI,SAAS,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,IAAI,SAAS,CAAC,EAAE;gBAChD,OAAO,CAAC,iBAAiB,CAAC,GAAG,KAAK,CAAC;gBACnC,IAAI,CAAC,kBAAkB;oBACrB,2DAA2D,CAAC;aAC/D;iBAAM;gBACL,OAAO,CAAC,iBAAiB,CAAC,GAAG,IAAI,CAAC;gBAClC,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;aAC9B;SACF;IACH,CAAC;IAED,gBAAgB,CAAC,WAAgB;QAC/B,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;IACpC,CAAC;IAED,0BAA0B;IAC1B,YAAY;IACZ,kBAAkB;IAClB,sBAAsB;IACtB,mBAAmB;IACnB,MAAM;IACN,uCAAuC;IACvC,yBAAyB;IACzB,yCAAyC;IACzC,kDAAkD;IAClD,cAAc;IACd,aAAa;IACb,gCAAgC;IAChC,sDAAsD;IACtD,sDAAsD;IACtD,gDAAgD;IAChD,8CAA8C;IAC9C,mDAAmD;IACnD,iBAAiB;IACjB,6CAA6C;IAC7C,sDAAsD;IACtD,UAAU;IACV,eAAe;IACf,2CAA2C;IAC3C,oDAAoD;IACpD,QAAQ;IAER,iDAAiD;IACjD,6EAA6E;IAC7E,eAAe;IACf,sCAAsC;IACtC,QAAQ;IACR,MAAM;IACN,IAAI;IAEJ,QAAQ,CAAC,SAAS,EAAE,IAAI;QACtB,IAAI,MAAM,GAAG,IAAI,CAAC,uBAAuB,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QACrD,IAAI,GAAG,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;QACpB,IAAI,GAAG,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;QACpB,IAAI,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC;QAC3E,IAAI,SAAS,IAAI,eAAe,EAAE;YAChC,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,qBAAqB,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;SAC/D;IACH,CAAC;IAED,cAAc,CAAC,OAAY;QACzB,OAAO,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;IAC9C,CAAC;IAED,UAAU,CAAC,OAAY;QACrB,OAAO,IAAI,CAAC,mBAAmB,CAAC,8BAA8B,CAAC,OAAO,CAAC,CAAC;IAC1E,CAAC;IACD,cAAc,CAAC,SAAc,EAAE,KAAU,EAAE,KAAU;QACnD,IAAI,SAAS,IAAI,aAAa,EAAE;YAC9B,IAAI,SAAS,IAAI,aAAa,IAAI,KAAK,CAAC,MAAM,CAAC,IAAI,YAAY,EAAE;gBAC/D,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;aAC5C;iBAAM;gBACL,IAAI,MAAM,CAAC,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,aAAa,CAAC,EAAE;oBACzD,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,GAAG,MAAM,CAC7C,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,aAAa,CAC9C,CAAC;iBACH;qBAAM;oBACL,IAAI,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,SAAS,EAAE;wBAC7C,IAAI,YAAY,GACd,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;wBAC1D,IAAI,YAAY,GACd,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;wBAC1D,IAAI,YAAY,IAAI,IAAI,EAAE;4BACxB,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,GAAG,MAAM,CAAC,YAAY,CAAC,CAAC;yBAC/D;6BAAM,IAAI,YAAY,IAAI,GAAG,EAAE;4BAC9B,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,GAAG,MAAM,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;yBACnE;6BAAM,IAAI,YAAY,IAAI,GAAG,EAAE;4BAC9B,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,GAAG,MAAM,CAAC,YAAY,CAAC,CAAC;yBAC/D;6BAAM;4BACL,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;yBAC5C;qBACF;yBAAM;wBACL,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;qBAC5C;iBACF;aACF;SACF;QACD,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;YAC3D,KAAK,CAAC,QAAQ,CAAC;IACnB,CAAC;IAED,gBAAgB,CACd,SAAc,EACd,QAAa,EACb,KAAU,EACV,KAAU,EACV,aAAkB;QAElB,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,kBAAkB,CAAC,GAAG,KAAK,CAAC;QAC5D,IAAI,GAAG,GAAG,CAAC,CAAC;QACZ,IAAI,GAAG,GAAG,CAAC,CAAC;QACZ,IAAI,gBAAgB,GAClB,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,SAAS;YACzC,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,SAAS,CACjD,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAC3D,CAAC;QACJ,IAAI,oBAAoB,GACtB,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,SAAS;YACzC,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,SAAS,CACjD,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAC3D,CAAC;QACJ,IACE,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;YAC7D,YAAY,EACZ;YACA,GAAG,GAAG,GAAG,CAAC;SACX;aAAM,IACL,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,QAAQ,EACzE;YACA,IACE,MAAM,CAAC,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,aAAa,CAAC,GAAG,CAAC;gBACzD,MAAM,CAAC,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,WAAW,CAAC,GAAG,CAAC,EACvD;gBACA,GAAG,GAAG,MAAM,CAAC,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,aAAa,CAAC,CAAC;gBAC5D,GAAG,GAAG,MAAM,CAAC,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,WAAW,CAAC,CAAC;aAC3D;iBAAM,IAAI,MAAM,CAAC,gBAAgB,CAAC,GAAG,CAAC,EAAE;gBACvC,GAAG,GAAG,MAAM,CAAC,gBAAgB,CAAC,CAAC;gBAC/B,GAAG,GAAG,MAAM,CAAC,gBAAgB,CAAC,CAAC;aAChC;iBAAM,IAAI,MAAM,CAAC,oBAAoB,CAAC,GAAG,CAAC,EAAE;gBAC3C,GAAG,GAAG,MAAM,CAAC,oBAAoB,CAAC,CAAC;gBACnC,GAAG,GAAG,OAAO,CAAC;aACf;iBAAM;gBACL,GAAG,GAAG,OAAO,CAAC;aACf;SACF;QAED,IAAI,KAAK,CAAC,KAAK,IAAI,GAAG,EAAE;YACtB,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC,GAAG,KAAK,CAAC,KAAK,CAAC;SACzD;aAAM;YACL,IAAI,gBAAgB,GAAG,aAAa,CAAC,SAAS,CAAC;YAC/C,aAAa,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,GAAG,gBAAgB,CAAC;SAC5D;QACD,IAAI,cAAc,GAAG,KAAK,CAAC;QAC3B,IAAI,KAAK,CAAC,KAAK,GAAG,GAAG,IAAI,KAAK,CAAC,KAAK,GAAG,GAAG,EAAE;YAC1C,cAAc,GAAG,IAAI,CAAC;YACtB,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,kBAAkB,CAAC,GAAG,IAAI,CAAC;YAC3D,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,2BAA2B,GAAG,GAAG,GAAG,MAAM,GAAG,GAAG,CACjD,CAAC;YACF,OAAO,KAAK,CAAC;SACd;IACH,CAAC;IAED,aAAa,KAAI,CAAC;IAElB,cAAc,CAAC,SAAc,EAAE,KAAU,EAAE,SAAc,EAAE,OAAY;QACrE,IAAI,SAAS,IAAI,QAAQ,EAAE;YACzB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;SACpB;aAAM,IAAI,SAAS,IAAI,OAAO,EAAE;YAC/B,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,SAAS,EAAE,OAAO,CAAC,CAAC;SACvC;IACH,CAAC;IAED,KAAK,CAAC,KAAU,EAAE,SAAc,EAAE,OAAY;QAC5C,IAAI,SAAS,GAAG;YACd,GAAG,SAAS;SACb,CAAC;QACF,SAAS,CAAC,OAAO,CAAC,GAAG,cAAc,CAAC;QACpC,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC,EAAE,CAAC,EAAE,SAAS,CAAC,CAAC;IAC3D,CAAC;IACD,MAAM,CAAC,KAAU;QACf,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;IAC5C,CAAC;;8FA7sEU,uBAAuB;qHAAvB,uBAAuB;;kEAgSvB,+GAAoB;;;;;qFAlSpB,CAAC,iEAAa,EAAE,wDAAc,CAAC;;QCxB5C,yEAAkC;QAOpB,8DAKC;QALD,yEAKC;QAMG,uEAQE;QAQJ,4DAAI;QAEN,+GACF;QAAA,4DAAI;QAEN,+DAAmD;QAAnD,2EAAmD;QAc3C,gJAAS,mBAAe,MAAM,CAAC,IAAC;QACjC,4DAAS;QACV,8EAYC;QADC,gJAAS,mBAAe,eAAe,CAAC,IAAC;QAC1C,4DAAS;QACV,8EAQC;QAFC,gJAAS,WAAO,IAAC;QAElB,4DAAS;QACV,4HAQU;QACZ,4DAAM;QAMhB,2EAAyE;QAS9D,uEAAW;QAAA,4DACb;QACD,kFASC;QADC,0JAAY,sBAAkB,IAAC;QAE/B,sIAIc;QAAA,4DACf;QAEH,2EAEC;QAII,kEAAM;QAAA,4DACR;QACD,kFASC;QADC,0JAAY,sBAAkB,IAAC;QAE/B,sIAIc;QAAA,4DACf;QAEH,2EAEC;QAII,gEAAI;QAAA,4DACN;QACD,kFASG;QADD,0JAAY,qBAAiB,IAAC;QAC7B,sIAIa;QAChB,4DAAa;QAKrB,uHA4BM;QACN,iJA8BoB;QACtB,4DAAM;QACN,uHAojBM;QACR,4DAAM;QACN,sHAYM;QACN,2FAMC;QAOK,+RAAS,sEAAW,KAAC;QACtB,4DAAS;QAId,2FAMC;QAOK,+RAAS,sEAAY,KAAC;QACvB,4DAAS;QAEV,8EAMC;QADC,+RAAS,sEAAY,KAAC;QACvB,4DAAS;QAGd,2FAKC;QAOK,gSAAS,uEAAY,KAAC;QACvB,4DAAS;QAEV,8EAMC;QADC,gSAAS,uEAAY,KAAC;QACvB,4DAAS;;QAn1BM,0DAA0B;QAA1B,mFAA0B;QAoB5B,0DAIC;QAJD,kKAIC;QAUD,0DAIC;QAJD,kKAIC;QAYD,0DAAwB;QAAxB,qFAAwB;QAGvB,0DAAoB;QAApB,oFAAoB;QAc9B,0DAA6B;QAA7B,0FAA6B;QAexB,0DAAoC;QAApC,iGAAoC;QAyBpC,0DAA+B;QAA/B,4FAA+B;QAyB/B,0DAA6B;QAA7B,0FAA6B;QAgBpC,0DAAyC;QAAzC,6GAAyC;QA6BzC,0DAAyC;QAAzC,6GAAyC;QA+BT,0DAAuC;QAAvC,uGAAuC;QAwjB3E,0DAAyE;QAAzE,iJAAyE;QAgB1E,0DAAkB;QAAlB,2EAAkB;QAkBlB,0DAAkB;QAAlB,2EAAkB;QAwBlB,0DAAkB;QAAlB,2EAAkB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACz1B8C;AAKlC;AACW;AAMnB;AAEuB;;;;;;;;;;;;;;;;;ICsB/B,0EAA2B;IACpB,uDAAkB;IAAA,4DAAM;;;IAAxB,0DAAkB;IAAlB,gFAAkB;;;IAqBzB,0EAA2B;IACpB,uDAAkB;IAAA,4DAAM;;;IAAxB,0DAAkB;IAAlB,gFAAkB;;;IAoBzB,0EAA2B;IACpB,uDAAkB;IAAA,4DAAM;;;IAAxB,0DAAkB;IAAlB,gFAAkB;;;;;IA6C7B,0EAIC;IAFC,mLAAS,wBAAwB,IAAC;IAGlC,wEASC;IADC,uZAAS,uGAAiC,KAAC;IAC5C,4DAAI;IACL,wFAcC;IALC,4nBACqB,wCAC1B,IAAI,CAAC,SAAoB,wGACpB,KAAC,uXACc,qGAA+B,KAD7C;IAGH,4DAAgB;;;;IAxBd,0DAKE;IALF,4OAKE;IAMF,0DAAyC;IAAzC,8GAAyC;;;IAzB/C,yEAMC;IACC,uDACA;IAAA,gJA+BM;IACR,4DAAK;;;;IAnCH,iFAAyB;IAFzB,0FAA6B;IAI7B,0DACA;IADA,0FACA;IACG,0DAAqC;IAArC,yGAAqC;;;;IAmCxC,2EAIC;IACC,mEAA4B;IAC5B,4EAKE;IADA,4dAAS,yGAA0C,UAAU,CAAC,KAAC;IAJjE,4DAKE;;;IAZN,qEAAuD;IACrD,iJAYO;IACT,4DAAK;;;IAdwB,iFAAyB;IAIjD,0DAAuD;IAAvD,2HAAuD;;;IAhD9D,qEAAI;IACF,wIAwCK;IACP,4DAAK;IACL,yEAAuB;IACrB,wIAcK;IACP,4DAAK;;;;IAzDe,0DAAY;IAAZ,gFAAY;IA0CV,0DAAO;IAAP,iFAAO;;;IA0BvB,0EAGC;IACC,uDACF;IAAA,4DAAM;;;;IADJ,0DACF;IADE,yGACF;;;;;IACA,wEAeG;IAFD,qbAAgB,4FAAsB,KAAC,iXAC9B,4FAAsB,KADQ;IAEtC,uDAA2B;IAAA,4DAC7B;;;;;IAbC,gOAME;IAMD,0DAA2B;IAA3B,8FAA2B;;;IAE9B,2EAMC;IACC,uDAIE;IAAA,4DACH;;;;IAVC,oJAEC;IAGD,0DAIE;IAJF,4MAIE;;;;IAiBA,wEAMC;IADD,ygBAAS,sGAA4B,OAAO,GAAG,KAAC;IAC/C,+DAAI;IAAA,4DACN;;;;IAtBH,2EAQC;IAFC,gbAAsB,WAAW,IAAI,IAAI,MAAC,wXACpB,WAAW,IAAI,KAAK,MADA;IAG1C,uDAME;IAAA,iKAOD;IAAA,4DACF;;;;IArBC,oJAEC;IAKD,0DAME;IANF,+RAME;IAEC,0DAEA;IAFA,uIAEA;;;IAxDP,qEAA8D;IAC5D,8JAKM;IACN,0JAgBC;IACD,gKAYC;IACD,gKAuBC;IACH,4DAAK;;;IA3DA,0DAAmC;IAAnC,2GAAmC;IAMnC,0DAAY;IAAZ,4EAAY;IAiBZ,0DAAY;IAAZ,4EAAY;IAaZ,0DAAY;IAAZ,4EAAY;;;;IAyBjB,yEAGC;IAEC,kVAAgB,sEAAiB,KAAC;IAChC,gFAWE;IAPA,+aAAS,oGAA8B,KAAC;IAJ1C,4DAWE;IACF,sEAAkC;IACpC,4DAAQ;;;;IAXJ,0DAA+B;IAA/B,gGAA+B;;;;IAarC,yEAGC;IAQK,0aAAS,4FAAsB,KAAC;IACjC,4DAAS;;;IAFR,0DAA4C;IAA5C,yGAA4C;;;IA/FpD,wEAAyD;IACvD,uJA6DK;IAEL,uJAoBK;IACL,uJAcK;IACP,qEAAe;;;IAnGR,0DAAuD;IAAvD,2HAAuD;IAgEzD,0DAA2B;IAA3B,2FAA2B;IAqB3B,0DAA8B;IAA9B,8FAA8B;;;IAvFrC,yEAA8B;IAC5B,4JAoGe;IACjB,4DAAK;;;;IAtGD,sFAAyB;IACG,0DAAY;IAAZ,gFAAY;;;IAwG5C,qEAAI;IAC+B,yEAAc;IAAA,4DAAK;;;IAAhD,0DAA4B;IAA5B,yFAA4B;;;IAIlC,uDAOF;;;IAPE,uRAOF;;;IArMJ,0EAAiE;IAY7D,4IA6Dc;IACd,4IA6Gc;IACd,4IAIc;IACd,4IAQc;IAChB,4DAAU;;;IAnMR,0DAAgB;IAAhB,gFAAgB;;;;IAsMtB,0EAA4E;IAEpD,qEAAsC;IAAA,4DAAM;IAElE,yEAAiB;IAEV,+GAAkD;IAAA,4DAAI;IACzD,4EAOC;IADC,ySAAS,kFAAgB,KAAC;IAC3B,4DAAS;;ADzST,MAAM,wBAAwB;IAiDnC,YACU,MAAc,EACd,WAAwB,EACxB,KAAqB,EACrB,eAAgC,EAChC,kBAAsC,EACtC,mBAAwC,EACxC,EAAsB;QANtB,WAAM,GAAN,MAAM,CAAQ;QACd,gBAAW,GAAX,WAAW,CAAa;QACxB,UAAK,GAAL,KAAK,CAAgB;QACrB,oBAAe,GAAf,eAAe,CAAiB;QAChC,uBAAkB,GAAlB,kBAAkB,CAAoB;QACtC,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,OAAE,GAAF,EAAE,CAAoB;QAvDhC,2BAA2B;QAE3B,wBAAmB,GAAQ,EAAE,CAAC;QAC9B,iBAAY,GAAQ,EAAE,CAAC;QAEvB,eAAU,GAAG,MAAM,CAAC,IAAI,CAAC;QAGzB,oBAAe,GAAY,KAAK,CAAC;QAEjC,SAAI,GAAU;YACZ,EAAE,KAAK,EAAE,cAAc,EAAE,MAAM,EAAE,WAAW,EAAE,KAAK,EAAE,KAAK,EAAE;YAC5D,EAAE,KAAK,EAAE,qBAAqB,EAAE,MAAM,EAAE,kBAAkB,EAAE,KAAK,EAAE,KAAK,EAAE;YAC1E,EAAE,KAAK,EAAE,aAAa,EAAE,MAAM,EAAE,UAAU,EAAE,KAAK,EAAE,KAAK,EAAE;YAC1D,EAAE,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE;YAClD,EAAE,KAAK,EAAE,WAAW,EAAE,MAAM,EAAE,YAAY,EAAE,KAAK,EAAE,IAAI,EAAE;SAC1D,CAAC;QAEF,4BAAuB,GAAY,KAAK,CAAC;QACzC,4BAAuB,GAAY,KAAK,CAAC;QACzC,2BAAsB,GAAY,KAAK,CAAC;QACxC,sBAAiB,GAAY,KAAK,CAAC;QAEnC,iBAAY,GAAG,EAAE,CAAC;QAClB,iBAAY,GAAG,EAAE,CAAC;QAClB,gBAAW,GAAG,EAAE,CAAC;QACjB,WAAM,GAAG,EAAE,CAAC;QAEZ,aAAQ,GAAQ,EAAE,CAAC;QACnB,+BAA0B,GAAU,EAAE,CAAC;QACvC,+BAA0B,GAAU,EAAE,CAAC;QACvC,8BAAyB,GAAU,EAAE,CAAC;QACtC,yBAAoB,GAAU,EAAE,CAAC;QAEjC,2BAAsB,GAAQ,EAAE,CAAC;QACjC,YAAO,GAAY,IAAI,CAAC;QAExB,cAAS,GAAW,8BAA8B,CAAC;QAEnD,uBAAkB,GAAQ,EAAE,CAAC;QAG7B,6BAAwB,GAAU,EAAE,CAAC;QACrC,wBAAmB,GAAU,EAAE,CAAC;QAChC,sBAAiB,GAAU,EAAE,CAAC;QAE9B,qBAAgB,GAAG,EAAE,CAAC;IAUnB,CAAC;IAEJ,QAAQ;QACN,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;YACjC,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,eAAe,CAAC,eAAe,GAAG,IAAI,CAAC;QAC5C,IAAI,CAAC,eAAe,CAAC,UAAU,GAAG,IAAI,CAAC;QACvC,IAAI,CAAC,eAAe,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;QAC7D,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAE1B,IAAI;QACJ,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC,KAAK,CACxC,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAClC,CAAC;QACF,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;QACzE,IAAI,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,CAAC;QACjE,IAAI,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC;QAE5D,IAAI,MAAM,GAAG,IAAI,CAAC;QAClB,IAAI,MAAM,GAAG,IAAI,CAAC;QAElB,IAAI,UAAU,EAAE;YACd,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;YACxB,MAAM,GAAG,IAAI,CAAC,wBAAwB,CAAC,MAAM,CAC3C,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,IAAI,UAAU,CAAC,eAAe,CAAC,IAAI,CACrD,CAAC,CAAC,CAAC,CAAC;YACL,MAAM,GAAG,IAAI,CAAC,mBAAmB,CAAC,MAAM,CACtC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,IAAI,UAAU,CAAC,UAAU,CAAC,IAAI,CAChD,CAAC,CAAC,CAAC,CAAC;SACN;aAAM;YACL,IAAI,SAAS,EAAE;gBACb,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC,CAAC;gBAC7D,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC;aACzD;SACF;QAED,IAAI,MAAM,EAAE;YACV,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;SACjC;QACD,IAAI,MAAM,EAAE;YACV,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;SACpC;QAED,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,IAAI,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE;YAC/C,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;SACxB;QAED,IAAI,CAAC,eAAe,CAAC,yBAAyB,EAAE,CAAC,SAAS,CACxD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;iBAClE;aACF;iBAAM;gBACL,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;oBACf,IAAI,CAAC,iBAAiB,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,uBAAuB,CAAC;yBAC1D,MAAM,CAAC,CAAC,IAAI,EAAE,EAAE;wBACf,OAAO,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC;oBACpD,CAAC,CAAC;yBACD,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;wBACZ,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,aAAa,EAAE,IAAI,EAAE,IAAI,CAAC,aAAa,EAAE,CAAC;oBAChE,CAAC,CAAC,CAAC;iBACN;qBAAM;iBACN;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;QACnE,CAAC,CACF,CAAC;IACJ,CAAC;IAED,kBAAkB;QAChB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YACnC,YAAY,EAAE,IAAI,8DAAkB,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAE,EAAE;gBACnE,+DAAmB;aACpB,CAAC;YACF,OAAO,EAAE,IAAI,8DAAkB,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAE,EAAE;gBAC9D,+DAAmB;aACpB,CAAC;YACF,KAAK,EAAE,IAAI,8DAAkB,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAE,EAAE;gBAC5D,+DAAmB;aACpB,CAAC;SACH,CAAC,CAAC;IACL,CAAC;IAED,IAAI,OAAO;QACT,OAAO,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;IAClD,CAAC;IACD,IAAI,UAAU;QACZ,OAAO,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;IAC7C,CAAC;IACD,IAAI,QAAQ;QACV,OAAO,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;IAC3C,CAAC;IAED,eAAe;QACb,IAAI,UAAU,GAAG;YACf,eAAe,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK;YACnC,UAAU,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK;YACjC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,KAAK;SAC9B,CAAC;QACF,cAAc,CAAC,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC;QAC3D,IAAI,CAAC,wBAAwB,CAC3B,IAAI,CAAC,QAAQ,CAAC,MAAM,EACpB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EACvB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,EAC1B,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CACzB,CAAC;IACJ,CAAC;IAED,wBAAwB,CACtB,MAAW,EACX,QAAa,EACb,WAAgB,EAChB,SAAc;QAEd,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,8CAAQ,CAAC;YACP,kBAAkB,EAAE,IAAI,CAAC,eAAe,CAAC,qBAAqB,CAC5D,MAAM,EACN,SAAS,EACT,QAAQ,EACR,WAAW,CACZ;YACD,mBAAmB,EAAE,IAAI,CAAC,eAAe,CAAC,eAAe,CACvD,MAAM,EACN,SAAS,EACT,QAAQ,EACR,WAAW,CACZ;SACF,CAAC;aACC,IAAI,CACH,oDAAI,CAAC,CAAC,CAAC,EACP,mDAAG,CAAC,CAAC,QAAQ,EAAE,EAAE;YACf,IAAI,kBAAkB,GAAG,+DAAY,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAC;YACnE,OAAO,kBAAkB,CAAC,cAAc,CAAC,CAAC;YAC1C,IAAI,CAAC,gBAAgB,GAAG,QAAQ,CAAC,kBAAkB,CAAC,cAAc,CAAC,CAAC;YACpE,MAAM,kBAAkB,GAAG,kBAAkB,CAAC;YAC9C,MAAM,mBAAmB,GAAG,QAAQ,CAAC,mBAAmB,CAAC;YAEzD,IAAI,MAAM,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,MAAM,EAAE;gBAC1C,IAAI,mBAAmB,CAAC,MAAM,CAAC,EAAE;oBAC/B,IAAI,CAAC,sBAAsB,GAAG,mBAAmB,CAAC;oBAClD,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;wBAChD,IAAI,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;wBACpD,MAAM,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;wBAChD,IAAI,QAAQ,GAAG,EAAE,CAAC;wBAClB,IAAI,OAAO,GAAG,EAAE,CAAC;wBACjB,IAAI,KAAK,GAAG,EAAE,CAAC;wBACf,IAAI,UAAU,GAAG,EAAE,CAAC;wBAEpB,uBAAuB;wBACvB,QAAQ,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;4BAC3B,IAAI,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;gCACtD,MAAM,YAAY,GAAG,OAAO;qCACzB,KAAK,CAAC,GAAG,CAAC;qCACV,GAAG,CAAC,CAAC,aAAa,EAAE,EAAE;oCACrB,MAAM,CAAC,IAAI,EAAE,EAAE,CAAC,GAAG,aAAa;yCAC7B,KAAK,CAAC,IAAI,CAAC;yCACX,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oCACrC,OAAO,WAAW,IAAI,MAAM,EAAE,EAAE,CAAC;gCACnC,CAAC,CAAC,CAAC;gCACL,OAAO,GAAG,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;6BACpC;iCAAM,IACL,OAAO,CAAC,UAAU,CAAC,cAAc,CAAC;gCAClC,OAAO,CAAC,QAAQ,CAAC,YAAY,CAAC,EAC9B;gCACA,oBAAoB;gCACpB,MAAM,YAAY,GAAG,OAAO;qCACzB,KAAK,CAAC,GAAG,CAAC;qCACV,GAAG,CAAC,CAAC,WAAW,EAAE,EAAE;oCACnB,MAAM,CAAC,SAAS,EAAE,OAAO,CAAC,GAAG,WAAW;yCACrC,KAAK,CAAC,IAAI,CAAC;yCACX,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oCACrC,OAAO,WAAW,SAAS,MAAM,OAAO,EAAE,CAAC;gCAC7C,CAAC,CAAC,CAAC;gCACL,KAAK,GAAG,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;6BAClC;wBACH,CAAC,CAAC,CAAC;wBAEH,IAAI,OAAO,CAAC,MAAM,IAAI,KAAK,CAAC,MAAM,EAAE;4BAClC,UAAU,IAAI,WAAW,OAAO,YAAY,KAAK,GAAG,CAAC;yBACtD;6BAAM,IAAI,OAAO,CAAC,MAAM,EAAE;4BACzB,UAAU,IAAI,WAAW,OAAO,GAAG,CAAC;yBACrC;6BAAM,IAAI,KAAK,CAAC,MAAM,EAAE;4BACvB,UAAU,IAAI,SAAS,KAAK,GAAG,CAAC;yBACjC;wBACD,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,UAAU,CAAC,CAAC;wBAE/B,IAAI,WAAW,CAAC,MAAM,EAAE;4BACtB,IAAI,gBAAgB,GAAG,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAC3D;gCACE,WAAW,EAAE,WAAW;6BACzB,CACF,CAAC;4BACF,IAAI,CAAC,WAAW,GACd,IAAI,CAAC,kBAAkB,CAAC,uBAAuB,CAC7C,gBAAgB,EAChB,kBAAkB,EAClB,IAAI,CAAC,gBAAgB,CAExB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;4BACb,IAAI,UAAU,EAAE,MAAM,EAAE;gCACtB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,GAAG,IAAI,GAAG,UAAU,CAAC;6BACzD;yBACF;6BAAM;4BACL,IAAI,UAAU,EAAE,MAAM,EAAE;gCACtB,IAAI,CAAC,WAAW,GAAG,UAAU,CAAC;6BAC/B;yBACF;oBACH,CAAC,CAAC,CAAC;oBACH,IAAI,CAAC,YAAY,GAAG,CAAC,GAAG,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,CAAC;oBAC1D,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;oBAC7B,IAAI,CAAC,kBAAkB,GAAG;wBACxB,GAAG,IAAI,CAAC,sBAAsB,CAAC,kBAAkB;qBAClD,CAAC;oBACF,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,sBAAsB,CAAC,YAAY,CAAC,GAAG,CAC9D,CAAC,IAAI,EAAE,EAAE;wBACP,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;oBACtC,CAAC,CACF,CAAC;oBACF,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,sBAAsB,CAAC,YAAY,CAAC,GAAG,CAC9D,CAAC,IAAI,EAAE,EAAE;wBACP,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;oBACtC,CAAC,CACF,CAAC;oBACF,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,sBAAsB,CAAC,WAAW,CAAC,GAAG,CAC5D,CAAC,WAAW,EAAE,EAAE;wBACd,IAAI,gBAAgB,GAAG,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAC3D;4BACE,WAAW,EAAE,WAAW,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;yBAC1C,CACF,CAAC;wBACF,IAAI,IAAI,GACN,IAAI,CAAC,kBAAkB,CAAC,uBAAuB,CAC7C,gBAAgB,EAChB,kBAAkB,EAClB,IAAI,CAAC,gBAAgB,CAExB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;wBACb,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;oBACtC,CAAC,CACF,CAAC;oBACF,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,sBAAsB,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;wBAC5D,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;oBACtC,CAAC,CAAC,CAAC;iBACJ;qBAAM;oBACL,IAAI,mBAAmB,CAAC,KAAK,CAAC,EAAE;wBAC9B,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,CAAC;qBAC/D;oBACD,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;oBAC5B,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;iBACxB;aACF;YACD,OAAO,mBAAmB,CAAC;QAC7B,CAAC,CAAC,CACH;aACA,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;gBAC5B,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;iBAClE;aACF;iBAAM;gBACL,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE;oBAChB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;iBAC7B;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;YACzB,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;YAC5B,OAAO,CAAC,GAAG,CAAC,sCAAsC,EAAE,GAAG,CAAC,CAAC;YACzD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,2CAA2C,CAC5C,CAAC;QACJ,CAAC,CACF,CAAC;IACN,CAAC;IAED,aAAa,CAAC,IAAS;QACrB,IAAI,CAAC,eAAe,CAAC,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC;QAC/D,IAAI,CAAC,eAAe,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC;QAC7D,IAAI,CAAC,eAAe,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC;QACzD,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;YACnB,QAAQ;YACR,YAAY;YACZ,gBAAgB;YAChB,IAAI,CAAC,YAAY;YACjB,MAAM;SACP,CAAC,CAAC;QACH,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IACrC,CAAC;IAED,QAAQ,CAAC,EAAO;QACd,OAAO,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;IAC9C,CAAC;IAED,aAAa,CAAC,CAAM,EAAE,IAAS;QAC7B,CAAC,CAAC,cAAc,EAAE,CAAC;QACnB,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,IAAI,SAAS,GAAG,EAAE,CAAC;QACnB,IAAI,CAAC,CAAC,MAAM,CAAC,OAAO,EAAE;YACpB,SAAS,GAAG,QAAQ,CAAC;YACrB,IAAI,GAAG,UAAU,CAAC;SACnB;aAAM;YACL,SAAS,GAAG,UAAU,CAAC;YACvB,IAAI,GAAG,YAAY,CAAC;SACrB;QACD,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;QAChD,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,WAAW,GAAG,EAAE,CAAC;QACrB,IAAI,WAAW,GAAG,kCAAkC,CAAC;QACrD,IACE,SAAS,IAAI,UAAU;YACvB,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,EACtD;YACA,WAAW;gBACT,WAAW;oBACX,iBAAiB;oBACjB,IAAI;oBACJ,qBAAqB,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC;SAChD;aAAM;YACL,WAAW;gBACT,mDAAmD;oBACnD,iBAAiB;oBACjB,IAAI;oBACJ,qBAAqB,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC;SAChD;QACD,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;YAC/B,OAAO,EAAE,WAAW;YACpB,GAAG,EAAE,sBAAsB;YAC3B,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,YAAY,CAAC,CAAC,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC;gBACtC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;YACjC,CAAC;YACD,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;gBAC/B,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;YAClC,CAAC;SACF,CAAC,CAAC;IACL,CAAC;IAED,mBAAmB,CAAC,MAAe;QACjC,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;YAC5C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;QACjD,CAAC,EAAE,GAAG,CAAC,CAAC;QACR,IAAI,CAAC,MAAM,EAAE;YACX,UAAU,CAAC,GAAG,EAAE;gBACd,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACzC,CAAC,EAAE,IAAI,CAAC,CAAC;SACV;IACH,CAAC;IAED,YAAY,CAAC,CAAM,EAAE,SAAc,EAAE,IAAS;QAC5C,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QAExC,MAAM,QAAQ,GAAG,IAAI,QAAQ,EAAE,CAAC;QAChC,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QAChD,QAAQ,CAAC,MAAM,CAAC,cAAc,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;QACtD,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;QACrC,QAAQ,CAAC,MAAM,CAAC,cAAc,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QACzD,QAAQ,CAAC,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC1D,QAAQ,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAClD,IAAI,CAAC,oBAAoB,CAAC,QAAQ,EAAE,CAAC,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;IACtD,CAAC;IAED,oBAAoB,CAAC,QAAa,EAAE,SAAc,EAAE,QAAa;QAC/D,IAAI,CAAC,eAAe,CAAC,oBAAoB,CAAC,QAAQ,CAAC,CAAC,SAAS,CAC3D,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,OAAO,GAAG,EAAE,CAAC;YACjB,IAAI,GAAG,CAAC,OAAO,CAAC,IAAI,MAAM,EAAE;gBAC1B,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,OAAO,GAAG,oCAAoC,GAAG,CAAC,KAAK,CAAC,MAAM,QAAQ,CAAC,aAAa,CAAC,oCAAoC,CAAC;gBAC1H,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;aAC5C;iBAAM;gBACL,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;oBACd,OAAO,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC;oBACrB,SAAS,CAAC,OAAO,GAAG,SAAU,CAAC,OAAO,CAAC;oBACvC,IAAI,CAAC,wBAAwB,CAC3B,IAAI,CAAC,QAAQ,CAAC,MAAM,EACpB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EACvB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,EAC1B,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CACzB,CAAC;oBACF,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;iBAC5C;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;oBACvC,OAAO,GAAG,+CAA+C,CAAC;oBAC1D,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;iBAC5C;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACjB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,CACF,CAAC;IACJ,CAAC;IAED,aAAa,CAAC,IAAS;QACrB,IAAI,CAAC,eAAe,CAAC,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC;QAC/D,IAAI,CAAC,eAAe,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC;QAC7D,IAAI,CAAC,eAAe,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC;QACzD,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;YACnB,QAAQ;YACR,YAAY;YACZ,gBAAgB;YAChB,IAAI,CAAC,YAAY;YACjB,OAAO;SACR,CAAC,CAAC;IACL,CAAC;IAED,cAAc;QACZ,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,EAAE,YAAY,EAAE,gBAAgB,CAAC,CAAC,CAAC;IACnE,CAAC;IAED,sBAAsB,CAAC,KAAK;QAC1B,IAAI,CAAC,OAAO,KAAK,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,KAAK,SAAS,CAAC,CAAC;IAC7D,CAAC;IAED,oBAAoB,CAAC,KAAK;QACxB,IAAI,CAAC,OAAO,KAAK,SAAS,CAAC,GAAG,KAAK,CAAC;IACtC,CAAC;IAED,oBAAoB,CAAC,KAAU;QAC7B,OAAO,IAAI,CAAC,iBAAiB,KAAK,EAAE,CAAC,CAAC;IACxC,CAAC;IAED,iBAAiB,CAAC,EAAe,EAAE,KAAU;QAC3C,IAAI,CAAC,iBAAiB,KAAK,EAAE,CAAC,GAAG,EAAE,CAAC,KAAK,CAAC;IAC5C,CAAC;IAED,kBAAkB,CAAC,KAAU;QAC3B,OAAO,IAAI,CAAC,OAAO,KAAK,SAAS,CAAC,CAAC;IACrC,CAAC;IAED,kBAAkB,CAAC,KAAU;QAC3B,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC;IACrB,CAAC;IAED,eAAe,CAAC,IAAY;QAC1B,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;IACzC,CAAC;;gGA7gBU,wBAAwB;sHAAxB,wBAAwB;;;;;;;QCvBrC,yEAAkC;QAG5B,kEAAiC;QACjC,gFACF;QAAA,4DAAM;QACN,yEAAoB;QAOhB,gJAAS,oBAAgB,IAAC;QAC3B,4DAAS;QAId,yEAA6B;QAQhB,uEAAW;QAAA,4DACb;QACD,kFAQC;QACC,uIAIc;QAAA,4DACf;QAEH,2EAAqE;QAIhE,kEAAM;QAAA,4DACR;QACD,kFAQC;QACC,uIAIc;QAAA,4DACf;QAEH,2EAAqE;QAIhE,gEAAI;QAAA,4DACN;QACD,kFAQG;QAAA,uIAIa;QAChB,4DAAa;QAEf,2EAEC;QAKG,iJAAS,qBAAiB,IAAC;QAI5B,4DAAS;QAOpB,uHAuMM;QACR,4DAAM;QACN,uHAiBM;QACN,2FAKC;QAOK,+RAAS,sEAAW,KAAC;QACtB,4DAAS;QAEV,8EAMC;QADC,+RAAS,sEAAW,KAAC;QACtB,4DAAS;;QAtUL,0DAA6B;QAA7B,0FAA6B;QAaxB,0DAAoC;QAApC,iGAAoC;QAsBpC,0DAA+B;QAA/B,4FAA+B;QAsB/B,0DAA6B;QAA7B,0FAA6B;QAqB7B,0DAAoC;QAApC,iGAAoC;QAQ3B,0DAA0C;QAA1C,iJAA0C;QAyMrC,0DAA8C;QAA9C,qJAA8C;QAsBxE,0DAAkB;QAAlB,2EAAkB;;;;;;;;;;;;;;;;;;;;;ACxU2C;AAEP;AACZ;;;AAKrC,MAAM,eAAe;IAC1B,YAAoB,IAAgB;QAAhB,SAAI,GAAJ,IAAI,CAAY;QACpC,oBAAe,GAAQ,IAAI,CAAC;QAC5B,eAAU,GAAQ,IAAI,CAAC;QACvB,aAAQ,GAAQ,IAAI,CAAC;QAEb,0BAAqB,GAAQ,SAAS,CAAC;IALR,CAAC;IAOxC,OAAO,CAAC,IAAS;QACf,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC;IACpC,CAAC;IAED,OAAO;QACL,OAAO,IAAI,CAAC,qBAAqB,CAAC;IACpC,CAAC;IAED,eAAe,CAAC,EAAU,EAAE,QAAa,EAAE,OAAY,EAAE,UAAe;QACtE,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,iDAAiD,EAAE;YACtE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,QAAQ,EAAE,EAAE,CAAC;iBACjB,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;iBACpC,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;iBACrC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC;SACzB,CAAC,CAAC;IACL,CAAC;IACD,oBAAoB,CAAC,IAAS;QAC5B,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CACnB,sDAAsD,EACtD,IAAI,CACL,CAAC;IACJ,CAAC;IAED,yBAAyB;QACvB,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,yDAAyD,CAC1D,CAAC;IACJ,CAAC;IAED,kBAAkB,CAChB,YAAiB,EACjB,SAAc,EACd,OAAY,EACZ,UAAe,EACf,QAAa;QAEb,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,oDAAoD,EAAE;YACzE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,cAAc,EAAE,YAAY,CAAC;iBACjC,GAAG,CAAC,WAAW,EAAE,SAAS,CAAC;iBAC3B,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;iBACpC,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;iBACrC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC;SACzB,CAAC,CAAC;IACL,CAAC;IAED,0BAA0B,CACxB,MAAW,EACX,QAAa,EACb,OAAY,EACZ,UAAe;QAEf,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,8CAA8C,EAAE;YACnE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC;iBACrB,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;iBACpC,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;iBACrC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC;SACzB,CAAC,CAAC;IACL,CAAC;IAED,qBAAqB,CACnB,MAAW,EACX,QAAa,EACb,OAAY,EACZ,UAAe;QAEf,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,uDAAuD,EACvD;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC;iBACrB,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC;iBACrB,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;iBACpC,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;SACzC,CACF,CAAC;IACJ,CAAC;IAED,0BAA0B,CACxB,QAAa,EACb,OAAY,EACZ,WAAgB,EAChB,SAAc,EACd,WAAgB,EAChB,UAAe;QAEf,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,iDAAiD,EAAE;YACtE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC;iBACrB,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;iBACpC,GAAG,CAAC,aAAa,EAAE,WAAW,CAAC;iBAC/B,GAAG,CAAC,WAAW,EAAE,SAAS,CAAC;iBAC3B,GAAG,CAAC,aAAa,EAAE,WAAW,CAAC;iBAC/B,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;SACzC,CAAC,CAAC;IACL,CAAC;IAED,kBAAkB,CAAC,IAAS;QAC1B,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CACnB,qDAAqD,EACrD,IAAI,CACL,CAAC;IACJ,CAAC;IAED,6BAA6B,CAAC,IAAS;QACrC,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CACnB,qDAAqD,EACrD,IAAI,CACL,CAAC;IACJ,CAAC;IAED,uBAAuB,CACrB,EAAU,EACV,OAAY,EACZ,UAAe,EACf,QAAa;QAEb,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB;OACC,EACD;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,QAAQ,EAAE,EAAE,CAAC;iBACjB,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;iBACpC,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;iBACrC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC;SACzB,CACF,CAAC;IACJ,CAAC;IAED,cAAc,CACZ,IAAI,EACJ,OAAY,EACZ,UAAe,EACf,QAAa;QAEb,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CACnB,oDAAoD,EACpD,IAAI,EACJ;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;iBACpC,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;iBACrC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC;SACzB,CACF,CAAC;IACJ,CAAC;IAED,cAAc,CACZ,MAAM,EACN,IAAI,EACJ,OAAY,EACZ,UAAe,EACf,QAAa;QAEb,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,gDAAgD,EAChD,IAAI,EACJ;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC;iBACrB,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;iBACpC,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;iBACrC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC;SACzB,CACF,CAAC;IACJ,CAAC;IAED,wCAAwC;IACxC,iEAAiE;IACjE,4BAA4B;IAC5B,+EAA+E;IAC/E,SAAS;IACT,aAAa;IACb,4BAA4B;IAC5B,+EAA+E;IAC/E,SAAS;IACT,MAAM;IACN,IAAI;IAEJ,6CAA6C;IAC7C,gDAAgD;QAC9C,uBAAuB;QACvB,MAAM,aAAa,GACjB,wEAAwE,CAAC;QAC3E,MAAM,aAAa,GACjB,gFAAgF,CAAC;QAEnF,kCAAkC;QAClC,MAAM,oBAAoB,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;QAC1D,MAAM,oBAAoB,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;QAE1D,kCAAkC;QAClC,OAAO,8CAAQ,CAAC,CAAC,oBAAoB,EAAE,oBAAoB,CAAC,CAAC,CAAC,IAAI,CAChE,0DAAU,CAAC,CAAC,KAAK,EAAE,EAAE;YACnB,yCAAyC;YACzC,OAAO,CAAC,KAAK,CAAC,sCAAsC,EAAE,KAAK,CAAC,CAAC;YAC7D,OAAO,gDAAU,CAAC,oBAAoB,CAAC,CAAC;QAC1C,CAAC,CAAC,CACH,CAAC;IACJ,CAAC;;8EAlNU,eAAe;gHAAf,eAAe,WAAf,eAAe,mBAFd,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACF2C;AAKvC;AAEuB;;;;;;;;;;;;;;ICmErC,qEAAI;IACE,mEAAQ;IAAA,4DAAK;IACjB,qEAAI;IAAA,sEAAW;IAAA,4DAAK;IACpB,qEAAI;IAAA,uEAAY;IAAA,4DAAK;IACrB,qEAAI;IAAA,mEAAQ;IAAA,4DAAK;IACjB,qEAAI;IAAA,kEAAM;IAAA,4DAAK;IACf,sEAAI;IAAA,+DAAG;IAAA,4DAAK;;;IAId,qEAAI;IACE,uDAAqB;IAAA,4DAAK;IAC9B,qEAAI;IAAA,uDAAuB;IAAA,4DAAK;IAChC,qEAAI;IAAA,uDAAoB;IAAA,4DAAK;IAC7B,qEAAI;IAAA,uDAAsB;IAAA,4DAAK;IAC/B,qEAAI;IAAA,wDAAmB;IAAA,4DAAK;IAC5B,sEAAI;IAAA,wDAAiB;IAAA,4DAAK;;;;IALtB,0DAAqB;IAArB,mFAAqB;IACrB,0DAAuB;IAAvB,qFAAuB;IACvB,0DAAoB;IAApB,sFAAoB;IACpB,0DAAsB;IAAtB,oFAAsB;IACtB,0DAAmB;IAAnB,iFAAmB;IACnB,0DAAiB;IAAjB,+EAAiB;;;IAIvB,qEAAI;IACc,uDAAqB;IAAA,4DAAK;;;IAA1B,0DAAqB;IAArB,uFAAqB;;;IApC7C,0EAIC;IAUG,0IASc;IACd,0IASc;IACd,yIAIc;IAChB,4DAAU;;;IAhCR,0DAAmB;IAAnB,mFAAmB;;ADpDpB,MAAM,qBAAqB;IAmBhC,YACU,KAAqB,EACrB,WAAwB,EACxB,kBAAsC,EACtC,IAAgB,EAChB,EAAsB;QAJtB,UAAK,GAAL,KAAK,CAAgB;QACrB,gBAAW,GAAX,WAAW,CAAa;QACxB,uBAAkB,GAAlB,kBAAkB,CAAoB;QACtC,SAAI,GAAJ,IAAI,CAAY;QAChB,OAAE,GAAF,EAAE,CAAoB;QAvBhC,aAAQ,GAAQ,EAAE,CAAC;QACnB,cAAS,GAAQ,EAAE,CAAC;QACpB,aAAQ,GAAQ,EAAE,CAAC;QACnB,oBAAe,GAAG,EAAE,CAAC;QAErB,mBAAc,GAAG,EAAE,CAAC;QAEpB,uBAAkB,GAAG,EAAE,CAAC;QACxB,eAAU,GAAQ,EAAE,CAAC;QACrB,yBAAoB,GAAQ,EAAE,CAAC;QAC/B,qBAAgB,GAAU,EAAE,CAAC;QAG7B,6BAAwB,GAAU,EAAE,CAAC;QACrC,wBAAmB,GAAU,EAAE,CAAC;QAEhC,qBAAgB,GAAG,EAAE,CAAC;IAQnB,CAAC;IAEJ,QAAQ;QACN,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;YACjC,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;QAE7D,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAE1B,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC,KAAK,CACxC,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAClC,CAAC;QACF,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;QACzE,IAAI,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,CAAC;QACjE,IAAI,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;QAE3D,IAAI,MAAM,GAAG,IAAI,CAAC;QAClB,IAAI,MAAM,GAAG,IAAI,CAAC;QAElB,IAAI,UAAU,EAAE;YACd,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;YACxB,MAAM,GAAG,IAAI,CAAC,wBAAwB,CAAC,MAAM,CAC3C,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,IAAI,UAAU,CAAC,eAAe,CAAC,IAAI,CACrD,CAAC,CAAC,CAAC,CAAC;YACL,MAAM,GAAG,IAAI,CAAC,mBAAmB,CAAC,MAAM,CACtC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,IAAI,UAAU,CAAC,UAAU,CAAC,IAAI,CAChD,CAAC,CAAC,CAAC,CAAC;SACN;aAAM;YACL,IAAI,SAAS,EAAE;gBACb,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC,CAAC;gBAC7D,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC;aACzD;SACF;QAED,IAAI,MAAM,EAAE;YACV,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;SACjC;QACD,IAAI,MAAM,EAAE;YACV,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;SACpC;QAED,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC;IACD,kBAAkB;QAChB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YACnC,YAAY,EAAE,IAAI,8DAAkB,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAE,EAAE;gBACnE,+DAAmB;aACpB,CAAC;YACF,OAAO,EAAE,IAAI,8DAAkB,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAE,EAAE;gBAC9D,+DAAmB;aACpB,CAAC;SACH,CAAC,CAAC;IACL,CAAC;IAED,IAAI,OAAO;QACT,OAAO,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;IAClD,CAAC;IACD,IAAI,UAAU;QACZ,OAAO,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;IAC7C,CAAC;IACD,aAAa;QACX,OAAO,IAAI,CAAC,IAAI;aACb,GAAG,CAAC,sDAAsD,EAAE;YAC3D,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;iBAC3C,GAAG,CAAC,MAAM,EAAE,cAAc,CAAC;iBAC3B,GAAG,CAAC,cAAc,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC;iBAC5C,GAAG,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC;SACjD,CAAC;aACD,SAAS,CAAC,CAAC,GAAQ,EAAE,EAAE;YACtB,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC;YAC/B,IAAI,kBAAkB,GAAG,+DAAY,CAAC,GAAG,CAAC,CAAC;YAC3C,OAAO,kBAAkB,CAAC,cAAc,CAAC,CAAC;YAC1C,IAAI,CAAC,gBAAgB,GAAG,GAAG,CAAC,cAAc,CAAC,CAAC;YAC5C,IAAI,CAAC,UAAU,GAAG,kBAAkB,CAAC;QACvC,CAAC,CAAC,CAAC;IACP,CAAC;IACD,KAAK;QACH,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;QACnD,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,cAAc;YAC7C,EAAE,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;YAClB,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC;QAChB,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC;YAC7D,WAAW,EAAE,IAAI,CAAC,cAAc;SACjC,CAAC,CAAC;QACH,IAAI,2BAA2B,GAAG,IAAI,CAAC,oBAAoB,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE;YACtE,IAAI,SAAS,CAAC;YACd,IAAI,GAAG,CAAC;YACR,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;gBACtB,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;gBACrC,GAAG,GAAG,IAAI,CAAC;aACZ;iBAAM,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;gBAC7B,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;gBACrC,GAAG,GAAG,IAAI,CAAC;aACZ;iBAAM,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;gBAC7B,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;gBACrC,GAAG,GAAG,IAAI,CAAC;aACZ;iBAAM,IAAI,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;gBAC5B,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;gBACpC,GAAG,GAAG,GAAG,CAAC;aACX;iBAAM,IAAI,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;gBAC5B,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;gBACpC,GAAG,GAAG,GAAG,CAAC;aACX;iBAAM;gBACL,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;gBACpC,GAAG,GAAG,GAAG,CAAC;aACX;YACD,IAAI,GAAG,GAAG,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;YACnC,IAAI,GAAG,GAAG,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;YACnC,OAAO,EAAE,CAAC,GAAG,CAAC,EAAE,GAAG,EAAE,CAAC;QACxB,CAAC,CAAC,CAAC;QAEH,IAAI,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC;QACpC,2BAA2B,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;YAC1C,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;YACxB,IAAI,UAAU,GAAG,SAAS,CAAC;YAC3B,IAAI,OAAO,GAAI,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAY,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;YACjE,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACzC,IAAI,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,MAAM,CAClE,CAAC,CAAC,EAAE,EAAE;gBACJ,OAAO,CAAC,CAAC,QAAQ,IAAI,OAAO,CAAC;YAC/B,CAAC,CACF,CAAC;YACF,IAAI,SAAS,EAAE,MAAM,EAAE;gBACrB,IAAI,OAAO,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,MAAM,CAAW,CAAC;gBAC7C,SAAS,GAAG,UAAU,CAAC,OAAO,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;aAClD;QACH,CAAC,CAAC,CAAC;QACH,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;QAC1D,IAAI,CAAC,kBAAkB,GAAG,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAC1D,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,CAAC,IAAI,CAAC;QACV,IAAI,CAAC,IAAI;aACN,GAAG,CAAC,uDAAuD,EAAE;YAC5D,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,aAAa,EAAE,IAAI,CAAC,kBAAkB,CAAC;iBAC3C,GAAG,CAAC,MAAM,EAAE,cAAc,CAAC;iBAC3B,GAAG,CAAC,cAAc,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC;iBAC5C,GAAG,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC;SACjD,CAAC;aACD,SAAS,CACR,CAAC,GAAQ,EAAE,EAAE;YACX,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,GAAG,CAAC,CAAC;YAC9B,IAAI,GAAG,CAAC,cAAc,IAAI,GAAG,CAAC,cAAc,CAAC,MAAM,EAAE;gBACnD,IAAI,CAAC,eAAe,GAAG,GAAG,CAAC,GAAG,CAAC;gBAC/B,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC,cAAc,CAAC;gBACpC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;oBAC7B,IAAI,WAAW,GAAG,GAAG,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;oBAChD,MAAM,QAAQ,GAAG,GAAG,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;oBAC5C,IAAI,OAAO,GAAG,EAAE,CAAC;oBACjB,IAAI,KAAK,GAAG,EAAE,CAAC;oBACf,IAAI,UAAU,GAAG,EAAE,CAAC;oBAEpB,uBAAuB;oBACvB,QAAQ,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;wBAC3B,IAAI,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;4BACtD,sBAAsB;4BACtB,MAAM,YAAY,GAAG,OAAO;iCACzB,KAAK,CAAC,GAAG,CAAC;iCACV,GAAG,CAAC,CAAC,aAAa,EAAE,EAAE;gCACrB,MAAM,CAAC,IAAI,EAAE,EAAE,CAAC,GAAG,aAAa;qCAC7B,KAAK,CAAC,IAAI,CAAC;qCACX,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gCACrC,OAAO,WAAW,IAAI,MAAM,EAAE,EAAE,CAAC;4BACnC,CAAC,CAAC,CAAC;4BACL,OAAO,GAAG,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;yBACpC;6BAAM,IACL,OAAO,CAAC,UAAU,CAAC,cAAc,CAAC;4BAClC,OAAO,CAAC,QAAQ,CAAC,YAAY,CAAC,EAC9B;4BACA,oBAAoB;4BACpB,MAAM,YAAY,GAAG,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,WAAW,EAAE,EAAE;gCAC1D,MAAM,CAAC,SAAS,EAAE,OAAO,CAAC,GAAG,WAAW;qCACrC,KAAK,CAAC,IAAI,CAAC;qCACX,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gCACrC,OAAO,WAAW,SAAS,MAAM,OAAO,EAAE,CAAC;4BAC7C,CAAC,CAAC,CAAC;4BACH,KAAK,GAAG,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;yBAClC;oBACH,CAAC,CAAC,CAAC;oBAEH,IAAI,OAAO,CAAC,MAAM,IAAI,KAAK,CAAC,MAAM,EAAE;wBAClC,UAAU,IAAI,WAAW,OAAO,YAAY,KAAK,GAAG,CAAC;qBACtD;yBAAM,IAAI,OAAO,CAAC,MAAM,EAAE;wBACzB,UAAU,IAAI,WAAW,OAAO,GAAG,CAAC;qBACrC;yBAAM,IAAI,KAAK,CAAC,MAAM,EAAE;wBACvB,UAAU,IAAI,SAAS,KAAK,GAAG,CAAC;qBACjC;oBAED,IAAI,WAAW,CAAC,MAAM,EAAE;wBACtB,IAAI,gBAAgB,GAAG,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC;4BAC5D,WAAW,EAAE,WAAW;yBACzB,CAAC,CAAC;wBACH,GAAG,CAAC,QAAQ,GACV,IAAI,CAAC,kBAAkB,CAAC,uBAAuB,CAC7C,gBAAgB,EAChB,IAAI,CAAC,UAAU,EACf,IAAI,CAAC,gBAAgB,CAExB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;wBACb,IAAI,UAAU,EAAE,MAAM,EAAE;4BACtB,GAAG,CAAC,QAAQ,GAAG,GAAG,CAAC,QAAQ,GAAG,IAAI,GAAG,UAAU,CAAC;yBACjD;qBACF;yBAAM;wBACL,IAAI,UAAU,EAAE,MAAM,EAAE;4BACtB,GAAG,CAAC,QAAQ,GAAG,UAAU,CAAC;yBAC3B;qBACF;gBACH,CAAC,CAAC,CAAC;aACJ;iBAAM;gBACL,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;gBACpB,IAAI,CAAC,eAAe,GAAG,GAAG,CAAC,GAAG,CAAC;gBAC/B,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;aAC5C;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,qBAAqB,CAAC,CAAC;QAC3D,CAAC,CACF,CAAC;IACN,CAAC;;0FAvPU,qBAAqB;mHAArB,qBAAqB;QClBlC,yEAAkC;QASnB,sEAAW;QAAA,4DACb;QACD,2EAOc;QAChB,4DAAM;QACN,yEAAqE;QAIhE,kEAAM;QAAA,4DACR;QACD,4EAOc;QAChB,4DAAM;QAIZ,2EAAiC;QAE7B,0EAAa;QAAA,4EAAmC;QAAA,6DAAC;QAAA,4DAAO;QACxD,4EACG;QAAA,yKACyC;QAAA,4DAC3C;QAEH,6EAME;QAHA,kMAA4B;QAH9B,4DAME;QAEF,8EAOC;QADC,8IAAS,WAAO,IAAC;QAClB,4DAAS;QAEZ,oHAwCM;QACR,4DAAM;;QAtGC,0DAA6B;QAA7B,0FAA6B;QAYxB,0DAAoC;QAApC,iGAAoC;QAepC,0DAA+B;QAA/B,4FAA+B;QAoBrC,0DAA4B;QAA5B,uFAA4B;QAe7B,0DAAmC;QAAnC,uGAAmC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7DqB;AAMvC;AAEuB;;;;;;;;;;;;;;ICmErC,qEAAI;IACE,uEAAY;IAAA,4DAAK;IACrB,qEAAI;IAAA,0EAAe;IAAA,4DAAK;IACxB,qEAAI;IAAA,uEAAY;IAAA,4DAAK;IACrB,qEAAI;IAAA,mEAAQ;IAAA,4DAAK;IACjB,qEAAI;IAAA,wEAAY;IAAA,4DAAK;IACrB,sEAAI;IAAA,+EAAmB;IAAA,4DAAK;IAC5B,sEAAI;IAAA,sEAAU;IAAA,4DAAK;IAEnB,sEAAI;IAAA,sEAAU;IAAA,4DAAK;IACnB,sEAAI;IAAA,wEAAY;IAAA,4DAAK;IACrB,sEAAI;IAAA,yEAAa;IAAA,4DAAK;;;IAIxB,qEAAI;IACE,uDAAyB;IAAA,4DAAK;IAClC,qEAAI;IAAA,uDAA2B;IAAA,4DAAK;IACpC,qEAAI;IAAA,uDAAoB;IAAA,4DAAK;IAC7B,qEAAI;IAAA,uDAAsB;IAAA,4DAAK;IAC/B,qEAAI;IAAA,wDAAyB;IAAA,4DAAK;IAClC,sEAAI;IAAA,wDAAgC;IAAA,4DAAK;IACzC,sEAAI;IAAA,wDAAuB;IAAA,4DAAK;IAEhC,sEAAI;IAAA,wDAA2B;IAAA,4DAAK;IACpC,sEAAI;IAAA,wDAAyB;IAAA,4DAAK;IAClC,sEAAI;IAAA,wDAA0B;IAAA,4DAAK;;;;IAV/B,0DAAyB;IAAzB,uFAAyB;IACzB,0DAA2B;IAA3B,yFAA2B;IAC3B,0DAAoB;IAApB,sFAAoB;IACpB,0DAAsB;IAAtB,oFAAsB;IACtB,0DAAyB;IAAzB,uFAAyB;IACzB,0DAAgC;IAAhC,8FAAgC;IAChC,0DAAuB;IAAvB,qFAAuB;IAEvB,0DAA2B;IAA3B,yFAA2B;IAC3B,0DAAyB;IAAzB,uFAAyB;IACzB,0DAA0B;IAA1B,wFAA0B;;;IAIhC,qEAAI;IACe,uDAAqB;IAAA,4DAAK;;;IAA1B,0DAAqB;IAArB,uFAAqB;;;IA9C9C,0EAIC;IAUG,wIAcc;IACd,yIAcc;IACd,uIAIc;IAChB,4DAAU;;;IA1CR,0DAAmB;IAAnB,mFAAmB;;ADpDpB,MAAM,mBAAmB;IAmB9B,YACU,KAAqB,EACrB,WAAwB,EACxB,IAAgB,EAChB,kBAAsC,EACtC,EAAsB;QAJtB,UAAK,GAAL,KAAK,CAAgB;QACrB,gBAAW,GAAX,WAAW,CAAa;QACxB,SAAI,GAAJ,IAAI,CAAY;QAChB,uBAAkB,GAAlB,kBAAkB,CAAoB;QACtC,OAAE,GAAF,EAAE,CAAoB;QAvBhC,aAAQ,GAAQ,EAAE,CAAC;QACnB,cAAS,GAAQ,EAAE,CAAC;QACpB,aAAQ,GAAQ,EAAE,CAAC;QACnB,oBAAe,GAAG,EAAE,CAAC;QAErB,mBAAc,GAAG,EAAE,CAAC;QAEpB,uBAAkB,GAAG,EAAE,CAAC;QACxB,eAAU,GAAQ,EAAE,CAAC;QACrB,yBAAoB,GAAQ,EAAE,CAAC;QAC/B,qBAAgB,GAAU,EAAE,CAAC;QAG7B,6BAAwB,GAAU,EAAE,CAAC;QACrC,wBAAmB,GAAU,EAAE,CAAC;QAEhC,qBAAgB,GAAG,EAAE,CAAC;IAQnB,CAAC;IACJ,QAAQ;QACN,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;YACjC,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;QAE7D,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAE1B,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC,KAAK,CACxC,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAClC,CAAC;QACF,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;QACzE,IAAI,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,CAAC;QAEjE,IAAI,MAAM,GAAG,IAAI,CAAC;QAClB,IAAI,MAAM,GAAG,IAAI,CAAC;QAElB,IAAI,SAAS,EAAE;YACb,MAAM,GAAG,IAAI,CAAC,wBAAwB,CAAC,MAAM,CAC3C,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,IAAI,SAAS,CAAC,eAAe,CAAC,IAAI,CACpD,CAAC,CAAC,CAAC,CAAC;YACL,MAAM,GAAG,IAAI,CAAC,mBAAmB,CAAC,MAAM,CACtC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,IAAI,kBAAkB,CACxC,CAAC,CAAC,CAAC,CAAC;SACN;QAED,IAAI,MAAM,EAAE;YACV,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;SACjC;QACD,IAAI,MAAM,EAAE;YACV,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;SACpC;QAED,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC;IAED,kBAAkB;QAChB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YACnC,YAAY,EAAE,IAAI,8DAAkB,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAE,EAAE;gBACnE,+DAAmB;aACpB,CAAC;YACF,OAAO,EAAE,IAAI,8DAAkB,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAE,EAAE;gBAC9D,+DAAmB;aACpB,CAAC;SACH,CAAC,CAAC;IACL,CAAC;IAED,IAAI,OAAO;QACT,OAAO,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;IAClD,CAAC;IACD,IAAI,UAAU;QACZ,OAAO,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;IAC7C,CAAC;IAED,aAAa;QACX,OAAO,IAAI,CAAC,IAAI;aACb,GAAG,CAAC,sDAAsD,EAAE;YAC3D,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;iBAC3C,GAAG,CAAC,MAAM,EAAE,0BAA0B,CAAC;iBACvC,GAAG,CAAC,cAAc,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC;iBAC5C,GAAG,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC;SACjD,CAAC;aACD,SAAS,CAAC,CAAC,GAAQ,EAAE,EAAE;YACtB,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC;YAC/B,IAAI,kBAAkB,GAAG,+DAAY,CAAC,GAAG,CAAC,CAAC;YAC3C,OAAO,kBAAkB,CAAC,cAAc,CAAC,CAAC;YAC1C,IAAI,CAAC,gBAAgB,GAAG,GAAG,CAAC,cAAc,CAAC,CAAC;YAC5C,IAAI,CAAC,UAAU,GAAG,kBAAkB,CAAC;QACvC,CAAC,CAAC,CAAC;IACP,CAAC;IACD,KAAK;QACH,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;QACnD,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,cAAc;YAC7C,EAAE,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;YAClB,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC;QAChB,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC;YAC7D,WAAW,EAAE,IAAI,CAAC,cAAc;SACjC,CAAC,CAAC;QACH,IAAI,2BAA2B,GAAG,IAAI,CAAC,oBAAoB,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE;YACtE,IAAI,SAAS,CAAC;YACd,IAAI,GAAG,CAAC;YACR,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;gBACtB,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;gBACrC,GAAG,GAAG,IAAI,CAAC;aACZ;iBAAM,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;gBAC7B,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;gBACrC,GAAG,GAAG,IAAI,CAAC;aACZ;iBAAM,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;gBAC7B,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;gBACrC,GAAG,GAAG,IAAI,CAAC;aACZ;iBAAM,IAAI,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;gBAC5B,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;gBACpC,GAAG,GAAG,GAAG,CAAC;aACX;iBAAM,IAAI,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;gBAC5B,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;gBACpC,GAAG,GAAG,GAAG,CAAC;aACX;iBAAM;gBACL,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;gBACpC,GAAG,GAAG,GAAG,CAAC;aACX;YACD,IAAI,GAAG,GAAG,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;YACnC,IAAI,GAAG,GAAG,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;YACnC,OAAO,EAAE,CAAC,GAAG,CAAC,EAAE,GAAG,EAAE,CAAC;QACxB,CAAC,CAAC,CAAC;QAEH,IAAI,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC;QACpC,2BAA2B,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;YAC1C,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;YACxB,IAAI,UAAU,GAAG,SAAS,CAAC;YAC3B,IAAI,OAAO,GAAI,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAY,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;YACjE,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACzC,IAAI,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,MAAM,CAClE,CAAC,CAAC,EAAE,EAAE;gBACJ,OAAO,CAAC,CAAC,QAAQ,IAAI,OAAO,CAAC;YAC/B,CAAC,CACF,CAAC;YACF,IAAI,SAAS,EAAE,MAAM,EAAE;gBACrB,IAAI,OAAO,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,MAAM,CAAW,CAAC;gBAC7C,SAAS,GAAG,UAAU,CAAC,OAAO,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;aAClD;QACH,CAAC,CAAC,CAAC;QACH,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;QAC1D,IAAI,CAAC,kBAAkB,GAAG,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAC1D,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,CAAC,IAAI,CAAC;QACV,IAAI,CAAC,IAAI;aACN,GAAG,CAAC,uDAAuD,EAAE;YAC5D,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,aAAa,EAAE,IAAI,CAAC,kBAAkB,CAAC;iBAC3C,GAAG,CAAC,MAAM,EAAE,0BAA0B,CAAC;iBACvC,GAAG,CAAC,cAAc,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC;iBAC5C,GAAG,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC;SACjD,CAAC;aACD,SAAS,CACR,CAAC,GAAQ,EAAE,EAAE;YACX,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,GAAG,CAAC,CAAC;YAC9B,IAAI,GAAG,CAAC,kBAAkB,IAAI,GAAG,CAAC,kBAAkB,CAAC,MAAM,EAAE;gBAC3D,IAAI,CAAC,eAAe,GAAG,GAAG,CAAC,GAAG,CAAC;gBAC/B,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC,kBAAkB,CAAC;gBACxC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;oBAC7B,IAAI,WAAW,GAAG,GAAG,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;oBAChD,MAAM,QAAQ,GAAG,GAAG,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;oBAC5C,IAAI,OAAO,GAAG,EAAE,CAAC;oBACjB,IAAI,KAAK,GAAG,EAAE,CAAC;oBACf,IAAI,UAAU,GAAG,EAAE,CAAC;oBAEpB,uBAAuB;oBACvB,QAAQ,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;wBAC3B,IAAI,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;4BACtD,sBAAsB;4BACtB,MAAM,YAAY,GAAG,OAAO;iCACzB,KAAK,CAAC,GAAG,CAAC;iCACV,GAAG,CAAC,CAAC,aAAa,EAAE,EAAE;gCACrB,MAAM,CAAC,IAAI,EAAE,EAAE,CAAC,GAAG,aAAa;qCAC7B,KAAK,CAAC,IAAI,CAAC;qCACX,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gCACrC,OAAO,WAAW,IAAI,MAAM,EAAE,EAAE,CAAC;4BACnC,CAAC,CAAC,CAAC;4BACL,OAAO,GAAG,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;yBACpC;6BAAM,IACL,OAAO,CAAC,UAAU,CAAC,cAAc,CAAC;4BAClC,OAAO,CAAC,QAAQ,CAAC,YAAY,CAAC,EAC9B;4BACA,oBAAoB;4BACpB,MAAM,YAAY,GAAG,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,WAAW,EAAE,EAAE;gCAC1D,MAAM,CAAC,SAAS,EAAE,OAAO,CAAC,GAAG,WAAW;qCACrC,KAAK,CAAC,IAAI,CAAC;qCACX,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gCACrC,OAAO,WAAW,SAAS,MAAM,OAAO,EAAE,CAAC;4BAC7C,CAAC,CAAC,CAAC;4BACH,KAAK,GAAG,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;yBAClC;oBACH,CAAC,CAAC,CAAC;oBAEH,IAAI,OAAO,CAAC,MAAM,IAAI,KAAK,CAAC,MAAM,EAAE;wBAClC,UAAU,IAAI,WAAW,OAAO,YAAY,KAAK,GAAG,CAAC;qBACtD;yBAAM,IAAI,OAAO,CAAC,MAAM,EAAE;wBACzB,UAAU,IAAI,WAAW,OAAO,GAAG,CAAC;qBACrC;yBAAM,IAAI,KAAK,CAAC,MAAM,EAAE;wBACvB,UAAU,IAAI,SAAS,KAAK,GAAG,CAAC;qBACjC;oBAED,IAAI,WAAW,CAAC,MAAM,EAAE;wBACtB,IAAI,gBAAgB,GAAG,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC;4BAC5D,WAAW,EAAE,WAAW;yBACzB,CAAC,CAAC;wBACH,GAAG,CAAC,QAAQ,GACV,IAAI,CAAC,kBAAkB,CAAC,uBAAuB,CAC7C,gBAAgB,EAChB,IAAI,CAAC,UAAU,EACf,IAAI,CAAC,gBAAgB,CAExB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;wBACb,IAAI,UAAU,EAAE,MAAM,EAAE;4BACtB,GAAG,CAAC,QAAQ,GAAG,GAAG,CAAC,QAAQ,GAAG,IAAI,GAAG,UAAU,CAAC;yBACjD;qBACF;yBAAM;wBACL,IAAI,UAAU,EAAE,MAAM,EAAE;4BACtB,GAAG,CAAC,QAAQ,GAAG,UAAU,CAAC;yBAC3B;qBACF;gBACH,CAAC,CAAC,CAAC;aACJ;iBAAM;gBACL,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;gBACpB,IAAI,CAAC,eAAe,GAAG,GAAG,CAAC,GAAG,CAAC;gBAC/B,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;aAC5C;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,qBAAqB,CAAC,CAAC;QAC3D,CAAC,CACF,CAAC;IACN,CAAC;;sFAjPU,mBAAmB;iHAAnB,mBAAmB;QClBhC,yEAAkC;QASnB,sEAAW;QAAA,4DACb;QACD,2EAOc;QAChB,4DAAM;QACN,yEAAqE;QAIhE,kEAAM;QAAA,4DACR;QACD,4EAOc;QAChB,4DAAM;QAIZ,2EAAiC;QAE7B,0EAAa;QAAA,4EAAmC;QAAA,6DAAC;QAAA,4DAAO;QACxD,4EACG;QAAA,yKACyC;QAAA,4DAC3C;QAEH,6EAME;QAHA,gMAA4B;QAH9B,4DAME;QAEF,8EAOC;QADC,4IAAS,WAAO,IAAC;QAClB,4DAAS;QAEZ,kHAkDM;QACR,4DAAM;;QAhHC,0DAA6B;QAA7B,0FAA6B;QAYxB,0DAAoC;QAApC,iGAAoC;QAepC,0DAA+B;QAA/B,4FAA+B;QAoBrC,0DAA4B;QAA5B,uFAA4B;QAe7B,0DAAmC;QAAnC,uGAAmC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5DqB;AAKvC;AAEuB;;;;;;;;;;;;;;ICmErC,qEAAI;IACE,mEAAQ;IAAA,4DAAK;IACjB,qEAAI;IAAA,sEAAW;IAAA,4DAAK;IACpB,qEAAI;IAAA,uEAAY;IAAA,4DAAK;IACrB,qEAAI;IAAA,mEAAQ;IAAA,4DAAK;IACjB,qEAAI;IAAA,4EAAgB;IAAA,4DAAK;IACzB,sEAAI;IAAA,4EAAgB;IAAA,4DAAK;IACzB,sEAAI;IAAA,6EAAiB;IAAA,4DAAK;IAC1B,sEAAI;IAAA,wEAAY;IAAA,4DAAK;IACrB,sEAAI;IAAA,yEAAa;IAAA,4DAAK;IACtB,sEAAI;IAAA,qEAAS;IAAA,4DAAK;IAClB,sEAAI;IAAA,oEAAQ;IAAA,4DAAK;IACjB,sEAAI;IAAA,sEAAU;IAAA,4DAAK;IACnB,sEAAI;IAAA,wEAAY;IAAA,4DAAK;IACrB,sEAAI;IAAA,6EAAiB;IAAA,4DAAK;;;IAI5B,qEAAI;IACE,uDAAsB;IAAA,4DAAK;IAC/B,qEAAI;IAAA,uDAAwB;IAAA,4DAAK;IACjC,qEAAI;IAAA,uDAAoB;IAAA,4DAAK;IAC7B,qEAAI;IAAA,uDAAsB;IAAA,4DAAK;IAC/B,qEAAI;IAAA,wDAA4B;IAAA,4DAAK;IACrC,sEAAI;IAAA,wDAA0B;IAAA,4DAAK;IACnC,sEAAI;IAAA,wDAA6B;IAAA,4DAAK;IACtC,sEAAI;IAAA,wDAAyB;IAAA,4DAAK;IAClC,sEAAI;IAAA,wDAA0B;IAAA,4DAAK;IACnC,sEAAI;IAAA,wDAAuB;IAAA,4DAAK;IAChC,sEAAI;IAAA,wDAAsB;IAAA,4DAAK;IAC/B,sEAAI;IAAA,wDAAuB;IAAA,4DAAK;IAChC,sEAAI;IAAA,wDAAyB;IAAA,4DAAK;IAClC,sEAAI;IAAA,wDAA6B;IAAA,4DAAK;;;;IAblC,0DAAsB;IAAtB,oFAAsB;IACtB,0DAAwB;IAAxB,sFAAwB;IACxB,0DAAoB;IAApB,sFAAoB;IACpB,0DAAsB;IAAtB,oFAAsB;IACtB,0DAA4B;IAA5B,0FAA4B;IAC5B,0DAA0B;IAA1B,wFAA0B;IAC1B,0DAA6B;IAA7B,2FAA6B;IAC7B,0DAAyB;IAAzB,uFAAyB;IACzB,0DAA0B;IAA1B,wFAA0B;IAC1B,0DAAuB;IAAvB,qFAAuB;IACvB,0DAAsB;IAAtB,oFAAsB;IACtB,0DAAuB;IAAvB,qFAAuB;IACvB,0DAAyB;IAAzB,uFAAyB;IACzB,0DAA6B;IAA7B,2FAA6B;;;IAInC,qEAAI;IACe,uDAAqB;IAAA,4DAAK;;;IAA1B,0DAAqB;IAArB,uFAAqB;;;IApD9C,0EAIC;IAUG,4IAiBc;IACd,6IAiBc;IACd,2IAIc;IAChB,4DAAU;;;IAhDR,0DAAmB;IAAnB,mFAAmB;;ADpDpB,MAAM,uBAAuB;IAmBlC,YACU,KAAqB,EACrB,WAAwB,EACxB,kBAAsC,EACtC,IAAgB,EAChB,EAAsB;QAJtB,UAAK,GAAL,KAAK,CAAgB;QACrB,gBAAW,GAAX,WAAW,CAAa;QACxB,uBAAkB,GAAlB,kBAAkB,CAAoB;QACtC,SAAI,GAAJ,IAAI,CAAY;QAChB,OAAE,GAAF,EAAE,CAAoB;QAvBhC,aAAQ,GAAQ,EAAE,CAAC;QACnB,cAAS,GAAQ,EAAE,CAAC;QACpB,aAAQ,GAAQ,EAAE,CAAC;QACnB,oBAAe,GAAG,EAAE,CAAC;QAErB,mBAAc,GAAG,EAAE,CAAC;QAEpB,uBAAkB,GAAG,EAAE,CAAC;QACxB,eAAU,GAAQ,EAAE,CAAC;QACrB,yBAAoB,GAAQ,EAAE,CAAC;QAC/B,qBAAgB,GAAU,EAAE,CAAC;QAG7B,6BAAwB,GAAU,EAAE,CAAC;QACrC,wBAAmB,GAAU,EAAE,CAAC;QAEhC,qBAAgB,GAAG,EAAE,CAAC;IAQnB,CAAC;IAEJ,QAAQ;QACN,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;YACjC,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;QAE7D,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAE1B,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC,KAAK,CACxC,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAClC,CAAC;QACF,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;QACzE,IAAI,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,CAAC;QACjE,IAAI,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;QAE3D,IAAI,MAAM,GAAG,IAAI,CAAC;QAClB,IAAI,MAAM,GAAG,IAAI,CAAC;QAElB,IAAI,UAAU,EAAE;YACd,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;YACxB,MAAM,GAAG,IAAI,CAAC,wBAAwB,CAAC,MAAM,CAC3C,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,IAAI,UAAU,CAAC,eAAe,CAAC,IAAI,CACrD,CAAC,CAAC,CAAC,CAAC;YACL,MAAM,GAAG,IAAI,CAAC,mBAAmB,CAAC,MAAM,CACtC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,IAAI,UAAU,CAAC,UAAU,CAAC,IAAI,CAChD,CAAC,CAAC,CAAC,CAAC;SACN;aAAM;YACL,IAAI,SAAS,EAAE;gBACb,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC,CAAC;gBAC7D,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC;aACzD;SACF;QAED,IAAI,MAAM,EAAE;YACV,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;SACjC;QACD,IAAI,MAAM,EAAE;YACV,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;SACpC;QAED,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC;IAED,kBAAkB;QAChB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YACnC,YAAY,EAAE,IAAI,8DAAkB,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAE,EAAE;gBACnE,+DAAmB;aACpB,CAAC;YACF,OAAO,EAAE,IAAI,8DAAkB,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAE,EAAE;gBAC9D,+DAAmB;aACpB,CAAC;SACH,CAAC,CAAC;IACL,CAAC;IAED,IAAI,OAAO;QACT,OAAO,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;IAClD,CAAC;IACD,IAAI,UAAU;QACZ,OAAO,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;IAC7C,CAAC;IAED,aAAa;QACX,OAAO,IAAI,CAAC,IAAI;aACb,GAAG,CAAC,sDAAsD,EAAE;YAC3D,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;iBAC3C,GAAG,CAAC,MAAM,EAAE,mBAAmB,CAAC;iBAChC,GAAG,CAAC,cAAc,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC;iBAC5C,GAAG,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC;SACjD,CAAC;aACD,SAAS,CAAC,CAAC,GAAQ,EAAE,EAAE;YACtB,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC;YAC/B,IAAI,kBAAkB,GAAG,+DAAY,CAAC,GAAG,CAAC,CAAC;YAC3C,OAAO,kBAAkB,CAAC,cAAc,CAAC,CAAC;YAC1C,IAAI,CAAC,gBAAgB,GAAG,GAAG,CAAC,cAAc,CAAC,CAAC;YAC5C,IAAI,CAAC,UAAU,GAAG,kBAAkB,CAAC;QACvC,CAAC,CAAC,CAAC;IACP,CAAC;IACD,KAAK;QACH,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;QACnD,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,cAAc;YAC7C,EAAE,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;YAClB,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC;QAChB,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC;YAC7D,WAAW,EAAE,IAAI,CAAC,cAAc;SACjC,CAAC,CAAC;QACH,IAAI,2BAA2B,GAAG,IAAI,CAAC,oBAAoB,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE;YACtE,IAAI,SAAS,CAAC;YACd,IAAI,GAAG,CAAC;YACR,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;gBACtB,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;gBACrC,GAAG,GAAG,IAAI,CAAC;aACZ;iBAAM,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;gBAC7B,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;gBACrC,GAAG,GAAG,IAAI,CAAC;aACZ;iBAAM,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;gBAC7B,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;gBACrC,GAAG,GAAG,IAAI,CAAC;aACZ;iBAAM,IAAI,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;gBAC5B,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;gBACpC,GAAG,GAAG,GAAG,CAAC;aACX;iBAAM,IAAI,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;gBAC5B,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;gBACpC,GAAG,GAAG,GAAG,CAAC;aACX;iBAAM;gBACL,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;gBACpC,GAAG,GAAG,GAAG,CAAC;aACX;YACD,IAAI,GAAG,GAAG,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;YACnC,IAAI,GAAG,GAAG,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;YACnC,OAAO,EAAE,CAAC,GAAG,CAAC,EAAE,GAAG,EAAE,CAAC;QACxB,CAAC,CAAC,CAAC;QAEH,IAAI,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC;QACpC,2BAA2B,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;YAC1C,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;YACxB,IAAI,UAAU,GAAG,SAAS,CAAC;YAC3B,IAAI,OAAO,GAAI,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAY,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;YACjE,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACzC,IAAI,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,MAAM,CAClE,CAAC,CAAC,EAAE,EAAE;gBACJ,OAAO,CAAC,CAAC,QAAQ,IAAI,OAAO,CAAC;YAC/B,CAAC,CACF,CAAC;YACF,IAAI,SAAS,EAAE,MAAM,EAAE;gBACrB,IAAI,OAAO,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,MAAM,CAAW,CAAC;gBAC7C,SAAS,GAAG,UAAU,CAAC,OAAO,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;aAClD;QACH,CAAC,CAAC,CAAC;QACH,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;QAC1D,IAAI,CAAC,kBAAkB,GAAG,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAC1D,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,CAAC,IAAI,CAAC;QACV,IAAI,CAAC,IAAI;aACN,GAAG,CAAC,0DAA0D,EAAE;YAC/D,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,aAAa,EAAE,IAAI,CAAC,kBAAkB,CAAC;iBAC3C,GAAG,CAAC,MAAM,EAAE,mBAAmB,CAAC;iBAChC,GAAG,CAAC,cAAc,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC;iBAC5C,GAAG,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC;SACjD,CAAC;aACD,SAAS,CACR,CAAC,GAAQ,EAAE,EAAE;YACX,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,GAAG,CAAC,CAAC;YAC9B,IAAI,GAAG,CAAC,cAAc,IAAI,GAAG,CAAC,cAAc,CAAC,MAAM,EAAE;gBACnD,IAAI,CAAC,eAAe,GAAG,GAAG,CAAC,GAAG,CAAC;gBAC/B,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC,cAAc,CAAC;gBACpC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;oBAC7B,IAAI,WAAW,GAAG,GAAG,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;oBACnD,MAAM,QAAQ,GAAG,GAAG,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;oBAC/C,IAAI,OAAO,GAAG,EAAE,CAAC;oBACjB,IAAI,KAAK,GAAG,EAAE,CAAC;oBACf,IAAI,UAAU,GAAG,EAAE,CAAC;oBAEpB,uBAAuB;oBACvB,QAAQ,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;wBAC3B,IAAI,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;4BACtD,sBAAsB;4BACtB,MAAM,YAAY,GAAG,OAAO;iCACzB,KAAK,CAAC,GAAG,CAAC;iCACV,GAAG,CAAC,CAAC,aAAa,EAAE,EAAE;gCACrB,MAAM,CAAC,IAAI,EAAE,EAAE,CAAC,GAAG,aAAa;qCAC7B,KAAK,CAAC,IAAI,CAAC;qCACX,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gCACrC,OAAO,WAAW,IAAI,MAAM,EAAE,EAAE,CAAC;4BACnC,CAAC,CAAC,CAAC;4BACL,OAAO,GAAG,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;yBACpC;6BAAM,IACL,OAAO,CAAC,UAAU,CAAC,cAAc,CAAC;4BAClC,OAAO,CAAC,QAAQ,CAAC,YAAY,CAAC,EAC9B;4BACA,oBAAoB;4BACpB,MAAM,YAAY,GAAG,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,WAAW,EAAE,EAAE;gCAC1D,MAAM,CAAC,SAAS,EAAE,OAAO,CAAC,GAAG,WAAW;qCACrC,KAAK,CAAC,IAAI,CAAC;qCACX,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gCACrC,OAAO,WAAW,SAAS,MAAM,OAAO,EAAE,CAAC;4BAC7C,CAAC,CAAC,CAAC;4BACH,KAAK,GAAG,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;yBAClC;oBACH,CAAC,CAAC,CAAC;oBAEH,IAAI,OAAO,CAAC,MAAM,IAAI,KAAK,CAAC,MAAM,EAAE;wBAClC,UAAU,IAAI,WAAW,OAAO,YAAY,KAAK,GAAG,CAAC;qBACtD;yBAAM,IAAI,OAAO,CAAC,MAAM,EAAE;wBACzB,UAAU,IAAI,WAAW,OAAO,GAAG,CAAC;qBACrC;yBAAM,IAAI,KAAK,CAAC,MAAM,EAAE;wBACvB,UAAU,IAAI,SAAS,KAAK,GAAG,CAAC;qBACjC;oBAED,IAAI,WAAW,CAAC,MAAM,EAAE;wBACtB,IAAI,gBAAgB,GAAG,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC;4BAC5D,WAAW,EAAE,WAAW;yBACzB,CAAC,CAAC;wBACH,GAAG,CAAC,WAAW,GACb,IAAI,CAAC,kBAAkB,CAAC,uBAAuB,CAC7C,gBAAgB,EAChB,IAAI,CAAC,UAAU,EACf,IAAI,CAAC,gBAAgB,CAExB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;wBACb,IAAI,UAAU,EAAE,MAAM,EAAE;4BACtB,GAAG,CAAC,WAAW,GAAG,GAAG,CAAC,WAAW,GAAG,IAAI,GAAG,UAAU,CAAC;yBACvD;qBACF;yBAAM;wBACL,IAAI,UAAU,EAAE,MAAM,EAAE;4BACtB,GAAG,CAAC,WAAW,GAAG,UAAU,CAAC;yBAC9B;qBACF;gBACH,CAAC,CAAC,CAAC;aACJ;iBAAM;gBACL,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;gBACpB,IAAI,CAAC,eAAe,GAAG,GAAG,CAAC,GAAG,CAAC;gBAC/B,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;aAC5C;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,qBAAqB,CAAC,CAAC;QAC3D,CAAC,CACF,CAAC;IACN,CAAC;;8FAzPU,uBAAuB;qHAAvB,uBAAuB;QClBpC,yEAAkC;QASnB,sEAAW;QAAA,4DACb;QACD,2EAOc;QAChB,4DAAM;QACN,yEAAqE;QAIhE,kEAAM;QAAA,4DACR;QACD,4EAOc;QAChB,4DAAM;QAIZ,2EAAiC;QAE7B,0EAAa;QAAA,4EAAmC;QAAA,6DAAC;QAAA,4DAAO;QACxD,4EACG;QAAA,yKACyC;QAAA,4DAC3C;QAEH,6EAME;QAHA,oMAA4B;QAH9B,4DAME;QAEF,8EAOC;QADC,gJAAS,WAAO,IAAC;QAClB,4DAAS;QAEZ,sHAwDM;QACR,4DAAM;;QAtHC,0DAA6B;QAA7B,0FAA6B;QAYxB,0DAAoC;QAApC,iGAAoC;QAepC,0DAA+B;QAA/B,4FAA+B;QAoBrC,0DAA4B;QAA5B,uFAA4B;QAe7B,0DAAmC;QAAnC,uGAAmC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5DqB;AAKvC;AAEuB;;;;;;;;;;;;;;ICmErC,qEAAI;IACE,qEAAU;IAAA,4DAAK;IACnB,qEAAI;IAAA,uEAAY;IAAA,4DAAK;IACrB,qEAAI;IAAA,uEAAY;IAAA,4DAAK;IACrB,qEAAI;IAAA,mEAAQ;IAAA,4DAAK;IACjB,qEAAI;IAAA,yEAAa;IAAA,4DAAK;IACtB,sEAAI;IAAA,qFAAyB;IAAA,4DAAK;IAClC,sEAAI;IAAA,gFAAoB;IAAA,4DAAK;;;IAI/B,qEAAI;IACE,uDAAuB;IAAA,4DAAK;IAChC,qEAAI;IAAA,uDAAyB;IAAA,4DAAK;IAClC,qEAAI;IAAA,uDAAoB;IAAA,4DAAK;IAC7B,qEAAI;IAAA,uDAAsB;IAAA,4DAAK;IAC/B,qEAAI;IAAA,wDAAyB;IAAA,4DAAK;IAClC,sEAAI;IAAA,wDAAoC;IAAA,4DAAK;IAC7C,sEAAI;IAAA,wDAAgC;IAAA,4DAAK;;;;IANrC,0DAAuB;IAAvB,qFAAuB;IACvB,0DAAyB;IAAzB,uFAAyB;IACzB,0DAAoB;IAApB,sFAAoB;IACpB,0DAAsB;IAAtB,oFAAsB;IACtB,0DAAyB;IAAzB,uFAAyB;IACzB,0DAAoC;IAApC,kGAAoC;IACpC,0DAAgC;IAAhC,8FAAgC;;;IAItC,qEAAI;IACc,uDAAqB;IAAA,4DAAK;;;IAA1B,0DAAqB;IAArB,uFAAqB;;;IAtC7C,0EAIC;IAUG,2IAUc;IACd,2IAUc;IACd,0IAIc;IAChB,4DAAU;;;IAlCR,0DAAmB;IAAnB,mFAAmB;;ADpDpB,MAAM,sBAAsB;IAmBjC,YACU,KAAqB,EACrB,WAAwB,EACxB,kBAAsC,EACtC,IAAgB,EAChB,EAAsB;QAJtB,UAAK,GAAL,KAAK,CAAgB;QACrB,gBAAW,GAAX,WAAW,CAAa;QACxB,uBAAkB,GAAlB,kBAAkB,CAAoB;QACtC,SAAI,GAAJ,IAAI,CAAY;QAChB,OAAE,GAAF,EAAE,CAAoB;QAvBhC,aAAQ,GAAQ,EAAE,CAAC;QACnB,cAAS,GAAQ,EAAE,CAAC;QACpB,aAAQ,GAAQ,EAAE,CAAC;QACnB,oBAAe,GAAG,EAAE,CAAC;QAErB,mBAAc,GAAG,EAAE,CAAC;QAEpB,uBAAkB,GAAG,EAAE,CAAC;QACxB,eAAU,GAAQ,EAAE,CAAC;QACrB,yBAAoB,GAAQ,EAAE,CAAC;QAC/B,qBAAgB,GAAU,EAAE,CAAC;QAG7B,6BAAwB,GAAU,EAAE,CAAC;QACrC,wBAAmB,GAAU,EAAE,CAAC;QAEhC,qBAAgB,GAAG,EAAE,CAAC;IAQnB,CAAC;IAEJ,QAAQ;QACN,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;YACjC,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;QAE7D,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAE1B,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC,KAAK,CACxC,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAClC,CAAC;QACF,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;QACzE,IAAI,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,CAAC;QACjE,IAAI,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;QAEjE,IAAI,MAAM,GAAG,IAAI,CAAC;QAClB,IAAI,MAAM,GAAG,IAAI,CAAC;QAElB,IAAI,UAAU,EAAE;YACd,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;YACxB,MAAM,GAAG,IAAI,CAAC,wBAAwB,CAAC,MAAM,CAC3C,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,IAAI,UAAU,CAAC,eAAe,CAAC,IAAI,CACrD,CAAC,CAAC,CAAC,CAAC;YACL,MAAM,GAAG,IAAI,CAAC,mBAAmB,CAAC,MAAM,CACtC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,IAAI,UAAU,CAAC,UAAU,CAAC,IAAI,CAChD,CAAC,CAAC,CAAC,CAAC;SACN;aAAM;YACL,IAAI,SAAS,EAAE;gBACb,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC,CAAC;gBAC7D,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC;aACzD;SACF;QAED,IAAI,MAAM,EAAE;YACV,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;SACjC;QACD,IAAI,MAAM,EAAE;YACV,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;SACpC;QAED,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC;IAED,kBAAkB;QAChB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YACnC,YAAY,EAAE,IAAI,8DAAkB,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAE,EAAE;gBACnE,+DAAmB;aACpB,CAAC;YACF,OAAO,EAAE,IAAI,8DAAkB,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAE,EAAE;gBAC9D,+DAAmB;aACpB,CAAC;SACH,CAAC,CAAC;IACL,CAAC;IAED,IAAI,OAAO;QACT,OAAO,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;IAClD,CAAC;IACD,IAAI,UAAU;QACZ,OAAO,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;IAC7C,CAAC;IAED,aAAa;QACX,OAAO,IAAI,CAAC,IAAI;aACb,GAAG,CAAC,sDAAsD,EAAE;YAC3D,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;iBAC3C,GAAG,CAAC,MAAM,EAAE,eAAe,CAAC;iBAC5B,GAAG,CAAC,cAAc,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC;iBAC5C,GAAG,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC;SACjD,CAAC;aACD,SAAS,CAAC,CAAC,GAAQ,EAAE,EAAE;YACtB,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC;YAC/B,IAAI,kBAAkB,GAAG,+DAAY,CAAC,GAAG,CAAC,CAAC;YAC3C,OAAO,kBAAkB,CAAC,cAAc,CAAC,CAAC;YAC1C,IAAI,CAAC,gBAAgB,GAAG,GAAG,CAAC,cAAc,CAAC,CAAC;YAC5C,IAAI,CAAC,UAAU,GAAG,kBAAkB,CAAC;QACvC,CAAC,CAAC,CAAC;IACP,CAAC;IACD,KAAK;QACH,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;QACnD,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,cAAc;YAC7C,EAAE,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;YAClB,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC;QAChB,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC;YAC7D,WAAW,EAAE,IAAI,CAAC,cAAc;SACjC,CAAC,CAAC;QACH,IAAI,2BAA2B,GAAG,IAAI,CAAC,oBAAoB,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE;YACtE,IAAI,SAAS,CAAC;YACd,IAAI,GAAG,CAAC;YACR,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;gBACtB,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;gBACrC,GAAG,GAAG,IAAI,CAAC;aACZ;iBAAM,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;gBAC7B,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;gBACrC,GAAG,GAAG,IAAI,CAAC;aACZ;iBAAM,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;gBAC7B,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;gBACrC,GAAG,GAAG,IAAI,CAAC;aACZ;iBAAM,IAAI,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;gBAC5B,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;gBACpC,GAAG,GAAG,GAAG,CAAC;aACX;iBAAM,IAAI,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;gBAC5B,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;gBACpC,GAAG,GAAG,GAAG,CAAC;aACX;iBAAM;gBACL,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;gBACpC,GAAG,GAAG,GAAG,CAAC;aACX;YACD,IAAI,GAAG,GAAG,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;YACnC,IAAI,GAAG,GAAG,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;YACnC,OAAO,EAAE,CAAC,GAAG,CAAC,EAAE,GAAG,EAAE,CAAC;QACxB,CAAC,CAAC,CAAC;QAEH,IAAI,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC;QACpC,2BAA2B,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;YAC1C,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;YACxB,IAAI,UAAU,GAAG,SAAS,CAAC;YAC3B,IAAI,OAAO,GAAI,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAY,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;YACjE,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACzC,IAAI,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,MAAM,CAClE,CAAC,CAAC,EAAE,EAAE;gBACJ,OAAO,CAAC,CAAC,QAAQ,IAAI,OAAO,CAAC;YAC/B,CAAC,CACF,CAAC;YACF,IAAI,SAAS,EAAE,MAAM,EAAE;gBACrB,IAAI,OAAO,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,MAAM,CAAW,CAAC;gBAC7C,SAAS,GAAG,UAAU,CAAC,OAAO,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;aAClD;QACH,CAAC,CAAC,CAAC;QACH,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;QAC1D,IAAI,CAAC,kBAAkB,GAAG,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAC1D,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,CAAC,IAAI,CAAC;QACV,IAAI,CAAC,IAAI;aACN,GAAG,CAAC,kDAAkD,EAAE;YACvD,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,aAAa,EAAE,IAAI,CAAC,kBAAkB,CAAC;iBAC3C,GAAG,CAAC,MAAM,EAAE,eAAe,CAAC;iBAC5B,GAAG,CAAC,cAAc,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC;iBAC5C,GAAG,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC;SACjD,CAAC;aACD,SAAS,CACR,CAAC,GAAQ,EAAE,EAAE;YACX,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,GAAG,CAAC,CAAC;YAC9B,IAAI,GAAG,CAAC,SAAS,IAAI,GAAG,CAAC,SAAS,CAAC,MAAM,EAAE;gBACzC,IAAI,CAAC,eAAe,GAAG,GAAG,CAAC,GAAG,CAAC;gBAC/B,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC,SAAS,CAAC;gBAC/B,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;oBAC7B,IAAI,WAAW,GAAG,GAAG,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;oBAChD,MAAM,QAAQ,GAAG,GAAG,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;oBAC5C,IAAI,OAAO,GAAG,EAAE,CAAC;oBACjB,IAAI,KAAK,GAAG,EAAE,CAAC;oBACf,IAAI,UAAU,GAAG,EAAE,CAAC;oBAEpB,uBAAuB;oBACvB,QAAQ,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;wBAC3B,IAAI,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;4BACtD,sBAAsB;4BACtB,MAAM,YAAY,GAAG,OAAO;iCACzB,KAAK,CAAC,GAAG,CAAC;iCACV,GAAG,CAAC,CAAC,aAAa,EAAE,EAAE;gCACrB,MAAM,CAAC,IAAI,EAAE,EAAE,CAAC,GAAG,aAAa;qCAC7B,KAAK,CAAC,IAAI,CAAC;qCACX,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gCACrC,OAAO,WAAW,IAAI,MAAM,EAAE,EAAE,CAAC;4BACnC,CAAC,CAAC,CAAC;4BACL,OAAO,GAAG,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;yBACpC;6BAAM,IACL,OAAO,CAAC,UAAU,CAAC,cAAc,CAAC;4BAClC,OAAO,CAAC,QAAQ,CAAC,YAAY,CAAC,EAC9B;4BACA,oBAAoB;4BACpB,MAAM,YAAY,GAAG,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,WAAW,EAAE,EAAE;gCAC1D,MAAM,CAAC,SAAS,EAAE,OAAO,CAAC,GAAG,WAAW;qCACrC,KAAK,CAAC,IAAI,CAAC;qCACX,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gCACrC,OAAO,WAAW,SAAS,MAAM,OAAO,EAAE,CAAC;4BAC7C,CAAC,CAAC,CAAC;4BACH,KAAK,GAAG,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;yBAClC;oBACH,CAAC,CAAC,CAAC;oBAEH,IAAI,OAAO,CAAC,MAAM,IAAI,KAAK,CAAC,MAAM,EAAE;wBAClC,UAAU,IAAI,WAAW,OAAO,YAAY,KAAK,GAAG,CAAC;qBACtD;yBAAM,IAAI,OAAO,CAAC,MAAM,EAAE;wBACzB,UAAU,IAAI,WAAW,OAAO,GAAG,CAAC;qBACrC;yBAAM,IAAI,KAAK,CAAC,MAAM,EAAE;wBACvB,UAAU,IAAI,SAAS,KAAK,GAAG,CAAC;qBACjC;oBAED,IAAI,WAAW,CAAC,MAAM,EAAE;wBACtB,IAAI,gBAAgB,GAAG,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC;4BAC5D,WAAW,EAAE,WAAW;yBACzB,CAAC,CAAC;wBACH,GAAG,CAAC,QAAQ,GACV,IAAI,CAAC,kBAAkB,CAAC,uBAAuB,CAC7C,gBAAgB,EAChB,IAAI,CAAC,UAAU,EACf,IAAI,CAAC,gBAAgB,CAExB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;wBACb,IAAI,UAAU,EAAE,MAAM,EAAE;4BACtB,GAAG,CAAC,QAAQ,GAAG,GAAG,CAAC,QAAQ,GAAG,IAAI,GAAG,UAAU,CAAC;yBACjD;qBACF;yBAAM;wBACL,IAAI,UAAU,EAAE,MAAM,EAAE;4BACtB,GAAG,CAAC,QAAQ,GAAG,UAAU,CAAC;yBAC3B;qBACF;gBACH,CAAC,CAAC,CAAC;aACJ;iBAAM;gBACL,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;gBACpB,IAAI,CAAC,eAAe,GAAG,GAAG,CAAC,GAAG,CAAC;gBAC/B,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;aAC5C;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,qBAAqB,CAAC,CAAC;QAC3D,CAAC,CACF,CAAC;IACN,CAAC;;4FAzPU,sBAAsB;oHAAtB,sBAAsB;QClBnC,yEAAkC;QASnB,sEAAW;QAAA,4DACb;QACD,2EAOc;QAChB,4DAAM;QACN,yEAAqE;QAIhE,kEAAM;QAAA,4DACR;QACD,4EAOc;QAChB,4DAAM;QAIZ,2EAAiC;QAE7B,0EAAa;QAAA,4EAAmC;QAAA,6DAAC;QAAA,4DAAO;QACxD,4EACG;QAAA,yKACyC;QAAA,4DAC3C;QAEH,6EAME;QAHA,mMAA4B;QAH9B,4DAME;QAEF,8EAOC;QADC,+IAAS,WAAO,IAAC;QAClB,4DAAS;QAEZ,qHA0CM;QACR,4DAAM;;QAxGC,0DAA6B;QAA7B,0FAA6B;QAYxB,0DAAoC;QAApC,iGAAoC;QAepC,0DAA+B;QAA/B,4FAA+B;QAoBrC,0DAA4B;QAA5B,uFAA4B;QAe7B,0DAAmC;QAAnC,uGAAmC;;;;;;;;;;;;;;;;;;;;;AC1DZ;AACe;;;;;AAOtC,MAAM,0BAA0B;IACrC,YACU,WAAwB,EACxB,MAAc,EACd,WAAwB;QAFxB,gBAAW,GAAX,WAAW,CAAa;QACxB,WAAM,GAAN,MAAM,CAAQ;QACd,gBAAW,GAAX,WAAW,CAAa;IAC/B,CAAC;IAEJ,SAAS,CACP,OAA6B,EAC7B,IAAiB;QAEjB,IACE,CAAC,IAAI,CAAC,WAAW,CAAC,UAAU,EAAE;YAC9B,OAAO,CAAC,KAAK,CAAC,IAAI,8BAA8B,EAChD;YACA,OAAO,CAAC,GAAG,CAAC,iBAAiB,EAAE,OAAO,CAAC,CAAC;YACxC,OAAO,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;SAC7B;aAAM,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,UAAU,EAAE,EAAE;YACzC,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC,CAAC,CAAC;YAC1D,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAE,OAAO,CAAC,CAAC;YACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,8DAA8D,CAC/D,CAAC;YACF,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,kBAAkB,CAAC,CAAC,CAAC;YAC3C,OAAO,uCAAK,CAAC;SACd;aAAM;YACL,MAAM,KAAK,GAAG,YAAY,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;YAC5C,OAAO,IAAI,CAAC,MAAM,CAChB,OAAO,CAAC,KAAK,CAAC;gBACZ,UAAU,EAAE,EAAE,aAAa,EAAE,GAAG,KAAK,EAAE,EAAE;aAC1C,CAAC,CACH,CAAC;SACH;IACH,CAAC;;oGAjCU,0BAA0B;2HAA1B,0BAA0B,WAA1B,0BAA0B;;;;;;;;;;;;;;;;;;;;;;;ACRf;AAEc;;;;;;;;AAU/B,MAAM,cAAc;IAQzB,YACU,WAA+B,EAC/B,MAAc,EACd,YAA0B,EAC1B,WAAwB,EACxB,WAAwB;QAJxB,gBAAW,GAAX,WAAW,CAAoB;QAC/B,WAAM,GAAN,MAAM,CAAQ;QACd,iBAAY,GAAZ,YAAY,CAAc;QAC1B,gBAAW,GAAX,WAAW,CAAa;QACxB,gBAAW,GAAX,WAAW,CAAa;QAXlC,kBAAa,GAAG,KAAK,CAAC;QACtB,qBAAgB,GAAG;YACjB,QAAQ,EAAE,SAAS;YACnB,QAAQ,EAAE,UAAU;YACpB,8BAA8B;SAC/B,CAAC;IAOC,CAAC;IAEJ,QAAQ;QACN,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YACtC,QAAQ,EAAE,CAAC,EAAE,EAAE,+DAAmB,CAAC;YACnC,QAAQ,EAAE,CAAC,EAAE,EAAE,+DAAmB,CAAC;SACpC,CAAC,CAAC;IACL,CAAC;IAED,UAAU,KAAI,CAAC;IAEf,QAAQ;QACN,IAAI,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE;YACxB,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;YACxC,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;YAC3B,MAAM,QAAQ,GAAkB;gBAC9B,8BAA8B;gBAC9B,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK;aACxB,CAAC;YAEF,IAAI,CAAC,YAAY;iBACd,SAAS,CAAC,QAAQ,CAAC;iBACnB,IAAI,CAAC,oDAAI,CAAC,CAAC,CAAC,CAAC;iBACb,SAAS,CACR,CAAC,IAAS,EAAE,EAAE;gBACZ,IAAI,IAAI,IAAI,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;oBACpC,IAAI,CAAC,YAAY,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC;oBAC3C,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;oBACrC,qCAAqC;oBACrC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,mBAAmB,CAAC,CAAC;iBACxD;qBAAM;oBACL,IAAI,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;oBAE9D,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;iBACxC;YACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;gBACN,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gBACjB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACzC,CAAC,CACF;iBACA,GAAG,CAAC,GAAG,EAAE,GAAE,CAAC,CAAC,CAAC;SAClB;aAAM;YACL,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;SAC3B;IACH,CAAC;IAED,OAAO;QACL,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;IACzB,CAAC;;4EA/DU,cAAc;4GAAd,cAAc;QClB3B,yEAA8B;QAItB,oEAIE;QACJ,4DAAM;QACN,yEAAmC;QAChB,gEAAK;QAAA,4DAAK;QAC3B,oEAAG;QAAA,sGAA2C;QAAA,4DAAI;QAClD,0EAAwB;QAGuB,oEAAQ;QAAA,4DAAQ;QACzD,wEAOE;QACJ,4DAAM;QACN,0EAA6B;QACc,oEAAQ;QAAA,4DAAQ;QACzD,wEAOE;QACJ,4DAAM;QACN,2EAAoE;QAEhE,6EAAyC;QACzC,4EAAoC;QAAA,uEAAW;QAAA,4DAAO;QAExD,uEAAK;QAAY,4EAAgB;QAAA,4DAAI;QAEvC,2EAAkB;QAKd,uIAAS,cAAU,IAAC;QAEpB,mEACF;QAAA,4DAAS;QAIb,2EAA8B;QAAA,sEAAU;QAAA,yEAAY;QAAA,mEAAO;QAAA,4DAAI;;QA1CzD,2DAAuB;QAAvB,oFAAuB;QAyBX,2DAAe;QAAf,wEAAe;;;;;;;;;;;;;;;;;;;;;ACvCoB;AAIrB;;;;;AAQnC,MAAM,YAAY;IACvB,YACU,IAAgB,EAChB,WAAwB,EACxB,WAAwB;QAFxB,SAAI,GAAJ,IAAI,CAAY;QAChB,gBAAW,GAAX,WAAW,CAAa;QACxB,gBAAW,GAAX,WAAW,CAAa;IAC/B,CAAC;IAEJ,kBAAkB,CAAC,IAAS;QAC1B,IAAI,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;QAC1D,IAAI,UAAU,GAAG,IAAI,kDAAI,CACvB,IAAI,CAAC,OAAO,EACZ,IAAI,CAAC,SAAS,EACd,IAAI,CAAC,MAAM,EACX,IAAI,CAAC,QAAQ,EACb,IAAI,CAAC,GAAG,EACR,IAAI,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,CAAC,OAAO,EAAE,EACjC,IAAI,CAAC,QAAQ,CACd,CAAC;QAEF,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;QAChC,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAE9C,IAAI,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC;QACrB,YAAY,CAAC,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC;QAC7D,YAAY,CAAC,OAAO,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;QAErC,wEAAwE;QACxE,IAAI,sBAAsB,GAAG,EAAE,CAAC;QAChC,IAAI,2BAA2B,GAAG,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC;QACrE,IAAI,IAAI,CAAC,eAAe,EAAE;YACxB,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;gBACnC,IAAI,eAAe,GAAG;oBACpB,IAAI,EAAE,GAAG,CAAC,IAAI;oBACd,QAAQ,EAAE,GAAG,CAAC,QAAQ;oBACtB,WAAW,EAAE,KAAK;iBACnB,CAAC;gBACF,IACE,IAAI,CAAC,WAAW;oBAChB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,IAAI,IAAI,GAAG,CAAC,IAAI,CAAC,EACxD;oBACA,eAAe,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC;oBACtC,2BAA2B,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;iBACnD;gBACD,sBAAsB,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;YAC/C,CAAC,CAAC,CAAC;SACJ;QACD,YAAY,CAAC,OAAO,CAClB,wBAAwB,EACxB,IAAI,CAAC,SAAS,CAAC,sBAAsB,CAAC,CACvC,CAAC;QACF,YAAY,CAAC,OAAO,CAClB,6BAA6B,EAC7B,IAAI,CAAC,SAAS,CAAC,2BAA2B,CAAC,CAC5C,CAAC;QAEF,0CAA0C;QAC1C,YAAY,CAAC,OAAO,CAAC,gBAAgB,EAAE,IAAI,CAAC,CAAC;QAE7C,oCAAoC;QACpC,0BAA0B;QAC1B,0BAA0B;QAC1B,0BAA0B;QAC1B,qDAAqD;QACrD,0DAA0D;QAC1D,QAAQ;QACR,IAAI;QACJ,qBAAqB;QACrB,gDAAgD;QAChD,0DAA0D;QAC1D,QAAQ;QACR,IAAI;QAEJ,oEAAoE;QACpE,oEAAoE;QACpE,oBAAoB;QACpB,uCAAuC;QACvC,kCAAkC;QAClC,KAAK;QAEL,6EAA6E;QAC7E,wEAAwE;QAExE,mEAAmE;QAEnE,oCAAoC;QACpC,+DAA+D;QAE/D,6CAA6C;QAC7C,yCAAyC;QACzC,yCAAyC;QACzC,0CAA0C;IAC5C,CAAC;IAED,+BAA+B,CAAC,IAAS;QACvC,iCAAiC;QACjC,IAAI,aAAa,GAAG,EAAE,CAAC;QACvB,IAAI,aAAa,GAAG,EAAE,CAAC;QACvB,IAAI,IAAI,CAAC,WAAW,EAAE;YACpB,aAAa,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;gBAC5C,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,EAAE,CAAC;YACrD,CAAC,CAAC,CAAC;SACJ;QACD,IAAI,IAAI,CAAC,MAAM,EAAE;YACf,aAAa,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;gBACvC,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,EAAE,CAAC;YACrD,CAAC,CAAC,CAAC;SACJ;QAED,YAAY,CAAC,OAAO,CAAC,WAAW,EAAE,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC,CAAC;QACjE,YAAY,CAAC,OAAO,CAAC,WAAW,EAAE,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC,CAAC;QACjE,IAAI,SAAS,GAAG;YACd,eAAe,EAAE,aAAa,CAAC,CAAC,CAAC;YACjC,UAAU,EAAE,aAAa,CAAC,CAAC,CAAC;SAC7B,CAAC;QAEF,YAAY,CAAC,OAAO,CAAC,iBAAiB,EAAE,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC1E,YAAY,CAAC,OAAO,CAAC,YAAY,EAAE,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAErE,YAAY,CAAC,OAAO,CAAC,cAAc,EAAE,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC;QAEhE,IAAI,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC;QACjC,IAAI,QAAQ,EAAE;YACZ,YAAY,CAAC,OAAO,CAAC,WAAW,EAAE,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC;YAC5D,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;SAC3C;IACH,CAAC;IAED,SAAS,CAAC,IAAmB;QAC3B,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,8BAA8B,EAAE,IAAI,CAAC,CAAC;IAC9D,CAAC;IAED,gBAAgB,CAAC,QAAa,EAAE,OAAY;QAC1C,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,qCAAqC,EAAE;YAC1D,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,UAAU,EAAE,MAAM,CAAC,QAAQ,CAAC,CAAC;iBACjC,GAAG,CAAC,SAAS,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;SACnC,CAAC,CAAC;IACL,CAAC;;wEAzIU,YAAY;6GAAZ,YAAY,WAAZ,YAAY,mBAFX,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACVqD;AAKjD;AAE0C;AAEZ;AAElB;AAC8B;AAEmC;AAItC;AAEhB;;;;;;;;;;;;;;;;;;;;;;;;;;;IC0C/B,6EAQC;IADC,uSAAS,4EAAU,KAAC;IACrB,4DAAS;;;IAHR,4HAAqD;;;IA0FrD,0EAA2B;IACpB,uDAAkB;IAAA,4DAAM;;;IAAxB,0DAAkB;IAAlB,iFAAkB;;;;;IA4C3B,0EAAgE;IAG5D,0SAAS,kFAAgB,gCAAwB,KAAC;IACjD,0EAAe;IAAA,4DACjB;;;IAHC,0DAAqC;IAArC,+JAAqC;;;;IAzFrD,0EAGC;IAaW,yEAAa;IAAA,2EAAmC;IAAA,4DAAC;IAAA,4DAAO;IAE1D,4EAKE;IAFA,oZAAyB;IAH3B,4DAKE;IAGN,2EAAmD;IAG7C,0EAAa;IAAA,4EAAmC;IAAA,6DAAC;IAAA,4DAAO;IAE1D,kFASC;IALC,0ZAAyB;IAMzB,yIAIc;IAAA,4DACf;IAGL,2EAAmD;IAKzC,iFACA;IAAA,4EAAmC;IAAA,6DAAC;IAAA,4DAAO;IAE7C,6EAOE;IAJA,4ZAAgC;IAHlC,4DAOE;IAGN,2EAA6D;IAEzB,+RAAS,sEAAe,KAAC;IACvD,yEAMU;IACV,iFAOE;IALA,4SAAU,0FAAwB,KAAC;IAFrC,4DAOE;IAGN,yHAMM;IACR,4DAAM;;;IArFN,0DAIC;IAJD,kLAIC;IAQC,0DAAyB;IAAzB,uFAAyB;IAazB,0DAA8B;IAA9B,8FAA8B;IA0B1B,2DAAgC;IAAhC,8FAAgC;IAe9B,0DAAwB;IAAxB,wFAAwB;IAYA,0DAAgC;IAAhC,6IAAgC;;;IAuD5D,2EAGG;IAAA,4FAAiC;IAAA,4DACnC;;;;;IA5Bf,0EAGC;IAKgD,gFAAqB;IAAA,4DAAI;IAChE,yEAAiB;IAGV,8EACD;IAAA,4EAAmC;IAAA,6DAAC;IAAA,4DAAO;IAE7C,qFAOC;IANC,iaAA6B,4PACnB,2FAAyB,KADN;IAO/B,4DAAgB;IAChB,2HAIC;IACH,4DAAM;IACN,2EAAiD;IACN,sEAAU;IAAA,4DAAQ;IAC3D,iFAOE;IAHA,mZAAuB;IAJzB,4DAOE;IACF,8EAOC;IAFC,iXAAS,wFAA2B,KAAC;IAEtC,4DAAS;;;IA/BR,2DAA6B;IAA7B,2FAA6B;IAS5B,0DAA8C;IAA9C,wHAA8C;IAW/C,0DAAuB;IAAvB,qFAAuB;IAUvB,0DAAwB;IAAxB,wFAAwB;;;;IA0DxC,2FA8BC;IAVC,uVAAoB,uFAAqB,KAAC,2SAChB,gGAA8B,KADd,2SAG/B,uJAKd,KAR6C;IAU3C,4DAAmB;;;IA3BlB,yGAAyC;;;IA4CrC,6EAAwD;IACtD,uDACF;IAAA,4DAAS;;IADP,0DACF;IADE,uFACF;;;IAmBU,2EACG;IAAA,4DAAC;IAAA,4DACH;;;IAVH,yEAMC;IACC,uDACA;IAAA,6IAEC;IACH,4DAAK;;;;IANH,qFAAwB;IAExB,0DACA;IADA,0FACA;IAAO,0DAAgC;IAAhC,wGAAgC;;;IAT3C,qEAAI;IACF,oIAWK;IACP,4DAAK;;;IAXe,0DAAgC;IAAhC,0GAAgC;;;IAqD1C,0EAA2B;IACpB,uDAAsB;IAAA,4DAAM;;;IAA5B,0DAAsB;IAAtB,qFAAsB;;;;IA9BnC,2EAMC;IAWG,qgBAC6B,yFAAmB,OAAO,8BACtD;IASD,iKAIc;IAAA,4DACf;;;;;IA9BD,+HAEC;IAGC,0DAAyC;IAAzC,0GAAyC;;;;IA2B7C,2EAIC;IAIG,ihBAAyB,OAAO,iBAAG,+kBAMnD,iIACI,CAAC,EAAE,OAAO,WACR,OAAO,8BAIF,KAZwC;IAkBpC,4DAAgB;;;;;IAxBjB,4GAA2C;IAKzC,0DAAS;IAAT,kEAAS;;;;IAqBb,2EAGC;IAEG,8hBAAgC;IADlC,4DAKE;;;;IAPF,4GAA2C;IAGzC,0DAAgC;IAAhC,+FAAgC;;;;IAUlC,wEAEC;IACC,8EASC;IALC,goBAC+B,6HACvC,OAAO,EAAE;IAGF,4DAAS;IACZ,qEAAe;;;;IAPX,0DAAqD;IAArD,sHAAqD;;;IAV3D,2EAGC;IACC,oKAae;IACjB,4DAAM;;;;IAbc,0DAAoC;IAApC,4JAAoC;;;;IAcxD,2EAGC;IAMK,kaAAS,oGAA8B,KAAC;IAJ1C,4DASE;IACF,uEAGQ;IACV,4DAAQ;;;;;IAZJ,0DAA+B;IAA/B,gGAA+B;IAU/B,0DAAqC;IAArC,+JAAqC;;;IAvH7C,yEAQC;IACC,2IAkCM;IACN,2IA2BM;IACN,2IAUM;IACN,2IAkBM;IACN,2IAoBM;IACR,4DAAK;;;IApHH,qFAAwB;IAGrB,0DAAoC;IAApC,oGAAoC;IAmCpC,0DAAiC;IAAjC,iGAAiC;IA4BjC,0DAAgC;IAAhC,gGAAgC;IAWhC,0DAAkC;IAAlC,kGAAkC;IAmBlC,0DAA6B;IAA7B,6FAA6B;;;IAxGpC,qEAAI;IACF,oIA2HK;IACP,4DAAK;;;IA1HgC,0DAE3C;IAF2C,0GAE3C;;;IA4HM,qEAAI;IAEA,2EACF;IAAA,4DAAK;;;IAFD,0DAAqD;IAArD,kHAAqD;;;IA7KzE,0EAA8E;IAItE,0EACA;IAAA,qEAKE;IACJ,4DAAI;IAEN,0EAAoC;IAEhC,6HAES;IACT,0EAAsC;IAQlC,yIAec;IACd,yIA+Hc;IAEd,yIAMc;IAChB,4DAAU;;;IAnKc,0DAA4B;IAA5B,+FAA4B;IAMlD,0DAAoC;IAApC,oGAAoC;;;IAoKlD,2EAKC;IAEuB,sEAAsC;IAAA,4DAAM;IAElE,yEAAiB;IAEV,2EAAgB;IAAA,4DAAI;;;IAavB,2EAAgC;IAAA,yEAAc;IAAA,4DAAM;;;IAUhD,qEAGC;IACC,uDACF;IAAA,4DAAK;;;IAHH,qHAA6D;IAE7D,0DACF;IADE,0FACF;;;IANF,qEAAI;IACF,8HAKK;IACP,4DAAK;;;IALe,0DAAuB;IAAvB,gGAAuB;;;IAUvC,qEAAqC;IACnC,wEAIE;IACJ,4DAAK;;;;IAHD,0DAAkC;IAAlC,oGAAkC;;;;IAiBlC,8EAOC;IADC,yeAAS,yGAA8B,MAAM,CAAC,KAAC;IAChD,4DAAS;;IAHR,gFAAuB;;;;IAjB7B,0EAGC;IAQK,geAAS,yGAA8B,UAAU,CAAC,KAAC;IACpD,4DAAS;IACV,0JAOU;IACV,8EAMC;IADC,geAAS,yGAA8B,QAAQ,CAAC,KAAC;IAClD,4DAAS;;;IAlBR,0DAAyB;IAAzB,kFAAyB;IAKxB,0DAAa;IAAb,6EAAa;IAUd,0DAAsB;IAAtB,+EAAsB;;;IAhC9B,wEAAsE;IACpE,6IAMK;IACL,6IA8BK;IACP,qEAAe;;;IAtCR,0DAA8B;IAA9B,+FAA8B;IAQhC,0DAA8B;IAA9B,+FAA8B;;;IAVrC,qEAAI;IACF,kJAuCe;IACjB,4DAAK;;;IAxC2B,0DAAyB;IAAzB,gGAAyB;;;IA2CzD,qEAAI;IAEA,+EACF;IAAA,4DAAK;;;IAFD,0DAA4C;IAA5C,wGAA4C;;;;ADtmBnD,MAAM,mBAAmB;IAgK9B,YACU,cAA8B,EAC/B,aAA4B,EAC5B,cAA8B,EAC7B,MAAc,EACd,KAAqB,EACrB,WAAwB,EACxB,mBAAwC,EACxC,kBAAsC,EACtC,IAAgB,EAChB,mBAAwC,EACxC,EAAsB,EACtB,cAA8B;QAX9B,mBAAc,GAAd,cAAc,CAAgB;QAC/B,kBAAa,GAAb,aAAa,CAAe;QAC5B,mBAAc,GAAd,cAAc,CAAgB;QAC7B,WAAM,GAAN,MAAM,CAAQ;QACd,UAAK,GAAL,KAAK,CAAgB;QACrB,gBAAW,GAAX,WAAW,CAAa;QACxB,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,uBAAkB,GAAlB,kBAAkB,CAAoB;QACtC,SAAI,GAAJ,IAAI,CAAY;QAChB,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,OAAE,GAAF,EAAE,CAAoB;QACtB,mBAAc,GAAd,cAAc,CAAgB;QArKxC,iBAAY,GAAG,sBAAsB,CAAC;QAEtC,UAAK,GAAG,IAAI,IAAI,EAAE,CAAC;QAEnB,WAAM,GAAG,EAAE,CAAC;QACZ,cAAS,GAAG,EAAE,CAAC;QACf,SAAI,GAAG,KAAK,CAAC;QACb,aAAQ,GAAG,0BAA0B,CAAC;QAEtC,gBAAW,GAAY,KAAK,CAAC;QAC7B,eAAU,GAAQ,EAAE,CAAC;QAGrB,6BAAwB,GAAU,EAAE,CAAC;QACrC,wBAAmB,GAAU,EAAE,CAAC;QAEhC,yBAAoB,GAAY,KAAK,CAAC;QACtC,gBAAW,GAAY,KAAK,CAAC;QAE7B,gBAAW,GAAG,SAAS,CAAC;QACxB,uBAAkB,GAAG,EAAE,CAAC;QACxB,gBAAW,GAAG,EAAE,CAAC;QACjB,gBAAW,GAAG,EAAE,CAAC;QACjB,iBAAY,GAAG,EAAE,CAAC;QAClB,cAAS,GAAG,EAAE,CAAC;QACf,eAAU,GAAG,GAAG,CAAC;QACjB,kCAA6B,GAAG,GAAG,CAAC;QACpC,gCAA2B,GAAG,GAAG,CAAC;QAElC,oBAAe,GAAY,KAAK,CAAC;QACjC,oBAAe,GAAa,EAAE,CAAC;QAC/B,qBAAgB,GAAQ,EAAE,CAAC;QAC3B,yBAAoB,GAAQ;YAC1B;gBACE,KAAK,EAAE,mBAAmB;gBAC1B,MAAM,EAAE,YAAY;aACrB;YACD;gBACE,KAAK,EAAE,QAAQ;gBACf,MAAM,EAAE,QAAQ;aACjB;SACF,CAAC;QAEF,2BAAsB,GAAY,KAAK,CAAC;QAExC,+BAA0B,GAAQ,IAAI,CAAC;QACvC,+BAA0B,GAAQ,IAAI,CAAC;QACvC,eAAU,GAAG,MAAM,CAAC,IAAI,CAAC;QACzB,eAAU,GAAG,KAAK,CAAC;QAEnB,uBAAkB,GAAQ,EAAE,CAAC;QAC7B,4BAAuB,GAAQ,EAAE,CAAC;QAClC,wBAAmB,GAAG,EAAE,CAAC;QACzB,yBAAoB,GAAQ,EAAE,CAAC;QAC/B,0BAAqB,GAAQ,EAAE,CAAC;QAChC,2BAAsB,GAAQ,EAAE,CAAC;QACjC,uBAAkB,GAAQ,EAAE,IAAI,EAAE,YAAY,EAAE,IAAI,EAAE,kBAAkB,EAAE,CAAC;QAC3E,gCAA2B,GAAQ,EAAE,CAAC;QACtC,0BAAqB,GAAG,EAAE,CAAC;QAC3B,6BAAwB,GAAG,EAAE,CAAC;QAC9B,4BAAuB,GAAG,EAAE,CAAC;QAE7B,iBAAY,GAAU,EAAE,CAAC;QACzB,qBAAgB,GAAU,EAAE,CAAC;QAE7B,gCAA2B,GAAG,IAAI,CAAC;QAEnC,iBAAY,GAAY,KAAK,CAAC;QAC9B,2BAAsB,GAAY,KAAK,CAAC;QAExC,0BAAqB,GAAU,EAAE,CAAC;QAClC,sBAAiB,GAAG,KAAK,CAAC;QAC1B,kCAA6B,GAAU,EAAE,CAAC;QAC1C,gBAAW,GAAU;YACnB,IAAI;YACJ,0CAA0C;YAC1C,0CAA0C;YAC1C,uBAAuB;YACvB,mBAAmB;YACnB,gBAAgB;YAChB,KAAK;YACL,IAAI;YACJ,wCAAwC;YACxC,wCAAwC;YACxC,uBAAuB;YACvB,mBAAmB;YACnB,gBAAgB;YAChB,KAAK;YACL;gBACE,KAAK,EAAE,WAAW;gBAClB,MAAM,EAAE,WAAW;gBACnB,SAAS,EAAE,UAAU;gBACrB,MAAM,EAAE,KAAK;gBACb,IAAI,EAAE,IAAI;aACX;YACD;gBACE,KAAK,EAAE,YAAY;gBACnB,MAAM,EAAE,aAAa;gBACrB,SAAS,EAAE,UAAU;gBACrB,MAAM,EAAE,KAAK;gBACb,IAAI,EAAE,0CAA0C;aACjD;YACD;gBACE,KAAK,EAAE,aAAa;gBACpB,MAAM,EAAE,cAAc;gBACtB,SAAS,EAAE,UAAU;gBACrB,MAAM,EAAE,KAAK;gBACb,IAAI,EAAE,IAAI;aACX;YACD;gBACE,KAAK,EAAE,cAAc;gBACrB,MAAM,EAAE,eAAe;gBACvB,SAAS,EAAE,OAAO;gBAClB,MAAM,EAAE,KAAK;gBACb,IAAI,EAAE,IAAI;aACX;YACD;gBACE,KAAK,EAAE,UAAU;gBACjB,MAAM,EAAE,QAAQ;gBAChB,MAAM,EAAE,KAAK;gBACb,IAAI,EAAE,IAAI;aACX;SACF,CAAC;QACF,+BAA0B,GAAU,EAAE,CAAC;QAEvC,oBAAe,GAAU,EAAE,CAAC;QAC5B,qBAAgB,GAAU,EAAE,CAAC;QAC7B,sBAAiB,GAAU,EAAE,CAAC;QAC9B,uBAAkB,GAAU,EAAE,CAAC;QAE/B,4BAAuB,GAAQ,EAAE,CAAC;QAElC,wBAAmB,GAAQ,EAAE,CAAC;QAE9B,iBAAY,GAAY,KAAK,CAAC;QAC9B,eAAU,GAAY,KAAK,CAAC;QAC5B,oBAAe,GAAG,IAAI,CAAC;QACvB,cAAS,GAAG,EAAE,CAAC;QAIf,mBAAc,GAAY,KAAK,CAAC;QAEhC,qBAAgB,GAAG,IAAI,CAAC;QAExB,yBAAoB,GAAG,KAAK,CAAC;QAE7B,eAAU,GAAG,KAAK,CAAC;QAEnB,qBAAgB,GAAG,EAAE,CAAC;QAEtB,oBAAe,GAAG,SAAS,CAAC;IAezB,CAAC;IAEJ,QAAQ;QACN,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;QAClB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;YACjC,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAC1B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;QAErE,MAAM,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,MAAM,CAAC;QACnD,IAAI,MAAM,IAAI,MAAM,CAAC,EAAE,EAAE;YACvB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CACjE,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,CAAC,CACnE,CAAC;YACF,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,EAAE,CAAC;SAC5B;QAED,EAAE;QACF,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC,KAAK,CACxC,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAClC,CAAC;QACF,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;QAEzE,IAAI,YAAY,CAAC,OAAO,CAAC,iBAAiB,CAAC,EAAE;YAC3C,IAAI,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC,CAAC;YACzE,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;YAC5B,IAAI,cAAc,EAAE;gBAClB,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,cAAc,CAAC,CAAC;aACzC;SACF;QACD,IAAI,YAAY,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE;YACtC,IAAI,SAAS,GAAG,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAC7C,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,IAAI,kBAAkB,CACxC,CAAC,CAAC,CAAC,CAAC;YACL,IAAI,SAAS,EAAE;gBACb,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;gBACtC,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC;aAC1B;SACF;QAED,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,IAAI,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE;YAC/C,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;YACjC,IAAI,CAAC,eAAe,EAAE,CAAC;SACxB;aAAM;YACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;SAClE;QACD,EAAE;QAEF,+CAA+C;QAE/C,IAAI,IAAI,CAAC,IAAI,IAAI,KAAK,EAAE;YACtB,IAAI,CAAC,eAAe,GAAG,CAAC,CAAC;YACzB,IAAI,CAAC,iBAAiB,CAAC;gBACrB,MAAM,EAAE;oBACN,KAAK,EAAE,CAAC;iBACT;aACF,CAAC,CAAC;SACJ;QAED,IAAI,CAAC,cAAc,CAAC,kBAAkB,EAAE,CAAC,SAAS,CAChD,CAAC,GAAG,EAAE,EAAE;YACN,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,0CAA0C;gBAC1C,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;iBAClE;aACF;iBAAM;gBACL,0CAA0C;gBAC1C,IAAI,CAAC,kBAAkB,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,qBAAqB,CAAC,CAAC,GAAG,CAC9D,CAAC,GAAG,EAAE,EAAE;oBACN,OAAO,EAAE,IAAI,EAAE,GAAG,CAAC,UAAU,CAAC,EAAE,IAAI,EAAE,GAAG,CAAC,UAAU,CAAC,EAAE,CAAC;gBAC1D,CAAC,CACF,CAAC;gBACF,OAAO,CAAC,GAAG,CAAC,SAAS,EAAE,IAAI,CAAC,kBAAkB,CAAC,CAAC;aACjD;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,0CAA0C;YAC1C,OAAO,CAAC,GAAG,CAAC,yBAAyB,EAAE,GAAG,CAAC,CAAC;YAC5C,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;QACnE,CAAC,CACF,CAAC;QAEF,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,CAAC;QAChD,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QACvC,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,UAAU,EAAE;YAC9D,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;SACzB;IACH,CAAC;IACD,iBAAiB,CAAC,CAAC;QACjB,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QACzC,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC;QAClC,IACE,CAAC,CAAC,MAAM,CAAC,KAAK;YACd,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC;YACtB,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC;YAC3B,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,EAC5B;YACA,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;YACjC,IAAI,CAAC,cAAc,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,SAAS,CACpE,CAAC,GAAG,EAAE,EAAE;gBACN,IACE,GAAG,CAAC,QAAQ,CAAC;oBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;oBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;oBACA,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;oBACvC,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;wBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;qBACjD;yBAAM;wBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;qBAClE;iBACF;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;oBACvC,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC;oBAC1B,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC;oBAE7B,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;iBACzC;YACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;gBACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,OAAO,CAAC,GAAG,CAAC,yBAAyB,EAAE,GAAG,CAAC,CAAC;gBAC5C,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;YACnE,CAAC,CACF,CAAC;SACH;aAAM;YACL,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;YAClC,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;SACrB;QACD,6BAA6B;IAC/B,CAAC;IAED,kBAAkB;QAChB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YACnC,YAAY,EAAE,IAAI,8DAAkB,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAE,EAAE;gBACnE,+DAAmB;aACpB,CAAC;YACF,OAAO,EAAE,IAAI,8DAAkB,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,EAAE;gBAC7D,+DAAmB;aACpB,CAAC;SACH,CAAC,CAAC;IACL,CAAC;IAED,IAAI,OAAO;QACT,OAAO,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;IAClD,CAAC;IACD,IAAI,UAAU;QACZ,OAAO,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;IAC7C,CAAC;IAED,gBAAgB,CAAC,YAAY;QAC3B,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;QAChC,yBAAyB;QACzB,gCAAgC;QAChC,wCAAwC;QACxC,IAAI,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;QAChD,MAAM,CAAC,KAAK,CAAC,QAAQ,GAAG,OAAO,CAAC;QAChC,MAAM,CAAC,KAAK,CAAC,IAAI,GAAG,GAAG,CAAC;QACxB,MAAM,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC;QACvB,MAAM,CAAC,KAAK,CAAC,OAAO,GAAG,GAAG,CAAC;QAC3B,MAAM,CAAC,KAAK,GAAG,YAAY,CAAC,KAAK,CAAC;QAClC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;QAClC,MAAM,CAAC,KAAK,EAAE,CAAC;QACf,MAAM,CAAC,MAAM,EAAE,CAAC;QAChB,QAAQ,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;QAC7B,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;IACpC,CAAC;IAED,sBAAsB;QACpB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAC3B,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;IAClD,CAAC;IAED,gBAAgB,CAAC,CAAM;QACrB,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;QAC/B,IACE,CAAC,CACC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,IAAI,IAAI,YAAY;YACvC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,IAAI,IAAI,WAAW;YACtC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,IAAI,IAAI,eAAe,CAC3C,EACD;YACA,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,mCAAmC,CAAC,CAAC;SACxE;aAAM,IAAI,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,IAAI,GAAG,OAAO,EAAE;YAC5C,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,mCAAmC,CAAC,CAAC;SACxE;aAAM;YACL,IAAI,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE;gBACrB,IAAI,IAAI,CAAC,gBAAgB,IAAI,IAAI,EAAE;oBACjC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,mBAAmB,CAAC;wBAC/D,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC;oBAC1B,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,YAAY,CAAC;wBACxD,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;oBACpB,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,WAAW,CAAC,GAAG,MAAM,CAAC;oBACnE,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,gBAAgB,CAAC,CAAC;iBACrD;qBAAM;oBACL,IACE,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAC1B,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,QAAQ,CACxC,CAAC,MAAM,IAAI,CAAC,EACb;wBACA,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,kCAAkC,CACnC,CAAC;qBACH;yBAAM;wBACL,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC;4BACzB,EAAE,EAAE,IAAI;4BACR,iBAAiB,EAAE,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,IAAI;4BAC1C,SAAS,EAAE,IAAI;4BACf,UAAU,EAAE,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;4BAC7B,SAAS,EAAE,KAAK;4BAChB,WAAW,EAAE,IAAI,CAAC,WAAW;yBAC9B,CAAC,CAAC;wBACH,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,oCAAoC,CACrC,CAAC;qBACH;iBACF;aACF;SACF;QAED,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;QAC7B,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;IACrC,CAAC;IAED,aAAa,CAAC,QAAa,EAAE,SAAc,EAAE,SAAc;QACzD,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,SAAS,EAAE,SAAS,CAAC,CAAC;QAC5C,IAAI,SAAS,IAAI,QAAQ,EAAE;YACzB,IAAI,QAAQ,EAAE,EAAE,EAAE;gBAChB,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,CAAC,WAAW,CAAC,GAAG,QAAQ,CAAC;aAC1D;iBAAM;gBACL,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;aAC5C;SACF;aAAM,IAAI,SAAS,IAAI,UAAU,EAAE;YAClC,IAAI,QAAQ,EAAE,EAAE,EAAE;gBAChB,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;aACvC;iBAAM;gBACL,MAAM,IAAI,GAAG,QAAQ,EAAE,UAAU,CAAC;gBAClC,IAAI,CAAC,WAAW,EAAE,CAAC,IAAI,CAAC,CAAC,WAAW,EAAE,EAAE;oBACtC,MAAM,IAAI,GAAG,IAAI,IAAI,CAAC,CAAC,IAAI,UAAU,CAAC,WAAW,CAAC,CAAC,EAAE;wBACnD,IAAI,EAAE,IAAI,CAAC,IAAI;qBAChB,CAAC,CAAC;oBACH,MAAM,OAAO,GAAG,MAAM,CAAC,GAAG,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;oBAEjD,IAAI,CAAC,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;oBACpC,CAAC,CAAC,QAAQ,GAAG,IAAI,EAAE,IAAI,CAAC;oBACxB,CAAC,CAAC,IAAI,GAAG,OAAO,CAAC;oBACjB,CAAC,CAAC,KAAK,EAAE,CAAC;oBACV,MAAM,CAAC,GAAG,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;gBACtC,CAAC,CAAC,CAAC;aACJ;SACF;aAAM,IAAI,SAAS,IAAI,MAAM,EAAE;YAC9B,IAAI,CAAC,gBAAgB,GAAG,SAAS,CAAC;YAClC,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;SACtC;IACH,CAAC;IAED,IAAI,kBAAkB;QACpB,OAAO,IAAI,CAAC,gBAAgB,CAAC,MAAM,CACjC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,QAAQ,CACxC,CAAC;IACJ,CAAC;IAED,WAAW,CAAC,UAAe;QACzB,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAC1B,sCAAsC,UAAU,EAAE,EAClD;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC;YACrD,OAAO,EAAE,UAAU;YACnB,YAAY,EAAE,MAAM;SACrB,CACF,CAAC;QAEF,QAAQ,CAAC,SAAS,CAChB,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,IAAI,GAAS,GAAG,CAAC,IAAY,CAAC;YAClC,IAAI,CAAC,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;YACpC,CAAC,CAAC,QAAQ,GAAG,GAAG,CAAC,GAAG,IAAI,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC;YACjD,MAAM,OAAO,GAAG,MAAM,CAAC,GAAG,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;YACjD,CAAC,CAAC,IAAI,GAAG,OAAO,CAAC;YACjB,CAAC,CAAC,KAAK,EAAE,CAAC;YACV,MAAM,CAAC,GAAG,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;YACpC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,8BAA8B,CAAC,CAAC;QACpE,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,GAAG,CAAC,MAAM,IAAI,GAAG,EAAE;gBACrB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,gBAAgB,CAAC,CAAC;aACrD;iBAAM;gBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,0DAA0D,CAC3D,CAAC;aACH;YACD,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,CACF,CAAC;IACJ,CAAC;IAED,gBAAgB;QACd,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QACzB,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;QAClC,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;QACxB,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC;IAC3B,CAAC;IAED,eAAe;QACb,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;QACrC,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QACvB,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;QAC3B,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;QACjC,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QACzB,IAAI,CAAC,qBAAqB,EAAE,CAAC;QAC7B,IAAI,CAAC,eAAe,EAAE,CAAC;QACvB,eAAe;QACf,mCAAmC;QACnC,qCAAqC;QACrC,KAAK;QACL,gCAAgC;QAChC,qCAAqC;QACrC,6BAA6B;QAC7B,+CAA+C;IACjD,CAAC;IAED,2BAA2B,CAAC,WAAgB,EAAE,SAAc;QAC1D,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACpB,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;QACrC,IAAI,CAAC,6BAA6B,GAAG,EAAE,CAAC;QAExC,IAAI,CAAC,6BAA6B,GAAG,IAAI,CAAC,KAAK,CAC7C,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CACjC,CAAC;QAEF,IAAI,CAAC,cAAc;aAChB,wBAAwB,CACvB,WAAW,EACX,SAAS,EACT,IAAI,CAAC,MAAM,EACX,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EACvB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,EAC1B,IAAI,CAAC,QAAQ,CACd;aACA,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;gBACzB,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;iBAClE;aACF;iBAAM;gBACL,IAAI,GAAG,CAAC,MAAM,CAAC,EAAE;oBACf,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;oBAExB,IAAI,CAAC,gBAAgB;wBACnB,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;oBAE9C,IAAI,CAAC,YAAY;wBACf,IAAI,CAAC,kBAAkB,CAAC,uBAAuB,CAC7C,IAAI,CAAC,gBAAgB,EACrB,IAAI,CAAC,kBAAkB,EACvB,IAAI,CAAC,gBAAgB,CACtB,CAAC;oBAEJ,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC,aAAa,CAAC,CAAC;oBACtC,IAAI,GAAG,CAAC,oBAAoB,CAAC,EAAE;wBAC7B,IAAI,CAAC,kBAAkB,GAAG,GAAG,CAAC,oBAAoB,CAAC,CAAC;qBACrD;oBACD,4CAA4C;oBAC5C,qBAAqB;oBACrB,yCAAyC;oBACzC,wBAAwB;oBACxB,oBAAoB;oBACpB,mBAAmB;oBACnB,qBAAqB;oBACrB,YAAY;oBACZ,yDAAyD;oBACzD,6DAA6D;oBAC7D,IAAI;oBACJ,0CAA0C;oBAC1C,qBAAqB;oBACrB,uCAAuC;oBACvC,wBAAwB;oBACxB,oBAAoB;oBACpB,mBAAmB;oBACnB,qBAAqB;oBACrB,YAAY;oBACZ,uDAAuD;oBACvD,2DAA2D;oBAC3D,IAAI;oBACJ,IAAI,GAAG,CAAC,WAAW,CAAC,EAAE;wBACpB,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC,WAAW,CAAC,CAAC;qBACnC;oBACD,IAAI,GAAG,CAAC,iBAAiB,CAAC,EAAE;wBAC1B,IAAI,CAAC,eAAe,GAAG,GAAG,CAAC,iBAAiB,CAAC,CAAC;wBAC9C,IACE,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC;4BACjC,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE,EAClC;4BACA,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;yBAClC;6BAAM;4BACL,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;yBACnC;qBACF;oBACD,IAAI,GAAG,CAAC,aAAa,CAAC,EAAE;wBACtB,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC,aAAa,CAAC,CAAC;qBACvC;oBACD,IAAI,CAAC,sBAAsB,GAAG,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;oBACrD,IAAI,CAAC,0BAA0B,GAAG,GAAG,CAAC,aAAa,CAAC,CAAC;oBAErD,IAAI,CAAC,iBAAiB,GAAG,GAAG,CAAC,mBAAmB,CAAC,CAAC,GAAG,CACnD,CAAC,MAAM,EAAE,EAAE;wBACT,OAAO,EAAE,IAAI,EAAE,MAAM,CAAC,IAAI,EAAE,QAAQ,EAAE,MAAM,CAAC,QAAQ,EAAE,CAAC;oBAC1D,CAAC,CACF,CAAC;oBACF,IAAI,CAAC,eAAe,GAAG,GAAG,CAAC,iBAAiB,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,EAAE;wBAC3D,OAAO,EAAE,IAAI,EAAE,MAAM,CAAC,IAAI,EAAE,QAAQ,EAAE,MAAM,CAAC,QAAQ,EAAE,CAAC;oBAC1D,CAAC,CAAC,CAAC;oBAEH,IAAI,CAAC,gBAAgB,GAAG,GAAG,CAAC,kBAAkB,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,EAAE;wBAC7D,OAAO,EAAE,IAAI,EAAE,MAAM,CAAC,IAAI,EAAE,QAAQ,EAAE,MAAM,CAAC,QAAQ,EAAE,CAAC;oBAC1D,CAAC,CAAC,CAAC;oBAEH,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;oBAC3B,IACE,GAAG,CAAC,+BAA+B,CAAC;wBACpC,GAAG,CAAC,+BAA+B,CAAC,CAAC,MAAM,EAC3C;wBACA,GAAG,CAAC,+BAA+B,CAAC,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;4BACvD,IAAI,eAAe,GAAG,EAAE,CAAC;4BACzB,eAAe,CAAC,IAAI,CAAC,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC;4BACtC,eAAe,CAAC,mBAAmB,CAAC;gCAClC,OAAO,CAAC,mBAAmB,CAAC,CAAC;4BAC/B,eAAe,CAAC,WAAW,CAAC,GAAG,OAAO,CAAC,WAAW,CAAC,CAAC;4BACpD,eAAe,CAAC,YAAY,CAAC,GAAG,EAAE,CAAC;4BACnC,eAAe,CAAC,WAAW,CAAC,GAAG,OAAO,CAAC,WAAW,CAAC,CAAC;4BACpD,eAAe,CAAC,aAAa,CAAC,GAAG,OAAO,CAAC,aAAa,CAAC,CAAC;4BACxD,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;wBAC9C,CAAC,CAAC,CAAC;qBACJ;oBAED,IAAI,cAAc,GAAG,KAAK,CAAC;oBAC3B,IAAI,eAAe,GAAG,KAAK,CAAC;oBAE5B,IAAI,GAAG,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;wBAC5C,cAAc,GAAG,IAAI,CAAC;qBACvB;oBAED,IAAI,GAAG,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE;wBACpD,eAAe,GAAG,IAAI,CAAC;qBACxB;oBAED,IAAI,cAAc,IAAI,eAAe,EAAE;wBACrC,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;4BAC/C,KAAK,EAAE,UAAU;4BACjB,MAAM,EAAE,WAAW;4BACnB,SAAS,EAAE,MAAM;yBAClB,CAAC,CAAC;wBACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;4BAC/C,KAAK,EAAE,QAAQ;4BACf,MAAM,EAAE,SAAS;4BACjB,SAAS,EAAE,MAAM;yBAClB,CAAC,CAAC;wBACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;4BAC/C,KAAK,EAAE,eAAe;4BACtB,MAAM,EAAE,aAAa;4BACrB,SAAS,EAAE,MAAM;yBAClB,CAAC,CAAC;wBACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;4BAC/C,KAAK,EAAE,aAAa;4BACpB,MAAM,EAAE,WAAW;4BACnB,SAAS,EAAE,MAAM;yBAClB,CAAC,CAAC;wBAEH,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;qBACtC;yBAAM;wBACL,IAAI,cAAc,EAAE;4BAClB,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;gCAC/C,KAAK,EAAE,eAAe;gCACtB,MAAM,EAAE,aAAa;gCACrB,SAAS,EAAE,MAAM;6BAClB,CAAC,CAAC;4BACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;gCAC/C,KAAK,EAAE,aAAa;gCACpB,MAAM,EAAE,WAAW;gCACnB,SAAS,EAAE,MAAM;6BAClB,CAAC,CAAC;4BACH,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;yBACtC;6BAAM,IAAI,eAAe,EAAE;4BAC1B,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;gCAC/C,KAAK,EAAE,UAAU;gCACjB,MAAM,EAAE,WAAW;gCACnB,SAAS,EAAE,MAAM;6BAClB,CAAC,CAAC;4BACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;gCAC/C,KAAK,EAAE,QAAQ;gCACf,MAAM,EAAE,SAAS;gCACjB,SAAS,EAAE,MAAM;6BAClB,CAAC,CAAC;4BACH,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;yBACtC;6BAAM,IAAI,CAAC,cAAc,IAAI,CAAC,eAAe,EAAE;4BAC9C,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;yBACtC;qBACF;oBACD,IAAI,CAAC,0BAA0B,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC;oBAC9C,IAAI,CAAC,0BAA0B,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;wBAC/C,IAAI,QAAQ,GAAG,IAAI,CAAC,kBAAkB,CAAC,CAAC;wBAExC,IAAI,qBAAqB,GAAG,IAAI,CAAC;wBACjC,IAAI,mBAAmB,GAAG,IAAI,CAAC;wBAC/B,IAAI,qBAAqB,GAAG,IAAI,CAAC;wBAEjC,IAAI,QAAQ,IAAI,QAAQ,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE;4BACzC,IAAI,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,MAAM,IAAI,CAAC,EAAE;gCACtC,qBAAqB,GAAG,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;gCAClD,mBAAmB,GAAG,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;gCAChD,qBAAqB,GAAG,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;gCAElD,IAAI,mBAAmB,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE;oCACzC,IAAI,CAAC,eAAe,CAAC,GAAG,mBAAmB;yCACxC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;yCACd,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;oCACjB,IAAI,CAAC,aAAa,CAAC,GAAG,mBAAmB;yCACtC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;yCACd,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;iCAClB;gCAED,IAAI,qBAAqB,CAAC,QAAQ,CAAC,eAAe,CAAC,EAAE;oCACnD,IAAI,CAAC,UAAU,CAAC,GAAG,qBAAqB;yCACrC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;yCACd,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;oCACjB,IAAI,CAAC,QAAQ,CAAC,GAAG,qBAAqB;yCACnC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;yCACd,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;iCAClB;6BACF;iCAAM,IAAI,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,MAAM,IAAI,CAAC,EAAE;gCAC7C,qBAAqB,GAAG,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;gCAClD,mBAAmB,GAAG,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;gCAEhD,IAAI,mBAAmB,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE;oCACzC,IAAI,CAAC,eAAe,CAAC,GAAG,mBAAmB;yCACxC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;yCACd,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;oCACjB,IAAI,CAAC,aAAa,CAAC,GAAG,mBAAmB;yCACtC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;yCACd,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;iCAClB;qCAAM,IAAI,mBAAmB,CAAC,QAAQ,CAAC,eAAe,CAAC,EAAE;oCACxD,IAAI,CAAC,UAAU,CAAC,GAAG,mBAAmB;yCACnC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;yCACd,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;oCACjB,IAAI,CAAC,QAAQ,CAAC,GAAG,mBAAmB;yCACjC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;yCACd,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;iCAClB;6BACF;yBACF;6BAAM;yBACN;oBACH,CAAC,CAAC,CAAC;oBAEH,iBAAiB;oBACjB,iDAAiD;oBACjD,mCAAmC;oBACnC,IAAI;oBAEJ,iCAAiC;oBACjC,mDAAmD;oBACnD,WAAW;oBACX,yDAAyD;oBACzD,yDAAyD;oBACzD,4BAA4B;oBAC5B,8BAA8B;oBAC9B,2BAA2B;oBAC3B,UAAU;oBACV,qDAAqD;oBAErD,0DAA0D;oBAC1D,8CAA8C;oBAC9C,qBAAqB;oBACrB,qDAAqD;oBACrD,wCAAwC;oBACxC,qBAAqB;oBACrB,4DAA4D;oBAC5D,wCAAwC;oBACxC,qBAAqB;oBACrB,UAAU;oBACV,UAAU;oBACV,0DAA0D;oBAC1D,yDAAyD;oBACzD,gCAAgC;oBAChC,+BAA+B;oBAC/B,2BAA2B;oBAC3B,UAAU;oBACV,yDAAyD;oBACzD,8BAA8B;oBAC9B,6BAA6B;oBAC7B,2BAA2B;oBAC3B,UAAU;oBACV,qDAAqD;oBACrD,0DAA0D;oBAC1D,0DAA0D;oBAC1D,8CAA8C;oBAC9C,qBAAqB;oBACrB,0DAA0D;oBAC1D,qEAAqE;oBACrE,oDAAoD;oBACpD,wDAAwD;oBACxD,qEAAqE;oBACrE,oDAAoD;oBACpD,6DAA6D;oBAC7D,wCAAwC;oBACxC,qBAAqB;oBACrB,UAAU;oBACV,UAAU;oBACV,MAAM;oBACN,IAAI;oBACJ,sBAAsB;oBAEtB,IAAI,CAAC,0BAA0B,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;wBAC/C,OAAO,IAAI,CAAC,EAAE,CAAC;wBACf,wCAAwC;wBACxC,wCAAwC;wBACxC,sCAAsC;wBACtC,sCAAsC;wBACtC,IAAI,CAAC,aAAa,CAAC,GAAG,GAAG,CAAC,aAAa,CAAC,CAAC;wBACzC,IAAI,CAAC,mBAAmB,CAAC,GAAG,IAAI,CAAC,iBAAiB,CAAC;wBACnD,IAAI,CAAC,iBAAiB,CAAC,GAAG,IAAI,CAAC,eAAe,CAAC;wBAC/C,IAAI,CAAC,kBAAkB,CAAC,GAAG,IAAI,CAAC,gBAAgB,CAAC;wBACjD,IAAI,CAAC,qBAAqB,CAAC,GAAG,KAAK,CAAC;wBACpC,IAAI,CAAC,QAAQ,CAAC,GAAG,QAAQ,CAAC;oBAC5B,CAAC,CAAC,CAAC;oBACH,6BAA6B;oBAE7B,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,IAAI,CAAC,0BAA0B,CAAC,CAAC;oBACnD,yDAAyD;oBAEzD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,2CAA2C,CAC5C,CAAC;oBACF,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;iBACxC;qBAAM;oBACL,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;oBACrC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;oBACvC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;oBACvC,IAAI,CAAC,6BAA6B,GAAG,EAAE,CAAC;oBACxC,IAAI,GAAG,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;wBACrB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;qBAC/C;yBAAM;wBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,gDAAgD,CACjD,CAAC;qBACH;oBACD,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;iBACxC;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;YACzB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,OAAO,CAAC,GAAG,CAAC,+BAA+B,EAAE,GAAG,CAAC,CAAC;YAClD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,8CAA8C,CAC/C,CAAC;QACJ,CAAC,CACF,CAAC;IACN,CAAC;IAED,QAAQ,CAAC,IAAS;QAChB,IAAI,CAAC,wBAAwB,EAAE,CAAC;IAClC,CAAC;IACD,wBAAwB;QACtB,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,IAAI,SAAS,GAAG,EAAE,CAAC;QACnB,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,EAAE;YAC5B,SAAS,GAAG,QAAQ,CAAC;YACrB,IAAI,GAAG,UAAU,CAAC;SACnB;aAAM;YACL,SAAS,GAAG,UAAU,CAAC;YACvB,IAAI,GAAG,YAAY,CAAC;SACrB;QACD,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;QAChD,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,WAAW,GAAG,EAAE,CAAC;QACrB,WAAW;YACT,mDAAmD;gBACnD,iBAAiB;gBACjB,IAAI;gBACJ,wBAAwB,IAAI,CAAC,WAAW,GAAG,CAAC;QAE9C,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;YAC/B,OAAO,EAAE,WAAW;YACpB,GAAG,EAAE,6BAA6B;YAClC,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;gBAC7B,IAAI,CAAC,mBAAmB,EAAE,CAAC;YAC7B,CAAC;YACD,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;gBAC/B,IAAI,CAAC,mBAAmB,EAAE,CAAC;YAC7B,CAAC;SACF,CAAC,CAAC;IACL,CAAC;IACD,YAAY,CAAC,SAAc;QACzB,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QAExC,MAAM,QAAQ,GAAG,IAAI,QAAQ,EAAE,CAAC;QAChC,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;QACvC,QAAQ,CAAC,MAAM,CAAC,aAAa,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QACjD,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;QACrC,QAAQ,CAAC,MAAM,CAAC,cAAc,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QACzD,QAAQ,CAAC,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC1D,QAAQ,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;QACvC,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,CAAC;IACrC,CAAC;IAED,mBAAmB,CAAC,QAAa;QAC/B,IAAI,CAAC,cAAc,CAAC,mBAAmB,CAAC,QAAQ,CAAC,CAAC,SAAS,CACzD,CAAC,GAAG,EAAE,EAAE;YACN,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;iBAClE;aACF;iBAAM;gBACL,IAAI,OAAO,GAAG,EAAE,CAAC;gBACjB,IAAI,GAAG,CAAC,OAAO,CAAC,IAAI,MAAM,EAAE;oBAC1B,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;oBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;iBAC5C;qBAAM;oBACL,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;wBACd,OAAO,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC;wBACrB,IAAI,CAAC,WAAW,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC;wBACrC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;qBAC5C;yBAAM;wBACL,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;wBACvC,OAAO,GAAG,gDAAgD,CAAC;wBAC3D,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;qBAC5C;iBACF;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,OAAO,CAAC,GAAG,CAAC,gCAAgC,EAAE,GAAG,CAAC,CAAC;YACnD,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,CACF,CAAC;IACJ,CAAC;IAED,qBAAqB;QACnB,IAAI,IAAI,CAAC,IAAI,IAAI,KAAK,EAAE;YACtB,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;SACzC;QACD,8CAAQ,CAAC;YACP,kBAAkB,EAAE,IAAI,CAAC,cAAc,CAAC,qBAAqB,CAC3D,IAAI,CAAC,MAAM,EACX,IAAI,CAAC,QAAQ,EACb,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EACvB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAC3B;YACD,wBAAwB,EACtB,IAAI,CAAC,cAAc,CAAC,gCAAgC,CAClD,IAAI,CAAC,MAAM,EACX,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EACvB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,EAC1B,IAAI,CAAC,QAAQ,CACd;SACJ,CAAC;aACC,IAAI,CACH,oDAAI,CAAC,CAAC,CAAC,EACP,oDAAG,CAAC,CAAC,QAAQ,EAAE,EAAE;YACf,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAC;YACnD,IAAI,kBAAkB,GAAG,gEAAY,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAC;YACnE,OAAO,kBAAkB,CAAC,cAAc,CAAC,CAAC;YAC1C,IAAI,CAAC,gBAAgB,GAAG,QAAQ,CAAC,kBAAkB,CAAC,cAAc,CAAC,CAAC;YACpE,MAAM,kBAAkB,GAAG,kBAAkB,CAAC;YAC9C,IAAI,CAAC,uBAAuB,GAAG,QAAQ,CAAC,wBAAwB,CAAC;YACjE,IAAI,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,YAAY,EAAE;gBAClD,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,YAAY,CAAC,qBAAqB,CAAC,OAAO,CAC1E,CAAC,IAAI,EAAE,EAAE;oBACP,IAAI,IAAI,CAAC,cAAc,CAAC,IAAI,MAAM,EAAE;wBAClC,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC;qBACrD;oBACD,IAAI,IAAI,CAAC,cAAc,CAAC,IAAI,MAAM,EAAE;wBAClC,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC;qBACrD;gBACH,CAAC,CACF,CAAC;gBAEF,IAAI,IAAI,CAAC,IAAI,IAAI,KAAK,EAAE;oBACtB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,WAAW,CAAC;oBACjE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC;oBAClC,IAAI,CAAC,kBAAkB;wBACrB,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,kBAAkB,CAAC;iBACxD;gBAED,IAAI,CAAC,qBAAqB,GAAG;oBAC3B,GAAG,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,YAAY;yBAC9C,qBAAqB;iBACzB,CAAC;gBAEF,IAAI,CAAC,mBAAmB;oBACtB,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,SAAS;yBACxC,OAAO,CAAC,YAAY,EAAE,EAAE,CAAC;yBACzB,KAAK,CAAC,IAAI,CAAC,CAAC;gBAEjB,IAAI,CAAC,oBAAoB;oBACvB,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,UAAU,CAAC;gBAE/C,IAAI,0BAA0B,GAC5B,IAAI,CAAC,mBAAmB,CAAC,iBAAiB,CACxC,IAAI,CAAC,uBAAuB,EAC5B,IAAI,CAAC,qBAAqB,EAC1B,kBAAkB,EAClB,IAAI,CAAC,mBAAmB,EACxB,IAAI,CAAC,oBAAoB,EACzB,IAAI,CAAC,kBAAkB,CACxB,CAAC;gBAEJ,IAAI,CAAC,qBAAqB;oBACxB,0BAA0B,CAAC,uBAAuB,CAAC,CAAC;gBACtD,IAAI,CAAC,sBAAsB;oBACzB,0BAA0B,CAAC,wBAAwB,CAAC,CAAC;gBACvD,OAAO,kBAAkB,CAAC;aAC3B;iBAAM;gBACL,MAAM,IAAI,KAAK,CAAC,eAAe,CAAC,CAAC;aAClC;QACH,CAAC,CAAC,CACH;aACA,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACjB,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;gBACzB,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;iBAClE;aACF;iBAAM;gBACL,IAAI,CAAC,kBAAkB,GAAG,GAAG,CAAC;gBAC9B,IAAI,IAAI,CAAC,IAAI,IAAI,MAAM,EAAE;oBACvB,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,IAAI,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE;wBAC5D,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;wBAClC,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;wBACzB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,yBAAyB,CAAC,CAAC,CAAC;qBACnD;yBAAM;wBACL,IAAI,CAAC,2BAA2B,CAAC,IAAI,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;qBAC1D;iBACF;qBAAM,IAAI,IAAI,CAAC,IAAI,IAAI,OAAO,EAAE;oBAC/B,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,IAAI,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE;wBAC5D,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;wBAClC,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;wBACzB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,yBAAyB,CAAC,CAAC,CAAC;qBACnD;yBAAM;wBACL,IAAI,CAAC,2BAA2B,CAAC,IAAI,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;qBAC3D;iBACF;qBAAM;oBACL,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;oBACxB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;iBACxC;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;YACzB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,OAAO,CAAC,GAAG,CAAC,qCAAqC,EAAE,GAAG,CAAC,CAAC;YACxD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;QACnE,CAAC,CACF,CAAC;IACN,CAAC;IACD,gBAAgB,CAAC,UAAe;QAC9B,MAAM,mBAAmB,GAAG,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,EAAE,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC;QAC3E,IAAI,CAAC,mBAAmB,GAAG,mBAAmB,CAAC;IACjD,CAAC;IACD,sBAAsB,CACpB,SAAc,EACd,WAAgB,EAChB,gBAAqB;QAErB,IAAI,gBAAgB,GAAG,gBAAgB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAElD,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,CAAC,cAAc;aAChB,0BAA0B,CACzB,IAAI,CAAC,QAAQ,EACb,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EACvB,gBAAgB,EAChB,SAAS,EACT,WAAW,EACX,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAC3B;aACA,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;iBAClE;aACF;iBAAM;gBACL,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,GAAG,CAAC,SAAS,CAAC,EAAE;oBAClB,IAAI,CAAC,0BAA0B,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC;oBACnD,IAAI,CAAC,0BAA0B,CAAC,kBAAkB,GAAG,KAAK,CAAC;oBAC3D,IAAI,CAAC,0BAA0B,CAAC,cAAc,GAAG,KAAK,CAAC;oBAEvD,IAAI,CAAC,uBAAuB,GAAG,GAAG,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE;wBACxD,OAAO,EAAE,IAAI,EAAE,GAAG,CAAC,UAAU,CAAC,EAAE,IAAI,EAAE,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC;oBACtD,CAAC,CAAC,CAAC;iBACJ;qBAAM;oBACL,IAAI,GAAG,CAAC,SAAS,CAAC,EAAE;wBAClB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC;wBAClD,IAAI,CAAC,sBAAsB,EAAE,CAAC;qBAC/B;yBAAM;wBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,4BAA4B,CAAC,CAAC;wBAChE,IAAI,CAAC,sBAAsB,EAAE,CAAC;qBAC/B;iBACF;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,OAAO,CAAC,GAAG,CAAC,yBAAyB,EAAE,GAAG,CAAC,CAAC;YAC5C,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;YACjE,IAAI,CAAC,sBAAsB,EAAE,CAAC;QAChC,CAAC,CACF,CAAC;IACN,CAAC;IAED,sBAAsB;QACpB,IAAI,CAAC,0BAA0B,CAAC,sBAAsB,EAAE,CAAC;IAC3D,CAAC;IAED,aAAa,CAAC,gBAA0B;QACtC,gBAAgB,CAAC,MAAM,CAAC,aAAa,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QACvD,gBAAgB,CAAC,MAAM,CAAC,WAAW,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;QAChD,gBAAgB,CAAC,MAAM,CAAC,cAAc,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QACjE,gBAAgB,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC/C,gBAAgB,CAAC,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAClE,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC;QACnC,IAAI,IAAI,CAAC,sBAAsB,IAAI,IAAI,CAAC,IAAI,IAAI,OAAO,EAAE;YACvD,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;YAChD,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;YAC7C,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;gBAC/B,OAAO,EAAE,kIAAkI;gBAC3I,GAAG,EAAE,eAAe;gBACpB,MAAM,EAAE,GAAG,EAAE;oBACX,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;oBACxC,UAAU,CAAC,GAAG,EAAE;wBACd,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;wBAC5C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;oBACjD,CAAC,EAAE,GAAG,CAAC,CAAC;oBACR,UAAU,CAAC,GAAG,EAAE;wBACd,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;oBACzC,CAAC,EAAE,IAAI,CAAC,CAAC;gBACX,CAAC;aACF,CAAC,CAAC;SACJ;aAAM;YACL,OAAO;YACP,wCAAwC;YACxC,qCAAqC;YACrC,MAAM;YACN,IAAI,CAAC,uBAAuB,CAAC,gBAAgB,CAAC,CAAC;YAC/C,WAAW;YACX,uCAAuC;YACvC,8CAA8C;YAC9C,OAAO;YACP,IAAI;SACL;IACH,CAAC;IAED,uBAAuB,CAAC,eAAoB;QAC1C,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;QACrC,IAAI,CAAC,6BAA6B,GAAG,EAAE,CAAC;QACxC,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,gCAAgC;QAChC,qCAAqC;QACrC,6BAA6B;QAC7B,6EAA6E;QAC7E,YAAY;QACZ,KAAK;QAEL,IAAI,CAAC,6BAA6B,GAAG,IAAI,CAAC,KAAK,CAC7C,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CACjC,CAAC;QAEF,IAAI,CAAC,cAAc;aAChB,gCAAgC,CAAC,eAAe,CAAC;aACjD,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;iBAClE;aACF;iBAAM;gBACL,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,EAAE;oBACrB,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;oBAC7D,IAAI,CAAC,0BAA0B,GAAG,GAAG,CAAC,aAAa,CAAC,CAAC;oBACrD,IAAI,CAAC,0BAA0B,GAAG,GAAG,CAAC,WAAW,CAAC,CAAC;oBACnD,IAAI,OAAO,GACT,IAAI,CAAC,mBAAmB,CAAC,gCAAgC,CAAC,GAAG,CAAC,CAAC;oBAEjE,IAAI,SAAS,GAAG,IAAI,CAAC,kBAAkB,CAAC,uBAAuB,CAC7D,OAAO,CAAC,OAAO,EACf,IAAI,CAAC,kBAAkB,EACvB,IAAI,CAAC,gBAAgB,CACtB,CAAC;oBACF,IAAI,CAAC,iBAAiB,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,iBAAiB,EAAE,GAAG,CACzD,CAAC,MAAM,EAAE,EAAE;wBACT,OAAO,EAAE,IAAI,EAAE,MAAM,CAAC,IAAI,EAAE,QAAQ,EAAE,MAAM,CAAC,QAAQ,EAAE,CAAC;oBAC1D,CAAC,CACF,CAAC;oBACF,IAAI,CAAC,eAAe,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,eAAe,CAAC,GAAG,CACpD,CAAC,MAAM,EAAE,EAAE;wBACT,OAAO,EAAE,IAAI,EAAE,MAAM,CAAC,IAAI,EAAE,QAAQ,EAAE,MAAM,CAAC,QAAQ,EAAE,CAAC;oBAC1D,CAAC,CACF,CAAC;oBACF,IAAI,CAAC,gBAAgB,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,gBAAgB,CAAC,GAAG,CACtD,CAAC,MAAM,EAAE,EAAE;wBACT,OAAO,EAAE,IAAI,EAAE,MAAM,CAAC,IAAI,EAAE,QAAQ,EAAE,MAAM,CAAC,QAAQ,EAAE,CAAC;oBAC1D,CAAC,CACF,CAAC;oBAEF,IAAI,cAAc,GAAG,KAAK,CAAC;oBAC3B,IAAI,eAAe,GAAG,KAAK,CAAC;oBAE5B,IAAI,eAAe,GAAG,GAAG,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;oBAE1D,IAAI,GAAG,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;wBAC5C,cAAc,GAAG,IAAI,CAAC;qBACvB;oBAED,IAAI,GAAG,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE;wBACpD,eAAe,GAAG,IAAI,CAAC;qBACxB;oBAED,IAAI,cAAc,IAAI,eAAe,EAAE;wBACrC,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;4BAC/C,KAAK,EAAE,UAAU;4BACjB,MAAM,EAAE,WAAW;4BACnB,SAAS,EAAE,MAAM;yBAClB,CAAC,CAAC;wBACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;4BAC/C,KAAK,EAAE,QAAQ;4BACf,MAAM,EAAE,SAAS;4BACjB,SAAS,EAAE,MAAM;yBAClB,CAAC,CAAC;wBACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;4BAC/C,KAAK,EAAE,eAAe;4BACtB,MAAM,EAAE,aAAa;4BACrB,SAAS,EAAE,MAAM;yBAClB,CAAC,CAAC;wBACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;4BAC/C,KAAK,EAAE,aAAa;4BACpB,MAAM,EAAE,WAAW;4BACnB,SAAS,EAAE,MAAM;yBAClB,CAAC,CAAC;wBAEH,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;wBAErC,IAAI,cAAc,GAAG,OAAO,CAAC,WAAW,CAAC;wBACzC,IAAI,aAAa,GAAG,OAAO,CAAC,UAAU,CAAC;wBAEvC,cAAc,CAAC,OAAO,CAAC,CAAC,SAAS,EAAE,EAAE;4BACnC,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;4BAC3B,aAAa,CAAC,OAAO,CAAC,CAAC,QAAQ,EAAE,EAAE;gCACjC,IAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CACtB,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAC/C,CAAC;gCACF,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;gCACtB,OAAO,CAAC,UAAU,CAAC,GAAG,SAAS,CAAC,YAAY,CAAC;gCAC7C,OAAO,CAAC,QAAQ,CAAC,GAAG,SAAS,CAAC,UAAU,CAAC;gCACzC,OAAO,CAAC,eAAe,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC;gCACzC,OAAO,CAAC,aAAa,CAAC,GAAG,QAAQ,CAAC,EAAE,CAAC;gCAErC,OAAO,CACL,kBAAkB,CACnB,GAAG,GAAG,eAAe,YAAY,QAAQ,CAAC,MAAM,CAAC,QAAQ,QAAQ,CAAC,IAAI,CAAC,oBAAoB,SAAS,CAAC,cAAc,CAAC,gBAAgB,SAAS,CAAC,YAAY,CAAC,EAAE,CAAC;gCAC/J,IAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;4BAChD,CAAC,CAAC,CAAC;wBACL,CAAC,CAAC,CAAC;qBACJ;yBAAM;wBACL,IAAI,cAAc,EAAE;4BAClB,IAAI,aAAa,GAAG,OAAO,CAAC,UAAU,CAAC;4BACvC,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;gCAC/C,KAAK,EAAE,eAAe;gCACtB,MAAM,EAAE,aAAa;gCACrB,SAAS,EAAE,MAAM;6BAClB,CAAC,CAAC;4BACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;gCAC/C,KAAK,EAAE,aAAa;gCACpB,MAAM,EAAE,WAAW;gCACnB,SAAS,EAAE,MAAM;6BAClB,CAAC,CAAC;4BACH,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;4BACrC,aAAa,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;gCAC9B,IAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CACtB,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAC/C,CAAC;gCACF,OAAO,CAAC,eAAe,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC;gCACtC,OAAO,CAAC,aAAa,CAAC,GAAG,KAAK,CAAC,EAAE,CAAC;gCAClC,OAAO,CACL,kBAAkB,CACnB,GAAG,GAAG,eAAe,YAAY,KAAK,CAAC,MAAM,CAAC,QAAQ,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC;gCACrE,IAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;4BAChD,CAAC,CAAC,CAAC;yBACJ;6BAAM,IAAI,eAAe,EAAE;4BAC1B,IAAI,cAAc,GAAG,OAAO,CAAC,WAAW,CAAC;4BACzC,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;gCAC/C,KAAK,EAAE,UAAU;gCACjB,MAAM,EAAE,WAAW;gCACnB,SAAS,EAAE,MAAM;6BAClB,CAAC,CAAC;4BACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;gCAC/C,KAAK,EAAE,QAAQ;gCACf,MAAM,EAAE,SAAS;gCACjB,SAAS,EAAE,MAAM;6BAClB,CAAC,CAAC;4BACH,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;4BACrC,cAAc,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;gCAC/B,IAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CACtB,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAC/C,CAAC;gCACF,OAAO,CAAC,UAAU,CAAC,GAAG,KAAK,CAAC,YAAY,CAAC;gCACzC,OAAO,CAAC,QAAQ,CAAC,GAAG,KAAK,CAAC,UAAU,CAAC;gCACrC,OAAO,CACL,kBAAkB,CACnB,GAAG,GAAG,eAAe,oBAAoB,KAAK,CAAC,cAAc,CAAC,gBAAgB,KAAK,CAAC,YAAY,CAAC,EAAE,CAAC;gCACrG,IAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;4BAChD,CAAC,CAAC,CAAC;yBACJ;6BAAM,IAAI,CAAC,cAAc,IAAI,CAAC,eAAe,EAAE;4BAC9C,IAAI,CAAC,0BAA0B,GAAG;gCAChC,GAAG,CAAC,MAAM,CAAC,CAAC,iBAAiB,CAAC;6BAC/B,CAAC;4BACF,IAAI,CAAC,0BAA0B,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;gCAC/C,IAAI,CAAC,kBAAkB,CAAC,GAAG,eAAe,CAAC;4BAC7C,CAAC,CAAC,CAAC;yBACJ;qBACF;oBAED,cAAc;oBAEd,iDAAiD;oBACjD,mCAAmC;oBACnC,WAAW;oBACX,oCAAoC;oBACpC,IAAI;oBAEJ,iCAAiC;oBACjC,wCAAwC;oBACxC,sCAAsC;oBACtC,OAAO;oBACP,wDAAwD;oBACxD,uCAAuC;oBACvC,QAAQ;oBACR,kDAAkD;oBAClD,WAAW;oBACX,yDAAyD;oBACzD,qDAAqD;oBACrD,2CAA2C;oBAC3C,UAAU;oBACV,yDAAyD;oBACzD,4BAA4B;oBAC5B,8BAA8B;oBAC9B,2BAA2B;oBAC3B,UAAU;oBACV,4CAA4C;oBAC5C,wCAAwC;oBACxC,kCAAkC;oBAClC,yDAAyD;oBACzD,WAAW;oBACX,sCAAsC;oBACtC,6CAA6C;oBAC7C,uDAAuD;oBACvD,UAAU;oBACV,0DAA0D;oBAC1D,8CAA8C;oBAC9C,yDAAyD;oBACzD,gCAAgC;oBAChC,+BAA+B;oBAC/B,2BAA2B;oBAC3B,UAAU;oBACV,yDAAyD;oBACzD,8BAA8B;oBAC9B,6BAA6B;oBAC7B,2BAA2B;oBAC3B,UAAU;oBACV,4CAA4C;oBAC5C,yCAAyC;oBACzC,kCAAkC;oBAClC,yDAAyD;oBACzD,WAAW;oBACX,+CAA+C;oBAC/C,2CAA2C;oBAC3C,iBAAiB;oBACjB,6BAA6B;oBAC7B,wDAAwD;oBACxD,uDAAuD;oBACvD,UAAU;oBACV,MAAM;oBACN,IAAI;oBAEJ,kBAAkB;oBAElB,IAAI,CAAC,0BAA0B,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;wBAC/C,OAAO,IAAI,CAAC,EAAE,CAAC;wBACf,IAAI,CAAC,mBAAmB,CAAC,GAAG,IAAI,CAAC,iBAAiB,CAAC;wBACnD,IAAI,CAAC,iBAAiB,CAAC,GAAG,IAAI,CAAC,eAAe,CAAC;wBAC/C,IAAI,CAAC,kBAAkB,CAAC,GAAG,IAAI,CAAC,gBAAgB,CAAC;wBACjD,IAAI,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,0BAA0B,CAAC;wBACtD,IAAI,CAAC,qBAAqB,CAAC,GAAG,KAAK,CAAC;wBACpC,IAAI,CAAC,QAAQ,CAAC,GAAG,QAAQ,CAAC;wBAC1B,IAAI,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;wBAC7B,IAAI,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC;wBACvC,IAAI,CAAC,oBAAoB,CAAC,GAAG,IAAI,CAAC,kBAAkB,CAAC;wBACrD,IAAI,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC;wBACvC,IAAI,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC;wBACnC,IAAI,CAAC,iBAAiB,CAAC,GAAG,IAAI,CAAC,eAAe,CAAC;wBAC/C,uDAAuD;wBACvD,mDAAmD;oBACrD,CAAC,CAAC,CAAC;oBACH,6BAA6B;oBAC7B,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,IAAI,CAAC,0BAA0B,CAAC,CAAC;oBAEnD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,+BAA+B,CAChC,CAAC;oBACF,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;iBACxC;qBAAM;oBACL,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;oBACrC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;oBACvC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;oBACvC,IAAI,CAAC,6BAA6B,GAAG,EAAE,CAAC;oBACxC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,kCAAkC,CACnC,CAAC;iBACH;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,OAAO,CAAC,GAAG,CAAC,oCAAoC,EAAE,GAAG,CAAC,CAAC;YACvD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;QACnE,CAAC,CACF,CAAC;IACN,CAAC;IAED,sBAAsB,CAAC,gBAAqB;QAC1C,gBAAgB,CAAC,MAAM,CAAC,cAAc,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QACjE,gBAAgB,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC/C,gBAAgB,CAAC,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAClE,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,CAAC,cAAc;aAChB,6BAA6B,CAAC,gBAAgB,CAAC;aAC/C,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,+BAA+B,CAChC,CAAC;iBACH;aACF;iBAAM;gBACL,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,GAAG,CAAC,GAAG,IAAI,mCAAmC,EAAE;oBAClD,qCAAqC;oBACrC,yCAAyC;oBACzC,IAAI,CAAC,2BAA2B,GAAG,IAAI,CAAC;oBACxC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,2BAA2B,CAAC,CAAC;iBAC/C;qBAAM;oBACL,IAAI,CAAC,2BAA2B,GAAG,KAAK,CAAC;oBACzC,IAAI,CAAC,0BAA0B,CAAC,gBAAgB;wBAC9C,IAAI,CAAC,0BAA0B,CAAC,YAAY,CAAC;oBAC/C,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;oBAC3C,IAAI,CAAC,0BAA0B,CAAC,sBAAsB,GAAG,KAAK,CAAC;oBAC/D,IAAI,CAAC,0BAA0B,CAAC,YAAY,GAAG,EAAE,CAAC;oBAClD,IAAI,CAAC,eAAe,EAAE,CAAC;iBACxB;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,OAAO,CAAC,GAAG,CAAC,sCAAsC,EAAE,GAAG,CAAC,CAAC;YACzD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,+BAA+B,CAAC,CAAC;QACrE,CAAC,CACF,CAAC;IACN,CAAC;IAED,eAAe;QACb,IAAI,CAAC,cAAc;aAChB,uBAAuB,CACtB,IAAI,CAAC,MAAM,EACX,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EACvB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,EAC1B,IAAI,CAAC,QAAQ,CACd;aACA,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,+BAA+B,CAChC,CAAC;iBACH;aACF;iBAAM;gBACL,IAAI,GAAG,CAAC,IAAI,IAAI,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE;oBAC/B,IAAI,CAAC,2BAA2B,GAAG,GAAG,CAAC,IAAI,CAAC;oBAC5C,IAAI,CAAC,2BAA2B,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;wBAC/C,GAAG,CAAC,MAAM,CAAC,GAAG,GAAG,CAAC,cAAc,CAAC,CAAC;wBAClC,GAAG,CAAC,MAAM,CAAC,GAAG,GAAG,CAAC,cAAc,CAAC,CAAC;oBACpC,CAAC,CAAC,CAAC;iBACJ;qBAAM;oBACL,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;iBACtB;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,OAAO,CAAC,GAAG,CAAC,mCAAmC,EAAE,GAAG,CAAC,CAAC;YACtD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,qCAAqC,CACtC,CAAC;QACJ,CAAC,CACF,CAAC;IACN,CAAC;IAED,iBAAiB;QACf,OAAO,CAAC,GAAG,CACT,4BAA4B,EAC5B,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,0BAA0B,EAAE,IAAI,EAAE,CAAC,CAAC,CACzD,CAAC;QAEF,IAAI,QAAQ,GAAG,IAAI,QAAQ,EAAE,CAAC;QAC9B,IAAI,WAAW,GAAG,IAAI,CAAC;QACvB,IAAI,IAAI,CAAC,gBAAgB,CAAC,MAAM,EAAE;YAChC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,gBAAgB,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACrD,KAAK,IAAI,GAAG,IAAI,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,EAAE;oBACxC,IAAI,GAAG,IAAI,YAAY,EAAE;wBACvB,IAAI,IAAI,GACN,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;4BAC7B,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,EAAE;4BACjC,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;4BAC/B,CAAC,CAAC,EAAE,CAAC;wBACT,IAAI,IAAI,IAAI,EAAE,EAAE;4BACd,QAAQ,CAAC,MAAM,CACb,iCAAiC,CAAC,KAAK,GAAG,EAAE,EAC5C,IAAI,CACL,CAAC;yBACH;qBACF;yBAAM;wBACL,IAAI,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,IAAI,KAAK,EAAE;4BAClD,IAAI,CAAC,CAAC,GAAG,IAAI,IAAI,CAAC,EAAE;gCAClB,QAAQ,CAAC,MAAM,CACb,iCAAiC,CAAC,KAAK,GAAG,EAAE,EAC5C,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAC9B,CAAC;6BACH;yBACF;6BAAM;4BACL,QAAQ,CAAC,MAAM,CACb,iCAAiC,CAAC,KAAK,GAAG,EAAE,EAC5C,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAC9B,CAAC;yBACH;qBACF;iBACF;aACF;YACD,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAC1B,wCACE,IAAI,CAAC,IAAI,IAAI,KAAK,CAAC,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAAC,mBAC3C,EAAE,EACF,QAAQ,EACR;gBACE,OAAO,EAAE,IAAI,6DAAW,EAAE;qBACvB,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC;qBAC1B,GAAG,CAAC,WAAW,EAAE,IAAI,CAAC,IAAI,CAAC;qBAC3B,GAAG,CAAC,cAAc,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC;qBAC5C,GAAG,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC;qBAC7C,GAAG,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC;aAC9B,CACF,CAAC;SACH;QAED,KAAK,IAAI,IAAI,IAAI,QAAQ,CAAC,OAAO,EAAE,EAAE;YACnC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;SACvC;QAED,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;QAEnC,yBAAyB;QAEzB,IACE,IAAI,CAAC,0BAA0B,CAAC,qBAAqB,EAAE;YACvD,IAAI,CAAC,0BAA0B,EAC/B;YACA,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,+EAA+E,CAChF,CAAC;SACH;QAED,IACE,IAAI,CAAC,IAAI,IAAI,OAAO;YACpB,CAAC,IAAI,CAAC,IAAI,IAAI,OAAO,IAAI,IAAI,CAAC,sBAAsB,CAAC,EACrD;YACA,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;YACxC,IAAI,gBAAgB,GAAG,KAAK,CAAC;YAC7B,IAAI,mBAAmB,GAAG,KAAK,CAAC;YAChC,IAAI,kBAAkB,GAAG,KAAK,CAAC;YAC/B,IAAI,gBAAgB,GAAG,KAAK,CAAC;YAC7B,IAAI,mBAAmB,GAAG,KAAK,CAAC;YAChC,IAAI,iBAAiB,GAAG,KAAK,CAAC;YAE9B,IAAI,CAAC,0BAA0B,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;gBAC/C,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,EAAE;oBAC3B,IAAI,CAAC,oBAAoB,CAAC,GAAG,IAAI,CAAC,kBAAkB,CAAC,WAAW,EAAE;wBAChE,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,MAAM;4BACjD,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,WAAW,EAAE;4BACvC,CAAC,CAAC,IAAI;wBACR,CAAC,CAAC,IAAI,CAAC;oBACT,IAAI,IAAI,CAAC,cAAc,CAAC,IAAI,MAAM,IAAI,IAAI,CAAC,cAAc,CAAC,IAAI,IAAI,EAAE;wBAClE,IAAI,CAAC,cAAc,CAAC,GAAG,EAAE,CAAC;qBAC3B;iBACF;YACH,CAAC,CAAC,CAAC;YACH,IAAI,UAAU,GAAG,IAAI,CAAC,0BAA0B,CAAC,MAAM,CACrD,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,UAAU,CAAC,IAAI,GAAG,CAC5B,CAAC;YAEF,UAAU,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;gBAC7B,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;gBAErB,IAAI,OAAO,CAAC,qBAAqB,CAAC,EAAE;oBAClC,mBAAmB,GAAG,IAAI,CAAC;iBAC5B;gBACD,OAAO,CAAC,oBAAoB,CAAC,GAAG,IAAI,CAAC,kBAAkB,CAAC,WAAW,EAAE;oBACnE,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,MAAM;wBACjD,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,WAAW,EAAE;wBACvC,CAAC,CAAC,IAAI;oBACR,CAAC,CAAC,IAAI,CAAC;gBACT,OAAO,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,WAAW;oBACvC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,MAAM;wBAC1C,CAAC,CAAC,IAAI,CAAC,WAAW;wBAClB,CAAC,CAAC,IAAI;oBACR,CAAC,CAAC,IAAI,CAAC;gBACT,OAAO,CAAC,iBAAiB,CAAC,GAAG,IAAI,CAAC,eAAe;oBAC/C,CAAC,CAAC,IAAI,CAAC,eAAe;oBACtB,CAAC,CAAC,IAAI,CAAC;gBAET,IACE,CAAC,CACC,OAAO,CAAC,oBAAoB,CAAC;oBAC7B,OAAO,CAAC,aAAa,CAAC;oBACtB,OAAO,CAAC,iBAAiB,CAAC,CAC3B,EACD;oBACA,gBAAgB,GAAG,IAAI,CAAC;iBACzB;gBACD,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,IAAI,OAAO,CAAC,aAAa,CAAC,IAAI,MAAM,EAAE;oBAC/D,kBAAkB,GAAG,IAAI,CAAC;iBAC3B;gBACD,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,OAAO,CAAC,WAAW,CAAC,IAAI,MAAM,EAAE;oBAC3D,gBAAgB,GAAG,IAAI,CAAC;iBACzB;gBACD,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,IAAI,OAAO,CAAC,cAAc,CAAC,IAAI,GAAG,EAAE;oBAC9D,mBAAmB,GAAG,IAAI,CAAC;iBAC5B;gBACD,IACE,OAAO,CAAC,WAAW,CAAC,IAAI,UAAU;oBAClC,CAAC,CAAC,OAAO,CAAC,YAAY,CAAC,IAAI,OAAO,CAAC,YAAY,CAAC,IAAI,MAAM,CAAC,EAC3D;oBACA,iBAAiB,GAAG,IAAI,CAAC;iBAC1B;YACH,CAAC,CAAC,CAAC;YACH,IAAI,gBAAgB,EAAE;gBACpB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,8BAA8B,CAAC,CAAC;aACnE;iBAAM,IAAI,kBAAkB,EAAE;gBAC7B,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;aAClE;iBAAM,IAAI,gBAAgB,EAAE;gBAC3B,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,0BAA0B,CAAC,CAAC;aAC/D;iBAAM,IAAI,mBAAmB,EAAE;gBAC9B,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,4BAA4B,CAAC,CAAC;aACjE;iBAAM,IAAI,iBAAiB,EAAE;gBAC5B,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,4BAA4B,CAAC,CAAC;aACjE;iBAAM,IAAI,mBAAmB,EAAE;gBAC9B,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,mCAAmC,CAAC,CAAC;aACxE;iBAAM,IAAI,CAAC,IAAI,CAAC,oBAAoB,EAAE;gBACrC,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,uCAAuC,CACxC,CAAC;aACH;iBAAM;gBACL,IAAI,OAAO,CAAC;gBACZ,gCAAgC;gBAChC,IAAI,IAAI,CAAC,IAAI,IAAI,MAAM,EAAE;oBACvB,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,oBAAoB,CAChD,IAAI,CAAC,MAAM,EACX,IAAI,CAAC,0BAA0B,EAC/B,IAAI,CAAC,IAAI,EACT,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EACvB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,EAC1B,IAAI,CAAC,QAAQ,EACb,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAC/B,CAAC;iBACH;qBAAM;oBACL,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,oBAAoB,CAChD,IAAI,CAAC,MAAM,EACX,IAAI,CAAC,0BAA0B,EAC/B,IAAI,CAAC,IAAI,EACT,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EACvB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,EAC1B,IAAI,CAAC,QAAQ,CACd,CAAC;iBACH;gBAED,IAAI,OAAO,EAAE;oBACX,OAAO;yBACJ,IAAI,CACH,0DAAS,CAAC,CAAC,IAAI,EAAE,EAAE;wBACjB,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,WAAW,EAAE;4BAC9B,OAAO,WAAW,CAAC,IAAI,CACrB,2DAAU,CAAC,CAAC,SAAS,EAAE,EAAE;gCACvB,OAAO,yCAAE,CAAC,EAAE,SAAS,EAAE,CAAC,CAAC;4BAC3B,CAAC,CAAC,CACH,CAAC;yBACH;6BAAM;4BACL,OAAO,yCAAE,CAAC,EAAE,SAAS,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;yBACxC;oBACH,CAAC,CAAC,CACH;yBACA,SAAS,CACR,CAAC,MAAM,EAAE,EAAE;wBACT,IAAI,MAAM,CAAC,SAAS,EAAE;4BACpB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;4BACvC,OAAO,CAAC,GAAG,CAAC,iCAAiC,CAAC,CAAC;4BAC/C,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,uEAAuE,CACxE,CAAC;yBACH;6BAAM,IAAI,MAAM,CAAC,SAAS,EAAE;4BAC3B,OAAO,CAAC,GAAG,CACT,6DAA6D,CAC9D,CAAC;4BACF,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,kHAAkH,CACnH,CAAC;4BACF,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,yBAAyB,CAAC,CAAC,CAAC;yBACnD;6BAAM;4BACL,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,yBAAyB,CAAC,CAAC,CAAC;4BAClD,IAAI,IAAI,CAAC,IAAI,IAAI,KAAK,EAAE;gCACtB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,iCAAiC,CAClC,CAAC;6BACH;iCAAM;gCACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,mCAAmC,CACpC,CAAC;6BACH;4BACD,OAAO,CAAC,GAAG,CAAC,oCAAoC,CAAC,CAAC;yBACnD;oBACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;wBACN,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC;wBAC1B,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;oBACzC,CAAC,CACF,CAAC;oBAEJ,qBAAqB;oBACrB,eAAe;oBACf,WAAW;oBACX,yBAAyB;oBACzB,4CAA4C;oBAC5C,2DAA2D;oBAC3D,UAAU;oBACV,gDAAgD;oBAChD,4BAA4B;oBAC5B,2DAA2D;oBAC3D,iBAAiB;oBACjB,6CAA6C;oBAC7C,2DAA2D;oBAC3D,aAAa;oBACb,UAAU;oBACV,eAAe;oBACf,0BAA0B;oBAC1B,sDAAsD;oBAEtD,sDAAsD;oBACtD,iDAAiD;oBACjD,6DAA6D;oBAC7D,UAAU;oBACV,QAAQ;oBACR,OAAO;oBACP,eAAe;oBACf,8CAA8C;oBAC9C,sDAAsD;oBACtD,yCAAyC;oBACzC,uDAAuD;oBACvD,SAAS;oBACT,MAAM;oBACN,KAAK;iBACN;aACF;SACF;aAAM;YACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,kCAAkC,CAAC,CAAC;SACvE;IACH,CAAC;IAED,aAAa,CAAC,CAAM,EAAE,IAAS;QAC7B,CAAC,CAAC,cAAc,EAAE,CAAC;QACnB,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,IAAI,SAAS,GAAG,EAAE,CAAC;QACnB,IAAI,CAAC,CAAC,MAAM,CAAC,OAAO,EAAE;YACpB,SAAS,GAAG,GAAG,CAAC;YAChB,IAAI,GAAG,UAAU,CAAC;SACnB;aAAM;YACL,SAAS,GAAG,GAAG,CAAC;YAChB,IAAI,GAAG,YAAY,CAAC;SACrB;QACD,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;QAChD,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,WAAW,GAAG,EAAE,CAAC;QACrB,WAAW;YACT,mDAAmD;gBACnD,iBAAiB;gBACjB,IAAI;gBACJ,sBAAsB,CAAC;QACzB,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;YAC/B,OAAO,EAAE,WAAW;YACpB,GAAG,EAAE,sBAAsB;YAC3B,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,UAAU,CAAC,GAAG,SAAS,CAAC;gBAC7B,IAAI,CAAC,mBAAmB,EAAE,CAAC;gBAC3B,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,SAAS,CAAC,CAAC;YACtC,CAAC;YACD,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;gBAC/B,IAAI,CAAC,mBAAmB,EAAE,CAAC;gBAC3B,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACxB,CAAC;SACF,CAAC,CAAC;IACL,CAAC;IAED,KAAK;QACH,IAAI,IAAI,CAAC,IAAI,IAAI,MAAM,EAAE;YACvB,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;YAC7C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;YAChD,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;gBAC/B,OAAO,EAAE,mDAAmD;gBAC5D,GAAG,EAAE,uBAAuB;gBAC5B,MAAM,EAAE,GAAG,EAAE;oBACX,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;oBACxC,gCAAgC;oBAChC,0BAA0B;oBAC1B,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;oBACrC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;oBACvC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;oBACvC,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;oBAC7B,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;oBACtB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;oBAEvB,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;oBAC3B,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;oBACpB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;oBAC5B,IAAI,CAAC,0BAA0B,CAAC,gBAAgB,EAAE,CAAC;oBACnD,IAAI,CAAC,mBAAmB,EAAE,CAAC;oBAC3B,+CAA+C;oBAC/C,kDAAkD;gBACpD,CAAC;gBACD,MAAM,EAAE,GAAG,EAAE;oBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;oBAC/B,IAAI,CAAC,mBAAmB,EAAE,CAAC;gBAC7B,CAAC;aACF,CAAC,CAAC;SACJ;aAAM,IAAI,IAAI,CAAC,IAAI,IAAI,OAAO,EAAE;YAC/B,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;YAC7C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;YAChD,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;gBAC/B,OAAO,EAAE,mDAAmD;gBAC5D,GAAG,EAAE,uBAAuB;gBAC5B,MAAM,EAAE,GAAG,EAAE;oBACX,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;oBACxC,IAAI,CAAC,qBAAqB,EAAE,CAAC;oBAC7B,IAAI,CAAC,eAAe,EAAE,CAAC;oBACvB,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;oBAC5C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;gBACjD,CAAC;gBACD,MAAM,EAAE,GAAG,EAAE;oBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;oBAC/B,IAAI,CAAC,mBAAmB,EAAE,CAAC;gBAC7B,CAAC;aACF,CAAC,CAAC;SACJ;aAAM;YACL,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;YAChD,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;YAC7C,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;gBAC/B,OAAO,EAAE,kDAAkD;gBAC3D,GAAG,EAAE,uBAAuB;gBAC5B,MAAM,EAAE,GAAG,EAAE;oBACX,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;oBACrC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;oBACvC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;oBACvC,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;oBAC7B,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;oBAEtB,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;oBAC3B,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;oBACpB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;oBAE5B,IAAI,CAAC,0BAA0B,CAAC,gBAAgB,EAAE,CAAC;oBACnD,IAAI,CAAC,mBAAmB,EAAE,CAAC;oBAC3B,wBAAwB;oBACxB,2BAA2B;oBAC3B,6BAA6B;oBAC7B,4BAA4B;oBAC5B,qCAAqC;gBACvC,CAAC;gBACD,MAAM,EAAE,GAAG,EAAE;oBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;oBAC/B,IAAI,CAAC,mBAAmB,EAAE,CAAC;gBAC7B,CAAC;aACF,CAAC,CAAC;SACJ;IACH,CAAC;IAED,mBAAmB;QACjB,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;YAC5C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;QACjD,CAAC,EAAE,GAAG,CAAC,CAAC;QACR,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,EAAE,IAAI,CAAC,CAAC;IACX,CAAC;IAED,yBAAyB;IACzB,wDAAwD;IACxD,iCAAiC;IACjC,gEAAgE;IAChE,4DAA4D;IAC5D,0BAA0B;IAC1B,QAAQ;IAER,+BAA+B;IAC/B,4DAA4D;IAC5D,0DAA0D;IAC1D,0BAA0B;IAC1B,QAAQ;IACR,QAAQ;IACR,IAAI;IACJ,4BAA4B;IAC5B,wDAAwD;IACxD,8DAA8D;IAC9D,8DAA8D;IAC9D,oBAAoB;IACpB,0DAA0D;IAC1D,4DAA4D;IAC5D,oBAAoB;IACpB,QAAQ;IACR,IAAI;IAEJ,cAAc,CAAC,OAAY;QACzB,OAAO,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;IAC9C,CAAC;IAED,UAAU,CAAC,OAAY;QACrB,OAAO,IAAI,CAAC,mBAAmB,CAAC,8BAA8B,CAAC,OAAO,CAAC,CAAC;IAC1E,CAAC;IACD,cAAc,CAAC,SAAc,EAAE,KAAU,EAAE,KAAU;QACnD,IAAI,SAAS,IAAI,WAAW,EAAE;YAC5B,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC,QAAQ,CAAC;YAChC,IAAI,KAAK,CAAC,QAAQ,IAAI,UAAU,EAAE;gBAChC,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,kBAAkB,CAAC,GAAG,EAAE,CAAC;gBAChE,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,kBAAkB,CAAC;oBACxD,IAAI,CAAC,gBAAgB,CAAC;aACzB;iBAAM;gBACL,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,kBAAkB,CAAC,GAAG,EAAE,CAAC;gBAChE,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,kBAAkB,CAAC,CAAC,OAAO,CAAC;oBACjE,IAAI,EAAE,IAAI;oBACV,QAAQ,EAAE,QAAQ;iBACnB,CAAC,CAAC;aACJ;YACD,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC;SAC7D;QACD,IAAI,SAAS,IAAI,YAAY,EAAE;SAC9B;QACD,IAAI,SAAS,IAAI,aAAa,EAAE;YAC9B,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC,QAAQ,CAAC;YAClC,IAAI,SAAS,IAAI,aAAa,IAAI,KAAK,CAAC,MAAM,CAAC,IAAI,YAAY,EAAE;gBAC/D,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;gBAC3D,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,qBAAqB,CAAC,GAAG,IAAI,CAAC;gBACrE,qCAAqC;gBACrC,mDAAmD;gBACnD,KAAK;aACN;iBAAM;gBACL,IAAI,MAAM,CAAC,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,aAAa,CAAC,EAAE;oBAChE,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,cAAc,CAAC,GAAG,MAAM,CAC7D,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,aAAa,CACrD,CAAC;iBACH;qBAAM;oBACL,IAAI,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,SAAS,EAAE;wBACpD,IAAI,YAAY,GACd,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;wBACjE,IAAI,YAAY,GACd,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;wBACjE,IAAI,YAAY,IAAI,IAAI,EAAE;4BACxB,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;4BAC1B,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,cAAc,CAAC;gCACpD,MAAM,CAAC,YAAY,CAAC,CAAC;yBACxB;6BAAM,IAAI,YAAY,IAAI,GAAG,EAAE;4BAC9B,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,cAAc,CAAC;gCACpD,MAAM,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;yBAC5B;6BAAM,IAAI,YAAY,IAAI,GAAG,EAAE;4BAC9B,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,cAAc,CAAC;gCACpD,MAAM,CAAC,YAAY,CAAC,CAAC;yBACxB;6BAAM;4BACL,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;yBAC5D;qBACF;yBAAM;wBACL,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;qBAC5D;iBACF;aACF;SACF;QACD,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,GAAG,KAAK,CAAC,QAAQ,CAAC;IACrE,CAAC;IAED,gBAAgB,CACd,SAAc,EACd,QAAa,EACb,KAAU,EACV,KAAU,EACV,aAAkB;QAElB,OAAO,CAAC,GAAG,CACT,SAAS,EACT,QAAQ,EACR,KAAK,EACL,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CACvC,CAAC;QACF,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,qBAAqB,CAAC,GAAG,KAAK,CAAC;QACtE,IAAI,GAAG,GAAG,OAAO,CAAC;QAClB,IAAI,GAAG,GAAG,CAAC,CAAC;QACZ,IAAI,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,IAAI,YAAY,EAAE;YACrE,GAAG,GAAG,GAAG,CAAC;SACX;aAAM,IAAI,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,SAAS,EAAE,MAAM,EAAE;YACnE,IAAI,YAAY,GACd,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YACjE,IAAI,YAAY,GACd,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YAEjE,IAAI,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,IAAI,YAAY,EAAE;gBACrE,GAAG,GAAG,GAAG,CAAC;aACX;iBAAM,IACL,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,IAAI,QAAQ,EAC7D;gBACA,IACE,MAAM,CAAC,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,aAAa,CAAC,GAAG,CAAC;oBAChE,MAAM,CAAC,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,WAAW,CAAC,GAAG,CAAC,EAC9D;oBACA,GAAG,GAAG,MAAM,CAAC,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,aAAa,CAAC,CAAC;oBACnE,GAAG,GAAG,MAAM,CAAC,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,WAAW,CAAC,CAAC;iBAClE;qBAAM,IAAI,YAAY,IAAI,GAAG,EAAE;oBAC9B,GAAG,GAAG,MAAM,CAAC,YAAY,CAAC,CAAC;oBAC3B,GAAG,GAAG,MAAM,CAAC,YAAY,CAAC,CAAC;iBAC5B;qBAAM,IAAI,YAAY,IAAI,IAAI,EAAE;oBAC/B,GAAG,GAAG,MAAM,CAAC,YAAY,CAAC,CAAC;oBAC3B,GAAG,GAAG,OAAO,CAAC;iBACf;qBAAM,IAAI,YAAY,IAAI,GAAG,EAAE;oBAC9B,GAAG,GAAG,MAAM,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;oBAC/B,GAAG,GAAG,OAAO,CAAC;iBACf;qBAAM,IAAI,YAAY,IAAI,IAAI,EAAE;oBAC/B,GAAG,GAAG,CAAC,CAAC;oBACR,GAAG,GAAG,MAAM,CAAC,YAAY,CAAC,CAAC;iBAC5B;qBAAM,IAAI,YAAY,IAAI,GAAG,EAAE;oBAC9B,GAAG,GAAG,CAAC,CAAC;oBACR,GAAG,GAAG,MAAM,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;iBAChC;qBAAM;oBACL,GAAG,GAAG,OAAO,CAAC;iBACf;aACF;SACF;aAAM,IACL,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,aAAa,EAAE,MAAM;YAC5D,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,WAAW,EAAE,MAAM,EAC1D;YACA,GAAG,GAAG,MAAM,CAAC,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,aAAa,CAAC,CAAC;YACnE,GAAG,GAAG,MAAM,CAAC,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,WAAW,CAAC,CAAC;SAClE;QAED,IAAI,cAAc,GAAG,KAAK,CAAC;QAC3B,IAAI,KAAK,CAAC,KAAK,IAAI,CAAC,EAAE;YACpB,cAAc,GAAG,IAAI,CAAC;YACtB,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,qBAAqB,CAAC,GAAG,IAAI,CAAC;YACrE,qCAAqC;YACrC,6CAA6C;YAC7C,KAAK;YACL,OAAO,KAAK,CAAC;SACd;aAAM,IAAI,KAAK,CAAC,KAAK,GAAG,GAAG,IAAI,KAAK,CAAC,KAAK,GAAG,GAAG,EAAE;YACjD,cAAc,GAAG,IAAI,CAAC;YACtB,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,qBAAqB,CAAC,GAAG,IAAI,CAAC;YACrE,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,+BAA+B,GAAG,GAAG,GAAG,MAAM,GAAG,GAAG,CACrD,CAAC;YACF,IAAI,KAAK,CAAC,KAAK,IAAI,GAAG,IAAI,KAAK,CAAC,KAAK,IAAI,GAAG,EAAE;gBAC5C,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC,GAAG,KAAK,CAAC,KAAK,CAAC;gBAC/D,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,qBAAqB,CAAC,GAAG,KAAK,CAAC;aACvE;iBAAM,IAAI,KAAK,CAAC,KAAK,GAAG,GAAG,EAAE;gBAC5B,IAAI,gBAAgB,GAAG,aAAa,CAAC,SAAS,CAAC;gBAC/C,aAAa,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,GAAG,gBAAgB,CAAC;gBAC3D,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,qBAAqB,CAAC,GAAG,KAAK,CAAC;aACvE;iBAAM,IAAI,KAAK,CAAC,KAAK,GAAG,GAAG,EAAE;aAC7B;YACD,OAAO,KAAK,CAAC;SACd;QAED,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC,KAAK,CAAC;IAClC,CAAC;IAED,cAAc,CAAC,SAAc,EAAE,KAAU,EAAE,SAAc,EAAE,SAAc;QACvE,IAAI,SAAS,IAAI,QAAQ,EAAE;YACzB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;SACpB;aAAM,IAAI,SAAS,IAAI,OAAO,EAAE;YAC/B,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,SAAS,EAAE,SAAS,CAAC,CAAC;SACzC;IACH,CAAC;IAED,KAAK,CAAC,KAAU,EAAE,SAAc,EAAE,SAAc;QAC9C,IAAI,SAAS,GAAG;YACd,GAAG,SAAS;SACb,CAAC;QACF,SAAS,CAAC,SAAS,CAAC,GAAG,cAAc,CAAC;QACtC,SAAS,CAAC,QAAQ,CAAC,GAAG,GAAG,CAAC;QAC1B,SAAS,CAAC,UAAU,CAAC,GAAG,GAAG,CAAC;QAC5B,IAAI,CAAC,0BAA0B,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC,EAAE,CAAC,EAAE,SAAS,CAAC,CAAC;IAClE,CAAC;IACD,MAAM,CAAC,KAAU;QACf,IAAI,CAAC,0BAA0B,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;IACnD,CAAC;IAED,WAAW;QACT,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;QAC5B,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;YAC5C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;QACjD,CAAC,EAAE,GAAG,CAAC,CAAC;QACR,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,EAAE,IAAI,CAAC,CAAC;IACX,CAAC;;sFA9nEU,mBAAmB;iHAAnB,mBAAmB;kEACnB,+GAAoB;;;;;;;;;;qFAHpB,CAAC,iEAAa,EAAE,wDAAc,CAAC;;QC1B5C,yEAAkC;QAOpB,8DAKC;QALD,yEAKC;QAMG,uEAQE;QAQJ,4DAAI;QAEN,0HACF;QAAA,4DAAI;QAEN,+DAAmD;QAAnD,2EAAmD;QAY3C,4IAAS,uBAAmB,IAAC;QAC9B,4DAAS;QACV,8EAQC;QAFC,4IAAS,WAAO,IAAC;QAElB,4DAAS;QACV,wHAQU;QACZ,4DAAM;QA4ChB,mHAqHM;QACN,mHAsDM;QAkDN,6IA8BoB;QACtB,4DAAM;QACN,mHAuLM;QACR,4DAAM;QACN,kHAcM;QAEN,2EAA8B;QAE1B,mMAA4B,wFAGlB,iBAAa,IAHK;QAK5B,kIAEc;QACd,+EAKC;QACC,kIASc;QACd,kIA2Cc;QACd,kIAMc;QAChB,4DAAU;QAId,2FAMC;QAOK,4RAAS,uEAAW,KAAC;QACtB,4DAAS;QAId,2FAMC;QAOK,4RAAS,uEAAY,KAAC;QACvB,4DAAS;QAEV,8EAMC;QADC,4RAAS,uEAAY,KAAC;QACvB,4DAAS;QAGd,2FAKC;QAOK,4RAAS,uEAAY,KAAC;QACvB,4DAAS;QAEV,8EAMC;QADC,4RAAS,uEAAY,KAAC;QACvB,4DAAS;QAGd,2FAKC;QAOK,4RAAS,uEAAY,KAAC;QACvB,4DAAS;QAEV,8EAMC;QADC,4RAAS,uEAAY,KAAC;QACvB,4DAAS;;QA1sBM,0DAA0B;QAA1B,mFAA0B;QAqB5B,0DAEC;QAFD,iLAEC;QAYD,0DAAwB;QAAxB,qFAAwB;QAGvB,0DAAoB;QAApB,oFAAoB;QAqDhC,0DAAyC;QAAzC,6GAAyC;QAsHzC,0DAAyC;QAAzC,6GAAyC;QAwGzC,0DAAyC;QAAzC,6GAAyC;QA+BT,0DAAuC;QAAvC,uGAAuC;QA2L3E,0DAEA;QAFA,wJAEA;QAgBC,0DAAyC;QAAzC,gIAAyC;QAFzC,uFAA4B;QAY1B,0DAA2B;QAA3B,gIAA2B;QAH3B,yFAA4B;QA2EhC,0DAAkB;QAAlB,2EAAkB;QAkBlB,0DAAkB;QAAlB,2EAAkB;QAwBlB,0DAAkB;QAAlB,2EAAkB;QAwBlB,0DAAkB;QAAlB,2EAAkB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IExrBV,yEAMC;IACC,uDACA;IAAA,4EAA6C;IAiC/C,4DAAK;;;IApCH,gFAAyB;IAFzB,yFAA6B;IAI7B,0DACA;IADA,yFACA;IAAY,0DAAmB;IAAnB,+EAAmB;;;;IAoCjC,qEAAuD;IAEnD,mEAA4B;IAC5B,4EAKE;IADA,mbAAS,yGAA0C,UAAU,CAAC,KAAC;IAJjE,4DAKE;;;IARuB,iFAAyB;;;IA7CxD,qEAAI;IACF,oIAyCK;IACP,4DAAK;IACL,yEAAuB;IACrB,oIAUK;IACP,4DAAK;;;;IAtDe,0DAAY;IAAZ,+EAAY;IA2CV,0DAAO;IAAP,gFAAO;;;;IAoB3B,wEAAyD;IACvD,qEAAI;IAKA,uDACF;IAAA,4DAAM;IA8CV,qEAAe;;;;;IAjDT,0DAAuD;IAAvD,wKAAuD;IAEvD,0DACF;IADE,yGACF;;;IARN,yEAA8B;IAC5B,wJAqDe;IACjB,4DAAK;;;;IAvDD,sFAAyB;IACG,0DAAY;IAAZ,gFAAY;;;IAyD5C,qEAAI;IAEA,4GACF;IAAA,4DAAK;;;IAFD,0DAA4B;IAA5B,wFAA4B;;;IAMjC,uDAQH;;;;IARG,4UAQH;;;ADlJC,MAAM,2BAA2B;IAyCtC,YACU,MAAc,EACd,WAAwB,EACxB,KAAqB,EACrB,mBAAwC,EACxC,cAA8B,EAC9B,IAAgB;QALhB,WAAM,GAAN,MAAM,CAAQ;QACd,gBAAW,GAAX,WAAW,CAAa;QACxB,UAAK,GAAL,KAAK,CAAgB;QACrB,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,mBAAc,GAAd,cAAc,CAAgB;QAC9B,SAAI,GAAJ,IAAI,CAAY;QA9C1B,4BAAuB,GAAY,KAAK,CAAC;QACzC,4BAAuB,GAAY,KAAK,CAAC;QACzC,0BAAqB,GAAY,KAAK,CAAC;QACvC,4BAAuB,GAAY,KAAK,CAAC;QACzC,iCAA4B,GAAY,KAAK,CAAC;QAC9C,gCAA2B,GAAY,KAAK,CAAC;QAC7C,gDAAgD;QAChD,sCAAsC;QAEtC,+BAA0B,GAAU,EAAE,CAAC;QACvC,+BAA0B,GAAU,EAAE,CAAC;QACvC,6BAAwB,GAAU,EAAE,CAAC;QACrC,+BAA0B,GAAU,EAAE,CAAC;QACvC,oCAA+B,GAAU,EAAE,CAAC;QAC5C,mCAA8B,GAAU,EAAE,CAAC;QAC3C,8CAA8C;QAC9C,oCAAoC;QAEpC,iBAAY,GAAG,EAAE,CAAC;QAClB,iBAAY,GAAG,EAAE,CAAC;QAClB,iBAAY,GAAG,EAAE,CAAC;QAClB,eAAU,GAAG,EAAE,CAAC;QAChB,sBAAiB,GAAG,EAAE,CAAC;QACvB,qBAAgB,GAAG,EAAE,CAAC;QAEtB,aAAQ,GAAQ,EAAE,CAAC;QAEnB,oBAAe,GAAQ,EAAE,CAAC;QAE1B,eAAU,GAAG,CAAC,CAAC;QACf,aAAQ,GAAG,EAAE,CAAC;QACd,eAAU,GAAG,CAAC,CAAC;QACf,iBAAY,GAAG,CAAC,CAAC;QACjB,WAAM,GAAG,IAAI,CAAC;QACd,YAAO,GAAG,MAAM,CAAC;QAEjB,gBAAW,GAAG,IAAI,CAAC;QAEnB,qBAAgB,GAAG,EAAE,CAAC;QAWtB,SAAI,GAAU;YACZ,EAAE,KAAK,EAAE,cAAc,EAAE,MAAM,EAAE,eAAe,EAAE,KAAK,EAAE,KAAK,EAAE;YAChE;gBACE,KAAK,EAAE,cAAc;gBACrB,MAAM,EAAE,eAAe;gBACvB,KAAK,EAAE,KAAK;aACb;YACD,EAAE,KAAK,EAAE,cAAc,EAAE,MAAM,EAAE,eAAe,EAAE,KAAK,EAAE,KAAK,EAAE;YAChE,EAAE,KAAK,EAAE,YAAY,EAAE,MAAM,EAAE,aAAa,EAAE,KAAK,EAAE,KAAK,EAAE;YAC5D,EAAE,KAAK,EAAE,mBAAmB,EAAE,MAAM,EAAE,oBAAoB,EAAE,KAAK,EAAE,KAAK,EAAE;YAC1E,EAAE,KAAK,EAAE,kBAAkB,EAAE,MAAM,EAAE,mBAAmB,EAAE,KAAK,EAAE,KAAK,EAAE;SACzE,CAAC;QAEF,cAAS,GAAQ;YACf,YAAY,EAAE,CAAC;YACf,YAAY,EAAE,CAAC;YACf,YAAY,EAAE,CAAC;YACf,UAAU,EAAE,CAAC;YACb,iBAAiB,EAAE,CAAC;YACpB,gBAAgB,EAAE,CAAC;SACpB,CAAC;QACF,kBAAa,GAAQ;YACnB,YAAY,EAAE,CAAC;YACf,YAAY,EAAE,CAAC;YACf,YAAY,EAAE,CAAC;YACf,UAAU,EAAE,CAAC;YACb,iBAAiB,EAAE,CAAC;YACpB,gBAAgB,EAAE,CAAC;SACpB,CAAC;QAEF,gBAAW,GAAG,aAAa,CAAC;QAE5B,qBAAqB;QACrB,yBAAoB,GAAG,KAAK,CAAC;QAC7B,iBAAY,GAAG,KAAK,CAAC;IApClB,CAAC;IAsCJ,QAAQ;QACN,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;YACjC,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;QAE7D,qDAAqD;IACvD,CAAC;IAED,aAAa,CAAC,CAAM;QAClB,yBAAyB;QACzB,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;YACtB,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC5D,OAAO,CAAC,GAAG,CACT,+BAA+B,EAC/B,CAAC,EACD,IAAI,CAAC,QAAQ,EACb,IAAI,CAAC,UAAU,CAChB,CAAC;YACF,IAAI,kBAAkB,GAAG,IAAI,CAAC,WAAW,CAAC;YAC1C,IAAI,CAAC,CAAC,IAAI,EAAE;gBACV,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,IAAI,CAAC;aACxB;YACD,IAAI,CAAC,CAAC,SAAS,EAAE;gBACf,IAAI,CAAC,CAAC,SAAS,IAAI,CAAC,EAAE;oBACpB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;iBACvB;qBAAM;oBACL,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;iBACtB;gBACD,QAAQ,CAAC,CAAC,SAAS,EAAE;oBACnB,KAAK,cAAc;wBACjB,IAAI,CAAC,MAAM,GAAG,cAAc,CAAC;wBAC7B,MAAM;oBACR,KAAK,cAAc;wBACjB,IAAI,CAAC,MAAM,GAAG,cAAc,CAAC;wBAC7B,MAAM;oBACR,KAAK,cAAc;wBACjB,IAAI,CAAC,MAAM,GAAG,cAAc,CAAC;wBAC7B,MAAM;oBACR,KAAK,YAAY;wBACf,IAAI,CAAC,MAAM,GAAG,YAAY,CAAC;wBAC3B,MAAM;oBACR,KAAK,mBAAmB;wBACtB,IAAI,CAAC,MAAM,GAAG,mBAAmB,CAAC;wBAClC,MAAM;oBACR,KAAK,kBAAkB;wBACrB,IAAI,CAAC,MAAM,GAAG,kBAAkB,CAAC;wBACjC,MAAM;oBAER;wBACE,IAAI,CAAC,MAAM,GAAG,cAAc,CAAC;wBAC7B,MAAM;iBACT;aACF;iBAAM;gBACL,IAAI,CAAC,MAAM,GAAG,cAAc,CAAC;gBAC7B,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;aACvB;YACD,IAAI,CAAC,CAAC,OAAO,IAAI,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE;gBAClD,IAAI,YAAY,GAAG,EAAE,CAAC;gBACtB,KAAK,MAAM,IAAI,IAAI,CAAC,CAAC,OAAO,EAAE;oBAC5B,QAAQ,IAAI,EAAE;wBACZ,KAAK,cAAc;4BACjB,YAAY,GAAG,kBAAkB,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC;4BAC5D,MAAM;wBACR,KAAK,cAAc;4BACjB,YAAY,GAAG,kBAAkB,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC;4BAC5D,MAAM;wBACR,KAAK,cAAc;4BACjB,YAAY,GAAG,yBAAyB,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC;4BACnE,MAAM;wBACR,KAAK,YAAY;4BACf,YAAY,GAAG,gBAAgB,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC;4BAC1D,MAAM;wBACR,KAAK,mBAAmB;4BACtB,YAAY,GAAG,uBAAuB,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC;4BACjE,MAAM;wBACR,KAAK,kBAAkB;4BACrB,YAAY,GAAG,sBAAsB,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC;4BAChE,MAAM;wBAER;4BACE,YAAY,GAAG,EAAE,CAAC;4BAClB,MAAM;qBACT;oBACD,IAAI,kBAAkB,EAAE,MAAM,IAAI,kBAAkB,IAAI,IAAI,EAAE;wBAC5D,IAAI,YAAY,EAAE,MAAM,EAAE;4BACxB,kBAAkB,IAAI,IAAI,YAAY,EAAE,CAAC;yBAC1C;qBACF;yBAAM;wBACL,kBAAkB,GAAG,YAAY,CAAC;qBACnC;iBACF;gBACD,OAAO,CAAC,GAAG,CAAC,oBAAoB,EAAE,kBAAkB,CAAC,CAAC;gBACtD,IAAI,CAAC,0BAA0B,CAAC,kBAAkB,CAAC,CAAC;aACrD;iBAAM;gBACL,IAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;aACnD;SACF;QACD,IAAI,CAAC,MAAM,GAAG,cAAc,CAAC;QAC7B,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;QACtB,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;IAC5B,CAAC;IAED,0BAA0B,CAAC,WAAgB;QACzC,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,OAAwB,CAAC;QAE7B,OAAO,CAAC,GAAG,CACT,UAAU,EACV,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,EACvB,WAAW,EACX,GAAG,IAAI,CAAC,UAAU,EAAE,EACpB,GAAG,IAAI,CAAC,QAAQ,EAAE,EAClB,IAAI,CAAC,MAAM,EACX,IAAI,CAAC,OAAO,CACb,CAAC;QACF,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,6BAA6B,CACzD,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,SAAS,CAAC,EACrC,WAAW,EACX,GAAG,IAAI,CAAC,UAAU,EAAE,EACpB,GAAG,IAAI,CAAC,QAAQ,EAAE,EAClB,IAAI,CAAC,MAAM,EACX,IAAI,CAAC,OAAO,CACb,CAAC;QAEF,OAAO,CAAC,SAAS,CACf,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,EAAE;gBAC1B,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;oBAChD,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;iBAC3B;qBAAM;oBACL,IAAI,CAAC,eAAe,GAAG,GAAG,CAAC,IAAI,EAAE,+BAA+B,CAAC;oBACjE,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC,IAAI,EAAE,UAAU,CAAC;oBACvC,IAAI,CAAC,YAAY,GAAG,GAAG,CAAC,IAAI,EAAE,UAAU,CAAC;oBACzC,6DAA6D;oBAC7D,wDAAwD;oBACxD,mDAAmD;oBACnD,MAAM;oBACN,wDAAwD;oBACxD,mDAAmD;oBACnD,MAAM;oBACN,sDAAsD;oBACtD,mDAAmD;oBACnD,MAAM;oBACN,wDAAwD;oBACxD,mDAAmD;oBACnD,MAAM;oBACN,4CAA4C;oBAC5C,mDAAmD;oBACnD,MAAM;oBACN,gDAAgD;oBAChD,mDAAmD;oBACnD,MAAM;oBACN,IAAI,IAAI,CAAC,eAAe,EAAE;wBACxB,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;4BACpC,IAAI,CAAC,kBAAkB,CAAC,GAAG,IAAI,CAAC,kBAAkB,CAAC;iCAChD,KAAK,CAAC,GAAG,CAAC;iCACV,IAAI,CAAC,IAAI,CAAC,CAAC;wBAChB,CAAC,CAAC,CAAC;qBACJ;iBACF;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,8DAA8D;QAChE,CAAC,CACF,CAAC;IACJ,CAAC;IAED,sBAAsB,CAAC,KAAK;QAC1B,IAAI,CAAC,OAAO,KAAK,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,KAAK,SAAS,CAAC,CAAC;IAC7D,CAAC;IAED,oBAAoB,CAAC,KAAK;QACxB,IAAI,CAAC,OAAO,KAAK,SAAS,CAAC,GAAG,KAAK,CAAC;IACtC,CAAC;IAED,oBAAoB,CAAC,KAAU;QAC7B,OAAO,IAAI,CAAC,iBAAiB,KAAK,EAAE,CAAC,CAAC;IACxC,CAAC;IAED,iBAAiB,CAAC,EAAe,EAAE,KAAU;QAC3C,IAAI,CAAC,iBAAiB,KAAK,EAAE,CAAC,GAAG,EAAE,CAAC,KAAK,CAAC;IAC5C,CAAC;IAED,kBAAkB,CAAC,KAAU;QAC3B,OAAO,IAAI,CAAC,OAAO,KAAK,SAAS,CAAC,CAAC;IACrC,CAAC;IAED,kBAAkB,CAAC,KAAU;QAC3B,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC;IACrB,CAAC;;sGA1RU,2BAA2B;yHAA3B,2BAA2B;QChBxC,yEAAkC;QAG5B,kEAAiC;QACjC,sGACF;QAAA,4DAAM;QAER,yEAAoB;QAOhB,oKAAc,yBAAqB,IAAC;QAUpC,uIA0Dc;QACd,uIA8Dc;QACd,yIAMc;QACd,0IASc;QAChB,4DAAU;;QAzJR,0DAAgB;QAAhB,6EAAgB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACDE;AAGQ;AACW;AAEoB;AAEhB;;;;;;;;;;;;;;;;;;;;ICuEnC,0EAMC;IAFC,iLAAS,wBAAwB,IAAC;IAGlC,wEASC;IADC,qZAAS,uGAAiC,KAAC;IAC5C,4DAAI;IACL,wFAcC;IALC,0nBACqB,wCAC1B,IAAI,CAAC,SAAoB,wGACpB,KAAC,qXACc,qGAA+B,KAD7C;IAGH,4DAAgB;;;;IAxBd,0DAKE;IALF,4OAKE;IAMF,0DAAyC;IAAzC,8GAAyC;;;IA3B/C,yEAMC;IACC,uDACA;IAAA,8IAiCM;IACR,4DAAK;;;;IArCH,iFAAyB;IAFzB,0FAA6B;IAI7B,0DACA;IADA,0FACA;IACG,0DAEA;IAFA,2IAEA;;;;IAmCH,2EAIC;IACC,mEAA4B;IAC5B,4EAKE;IADA,0dAAS,yGAA0C,UAAU,CAAC,KAAC;IAJjE,4DAKE;;;IAZN,qEAAuD;IACrD,+IAYO;IACT,4DAAK;;;IAdwB,iFAAyB;IAIjD,0DAAuD;IAAvD,2HAAuD;;;IAlD9D,qEAAI;IACF,sIA0CK;IACP,4DAAK;IACL,yEAAuB;IACrB,sIAcK;IACP,4DAAK;;;;IA3De,0DAAY;IAAZ,gFAAY;IA4CV,0DAAO;IAAP,gFAAO;;;IAiCvB,0EAGC;IACC,uDACF;IAAA,4DAAM;;;;IADJ,0DACF;IADE,yGACF;;;;;IACA,wEAeG;IAFD,mbAAgB,iGAA2B,KAAC,+WACnC,iGAA2B,KADQ;IAE3C,uDAA2B;IAAA,4DAC7B;;;;;IAbC,gOAME;IAMD,0DAA2B;IAA3B,8FAA2B;;;IAG9B,2EAMC;IACC,uDAIE;IAAA,4DACH;;;;IAVC,oJAEC;IAGD,0DAIE;IAJF,4MAIE;;;;IAiBA,wEAMC;IADD,ugBAAS,sGAA4B,OAAO,GAAG,KAAC;IAC/C,+DAAI;IAAA,4DACN;;;;IAtBH,2EAQC;IAFC,8aAAsB,WAAW,IAAI,IAAI,MAAC,sXACpB,WAAW,IAAI,KAAK,MADA;IAG1C,uDAME;IAAA,+JAOD;IAAA,4DACF;;;;IArBC,oJAEC;IAKD,0DAME;IANF,+RAME;IAEC,0DAEA;IAFA,uIAEA;;;;IA5DP,yEAGC;IACC,4JAKM;IACN,wJAgBC;IAED,8JAYC;IACD,8JAuBC;IACH,4DAAK;;;;IA/DH,sLAA6D;IAG1D,0DAAmC;IAAnC,2GAAmC;IAMnC,0DAAY;IAAZ,4EAAY;IAkBZ,0DAAY;IAAZ,4EAAY;IAaZ,0DAAY;IAAZ,4EAAY;;;;IAyBjB,yEAIC;IAEC,gVAAgB,sEAAiB,KAAC;IAChC,gFAWE;IAPA,6aAAS,oGAA8B,KAAC;IAJ1C,4DAWE;IACF,sEAAkC;IACpC,4DAAQ;;;;IAjBR,sLAA6D;IAMzD,0DAA+B;IAA/B,gGAA+B;;;;IAarC,yEAIC;IAOK,waAAS,8FAAwB,KAAC;IACnC,4DAAS;;;IATZ,sLAA6D;;;IA7FjE,wEAAyD;IACvD,qJAiEK;IAEL,qJAqBK;IACL,qJAcK;IACP,qEAAe;;;IAvGV,0DAAuD;IAAvD,2HAAuD;IAmEvD,0DAA2B;IAA3B,2FAA2B;IAsB3B,0DAA8B;IAA9B,8FAA8B;;;IAhGrC,yEAIC;IACC,0JAyGe;IACjB,4DAAK;;;;;IA9GH,sFAAyB;IAIK,0DAAY;IAAZ,gFAAY;;;IA6G5C,qEAAI;IAC+B,yEAAc;IAAA,4DAAK;;;IAAhD,0DAA4B;IAA5B,yFAA4B;;;IAIlC,uDAOF;;;IAPE,uRAOF;;;IAhNJ,0EAAoD;IAYhD,0IA+Dc;IACd,0IAsHc;IACd,0IAIc;IACd,0IAQc;IAChB,4DAAU;;;IA9MR,0DAAgB;IAAhB,gFAAgB;;;;IAiNtB,0EAA+E;IAEvD,qEAAsC;IAAA,4DAAM;IAElE,0EAAiB;IAEV,0GAA6C;IAAA,4DAAI;IACpD,4EAOC;IADC,uSAAS,qFAAmB,KAAC;IAC9B,4DAAS;;;IAaV,0EAAgC;IAAA,yEAAc;IAAA,4DAAM;;;IAUhD,qEAGC;IACC,uDACF;IAAA,4DAAK;;;IAHH,qHAA6D;IAE7D,0DACF;IADE,0FACF;;;IANF,qEAAI;IACF,iIAKK;IACP,4DAAK;;;IALe,0DAAuB;IAAvB,gGAAuB;;;IAUvC,qEAAqC;IACnC,uEAIE;IACJ,4DAAK;;;;IAHD,0DAAkC;IAAlC,mGAAkC;;;;IAItC,yEAGC;IAQK,+dAAS,wGAA8B,MAAM,CAAC,KAAC;IAChD,4DAAS;IACV,6EAMC;IADC,keAAS,wGAA8B,UAAU,CAAC,KAAC;IACpD,4DAAS;;IAVR,0DAAoB;IAApB,6EAAoB;IAOpB,0DAAyB;IAAzB,kFAAyB;;;IAxBjC,wEAAsE;IACpE,gJAMK;IACL,gJAsBK;IACP,qEAAe;;;IA9BR,0DAA8B;IAA9B,8FAA8B;IAQhC,0DAA8B;IAA9B,8FAA8B;;;IAVrC,qEAAI;IACF,qJA+Be;IACjB,4DAAK;;;IAhC2B,0DAAyB;IAAzB,gGAAyB;;;IAmCzD,qEAAI;IAEA,+EACF;IAAA,4DAAK;;;IAFD,0DAA4C;IAA5C,wGAA4C;;;;ADjVnD,MAAM,uBAAuB;IAyElC,YACU,MAAc,EACd,WAAwB,EACxB,KAAqB,EACrB,kBAAsC,EACtC,mBAAwC,EACxC,cAA8B,EAC9B,EAAsB,EACtB,cAA8B,EAC9B,IAAgB;QARhB,WAAM,GAAN,MAAM,CAAQ;QACd,gBAAW,GAAX,WAAW,CAAa;QACxB,UAAK,GAAL,KAAK,CAAgB;QACrB,uBAAkB,GAAlB,kBAAkB,CAAoB;QACtC,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,mBAAc,GAAd,cAAc,CAAgB;QAC9B,OAAE,GAAF,EAAE,CAAoB;QACtB,mBAAc,GAAd,cAAc,CAAgB;QAC9B,SAAI,GAAJ,IAAI,CAAY;QAjF1B,aAAQ,GAAG,0BAA0B,CAAC;QACtC,oBAAe,GAAU,EAAE,CAAC;QAE5B,eAAU,GAAG,MAAM,CAAC,IAAI,CAAC;QAGzB,oBAAe,GAAY,KAAK,CAAC;QAEjC,aAAQ,GAAQ,EAAE,CAAC;QAGnB,6BAAwB,GAAU,EAAE,CAAC;QACrC,wBAAmB,GAAU,EAAE,CAAC;QAEhC,2BAAsB,GAAY,KAAK,CAAC;QACxC,2BAAsB,GAAY,KAAK,CAAC;QACxC,kCAA6B,GAAY,KAAK,CAAC;QAC/C,2BAAsB,GAAY,KAAK,CAAC;QACxC,sBAAiB,GAAY,KAAK,CAAC;QAEnC,gBAAW,GAAG,EAAE,CAAC;QACjB,gBAAW,GAAG,EAAE,CAAC;QACjB,uBAAkB,GAAG,EAAE,CAAC;QACxB,gBAAW,GAAG,EAAE,CAAC;QACjB,WAAM,GAAG,EAAE,CAAC;QAEZ,8BAAyB,GAAU,EAAE,CAAC;QACtC,8BAAyB,GAAU,EAAE,CAAC;QACtC,qCAAgC,GAAU,EAAE,CAAC;QAC7C,8BAAyB,GAAU,EAAE,CAAC;QACtC,yBAAoB,GAAU,EAAE,CAAC;QACjC,mBAAc,GAAQ,EAAE,CAAC;QACzB,YAAO,GAAY,IAAI,CAAC;QAExB,cAAS,GAAW,oCAAoC,CAAC;QAEzD,sBAAiB,GAAQ,EAAE,CAAC;QAE5B,SAAI,GAAU;YACZ,EAAE,KAAK,EAAE,aAAa,EAAE,MAAM,EAAE,cAAc,EAAE,KAAK,EAAE,IAAI,EAAE;YAC7D;gBACE,KAAK,EAAE,oBAAoB;gBAC3B,MAAM,EAAE,qBAAqB;gBAC7B,KAAK,EAAE,KAAK;aACb;YACD,EAAE,KAAK,EAAE,aAAa,EAAE,MAAM,EAAE,cAAc,EAAE,KAAK,EAAE,IAAI,EAAE;YAC7D,EAAE,KAAK,EAAE,aAAa,EAAE,MAAM,EAAE,eAAe,EAAE,KAAK,EAAE,KAAK,EAAE;YAC/D,2DAA2D;YAC3D,EAAE,KAAK,EAAE,WAAW,EAAE,MAAM,EAAE,YAAY,EAAE,KAAK,EAAE,IAAI,EAAE;YACzD,EAAE,KAAK,EAAE,WAAW,EAAE,MAAM,EAAE,YAAY,EAAE,KAAK,EAAE,IAAI,EAAE;YACzD,EAAE,KAAK,EAAE,UAAU,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE;YACpD,EAAE,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE;YAClD,EAAE,KAAK,EAAE,WAAW,EAAE,MAAM,EAAE,gBAAgB,EAAE,KAAK,EAAE,IAAI,EAAE;SAC9D,CAAC;QAEF,qBAAgB,GAAQ,EAAE,CAAC;QAE3B,yBAAoB,GAAQ;YAC1B;gBACE,KAAK,EAAE,mBAAmB;gBAC1B,MAAM,EAAE,YAAY;aACrB;YACD;gBACE,KAAK,EAAE,QAAQ;gBACf,MAAM,EAAE,QAAQ;aACjB;SACF,CAAC;QAEF,mBAAc,GAAY,KAAK,CAAC;QAEhC,qBAAgB,GAAG,EAAE,CAAC;IAYnB,CAAC;IAEJ,QAAQ;QACN,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,MAAM,cAAc,GAAG,SAAS,CAAC;QAEjC,qBAAqB;QACrB,IAAI,CAAC,WAAW;aACb,SAAS,CAAC,cAAc,CAAC;aACzB,IAAI,CAAC,CAAC,eAAuB,EAAE,EAAE;YAChC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC;QACjD,CAAC,CAAC,CAAC;QACL,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;YACjC,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;QAE7D,IAAI,CAAC,cAAc,CAAC,eAAe,GAAG,IAAI,CAAC;QAC3C,IAAI,CAAC,cAAc,CAAC,UAAU,GAAG,IAAI,CAAC;QAEtC,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAE1B,EAAE;QACF,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC,KAAK,CACxC,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAClC,CAAC;QACF,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;QACzE,IAAI,YAAY,CAAC,OAAO,CAAC,iBAAiB,CAAC,EAAE;YAC3C,IAAI,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC,CAAC;YACzE,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;YAC5B,IAAI,cAAc,EAAE;gBAClB,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,cAAc,CAAC,CAAC;aACzC;SACF;QACD,IAAI,YAAY,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE;YACtC,IAAI,SAAS,GAAG,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAC7C,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,IAAI,kBAAkB,CACxC,CAAC,CAAC,CAAC,CAAC;YACL,IAAI,SAAS,EAAE;gBACb,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;aACvC;SACF;QAED,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,IAAI,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE;YAC/C,IAAI,CAAC,eAAe,EAAE,CAAC;SACxB;aAAM;YACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;YACjE,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;SACxC;QACD,EAAE;IACJ,CAAC;IAED,kBAAkB;QAChB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YACnC,YAAY,EAAE,IAAI,8DAAkB,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAE,EAAE;gBACnE,+DAAmB;aACpB,CAAC;YACF,OAAO,EAAE,IAAI,8DAAkB,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAE,EAAE;gBAC9D,+DAAmB;aACpB,CAAC;SACH,CAAC,CAAC;IACL,CAAC;IAED,IAAI,OAAO;QACT,OAAO,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;IAClD,CAAC;IACD,IAAI,UAAU;QACZ,OAAO,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;IAC7C,CAAC;IAED,eAAe;QACb,iCAAiC;QACjC,YAAY,CAAC,OAAO,CAClB,iBAAiB,EACjB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,aAAa,CAC7D,CAAC;QACF,YAAY,CAAC,OAAO,CAClB,YAAY,EACZ,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,YAAY,CAClE,CAAC;QACF,IAAI,CAAC,wBAAwB,CAC3B,IAAI,CAAC,QAAQ,CAAC,MAAM,EACpB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EACvB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAC3B,CAAC;IACJ,CAAC;IAED,wBAAwB,CAAC,MAAW,EAAE,QAAa,EAAE,WAAgB;QACnE,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,8CAAQ,CAAC;YACP,kBAAkB,EAAE,IAAI,CAAC,cAAc,CAAC,qBAAqB,CAC3D,IAAI,CAAC,QAAQ,CAAC,MAAM,EACpB,IAAI,CAAC,QAAQ,EACb,QAAQ,EACR,WAAW,CACZ;YACD,kBAAkB,EAAE,IAAI,CAAC,cAAc,CAAC,qBAAqB,CAC3D,MAAM,EACN,IAAI,CAAC,QAAQ,EACb,QAAQ,EACR,WAAW,CACZ;SACF,CAAC;aACC,IAAI,CACH,oDAAI,CAAC,CAAC,CAAC,EACP,mDAAG,CAAC,CAAC,QAAQ,EAAE,EAAE;YACf,IAAI,kBAAkB,GAAG,+DAAY,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAC;YACnE,OAAO,kBAAkB,CAAC,cAAc,CAAC,CAAC;YAC1C,IAAI,CAAC,gBAAgB,GAAG,QAAQ,CAAC,kBAAkB,CAAC,cAAc,CAAC,CAAC;YACpE,MAAM,kBAAkB,GAAG,kBAAkB,CAAC;YAC9C,MAAM,kBAAkB,GAAG,QAAQ,CAAC,kBAAkB,CAAC;YAEvD,IAAI,kBAAkB,CAAC,MAAM,CAAC,EAAE;gBAC9B,OAAO,CAAC,GAAG,CAAC,oBAAoB,EAAE,kBAAkB,CAAC,CAAC;gBACtD,IAAI,CAAC,cAAc,GAAG,kBAAkB,CAAC;gBACzC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;oBACxC,IAAI,cAAc,GAAG,KAAK,CAAC;oBAC3B,IAAI,eAAe,GAAG,KAAK,CAAC;oBAE5B,IAAI,IAAI,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;wBAC7C,cAAc,GAAG,IAAI,CAAC;qBACvB;oBAED,IAAI,IAAI,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE;wBACrD,eAAe,GAAG,IAAI,CAAC;qBACxB;oBACD,IAAI,SAAS,GAAG,IAAI,CAAC;oBACrB,IAAI,cAAc,IAAI,eAAe,EAAE;wBACrC,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;qBAClD;yBAAM;wBACL,IAAI,cAAc,EAAE;yBACnB;6BAAM,IAAI,eAAe,EAAE;4BAC1B,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;yBAClD;6BAAM,IAAI,CAAC,cAAc,IAAI,CAAC,eAAe,EAAE;yBAC/C;qBACF;oBACD,IAAI,CAAC,UAAU,CAAC,GAAG,SAAS;wBAC1B,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,GAAG,EAAE;wBACtC,CAAC,CAAC,GAAG,CAAC;oBACR,IAAI,CAAC,WAAW,CAAC,GAAG,SAAS;wBAC3B,CAAC,CAAC,IAAI,IAAI,CACN,SAAS;6BACN,KAAK,CAAC,aAAa,CAAC;6BACpB,GAAG,EAAE;6BACL,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;6BACd,KAAK,CAAC,GAAG,CAAC;6BACV,OAAO,EAAE;6BACT,IAAI,CAAC,GAAG,CAAC;4BACV,GAAG;4BACH,SAAS,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,GAAG,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CACtD,GAAG,IAAI,IAAI,EAAE;4BACd,CAAC,CAAC,IAAI;4BACN,CAAC,CAAC,KAAK;wBACT,CAAC,CAAC,KAAK,CAAC;oBACV,IAAI;oBACJ,IAAI,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC,iBAAiB,CAAC;wBACzC,CAAC,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,kBAAkB,CAAC,OAAO,CAAC;wBAC/D,CAAC,CAAC,GAAG,CAAC;oBAER,IAAI,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;oBAEpD,MAAM,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;oBAChD,IAAI,OAAO,GAAG,EAAE,CAAC;oBACjB,IAAI,KAAK,GAAG,EAAE,CAAC;oBACf,IAAI,UAAU,GAAG,EAAE,CAAC;oBAEpB,uBAAuB;oBACvB,QAAQ,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;wBAC3B,IAAI,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;4BACtD,sBAAsB;4BACtB,MAAM,YAAY,GAAG,OAAO;iCACzB,KAAK,CAAC,GAAG,CAAC;iCACV,GAAG,CAAC,CAAC,aAAa,EAAE,EAAE;gCACrB,MAAM,CAAC,IAAI,EAAE,EAAE,CAAC,GAAG,aAAa;qCAC7B,KAAK,CAAC,IAAI,CAAC;qCACX,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gCACrC,OAAO,WAAW,IAAI,IAAI,EAAE,EAAE,CAAC;4BACjC,CAAC,CAAC,CAAC;4BACL,OAAO,GAAG,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;yBACpC;6BAAM,IACL,OAAO,CAAC,UAAU,CAAC,cAAc,CAAC;4BAClC,OAAO,CAAC,QAAQ,CAAC,YAAY,CAAC,EAC9B;4BACA,oBAAoB;4BACpB,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;4BACrB,MAAM,YAAY,GAAG,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,WAAW,EAAE,EAAE;gCAC1D,MAAM,CAAC,SAAS,EAAE,OAAO,CAAC,GAAG,WAAW;qCACrC,KAAK,CAAC,IAAI,CAAC;qCACX,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gCACrC,OAAO,WAAW,SAAS,MAAM,OAAO,EAAE,CAAC;4BAC7C,CAAC,CAAC,CAAC;4BACH,KAAK,GAAG,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;yBAClC;oBACH,CAAC,CAAC,CAAC;oBAEH,IAAI,OAAO,CAAC,MAAM,IAAI,KAAK,CAAC,MAAM,EAAE;wBAClC,UAAU,IAAI,WAAW,OAAO,YAAY,KAAK,GAAG,CAAC;qBACtD;yBAAM,IAAI,OAAO,CAAC,MAAM,EAAE;wBACzB,UAAU,IAAI,WAAW,OAAO,GAAG,CAAC;qBACrC;yBAAM,IAAI,KAAK,CAAC,MAAM,EAAE;wBACvB,UAAU,IAAI,SAAS,KAAK,GAAG,CAAC;qBACjC;oBACD,IAAI,WAAW,CAAC,MAAM,EAAE;wBACtB,IAAI,gBAAgB,GAAG,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC;4BAC5D,WAAW,EAAE,WAAW;yBACzB,CAAC,CAAC;wBACH,IAAI,CAAC,WAAW,GACd,IAAI,CAAC,kBAAkB,CAAC,uBAAuB,CAC7C,gBAAgB,EAChB,kBAAkB,EAClB,IAAI,CAAC,gBAAgB,CAExB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;wBACb,IAAI,UAAU,EAAE,MAAM,EAAE;4BACtB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,GAAG,IAAI,GAAG,UAAU,CAAC;yBACzD;qBACF;yBAAM;wBACL,IAAI,UAAU,EAAE,MAAM,EAAE;4BACtB,IAAI,CAAC,WAAW,GAAG,UAAU,CAAC;yBAC/B;qBACF;gBACH,CAAC,CAAC,CAAC;gBACH,IAAI,CAAC,eAAe,GAAG,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;gBACrD,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;gBAC7B,IAAI,CAAC,iBAAiB,GAAG;oBACvB,GAAG,IAAI,CAAC,cAAc,CAAC,mBAAmB,CAAC;iBAC5C,CAAC;gBACF,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC,GAAG,CACvD,CAAC,IAAI,EAAE,EAAE;oBACP,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;gBACtC,CAAC,CACF,CAAC;gBACF,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC,GAAG,CACvD,CAAC,IAAI,EAAE,EAAE;oBACP,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;gBACtC,CAAC,CACF,CAAC;gBACF,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,GAAG,CAC3D,CAAC,IAAI,EAAE,EAAE;oBACP,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;gBACtC,CAAC,CACF,CAAC;gBACF,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;oBAC9D,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;gBACtC,CAAC,CAAC,CAAC;gBACH,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;oBACpD,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;gBACtC,CAAC,CAAC,CAAC;aACJ;iBAAM;gBACL,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;aACjC;YACD,OAAO,kBAAkB,CAAC;QAC5B,CAAC,CAAC,CACH;aACA,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACjB,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;gBAC5B,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;gBAC1B,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;iBAClE;aACF;iBAAM;gBACL,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE;oBAChB,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;oBAC1B,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;oBAC5B,IAAI,GAAG,CAAC,KAAK,CAAC;wBAAE,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC;iBAC7C;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;YAC5B,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;YAC5B,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,OAAO,CAAC,GAAG,CAAC,4CAA4C,EAAE,GAAG,CAAC,CAAC;YAC/D,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,iDAAiD,CAClD,CAAC;QACJ,CAAC,CACF,CAAC;IACN,CAAC;IAED,kBAAkB,CAAC,IAAS;QAC1B,IAAI,CAAC,cAAc,CAAC,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC;QAC9D,IAAI,CAAC,cAAc,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC;QAC5D,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;YACnB,QAAQ;YACR,kBAAkB;YAClB,aAAa;YACb,IAAI,CAAC,WAAW;YAChB,MAAM;SACP,CAAC,CAAC;QACH,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IACpC,CAAC;IAED,sBAAsB;QACpB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAC3B,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;IAClD,CAAC;IAED,WAAW;QACT,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;QAC5B,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;YAC5C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;QACjD,CAAC,EAAE,GAAG,CAAC,CAAC;QACR,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,EAAE,IAAI,CAAC,CAAC;IACX,CAAC;IAED,aAAa,CAAC,QAAa,EAAE,SAAc,EAAE,SAAc;QACzD,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,SAAS,EAAE,SAAS,CAAC,CAAC;QAC5C,IAAI,SAAS,IAAI,MAAM,EAAE;YACvB,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;SACnC;aAAM,IAAI,SAAS,IAAI,UAAU,EAAE;YAClC,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;SACvC;IACH,CAAC;IAED,OAAO,CAAC,UAAe;QACrB,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,OAAO,CAAC;QACZ,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,8BAA8B,UAAU,EAAE,EAAE;YAClE,OAAO,EAAE,IAAI,6DAAW,EAAE,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;YAC9D,YAAY,EAAE,MAAM;SACrB,CAAC,CAAC;QAEH,OAAO,CAAC,SAAS,CACf,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,MAAM,QAAQ,GAAG,IAAI,IAAI,CAAC,CAAC,GAAG,CAAC,EAAE,EAAE,IAAI,EAAE,YAAY,EAAE,CAAC,CAAC;YACzD,MAAM,OAAO,GAAG,MAAM,CAAC,GAAG,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC;YAErD,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;YAC/B,MAAM,CAAC,GAAG,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;QACtC,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,GAAG,CAAC,MAAM,IAAI,GAAG,EAAE;gBACrB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,gBAAgB,CAAC,CAAC;aACrD;iBAAM;gBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,uDAAuD,CACxD,CAAC;aACH;YACD,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,CACF,CAAC;IACJ,CAAC;IACD,WAAW,CAAC,UAAe;QACzB,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAC1B,sCAAsC,UAAU,EAAE,EAClD;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;YAC9D,OAAO,EAAE,UAAU;YACnB,YAAY,EAAE,MAAM;SACrB,CACF,CAAC;QAEF,QAAQ,CAAC,SAAS,CAChB,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,IAAI,GAAS,GAAG,CAAC,IAAY,CAAC;YAClC,IAAI,CAAC,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;YACpC,CAAC,CAAC,QAAQ,GAAG,GAAG,CAAC,GAAG,IAAI,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC;YACjD,MAAM,OAAO,GAAG,MAAM,CAAC,GAAG,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;YACjD,CAAC,CAAC,IAAI,GAAG,OAAO,CAAC;YACjB,CAAC,CAAC,KAAK,EAAE,CAAC;YACV,MAAM,CAAC,GAAG,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;YACpC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,8BAA8B,CAAC,CAAC;QACpE,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,GAAG,CAAC,MAAM,IAAI,GAAG,EAAE;gBACrB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,gBAAgB,CAAC,CAAC;aACrD;iBAAM;gBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,uDAAuD,CACxD,CAAC;aACH;YACD,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,CACF,CAAC;IACJ,CAAC;IAED,QAAQ,CAAC,EAAO;QACd,OAAO,IAAI,CAAC,iBAAiB,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;IAC7C,CAAC;IAED,aAAa,CAAC,CAAM,EAAE,IAAS;QAC7B,CAAC,CAAC,cAAc,EAAE,CAAC;QACnB,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,IAAI,SAAS,GAAG,EAAE,CAAC;QACnB,IAAI,CAAC,CAAC,MAAM,CAAC,OAAO,EAAE;YACpB,SAAS,GAAG,QAAQ,CAAC;YACrB,IAAI,GAAG,UAAU,CAAC;SACnB;aAAM;YACL,SAAS,GAAG,UAAU,CAAC;YACvB,IAAI,GAAG,YAAY,CAAC;SACrB;QACD,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;QAChD,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,WAAW,GAAG,EAAE,CAAC;QACrB,IAAI,WAAW,GAAG,kCAAkC,CAAC;QACrD,IACE,SAAS,IAAI,UAAU;YACvB,IAAI,CAAC,iBAAiB,CAAC,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,EACpD;YACA,WAAW;gBACT,mDAAmD;oBACnD,WAAW;oBACX,mBAAmB;oBACnB,IAAI;oBACJ,mBAAmB,IAAI,CAAC,aAAa,CAAC,GAAG;oBACzC,4BAA4B,CAAC;YAC/B,sBAAsB;YACtB,SAAS;YACT,mDAAmD;SACpD;aAAM;YACL,WAAW;gBACT,mDAAmD;oBACnD,yCAAyC;oBACzC,IAAI;oBACJ,mBAAmB,IAAI,CAAC,aAAa,CAAC,GAAG;oBACzC,OAAO;oBACP,4BAA4B,CAAC;YAC/B,IAAI;YACJ,sBAAsB;YACtB,SAAS;YACT,mDAAmD;SACpD;QACD,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;YAC/B,OAAO,EAAE,WAAW;YACpB,GAAG,EAAE,sBAAsB;YAC3B,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,YAAY,CAAC,CAAC,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC;gBACtC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;YACjC,CAAC;YACD,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;gBAC/B,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;YAClC,CAAC;SACF,CAAC,CAAC;IACL,CAAC;IAED,eAAe,CAAC,IAAS;QACvB,IAAI,CAAC,cAAc;aAChB,wBAAwB,CACvB,IAAI,CAAC,aAAa,CAAC,EACnB,MAAM,EACN,IAAI,CAAC,QAAQ,CAAC,MAAM,EACpB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EACvB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,EAC1B,IAAI,CAAC,QAAQ,CACd;aACA,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,kCAAkC,CACnC,CAAC;iBACH;aACF;iBAAM;gBACL,IAAI,GAAG,CAAC,MAAM,CAAC,EAAE;oBACf,IACE,GAAG,CAAC,+BAA+B,CAAC;wBACpC,GAAG,CAAC,+BAA+B,CAAC,CAAC,MAAM,EAC3C;wBACA,IAAI,CAAC,gBAAgB,GAAG,GAAG,CAAC,+BAA+B,CAAC,CAAC;wBAC7D,IAAI,CAAC,sBAAsB,EAAE,CAAC;qBAC/B;yBAAM;wBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,uCAAuC,CACxC,CAAC;qBACH;oBACD,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;iBAClB;qBAAM;oBACL,IAAI,GAAG,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;wBACrB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;qBAC/C;yBAAM;wBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,kCAAkC,CACnC,CAAC;qBACH;oBACD,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;iBACxC;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,OAAO,CAAC,GAAG,CAAC,+BAA+B,EAAE,GAAG,CAAC,CAAC;YAClD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,0DAA0D,CAC3D,CAAC;QACJ,CAAC,CACF,CAAC;IACN,CAAC;IAED,mBAAmB,CAAC,MAAe;QACjC,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;YAC5C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;QACjD,CAAC,EAAE,GAAG,CAAC,CAAC;QACR,IAAI,CAAC,MAAM,EAAE;YACX,UAAU,CAAC,GAAG,EAAE;gBACd,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACzC,CAAC,EAAE,IAAI,CAAC,CAAC;SACV;IACH,CAAC;IAED,YAAY,CAAC,CAAM,EAAE,SAAc,EAAE,IAAS;QAC5C,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QAExC,MAAM,QAAQ,GAAG,IAAI,QAAQ,EAAE,CAAC;QAChC,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QAChD,QAAQ,CAAC,MAAM,CAAC,aAAa,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC;QACpD,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;QACrC,QAAQ,CAAC,MAAM,CAAC,cAAc,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QACzD,QAAQ,CAAC,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC1D,QAAQ,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;QACvC,IAAI,CAAC,gBAAgB,CAAC,QAAQ,EAAE,CAAC,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;IAClD,CAAC;IAED,gBAAgB,CAAC,QAAa,EAAE,SAAc,EAAE,IAAS;QACvD,IAAI,CAAC,cAAc,CAAC,mBAAmB,CAAC,QAAQ,CAAC,CAAC,SAAS,CACzD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,OAAO,GAAG,EAAE,CAAC;YACjB,IAAI,GAAG,CAAC,OAAO,CAAC,IAAI,MAAM,EAAE;gBAC1B,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,OAAO,GAAG,+CAA+C,GAAG,CAAC,KAAK,CAAC,MAAM,IAAI,CAAC,aAAa,CAAC,oCAAoC,CAAC;gBACjI,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;aAC5C;iBAAM;gBACL,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;oBACd,OAAO,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC;oBACrB,SAAS,CAAC,OAAO,GAAG,SAAU,CAAC,OAAO,CAAC;oBACvC,IAAI,CAAC,wBAAwB,CAC3B,IAAI,CAAC,QAAQ,CAAC,MAAM,EACpB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EACvB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAC3B,CAAC;oBACF,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;iBAC5C;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;oBACvC,OAAO,GAAG,gDAAgD,CAAC;oBAC3D,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;iBAC5C;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACjB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,CACF,CAAC;IACJ,CAAC;IAED,iBAAiB;QACf,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,EAAE,kBAAkB,EAAE,aAAa,CAAC,CAAC,CAAC;IACtE,CAAC;IAED,sBAAsB,CAAC,KAAK;QAC1B,IAAI,CAAC,OAAO,KAAK,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,KAAK,SAAS,CAAC,CAAC;IAC7D,CAAC;IAED,oBAAoB,CAAC,KAAK;QACxB,IAAI,CAAC,OAAO,KAAK,SAAS,CAAC,GAAG,KAAK,CAAC;IACtC,CAAC;IAED,oBAAoB,CAAC,KAAU;QAC7B,OAAO,IAAI,CAAC,iBAAiB,KAAK,EAAE,CAAC,CAAC;IACxC,CAAC;IAED,iBAAiB,CAAC,EAAe,EAAE,KAAU;QAC3C,IAAI,CAAC,iBAAiB,KAAK,EAAE,CAAC,GAAG,EAAE,CAAC,KAAK,CAAC;IAC5C,CAAC;IAED,kBAAkB,CAAC,KAAU;QAC3B,OAAO,IAAI,CAAC,OAAO,KAAK,SAAS,CAAC,CAAC;IACrC,CAAC;IAED,kBAAkB,CAAC,KAAU;QAC3B,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC;IACrB,CAAC;IAED,eAAe,CAAC,IAAY;QAC1B,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;IACzC,CAAC;;8FAjrBU,uBAAuB;qHAAvB,uBAAuB;;;;;;;QCxBpC,yEAAkC;QAG5B,kEAAiC;QACjC,sFACF;QAAA,4DAAM;QACN,yEAAoB;QAOhB,+IAAS,uBAAmB,IAAC;QAC9B,4DAAS;QAoDd,mHAkNM;QACR,4DAAM;QACN,mHAiBM;QAEN,yEAA8B;QAE1B,uMAA4B,4FAGlB,iBAAa,IAHK;QAK5B,sIAEc;QACd,+EAKC;QACC,sIASc;QACd,sIAmCc;QACd,sIAMc;QAChB,4DAAU;QAId,2FAKC;QAOK,+RAAS,sEAAW,KAAC;QACtB,4DAAS;QAEV,8EAMC;QADC,+RAAS,sEAAW,KAAC;QACtB,4DAAS;;QArUS,0DAA6B;QAA7B,iIAA6B;QAoNxB,0DAAiD;QAAjD,2JAAiD;QAuBzE,0DAAyC;QAAzC,gIAAyC;QAFzC,uFAA4B;QAY1B,0DAA2B;QAA3B,gIAA2B;QAH3B,uFAA0B;QAkE9B,0DAAkB;QAAlB,2EAAkB;;;;;;;;;;;;;;;;;;ACtX2C;;;AAOxD,MAAM,cAAc;IACzB,YAAoB,IAAgB;QAAhB,SAAI,GAAJ,IAAI,CAAY;QAEpC,oBAAe,GAAG,aAAa,CAAC;QAChC,eAAU,GAAG,YAAY,CAAC;QAElB,0BAAqB,GAAQ,SAAS,CAAC;IALR,CAAC;IAOxC,OAAO,CAAC,IAAS;QACf,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC;IACpC,CAAC;IAED,OAAO;QACL,OAAO,IAAI,CAAC,qBAAqB,CAAC;IACpC,CAAC;IAED,kBAAkB;IAClB,gBAAgB;QACd,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,yDAAyD,CAC1D,CAAC;IACJ,CAAC;IAED,qBAAqB,CACnB,MAAW,EACX,QAAa,EACb,OAAY,EACZ,UAAe;QAEf,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,uDAAuD,EACvD;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC;iBACrB,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC;iBACrB,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;iBACpC,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;SACzC,CACF,CAAC;IACJ,CAAC;IAED,0BAA0B,CACxB,QAAa,EACb,OAAY,EACZ,WAAgB,EAChB,SAAc,EACd,WAAgB,EAChB,UAAe;QAEf,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,iDAAiD,EAAE;YACtE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC;iBACrB,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;iBACpC,GAAG,CAAC,aAAa,EAAE,WAAW,CAAC;iBAC/B,GAAG,CAAC,WAAW,EAAE,SAAS,CAAC;iBAC3B,GAAG,CAAC,aAAa,EAAE,WAAW,CAAC;iBAC/B,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;SACzC,CAAC,CAAC;IACL,CAAC;IAED,6BAA6B,CAAC,IAAS;QACrC,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CACnB,qDAAqD,EACrD,IAAI,CACL,CAAC;IACJ,CAAC;IAED,uBAAuB,CACrB,EAAU,EACV,OAAY,EACZ,UAAe,EACf,QAAa;QAEb,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB;OACC,EACD;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,QAAQ,EAAE,EAAE,CAAC;iBACjB,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;iBACpC,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;iBACrC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC;SACzB,CACF,CAAC;IACJ,CAAC;IACD,sBAAsB;IAEtB,kBAAkB;QAChB,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,qDAAqD,CAAC,CAAC;IAC9E,CAAC;IACD,gBAAgB,CAAC,WAAgB;QAC/B,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,mDAAmD,EAAE;YACxE,OAAO,EAAE,IAAI,6DAAW,EAAE,CAAC,GAAG,CAAC,QAAQ,EAAE,WAAW,CAAC;SACtD,CAAC,CAAC;IACL,CAAC;IAED,qBAAqB,CACnB,EAAU,EACV,QAAa,EACb,OAAY,EACZ,UAAe;QAEf,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,4DAA4D,EAC5D;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,QAAQ,EAAE,EAAE,CAAC;iBACjB,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;iBACpC,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;iBACrC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC;SACzB,CACF,CAAC;IACJ,CAAC;IAED,6BAA6B,CAC3B,EAAU,EACV,WAAgB,EAChB,UAAe,EACf,QAAa,EACb,MAAW,EACX,OAAY;QAEZ,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,0EAA0E,EAC1E;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,QAAQ,EAAE,EAAE,CAAC;iBACjB,GAAG,CAAC,aAAa,EAAE,WAAW,CAAC;iBAC/B,GAAG,CAAC,YAAY,EAAE,UAAU,CAAC;iBAC7B,GAAG,CAAC,UAAU,EAAE,QAAQ,CAAC;iBACzB,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC;iBACrB,GAAG,CAAC,SAAS,EAAE,OAAO,CAAC;SAC3B,CACF,CAAC;IACJ,CAAC;IAED,mBAAmB,CAAC,IAAS;QAC3B,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CACnB,iEAAiE,EACjE,IAAI,CACL,CAAC;IACJ,CAAC;IAED,wBAAwB,CACtB,WAAgB,EAChB,SAAc,EACd,EAAO,EACP,OAAY,EACZ,UAAe,EACf,QAAa;QAEb,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,4DAA4D,EAC5D;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,aAAa,EAAE,WAAW,CAAC;iBAC/B,GAAG,CAAC,WAAW,EAAE,SAAS,CAAC;iBAC3B,GAAG,CAAC,QAAQ,EAAE,EAAE,CAAC;iBACjB,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;iBACpC,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;iBACrC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC;SACzB,CACF,CAAC;IACJ,CAAC;IAED,gCAAgC,CAC9B,EAAU,EACV,OAAY,EACZ,UAAe,EACf,QAAa;QAEb,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,wDAAwD,EACxD;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,QAAQ,EAAE,EAAE,CAAC;iBACjB,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;iBACpC,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;iBACrC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC;SACzB,CACF,CAAC;IACJ,CAAC;IAED,gCAAgC,CAAC,IAAS;QACxC,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CACnB,0DAA0D,EAC1D,IAAI,CACL,CAAC;IACJ,CAAC;IAED,oBAAoB,CAClB,MAAW,EACX,IAAS,EACT,SAAc,EACd,OAAY,EACZ,UAAe,EACf,QAAa;QAEb,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CACnB,yDAAyD,EACzD,IAAI,EACJ;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC;iBACrB,GAAG,CAAC,WAAW,EAAE,SAAS,CAAC;iBAC3B,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;iBACpC,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;iBACrC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC;SACzB,CACF,CAAC;IACJ,CAAC;IAED,oBAAoB,CAClB,MAAW,EACX,IAAS,EACT,SAAc,EACd,OAAY,EACZ,UAAe,EACf,QAAa,EACb,KAAU;QAEV,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CACnB,2DAA2D,EAC3D,IAAI,EACJ;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC;iBACrB,GAAG,CAAC,WAAW,EAAE,SAAS,CAAC;iBAC3B,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;iBACpC,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;iBACrC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC;iBACrB,GAAG,CAAC,OAAO,EAAE,KAAK,CAAC;SACvB,CACF,CAAC;IACJ,CAAC;;4EA1OU,cAAc;+GAAd,cAAc,WAAd,cAAc,mBAFb,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IEyCV,0EAAmF;IAQ/E,uSAAS,0EAAQ,KAAC;IACnB,4DAAS;;;IAqBR,yEAMC;IACC,uDACA;IAAA,4EAEY;IACd,4DAAK;;;IANH,iFAAyB;IAFzB,0FAA6B;IAI7B,0DACA;IADA,0FACA;IACA,0DAAmB;IAAnB,gFAAmB;;;;IAMnB,2EAAkF;IAChF,mEAA4B;IAC5B,4EAKE;IADA,2dAAS,0GAA0C,UAAU,CAAC,KAAC;IAJjE,4DAKE;;;IARN,qEAAuD;IACrD,+IAQO;IACT,4DAAK;;;IAVwB,iFAAyB;IACC,0DAA2B;IAA3B,2FAA2B;;;IAhBpF,qEAAI;IACF,sIAWK;IACP,4DAAK;IACL,yEAAuB;IACrB,sIAUK;IACP,4DAAK;;;;IAxBe,0DAAY;IAAZ,gFAAY;IAaV,0DAAO;IAAP,iFAAO;;;IAsBvB,0EAEC;IACC,uDACF;IAAA,4DAAM;;;;IADJ,0DACF;IADE,yGACF;;;;IACD,sEAAoB;IAGnB,yaAAS,+FAAyB,KAAC;IAClC,uDAA2B;IAAA,4DAC7B;;;;IADE,0DAA2B;IAA3B,8FAA2B;;;IAV9B,qEAAmC;IACjC,4JAIM;IACP,4JAKM;IACP,4DAAK;;;IAV+B,0DAAe;IAAf,+EAAe;IAI5C,0DAAY;IAAZ,4EAAY;;;;IAOnB,yEAGH;IAMK,6aAAS,oGAA8B,KAAC;IAJ1C,4DAWE;IACF,sEAAkC;IACpC,4DAAQ;;;;IAXJ,0DAA+B;IAA/B,gGAA+B;;;IArBnC,wEAAyD;IACvD,qJAYK;IACL,qJAmBC;IACH,qEAAe;;;IAjCR,0DAA2B;IAA3B,2FAA2B;IAcjC,0DAA2B;IAA3B,2FAA2B;;;IAhB9B,yEAA8B;IAC5B,0JAkCe;IACjB,4DAAK;;;;IApCD,sFAAyB;IACG,0DAAY;IAAZ,gFAAY;;;IAsC5C,qEAAI;IAC+B,yEAAc;IAAA,4DAAK;;;IAAhD,0DAA4B;IAA5B,yFAA4B;;;IAIlC,uDAOF;;;IAPE,uRAOF;;;IAnGN,0EAAsC;IAahC,0IA4Bc;IACd,0IA2Cc;IACd,0IAIc;IACd,0IAQc;IAChB,4DAAU;;;IAjGR,0DAAgB;IAAhB,gFAAgB;;;IAqGxB,0EAA8C;IAEtB,qEAAuC;IAAA,4DAAM;IAEnE,yEAAiB;IAEV,6FAAkC;IAAA,4DAAI;;;IAoCzC,0EAAgC;IAAA,kEAAO;IAAA,4DAAM;;;;IAG7C,0EAAuC;IAK9B,uDAAgB;IAAA,4DAAI;IACvB,4EAAoK;IAAtI,8ZAAwB;IAAtD,4DAAoK;IAGxK,0EAA+B;IAGzB,uDAAiB;IAAA,4EAAmC;IAAA,6DAAC;IAAA,4DAAO;IAE9D,6EAQE;IAHA,+ZAAwB;IAL1B,4DAQE;;;IAjBC,0DAAgB;IAAhB,kFAAgB;IACW,0DAAwB;IAAxB,sFAAwB;IAMpD,0DAAiB;IAAjB,6FAAiB;IAOjB,0DAAwB;IAAxB,sFAAwB;;;;IAShC,0EAAyD;IAOrD,+SAAS,mFAAiB,MAAM,CAAC,KAAC;IACnC,4DAAS;IACR,6EAOD;IADC,+SAAS,mFAAiB,eAAe,CAAC,KAAC;IAC5C,4DAAS;IACR,6EAOD;IADC,+SAAS,+EAAa,KAAC;IACxB,4DAAS;;;IAaZ,0EAAgC;IAAA,+DAAI;IAAA,4DAAM;;;;IAG1C,0EAAuC;IAK9B,uDAAgB;IAAA,4DAAI;IACvB,4EAAoK;IAAtI,8ZAAwB;IAAtD,4DAAoK;IAGxK,0EAA+B;IAGzB,uDAAiB;IAAA,4EAAmC;IAAA,6DAAC;IAAA,4DAAO;IAE9D,6EAQE;IAFA,+ZAAwB;IAN1B,4DAQE;;;IAjBC,0DAAgB;IAAhB,kFAAgB;IACW,0DAAwB;IAAxB,sFAAwB;IAMpD,0DAAiB;IAAjB,6FAAiB;IAOjB,0DAA4B;IAA5B,4FAA4B;;;;IASpC,0EAAkD;IAO9C,+SAAS,oFAAkB,KAAC;IAG7B,4DAAS;IACV,6EASC;IAFC,+SAAS,gFAAc,KAAC;IAEzB,4DAAS;;;IAXR,0DAAwB;IAAxB,wFAAwB;;;AD9S7B,MAAM,sBAAsB;IAiCjC,YACU,MAAc,EACd,WAAwB,EACxB,KAAqB,EACrB,aAAmC,EACnC,mBAAwC;QAJxC,WAAM,GAAN,MAAM,CAAQ;QACd,gBAAW,GAAX,WAAW,CAAa;QACxB,UAAK,GAAL,KAAK,CAAgB;QACrB,kBAAa,GAAb,aAAa,CAAsB;QACnC,wBAAmB,GAAnB,mBAAmB,CAAqB;QApClD,mBAAc,GAAQ,EAAE,CAAC;QAEzB,gBAAW,GAAG,IAAI,CAAC;QACnB,eAAU,GAAG,EAAE,CAAC;QAChB,aAAQ,GAAG,EAAE,CAAC;QACd,eAAU,GAAG,EAAE,CAAC;QAChB,eAAU,GAAG,EAAE,CAAC;QAChB,aAAQ,GAAG,EAAE,CAAC;QACd,eAAU,GAAG,EAAE,CAAC;QAChB,eAAU,GAAG,EAAE,CAAC;QAEhB,uBAAkB,GAAU,EAAE,CAAC;QAC/B,2BAAsB,GAAU,EAAE,CAAC;QAEnC,oBAAe,GAAY,KAAK,CAAC;QACjC,wBAAmB,GAAY,KAAK,CAAC;QAErC,SAAI,GAAG,EAAE,CAAC;QACV,aAAQ,GAAG,EAAE,CAAC;QAEd,aAAQ,GAAQ,EAAE,CAAC;QAEnB,mBAAc,GAAU,EAAE,CAAC;QAE3B,eAAU,GAAG,CAAC,CAAC;QACf,aAAQ,GAAG,EAAE,CAAC;QACd,eAAU,GAAG,CAAC,CAAC;QACf,iBAAY,GAAG,CAAC,CAAC;QACjB,WAAM,GAAG,IAAI,CAAC;QACd,YAAO,GAAG,MAAM,CAAC;QAUjB,SAAI,GAAU,EAAE,CAAC;QACjB,WAAM,GAAU;YACd,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,EAAE,UAAU,EAAE,KAAK,EAAE,KAAK,EAAE;YACnD;gBACE,KAAK,EAAE,UAAU;gBACjB,MAAM,EAAE,UAAU;gBAClB,KAAK,EAAE,KAAK;aACb;YACD,EAAE,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAE;SACpD,CAAC;QACF,cAAS,GAAU;YACjB,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,EAAE,aAAa,EAAE,KAAK,EAAE,KAAK,EAAE;YACtD;gBACE,KAAK,EAAE,UAAU;gBACjB,MAAM,EAAE,aAAa;gBACrB,KAAK,EAAE,KAAK;aACb;YACD,EAAE,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAE;SACpD,CAAC;QACF,gBAAW,GAAU;YACnB,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,EAAE,eAAe,EAAE,KAAK,EAAE,KAAK,EAAE;YACxD;gBACE,KAAK,EAAE,UAAU;gBACjB,MAAM,EAAE,eAAe;gBACvB,KAAK,EAAE,KAAK;aACb;YACD,EAAE,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAE;SACpD,CAAC;QAEF,oBAAe,GAAG;YAChB,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,YAAY,EAAE;YACrC,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,eAAe,EAAE;YAC1C,EAAE,IAAI,EAAE,WAAW,EAAE,IAAI,EAAE,iBAAiB,EAAE;SAC/C,CAAC;QAEF,yBAAoB,GAAG,KAAK,CAAC;QAC7B,cAAS,GAAG,KAAK,CAAC;QAClB,eAAU,GAAG,KAAK,CAAC;QACnB,oBAAe,GAAG,IAAI,CAAC;QACvB,oBAAe,GAAG,KAAK,CAAC;QACxB,kBAAa,GAAG,KAAK,CAAC;QACtB,gBAAW,GAAG,KAAK,CAAC;IA3CjB,CAAC;IA6CJ,QAAQ;QACN,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,MAAM,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACtB,MAAM,cAAc,GAAG,QAAQ,CAAC;QAEhC,qBAAqB;QACrB,IAAI,CAAC,WAAW;aACb,SAAS,CAAC,cAAc,CAAC;aACzB,IAAI,CAAC,CAAC,eAAuB,EAAE,EAAE;YAChC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC;QACjD,CAAC,CAAC,CAAC;QAEL,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;YACjC,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;QAC7D,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;IACzC,CAAC;IAED,YAAY;QACV,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QAExC,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QACrC,IAAI,IAAI,CAAC,UAAU,IAAI,YAAY,EAAE;YACnC,IAAI,CAAC,QAAQ,GAAG,WAAW,CAAC;YAC5B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC;YACxB,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YACtC,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;YAC7B,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;SAC9B;aAAM,IAAI,IAAI,CAAC,UAAU,IAAI,eAAe,EAAE;YAC7C,IAAI,CAAC,QAAQ,GAAG,cAAc,CAAC;YAC/B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC;YAC3B,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YACtC,IAAI,CAAC,UAAU,GAAG,aAAa,CAAC;YAChC,IAAI,CAAC,UAAU,GAAG,aAAa,CAAC;SACjC;aAAM,IAAI,IAAI,CAAC,UAAU,IAAI,iBAAiB,EAAE;YAC/C,IAAI,CAAC,QAAQ,GAAG,gBAAgB,CAAC;YACjC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC;YAC7B,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YACtC,IAAI,CAAC,UAAU,GAAG,eAAe,CAAC;YAClC,IAAI,CAAC,UAAU,GAAG,eAAe,CAAC;SACnC;IACH,CAAC;IACD,iBAAiB,CAAC,QAAQ;QACxB,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;QACzB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QACrB,IAAI,IAAI,CAAC,EAAE,EAAE;YACX,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,EAAE,UAAU,EAAE,UAAU,CAAC,CAAC;SAC5C;QACD,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,QAAQ,CAAC,CAAC,SAAS,CACtD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;iBAClE;aACF;iBAAM;gBACL,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;oBACf,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;iBACxC;qBAAM;oBACL,0CAA0C;oBAC1C,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;oBACjB,IAAI,CAAC,cAAc,GAAG,GAAG,CAAC,YAAY,CAAC,CAAC;oBACxC,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;oBACxC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;oBACtB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;iBACxB;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;QACnE,CAAC,CACF,CAAC;IACJ,CAAC;IACD,WAAW;QACT,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACvB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;QACzB,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;IACvB,CAAC;IACD,MAAM;QACJ,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QACrC,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IACtC,CAAC;IACD,eAAe,CAAC,QAAa;QAC3B,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC,SAAS,CACrD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;iBAClE;aACF;iBAAM;gBACL,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;oBACd,0CAA0C;oBAC1C,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;oBACjB,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC;oBACnC,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;oBACrB,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;oBACpC,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;oBAC5B,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;oBAChD,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;iBAC9C;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;QACnE,CAAC,CACF,CAAC;IACJ,CAAC;IAED,gBAAgB,CAAC,MAAW;QAC1B,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACpB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,MAAM,EAAE;YAC9C,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,iCAAiC,CAAC,CAAC;YACrE,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;SACxC;aAAM;YACL,MAAM,SAAS,GAAG;gBAChB;oBACE,EAAE,EAAE,GAAG;oBACP,IAAI,EAAE,IAAI,CAAC,UAAU;oBACrB,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC,WAAW,EAAE;oBAC9C,MAAM,EAAE,GAAG;iBACZ;aACF,CAAC;YACF,IAAI,OAAO,CAAC;YACZ,IAAI,IAAI,GAAG,SAAS,CAAC;YACrB,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;YAE/D,IAAI,OAAO,EAAE;gBACX,OAAO,CAAC,SAAS,CACf,CAAC,GAAG,EAAE,EAAE;oBACN,IACE,GAAG,CAAC,QAAQ,CAAC;wBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;wBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;wBACA,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;4BAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;yBACjD;6BAAM;4BACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,8CAA8C,CAC/C,CAAC;yBACH;qBACF;yBAAM;wBACL,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;4BACd,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;4BAC3C,IAAI,MAAM,IAAI,MAAM,EAAE;gCACpB,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;gCAC7B,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gCACtC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;6BAChC;iCAAM,IAAI,MAAM,IAAI,eAAe,EAAE;gCACpC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gCACpC,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;6BACtB;yBACF;6BAAM,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;4BACvB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;4BAChD,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;yBACxC;qBACF;gBACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;oBACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;oBACvC,OAAO,CAAC,GAAG,CAAC,qBAAqB,EAAE,GAAG,CAAC,CAAC;oBACxC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,8CAA8C,CAC/C,CAAC;gBACJ,CAAC,CACF,CAAC;aACH;SACF;IACH,CAAC;IACD,WAAW;QACT,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;IACvB,CAAC;IAED,gBAAgB,CAAC,OAAY;QAC3B,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QACrB,IAAI,OAAO,CAAC,MAAM,IAAI,GAAG,IAAI,OAAO,CAAC,MAAM,IAAI,UAAU,EAAE;YACzD,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;SACzB;aAAM;YACL,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;SAC1B;QACD,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAC5B,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC,EAAE,CAAC;QAC3B,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;IAChD,CAAC;IACD,gBAAgB,CAAC,OAAO,EAAE,QAAa;QACrC,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,EAAE,QAAQ,CAAC,CAAC,SAAS,CACzE,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;iBAClE;aACF;iBAAM;gBACL,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;oBACf,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;iBACxC;qBAAM;oBACL,0CAA0C;oBAC1C,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;oBACjB,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC;oBACzC,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC;oBAC7C,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;oBACpC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;oBAC1B,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;oBAChD,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;iBAC9C;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACjB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;QACnE,CAAC,CACF,CAAC;IACJ,CAAC;IACD,WAAW,KAAI,CAAC;IAEhB,gBAAgB;QACd,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;IAC/B,CAAC;IACD,YAAY;QACV,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,IAAI,CAAC,UAAU,IAAI,EAAE,EAAE;YACzB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,iCAAiC,CAAC,CAAC;SACtE;aAAM;YACL,MAAM,SAAS,GAAG;gBAChB;oBACE,EAAE,EAAE,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;oBACzB,IAAI,EAAE,IAAI,CAAC,UAAU;oBACrB,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC,WAAW,EAAE;oBAC9C,MAAM,EAAE,GAAG;iBACZ;aACF,CAAC;YACF,IAAI,OAAO,CAAC;YACZ,IAAI,IAAI,GAAG,SAAS,CAAC;YACrB,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;YAElE,IAAI,OAAO,EAAE;gBACX,OAAO,CAAC,SAAS,CACf,CAAC,GAAG,EAAE,EAAE;oBACN,IACE,GAAG,CAAC,QAAQ,CAAC;wBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;wBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;wBACA,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;4BAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;yBACjD;6BAAM;4BACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,8CAA8C,CAC/C,CAAC;yBACH;qBACF;yBAAM;wBACL,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;4BACd,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;4BAC3C,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;4BAC3B,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;yBACvC;qBACF;gBACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;oBACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;oBACvC,OAAO,CAAC,GAAG,CAAC,qBAAqB,EAAE,GAAG,CAAC,CAAC;oBACxC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,8CAA8C,CAC/C,CAAC;gBACJ,CAAC,CACF,CAAC;aACH;SACF;IACH,CAAC;IACD,WAAW;QACT,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;QAC7B,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;QAC3B,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;YAC5C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;QACjD,CAAC,EAAE,GAAG,CAAC,CAAC;QACR,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,EAAE,IAAI,CAAC,CAAC;IACX,CAAC;IACD,aAAa,CAAC,CAAM,EAAE,IAAS;QAC7B,CAAC,CAAC,cAAc,EAAE,CAAC;QACnB,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,IAAI,SAAS,GAAG,EAAE,CAAC;QACnB,IAAI,CAAC,CAAC,MAAM,CAAC,OAAO,EAAE;YACpB,SAAS,GAAG,GAAG,CAAC;YAChB,IAAI,GAAG,UAAU,CAAC;SACnB;aAAM;YACL,SAAS,GAAG,GAAG,CAAC;YAChB,IAAI,GAAG,YAAY,CAAC;SACrB;QACD,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;QAChD,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,IAAI,CAAC,UAAU,IAAI,YAAY,EAAE;YACnC,IAAI,WAAW,GAAG,EAAE,CAAC;YACrB,WAAW;gBACT,mDAAmD;oBACnD,iBAAiB;oBACjB,IAAI;oBACJ,oBAAoB,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;YAEtC,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;gBAC/B,OAAO,EAAE,WAAW;gBACpB,GAAG,EAAE,sBAAsB;gBAC3B,MAAM,EAAE,GAAG,EAAE;oBACX,IAAI,CAAC,YAAY,CAAC,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;oBACrD,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;gBACjC,CAAC;gBACD,MAAM,EAAE,GAAG,EAAE;oBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;oBAC/B,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;gBAClC,CAAC;aACF,CAAC,CAAC;SACJ;aAAM,IAAI,IAAI,CAAC,UAAU,IAAI,eAAe,EAAE;YAC7C,IAAI,WAAW,GAAG,EAAE,CAAC;YACrB,WAAW;gBACT,mDAAmD;oBACnD,iBAAiB;oBACjB,IAAI;oBACJ,uBAAuB,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;YAEzC,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;gBAC/B,OAAO,EAAE,WAAW;gBACpB,GAAG,EAAE,sBAAsB;gBAC3B,MAAM,EAAE,GAAG,EAAE;oBACX,IAAI,CAAC,YAAY,CAAC,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;oBACrD,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;gBACjC,CAAC;gBACD,MAAM,EAAE,GAAG,EAAE;oBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;oBAC/B,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;gBAClC,CAAC;aACF,CAAC,CAAC;SACJ;aAAM,IAAI,IAAI,CAAC,UAAU,IAAI,iBAAiB,EAAE;YAC/C,IAAI,WAAW,GAAG,EAAE,CAAC;YACrB,WAAW;gBACT,mDAAmD;oBACnD,iBAAiB;oBACjB,IAAI;oBACJ,yBAAyB,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;YAE3C,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;gBAC/B,OAAO,EAAE,WAAW;gBACpB,GAAG,EAAE,sBAAsB;gBAC3B,MAAM,EAAE,GAAG,EAAE;oBACX,IAAI,CAAC,YAAY,CAAC,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;oBACrD,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;gBACjC,CAAC;gBACD,MAAM,EAAE,GAAG,EAAE;oBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;oBAC/B,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;gBAClC,CAAC;aACF,CAAC,CAAC;SACJ;IACH,CAAC;IAED,mBAAmB,CAAC,MAAe;QACjC,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;YAC5C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;QACjD,CAAC,EAAE,GAAG,CAAC,CAAC;QACR,IAAI,CAAC,MAAM,EAAE;YACX,UAAU,CAAC,GAAG,EAAE;gBACd,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACzC,CAAC,EAAE,IAAI,CAAC,CAAC;SACV;IACH,CAAC;IAED,YAAY,CAAC,CAAM,EAAE,SAAc,EAAE,IAAS,EAAE,QAAQ;QACtD,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,CAAC,mBAAmB,CAAC,SAAS,EAAE,CAAC,CAAC,MAAM,EAAE,IAAI,EAAE,QAAQ,CAAC,CAAC;IAChE,CAAC;IAED,mBAAmB,CAAC,SAAc,EAAE,SAAc,EAAE,IAAS,EAAE,QAAQ;QACrE,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,SAAS,EAAE,QAAQ,CAAC,CAAC;QAEvC,IAAI,CAAC,aAAa;aACf,kBAAkB,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,SAAS,EAAE,QAAQ,CAAC;aACxD,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,OAAO,GAAG,EAAE,CAAC;YACjB,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;gBACd,OAAO,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC;gBACrB,SAAS,CAAC,OAAO,GAAG,SAAU,CAAC,OAAO,CAAC;gBACvC,IAAI,CAAC,iBAAiB,CAAC,QAAQ,CAAC,CAAC;gBACjC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;aAC5C;iBAAM;gBACL,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,OAAO,GAAG,gDAAgD,CAAC;gBAC3D,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;aAC5C;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACjB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,CACF,CAAC;IACN,CAAC;IAED,sBAAsB,CAAC,KAAK;QAC1B,IAAI,CAAC,OAAO,KAAK,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,KAAK,SAAS,CAAC,CAAC;IAC7D,CAAC;IAED,oBAAoB,CAAC,KAAK;QACxB,IAAI,CAAC,OAAO,KAAK,SAAS,CAAC,GAAG,KAAK,CAAC;IACtC,CAAC;IAED,oBAAoB,CAAC,KAAU;QAC7B,OAAO,IAAI,CAAC,iBAAiB,KAAK,EAAE,CAAC,CAAC;IACxC,CAAC;IAED,iBAAiB,CAAC,EAAe,EAAE,KAAU;QAC3C,IAAI,CAAC,iBAAiB,KAAK,EAAE,CAAC,GAAG,EAAE,CAAC,KAAK,CAAC;IAC5C,CAAC;IAED,kBAAkB,CAAC,KAAU;QAC3B,OAAO,IAAI,CAAC,OAAO,KAAK,SAAS,CAAC,CAAC;IACrC,CAAC;IAED,kBAAkB,CAAC,KAAU;QAC3B,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC;IACrB,CAAC;;4FAvhBU,sBAAsB;oHAAtB,sBAAsB;;;;;;;QCbnC,yEAAkC;QAchB,mMAAwB;QAKzB,4DAAa;QAGhB,yEAA2D;QAKvD,8IAAS,kBAAc,IAAC;QAIzB,4DAAS;QACV,8EAQC;QAJC,+IAAS,iBAAa,IAAC;QAIxB,4DAAS;QAMhB,qHAUM;QACR,4DAAM;QAIV,qHAqGQ;QAEV,4DAAM;QACN,qHASM;QACN,2FAKC;QAOK,6RAAS,sEAAW,KAAC;QACtB,4DAAS;QAEV,8EAMC;QADC,6RAAS,sEAAW,KAAC;QACtB,4DAAS;QAGd,2EAA8B;QAE1B,uMAA6B,2FAGnB,iBAAa,IAHM;QAK7B,qIAEc;QACd,sIA2Bc;QACd,qIA2Bc;QAChB,4DAAW;QAEb,2EAA8B;QAE1B,qMAA2B,2FAGjB,iBAAa,IAHI;QAK3B,qIAEc;QACd,sIA2Bc;QACd,qIAuBc;QAChB,4DAAW;;QA5TG,0DAA2B;QAA3B,wFAA2B;QAiC8B,0DAAgB;QAAhB,gFAAgB;QAelE,0DAAe;QAAf,+EAAe;QAwGV,0DAAgB;QAAhB,gFAAgB;QAc1C,0DAAkB;QAAlB,2EAAkB;QAwBhB,0DAAyC;QAAzC,gIAAyC;QAFzC,wFAA6B;QAsE7B,0DAAyC;QAAzC,gIAAyC;QAFzC,sFAA2B;;;;;;;;;;;;;;;;;;AC7Q8B;;;AAOxD,MAAM,oBAAoB;IAC/B,YAAoB,IAAgB;QAAhB,SAAI,GAAJ,IAAI,CAAY;IAAG,CAAC;IAExC,iBAAiB,CAAC,QAAa;QAC7B,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,6CAA6C,EAAE;YAClE,OAAO,EAAE,IAAI,6DAAW,EAAE,CAAC,GAAG,CAAC,UAAU,EAAE,QAAQ,CAAC;SACrD,CAAC,CAAC;IACL,CAAC;IAED,kBAAkB,CAAC,QAAa,EAAE,MAAW,EAAE,QAAa;QAC1D,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CACnB,iDAAiD,EACjD,EAAE,EACF;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,IAAI,EAAE,QAAQ,CAAC;iBACnB,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC;iBACrB,GAAG,CAAC,UAAU,EAAE,QAAQ,CAAC;SAC7B,CACF,CAAC;IACJ,CAAC;IAED,gBAAgB,CAAC,QAAa,EAAE,QAAa;QAC3C,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,4CAA4C,EAAE;YACjE,OAAO,EAAE,IAAI,6DAAW,EAAE,CAAC,GAAG,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC,GAAG,CAAC,UAAU,EAAE,QAAQ,CAAC;SACzE,CAAC,CAAC;IACL,CAAC;IAED,gBAAgB,CAAC,QAAa;QAC5B,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,qCAAqC,EAAE;YAC1D,OAAO,EAAE,IAAI,6DAAW,EAAE,CAAC,GAAG,CAAC,UAAU,EAAE,QAAQ,CAAC;SACrD,CAAC,CAAC;IACL,CAAC;IAED,eAAe,CAAC,IAAI,EAAE,QAAa;QACjC,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,4CAA4C,EAAE,IAAI,EAAE;YACxE,OAAO,EAAE,IAAI,6DAAW,EAAE,CAAC,GAAG,CAAC,UAAU,EAAE,QAAQ,CAAC;SACrD,CAAC,CAAC;IACL,CAAC;IAED,YAAY,CAAC,IAAI,EAAE,QAAa;QAC9B,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,yCAAyC,EAAE,IAAI,EAAE;YACrE,OAAO,EAAE,IAAI,6DAAW,EAAE,CAAC,GAAG,CAAC,UAAU,EAAE,QAAQ,CAAC;SACrD,CAAC,CAAC;IACL,CAAC;;wFA5CU,oBAAoB;qHAApB,oBAAoB,WAApB,oBAAoB,mBAFnB,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACEG;AACiD;AAGlC;;;;;;;;;;;;;;;;;;;ICc1B,0EAIC;IACC,qEAOO;IACP,sEAAK;IAAA,uDAAwB;IAAA,4DAAM;;;IAPjC,0DAKE;IALF,sKAKE;IAEC,0DAAwB;IAAxB,0FAAwB;;;IAK/B,0EAGC;IACC,qEAOO;IACP,sEAAK;IAAA,uDAAgB;IAAA,4DAAM;;;IAPzB,0DAKE;IALF,0JAKE;IAEC,0DAAgB;IAAhB,8EAAgB;;;IAsBvB,0EAIC;IAEG,qEAAoD;IACtD,4DAAI;;;IAKN,0EAGC;IASM,uDAAoB;IAAA,4DAAM;;;IAA1B,0DAAoB;IAApB,mFAAoB;;AD/EhC,MAAM,eAAe;IAyD1B,YACS,SAA2B,EAC1B,EAAc,EACd,MAAc,EACd,WAAwB,EACxB,KAAqB,EACrB,WAAwB,EACxB,YAA0B;QAN3B,cAAS,GAAT,SAAS,CAAkB;QAC1B,OAAE,GAAF,EAAE,CAAY;QACd,WAAM,GAAN,MAAM,CAAQ;QACd,gBAAW,GAAX,WAAW,CAAa;QACxB,UAAK,GAAL,KAAK,CAAgB;QACrB,gBAAW,GAAX,WAAW,CAAa;QACxB,iBAAY,GAAZ,YAAY,CAAc;QA3DpC,iBAAY,GAAG,sBAAsB,CAAC;QAEtC,cAAS,GAAG,EAAE,CAAC;QAGf,qBAAgB,GAAe;YAC7B,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,SAAS,EAAE;YACxC,EAAE,KAAK,EAAE,UAAU,EAAE,UAAU,EAAE,SAAS,EAAE;YAC5C,EAAE,KAAK,EAAE,uBAAuB,EAAE,UAAU,EAAE,cAAc,EAAE;SAC/D,CAAC;QAIF,kBAAa,GAAY,IAAI,CAAC;QAC9B,sBAAiB,GAAY,KAAK,CAAC;QACnC,cAAS,GAAe,EAAE,CAAC;QAC3B,eAAU,GAAe,EAAE,CAAC;QAC5B,iBAAY,GAAQ,EAAE,CAAC;QAEvB,gBAAW,GAAG,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,CAAC,CAAC;QAKxD,iBAAY,GAAG;YACb,EAAE,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,SAAS,EAAE;YAClC,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,SAAS,EAAE;YACnC,EAAE,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAE,SAAS,EAAE;YACpC,EAAE,IAAI,EAAE,SAAS,EAAE,KAAK,EAAE,SAAS,EAAE;YACrC,uCAAuC;YACvC,sCAAsC;SACvC,CAAC;QACF,kBAAa,GAAG,EAAE,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,SAAS,EAAE,CAAC;QAEnD,gBAAW,GAAG,MAAM,CAAC;QACrB,cAAS,GAAG;YACV,EAAE,KAAK,EAAE,SAAS,EAAE,KAAK,EAAE,IAAI,EAAE;YACjC,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE;YAChC,EAAE,KAAK,EAAE,UAAU,EAAE,KAAK,EAAE,IAAI,EAAE;SACnC,CAAC;QACF,qBAAgB,GAAG,IAAI,CAAC;QAGxB,mBAAc,GAAG,KAAK,CAAC;QAEvB,qBAAgB,GAAG,MAAM,CAAC;QAE1B,qBAAgB,GAAG,IAAI,CAAC;QAExB,yBAAoB,GAAQ,EAAE,CAAC;QAC/B,wBAAmB,GAAQ,EAAE,IAAI,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;QAW1D,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC,KAAK,EAAE,EAAE;YAClE,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACzB,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,KAAK,EAAE,EAAE;YACrC,IAAI,KAAK,YAAY,0DAAa,EAAE;gBAClC,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC,mBAAmB,CAAC,CAAC;gBAC5C,yBAAyB;aAC1B;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAnDD,IAAI,cAAc;QAChB,OAAO,IAAI,CAAC,WAAW,CAAC;IAC1B,CAAC;IAmDD,QAAQ;QACN,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;QAC3C,IAAI,CAAC,WAAW,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,SAAS,EAAE,CAAC,CAAC;QACrD,IAAI,CAAC,WAAW,CAAC,cAAc,CAC7B,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAC9C,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC,SAAS,CAAC,CAAC,QAAQ,EAAE,EAAE;YACvD,OAAO,CAAC,GAAG,CAAC,aAAa,EAAE,QAAQ,CAAC,CAAC;YACrC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;QAChC,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,gBAAgB;YACnB,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC;gBAC/B,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC;gBAC3D,MAAM,CAAC;QACT,IAAI,CAAC,gBAAgB;YACnB,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC;gBAChC,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC;QAC3D,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,KAAK,CACpC,YAAY,CAAC,OAAO,CAAC,6BAA6B,CAAC,CACpD,CAAC;QACF,MAAM,mBAAmB,GAAG,IAAI,CAAC,KAAK,CACpC,YAAY,CAAC,OAAO,CAAC,qBAAqB,CAAC,CAC5C,CAAC;QACF,IAAI,mBAAmB;YAAE,IAAI,CAAC,mBAAmB,GAAG,mBAAmB,CAAC;QACxE,IAAI,CAAC,WAAW,CAAC,iBAAiB,EAAE,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;YACtD,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAE,IAAI,CAAC,CAAC;YACpC,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;QAC/B,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,WAAW;aACb,kCAAkC,EAAE;aACpC,SAAS,CAAC,CAAC,eAAe,EAAE,EAAE;YAC7B,OAAO,CAAC,GAAG,CAAC,oBAAoB,EAAE,eAAe,CAAC,CAAC;YAEnD,IAAI,eAAe,IAAI,eAAe,CAAC,MAAM,EAAE;gBAC7C,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;gBAE7B,IAAI,CAAC,gBAAgB,GAAG,CAAC,GAAG,eAAe,CAAC,CAAC;aAC9C;QACH,CAAC,CAAC,CAAC;QACL,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,GAAG,EAAE,EAAE;YAChD,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC;QACzB,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC,cAAc,EAAE,EAAE;YAC1D,IAAI,SAAS,GAAG,QAAQ,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;YAClD,IAAI,cAAc,IAAI,IAAI,CAAC,cAAc,EAAE;gBACzC,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;aACnC;iBAAM;gBACL,SAAS,CAAC,SAAS,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;aACtC;QACH,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,SAAS,CAAC,CAAC,iBAAiB,EAAE,EAAE;YAChE,IAAI,aAAa,GAAG,QAAQ,CAAC,cAAc,CAAC,kBAAkB,CAAC,CAAC;YAChE,IAAI,iBAAiB,EAAE;gBACrB,aAAa,CAAC,SAAS,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;aAC5C;iBAAM;gBACL,aAAa,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;aACzC;QACH,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC,oDAAI,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;YAC5D,IAAI,CAAC,IAAI,EAAE;gBACT,IAAI,CAAC,WAAW,GAAG,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC,CAAC;aACxC;iBAAM;gBACL,IAAI,CAAC,WAAW,GAAG,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,CAAC,CAAC;aAC9D;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,+BAA+B,CAAC,OAAY;QAC1C,IAAI,CAAC,gBAAgB,GAAG,OAAO,CAAC;IAClC,CAAC;IAED,cAAc,CAAC,QAAgB;QAC7B,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QAEvC,oEAAoE;QACpE,IAAI,CAAC,WAAW;aACb,SAAS,CAAC,eAAe,CAAC;aAC1B,IAAI,CAAC,CAAC,eAAuB,EAAE,EAAE;YAChC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC;QACjD,CAAC,CAAC,CAAC;IACP,CAAC;IAED,iBAAiB,CAAC,GAAQ;QACxB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,mBAAmB,EAAE,GAAG,CAAC,CAAC;QAC3C,IAAI,GAAG,IAAI,GAAG,CAAC,WAAW,EAAE;YAC1B,IAAI,IAAI,CAAC,mBAAmB,CAAC,IAAI,IAAI,GAAG,CAAC,IAAI,EAAE;gBAC7C,YAAY,CAAC,OAAO,CAAC,qBAAqB,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;gBACjE,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;gBACxC,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;gBAC3B,IAAI,CAAC,YAAY;qBACd,gBAAgB,CAAC,IAAI,CAAC,gBAAgB,EAAE,GAAG,CAAC,IAAI,CAAC;qBACjD,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;oBACN,IACE,CAAC,CAAC,GAAG,CAAC,aAAa,CAAC,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,GAAG,CAAC,cAAc,CAAC,CAAC,EAC7D;wBACA,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;wBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,6CAA6C,CAC9C,CAAC;qBACH;yBAAM;wBACL,IAAI,CAAC,YAAY,CAAC,+BAA+B,CAAC,GAAG,CAAC,CAAC;wBACvD,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;qBACnC;gBACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;oBACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;oBACvC,OAAO,CAAC,GAAG,CAAC,6BAA6B,EAAE,GAAG,CAAC,CAAC;gBAClD,CAAC,CACF,CAAC;aACL;iBAAM;gBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,8BAA8B,CAAC,CAAC;aACnE;SACF;IACH,CAAC;IAED,mBAAmB,CAAC,OAAY;QAC9B,MAAM,QAAQ,GAAG,EAAE,CAAC;QACpB,MAAM,SAAS,GAAG,EAAE,CAAC;QAErB,OAAO,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;YACvB,MAAM,OAAO,GAAG;gBACd,EAAE,EAAE,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC;gBACnB,KAAK,EAAE,IAAI,CAAC,QAAQ;gBACpB,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI;gBACjC,KAAK,EAAE,EAAE;gBACT,QAAQ,EACN,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,SAAS;oBAChC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAC1C,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC,CAC3B;aACJ,CAAC;YAEF,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC;YAC5B,IAAI,IAAI,CAAC,QAAQ,KAAK,CAAC,EAAE;gBACvB,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;aACzB;iBAAM;gBACL,MAAM,UAAU,GAAG,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBAC3C,IAAI,UAAU,EAAE;oBACd,OAAO,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC;oBACvB,OAAO,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC;oBACxB,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,CAAC;iBAClD;qBAAM;oBACL,OAAO,CAAC,KAAK,CACX,uBAAuB,IAAI,CAAC,QAAQ,uBAAuB,IAAI,CAAC,EAAE,EAAE,CACrE,CAAC;iBACH;aACF;QACH,CAAC,CAAC,CAAC;QACH,OAAO,SAAS,CAAC;IACnB,CAAC;IAED,cAAc,CAAC,QAAa;QAC1B,OAAO,CAAC,GAAG,CAAC,iBAAiB,EAAE,QAAQ,CAAC,CAAC;QACzC,IAAI,QAAQ,EAAE;YACZ,8BAA8B;YAC9B,IAAI,CAAC,YAAY,GAAG,QAAQ,CAAC;SAC9B;QACD,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;QAEpB,IAAI;QACJ,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QACjD,IAAI,iBAAiB,GAAG,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QACpE,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC,CAAC;QACtD,IAAI;QAEJ,IAAI,CAAC,SAAS,GAAG,iBAAiB,CAAC;QACnC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC;IACnC,CAAC;IAED,WAAW,CAAC,IAAS;QACnB,QAAQ,IAAI,CAAC,IAAI,CAAC,EAAE;YAClB,KAAK,GAAG;gBACN,IAAI,CAAC,YAAY,CAAC,GAAG,uBAAuB,CAAC;gBAC7C,IAAI,CAAC,yBAAyB,CAAC,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;gBACnD,MAAM;YAER,KAAK,GAAG;gBACN,IAAI,CAAC,YAAY,CAAC,GAAG,6BAA6B,CAAC;gBACnD,IAAI,CAAC,yBAAyB,CAAC,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;gBACnD,MAAM;YACR,KAAK,GAAG;gBACN,IAAI,CAAC,YAAY,CAAC,GAAG,gBAAgB,CAAC;gBACtC,IAAI,CAAC,yBAAyB,CAAC,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;gBACnD,MAAM;YACR,KAAK,GAAG;gBACN,IAAI,CAAC,YAAY,CAAC,GAAG,yBAAyB,CAAC;gBAC/C,IAAI,CAAC,yBAAyB,CAAC,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;gBACnD,MAAM;YACR,KAAK,IAAI;gBACP,IAAI,CAAC,YAAY,CAAC,GAAG,0BAA0B,CAAC;gBAChD,IAAI,CAAC,yBAAyB,CAAC,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;gBACnD,MAAM;YACR,KAAK,IAAI;gBACP,IAAI,CAAC,YAAY,CAAC,GAAG,sBAAsB,CAAC;gBAC5C,IAAI,CAAC,yBAAyB,CAAC,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;gBACnD,MAAM;YACR,KAAK,IAAI;gBACP,IAAI,CAAC,YAAY,CAAC,GAAG,sBAAsB,CAAC;gBAC5C,IAAI,CAAC,yBAAyB,CAAC,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;gBACnD,MAAM;YACR,KAAK,IAAI;gBACP,IAAI,CAAC,YAAY,CAAC,GAAG,2BAA2B,CAAC;gBACjD,IAAI,CAAC,yBAAyB,CAAC,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;gBACnD,MAAM;YAER,KAAK,IAAI;gBACP,IAAI,CAAC,YAAY,CAAC,GAAG,oBAAoB,CAAC;gBAC1C,IAAI,CAAC,yBAAyB,CAAC,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;gBACnD,MAAM;YACR,KAAK,IAAI;gBACP,IAAI,CAAC,YAAY,CAAC,GAAG,2BAA2B,CAAC;gBACjD,IAAI,CAAC,yBAAyB,CAAC,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;gBACnD,MAAM;YACR,KAAK,IAAI;gBACP,IAAI,CAAC,YAAY,CAAC,GAAG,yBAAyB,CAAC;gBAC/C,IAAI,CAAC,yBAAyB,CAAC,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;gBACnD,MAAM;YACR,KAAK,IAAI;gBACP,IAAI,CAAC,YAAY,CAAC,GAAG,0BAA0B,CAAC;gBAChD,IAAI,CAAC,yBAAyB,CAAC,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;gBACnD,MAAM;YACR,KAAK,IAAI;gBACP,IAAI,CAAC,YAAY,CAAC,GAAG,6BAA6B,CAAC;gBACnD,IAAI,CAAC,yBAAyB,CAAC,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;gBACnD,MAAM;YAER,KAAK,IAAI;gBACP,IAAI,CAAC,YAAY,CAAC,GAAG,0BAA0B,CAAC;gBAChD,IAAI,CAAC,yBAAyB,CAAC,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;gBACnD,MAAM;YACR,KAAK,IAAI;gBACP,IAAI,CAAC,YAAY,CAAC,GAAG,kCAAkC,CAAC;gBACxD,IAAI,CAAC,yBAAyB,CAAC,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;gBACnD,MAAM;YAER,KAAK,IAAI;gBACP,IAAI,CAAC,YAAY,CAAC,GAAG,0BAA0B,CAAC;gBAChD,IAAI,CAAC,yBAAyB,CAAC,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;gBACnD,MAAM;YACR,KAAK,IAAI;gBACP,IAAI,CAAC,YAAY,CAAC,GAAG,0BAA0B,CAAC;gBAChD,IAAI,CAAC,yBAAyB,CAAC,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;gBACnD,MAAM;YACR,KAAK,IAAI;gBACP,IAAI,CAAC,YAAY,CAAC,GAAG,2BAA2B,CAAC;gBACjD,IAAI,CAAC,yBAAyB,CAAC,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;gBACnD,MAAM;YACR,KAAK,IAAI;gBACP,IAAI,CAAC,YAAY,CAAC,GAAG,8BAA8B,CAAC;gBACpD,IAAI,CAAC,yBAAyB,CAAC,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;gBACnD,MAAM;SACT;QACD,OAAO,IAAI,CAAC;IACd,CAAC;IAED,eAAe;QACb,MAAM,OAAO,GAAG,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;QACtD,IAAI,aAAa,GAAG,6BAA6B,CAAC;QAClD,IAAI,eAAe,GAAG,2BAA2B,CAAC;QAClD,IAAI,CAAC,gBAAgB,CAAC,aAAa,CAAC,gBAAgB,CAAC,OAAO,EAAE,GAAG,EAAE;YACjE,IAAI,OAAO,CAAC,SAAS,CAAC,QAAQ,CAAC,kBAAkB,CAAC,EAAE;gBAClD,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,kBAAkB,CAAC,CAAC;gBAC7C,iEAAiE;gBACjE,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC;aAC3B;iBAAM;gBACL,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;gBAC1C,mEAAmE;gBACnE,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC;aAC5B;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAGD,QAAQ,CAAC,KAAK;QACZ,MAAM,OAAO,GAAG,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;QACtD,IAAI,aAAa,GAAG,MAAM,CAAC,UAAU,CAAC,qBAAqB,CAAC,CAAC;QAC7D,IAAI,YAAY,GAAG,MAAM,CAAC,UAAU,CAAC,qBAAqB,CAAC,CAAC;QAC5D,IACE,aAAa,CAAC,OAAO;YACrB,OAAO,CAAC,SAAS,CAAC,QAAQ,CAAC,kBAAkB,CAAC,EAC9C;YACA,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,kBAAkB,CAAC,CAAC;YAC7C,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC;SAC3B;aAAM,IACL,YAAY,CAAC,OAAO;YACpB,CAAC,OAAO,CAAC,SAAS,CAAC,QAAQ,CAAC,kBAAkB,CAAC,EAC/C;YACA,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;YAC1C,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC;SAC5B;IACH,CAAC;IAGD,cAAc,CAAC,CAAC;QACd,IAAI,MAAM,CAAC,WAAW,GAAG,EAAE,EAAE;YAC3B,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;YAC3B,IAAI,OAAO,GAAG,QAAQ,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;YAChD,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;SACjC;aAAM;YACL,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;YAC5B,IAAI,OAAO,GAAG,QAAQ,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;YAChD,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;SACpC;IACH,CAAC;IAED,QAAQ,CAAC,MAAc;QACrB,IAAI,QAAQ,CAAC;QACb,IAAI,SAAS,CAAC;QACd,IAAI,SAAS,CAAC;QACd,QAAQ,MAAM,EAAE;YACd,KAAK,CAAC;gBACJ,QAAQ,GAAG,eAAe,CAAC;gBAC3B,SAAS,GAAG;oBACV,sBAAsB;oBACtB,sBAAsB;oBACtB,yBAAyB;oBACzB,oBAAoB;oBACpB,kCAAkC;oBAClC,2BAA2B;oBAC3B,6BAA6B;oBAC7B,0BAA0B;oBAC1B,uBAAuB;oBACvB,gBAAgB;iBACjB,CAAC;gBACF,SAAS,GAAG,sBAAsB,CAAC;gBACnC,MAAM;YACR,KAAK,CAAC;gBACJ,QAAQ,GAAG,0BAA0B,CAAC;gBACtC,SAAS,GAAG,CAAC,2BAA2B,EAAE,yBAAyB,CAAC,CAAC;gBACrE,SAAS,GAAG,2BAA2B,CAAC;gBACxC,MAAM;YACR,KAAK,CAAC;gBACJ,QAAQ,GAAG,kBAAkB,CAAC;gBAC9B,SAAS,GAAG,CAAC,0BAA0B,EAAE,6BAA6B,CAAC,CAAC;gBACxE,SAAS,GAAG,0BAA0B,CAAC;gBACvC,MAAM;YACR,KAAK,CAAC;gBACJ,QAAQ,GAAG,eAAe,CAAC;gBAC3B,SAAS,GAAG;oBACV,0BAA0B;oBAC1B,kCAAkC;iBACnC,CAAC;gBACF,SAAS,GAAG,0BAA0B,CAAC;gBACvC,MAAM;YACR,KAAK,CAAC;gBACJ,QAAQ,GAAG,0BAA0B,CAAC;gBACtC,SAAS,GAAG;oBACV,2BAA2B;oBAC3B,8BAA8B;oBAC9B,0BAA0B;oBAC1B,0BAA0B;iBAC3B,CAAC;gBACF,SAAS,GAAG,2BAA2B,CAAC;gBACxC,MAAM;YACR,iBAAiB;YACjB,mCAAmC;YACnC,oCAAoC;YACpC,kCAAkC;YAClC,WAAW;YACX,2BAA2B;YAC3B,mCAAmC;YACnC,8CAA8C;YAC9C,4CAA4C;YAC5C,WAAW;YACX,8BAA8B;YAC9B,mCAAmC;YACnC,iDAAiD;YACjD,+CAA+C;YAC/C,WAAW;YACX,oBAAoB;YACpB,iCAAiC;YACjC,WAAW;YACX,qBAAqB;YACrB,iCAAiC;YACjC,WAAW;YACX,qBAAqB;YACrB,kCAAkC;YAClC,WAAW;YACX,gCAAgC;YAChC,iCAAiC;YACjC,WAAW;YACX,kBAAkB;YAClB,+BAA+B;YAC/B,WAAW;YACX,mBAAmB;YACnB,gCAAgC;YAChC,WAAW;YACX,mBAAmB;YACnB,gCAAgC;YAChC,WAAW;YAEX;gBACE,QAAQ,GAAG,eAAe,CAAC;gBAC3B,MAAM;SACT;QACD,OAAO,EAAE,IAAI,EAAE,QAAQ,EAAE,SAAS,EAAE,SAAS,EAAE,UAAU,EAAE,SAAS,EAAE,CAAC;IACzE,CAAC;IAED,mBAAmB,CAAC,IAAI;QACtB,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,QAAQ,IAAI,IAAI,CAAC,IAAI,IAAI,OAAO,CAAC,EAAE;YAC3D,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACxC,YAAY,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;YACjC,YAAY,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;YACpC,YAAY,CAAC,UAAU,CAAC,gBAAgB,CAAC,CAAC;YAC1C,YAAY,CAAC,UAAU,CAAC,qBAAqB,CAAC,CAAC;YAC/C,YAAY,CAAC,KAAK,EAAE,CAAC;YACrB,IAAI,IAAI,CAAC,IAAI,IAAI,QAAQ,EAAE;gBACzB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,0BAA0B,CAAC,CAAC;aAC/D;YACD,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;SACjC;IACH,CAAC;IAED,WAAW,CAAC,IAAI;QACd,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;QAC1B,IAAI,KAAK,GAAG,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;QAC/C,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;IACtC,CAAC;IAED,eAAe,CAAC,CAAQ;QACtB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC;QACjC,IAAI,GAAG,GAAG,EAAE,CAAC;QACb,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;YAC/B,IAAI,KAAK,GAAG,KAAK,CAAC;YAClB,IAAI,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,WAAW,EAAE,CAAC,EAAE;gBACvE,KAAK,GAAG,IAAI,CAAC;aACd;iBAAM,IAAI,IAAI,CAAC,KAAK,EAAE;gBACrB,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;oBAC7B,IAAI,CAAC,KAAK,EAAE;wBACV,IACE,OAAO,CAAC,OAAO,CAAC;6BACb,WAAW,EAAE;6BACb,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,WAAW,EAAE,CAAC,EAC7C;4BACA,KAAK,GAAG,IAAI,CAAC;yBACd;qBACF;gBACH,CAAC,CAAC,CAAC;aACJ;YACD,IAAI,KAAK,EAAE;gBACT,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aAChB;QACH,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC;IACvB,CAAC;IAED,WAAW;QACT,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE,CAAC;IAClC,CAAC;;8EAlhBU,eAAe;6GAAf,eAAe;;;;;;;;;;+IAAf,oBAAgB,yJAAhB,0BAAsB;;;QCtBnC,4EAAoE;QAM5D,uDACF;QAAA,4DAAK;QAEP,6EAAwD;QAC1D,4DAAM;QAGN,yEAAgC;QAQxB,+RAAY,oFAA2B,KAAC;QAGxC,8HAgBc;QAEd,8HAec;QAChB,4DAAa;QASf,yEAAqB;QAMjB,gSAAY,0FAAoC,KAAC;QAGjD,8HAUc;QAEd,8HAec;QAChB,4DAAa;QAGf,0EAAwC;QAEpC,sEAAoE;QACpE,4EAAiC;QAAA,6DAAC;QAAA,4DAAO;QAG7C,0EAA8C;QAC5C,sEAIE;QACF,2EAA6B;QAOzB,8RAAW,4FAAqC,KAAC;QAGnD,4DAAa;QACb,4EAAoC;QAAC,mEAAM;QAAA,4DAAO;QAS5D,2EAAkD;QAChD,wEAIK;QACP,4DAAM;QACN,iFAAqE;QAG/D,8DAKC;QALD,2EAKC;QAMG,uEAME;QAmDJ,4DAAI;QAIV,+DAA6B;QAA7B,2EAA6B;QAGvB,oEAA+C;QAC/C,6EAKE;QADA,6IAAS,2BAAuB,IAAC;QAJnC,4DAKE;QAGN,8EAAyE;QACzE,8EAAuC;QAEnC,oEAAqC;QACrC,4EAA2B;QAAA,uEAAW;QAAA,4DAAO;QAE/C,2EAA4C;QAExC,uGACF;QAAA,4DAAI;QACJ,yEAAgC;QAAA,uEAAW;QAAA,4DAAI;QAMvD,4EAA6B;QAC3B,4EAA+B;QACjC,4DAAO;;QArPC,0DACF;QADE,yFACF;QAEY,0DAA0B;QAA1B,uFAA0B;QAUlC,0DAAwB;QAAxB,qFAAwB;QAoDxB,0DAAgC;QAAhC,6FAAgC;QAoD9B,2DAA0B;QAA1B,uFAA0B;QAoBlC,0DAA4C;QAA5C,yGAA4C;QAwEpC,2DAA0B;QAA1B,mFAA0B;QAkBK,0DAAmB;QAAnB,gFAAmB;;;;;;;;;;;;;;;;;;;;;;;;;;;AClOvC;;;;;;;;;;;;;;IC2FP,0EAIC;IACC,qEAOO;IACP,sEAAK;IAAA,uDAAwB;IAAA,4DAAM;;;IAPjC,0DAKE;IALF,sKAKE;IAEC,0DAAwB;IAAxB,0FAAwB;;;IAK/B,0EAGC;IACC,qEAOO;IACP,sEAAK;IAAA,uDAAgB;IAAA,4DAAM;;;IAPzB,0DAKE;IALF,0JAKE;IAEC,0DAAgB;IAAhB,8EAAgB;;;IAsBvB,0EAIC;IAEG,qEAAoD;IACtD,4DAAI;;;IAKN,0EAGC;IASM,uDAAoB;IAAA,4DAAM;;;IAA1B,0DAAoB;IAApB,kFAAoB;;AD3JpC,MAAM,oBAAoB;IAC/B,YACS,SAA2B,EAC1B,EAAc,EACd,MAAc,EACd,WAAwB,EACxB,KAAqB,EACrB,WAAwB,EACxB,YAA0B;QAN3B,cAAS,GAAT,SAAS,CAAkB;QAC1B,OAAE,GAAF,EAAE,CAAY;QACd,WAAM,GAAN,MAAM,CAAQ;QACd,gBAAW,GAAX,WAAW,CAAa;QACxB,UAAK,GAAL,KAAK,CAAgB;QACrB,gBAAW,GAAX,WAAW,CAAa;QACxB,iBAAY,GAAZ,YAAY,CAAc;QAGpC,iBAAY,GAAG,sBAAsB,CAAC;QACtC,gBAAW,GAAG,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,CAAC,CAAC;QACxD,iBAAY,GAAG;YACb,EAAE,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,SAAS,EAAE;YAClC,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,SAAS,EAAE;YACnC,EAAE,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAE,SAAS,EAAE;YACpC,EAAE,IAAI,EAAE,SAAS,EAAE,KAAK,EAAE,SAAS,EAAE;YACrC,uCAAuC;YACvC,sCAAsC;SACvC,CAAC;QACF,kBAAa,GAAG,EAAE,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,SAAS,EAAE,CAAC;QAEnD,mBAAc,GAAG,KAAK,CAAC;QAEvB,qBAAgB,GAAG,MAAM,CAAC;QAC1B,qBAAgB,GAAG,IAAI,CAAC;QAMxB,6BAAwB,GAAQ,EAAE,CAAC;QAEnC,yBAAoB,GAAQ,EAAE,CAAC;QAC/B,wBAAmB,GAAQ,EAAE,IAAI,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IA1BzD,CAAC;IAmBJ,IAAI,cAAc;QAChB,OAAO,IAAI,CAAC,WAAW,CAAC;IAC1B,CAAC;IAOD,QAAQ;QACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACvC,MAAM,mBAAmB,GAAG,IAAI,CAAC,KAAK,CACpC,YAAY,CAAC,OAAO,CAAC,qBAAqB,CAAC,CAC5C,CAAC;QACF,IAAI,mBAAmB;YAAE,IAAI,CAAC,mBAAmB,GAAG,mBAAmB,CAAC;QACxE,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,KAAK,CACpC,YAAY,CAAC,OAAO,CAAC,6BAA6B,CAAC,CACpD,CAAC;QAEF,IAAI,CAAC,gBAAgB;YACnB,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC;gBAC/B,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC;gBAC3D,MAAM,CAAC;QAET,IAAI,CAAC,gBAAgB;YACnB,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC;gBAChC,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC;QAE3D,IAAI,mBAAmB,EAAE;YACvB,OAAO,CAAC,GAAG,CAAC,wBAAwB,EAAE,mBAAmB,CAAC,CAAC;YAC3D,IAAI,CAAC,iBAAiB,CAAC,mBAAmB,CAAC,CAAC;SAC7C;IACH,CAAC;IAED,iBAAiB,CAAC,GAAQ;QACxB,IAAI,GAAG,IAAI,GAAG,CAAC,WAAW,EAAE;YAC1B,YAAY,CAAC,OAAO,CAAC,qBAAqB,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;YACjE,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;YACxC,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;YAC3B,IAAI,CAAC,YAAY;iBACd,gBAAgB,CAAC,IAAI,CAAC,gBAAgB,EAAE,GAAG,CAAC,IAAI,CAAC;iBACjD,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;gBACN,IAAI,CAAC,CAAC,GAAG,CAAC,aAAa,CAAC,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,GAAG,CAAC,cAAc,CAAC,CAAC,EAAE;oBACjE,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;oBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,6CAA6C,CAC9C,CAAC;iBACH;qBAAM;oBACL,IAAI,CAAC,YAAY,CAAC,+BAA+B,CAAC,GAAG,CAAC,CAAC;oBACvD,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;iBACnC;YACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;gBACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,OAAO,CAAC,GAAG,CAAC,6BAA6B,EAAE,GAAG,CAAC,CAAC;YAClD,CAAC,CACF,CAAC;SACL;IACH,CAAC;IAED,kBAAkB;IAClB,WAAW,CAAC,IAAI;QACd,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;QAC1B,IAAI,KAAK,GAAG,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;QAC/C,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;IACtC,CAAC;IAED,mBAAmB,CAAC,IAAI;QACtB,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,QAAQ,IAAI,IAAI,CAAC,IAAI,IAAI,OAAO,CAAC,EAAE;YAC3D,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACxC,YAAY,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;YACjC,YAAY,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;YACpC,YAAY,CAAC,UAAU,CAAC,gBAAgB,CAAC,CAAC;YAC1C,YAAY,CAAC,UAAU,CAAC,qBAAqB,CAAC,CAAC;YAC/C,YAAY,CAAC,KAAK,EAAE,CAAC;YACrB,IAAI,IAAI,CAAC,IAAI,IAAI,QAAQ,EAAE;gBACzB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,0BAA0B,CAAC,CAAC;aAC/D;YACD,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;SACjC;IACH,CAAC;IAGD,cAAc,CAAC,CAAC;QACd,IAAI,MAAM,CAAC,WAAW,GAAG,EAAE,EAAE;YAC3B,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;YAC3B,IAAI,OAAO,GAAG,QAAQ,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;YAChD,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;SACjC;aAAM;YACL,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;YAC5B,IAAI,OAAO,GAAG,QAAQ,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;YAChD,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;SACpC;IACH,CAAC;;wFA1HU,oBAAoB;kHAApB,oBAAoB;oJAApB,0BAAsB;;;QCnBnC,yEAAiC;QAIzB,8DAKC;QALD,yEAKC;QAMG,qEAME;QAmDJ,4DAAI;QAIV,+DAAoE;QAApE,8EAAoE;QAK9D,qEAA8B;QAChC,4DAAM;QAIR,2EAAgC;QAQxB,oSAAY,oFAA2B,KAAC;QAGxC,mIAgBc;QAEd,mIAec;QAChB,4DAAa;QASf,0EAAqB;QAMjB,oSAAY,0FAAoC,KAAC;QAGjD,mIAUc;QAEd,mIAec;QAChB,4DAAa;QAGf,0EAAwC;QAEpC,sEAGE;QACF,4EAAiC;QAAA,6DAAC;QAAA,4DAAO;QAG7C,0EAA8C;QAC5C,sEAIE;QACF,2EAA6B;QAOzB,kSAAW,4FAAqC,KAAC;QAGnD,4DAAa;QACb,4EAAoC;QAAC,mEAAM;QAAA,4DAAO;QAS9D,2EAA4B;QAEF,8EAAkB;QAAA,4DAAI;;QAnJpC,2DAA0B;QAA1B,mFAA0B;QAsB1B,0DAAwB;QAAxB,qFAAwB;QAoDxB,0DAAgC;QAAhC,6FAAgC;QAuD9B,2DAA0B;QAA1B,uFAA0B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IElL5B,4EAKY;;;IADZ,gFAAmB;;;IAZrB,yEAMC;IACC,uDACA;IAAA,kJAKY;IACd,4DAAK;;;IATH,iFAAyB;IAFzB,0FAA6B;IAI7B,0DACA;IADA,0FACA;IACC,0DAEA;IAFA,gIAEA;;;;IAOD,2EAIC;IACC,mEAA4B;IAC5B,4EAKE;IADA,idAAS,yGAA0C,UAAU,CAAC,KAAC;IAJjE,4DAKE;;;IAZN,qEAAuD;IACrD,sIAYO;IACT,4DAAK;;;IAdwB,iFAAyB;IAIjD,0DAA8D;IAA9D,kIAA8D;;;IAtBrE,qEAAI;IACF,6HAcK;IACP,4DAAK;IACL,yEAAuB;IACrB,6HAcK;IACP,4DAAK;;;;IA/Be,0DAAY;IAAZ,+EAAY;IAgBV,0DAAO;IAAP,gFAAO;;;;IA0BvB,sEAEK;IAGG,uiBAAgC;IAFlC,4DAME;;;;IAJA,0DAAgC;IAAhC,+FAAgC;;;;IAMxC,sEAEK;IAGG,uiBAAgC;IAFlC,4DAKE;;;;IAHA,0DAAgC;IAAhC,+FAAgC;;;;IAKpC,0EAAuE;IAC1B,+iBAAgC;IAAC,4DAAgB;IAC1F,4EAAwC;IAAA,+DAAI;IAAA,4DAAQ;IAIpD,oFAAgF;IAAjC,+iBAAgC;IAAC,4DAAgB;IAChG,4EAAwC;IAAA,qEAAU;IAAA,4DAAQ;;;;IANjB,0DAAgC;IAAhC,+FAAgC;IAK1B,0DAAgC;IAAhC,+FAAgC;;;;IAGnF,0EAAkE;IACxB,+iBAAgC;IAAC,4DAAgB;IACvF,4EAAwC;IAAA,yEAAc;IAAA,4DAAQ;IAI9D,oFAAuE;IAAjC,+iBAAgC;IAAC,4DAAgB;IACvF,4EAAwC;IAAA,mEAAQ;IAAA,4DAAQ;;;;IANlB,0DAAgC;IAAhC,+FAAgC;IAKhC,0DAAgC;IAAhC,+FAAgC;;;IArChF,qEAA8D;IAC5D,mJAUU;IACV,mJASU;IACN,mJAQQ;IACR,mJAQQ;IACd,4DAAK;;;IAtCI,0DAAoE;IAApE,wIAAoE;IAWpE,0DAAiC;IAAjC,iGAAiC;IASH,0DAAoC;IAApC,oGAAoC;IASpC,0DAA+B;IAA/B,+FAA+B;;;;IAWtE,yEAGC;IAEC,uUAAgB,sEAAiB,KAAC;IAChC,gFAWE;IAPA,maAAS,oGAA8B,KAAC;IAJ1C,4DAWE;IACF,sEAAkC;IACpC,4DAAQ;;;;IAXJ,0DAA+B;IAA/B,gGAA+B;;;IAnDvC,wEAAyD;IACvD,4IAwCK;IAEL,4IAoBK;IACP,qEAAe;;;IA/DR,0DAAuD;IAAvD,2HAAuD;IA2CzD,0DAA2B;IAA3B,2FAA2B;;;IA7ClC,yEAA8B;IAC5B,iJAgEe;IACjB,4DAAK;;;;IAlED,sFAAyB;IACG,0DAAY;IAAZ,gFAAY;;;IAoE5C,qEAAI;IAC+B,yEAAc;IAAA,4DAAK;;;IAAhD,0DAA4B;IAA5B,wFAA4B;;;;IAwB1C,0EAA+E;IAEvD,qEAAsC;IAAA,4DAAM;IAElE,0EAAiB;IAEV,+EAAkB;IAAA,4DAAI;IACzB,6EAOC;IADC,qSAAS,iFAAe,KAAC;IAC1B,4DAAS;;ADrJX,MAAM,oBAAoB;IAuB/B,YACU,WAA+B,EAC/B,WAAwB,EACxB,mBAAwC,EACxC,KAAqB;QAHrB,gBAAW,GAAX,WAAW,CAAoB;QAC/B,gBAAW,GAAX,WAAW,CAAa;QACxB,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,UAAK,GAAL,KAAK,CAAgB;QAxB/B,eAAU,GAAG,MAAM,CAAC,IAAI,CAAC;QAGzB,oBAAe,GAAY,KAAK,CAAC;QAEjC,WAAM,GAAG,EAAE,CAAC;QACZ,eAAU,GAAG,WAAW,CAAC;QACzB,mBAAc,GAAG,IAAI,CAAC;QAEtB,SAAI,GAAG,KAAK,CAAC;QAEb,SAAI,GAAU;YACZ,EAAE,KAAK,EAAE,cAAc,EAAE,MAAM,EAAE,eAAe,EAAE,KAAK,EAAE,KAAK,EAAE;YAChE,EAAE,KAAK,EAAE,UAAU,EAAE,MAAM,EAAE,UAAU,EAAE,KAAK,EAAE,KAAK,EAAE;YACvD,EAAE,KAAK,EAAE,aAAa,EAAE,MAAM,EAAE,cAAc,EAAE,KAAK,EAAE,KAAK,EAAE;YAC9D,EAAE,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAE;YACnD,EAAE,KAAK,EAAE,UAAU,EAAE,MAAM,EAAE,WAAW,EAAE,KAAK,EAAE,KAAK,EAAE;YACxD,EAAE,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAE;SACpD,CAAC;IAOC,CAAC;IAEJ,QAAQ;QACN,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,MAAM,cAAc,GAAG,eAAe,CAAC;QACvC,IAAI,CAAC,WAAW;aACb,SAAS,CAAC,cAAc,CAAC;aACzB,IAAI,CAAC,CAAC,eAAuB,EAAE,EAAE;YAChC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC;QACjD,CAAC,CAAC,CAAC;QACL,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;QAErE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;YACjC,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,kBAAkB,EAAE,CAAC;IAC5B,CAAC;IACD,kBAAkB;QAChB,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,CAAC,WAAW;aACb,kBAAkB,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,cAAc,CAAC;aACxD,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;YACzB,IAAI,CAAC,eAAe,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,cAAc,CAAC,CAAC;QACrD,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,2DAA2D,CAC5D,CAAC;QACJ,CAAC,CACF,CAAC;IACN,CAAC;IACD,aAAa,CAAC,CAAM,EAAE,IAAS;QAC7B,CAAC,CAAC,cAAc,EAAE,CAAC;QACnB,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,IAAI,SAAS,GAAG,EAAE,CAAC;QACnB,IAAI,CAAC,CAAC,MAAM,CAAC,OAAO,EAAE;YACpB,SAAS,GAAG,GAAG,CAAC;YAChB,IAAI,GAAG,UAAU,CAAC;SACnB;aAAM;YACL,SAAS,GAAG,GAAG,CAAC;YAChB,IAAI,GAAG,YAAY,CAAC;SACrB;QACD,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;QAChD,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,WAAW,GAAG,EAAE,CAAC;QAErB,WAAW;YACT,mDAAmD;gBACnD,iBAAiB;gBACjB,IAAI;gBACJ,qBAAqB,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC;QAC/C,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;YAC/B,OAAO,EAAE,WAAW;YACpB,GAAG,EAAE,sBAAsB;YAC3B,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,YAAY,CAAC,CAAC,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC;gBACtC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;YACjC,CAAC;YACD,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;gBAC/B,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;YAClC,CAAC;SACF,CAAC,CAAC;IACL,CAAC;IAED,mBAAmB,CAAC,MAAe;QACjC,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;YAC5C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;QACjD,CAAC,EAAE,GAAG,CAAC,CAAC;QACR,IAAI,CAAC,MAAM,EAAE;YACX,UAAU,CAAC,GAAG,EAAE;gBACd,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACzC,CAAC,EAAE,IAAI,CAAC,CAAC;SACV;IACH,CAAC;IAED,YAAY,CAAC,CAAM,EAAE,SAAc,EAAE,IAAS;QAC5C,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC,MAAM,EAAE,IAAI,EAAE,SAAS,CAAC,CAAC;IACvD,CAAC;IAED,oBAAoB,CAAC,SAAc,EAAE,IAAS,EAAE,SAAc;QAC5D,IAAI,CAAC,WAAW;aACb,wBAAwB,CACvB,IAAI,CAAC,UAAU,EACf,IAAI,CAAC,cAAc,EACnB,IAAI,CAAC,YAAY,EACjB,SAAS,CACV;aACA,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,OAAO,GAAG,EAAE,CAAC;YACjB,IAAI,GAAG,CAAC,OAAO,CAAC,IAAI,MAAM,EAAE;gBAC1B,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;aACjD;iBAAM;gBACL,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;oBACd,OAAO,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC;oBACrB,SAAS,CAAC,OAAO,GAAG,SAAU,CAAC,OAAO,CAAC;oBACvC,IAAI,CAAC,kBAAkB,EAAE,CAAC;oBAC1B,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;iBAC5C;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;oBACvC,OAAO,GAAG,gDAAgD,CAAC;oBAC3D,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;iBAC5C;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACjB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,CACF,CAAC;IACN,CAAC;IAED,oBAAoB,CAAC,KAAa;QAChC,6CAA6C;QAC7C,OAAO,KAAK,CAAC,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;IACzD,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;QAC1C,IAAI,wBAAwB,GAAG;YAC7B,UAAU,EAAE,IAAI,CAAC,UAAU;YAC3B,cAAc,EAAE,IAAI,CAAC,cAAc;YACnC,YAAY,EAAE,IAAI,CAAC,eAAe;SACnC,CAAC;QACF,wBAAwB,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;YACpD,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,GAAG,CAAC,CAAC;YAC7B,GAAG,CAAC,UAAU,CAAC,GAAG,IAAI,CAAC,oBAAoB,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC;QAC/D,CAAC,CAAC,CAAC;QACH,IAAI,OAAO,CAAC;QACZ,6BAA6B;QAC7B,IAAI,IAAI,GAAG,wBAAwB,CAAC;QAEpC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;QACjE,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QACxB,WAAW;QACX,yCAAyC;QACzC,kCAAkC;QAClC,oEAAoE;QACpE,IAAI;QAEJ,IAAI,OAAO,EAAE;YACX,OAAO,CAAC,SAAS,CACf,CAAC,GAAG,EAAE,EAAE;gBACN,IACE,GAAG,CAAC,QAAQ,CAAC;oBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;oBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;oBACA,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;wBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;qBACjD;yBAAM;wBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,8CAA8C,CAC/C,CAAC;qBACH;iBACF;qBAAM;oBACL,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;wBACd,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;wBAC3C,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;wBACvC,IAAI,CAAC,kBAAkB,EAAE,CAAC;qBAC3B;iBACF;YACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;gBACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,OAAO,CAAC,GAAG,CAAC,eAAe,EAAE,GAAG,CAAC,CAAC;gBAClC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,8CAA8C,CAC/C,CAAC;YACJ,CAAC,CACF,CAAC;SACH;IACH,CAAC;IAED,OAAO;QACL,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;QAC9C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;QAChD,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;YAC/B,OAAO,EAAE,mDAAmD;YAC5D,GAAG,EAAE,+BAA+B;YACpC,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;gBAC/B,0CAA0C;gBAC1C,6BAA6B;gBAC7B,0BAA0B;gBAC1B,0BAA0B;gBAC1B,MAAM;gBACN,IAAI,CAAC,kBAAkB,EAAE,CAAC;YAC5B,CAAC;YACD,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;gBAC/B,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;YAClC,CAAC;SACF,CAAC,CAAC;IACL,CAAC;;wFAzOU,oBAAoB;kHAApB,oBAAoB;;;;;;;QCXjC,yEAAkC;QAU1B,gIAmCc;QACd,gIAyEc;QACd,gIAIc;QAClB,4DAAU;QACV,yEAAoD;QAO9C,4IAAS,cAAU,IAAC;QACrB,4DAAS;QACV,4EAOC;QADC,4IAAS,aAAS,IAAC;QACpB,4DAAS;QAIhB,mHAiBM;QACN,2FAKC;QAOK,2RAAS,sEAAW,KAAC;QACtB,4DAAS;QAEV,8EAMC;QADC,2RAAS,sEAAW,KAAC;QACtB,4DAAS;QAGd,2FAMD;QAOK,2RAAS,sEAAY,KAAC;QACvB,4DAAS;QAEV,8EAMC;QADC,2RAAS,sEAAY,KAAC;QACvB,4DAAS;;QA9MN,0DAAgB;QAAhB,6EAAgB;QA8IM,0DAAiD;QAAjD,2JAAiD;QAsB3E,0DAAkB;QAAlB,2EAAkB;QAyBpB,0DAAkB;QAAlB,2EAAkB;;;;;;;;;;;;;;;;;;AClM2C;;;AAOxD,MAAM,kBAAkB;IAC7B,YAAoB,IAAgB;QAAhB,SAAI,GAAJ,IAAI,CAAY;IAAG,CAAC;IACxC,kBAAkB,CAAC,UAAe,EAAE,cAAmB;QACrD,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,wDAAwD,EACxD;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,YAAY,EAAE,UAAU,CAAC;iBAC7B,GAAG,CAAC,gBAAgB,EAAE,cAAc,CAAC;SACzC,CACF,CAAC;IACJ,CAAC;IAED,wBAAwB,CACtB,UAAe,EACf,cAAmB,EACnB,YAAiB,EACjB,MAAW;QAEX,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CACnB,6DAA6D,EAC7D,IAAI,EACJ;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,YAAY,EAAE,UAAU,CAAC;iBAC7B,GAAG,CAAC,gBAAgB,EAAE,cAAc,CAAC;iBACrC,GAAG,CAAC,cAAc,EAAE,YAAY,CAAC;iBACjC,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC;SACzB,CACF,CAAC;IACJ,CAAC;IACD,gBAAgB,CAAC,IAAS,EAAE,MAAW;QACrC,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CACnB,qDAAqD,EACrD,IAAI,EACJ;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE,CAAC,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC;SACjD,CACF,CAAC;IACJ,CAAC;IACD,kBAAkB,CAAC,IAAS,EAAE,MAAW;QACvC,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,uDAAuD,EACvD,IAAI,EACJ;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE,CAAC,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC;SACjD,CACF,CAAC;IACJ,CAAC;;oFAhDU,kBAAkB;mHAAlB,kBAAkB,WAAlB,kBAAkB,mBAFjB,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAI;AAGoB;AACD;;;;;;;;;;;;;;;ICqFjC,0EAA2B;IACnB,uDAAiB;IAAA,4DAAM;;;IAAvB,0DAAiB;IAAjB,gFAAiB;;;IAiBzB,0EAA2B;IACnB,uDAAiB;IAAA,4DAAM;;;IAAvB,0DAAiB;IAAjB,gFAAiB;;;IAiBzB,0EAA2B;IACnB,uDAAiB;IAAA,4DAAM;;;IAAvB,0DAAiB;IAAjB,gFAAiB;;;IA2BzB,0EAAwB;IACtB,uDACF;IAAA,4DAAM;;;IADJ,0DACF;IADE,gGACF;;;IAoBJ,0EAAkE;IAChE,uDAGF;IAAA,4DAAM;;;IAHJ,0DAGF;IAHE,oRAGF;;;IAiB0B,2EAA+C;IAAA,4DAAC;IAAA,4DAAO;;;IAJzE,qEAGC;IACC,uDAAgB;IAAA,8IAAuD;IACzE,4DAAK;;;IAHH,iFAAyB;IAEzB,0DAAgB;IAAhB,yFAAgB;IAAwB,0DAAqB;IAArB,qFAAqB;;;;IAK7D,2EAMC;IACC,mEAA4B;IAC5B,4EAOE;IAHA,0dACyB,0GACnC,UAAU,CAAC;IANH,4DAOE;;IAVF,2EAAuB;;;IAN3B,qEAA4C;IAC1C,8IAgBO;IACT,4DAAK;;;IAhBA,0DAEA;IAFA,mIAEA;;;IAbP,qEAAI;IACF,qIAKK;IACP,4DAAK;IACL,yEAAuB;IACrB,qIAkBK;IACP,4DAAK;;;IA1Be,0DAAS;IAAT,iFAAS;IAOP,0DAAS;IAAT,iFAAS;;;;IA2B/B,qEAAI;IAEA,uEAIE;IACJ,4DAAK;IACL,qEAAI;IACF,uEAIE;IACJ,4DAAK;IACL,qEAAI;IAIA,iUAAa,0FAC1B,IAD6C,oXAIT,8HACtB,KAL+B;IASjC,4DAAgB;IAEnB,qEAAI;IAKA,yTAAa,uFAC1B,IAD0C,+TAGrB,iHAA2C,KAHtB;IAJ/B,4DAaE;;;IAxCA,0DAAqC;IAArC,yGAAqC;IACrC,0EAAiB;IAMjB,0DAAuC;IAAvC,2GAAuC;IACvC,0EAAiB;IAMjB,0DAAmC;IAAnC,gGAAmC;IAkBnC,0DAAmC;IAAnC,uGAAmC;IAFnC,sFAAyB;;;IAe/B,qEAAI;IAC+B,yEAAc;IAAA,4DAAK;;;IAAhD,0DAA4B;IAA5B,yFAA4B;;;;IAjGxC,0EAAkE;IAU9D,yIA8Bc;IACd,0IAqDc;IACd,yIAIc;IAChB,4DAAU;;;IA5FR,0DAA2B;IAA3B,+HAA2B;IAL3B,4FAA4B;;;AD1K/B,MAAM,qBAAqB;IA4DhC,YACU,mBAAwC,EACxC,EAAsB,EACtB,KAAqB,EACrB,MAAc,EACd,qBAA4C,EAC5C,WAAwB,EACxB,cAA8B;QAN9B,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,OAAE,GAAF,EAAE,CAAoB;QACtB,UAAK,GAAL,KAAK,CAAgB;QACrB,WAAM,GAAN,MAAM,CAAQ;QACd,0BAAqB,GAArB,qBAAqB,CAAuB;QAC5C,gBAAW,GAAX,WAAW,CAAa;QACxB,mBAAc,GAAd,cAAc,CAAgB;QAlExC,iBAAY,GAAG,sBAAsB,CAAC;QAGtC,iBAAY,GAAU,EAAE,CAAC;QACzB,sBAAiB,GAAG,KAAK,CAAC;QAC1B,wBAAmB,GAAU,EAAE,CAAC;QAEhC,mBAAc,GAAU,EAAE,CAAC;QAE3B,6BAAwB,GAAU,EAAE,CAAC;QACrC,wBAAmB,GAAU,EAAE,CAAC;QAChC,uBAAkB,GAAU,EAAE,CAAC;QAE/B,2BAAsB,GAAU,EAAE,CAAC;QAEnC,wBAAmB,GAAY,KAAK,CAAC;QACrC,sBAAiB,GAAQ,EAAE,CAAC;QAE5B,mBAAc,GAAG,KAAK,CAAC;QAIvB,6BAAwB,GAAQ,EAAE,CAAC;QAEnC,aAAQ,GAAG,EAAE,CAAC;QACd,uBAAkB,GAAG,EAAE,CAAC;QACxB,2BAAsB,GAAQ,EAAE,CAAC;QACjC,iBAAY,GAAQ,EAAE,CAAC;QAIvB,gBAAW,GAAG,KAAK,CAAC;QACpB,SAAI,GAAG,KAAK,CAAC;QAGb,SAAI,GAAU;YACZ;gBACE,KAAK,EAAE,WAAW;gBAClB,MAAM,EAAE,YAAY;gBACpB,KAAK,EAAE,KAAK;gBACZ,WAAW,EAAE,KAAK;aACnB;YACD;gBACE,KAAK,EAAE,aAAa;gBACpB,MAAM,EAAE,cAAc;gBACtB,KAAK,EAAE,KAAK;gBACZ,WAAW,EAAE,KAAK;aACnB;YACD,EAAE,KAAK,EAAE,UAAU,EAAE,MAAM,EAAE,WAAW,EAAE,KAAK,EAAE,KAAK,EAAE,WAAW,EAAE,IAAI,EAAE;YAC3E;gBACE,KAAK,EAAE,cAAc;gBACrB,MAAM,EAAE,eAAe;gBACvB,KAAK,EAAE,KAAK;gBACZ,WAAW,EAAE,IAAI;aAClB;SACF,CAAC;QAaA,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,mDAAG,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;IAC1E,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,MAAM,CAAC;QAClD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CACjE,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,CAAC,CACnE,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;QAC7D,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;YACjC,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,gBAAgB,EAAE,CAAC;QACxB,IAAI,CAAC,IAAI,IAAI,MAAM,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,IAAI,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;QACzE,IAAI,CAAC,IAAI,IAAI,OAAO,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;QAE/C,IAAI;QACJ,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC,KAAK,CACxC,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAClC,CAAC;QACF,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;QACzE,IAAI,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,CAAC;QACjE,IAAI,MAAM,GAAG,IAAI,CAAC;QAClB,IAAI,MAAM,GAAG,IAAI,CAAC;QAClB,IAAI,SAAS,EAAE;YACb,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC,CAAC;YAC7D,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC;SACzD;QAED,IAAI,MAAM,EAAE;YACV,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;SACjC;QACD,IAAI,MAAM,EAAE;YACV,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;YACnC,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC;YACzB,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;SACxB;QACD,IAAI;QAEJ,IAAI,CAAC,qBAAqB;aACvB,qBAAqB,EAAE;aACvB,IAAI,CAAC,oDAAI,CAAC,CAAC,CAAC,CAAC;aACb,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;iBAClE;aACF;iBAAM;gBACL,IAAI,GAAG,CAAC,MAAM,CAAC,EAAE;oBACf,IAAI,CAAC,kBAAkB,GAAG,GAAG,CAAC,MAAM,CAAC,CACnC,4BAA4B,CAC7B,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE;wBACZ,OAAO,EAAE,IAAI,EAAE,GAAG,CAAC,QAAQ,EAAE,IAAI,EAAE,GAAG,CAAC,QAAQ,EAAE,CAAC;oBACpD,CAAC,CAAC,CAAC;oBACH,IAAI,CAAC,sBAAsB,GAAG,GAAG,CAAC,MAAM,CAAC,CACvC,uBAAuB,CACxB,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE;wBACZ,OAAO,EAAE,IAAI,EAAE,GAAG,CAAC,QAAQ,EAAE,IAAI,EAAE,GAAG,CAAC,QAAQ,EAAE,CAAC;oBACpD,CAAC,CAAC,CAAC;oBACH,MAAM,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,MAAM,CAAC;oBACnD,IAAI,MAAM,IAAI,MAAM,CAAC,EAAE,EAAE;wBACvB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;wBACxB,IAAI,IAAI,CAAC;wBACT,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,EAAE,CAAC;wBAC1B,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,GAAG,EAAE,EAAE;4BAC5B,IAAI,GAAG,CAAC,SAAS,CAAC,EAAE;gCAClB,IAAI,CAAC,wBAAwB,GAAG,GAAG,CAAC;gCACpC,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;6BACtC;iCAAM;gCACL,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,wBAAwB,CAAC,CAAC;6BACrD;wBACH,CAAC,CAAC,CAAC;qBACJ;iBACF;qBAAM,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;oBACrB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;oBAC9C,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;oBACvB,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;iBACzB;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;YACvB,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;YACxB,OAAO,CAAC,GAAG,CAAC,iCAAiC,EAAE,GAAG,CAAC,CAAC;QACtD,CAAC,CACF;aACA,GAAG,CAAC,GAAG,EAAE;YACR,IAAI,CAAC,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE;gBACpC,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;aACxC;QACH,CAAC,CAAC,CAAC;IACP,CAAC;IAED,gBAAgB;QACd,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YACjC,YAAY,EAAE,IAAI,8DAAkB,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAE,EAAE;gBACnE,+DAAmB;aACpB,CAAC;YACF,KAAK,EAAE,IAAI,8DAAkB,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,EAAE;gBAC3D,+DAAmB;aACpB,CAAC;YACF,OAAO,EAAE,IAAI,8DAAkB,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,EAAE;gBAC7D,+DAAmB;aACpB,CAAC;SACH,CAAC,CAAC;IACL,CAAC;IAED,IAAI,OAAO;QACT,OAAO,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;IAChD,CAAC;IACD,IAAI,UAAU;QACZ,OAAO,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;IAC3C,CAAC;IACD,IAAI,QAAQ;QACV,OAAO,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;IACzC,CAAC;IAED,WAAW,CAAC,CAAM;QAChB,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;YACrB,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;YAC7B,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;YACzB,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;YACtB,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;YACxB,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;SACxB;QACD,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC;IAC3B,CAAC;IAED,cAAc;QACZ,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;YACrB,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;YACtB,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;YAC7B,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;YACzB,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;SACxB;QACD,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;IACzB,CAAC;IAED,YAAY,CAAC,CAAM;QACjB,IAAI,CAAC,cAAc,EAAE,CAAC;IACxB,CAAC;IAED,cAAc;QACZ,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,IAAI,GAAG;YACT,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI;YAClC,UAAU,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI;YACtC,eAAe,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI;SACzC,CAAC;QAEF,IAAI,IAAI,CAAC,IAAI,IAAI,KAAK,EAAE;YACtB,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;YACxC,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;YACvB,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;YACzB,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;YAE7B,IAAI,CAAC,qBAAqB;iBACvB,6BAA6B,CAAC,IAAI,CAAC;iBACnC,IAAI,CAAC,oDAAI,CAAC,CAAC,CAAC,CAAC;iBACb,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;gBACN,IACE,GAAG,CAAC,QAAQ,CAAC;oBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;oBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;oBACA,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;wBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;qBACjD;yBAAM;wBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,6BAA6B,CAC9B,CAAC;qBACH;iBACF;qBAAM;oBACL,IAAI,GAAG,CAAC,MAAM,CAAC,CAAC,6BAA6B,CAAC,CAAC,MAAM,EAAE;wBACrD,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;wBAChC,IAAI,CAAC,iBAAiB;4BACpB,GAAG,CAAC,MAAM,CAAC,CAAC,6BAA6B,CAAC,CAAC;wBAC7C,IAAI,CAAC,YAAY,GAAG,CAAC,GAAG,IAAI,CAAC,iBAAiB,CAAC,CAAC;wBAChD,IAAI,CAAC,mBAAmB,GAAG,CAAC,GAAG,IAAI,CAAC,iBAAiB,CAAC,CAAC;wBACvD,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;4BACjC,IAAI,CAAC,iBAAiB,CAAC,GAAG,IAAI,CAAC,sBAAsB,CAAC,GAAG,CACvD,CAAC,CAAC,EAAE,EAAE;gCACJ,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;4BACzC,CAAC,CACF,CAAC;4BACF,IAAI,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC;4BACrB,IAAI,CAAC,YAAY,CAAC,GAAG,EAAE,CAAC;wBAC1B,CAAC,CAAC,CAAC;qBACJ;yBAAM,IACL,GAAG,CAAC,MAAM,CAAC,CAAC,6BAA6B,CAAC,CAAC,MAAM,IAAI,CAAC,EACtD;wBACA,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;wBACjC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,uCAAuC,CACxC,CAAC;qBACH;yBAAM,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;wBACrB,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;wBACjC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;wBAC9C,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;wBACvB,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;wBACzB,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;qBAC9B;iBACF;YACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;gBACN,OAAO,CAAC,GAAG,CAAC,iCAAiC,EAAE,GAAG,CAAC,CAAC;gBACpD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;YACnE,CAAC,CACF;iBACA,GAAG,CAAC,GAAG,EAAE;gBACR,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACzC,CAAC,CAAC,CAAC;SACN;aAAM;YACL,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;gBACrB,IAAI,CAAC,YAAY,GAAG,CAAC,GAAG,IAAI,CAAC,iBAAiB,CAAC,CAAC;gBAChD,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;gBACzB,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;aAC9B;SACF;IACH,CAAC;IAED,eAAe;QACb,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;YACnC,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,EAAE;gBAC5B,IAAI,CAAC,iBAAiB,CAAC,GAAG,IAAI,CAAC,sBAAsB,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE;oBAC9D,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;gBACzC,CAAC,CAAC,CAAC;gBACH,IAAI,KAAK,GAAG,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAC3C,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CACrC,CAAC;gBACF,IAAI,KAAK,IAAI,CAAC,CAAC,EAAE;oBACf,IAAI,CAAC,YAAY,CAAC,GAAG,EAAE,CAAC;iBACzB;qBAAM;oBACL,IAAI,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC,WAAW,CAAC,CAAC;iBAClE;aACF;YACD,IAAI,KAAK,GAAG,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAC3C,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CACrC,CAAC;YACF,IAAI,KAAK,IAAI,CAAC,CAAC,EAAE;gBACf,IAAI,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC;aACtB;iBAAM;gBACL,IAAI,CAAC,SAAS,CAAC,GAAG,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,CAAC;aAC7D;QACH,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,kBAAkB,GAAG,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC;QACnD,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;IACzB,CAAC;IAED,wBAAwB,CAAC,MAAM;QAC7B,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,CAAC,qBAAqB;aACvB,uBAAuB,EAAE;aACzB,IAAI,CAAC,oDAAI,CAAC,CAAC,CAAC,CAAC;aACb,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;iBAClE;aACF;iBAAM;gBACL,IAAI,GAAG,CAAC,SAAS,CAAC,IAAI,GAAG,CAAC,SAAS,CAAC,CAAC,MAAM,EAAE;oBAC3C,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;oBAC/B,GAAG,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;wBACjC,IAAI,GAAG,GAAG,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;wBAChC,IAAI,IAAI,GAAG,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;wBACjC,IAAI,MAAM,GAAG,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;wBACnC,IACE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,IAAI,GAAG;4BAC9B,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,IAAI,IAAI;4BAChC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,IAAI,MAAM;4BACpC,CAAC,IAAI,CAAC,iBAAiB,EACvB;4BACA,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;4BAChD,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;4BAC7C,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;4BAC9B,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;gCAC/B,OAAO,EAAE,6FAA6F,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,qBAAqB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,oBAAoB,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,iDAAiD;gCACzQ,MAAM,EAAE,GAAG,EAAE;oCACX,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC;oCAChC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;gCACjC,CAAC;gCACD,MAAM,EAAE,GAAG,EAAE;oCACX,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,+BAA+B,CAChC,CAAC;oCACF,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;gCAClC,CAAC;6BACF,CAAC,CAAC;yBACJ;oBACH,CAAC,CAAC,CAAC;oBACH,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE;wBAC3B,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC;qBACjC;iBACF;qBAAM;oBACL,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC;iBACjC;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,OAAO,CAAC,GAAG,CACT,+DAA+D,EAC/D,GAAG,CACJ,CAAC;YACF,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;QACnE,CAAC,CACF;aACA,GAAG,CAAC,GAAG,EAAE;YACR,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,CAAC,CAAC;IACP,CAAC;IAED,mBAAmB,CAAC,MAAe;QACjC,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;YAC5C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;QACjD,CAAC,EAAE,GAAG,CAAC,CAAC;QACR,IAAI,CAAC,MAAM,EAAE;YACX,UAAU,CAAC,GAAG,EAAE;gBACd,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACzC,CAAC,EAAE,IAAI,CAAC,CAAC;SACV;IACH,CAAC;IAED,kBAAkB,CAAC,MAAW;QAC5B,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,IAAI,GAAG;YACT,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI;YAClC,eAAe,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI;YACxC,UAAU,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI;YACtC,SAAS,EAAE,IAAI;YACf,WAAW,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM;YACjC,MAAM,EAAE,GAAG;YACX,0BAA0B,EAAE,EAAE;SAC/B,CAAC;QACF,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,CAAC,aAAa,EAAE,EAAE;YAChD,IAAI,UAAU,GAAG,EAAE,CAAC;YACpB,aAAa,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,CAAC,EAAE,EAAE,EAAE;gBACzC,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC;YAC/B,CAAC,CAAC,CAAC;YACH,OAAO,aAAa,CAAC,IAAI,CAAC,CAAC;YAC3B,aAAa,CAAC,WAAW,CAAC,GAAG,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YAClD,IAAI,CAAC,4BAA4B,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QACzD,CAAC,CAAC,CAAC;QAEH,IAAI,SAAS,GAAG,KAAK,CAAC;QAEtB,IAAI,IAAI,CAAC,IAAI,IAAI,MAAM,EAAE;YACvB,SAAS,GAAG,QAAQ,CAAC;SACtB;QAED,IAAI,CAAC,qBAAqB;aACvB,sBAAsB,CAAC,IAAI,EAAE,SAAS,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;aAC7D,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;iBAClE;aACF;iBAAM;gBACL,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;oBACd,IAAI,IAAI,CAAC,IAAI,IAAI,OAAO,EAAE;wBACxB,IAAI,IAAI,CAAC,iBAAiB,EAAE;4BAC1B,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,qCAAqC,CACtC,CAAC;yBACH;6BAAM;4BACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,2CAA2C,CAC5C,CAAC;yBACH;qBACF;oBACD,IAAI,IAAI,CAAC,IAAI,IAAI,KAAK,EAAE;wBACtB,IAAI,IAAI,CAAC,iBAAiB,EAAE;4BAC1B,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,qCAAqC,CACtC,CAAC;yBACH;6BAAM;4BACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,uCAAuC,CACxC,CAAC;yBACH;qBACF;oBAED,IAAI,IAAI,CAAC,IAAI,IAAI,MAAM,EAAE;wBACvB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,qCAAqC,CACtC,CAAC;qBACH;oBACD,IAAI,MAAM,IAAI,MAAM,EAAE;wBACpB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,wBAAwB,CAAC,CAAC,CAAC;qBAClD;yBAAM,IAAI,MAAM,IAAI,YAAY,EAAE;wBACjC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;4BACnB,gDAAgD;yBACjD,CAAC,CAAC;qBACJ;iBACF;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,OAAO,CAAC,GAAG,CAAC,gCAAgC,EAAE,GAAG,CAAC,CAAC;YACnD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;QACnE,CAAC,CACF,CAAC;IACN,CAAC;IAED,0BAA0B,CAAC,KAAK,EAAE,KAAK;QACrC,IAAI,OAAO,GAAG,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QACzC,IAAI,OAAO,GAAG,IAAI,CAAC,kBAAkB,CAAC,MAAM,EAAE;YAC5C,IAAI,GAAG,GACL,6BAA6B;gBAC7B,CAAC,IAAI,CAAC,kBAAkB,CAAC,MAAM,IAAI,CAAC;oBAClC,CAAC,CAAC,WAAW;oBACb,CAAC,CAAC,eAAe,GAAG,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC;YACxD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC;YACvC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;YAC3B,KAAK,CAAC,gBAAgB,CAAC,GAAG,IAAI,CAAC;SAChC;aAAM;YACL,IAAI,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;YAC/C,IAAI,OAAO,IAAI,CAAC,EAAE;gBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,mDAAmD,CACpD,CAAC;gBACF,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,GAAG,OAAO,CAAC;gBACpE,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;gBAC3B,KAAK,CAAC,gBAAgB,CAAC,GAAG,IAAI,CAAC;aAChC;iBAAM;gBACL,IAAI,KAAK,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,KAAK,EAAE;oBAClE,OAAO,GAAG,CAAC;wBACT,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;4BACxD,OAAO,CAAC,CAAC;oBACb,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;oBAC5B,KAAK,CAAC,gBAAgB,CAAC,GAAG,KAAK,CAAC;iBACjC;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,mEAAmE,CACpE,CAAC;oBACF,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;oBAC3B,KAAK,CAAC,gBAAgB,CAAC,GAAG,IAAI,CAAC;iBAChC;aACF;SACF;IACH,CAAC;IAED,sBAAsB,CAAC,MAAM,EAAE,QAAQ;QACrC,IAAI,UAAU,GAAQ,EAAE,CAAC;QACzB,UAAU,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IACxD,CAAC;IAED,oBAAoB,CAAC,MAAM;QACzB,IAAI,cAAc,GAAG,KAAK,CAAC;QAC3B,IAAI,aAAa,GAAG,KAAK,CAAC;QAC1B,IAAI,wBAAwB,GAAG,KAAK,CAAC;QACrC,IAAI,mBAAmB,GAAG,KAAK,CAAC;QAChC,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;YAC1C,IAAI,OAAO,CAAC,UAAU,IAAI,EAAE,EAAE;gBAC5B,cAAc,GAAG,IAAI,CAAC;aACvB;YACD,IAAI,OAAO,CAAC,OAAO,GAAG,IAAI,CAAC,kBAAkB,CAAC,MAAM,EAAE;gBACpD,wBAAwB,GAAG,IAAI,CAAC;aACjC;YACD,IAAI,OAAO,CAAC,OAAO,IAAI,CAAC,IAAI,OAAO,CAAC,OAAO,GAAG,CAAC,EAAE;gBAC/C,aAAa,GAAG,IAAI,CAAC;aACtB;YACD,IAAI,OAAO,CAAC,gBAAgB,CAAC,EAAE;gBAC7B,mBAAmB,GAAG,IAAI,CAAC;aAC5B;QACH,CAAC,CAAC,CAAC;QACH,IAAI,cAAc,EAAE;YAClB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,0BAA0B,CAAC,CAAC;SAC/D;aAAM,IAAI,aAAa,EAAE;YACxB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,4BAA4B,CAAC,CAAC;SACjE;aAAM,IAAI,wBAAwB,EAAE;YACnC,IAAI,GAAG,GACL,6BAA6B;gBAC7B,CAAC,IAAI,CAAC,kBAAkB,CAAC,MAAM,IAAI,CAAC;oBAClC,CAAC,CAAC,WAAW;oBACb,CAAC,CAAC,eAAe,GAAG,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC;YACxD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC;SACxC;aAAM,IAAI,mBAAmB,EAAE;YAC9B,IAAI,GAAG,GAAG,2CAA2C,CAAC;YACtD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC;SACxC;aAAM;YACL,IAAI,IAAI,CAAC,IAAI,IAAI,MAAM,EAAE;gBACvB,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC;aACjC;iBAAM;gBACL,IAAI,CAAC,wBAAwB,CAAC,MAAM,CAAC,CAAC;aACvC;SACF;IACH,CAAC;IAED,oBAAoB,CAAC,QAAa;QAChC,IAAI,IAAI,GAAG;YACT,QAAQ,EAAE,IAAI,CAAC,wBAAwB,CAAC,UAAU,CAAC;YACnD,UAAU,EAAE,IAAI,CAAC,wBAAwB,CAAC,YAAY,CAAC;YACvD,eAAe,EAAE,IAAI,CAAC,wBAAwB,CAAC,SAAS,CAAC;SAC1D,CAAC;QAEF,8CAAQ,CAAC;YACP,iBAAiB,EACf,IAAI,CAAC,qBAAqB,CAAC,kBAAkB,CAAC,QAAQ,CAAC;YACzD,kBAAkB,EAChB,IAAI,CAAC,qBAAqB,CAAC,6BAA6B,CAAC,IAAI,CAAC;SACjE,CAAC;aACC,IAAI,CACH,oDAAI,CAAC,CAAC,CAAC,EACP,mDAAG,CAAC,CAAC,QAAQ,EAAE,EAAE;YACf,IACE,QAAQ,CAAC,iBAAiB,CAAC,MAAM,CAAC;gBAClC,QAAQ,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC,eAAe,CAAC,EACnD;gBACA,MAAM,iBAAiB,GACrB,QAAQ,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC,eAAe,CAAC,CAAC;gBACtD,MAAM,kBAAkB,GACtB,QAAQ,CAAC,kBAAkB,CAAC,MAAM,CAAC,CACjC,6BAA6B,CAC9B,CAAC;gBACJ,iBAAiB,CAAC,4BAA4B,CAAC,CAAC,OAAO,CACrD,CAAC,MAAW,EAAE,EAAE;oBACd,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;oBACvC,MAAM,CAAC,iBAAiB,CAAC,GAAG,IAAI,CAAC,sBAAsB,CAAC,GAAG,CACzD,CAAC,CAAC,EAAE,EAAE;wBACJ,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;oBACzC,CAAC,CACF,CAAC;oBACF,IAAI,WAAW,GAAG,MAAM,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;oBACjD,MAAM,CAAC,WAAW,CAAC,GAAG,WAAW,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE;wBAC5C,OAAO,EAAE,KAAK,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC;oBACnC,CAAC,CAAC,CAAC;oBACH,IAAI,IAAI,GAAG,kBAAkB,CAAC,IAAI,CAChC,CAAC,MAAM,EAAE,EAAE,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,MAAM,CAAC,WAAW,CAAC,CACvD,CAAC;gBACJ,CAAC,CACF,CAAC;gBACF,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;gBAChC,IAAI,CAAC,iBAAiB,GAAG,CAAC,GAAG,kBAAkB,CAAC,CAAC;gBAEjD,IAAI,CAAC,cAAc,GAAG,kBAAkB,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,EAAE;oBACvD,OAAO,iBAAiB,CAAC,4BAA4B,CAAC,CAAC,IAAI,CACzD,CAAC,SAAS,EAAE,EAAE;wBACZ,OAAO,SAAS,CAAC,WAAW,CAAC,IAAI,IAAI,CAAC,WAAW,CAAC,CAAC;oBACrD,CAAC,CACF,CAAC;gBACJ,CAAC,CAAC,CAAC;gBACH,IAAI,CAAC,YAAY,GAAG,kBAAkB,CAAC,MAAM,CAC3C,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,EAAE,CAAC,CAC1C,CAAC;gBACF,OAAO,iBAAiB,CAAC;aAC1B;iBAAM;gBACL,OAAO,QAAQ,CAAC,iBAAiB,CAAC;aACnC;QACH,CAAC,CAAC,CACH;aACA,SAAS,CAAC,CAAC,GAAG,EAAE,EAAE;YACjB,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;YACxB,IAAI,GAAG,CAAC,QAAQ,CAAC,EAAE;gBACjB,IACE,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;oBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;oBACA,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;wBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;qBACjD;yBAAM;wBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;qBAClE;iBACF;qBAAM;oBACL,IAAI,GAAG,EAAE;wBACP,IAAI,CAAC,kBAAkB,GAAG,GAAG,CAAC,4BAA4B,CAAC,CAAC;wBAC5D,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,CAAC,EAAE,EAAE;4BAC1C,IAAI,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC;wBAC/D,CAAC,CAAC,CAAC;wBAEH,MAAM,QAAQ,GAAG,IAAI,CAAC,wBAAwB,CAAC,IAAI,CACjD,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,IAAI,KAAK,GAAG,CAAC,iBAAiB,CAAC,CACjD,CAAC;wBACF,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;wBAChC,MAAM,SAAS,GAAG,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAC5C,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,IAAI,KAAK,GAAG,CAAC,UAAU,CAAC,CAC1C,CAAC;wBACF,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;wBAClC,MAAM,WAAW,GAAG,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAC/C,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,IAAI,KAAK,GAAG,CAAC,YAAY,CAAC,CAC5C,CAAC;wBACF,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;qBACvC;iBACF;aACF;iBAAM,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;gBACrB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;gBAC9C,OAAO;aACR;QACH,CAAC,CAAC;aACD,GAAG,CAAC,GAAG,EAAE;YACR,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,EAAE,EAAE;gBACjC,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;aACxC;QACH,CAAC,CAAC,CAAC;IACP,CAAC;IAED,KAAK;QACH,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;QACjC,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;QAC7B,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QACvB,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;QACzB,wBAAwB;QACxB,yBAAyB;QACzB,2BAA2B;QAC3B,2BAA2B;QAC3B,6BAA6B;IAC/B,CAAC;;0FA3rBU,qBAAqB;mHAArB,qBAAqB;QClBlC,yEAAkC;QASlB,8DAKH;QALG,yEAKH;QAMG,wEAQE;QAQJ,4DAAI;QAGJ,+DAAiB;QAAjB,2EAAiB;QAIb,6KAEF;QAAA,4DAAI;QAIhB,2EAAmD;QAS7C,8IAAS,yBAAqB,MAAM,CAAC,IAAC;QAEvC,4DAAS;QACR,8EAQD;QADC,8IAAS,WAAO,IAAC;QAClB,4DAAS;QAOd,2EAAqE;QAK9D,uEAAW;QAAA,4DACb;QACD,kFASC;QADC,8JAAY,uBAAmB,IAAC;QAElC,oIAIc;QAAA,4DAAa;QAE7B,2EAAqE;QACc,kEAAM;QAAA,4DAAQ;QAC/F,kFASC;QADC,wJAAY,oBAAgB,IAAC;QAE/B,oIAIc;QAAA,4DAAa;QAE7B,2EAAqE;QACgB,gEAAI;QAAA,4DAAQ;QAC/F,kFASC;QADC,wJAAY,oBAAgB,IAAC;QAE/B,oIAIc;QAAA,4DAAa;QAK/B,2EAAsC;QAGhC,2EACF;QAAA,4DAAM;QACN,2EAGC;QACC,6EACF;QAAA,4DAAM;QAER,kFAMC;QACC,oIAIc;QAChB,4DAAa;QAEf,2EAGC;QAQG,8IAAS,qBAAiB,IAAC;QAC5B,4DAAS;QAGZ,2EAA+B;QAC7B,oHAIM;QACN,oHAqGM;QACR,4DAAM;QAIV,kFAGmB;;QA3QD,2DAA0B;QAA1B,mFAA0B;QA6BlC,0DAAyD;QAAzD,0HAAyD;QASzD,0DAAkB;QAAlB,2EAAkB;QAWnB,0DAA2B;QAA3B,wFAA2B;QAW1B,0DAAoC;QAApC,iGAAoC;QAkBpC,0DAA+B;QAA/B,4FAA+B;QAkB/B,0DAA8B;QAA9B,2FAA8B;QA4BhC,0DAAuB;QAAvB,oFAAuB;QAqBvB,0DAAmC;QAAnC,gGAAmC;QAQJ,0DAA+B;QAA/B,+FAA+B;QAK/B,0DAA+B;QAA/B,+FAA+B;QA4GpE,0DAA2B;QAA3B,gIAA2B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IEnRzB,6EAAoD;IAClD,uDACF;IAAA,4DAAS;;;IADP,0DACF;IADE,4FACF;;;;;IAmBQ,0EAIC;IAFC,iLAAS,wBAAwB,IAAC;IAGlC,wEASC;IADC,qZAAS,uGAAiC,KAAC;IAC5C,4DAAI;IACL,wFAcC;IALC,2nBACqB,wCAC1B,IAAI,CAAC,SAAoB,wGACpB,KAAC,qXACc,qGAA+B,KAD7C;IAGH,4DAAgB;;;;IAxBd,0DAKE;IALF,4OAKE;IAMF,0DAAyC;IAAzC,8GAAyC;;;IAzB/C,yEAMC;IACC,uDACA;IAAA,8IA+BM;IACR,4DAAK;;;;;IAnCH,iFAAyB;IAFzB,0FAA6B;IAI7B,0DACA;IADA,0FACA;IACG,0DAAgC;IAAhC,oGAAgC;;;;IAoCnC,2EAIC;IACC,mEAA4B;IAC5B,4EAKE;IADA,2dAAS,yGAA0C,UAAU,CAAC,KAAC;IAJjE,4DAKE;;IARF,2EAAuB;;;IAJ3B,qEAA4C;IAC1C,+IAYO;IACT,4DAAK;;;IAZA,0DAA2D;IAA3D,+HAA2D;;;IA/ClE,qEAAI;IACF,sIAwCK;IACP,4DAAK;IAEL,yEAAuB;IACrB,sIAcK;IACP,4DAAK;;;;IA1De,0DAAY;IAAZ,gFAAY;IA2CV,0DAAS;IAAT,gFAAS;;;;IAyB3B,yEAIC;IADC,oaAAS,iGAA2B,MAAM,CAAC,KAAC;IAE5C,uDACF;IAAA,4DAAK;;;;IADH,0DACF;IADE,yGACF;;;;IACA,yEAGC;IAMK,6aAAS,oGAA8B,KAAC;IAJ1C,4DAWE;IACF,sEAAkC;IACpC,4DAAQ;;;;IAXJ,0DAA+B;IAA/B,gGAA+B;;;;IAarC,yEAGC;IAOK,waAAS,+FAAyB,KAAC;IACpC,4DAAS;;;IAvChB,wEAAyD;IACvD,qJAMK;IACL,qJAmBK;IACL,qJAaK;IACP,qEAAe;;;IAxCV,0DAA2D;IAA3D,+HAA2D;IAO3D,0DAA2B;IAA3B,2FAA2B;IAoB3B,0DAA+B;IAA/B,+FAA+B;;;IA9BtC,yEAA8B;IAC5B,0JA0Ce;IACjB,4DAAK;;;;IA5CD,sFAAyB;IACG,0DAAY;IAAZ,gFAAY;;;IA8C5C,qEAAI;IAC+B,yEAAc;IAAA,4DAAK;;;IAAhD,0DAA4B;IAA5B,yFAA4B;;;IAIlC,uDAOF;;;IAPE,uRAOF;;;IA7JN,0EAAmE;IAG7D,mEAAiC;IACjC,sGACF;IAAA,4DAAM;IACN,0EAAoB;IAClB,wEAOU;IACZ,4DAAM;IAER,0EAAoB;IAClB,+HAES;IACT,kFAOC;IACC,0IA8Dc;IACd,0IAmDc;IACd,0IAIc;IACd,2IAQc;IAChB,4DAAU;;;IA5IgB,0DAAwB;IAAxB,2FAAwB;IAKhD,0DAAgB;IAAhB,gFAAgB;;;IA0ItB,0EAAgF;IAExD,qEAAsC;IAAA,4DAAM;IAElE,0EAAiB;IAEV,iHAAoD;IAAA,4DAAI;IAC3D,wEAOU;IACZ,4DAAM;;;IAWJ,0EAAgC;IAC9B,uDAGF;IAAA,4DAAM;;;IAHJ,0DAGF;IAHE,oPAGF;;;IASE,qEAAI;IACE,qEAAU;IAAA,4DAAK;IACnB,qEAAI;IAAA,uEAAY;IAAA,4DAAK;IACrB,qEAAI;IAAA,mEAAQ;IAAA,4DAAK;IACjB,qEAAI;IAAA,wEAAa;IAAA,4DAAK;;;IAIxB,qEAAI;IAEA,uEAIE;IACJ,4DAAK;IACL,qEAAI;IACF,uEAIE;IACJ,4DAAK;IACL,qEAAI;IACF,uEAKE;IACJ,4DAAK;IACL,qEAAI;IACF,uEAKE;IACJ,4DAAK;;;IA1BD,0DAAqC;IAArC,yGAAqC;IACrC,0EAAiB;IAMjB,0DAAuC;IAAvC,2GAAuC;IACvC,0EAAiB;IAMjB,0DAAqC;IAArC,yGAAqC;IACrC,0EAAiB;IAOjB,0DAAmC;IAAnC,uGAAmC;IACnC,0EAAiB;;;IAOvB,qEAAI;IACE,yEAAc;IAAA,4DAAK;;;;ADtO1B,MAAM,sBAAsB;IAgEjC,YACU,MAAc,EACd,WAAwB,EACxB,KAAqB,EACrB,QAAkB,EAClB,qBAA4C,EAC5C,mBAAwC;QALxC,WAAM,GAAN,MAAM,CAAQ;QACd,gBAAW,GAAX,WAAW,CAAa;QACxB,UAAK,GAAL,KAAK,CAAgB;QACrB,aAAQ,GAAR,QAAQ,CAAU;QAClB,0BAAqB,GAArB,qBAAqB,CAAuB;QAC5C,wBAAmB,GAAnB,mBAAmB,CAAqB;QArElD,cAAS,GAAW,mCAAmC,CAAC;QAGxD,sBAAiB,GAAU,EAAE,CAAC;QAE9B,oBAAe,GAAY,KAAK,CAAC;QAEjC,+BAA0B,GAAY,KAAK,CAAC;QAC5C,wBAAmB,GAAY,KAAK,CAAC;QACrC,0BAAqB,GAAY,KAAK,CAAC;QACvC,kCAA6B,GAAY,KAAK,CAAC;QAC/C,kCAA6B,GAAY,KAAK,CAAC;QAC/C,2BAAsB,GAAY,KAAK,CAAC;QACxC,yBAAoB,GAAY,KAAK,CAAC;QACtC,sBAAiB,GAAY,KAAK,CAAC;QAEnC,eAAU,GAAG,MAAM,CAAC,IAAI,CAAC;QAEzB,wBAAmB,GAAQ,EAAE,CAAC;QAM9B,sBAAiB,GAAQ,EAAE,CAAC;QAI5B,iBAAY,GAAG,KAAK,CAAC;QACrB,wBAAmB,GAAG,EAAE,CAAC;QAEzB,kCAA6B,GAAU,EAAE,CAAC;QAC1C,2BAAsB,GAAU,EAAE,CAAC;QACnC,6BAAwB,GAAU,EAAE,CAAC;QACrC,qCAAgC,GAAU,EAAE,CAAC;QAC7C,oCAA+B,GAAU,EAAE,CAAC;QAC5C,8BAAyB,GAAU,EAAE,CAAC;QACtC,4BAAuB,GAAU,EAAE,CAAC;QACpC,yBAAoB,GAAU,EAAE,CAAC;QAEjC,aAAQ,GAAQ,EAAE,CAAC;QAEnB,SAAI,GAAU;YACZ,EAAE,KAAK,EAAE,iBAAiB,EAAE,MAAM,EAAE,cAAc,EAAE,KAAK,EAAE,KAAK,EAAE;YAClE,EAAE,KAAK,EAAE,YAAY,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAE;YACvD,EAAE,KAAK,EAAE,UAAU,EAAE,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE;YACnD;gBACE,KAAK,EAAE,oBAAoB;gBAC3B,MAAM,EAAE,qBAAqB;gBAC7B,KAAK,EAAE,KAAK;aACb;YACD;gBACE,KAAK,EAAE,mBAAmB;gBAC1B,MAAM,EAAE,sBAAsB;gBAC9B,KAAK,EAAE,KAAK;aACb;YACD,EAAE,KAAK,EAAE,aAAa,EAAE,MAAM,EAAE,cAAc,EAAE,KAAK,EAAE,KAAK,EAAE;YAC9D,EAAE,KAAK,EAAE,WAAW,EAAE,MAAM,EAAE,YAAY,EAAE,KAAK,EAAE,KAAK,EAAE;YAC1D,EAAE,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE;YAClD,EAAE,KAAK,EAAE,YAAY,EAAE,MAAM,EAAE,YAAY,EAAE,KAAK,EAAE,IAAI,EAAE;SAC3D,CAAC;QAEF,YAAO,GAAG,IAAI,CAAC;IAQZ,CAAC;IAEJ,QAAQ;QACN,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QAExC,MAAM,cAAc,GAAG,2BAA2B,CAAC;QACnD,IAAI,CAAC,WAAW;aACb,SAAS,CAAC,cAAc,CAAC;aACzB,IAAI,CAAC,CAAC,eAAuB,EAAE,EAAE;YAChC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC;QACjD,CAAC,CAAC,CAAC;QAEL,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;YACjC,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;QAC7D,IAAI,CAAC,wBAAwB,EAAE,CAAC;IAClC,CAAC;IAED,wBAAwB;QACtB,IAAI,CAAC,qBAAqB;aACvB,uBAAuB,EAAE;aACzB,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;iBAClE;aACF;iBAAM;gBACL,IAAI,CAAC,oBAAoB,GAAG,GAAG,CAAC;gBAChC,IAAI,GAAG,CAAC,MAAM,CAAC,EAAE;oBACf,IAAI,CAAC,iBAAiB,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC;oBACrC,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;oBAC7B,IAAI,CAAC,aAAa,EAAE,CAAC;oBACrB,IAAI,CAAC,gBAAgB,EAAE,CAAC;iBACzB;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;oBAC9C,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;oBAC5B,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;iBAC7B;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,OAAO,CAAC,GAAG,CAAC,iCAAiC,EAAE,GAAG,CAAC,CAAC;YACpD,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAC9B,CAAC,CACF;aACA,GAAG,CAAC,GAAG,EAAE;YACR,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,CAAC,CAAC;IACP,CAAC;IAED,aAAa;QACX,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE,EAAE;YACxC,MAAM,CAAC,mBAAmB,CAAC,GAAG,GAAG,CAAC;YAClC,MAAM,CAAC,oBAAoB,CAAC,GAAG,GAAG,MAAM,CAAC,oBAAoB,CAAC,EAAE,CAAC;YACjE,MAAM,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC,CAAC;QACzE,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;IACvB,CAAC;IAED,gBAAgB;QACd,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,oBAAoB,CAAC,eAAe,CAAC,GAAG,CAClE,CAAC,IAAI,EAAE,EAAE;YACP,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;QACtC,CAAC,CACF,CAAC;QACF,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,oBAAoB,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;YAC9D,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;QACtC,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;YAClE,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;QACtC,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,oBAAoB,CACjD,oBAAoB,CACrB,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;YACb,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;QACtC,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,iBAAiB,GAAG,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC,CAAC;QACtD,IAAI,eAAe,GAAG,IAAI,CAAC,oBAAoB,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;YACvE,IAAI,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;YAC/C,OAAO,UAAU,CAAC;QACpB,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,WAAW,GAAG,CAAC,GAAG,IAAI,GAAG,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAChE,CAAC,KAAK,EAAE,EAAE;YACR,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC;QACxC,CAAC,CACF,CAAC;QACF,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;YAChE,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;QACtC,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;YAC1D,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;QACtC,CAAC,CAAC,CAAC;IACL,CAAC;IAED,aAAa,CAAC,CAAM,EAAE,IAAS;QAC7B,CAAC,CAAC,cAAc,EAAE,CAAC;QACnB,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,IAAI,SAAS,GAAG,EAAE,CAAC;QACnB,IAAI,CAAC,CAAC,MAAM,CAAC,OAAO,EAAE;YACpB,SAAS,GAAG,QAAQ,CAAC;YACrB,IAAI,GAAG,UAAU,CAAC;SACnB;aAAM;YACL,SAAS,GAAG,UAAU,CAAC;YACvB,IAAI,GAAG,YAAY,CAAC;SACrB;QACD,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;QAChD,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,WAAW,GAAG,EAAE,CAAC;QACrB,IAAI,WAAW,GAAG,kCAAkC,CAAC;QACrD,IACE,SAAS,IAAI,UAAU;YACvB,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAC7C;YACA,WAAW;gBACT,WAAW;oBACX,iBAAiB;oBACjB,IAAI;oBACJ,+BAA+B,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC;SAChD;aAAM;YACL,WAAW;gBACT,mDAAmD;oBACnD,iBAAiB;oBACjB,IAAI;oBACJ,+BAA+B,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC;SAChD;QACD,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;YAC/B,OAAO,EAAE,WAAW;YACpB,GAAG,EAAE,sBAAsB;YAC3B,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,YAAY,CAAC,CAAC,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC;gBACtC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;YACjC,CAAC;YACD,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;gBAC/B,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;YAClC,CAAC;SACF,CAAC,CAAC;IACL,CAAC;IAED,mBAAmB,CAAC,MAAe;QACjC,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;YAC5C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;QACjD,CAAC,EAAE,GAAG,CAAC,CAAC;QACR,IAAI,CAAC,MAAM,EAAE;YACX,UAAU,CAAC,GAAG,EAAE;gBACd,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACzC,CAAC,EAAE,IAAI,CAAC,CAAC;SACV;IACH,CAAC;IAED,YAAY,CAAC,CAAM,EAAE,SAAc,EAAE,IAAS;QAC5C,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QAExC,MAAM,QAAQ,GAAG,IAAI,QAAQ,EAAE,CAAC;QAChC,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QAChD,QAAQ,CAAC,MAAM,CAAC,UAAU,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACxC,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;QACrC,IAAI,CAAC,yBAAyB,CAAC,QAAQ,EAAE,CAAC,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;IAC3D,CAAC;IAED,yBAAyB,CAAC,QAAa,EAAE,SAAc,EAAE,UAAe;QACtE,IAAI,CAAC,qBAAqB,CAAC,yBAAyB,CAAC,QAAQ,CAAC,CAAC,SAAS,CACtE,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,OAAO,GAAG,EAAE,CAAC;YACjB,IAAI,GAAG,CAAC,OAAO,CAAC,IAAI,MAAM,EAAE;gBAC1B,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,OAAO,GAAG,yCAAyC,GAAG,CAAC,KAAK,CAAC,MAAM,UAAU,CAAC,aAAa,CAAC,oCAAoC,CAAC;gBACjI,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;aAC5C;iBAAM;gBACL,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;oBACd,OAAO,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC;oBACrB,SAAS,CAAC,OAAO,GAAG,SAAU,CAAC,OAAO,CAAC;oBACvC,IAAI,CAAC,wBAAwB,EAAE,CAAC;oBAChC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;iBAC5C;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;oBACvC,OAAO,GAAG,gDAAgD,CAAC;oBAC3D,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;iBAC5C;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACjB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,CACF,CAAC;IACJ,CAAC;IAED,gBAAgB,CAAC,IAAI;QACnB,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,0BAA0B,CAAC;QAC3D,IAAI,CAAC,mBAAmB,CAAC,iBAAiB,CAAC,GAAG,IAAI,CAAC,iBAAiB,CAAC,CAAC;QACtE,IAAI,CAAC,mBAAmB,CAAC,UAAU,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC;QACxD,IAAI,CAAC,mBAAmB,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC;QAC5D,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;QAChD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;IAC3B,CAAC;IACD,iBAAiB,CAAC,IAAS,EAAE,IAAS;QACpC,IAAI,KAAK,GAAG;YACV,OAAO,EAAE,IAAI,CAAC,eAAe;YAC7B,UAAU,EAAE,IAAI,CAAC,UAAU;YAC3B,QAAQ,EAAE,IAAI,CAAC,QAAQ;SACxB,CAAC;QAEF,IAAI,CAAC,MAAM,CAAC,aAAa,CACvB,8CAA8C,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,EAC/D,EAAE,KAAK,EAAE,KAAK,EAAE,CACjB,CAAC;IACJ,CAAC;IAED,WAAW;QACT,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;YAC5C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;QACjD,CAAC,EAAE,GAAG,CAAC,CAAC;QACR,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,EAAE,IAAI,CAAC,CAAC;IACX,CAAC;IAED,sBAAsB,CAAC,KAAK;QAC1B,IAAI,CAAC,OAAO,KAAK,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,KAAK,SAAS,CAAC,CAAC;IAC7D,CAAC;IAED,oBAAoB,CAAC,KAAK;QACxB,IAAI,CAAC,OAAO,KAAK,SAAS,CAAC,GAAG,KAAK,CAAC;IACtC,CAAC;IAED,oBAAoB,CAAC,KAAU;QAC7B,OAAO,IAAI,CAAC,iBAAiB,KAAK,EAAE,CAAC,CAAC;IACxC,CAAC;IAED,iBAAiB,CAAC,EAAe,EAAE,KAAU;QAC3C,IAAI,CAAC,iBAAiB,KAAK,EAAE,CAAC,GAAG,EAAE,CAAC,KAAK,CAAC;IAC5C,CAAC;IAED,kBAAkB,CAAC,KAAU;QAC3B,OAAO,IAAI,CAAC,OAAO,KAAK,SAAS,CAAC,CAAC;IACrC,CAAC;IAED,kBAAkB,CAAC,KAAU;QAC3B,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC;IACrB,CAAC;;4FAvUU,sBAAsB;oHAAtB,sBAAsB;;QCbnC,mHAgKM;QACN,kHAiBM;QACN,sEAAK;QAED,mMAA0B,0FAGhB,iBAAa,IAHG;QAK1B,kIAMc;QACd,6EAKC;QACC,kIAOc;QACd,kIAiCc;QACd,kIAIc;QAChB,4DAAU;QAId,wFAKC;QAOK,6RAAS,sEAAW,KAAC;QACtB,4DAAS;QAEV,8EAMC;QADC,6RAAS,sEAAW,KAAC;QACtB,4DAAS;;QA/QqB,8FAA8B;QAiKrC,0DAAkD;QAAlD,sHAAkD;QAsB1E,0DAAyC;QAAzC,gIAAyC;QAFzC,qFAA0B;QAgBxB,0DAA2B;QAA3B,gIAA2B;QAH3B,0FAA6B;QA4DjC,0DAAkB;QAAlB,2EAAkB;;;;;;;;;;;;;;;;;;AC9P2C;;;AAMxD,MAAM,qBAAqB;IAChC,YAAoB,IAAgB;QAAhB,SAAI,GAAJ,IAAI,CAAY;IAAG,CAAC;IAExC,uBAAuB;QACrB,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,8CAA8C,CAAC,CAAC;IACvE,CAAC;IAED,yBAAyB,CAAC,IAAS;QACjC,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CACnB,sDAAsD,EACtD,IAAI,CACL,CAAC;IACJ,CAAC;IAED,qBAAqB;QACnB,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,0CAA0C,CAAC,CAAC;IACnE,CAAC;IAED,6BAA6B,CAAC,IAAS;QACrC,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,2CAA2C,EAAE,IAAI,CAAC,CAAC;IAC3E,CAAC;IAED,kBAAkB,CAAC,QAAa;QAC9B,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,+CAA+C,QAAQ,EAAE,CAC1D,CAAC;IACJ,CAAC;IACD,sBAAsB,CAAC,IAAS,EAAE,SAAc,EAAE,MAAW;QAC3D,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,yCAAyC,EAAE,IAAI,EAAE;YACrE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC;iBACrB,GAAG,CAAC,WAAW,EAAE,SAAS,CAAC;SAC/B,CAAC,CAAC;IACL,CAAC;;0FAjCU,qBAAqB;sHAArB,qBAAqB,WAArB,qBAAqB,mBAFpB,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;ACMb,MAAM,uBAAuB;IAClC,YACU,MAAc,EACd,WAAwB,EACxB,WAAwB;QAFxB,WAAM,GAAN,MAAM,CAAQ;QACd,gBAAW,GAAX,WAAW,CAAa;QACxB,gBAAW,GAAX,WAAW,CAAa;QAGlC,iBAAY,GAAG,sBAAsB,CAAC;QACtC,gBAAW,GAAG,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC,CAAC;QAElC,qBAAgB,GAAG,MAAM,CAAC;IALvB,CAAC;IAOJ,IAAI,cAAc;QAChB,OAAO,IAAI,CAAC,WAAW,CAAC;IAC1B,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;IACzC,CAAC;IAED,aAAa;QACX,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACxC,YAAY,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QACjC,YAAY,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;QACpC,YAAY,CAAC,UAAU,CAAC,gBAAgB,CAAC,CAAC;QAC1C,YAAY,CAAC,UAAU,CAAC,qBAAqB,CAAC,CAAC;QAC/C,YAAY,CAAC,KAAK,EAAE,CAAC;QACrB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;IAClC,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;IAClC,CAAC;;8FAhCU,uBAAuB;qHAAvB,uBAAuB;QCVpC,yEAAuC;QAI/B,8DAKC;QALD,yEAKC;QAMG,qEAME;QAmDJ,4DAAI;QAIV,+DAAoE;QAApE,8EAAoE;QAK9D,qEAA8B;QAChC,4DAAM;QAIR,2EAAgC;QAIxB,sEAGE;QACF,4EAAiC;QAAA,6DAAC;QAAA,4DAAO;QAG7C,0EAA8C;QACvC,6IAAS,mBAAe,IAAC;QAAmB,iEAAK;QAAA,4DAAM;QAStE,2EAAkC;QAGvB,sEAAuC;QAAA,4DAAM;QAEpD,uEAAK;QAEG,2EAAe;QAAA,4DAAK;QACxB,qEAAG;QACD,2IAEF;QAAA,4DAAI;QACJ,8EAOC;QADC,gJAAS,cAAU,IAAC;QACrB,4DAAS;;QAxDN,2DAA0B;QAA1B,mFAA0B;;;;;;;;;;;;;;;;;;;AC9DjB;AACkD;;;;;AAclE,MAAM,mBAAmB;IAmB9B,YAAoB,IAAkC;QAAlC,SAAI,GAAJ,IAAI,CAA8B;QAlB3B,qBAAgB,GAAkB,IAAI,CAAC;QAC/C,aAAQ,GAAmB,IAAI,CAAC;QAEzB,mBAAc,GACtC,IAAI,uDAAY,EAAE,CAAC;QAGrB,SAAI,GAAgB,IAAI,CAAC;IAWgC,CAAC;IATT,SAAS,CAAC,KAAe;QACxE,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;QACzB,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;YACpB,MAAM,IAAI,GAAG,KAAK,IAAI,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YACpC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;YACpB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;SAClB;IACH,CAAC;IAID,UAAU,CAAC,KAAW;QACpB,mBAAmB;QACnB,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,KAAK,GAAG,EAAE,CAAC;QACnC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IACnB,CAAC;IAED,gBAAgB,CAAC,EAAY;QAC3B,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;IACrB,CAAC;IAED,iBAAiB,CAAC,EAAY,IAAG,CAAC;;sFA/BvB,mBAAmB;iHAAnB,mBAAmB;mJAAnB,kCAA8B;4MAT9B;YACT;gBACE,OAAO,EAAE,6DAAiB;gBAC1B,WAAW,EAAE,mBAAmB;gBAChC,KAAK,EAAE,IAAI;aACZ;SACF;;QCpBH,yEAA4B;QAOxB,yLAE8B,EACjC,iBACW,6CACV,IAAG;QACA,uDAEC;QAAA,4DACH;QACD,0EACG;QADG,qRAAS,qEAAe,KAAC;QAC5B,kEACF;QAAA,4DAAO;QACR,yEAAiD;QACnD,4DAAM;;QAnBF,0DAGE;QAHF,2MAGE;QAQD,0DAEC;QAFD,uJAEC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJiB;AAKC;AAOsF;AACZ;;;;;;;;;;;;;;;;;;;;;ICc5F,0EACF;;;IAGA,0EAGC;IACC,mEAAyC;IACzC,kGACF;IAAA,4DAAM;;;IACN,0EAGC;IACC,mEAAyC;IACzC,uDACF;IAAA,4DAAM;;;IADJ,0DACF;IADE,iHACF;;;;;IAEE,0EAAgC;IAM5B,6SAAS,0FAAwB,KAAC;IAGnC,4DAAS;;IADR,0DAA2B;IAA3B,+HAA2B;;;IAmBrB,0EAQC;IACC,uDACF;IAAA,4DAAM;;;;IATJ,iLAMC;IAED,0DACF;IADE,8FACF;;;IAaA,0EAA2B;IACpB,uDAAkB;IAAA,4DAAM;;;IAAxB,0DAAkB;IAAlB,iFAAkB;;;IAkCvB,0EAGC;IAEG,uDACF;IAAA,4DAAM;;;IADJ,0DACF;IADE,iJACF;;;IANF,4JAOM;;;IALH,4HAAsB;;;IAQzB,qEAGO;;;IAEL,0EAAyD;IAClD,uDAAkB;IAAA,4DAAM;;;IAAxB,0DAAkB;IAAlB,iFAAkB;;;IAEzB,0EAGC;IACM,uDAAkB;IAAA,4DAAM;;;IAAxB,0DAAkB;IAAlB,iFAAkB;;;IAR3B,wEAAgD;IAC9C,2KAEM;IACN,2KAKM;IACR,qEAAe;;;IATP,0DAA2B;IAA3B,2FAA2B;IAI9B,0DAA2B;IAA3B,2FAA2B;;;IAThC,4JAGO;IACP,8KAUe;;;IAbZ,+FAA+B;IAGnB,0DAA+B;IAA/B,+FAA+B;;;;IA3BlD,iFAWC;IAFC,4UAAY,2EAAS,KAAK,eAAe,KAAC;IAG1C,8JASc;IACd,8JAgBc;IAChB,4DAAa;;;IApCX,oGAAmC;;;;IAsCrC,oFAWC;IADC,gVAAW,0FAAwB,KAAC;IAEtC,4DAAgB;;IANd,8EAAqB;;;IAOvB,4EAUc;;IALZ,0EAAiB;;;IA3ErB,wEAMC;IAUC,+IAuCa;IAEb,qJAYgB;IAChB,+IAUc;IAChB,qEAAe;;;IAhEV,0DAAyB;IAAzB,4FAAyB;IA0CzB,0DAA0C;IAA1C,oHAA0C;IAY1C,0DAAyC;IAAzC,mHAAyC;;;IAmB5C,uEAOE;;;IACF,uEAQE;;;;IACF,oFAWC;IADC,gVAAW,0FAAwB,KAAC;IAEtC,4DAAgB;;IANd,8EAAqB;;;IA/BzB,4EAOC;IACC,qIAOE;IACF,qIAQE;IACF,qJAYgB;IAClB,qEAAe;;;IAhCb,mJAA2C;IAGxC,0DAAoB;IAApB,gFAAoB;IAQpB,0DAAqB;IAArB,iFAAqB;IASrB,0DAAsB;IAAtB,kFAAsB;;;IAiDvB,0EAA2B;IACpB,uDAAkB;IAAA,4DAAM;;;IAAxB,0DAAkB;IAAlB,iFAAkB;;;;IAsBjC,wEAIC;IAAA,uDAAc;IAAA,4DAChB;;;;IAJC,+JAAqC;IAGpC,0DAAc;IAAd,6EAAc;;;;;IAhBnB,2EAUC;IAPC,oWAAS,kFAAgB,oCAAwB,KAAC;IAQlD,uDACE;IAAA,qHAKD;IACD,2EAKC;IADC,qYAAS,kFAAgB,6CAA6B,KAAC;IAEvD,8DAWC;IAXD,0EAWC;IARC,qZAAe,uGAA6B,KAAC,6VAC9B,uGAA6B,KADC;IAS7C,sEAEE;IAIJ,4DAAM;;;;IAxCR,+JAAqC;IASrC,0DACE;IADF,+HACE;IAGC,0DAA0B;IAA1B,kGAA0B;IAM3B,0DAAqC;IAArC,+JAAqC;;;;;AD/QtC,MAAM,oBAAoB;IA4E/B,YACS,aAA4B,EAC5B,cAA8B,EAC7B,EAAsB,EACtB,QAAmB,EACnB,WAAwB,EACxB,mBAAwC,EACxC,kBAAsC;QANvC,kBAAa,GAAb,aAAa,CAAe;QAC5B,mBAAc,GAAd,cAAc,CAAgB;QAC7B,OAAE,GAAF,EAAE,CAAoB;QACtB,aAAQ,GAAR,QAAQ,CAAW;QACnB,gBAAW,GAAX,WAAW,CAAa;QACxB,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,uBAAkB,GAAlB,kBAAkB,CAAoB;QA/Ed,4BAAuB,GAAQ,EAAE,CAAC;QACvC,uBAAkB,GAAQ,EAAE,CAAC;QAOpB,gCAA2B,GAAQ,EAAE,CAAC;QACtC,gCAA2B,GAAQ,IAAI,CAAC;QAC7C,2BAAsB,GAAY,KAAK,CAAC;QAClD,iBAAY,GAAQ,EAAE,CAAC;QACnB,qBAAgB,GAAQ,EAAE,CAAC;QAC/B,iBAAY,GAAY,KAAK,CAAC;QAC/B,gBAAW,GAAY,KAAK,CAAC;QAEzC,2BAAsB,GAAG,IAAI,uDAAY,EAI/C,CAAC;QAEK,qBAAgB,GAAG,IAAI,uDAAY,EAAO,CAAC;QAC3C,2BAAsB,GAAG,IAAI,uDAAY,EAAO,CAAC;QAE3D,iBAAY,GAAG,EAAE,CAAC;QAClB,YAAO,GAAG,IAAI,CAAC;QACf,uBAAkB,GAAG,KAAK,CAAC;QAC3B,mBAAc,GAAG,KAAK,CAAC;QACvB,kBAAa,GAAG,KAAK,CAAC;QACtB,0BAAqB,GAAG,KAAK,CAAC;QAC9B,0BAAqB,GAAU,EAAE,CAAC;QAClC,WAAM,GAAG,EAAE,CAAC;QAEZ,qBAAgB,GAAQ,EAAE,YAAY,EAAE,KAAK,EAAE,CAAC;QAEhD,eAAU,GAAG,KAAK,CAAC;QACnB,oBAAe,GAAG,KAAK,CAAC;QAExB,eAAU,GAAG,KAAK,CAAC;QACnB,oBAAe,GAAG,KAAK,CAAC;QAOxB,kBAAa,GAAG,KAAK,CAAC;QACtB,oBAAe,GAAG,KAAK,CAAC;QAGxB,6BAAwB,GAAY,KAAK,CAAC;QAG1C,yBAAoB,GAAY,KAAK,CAAC;QAKtC,qBAAgB,GAAG,IAAI,CAAC,2BAA2B,CAAC,MAAM;YACxD,CAAC,CAAC,iBAAiB;YACnB,CAAC,CAAC,oBAAoB,CAAC;QAEzB,eAAU,GAAG,mDAAmD,CAAC;QAEjE,eAAU,GAAQ;YAChB,IAAI,EAAE,YAAY;YAClB,IAAI,EAAE,kBAAkB;SACzB,CAAC;QACF,mCAA8B,GAAG,IAAI,CAAC;QACZ,oBAAe,GAAW,EAAE,CAAC;IAUpD,CAAC;IAKJ,QAAQ;QACN,IAAI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,MAAM,EAAE;YAC/C,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,kBAAkB,CAAC;SAC3C;QAED,IAAI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,MAAM,EAAE;YACvC,IAAI,CAAC,kBAAkB,CAAC,iBAAiB,GAAG,IAAI,CAAC,UAAU,CAAC;SAC7D;aAAM;YACL,IAAI,CAAC,kBAAkB,CAAC,iBAAiB,GAAG,EAAE,CAAC;SAChD;QAED,IAAI,CAAC,2BAA2B,GAAG,IAAI,CAAC,kBAAkB;aACvD,2BAA2B,EAAE;aAC7B,SAAS,CAAC,CAAC,GAAG,EAAE,EAAE;YACjB,IAAI,CAAC,wBAAwB,GAAG,GAAG,CAAC;YACpC,IAAI,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,wBAAwB,CAAC,CAAC,MAAM,EAAE;gBACvD,IAAI,CAAC,wBAAwB,CAAC,kBAAkB,CAAC,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;oBAClE,IAAI,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,IAAI,IAAI,CAAC,CAAC,MAAM,IAAI,CAAC,EAAE;wBACjE,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;qBACxB;yBAAM;wBACL,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;qBACzB;gBACH,CAAC,CAAC,CAAC;aACJ;iBAAM;gBACL,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;aACzB;QACH,CAAC,CAAC,CAAC;QACL,IAAI,CAAC,2BAA2B,GAAG,IAAI,CAAC,kBAAkB;aACvD,YAAY,EAAE;aACd,SAAS,CAAC,CAAC,GAAG,EAAE,EAAE;YACjB,IAAI,CAAC,iBAAiB,GAAG,GAAG,CAAC;YAC7B,IAAI,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,MAAM,EAAE;gBAChD,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;oBACpD,IAAI,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,IAAI,IAAI,CAAC,CAAC,MAAM,IAAI,CAAC,EAAE;wBACjE,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;qBACxB;yBAAM;wBACL,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;qBACzB;gBACH,CAAC,CAAC,CAAC;aACJ;iBAAM;gBACL,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;aACzB;QACH,CAAC,CAAC,CAAC;QACL,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;IACvE,CAAC;IAED,WAAW,CAAC,OAAsB;QAChC,IAAI,CAAC,IAAI,CAAC,kBAAkB,EAAE;YAC5B,IAAI,CAAC,iBAAiB,EAAE,CAAC;SAC1B;QACD,IAAI,OAAO,CAAC,uBAAuB,EAAE;YACnC,IACE,OAAO,CAAC,uBAAuB,CAAC,YAAY,CAAC,MAAM,CACjD,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,IAAI,KAAK,CAC3B,CAAC,MAAM,EACR;gBACA,OAAO,CAAC,uBAAuB,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE;oBACxD,IAAI,EAAE,SAAS;oBACf,IAAI,EAAE,SAAS;oBACf,SAAS,EAAE,IAAI;iBAChB,CAAC,CAAC;aACJ;YACD,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAC;SAC3C;QACD,IAAI,OAAO,CAAC,WAAW,EAAE;YACvB,IAAI,OAAO,CAAC,WAAW,CAAC,YAAY,EAAE;gBACpC,IAAI,CAAC,YAAY,EAAE,OAAO,EAAE,CAAC;gBAC7B,IAAI,CAAC,aAAa,EAAE,OAAO,EAAE,CAAC;aAC/B;iBAAM;gBACL,IAAI,CAAC,YAAY,EAAE,MAAM,EAAE,CAAC;gBAC5B,IAAI,CAAC,aAAa,EAAE,MAAM,EAAE,CAAC;aAC9B;SACF;QACD,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QAC/B,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC;IACnC,CAAC;IAED,iBAAiB;QACf,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YACtC,QAAQ,EAAE,IAAI,8DAAkB,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAE,EAAE;gBAC/D,+DAAmB;aACpB,CAAC;YACF,SAAS,EAAE,IAAI,8DAAkB,CAC/B,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,CAAC,IAAI,CAAC,wBAAwB,CAAC,MAAM,EAAE,EAC9D,CAAC,+DAAmB,CAAC,CACtB;YACD,KAAK,EAAE,IAAI,8DAAkB,CAC3B,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,CAAC,IAAI,CAAC,uBAAuB,CAAC,MAAM,EAAE,EAC7D,CAAC,+DAAmB,CAAC,CACtB;SACF,CAAC,CAAC;IACL,CAAC;IAED,IAAI,YAAY;QACd,OAAO,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;IACjD,CAAC;IACD,IAAI,aAAa;QACf,OAAO,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;IAClD,CAAC;IACD,IAAI,SAAS;QACX,OAAO,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;IAC9C,CAAC;IAED,cAAc,CAAC,GAAQ;QACrB,IAAI,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,MAAM,EAAE;YACpC,IAAI,CAAC,sBAAsB,EAAE,CAAC;SAC/B;aAAM,IAAI,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,MAAM,EAAE;YAC3C,IAAI,CAAC,aAAa,EAAE,CAAC;SACtB;IACH,CAAC;IAED,YAAY,CAAC,GAAQ;QACnB,IAAI,GAAG,IAAI,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;YACvE,IAAI,SAAS,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,IAAI,CAC/C,CAAC,GAAG,EAAE,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,KAAK,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CACtD,CAAC;YACF,OAAO,SAAS,CAAC;SAClB;IACH,CAAC;IAED,UAAU,CAAC,GAAQ;QACjB,IACE,GAAG;YACH,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;YAC5D,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,MAAM,EAC7B;YACA,OAAO,IAAI,CAAC;SACb;aAAM;YACL,OAAO,KAAK,CAAC;SACd;IACH,CAAC;IAED,qBAAqB,CAAC,GAAQ;QAC5B,IACE,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;YAC5D,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,MAAM,CAAC,EAChC;YACA,OAAO,IAAI,CAAC;SACb;aAAM;YACL,OAAO,KAAK,CAAC;SACd;IACH,CAAC;IAED,cAAc;QACZ,IAAI,KAAK,GAAG,EAAE,CAAC;QACf,IAAI,SAAS,GAAG,EAAE,CAAC;QACnB,IAAI,IAAI,CAAC,gBAAgB,CAAC,YAAY,IAAI,KAAK,EAAE;YAC/C,IAAI,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,IAAI,IAAI,MAAM,EAAE;gBAC3C,KAAK,GAAG,MAAM,CAAC;gBACf,SAAS,GAAG,MAAM,CAAC;aACpB;iBAAM;gBACL,IAAI,IAAI,CAAC,gBAAgB,CAAC,YAAY,IAAI,MAAM,EAAE;oBAChD,KAAK,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;oBAC/D,SAAS,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;iBACpE;qBAAM;oBACL,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;oBAC7B,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;iBAClC;aACF;SACF;aAAM;YACL,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC;YAClC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC;SACvC;QACD,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;QACrC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QACtC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;QAElC,IAAI,QAAQ,GACV,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,KAAK;YAC7B,GAAG;YACH,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,IAAI;YAC7B,GAAG;YACH,KAAK,CAAC;QACR,IAAI,YAAY,GACd,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI;YAC5B,GAAG;YACH,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,IAAI;YAC7B,GAAG;YACH,SAAS,CAAC;QAEZ,aAAa;QACb,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QAC/B,IAAI,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE;YAC5B,IAAI,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;YAChD,IAAI,KAAK,IAAI,CAAC,CAAC,EAAE;gBACf,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,QAAQ,GAAG,2CAA2C,CACvD,CAAC;aACH;iBAAM;gBACL,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;gBAC1B,IAAI,SAAS,CAAC;gBACd,IAAI,OAAO,CAAC;gBACZ,IAAI,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;oBAC3B,SAAS,GAAG,QAAQ,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;oBAC1C,OAAO,GAAG,IAAI,CAAC;iBAChB;qBAAM,IAAI,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;oBAClC,SAAS,GAAG,QAAQ,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;oBAC1C,OAAO,GAAG,IAAI,CAAC;iBAChB;qBAAM,IAAI,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;oBAClC,SAAS,GAAG,QAAQ,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;oBAC1C,OAAO,GAAG,IAAI,CAAC;iBAChB;qBAAM,IAAI,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;oBACjC,SAAS,GAAG,QAAQ,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;oBACzC,OAAO,GAAG,GAAG,CAAC;iBACf;qBAAM,IAAI,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;oBACjC,SAAS,GAAG,QAAQ,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;oBACzC,OAAO,GAAG,GAAG,CAAC;iBACf;qBAAM;oBACL,SAAS,GAAG,QAAQ,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;oBACzC,OAAO,GAAG,GAAG,CAAC;iBACf;gBAED,IACE,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC;oBACvB,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC;oBACvB,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC;oBACtB,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,EACtB;oBACA,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;oBAC1B,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;oBAC/B,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,OAAO,EAAE,EAAE;wBAClC,IAAI,SAAS,CAAC;wBACd,IAAI,QAAQ,CAAC;wBACb,IAAI,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;4BAC1B,SAAS,GAAG,OAAO,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;4BACzC,QAAQ,GAAG,IAAI,CAAC;yBACjB;6BAAM,IAAI,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;4BACjC,SAAS,GAAG,OAAO,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;4BACzC,QAAQ,GAAG,IAAI,CAAC;yBACjB;6BAAM,IAAI,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;4BACjC,SAAS,GAAG,OAAO,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;4BACzC,QAAQ,GAAG,IAAI,CAAC;yBACjB;6BAAM,IAAI,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;4BAChC,SAAS,GAAG,OAAO,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;4BACxC,QAAQ,GAAG,GAAG,CAAC;yBAChB;6BAAM,IAAI,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;4BAChC,SAAS,GAAG,OAAO,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;4BACxC,QAAQ,GAAG,GAAG,CAAC;yBAChB;6BAAM;4BACL,SAAS,GAAG,OAAO,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;4BACxC,QAAQ,GAAG,GAAG,CAAC;yBAChB;wBAED,IAAI,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE;4BACxD,IACE,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gCACpD,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,MAAM,EAClC;gCACA,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,kCAAkC;oCAChC,OAAO;oCACP,aAAa;oCACb,QAAQ,CACX,CAAC;gCACF,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;gCAE3B,OAAO,KAAK,CAAC;6BACd;iCAAM,IACL,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gCACpD,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,MAAM,EAClC;gCACA,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,kCAAkC;oCAChC,OAAO;oCACP,aAAa;oCACb,QAAQ,CACX,CAAC;gCACF,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;gCAC3B,OAAO,KAAK,CAAC;6BACd;iCAAM,IACL,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gCACpD,CAAC,IAAI,CAAC,gBAAgB,EAAE,YAAY,IAAI,MAAM;oCAC5C,IAAI,CAAC,gBAAgB,EAAE,YAAY,IAAI,MAAM,CAAC,EAChD;gCACA,IAAI,OAAO,IAAI,GAAG,IAAI,OAAO,IAAI,IAAI,EAAE;oCACrC,IAAI,QAAQ,IAAI,GAAG,IAAI,QAAQ,IAAI,IAAI,EAAE;wCACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,kCAAkC;4CAChC,OAAO;4CACP,aAAa;4CACb,QAAQ,CACX,CAAC;wCACF,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;wCAC3B,IAAI,IAAI,CAAC,gBAAgB,EAAE,YAAY,IAAI,MAAM,EAAE;yCAClD;wCACD,OAAO,KAAK,CAAC;qCACd;yCAAM,IAAI,QAAQ,IAAI,GAAG,IAAI,QAAQ,IAAI,IAAI,EAAE;wCAC9C,IAAI,IAAI,CAAC,gBAAgB,EAAE,YAAY,IAAI,MAAM,EAAE;4CACjD,IAAI,QAAQ,IAAI,GAAG,EAAE;gDACnB,IACE,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EACtD;oDACA,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,kCAAkC;wDAChC,OAAO;wDACP,aAAa;wDACb,QAAQ,CACX,CAAC;oDACF,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;oDAC3B,OAAO,KAAK,CAAC;iDACd;qDAAM;oDACL,OAAO,IAAI,CAAC;iDACb;6CACF;iDAAM,IAAI,QAAQ,IAAI,IAAI,EAAE;gDAC3B,IAAI,OAAO,IAAI,GAAG,EAAE;oDAClB,IACE,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;wDACzB,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EACzB;wDACA,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,kCAAkC;4DAChC,OAAO;4DACP,aAAa;4DACb,QAAQ,CACX,CAAC;wDACF,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;wDAC3B,OAAO,KAAK,CAAC;qDACd;yDAAM;wDACL,OAAO,IAAI,CAAC;qDACb;iDACF;qDAAM,IAAI,OAAO,IAAI,IAAI,EAAE;oDAC1B,IACE,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;wDACzB,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EACzB;wDACA,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,kCAAkC;4DAChC,OAAO;4DACP,aAAa;4DACb,QAAQ,CACX,CAAC;wDACF,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;wDAC3B,OAAO,KAAK,CAAC;qDACd;yDAAM;wDACL,OAAO,IAAI,CAAC;qDACb;iDACF;6CACF;yCACF;6CAAM,IAAI,IAAI,CAAC,gBAAgB,EAAE,YAAY,IAAI,MAAM,EAAE;4CACxD,IAAI,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;4CACpD,IAAI,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;4CACpD,IAAI,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;4CACpD,IAAI,MAAM,GAAG,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;4CACrD,IAAI,MAAM,GAAG,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;4CACrD,IAAI,MAAM,GAAG,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;4CAErD,IAAI,QAAQ,GAAG,KAAK,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,GAAG,KAAK,CAAC;4CAEjD,IAAI,SAAS,GAAG,MAAM,GAAG,GAAG,GAAG,MAAM,GAAG,GAAG,GAAG,MAAM,CAAC;4CAErD,IAAI,QAAQ,IAAI,GAAG,EAAE;gDACnB,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,EAAE;oDACjD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,kCAAkC;wDAChC,OAAO;wDACP,aAAa;wDACb,QAAQ,CACX,CAAC;oDACF,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;oDAC3B,OAAO,KAAK,CAAC;iDACd;qDAAM;oDACL,OAAO,IAAI,CAAC;iDACb;6CACF;iDAAM,IAAI,QAAQ,IAAI,IAAI,EAAE;gDAC3B,IAAI,OAAO,IAAI,GAAG,EAAE;oDAClB,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,EAAE;wDAChD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,kCAAkC;4DAChC,OAAO;4DACP,aAAa;4DACb,QAAQ,CACX,CAAC;wDACF,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;wDAC3B,OAAO,KAAK,CAAC;qDACd;yDAAM;wDACL,OAAO,IAAI,CAAC;qDACb;iDACF;qDAAM,IAAI,OAAO,IAAI,IAAI,EAAE;oDAC1B,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,EAAE;wDAChD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,kCAAkC;4DAChC,OAAO;4DACP,aAAa;4DACb,QAAQ,CACX,CAAC;wDACF,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;wDAC3B,OAAO,KAAK,CAAC;qDACd;yDAAM;wDACL,OAAO,IAAI,CAAC;qDACb;iDACF;6CACF;yCACF;qCACF;yCAAM;wCACL,OAAO,IAAI,CAAC;qCACb;iCACF;qCAAM,IAAI,OAAO,IAAI,GAAG,IAAI,OAAO,IAAI,IAAI,EAAE;oCAC5C,IAAI,QAAQ,IAAI,GAAG,IAAI,QAAQ,IAAI,IAAI,EAAE;wCACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,kCAAkC;4CAChC,OAAO;4CACP,aAAa;4CACb,QAAQ,CACX,CAAC;wCACF,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;wCAC3B,IAAI,IAAI,CAAC,gBAAgB,EAAE,YAAY,IAAI,MAAM,EAAE;yCAClD;wCACD,OAAO,KAAK,CAAC;qCACd;yCAAM,IAAI,QAAQ,IAAI,GAAG,IAAI,QAAQ,IAAI,IAAI,EAAE;wCAC9C,IAAI,IAAI,CAAC,gBAAgB,EAAE,YAAY,IAAI,MAAM,EAAE;4CACjD,IAAI,QAAQ,IAAI,GAAG,EAAE;gDACnB,IACE,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EACtD;oDACA,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,kCAAkC;wDAChC,OAAO;wDACP,aAAa;wDACb,QAAQ,CACX,CAAC;oDACF,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;oDAC3B,OAAO,KAAK,CAAC;iDACd;qDAAM;oDACL,OAAO,IAAI,CAAC;iDACb;6CACF;iDAAM,IAAI,QAAQ,IAAI,IAAI,EAAE;gDAC3B,IAAI,OAAO,IAAI,GAAG,EAAE;oDAClB,IACE,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;wDACzB,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EACzB;wDACA,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,kCAAkC;4DAChC,OAAO;4DACP,aAAa;4DACb,QAAQ,CACX,CAAC;wDACF,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;wDAC3B,OAAO,KAAK,CAAC;qDACd;yDAAM;wDACL,OAAO,IAAI,CAAC;qDACb;iDACF;qDAAM,IAAI,OAAO,IAAI,IAAI,EAAE;oDAC1B,IACE,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;wDACzB,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EACzB;wDACA,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,kCAAkC;4DAChC,OAAO;4DACP,aAAa;4DACb,QAAQ,CACX,CAAC;wDACF,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;wDAC3B,OAAO,KAAK,CAAC;qDACd;yDAAM;wDACL,OAAO,IAAI,CAAC;qDACb;iDACF;6CACF;yCACF;6CAAM,IAAI,IAAI,CAAC,gBAAgB,EAAE,YAAY,IAAI,MAAM,EAAE;4CACxD,IAAI,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;4CACpD,IAAI,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;4CACpD,IAAI,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;4CACpD,IAAI,MAAM,GAAG,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;4CACrD,IAAI,MAAM,GAAG,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;4CACrD,IAAI,MAAM,GAAG,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;4CAErD,IAAI,QAAQ,GAAG,KAAK,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,GAAG,KAAK,CAAC;4CACjD,IAAI,SAAS,GAAG,MAAM,GAAG,GAAG,GAAG,MAAM,GAAG,GAAG,GAAG,MAAM,CAAC;4CACrD,IAAI,QAAQ,IAAI,GAAG,EAAE;gDACnB,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,EAAE;oDACjD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,kCAAkC;wDAChC,OAAO;wDACP,aAAa;wDACb,QAAQ,CACX,CAAC;oDACF,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;oDAC3B,OAAO,KAAK,CAAC;iDACd;qDAAM;oDACL,OAAO,IAAI,CAAC;iDACb;6CACF;iDAAM,IAAI,QAAQ,IAAI,IAAI,EAAE;gDAC3B,IAAI,OAAO,IAAI,GAAG,EAAE;oDAClB,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,EAAE;wDACjD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,kCAAkC;4DAChC,OAAO;4DACP,aAAa;4DACb,QAAQ,CACX,CAAC;wDACF,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;wDAC3B,OAAO,KAAK,CAAC;qDACd;yDAAM;wDACL,OAAO,IAAI,CAAC;qDACb;iDACF;qDAAM,IAAI,OAAO,IAAI,IAAI,EAAE;oDAC1B,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,EAAE;wDAChD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,kCAAkC;4DAChC,OAAO;4DACP,aAAa;4DACb,QAAQ,CACX,CAAC;wDACF,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;wDAC3B,OAAO,KAAK,CAAC;qDACd;yDAAM;wDACL,OAAO,IAAI,CAAC;qDACb;iDACF;6CACF;yCACF;qCACF;yCAAM;wCACL,OAAO,IAAI,CAAC;qCACb;iCACF;6BACF;iCAAM;gCACL,OAAO,IAAI,CAAC;6BACb;yBACF;6BAAM;4BACL,OAAO,IAAI,CAAC;yBACb;oBACH,CAAC,CAAC,CAAC;iBACJ;qBAAM;oBACL,IAAI,kCAAkC,GAAG,KAAK,CAAC;oBAC/C,IAAI,+BAA+B,GAAG,KAAK,CAAC;oBAE5C,IAAI,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;wBAC3B,kCAAkC,GAAG,IAAI,CAAC;qBAC3C;yBAAM;wBACL,+BAA+B,GAAG,IAAI,CAAC;qBACxC;oBACD,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;oBAC/B,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,OAAO,EAAE,EAAE;wBAClC,IAAI,SAAS,CAAC;wBACd,IAAI,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;4BAC1B,SAAS,GAAG,OAAO,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;yBAC1C;6BAAM,IAAI,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;4BACjC,SAAS,GAAG,OAAO,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;yBAC1C;6BAAM,IAAI,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;4BACjC,SAAS,GAAG,OAAO,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;yBAC1C;6BAAM,IAAI,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;4BAChC,SAAS,GAAG,OAAO,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;yBACzC;6BAAM,IAAI,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;4BAChC,SAAS,GAAG,OAAO,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;yBACzC;6BAAM;4BACL,SAAS,GAAG,OAAO,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;yBACzC;wBAED,IAAI,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE;4BACxD,IAAI,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE;gCACxD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,qCAAqC;oCACnC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAC3B,CAAC;gCACF,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;gCAC3B,OAAO,KAAK,CAAC;6BACd;iCAAM;gCACL,IACE,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,MAAM;oCAClC,IAAI,CAAC,gBAAgB,CAAC,YAAY,IAAI,MAAM,EAC5C;oCACA,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,kCAAkC;wCAChC,OAAO;wCACP,aAAa;wCACb,QAAQ,CACX,CAAC;oCACF,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;oCAC3B,OAAO,KAAK,CAAC;iCACd;gCAED,IAAI,kCAAkC,GAAG,KAAK,CAAC;gCAC/C,IAAI,+BAA+B,GAAG,KAAK,CAAC;gCAE5C,IAAI,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;oCAC1B,kCAAkC,GAAG,IAAI,CAAC;iCAC3C;qCAAM,IAAI,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE;oCAClC,+BAA+B,GAAG,IAAI,CAAC;iCACxC;gCAED,IACE,+BAA+B;oCAC/B,+BAA+B,EAC/B;oCACA,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,kCAAkC;wCAChC,OAAO;wCACP,aAAa;wCACb,QAAQ,CACX,CAAC;oCACF,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;oCAC3B,OAAO,KAAK,CAAC;iCACd;qCAAM,IACL,+BAA+B;oCAC7B,CAAC,+BAA+B;oCAClC,kCAAkC;wCAChC,CAAC,kCAAkC,EACrC;oCACA,uDAAuD;oCACvD,uCAAuC;oCACvC,2CAA2C;oCAC3C,kBAAkB;oCAClB,wBAAwB;oCACxB,iBAAiB;oCACjB,OAAO;oCACP,gCAAgC;oCAChC,kBAAkB;oCAClB,IAAI;iCACL;qCAAM;oCACL,IACE,CAAC,CACC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK;wCACjC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,CAClC,EACD;wCACA,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,kCAAkC;4CAChC,OAAO;4CACP,aAAa;4CACb,QAAQ,CACX,CAAC;wCACF,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;wCAC3B,OAAO,KAAK,CAAC;qCACd;yCAAM;wCACL,OAAO,IAAI,CAAC;qCACb;iCACF;6BACF;yBACF;6BAAM;4BACL,OAAO,IAAI,CAAC;yBACb;oBACH,CAAC,CAAC,CAAC;iBACJ;gBACD,IAAI,IAAI,CAAC,aAAa,EAAE;oBACtB,IAAI,CAAC,iBAAiB,CAAC,QAAQ,EAAE,YAAY,CAAC,CAAC;iBAChD;aACF;SACF;aAAM;YACL,IAAI,CAAC,iBAAiB,CAAC,QAAQ,EAAE,YAAY,CAAC,CAAC;SAChD;IACH,CAAC;IAED,iBAAiB,CAAC,QAAa,EAAE,YAAiB;QAChD,IAAI,IAAI,CAAC,eAAe,EAAE;YACxB,IAAI,IAAI,CAAC,2BAA2B,EAAE;gBACpC,IAAI,CAAC,2BAA2B,CAAC,WAAW,EAAE,CAAC;aAChD;YAED,IAAI,CAAC,kBAAkB,CAAC,2BAA2B,EAAE,CAAC,SAAS,CAAC,CAAC,GAAG,EAAE,EAAE;gBACtE,IAAI,CAAC,wBAAwB,GAAG,GAAG,CAAC;gBAEpC,IAAI,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE;oBAC7B,GAAG,CAAC,kBAAkB,CAAC,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;wBACxC,IAAI,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,IAAI,IAAI,CAAC,CAAC,MAAM,IAAI,CAAC,EAAE;4BACjE,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;yBACxB;6BAAM;4BACL,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;yBACzB;oBACH,CAAC,CAAC,CAAC;iBACJ;qBAAM;oBACL,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;iBACzB;gBAED,IAAI,IAAI,CAAC,UAAU,EAAE;oBACnB,IAAI,eAAe,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;oBAC9C,IACE,CAAC,IAAI,CAAC,YAAY,CAAC,MAAM,CACvB,CAAC,QAAQ,EAAE,EAAE,CAAC,QAAQ,IAAI,GAAG,eAAe,SAAS,CACtD,CAAC,MAAM,EACR;wBACA,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;wBACjC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;wBACzC,IAAI,CAAC,sBAAsB,EAAE,CAAC;wBAC9B,IAAI,CAAC,yBAAyB,EAAE,CAAC;wBACjC,IAAI,CAAC,wBAAwB,GAAG,KAAK,CAAC;qBACvC;yBAAM;wBACL,IAAI,CAAC,yBAAyB,EAAE,CAAC;wBACjC,IAAI,CAAC,wBAAwB,GAAG,KAAK,CAAC;qBACvC;iBACF;qBAAM;oBACL,IAAI,CAAC,IAAI,CAAC,wBAAwB,EAAE;wBAClC,IAAI,CAAC,yBAAyB,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CACnD,IAAI,CAAC,cAAc,CAAC,aAAa,EACjC,OAAO,EACP,CAAC,GAAG,EAAE,EAAE;4BACN,IAAI,CAAC,sBAAsB,EAAE,CAAC;wBAChC,CAAC,CACF,CAAC;wBACF,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC;qBACtC;iBACF;YACH,CAAC,CAAC,CAAC;SACJ;aAAM,IAAI,IAAI,CAAC,eAAe,EAAE;YAC/B,IAAI,IAAI,CAAC,2BAA2B,EAAE;gBACpC,IAAI,CAAC,2BAA2B,CAAC,WAAW,EAAE,CAAC;aAChD;YAED,IAAI,CAAC,kBAAkB,CAAC,YAAY,EAAE,CAAC,SAAS,CAAC,CAAC,GAAG,EAAE,EAAE;gBACvD,IAAI,CAAC,iBAAiB,GAAG,GAAG,CAAC;gBAE7B,IAAI,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE;oBAC7B,GAAG,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;wBACjC,IAAI,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,IAAI,IAAI,CAAC,CAAC,MAAM,IAAI,CAAC,EAAE;4BACjE,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;yBACxB;6BAAM;4BACL,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;yBACzB;oBACH,CAAC,CAAC,CAAC;iBACJ;qBAAM;oBACL,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;iBACzB;gBAED,IAAI,IAAI,CAAC,UAAU,EAAE;oBACnB,IAAI,gBAAgB,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;oBAC/C,IACE,CAAC,IAAI,CAAC,YAAY,CAAC,MAAM,CACvB,CAAC,QAAQ,EAAE,EAAE,CAAC,QAAQ,IAAI,GAAG,gBAAgB,SAAS,CACvD,CAAC,MAAM,EACR;wBACA,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;wBACjC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;wBACzC,IAAI,CAAC,sBAAsB,EAAE,CAAC;wBAC9B,IAAI,CAAC,qBAAqB,EAAE,CAAC;wBAC7B,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;qBACnC;yBAAM;wBACL,IAAI,CAAC,qBAAqB,EAAE,CAAC;wBAC7B,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;qBACnC;iBACF;qBAAM;oBACL,IAAI,CAAC,IAAI,CAAC,oBAAoB,EAAE;wBAC9B,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAC/C,IAAI,CAAC,cAAc,CAAC,aAAa,EACjC,OAAO,EACP,CAAC,GAAG,EAAE,EAAE;4BACN,IAAI,CAAC,aAAa,EAAE,CAAC;wBACvB,CAAC,CACF,CAAC;wBACF,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;qBAClC;iBACF;YACH,CAAC,CAAC,CAAC;SACJ;aAAM;YACL,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YACjC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;YACzC,IAAI,CAAC,sBAAsB,EAAE,CAAC;SAC/B;IACH,CAAC;IAED,oBAAoB,CAAC,KAAU;QAC7B,IAAI,oBAAoB,GAAG,EAAE,CAAC;QAC9B,oBAAoB,GAAG,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE;YACvD,IAAI,SAAS,CAAC;YACd,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;gBACtB,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;aACtC;iBAAM,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;gBAC7B,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;aACtC;iBAAM,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;gBAC7B,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;aACtC;iBAAM,IAAI,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;gBAC5B,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;aACrC;iBAAM,IAAI,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;gBAC5B,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;aACrC;iBAAM;gBACL,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;aACrC;YACD,OAAO,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;QAClC,CAAC,CAAC,CAAC;QAEH,IAAI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,EAAE;YAClE,IACE,oBAAoB,CAAC,QAAQ,CAAC,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,EACvE;gBACA,IAAI,oBAAoB,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,EAAE;oBAChD,OAAO,IAAI,CAAC;iBACb;qBAAM;oBACL,OAAO,IAAI,CAAC;iBACb;aACF;iBAAM;gBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,GAAG,KAAK,CAAC,OAAO,CAAC,oBACf,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC,OAAO,CAAC,CAC1C,oBAAoB,CACrB,CAAC;gBACF,OAAO,KAAK,CAAC;aACd;SACF;aAAM;YACL,IACE,oBAAoB,CAAC,QAAQ,CAC3B,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CACzC;gBACD,oBAAoB,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,EAC5C;gBACA,OAAO,IAAI,CAAC;aACb;YACD,OAAO,IAAI,CAAC;SACb;IACH,CAAC;IAED,gBAAgB,CAAC,KAAU;QACzB,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;QAC9B,mCAAmC;QACnC,+BAA+B;QAC/B,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;QACvB,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;QAC3B,IAAI,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC,EAAE;YACpC,IAAI,CAAC,QAAQ,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;SAClC;aAAM;YACL,IAAI,CAAC,sBAAsB,EAAE,CAAC;SAC/B;IACH,CAAC;IAED,sBAAsB;QACpB,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;QAC1B,IAAI,CAAC,gBAAgB,GAAG,EAAE,YAAY,EAAE,KAAK,EAAE,CAAC;QAChD,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;QAC3B,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;QACvB,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;QACzB,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,CAAC;QAC7B,IAAI,CAAC,uBAAuB,GAAG,EAAE,CAAC;QAClC,IAAI,IAAI,CAAC,wBAAwB,EAAE;YACjC,IAAI,CAAC,yBAAyB,EAAE,CAAC;YACjC,IAAI,CAAC,wBAAwB,GAAG,KAAK,CAAC;SACvC;QACD,IAAI,IAAI,CAAC,oBAAoB,EAAE;YAC7B,IAAI,CAAC,qBAAqB,EAAE,CAAC;YAC7B,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;SACnC;IACH,CAAC;IAED,QAAQ,CAAC,SAAS,EAAE,KAAK;QACvB,QAAQ,SAAS,EAAE;YACjB,KAAK,UAAU;gBACb,IAAI,qBAAqB,GAAG,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAC3D,CAAC,CAAC,EAAE,EAAE,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC,CAAC,SAAS,CACjC,CAAC;gBACF,OAAO,CAAC,GAAG,CAAC,qBAAqB,EAAE,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;gBACnE,IAAI,UAAU,CAAC;gBACf,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;gBAChC,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;gBAC5B,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;gBAC3B,IAAI,qBAAqB,CAAC,MAAM,EAAE;oBAChC;oBACE,oCAAoC;oBACpC,uCAAuC;oBACvC,OAAO;oBACP,mDAAmD;oBACnD,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,QAAQ,CACrC,qBAAqB,CAAC,CAAC,CAAC,CAAC,SAAS,CACnC,EACD;wBACA,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC;wBAClC,UAAU,GAAG,qBAAqB,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;wBAC5D,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;wBACvB,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;wBACzB,IAAI,CAAC,uBAAuB,GAAG,EAAE,CAAC;qBACnC;yBAAM;wBACL,IAAI,CAAC,qBAAqB,GAAG,KAAK,CAAC;wBACnC,IAAI,CAAC,uBAAuB,GAAG,EAAE,CAAC;wBAClC,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;wBAC9B,IAAI,qBAAqB,CAAC,CAAC,CAAC,EAAE,YAAY,IAAI,KAAK,EAAE;4BACnD,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC;gCAC/B,SAAS,EAAE,KAAK,CAAC,IAAI;gCACrB,WAAW,EAAE,KAAK,CAAC,KAAK;gCACxB,gBAAgB,EAAE,IAAI,CAAC,gBAAgB;6BACxC,CAAC,CAAC;yBACJ;6BAAM;4BACL,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;4BAC/B,IAAI,qBAAqB,CAAC,CAAC,CAAC,EAAE,YAAY,IAAI,QAAQ,EAAE;gCACtD,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;6BAC5B;4BACD,IAAI,qBAAqB,CAAC,CAAC,CAAC,EAAE,YAAY,IAAI,MAAM,EAAE;gCACpD,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;6BAC3B;yBACF;wBACD,UAAU,GAAG,qBAAqB,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;qBAC7D;oBACD,IAAI,CAAC,wBAAwB,GAAG,EAAE,CAAC;oBACnC,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;oBAClC,IAAI,UAAU,CAAC,MAAM,EAAE;wBACrB,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC;wBAC5B,UAAU,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;4BACzB,IAAI,OAAO,GAAG,GAAG,CAAC;4BAClB,QAAQ,GAAG,EAAE;gCACX,KAAK,aAAa;oCAChB,OAAO,GAAG,GAAG,CAAC;oCACd,MAAM;gCACR,KAAK,iBAAiB;oCACpB,OAAO,GAAG,IAAI,CAAC;oCACf,MAAM;gCACR,KAAK,iBAAiB;oCACpB,OAAO,GAAG,GAAG,CAAC;oCACd,MAAM;gCACR,KAAK,0BAA0B;oCAC7B,OAAO,GAAG,IAAI,CAAC;oCACf,MAAM;gCACR,KAAK,cAAc;oCACjB,OAAO,GAAG,GAAG,CAAC;oCACd,MAAM;gCACR,KAAK,uBAAuB;oCAC1B,OAAO,GAAG,IAAI,CAAC;oCACf,MAAM;gCACR,KAAK,MAAM;oCACT,OAAO,GAAG,GAAG,CAAC;oCACd,MAAM;6BACT;4BACD,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC;gCACjC,IAAI,EAAE,GAAG;gCACT,IAAI,EAAE,OAAO;6BACd,CAAC,CAAC;wBACL,CAAC,CAAC,CAAC;qBACJ;yBAAM;wBACL,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,CAAC;qBAC9B;iBACF;qBAAM;oBACL,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC;oBAC5B,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC;oBACxB,IAAI,CAAC,wBAAwB,GAAG,EAAE,CAAC;oBACnC,IAAI,CAAC,uBAAuB,GAAG,EAAE,CAAC;iBACnC;gBACD,MAAM;YAER,KAAK,WAAW;gBACd,mCAAmC;gBACnC,+BAA+B;gBAC/B,IAAI,gBAAgB,GAAG,EAAE,CAAC;gBAC1B,IAAI,IAAI,CAAC,gBAAgB,EAAE,YAAY,IAAI,MAAM,EAAE;iBAClD;qBAAM,IAAI,IAAI,CAAC,gBAAgB,EAAE,YAAY,IAAI,MAAM,EAAE;iBACzD;gBACD,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;gBACrD,IAAI,KAAK,CAAC,IAAI,IAAI,MAAM,EAAE;oBACxB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;oBAC/B,IACE,CAAC,IAAI,CAAC,YAAY,CAAC,MAAM,CACvB,CAAC,QAAQ,EAAE,EAAE,CAAC,QAAQ,IAAI,GAAG,IAAI,CAAC,gBAAgB,CAAC,IAAI,SAAS,CACjE,CAAC,MAAM,EACR;wBACA,IACE,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,QAAQ,EAAE,EAAE;4BACpC,IAAI,SAAS,CAAC;4BACd,IAAI,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;gCAC3B,SAAS,GAAG,QAAQ,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;6BAC3C;iCAAM,IAAI,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;gCAClC,SAAS,GAAG,QAAQ,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;6BAC3C;iCAAM,IAAI,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;gCAClC,SAAS,GAAG,QAAQ,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;6BAC3C;iCAAM,IAAI,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;gCACjC,SAAS,GAAG,QAAQ,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;6BAC1C;iCAAM,IAAI,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;gCACjC,SAAS,GAAG,QAAQ,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;6BAC1C;iCAAM;gCACL,SAAS,GAAG,QAAQ,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;6BAC1C;4BACD,OAAO,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC;wBAChE,CAAC,CAAC,CAAC,MAAM,EACT;4BACA,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;4BAC/B,IAAI,IAAI,CAAC,gBAAgB,EAAE,YAAY,IAAI,MAAM,EAAE;gCACjD,IAAI,IAAI,CAAC,wBAAwB,EAAE;oCACjC,IAAI,CAAC,yBAAyB,EAAE,CAAC;oCACjC,IAAI,CAAC,wBAAwB,GAAG,KAAK,CAAC;iCACvC;gCACD,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;6BAC7B;iCAAM,IAAI,IAAI,CAAC,gBAAgB,EAAE,YAAY,IAAI,MAAM,EAAE;gCACxD,IAAI,IAAI,CAAC,oBAAoB,EAAE;oCAC7B,IAAI,CAAC,qBAAqB,EAAE,CAAC;oCAC7B,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;iCACnC;gCACD,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;6BAC7B;yBACF;6BAAM;4BACL,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;4BACzB,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;4BAC/B,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;4BAC5B,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;4BAC3B,IAAI,IAAI,CAAC,gBAAgB,EAAE,YAAY,IAAI,MAAM,EAAE;gCACjD,IAAI,IAAI,CAAC,oBAAoB,EAAE;oCAC7B,IAAI,CAAC,qBAAqB,EAAE,CAAC;oCAC7B,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;iCACnC;gCACD,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;gCAE7B,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;gCAC5B,IAAI,CAAC,IAAI,CAAC,wBAAwB,EAAE;oCAClC,IAAI,CAAC,yBAAyB,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CACnD,IAAI,CAAC,cAAc,CAAC,aAAa,EACjC,OAAO,EACP,CAAC,GAAG,EAAE,EAAE;wCACN,IAAI,CAAC,sBAAsB,EAAE,CAAC;oCAChC,CAAC,CACF,CAAC;oCACF,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC;iCACtC;6BACF;iCAAM,IAAI,IAAI,CAAC,gBAAgB,EAAE,YAAY,IAAI,MAAM,EAAE;gCACxD,IAAI,IAAI,CAAC,wBAAwB,EAAE;oCACjC,IAAI,CAAC,yBAAyB,EAAE,CAAC;oCACjC,IAAI,CAAC,wBAAwB,GAAG,KAAK,CAAC;iCACvC;gCACD,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;gCAE7B,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;gCAC5B,IAAI,CAAC,IAAI,CAAC,oBAAoB,EAAE;oCAC9B,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAC/C,IAAI,CAAC,cAAc,CAAC,aAAa,EACjC,OAAO,EACP,CAAC,GAAG,EAAE,EAAE;wCACN,IAAI,CAAC,aAAa,EAAE,CAAC;oCACvB,CAAC,CACF,CAAC;oCACF,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;iCAClC;6BACF;yBACF;qBACF;yBAAM;wBACL,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;wBACzB,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;wBAC/B,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;wBAC5B,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;wBAC3B,IAAI,IAAI,CAAC,wBAAwB,EAAE;4BACjC,IAAI,CAAC,yBAAyB,EAAE,CAAC;4BACjC,IAAI,CAAC,wBAAwB,GAAG,KAAK,CAAC;yBACvC;wBACD,IAAI,IAAI,CAAC,oBAAoB,EAAE;4BAC7B,IAAI,CAAC,qBAAqB,EAAE,CAAC;4BAC7B,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;yBACnC;wBACD,IAAI,IAAI,CAAC,gBAAgB,EAAE,YAAY,IAAI,MAAM,EAAE;4BACjD,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;yBAC7B;6BAAM,IAAI,IAAI,CAAC,gBAAgB,EAAE,YAAY,IAAI,MAAM,EAAE;4BACxD,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;yBAC7B;qBACF;iBACF;qBAAM,IAAI,IAAI,CAAC,qBAAqB,EAAE;oBACrC,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC;oBACxB,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;oBAE/B,IAAI,IAAI,CAAC,gBAAgB,EAAE,YAAY,IAAI,MAAM,EAAE;wBACjD,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;wBAC3B,IAAI,IAAI,CAAC,wBAAwB,EAAE;4BACjC,IAAI,CAAC,yBAAyB,EAAE,CAAC;4BACjC,IAAI,CAAC,wBAAwB,GAAG,KAAK,CAAC;yBACvC;wBACD,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;qBAC9B;yBAAM,IAAI,IAAI,CAAC,gBAAgB,EAAE,YAAY,IAAI,MAAM,EAAE;wBACxD,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;wBAC1B,IAAI,IAAI,CAAC,oBAAoB,EAAE;4BAC7B,IAAI,CAAC,qBAAqB,EAAE,CAAC;4BAC7B,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;yBACnC;wBACD,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;qBAC9B;iBACF;qBAAM,IAAI,IAAI,CAAC,gBAAgB,EAAE,YAAY,IAAI,KAAK,EAAE;oBACvD,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;oBAChC,IAAI,IAAI,CAAC,wBAAwB,EAAE;wBACjC,IAAI,CAAC,yBAAyB,EAAE,CAAC;wBACjC,IAAI,CAAC,wBAAwB,GAAG,KAAK,CAAC;qBACvC;oBACD,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;oBAC7B,IAAI,IAAI,CAAC,oBAAoB,EAAE;wBAC7B,IAAI,CAAC,qBAAqB,EAAE,CAAC;wBAC7B,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;qBACnC;oBACD,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;iBAC9B;qBAAM;oBACL,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC;oBACxB,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;oBAC/B,IAAI,IAAI,CAAC,gBAAgB,EAAE,YAAY,IAAI,MAAM,EAAE;wBACjD,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;qBAC5B;yBAAM,IAAI,IAAI,CAAC,gBAAgB,EAAE,YAAY,IAAI,MAAM,EAAE;wBACxD,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;qBAC3B;oBACD,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;oBAC7B,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;iBAC9B;gBAED,OAAO;gBACP,4BAA4B;gBAC5B,+BAA+B;gBAC/B,uEAAuE;gBACvE,aAAa;gBACb,MAAM;gBACN,SAAS;gBACT,8BAA8B;gBAC9B,+CAA+C;gBAC/C,uBAAuB;gBACvB,uCAAuC;gBACvC,qDAAqD;gBACrD,8CAA8C;gBAC9C,qDAAqD;gBACrD,8CAA8C;gBAC9C,qDAAqD;gBACrD,6CAA6C;gBAC7C,oDAAoD;gBACpD,6CAA6C;gBAC7C,oDAAoD;gBACpD,iBAAiB;gBACjB,oDAAoD;gBACpD,UAAU;gBACV,2EAA2E;gBAC3E,gBAAgB;gBAChB,QAAQ;gBACR,sCAAsC;gBACtC,2CAA2C;gBAC3C,0CAA0C;gBAC1C,+CAA+C;gBAC/C,QAAQ;gBACR,mCAAmC;gBACnC,aAAa;gBACb,mCAAmC;gBACnC,gCAAgC;gBAChC,sCAAsC;gBACtC,mCAAmC;gBACnC,4CAA4C;gBAC5C,+DAA+D;gBAC/D,6CAA6C;gBAC7C,mBAAmB;gBACnB,qBAAqB;gBACrB,2CAA2C;gBAC3C,YAAY;gBACZ,WAAW;gBACX,8CAA8C;gBAC9C,QAAQ;gBACR,MAAM;gBACN,qCAAqC;gBACrC,yCAAyC;gBACzC,wCAAwC;gBACxC,6CAA6C;gBAC7C,MAAM;gBACN,iCAAiC;gBACjC,8BAA8B;gBAC9B,oCAAoC;gBACpC,iCAAiC;gBACjC,2CAA2C;gBAC3C,6BAA6B;gBAC7B,oCAAoC;gBACpC,gCAAgC;gBAChC,yCAAyC;gBACzC,wCAAwC;gBACxC,6CAA6C;gBAC7C,MAAM;gBACN,kCAAkC;gBAClC,6DAA6D;gBAC7D,qCAAqC;gBACrC,yCAAyC;gBACzC,wCAAwC;gBACxC,6CAA6C;gBAC7C,MAAM;gBACN,kCAAkC;gBAClC,WAAW;gBACX,6BAA6B;gBAC7B,oCAAoC;gBACpC,gCAAgC;gBAChC,kCAAkC;gBAClC,IAAI;gBACJ,MAAM;YACR;gBACE,MAAM;SACT;IACH,CAAC;IAED,gBAAgB,CAAC,CAAM,EAAE,QAAa;QACpC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QAC/B,IAAI,IAAI,CAAC,wBAAwB,EAAE;YACjC,IAAI,CAAC,yBAAyB,EAAE,CAAC;YACjC,IAAI,CAAC,wBAAwB,GAAG,KAAK,CAAC;SACvC;QACD,IAAI,IAAI,CAAC,oBAAoB,EAAE;YAC7B,IAAI,CAAC,qBAAqB,EAAE,CAAC;YAC7B,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;SACnC;QAED,IAAI,SAAS,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,IAAI,CACvD,CAAC,GAAG,EAAE,EAAE,CAAC,QAAQ,IAAI,GAAG,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,SAAS,CAC9D,CAAC;QAEF,IAAI,SAAS,EAAE;YACb,IAAI,SAAS,IAAI,MAAM,EAAE;gBACvB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;gBACxB,IAAI,CAAC,kBAAkB,CAAC,2BAA2B,CAAC;oBAClD,gBAAgB,EAAE,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,CAAC;iBAC7C,CAAC,CAAC;aACJ;iBAAM,IAAI,SAAS,IAAI,MAAM,EAAE;gBAC9B,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;gBACxB,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC;oBACnC,SAAS,EAAE,CAAC,EAAE,YAAY,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;iBACtD,CAAC,CAAC;aACJ;SACF;QAED,IAAI,IAAI,GAAG,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC;QAClC,IAAI,IAAI,GAAG,CAAC,GAAG,IAAI,CAAC,sBAAsB,CAAC,CAAC;QAC5C,IAAI,kBAAkB,GAAG,EAAE,CAAC;QAE5B,IAAI,CAAC,OAAO,CAAC,CAAC,QAAQ,EAAE,CAAC,EAAE,EAAE;YAC3B,IAAI,CAAC,OAAO,CAAC,CAAC,QAAQ,EAAE,EAAE;gBACxB,IAAI,QAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;oBAC7C,kBAAkB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;iBAC5B;YACH,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;QAEH,IAAI,SAAS,CAAC;QAEd,IAAI,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;YACvC,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;SACvD;aAAM,IAAI,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;YAC9C,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;SACvD;aAAM,IAAI,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;YAC9C,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;SACvD;aAAM,IAAI,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;YAC7C,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;SACtD;aAAM,IAAI,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;YAC7C,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;SACtD;aAAM;YACL,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;SACtD;QAED,IACE,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC,QAAQ,CAC/C,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CACzB,EACD;YACA,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;gBAC/B,OAAO,EAAE,8DAA8D;gBACvE,GAAG,EAAE,uBAAuB;gBAC5B,MAAM,EAAE,GAAG,EAAE;oBACX,IAAI,CAAC,cAAc,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;gBAC3C,CAAC;aACF,CAAC,CAAC;SACJ;aAAM;YACL,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YAC/B,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;SACpC;QAED,IAAI,CAAC,sBAAsB,EAAE,CAAC;IAChC,CAAC;IAED,cAAc,CAAC,SAAS,EAAE,QAAQ;QAChC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QAC/B,IAAI,cAAc,GAAG,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC;QACjE,IAAI,YAAY,GAAG,EAAE,CAAC;QACtB,IAAI,kBAAkB,GAAG,EAAE,CAAC;QAE5B,IAAI,eAAe,GAAG,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAEjD,OAAO,eAAe,CAAC,MAAM,EAAE;YAC7B,YAAY,GAAG,EAAE,CAAC;YAClB,YAAY,GAAG,CAAC,GAAG,eAAe,CAAC,CAAC;YACpC,eAAe,GAAG,EAAE,CAAC;YACrB,YAAY,CAAC,OAAO,CAAC,CAAC,QAAQ,EAAE,EAAE;gBAChC,cAAc,CAAC,OAAO,CAAC,CAAC,QAAQ,EAAE,EAAE;oBAClC,IAAI,IAAI,CAAC,oBAAoB,CAAC,QAAQ,CAAC,KAAK,QAAQ,EAAE;wBACpD,eAAe,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;wBAC/B,kBAAkB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;qBACnC;gBACH,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;SACJ;QAED,IAAI,OAAO,GAAG,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC;QACrC,IAAI,WAAW,GAAG,CAAC,GAAG,IAAI,CAAC,gBAAgB,CAAC,CAAC;QAC7C,IAAI,UAAU,GAAG,EAAE,CAAC;QACpB,IAAI,cAAc,GAAG,EAAE,CAAC;QAExB,kBAAkB,GAAG;YACnB,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,GAAG,CAAC,kBAAkB,CAAC,CAAC;YAC1C,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;SACzB,CAAC;QAEF,OAAO,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE,EAAE;YACzB,IAAI,SAAS,CAAC;YAEd,IAAI,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;gBACzB,SAAS,GAAG,MAAM,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;aACzC;iBAAM,IAAI,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;gBAChC,SAAS,GAAG,MAAM,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;aACzC;iBAAM,IAAI,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;gBAChC,SAAS,GAAG,MAAM,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;aACzC;iBAAM,IAAI,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;gBAC/B,SAAS,GAAG,MAAM,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;aACxC;iBAAM,IAAI,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;gBAC/B,SAAS,GAAG,MAAM,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;aACxC;iBAAM;gBACL,SAAS,GAAG,MAAM,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;aACxC;YAED,SAAS,GAAG,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;YACrC,kBAAkB,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;gBAClC,IAAI,WAAW,GAAG,IAAI,CAAC;gBAEvB,oEAAoE;gBAEpE,WAAW,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,EAAE;oBACjE,OAAO,IAAI,IAAI,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC1C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACN,IAAI,CAAC,WAAW,EAAE;oBAChB,IAAI,SAAS,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,IAAI,CACvD,CAAC,GAAG,EAAE,EAAE,CAAC,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,KAAK,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CACnE,CAAC;oBAEF,IAAI,SAAS,EAAE;wBACb,WAAW,GAAG,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;wBACvC,IAAI,IAAI,IAAI,WAAW,EAAE;4BACvB,IAAI,SAAS,IAAI,MAAM,EAAE;gCACvB,IAAI,CAAC,kBAAkB,CAAC,2BAA2B,CAAC;oCAClD,gBAAgB,EAAE,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,CAAC;iCAC7C,CAAC,CAAC;6BACJ;iCAAM,IAAI,SAAS,IAAI,MAAM,EAAE;gCAC9B,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC;oCACnC,SAAS,EAAE,CAAC,EAAE,YAAY,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;iCACtD,CAAC,CAAC;6BACJ;yBACF;qBACF;iBACF;gBAED,kEAAkE;gBAClE,kCAAkC;gBAClC,MAAM;gBAEN,uDAAuD;gBACvD,qDAAqD;gBACrD,8DAA8D;gBAC9D,8DAA8D;gBAC9D,QAAQ;gBACR,yBAAyB;gBACzB,WAAW;gBACX,4CAA4C;gBAC5C,IAAI;gBACJ,yEAAyE;gBAEzE,IAAI,IAAI,IAAI,WAAW,EAAE;oBACvB,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;iBACzB;YACH,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;QAEH,WAAW,CAAC,OAAO,CAAC,CAAC,UAAU,EAAE,EAAE;YACjC,IAAI,SAAS,CAAC;YAEd,IAAI,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;gBAC7B,SAAS,GAAG,UAAU,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;aAC7C;iBAAM,IAAI,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;gBACpC,SAAS,GAAG,UAAU,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;aAC7C;iBAAM,IAAI,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;gBACpC,SAAS,GAAG,UAAU,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;aAC7C;iBAAM,IAAI,UAAU,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;gBACnC,SAAS,GAAG,UAAU,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;aAC5C;iBAAM,IAAI,UAAU,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;gBACnC,SAAS,GAAG,UAAU,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;aAC5C;iBAAM;gBACL,SAAS,GAAG,UAAU,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;aAC5C;YAED,SAAS,GAAG,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;YACrC,kBAAkB,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;gBAClC,IAAI,IAAI,IAAI,SAAS,EAAE;oBACrB,cAAc,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;iBACjC;YACH,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;QACH,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QAC/B,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,EAAE,EAAE,EAAE;YAClD,OAAO,CAAC,UAAU,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;QAClC,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC,EAAE,EAAE,EAAE;YAC1D,OAAO,CAAC,cAAc,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;QACtC,CAAC,CAAC,CAAC;QACH,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QAC/B,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,2BAA2B,QAAQ,mBAAmB,CACvD,CAAC;IACJ,CAAC;IAED,uBAAuB,CAAC,oBAAyB;QAC/C,IACE,IAAI,CAAC,mBAAmB;YACxB,IAAI,CAAC,mBAAmB,CAAC,MAAM;YAC/B,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC,CAAC,MAAM,EAClC;YACA,IACE,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,oBAAoB,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,EACvE;gBACA,IAAI,yBAAyB,GAAG,IAAI,CAAC,0BAA0B,EAAE,CAAC;gBAClE,OAAO,yBAAyB,CAAC;aAClC;iBAAM;gBACL,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,mBAAmB,EAAE,oBAAoB,CAAC,CAAC;gBAC5D,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,uFAAuF,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAClH,IAAI,CACL,EAAE,CACJ,CAAC;gBACF,OAAO,KAAK,CAAC;aACd;SACF;aAAM;YACL,IAAI,yBAAyB,GAAG,IAAI,CAAC,0BAA0B,EAAE,CAAC;YAClE,OAAO,yBAAyB,CAAC;SAClC;IACH,CAAC;IAED,wBAAwB,CAAC,oBAAyB;QAChD,IAAI,qBAAqB,GAAG,IAAI,CAAC;QAEjC,IAAI,WAAW,GAAG,CAAC,IAAI,EAAE,IAAI,EAAE,EAAE,CAC/B,IAAI,CAAC,KAAK,CAAC,CAAC,QAAQ,EAAE,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC;QAEpD,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,OAAO,CAC/D,CAAC,YAAY,EAAE,EAAE;YACf,IACE,oBAAoB,CAAC,QAAQ,CAAC,YAAY,CAAC;gBAC3C,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,IAAI,MAAM,EACpE;gBACA,IACE,WAAW,CACT,oBAAoB,EACpB,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,CAAC,KAAK,CAC9D,GAAG,CACJ,CACF,EACD;iBACD;qBAAM;oBACL,qBAAqB,GAAG,KAAK,CAAC;oBAC9B,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,GAAG,YAAY,oBAAoB,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,2BAA2B,CACzH,CAAC;oBACF,OAAO,qBAAqB,CAAC;iBAC9B;aACF;QACH,CAAC,CACF,CAAC;QACF,OAAO,qBAAqB,CAAC;IAC/B,CAAC;IAED,aAAa;QACX,IAAI,CAAC,sBAAsB,EAAE,CAAC;QAE9B,IAAI,oBAAoB,GAAG,IAAI,CAAC,uBAAuB,EAAE,CAAC;QAE1D,OAAO,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;QAElC,IAAI,gBAAgB,CAAC;QAErB,IAAI,IAAI,CAAC,uBAAuB,CAAC,oBAAoB,CAAC,EAAE;YACtD,gBAAgB,GAAG,IAAI,CAAC,uBAAuB,CAAC,oBAAoB,CAAC,CAAC;YACtE,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;YAC9B,IAAI,IAAI,CAAC,wBAAwB,CAAC,oBAAoB,CAAC,EAAE;gBACvD,MAAM,gBAAgB,GAAG,IAAI,QAAQ,EAAE,CAAC;gBAExC,IAAI,WAAW,GAAG,gBAAgB,CAAC,WAAW,CAAC;gBAC/C,IAAI,QAAQ,GAAG,IAAI,CAAC;gBACpB,IAAI,QAAQ,GAAG,IAAI,CAAC;gBACpB,IAAI,MAAM,GAAG,IAAI,CAAC;gBAClB,IAAI,OAAO,GAAG,IAAI,CAAC;gBAEnB,IAAI,gBAAgB,CAAC,KAAK,EAAE;oBAC1B,IAAI,KAAK,GAAG,gBAAgB,CAAC,KAAK,CAAC;oBACnC,IAAI,OAAO,GAAG,EAAE,CAAC;oBACjB,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;wBACrB,IAAI,MAAM,GAAG,EAAE,CAAC;wBAChB,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;4BACnC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;wBAC7B,CAAC,CAAC,CAAC;wBACH,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;oBAClC,CAAC,CAAC,CAAC;oBACH,QAAQ,GAAG,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;oBAC7B,WAAW,GAAG,WAAW,GAAG,MAAM,GAAG,QAAQ,CAAC;iBAC/C;qBAAM,IAAI,gBAAgB,CAAC,MAAM,EAAE;oBAClC,MAAM,GAAG,gBAAgB,CAAC,MAAM,CAAC;oBACjC,WAAW,GAAG,WAAW,GAAG,MAAM,GAAG,MAAM,CAAC;iBAC7C;gBAED,IAAI,gBAAgB,CAAC,KAAK,EAAE;oBAC1B,IAAI,KAAK,GAAG,gBAAgB,CAAC,KAAK,CAAC;oBACnC,IAAI,OAAO,GAAG,EAAE,CAAC;oBACjB,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;wBACrB,IAAI,MAAM,GAAG,EAAE,CAAC;wBAChB,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;4BACnC,GAAG,CAAC,CAAC,CAAC;gCACJ,OAAO,GAAG,CAAC,CAAC,CAAC,IAAI,QAAQ;oCACvB,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;oCACR,CAAC,CAAE,GAAG,CAAC,CAAC,CAAU,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;4BAC/C,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;wBAC7B,CAAC,CAAC,CAAC;wBACH,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;oBAClC,CAAC,CAAC,CAAC;oBACH,QAAQ,GAAG,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;oBAC7B,WAAW,GAAG,WAAW,GAAG,MAAM,GAAG,QAAQ,CAAC;iBAC/C;qBAAM,IAAI,gBAAgB,CAAC,OAAO,EAAE;oBACnC,OAAO,GAAG,gBAAgB,CAAC,OAAO,CAAC;oBACnC,WAAW,GAAG,WAAW,GAAG,MAAM,GAAG,OAAO,CAAC;iBAC9C;gBAED,OAAO,CAAC,GAAG,CAAC,aAAa,EAAE,WAAW,CAAC,CAAC;gBACxC,gBAAgB,CAAC,MAAM,CAAC,aAAa,EAAE,WAAW,CAAC,CAAC;gBACpD,gBAAgB,CAAC,MAAM,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;gBAC/C,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;aAC9C;SACF;IACH,CAAC;IAED,qBAAqB;QACnB,IAAI,oBAAoB,GAAG,IAAI,CAAC,uBAAuB,EAAE,CAAC;QAE1D,IAAI,gBAAgB,GAAQ,IAAI,CAAC,0BAA0B,EAAE,CAAC;QAE9D,IAAI,IAAI,CAAC,wBAAwB,CAAC,oBAAoB,CAAC,EAAE;YACvD,IAAI,WAAW,GAAG,gBAAgB,CAAC,aAAa,CAAC,CAAC;YAClD,IAAI,QAAQ,GAAG,IAAI,CAAC;YACpB,IAAI,QAAQ,GAAG,IAAI,CAAC;YACpB,IAAI,MAAM,GAAG,IAAI,CAAC;YAClB,IAAI,OAAO,GAAG,IAAI,CAAC;YAEnB,IAAI,gBAAgB,CAAC,KAAK,EAAE;gBAC1B,IAAI,KAAK,GAAG,gBAAgB,CAAC,KAAK,CAAC;gBACnC,IAAI,OAAO,GAAG,EAAE,CAAC;gBACjB,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;oBACrB,IAAI,MAAM,GAAG,EAAE,CAAC;oBAChB,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;wBACnC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;oBAC7B,CAAC,CAAC,CAAC;oBACH,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;gBAClC,CAAC,CAAC,CAAC;gBACH,QAAQ,GAAG,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBAC7B,WAAW,GAAG,WAAW,GAAG,MAAM,GAAG,QAAQ,CAAC;aAC/C;iBAAM,IAAI,gBAAgB,CAAC,MAAM,EAAE;gBAClC,MAAM,GAAG,gBAAgB,CAAC,MAAM,CAAC;gBACjC,WAAW,GAAG,WAAW,GAAG,MAAM,GAAG,MAAM,CAAC;aAC7C;YAED,IAAI,gBAAgB,CAAC,KAAK,EAAE;gBAC1B,IAAI,KAAK,GAAG,gBAAgB,CAAC,KAAK,CAAC;gBACnC,IAAI,OAAO,GAAG,EAAE,CAAC;gBACjB,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;oBACrB,IAAI,MAAM,GAAG,EAAE,CAAC;oBAChB,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;wBACnC,GAAG,CAAC,CAAC,CAAC;4BACJ,OAAO,GAAG,CAAC,CAAC,CAAC,IAAI,QAAQ;gCACvB,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;gCACR,CAAC,CAAE,GAAG,CAAC,CAAC,CAAU,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;wBAC/C,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;oBAC7B,CAAC,CAAC,CAAC;oBACH,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;gBAClC,CAAC,CAAC,CAAC;gBACH,QAAQ,GAAG,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBAC7B,WAAW,GAAG,WAAW,GAAG,MAAM,GAAG,QAAQ,CAAC;aAC/C;iBAAM,IAAI,gBAAgB,CAAC,OAAO,EAAE;gBACnC,OAAO,GAAG,gBAAgB,CAAC,OAAO,CAAC;gBACnC,WAAW,GAAG,WAAW,GAAG,MAAM,GAAG,OAAO,CAAC;aAC9C;YAED,OAAO,WAAW,CAAC;SACpB;aAAM;YACL,OAAO,KAAK,CAAC;SACd;IACH,CAAC;IAED,sBAAsB;QACpB,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,mHAAwB,EAAE;YAC3D,KAAK,EAAE,KAAK;YACZ,YAAY,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE;YAClC,UAAU,EAAE,KAAK;YACjB,UAAU,EAAE,oBAAoB;YAChC,IAAI,EAAE,EAAE,gBAAgB,EAAE,IAAI,CAAC,wBAAwB,EAAE;SAC1D,CAAC,CAAC;QACH,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,IAAS,EAAE,EAAE;YACvC,IAAI,IAAI,EAAE;gBACR,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC;aACtC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IACD,aAAa;QACX,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,uGAAoB,EAAE;YACvD,KAAK,EAAE,KAAK;YACZ,YAAY,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE;YAClC,UAAU,EAAE,KAAK;YACjB,UAAU,EAAE,oBAAoB;YAChC,IAAI,EAAE,EAAE,SAAS,EAAE,IAAI,CAAC,iBAAiB,EAAE;SAC5C,CAAC,CAAC;QACH,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,IAAS,EAAE,EAAE;YACvC,IAAI,IAAI,EAAE;gBACR,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;aAC/B;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,UAAU,CAAC,WAAW,EAAE,WAAW,EAAE,cAAc;QACjD,IAAI,OAAO,GAAG,GAAG,WAAW,CAAC,CAAC,CAAC,uBAAuB,CAAC,CAAC,CAAC,EAAE,IACzD,WAAW,CAAC,CAAC,CAAC,eAAe,GAAG,cAAc,CAAC,CAAC,CAAC,EACnD,EAAE,CAAC;QACH,IAAI,WAAW,IAAI,WAAW,EAAE;YAC9B,OAAO,OAAO,CAAC;SAChB;aAAM;YACL,OAAO,EAAE,CAAC;SACX;IACH,CAAC;IAED,gBAAgB,CAAC,CAAM;QACrB,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,UAAU,CAAC,EAAE;YAC3B,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;SAClC;IACH,CAAC;IAED,WAAW;QACT,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;YAC5C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;QACjD,CAAC,EAAE,GAAG,CAAC,CAAC;QACR,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,EAAE,IAAI,CAAC,CAAC;QACT,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QACvB,IAAI,CAAC,2BAA2B,GAAG,IAAI,CAAC;IAC1C,CAAC;IAED,gBAAgB;QACd,IAAI,CAAC,iBAAiB,EAAE,CAAC;QACzB,IAAI,CAAC,sBAAsB,EAAE,CAAC;QAC9B,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;QAC3B,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QACvB,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;IAC7B,CAAC;IAED,WAAW;QACT,IAAI,IAAI,CAAC,GAAG,EAAE;YACZ,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE,CAAC;SAClB;QAED,IAAI,CAAC,kBAAkB,CAAC,2BAA2B,CAAC;YAClD,gBAAgB,EAAE,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,CAAC;SAC7C,CAAC,CAAC;QACH,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC;YACnC,SAAS,EAAE,CAAC,EAAE,YAAY,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;SACtD,CAAC,CAAC;IACL,CAAC;IAED,0BAA0B;QACxB,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,IAAI,CAAC,qBAAqB,CAAC,CAAC;QAC/C,IAAI,WAAW,GAAG,EAAE,CAAC;QACrB,WAAW,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC;QAC5B,WAAW,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC;QAC5B,WAAW,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC;QAC7B,WAAW,CAAC,SAAS,CAAC,GAAG,IAAI,CAAC;QAC9B,IACE,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC,CAAC,QAAQ,EAAE,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;aACvE,MAAM,EACT;YACA,IAAI,CAAC,qBAAqB;iBACvB,MAAM,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;iBACrC,OAAO,CAAC,CAAC,QAAQ,EAAE,EAAE;gBACpB,IAAI,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,MAAM,EAAE;oBACzC,WAAW,CAAC,OAAO,CAAC;wBAClB,IAAI,CAAC,wBAAwB,CAAC,kBAAkB,CAAC,CAAC;iBACrD;qBAAM,IAAI,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,MAAM,EAAE;oBAChD,WAAW,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,CAAC;iBAC5D;YACH,CAAC,CAAC,CAAC;SACN;aAAM,IACL,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC,CAAC,QAAQ,EAAE,EAAE,CAC7C,IAAI,CAAC,qBAAqB,CAAC,QAAQ,CAAC,CACrC,CAAC,MAAM,EACR;YACA,IAAI,SAAS,GAAG,EAAE,CAAC;YACnB,IAAI,UAAU,GAAG,EAAE,CAAC;YAEpB,IAAI,CAAC,qBAAqB;iBACvB,MAAM,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,IAAI,CAAC,qBAAqB,CAAC,GAAG,CAAC,CAAC;iBAChD,OAAO,CAAC,CAAC,QAAQ,EAAE,EAAE;gBACpB,IAAI,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,MAAM,EAAE;oBACzC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBAC1B;qBAAM,IAAI,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,MAAM,EAAE;oBAChD,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBAC3B;YACH,CAAC,CAAC,CAAC;SACN;QAED,WAAW,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,qBAAqB;aACpD,MAAM,CAAC,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;aAChD,IAAI,CAAC,GAAG,CAAC,CAAC;QAEb,OAAO,WAAW,CAAC;IACrB,CAAC;IAED,uBAAuB;QACrB,IAAI,CAAC,qBAAqB,GAAG,EAAE,CAAC;QAChC,IAAI,oBAAoB,GAAG,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE;YAC3D,IAAI,CAAC,GAAG;gBAAE,OAAO;YACjB,IAAI,SAAS,CAAC;YACd,IAAI,GAAG,CAAC;YACR,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;gBACtB,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;gBACrC,GAAG,GAAG,IAAI,CAAC;aACZ;iBAAM,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;gBAC7B,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;gBACrC,GAAG,GAAG,IAAI,CAAC;aACZ;iBAAM,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;gBAC7B,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;gBACrC,GAAG,GAAG,IAAI,CAAC;aACZ;iBAAM,IAAI,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;gBAC5B,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;gBACpC,GAAG,GAAG,GAAG,CAAC;aACX;iBAAM,IAAI,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;gBAC5B,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;gBACpC,GAAG,GAAG,GAAG,CAAC;aACX;iBAAM;gBACL,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;gBACpC,GAAG,GAAG,GAAG,CAAC;aACX;YAED,IAAI,cAAc,CAAC;YACnB,OAAO,CAAC,GAAG,CACT,KAAK,EACL,IAAI,CAAC,gBAAgB,EACrB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,EAClC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CACzB,CAAC;YAEF,IAAI,YAAY,GAAG,EAAE,CAAC;YACtB,IAAI,YAAY,GAAG,EAAE,CAAC;YACtB,IAAI,IAAI,CAAC,gBAAgB,IAAI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,MAAM,EAAE;gBACtE,YAAY,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,MAAM,CACtD,CAAC,WAAW,EAAE,EAAE;oBACd,OAAO,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,WAAW,CAAC;gBACjD,CAAC,CACF,CAAC;aACH;YAED,IAAI,YAAY,CAAC,MAAM,EAAE;gBACvB,YAAY,GAAG,YAAY,CAAC,CAAC,CAAC,CAAC;gBAC/B,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;oBACrD,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;wBAC7C,IAAI,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,EAAE;4BACrC,cAAc;gCACZ,YAAY,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;yBAC7D;6BAAM,IAAI,GAAG,CAAC,MAAM,CAAC,IAAI,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE;4BAClD,cAAc,GAAG,YAAY,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC;yBAC/D;6BAAM;4BACL,cAAc;gCACZ,YAAY,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;yBAC7D;oBACH,CAAC,CAAC,CAAC;gBACL,CAAC,CAAC,CAAC;aACJ;iBAAM;gBACL,YAAY,GAAG,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;gBACxC,cAAc;oBACZ,YAAY,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;aAC7D;YAED,OAAO;YACP,4EAA4E;YAC5E,MAAM;YACN,8DAA8D;YAC9D,+CAA+C;YAC/C,0DAA0D;YAC1D,mDAAmD;YACnD,6BAA6B;YAC7B,yCAAyC;YACzC,oBAAoB;YACpB,oBAAoB;YACpB,oBAAoB;YACpB,wCAAwC;YACxC,gEAAgE;YAChE,6BAA6B;YAC7B,wEAAwE;YACxE,mBAAmB;YACnB,6BAA6B;YAC7B,yCAAyC;YACzC,oBAAoB;YACpB,oBAAoB;YACpB,oBAAoB;YACpB,wCAAwC;YACxC,YAAY;YACZ,YAAY;YACZ,QAAQ;YACR,QAAQ;YACR,WAAW;YACX,qBAAqB;YACrB,6EAA6E;YAC7E,IAAI;YACJ,IAAI,cAAc,EAAE;gBAClB,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;aACjD;YACD,OAAO,YAAY,CAAC;QACtB,CAAC,CAAC,CAAC;QAEH,OAAO,oBAAoB,CAAC;IAC9B,CAAC;IAED,sBAAsB;QACpB,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QACxC,IAAI,CAAC,8BAA8B,GAAG,IAAI,CAAC;QAC3C,IAAI,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,MAAM,IAAI,CAAC,EAAE;YACpD,IAAI,CAAC,8BAA8B;gBACjC,2CAA2C,CAAC;SAC/C;aAAM;YACL,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,IAAI,CAAC,2BAA2B,CAAC,CAAC;YACtD,IAAI,oBAAoB,GAAG,IAAI,CAAC,uBAAuB,EAAE,CAAC;YAC1D,IAAI,mBAAmB,GAAQ,IAAI,CAAC,0BAA0B,EAAE,CAAC;YACjE,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACpB,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,mBAAmB,CAAC,CAAC;YAC3C,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,oBAAoB,CAAC,CAAC;YAC5C,IAAI,WAAW,GAAG,mBAAmB,CAAC,WAAW,CAAC;YAClD,IAAI,QAAQ,GAAG,IAAI,CAAC;YACpB,IAAI,QAAQ,GAAG,IAAI,CAAC;YACpB,IAAI,MAAM,GAAG,IAAI,CAAC;YAClB,IAAI,OAAO,GAAG,IAAI,CAAC;YACnB,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,WAAW,CAAC,CAAC;YACnC,IAAI,mBAAmB,CAAC,KAAK,EAAE;gBAC7B,IAAI,KAAK,GAAG,mBAAmB,CAAC,KAAK,CAAC;gBACtC,IAAI,OAAO,GAAG,EAAE,CAAC;gBACjB,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;oBACrB,IAAI,MAAM,GAAG,EAAE,CAAC;oBAChB,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;wBACnC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;oBAC7B,CAAC,CAAC,CAAC;oBACH,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;gBAClC,CAAC,CAAC,CAAC;gBACH,QAAQ,GAAG,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBAC7B,WAAW,GAAG,WAAW,GAAG,MAAM,GAAG,QAAQ,CAAC;aAC/C;iBAAM,IAAI,mBAAmB,CAAC,MAAM,EAAE;gBACrC,MAAM,GAAG,mBAAmB,CAAC,MAAM,CAAC;gBACpC,WAAW,GAAG,WAAW,GAAG,MAAM,GAAG,MAAM,CAAC;aAC7C;YAED,IAAI,mBAAmB,CAAC,KAAK,EAAE;gBAC7B,IAAI,KAAK,GAAG,mBAAmB,CAAC,KAAK,CAAC;gBACtC,IAAI,OAAO,GAAG,EAAE,CAAC;gBACjB,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;oBACrB,IAAI,MAAM,GAAG,EAAE,CAAC;oBAChB,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;wBACnC,GAAG,CAAC,CAAC,CAAC;4BACJ,OAAO,GAAG,CAAC,CAAC,CAAC,IAAI,QAAQ;gCACvB,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;gCACR,CAAC,CAAE,GAAG,CAAC,CAAC,CAAU,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;wBAC/C,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;oBAC7B,CAAC,CAAC,CAAC;oBACH,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;gBAClC,CAAC,CAAC,CAAC;gBACH,QAAQ,GAAG,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBAC7B,WAAW,GAAG,WAAW,GAAG,MAAM,GAAG,QAAQ,CAAC;aAC/C;iBAAM,IAAI,mBAAmB,CAAC,OAAO,EAAE;gBACtC,OAAO,GAAG,mBAAmB,CAAC,OAAO,CAAC;gBACtC,WAAW,GAAG,WAAW,GAAG,MAAM,GAAG,OAAO,CAAC;aAC9C;YACD,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;YACvC,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,IAAI,CAAC,2BAA2B,CAAC,CAAC;YACtD,MAAM,QAAQ,GAAG,IAAI,QAAQ,EAAE,CAAC;YAChC,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;YACvC,QAAQ,CAAC,MAAM,CAAC,cAAc,EAAE,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC,CAAC;YAC1D,QAAQ,CAAC,MAAM,CAAC,aAAa,EAAE,WAAW,CAAC,CAAC;YAE5C,QAAQ,CAAC,MAAM,CAAC,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;YACzC,SAAS;YACT,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;SAC5C;IACH,CAAC;IAED,sBAAsB,CAAC,IAAS;QAC9B,IAAI,CAAC,sBAAsB,EAAE,CAAC;QAC9B,IAAI,YAAY,GACd,IAAI,CAAC,2BAA2B,CAAC,MAAM,CAAC,CAAC,CAAwB,EAAE,EAAE;YACnE,OAAO,CAAC,CAAC,YAAY,IAAI,IAAI,CAAC,YAAY,CAAC;QAC7C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAER,IAAI,CAAC,gBAAgB;YACnB,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC;QACvD,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;QACnC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,kBAAkB,CAAC,uBAAuB,CACjE,IAAI,CAAC,gBAAgB,EACrB,IAAI,CAAC,kBAAkB,EACvB,IAAI,CAAC,gBAAgB,CACtB,CAAC;QACF,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;IACjC,CAAC;IAED,wBAAwB;QACtB,IAAI,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE;YAC5B,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;YAC7C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;YAChD,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC;SACpC;aAAM;YACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,sBAAsB,CAAC,CAAC;SAC3D;IACH,CAAC;;wFAr7DU,oBAAoB;kHAApB,oBAAoB;;;;;;;;;QC/BjC,yEAAkE;QAG5D,yEACA;QAAA,oEAKE;QACJ,4DAAI;QACJ,yEAA0B;QAKpB,uKAA+B,8BAA0B,IAAC,+GAC7B,8BAA0B,IADG,mGAEjC,8BAA0B,IAFO;QAGzD,oGAAyC;QAAA,4DAC3C;QAIP,8EASC;QARC,2MAAoC,wFAK1B,iBAAa,IALa;QASpC,kIAKc;QACd,wEAAyC;QAAA,gEAAI;QAAA,4DAAI;QACjD,6EAAyE;QAA7B,+LAA0B;QAAtE,4DAAyE;QACzE,mHAMM;QACN,mHAMM;QACN,mIAYc;QAChB,4DAAW;QACX,2EAA6C;QAWjC,uKAAgB,iCAA6B,IAAC;QAE9C,mIAYc;QAChB,4DAAe;QAEf,kFAOC;QAFC,6JAAY,aAAS,WAAW,eAAe,IAAC;QAGhD,mIAIc;QAAA,4DACf;QAED,qIAiFe;QACf,qIAsCe;QAEf,kFAUC;QADC,6IAAS,oBAAgB,IAAC;QAC3B,4DAAS;QAGd,2EAAkD;QAkB5C,6JAAY,wCAAoC,IAAC;QAGjD,mIAIc;QAAA,4DACf;QAMX,2EAAsE;QACpE,sHA4CO;QACT,4DAAM;QACN,2EAAqC;QAQjC,6IAAS,mBAAe,IAAC;QAC1B,4DAAS;QAId,2FAOC;QAOK,4RAAS,uEAAW,KAAC;QACtB,4DAAS;QAEV,8EAMC;QADC,4RAAS,uEAAW,KAAC;QACtB,4DAAS;;QAnWN,0DAAiF;QAAjF,kJAAiF;QAM/E,0DAAqC;QAArC,4JAAqC;QAc3C,0DAA6C;QAA7C,gIAA6C;QAC7C,gIAAqC;QAJrC,+FAAoC;QAgBQ,0DAA0B;QAA1B,qFAA0B;QAEnE,0DAAoE;QAApE,wIAAoE;QAOpE,0DAAoC;QAApC,oGAAoC;QAwB5B,0DAAgC;QAAhC,6FAAgC;QAIjC,0DAAiC;QAAjC,8FAAiC;QAsBjC,0DAAoC;QAApC,iGAAoC;QAcnC,0DAIF;QAJE,kUAIF;QA8EE,0DAIF;QAJE,kUAIF;QA2CC,0DAAqD;QAArD,sHAAqD;QAUrD,0DAAuC;QAAvC,oGAAuC;QA6B1B,0DAAiB;QAAjB,qFAAiB;QAoDtC,0DAAiD;QAAjD,qJAAiD;QAYrD,0DAAkB;QAAlB,2EAAkB;;;;;;;;;;;;;;;;;;ACzVmB;;AAKhC,MAAM,kBAAkB;IAC7B;QAEA,sBAAiB,GAAQ,EAAE,IAAI,EAAE,YAAY,EAAE,IAAI,EAAE,kBAAkB,EAAE,CAAC;QAE1E,8BAAyB,GAAG,IAAI,iDAAe,CAAM;YACnD,gBAAgB,EAAE,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,CAAC;SAC7C,CAAC,CAAC;QASH,eAAU,GAAG,IAAI,iDAAe,CAAM;YACpC,SAAS,EAAE,CAAC,EAAE,YAAY,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;SACtD,CAAC,CAAC;IAjBY,CAAC;IAQhB,2BAA2B,CAAC,KAAU;QACpC,IAAI,CAAC,yBAAyB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAC7C,CAAC;IACD,2BAA2B;QACzB,OAAO,IAAI,CAAC,yBAAyB,CAAC;IACxC,CAAC;IAMD,YAAY,CAAC,KAAU;QACrB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAC9B,CAAC;IACD,YAAY;QACV,OAAO,IAAI,CAAC,UAAU,CAAC;IACzB,CAAC;IAED,UAAU,CAAC,QAAgB;QACzB,IAAI,WAAW,GAAG,EAAE,CAAC;QACrB,IAAI,UAAU,GAAG,EAAE,CAAC;QACpB,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE,EAAE;YACrC,IAAI,OAAO,GAAG,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YAClD,IAAI,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YAChD,UAAU,CAAC,IAAI,CAAC;gBACd,IAAI,EAAE,CAAC,OAAO;gBACd,EAAE,EAAE,CAAC,KAAK;aACX,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;QACH,WAAW,GAAG;YACZ,gBAAgB,EAAE,UAAU;SAC7B,CAAC;QACF,OAAO,WAAW,CAAC;IACrB,CAAC;IAED,WAAW,CAAC,QAAgB;QAC1B,IAAI,QAAQ,GAAG,EAAE,CAAC;QAClB,IAAI,OAAO,GAAG,EAAE,CAAC;QACjB,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE,EAAE;YACrC,IAAI,OAAO,GAAG,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YAClD,IAAI,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YAChD,OAAO,CAAC,IAAI,CAAC;gBACX,YAAY,EAAE,IAAI,IAAI,CACpB,OAAO,CAAC,OAAO,CACb,gDAAgD,EAChD,aAAa,CACd,CACF;gBACD,UAAU,EAAE,IAAI,IAAI,CAClB,KAAK,CAAC,OAAO,CACX,gDAAgD,EAChD,aAAa,CACd,CACF;aACF,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;QACH,QAAQ,GAAG;YACT,SAAS,EAAE,OAAO;SACnB,CAAC;QACF,OAAO,QAAQ,CAAC;IAClB,CAAC;IAED,cAAc,CAAC,YAAiB;QAC9B,IAAI,qBAAqB,GAAG,IAAI,CAAC;QACjC,IAAI,mBAAmB,GAAG,IAAI,CAAC;QAC/B,IAAI,qBAAqB,GAAG,IAAI,CAAC;QACjC,IAAI,YAAY,GAAG,IAAI,CAAC;QACxB,IAAI,YAAY,GAAG,IAAI,CAAC;QAExB,IAAI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,MAAM,EAAE;YAC9C,IAAI,MAAM,IAAI,IAAI,CAAC,iBAAiB,EAAE;gBACpC,YAAY,GAAG,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;aAC/C;YACD,IAAI,MAAM,IAAI,IAAI,CAAC,iBAAiB,EAAE;gBACpC,YAAY,GAAG,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;aAC/C;SACF;QACD,IAAI,YAAY,CAAC,aAAa,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE;YAChD,IAAI,YAAY,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,MAAM,IAAI,CAAC,EAAE;gBACzD,qBAAqB,GAAG,YAAY,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;gBACrE,mBAAmB,GAAG,YAAY,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;gBACnE,qBAAqB,GAAG,YAAY,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;gBAErE,IAAI,mBAAmB,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE;oBACzC,IAAI,CAAC,2BAA2B,CAC9B,IAAI,CAAC,UAAU,CAAC,mBAAmB,CAAC,CACrC,CAAC;oBAEF,qBAAqB,GAAG,qBAAqB,CAAC,MAAM;wBAClD,CAAC,CAAC,qBAAqB;4BACrB,IAAI,YAAY,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,QAAQ,SAAS;wBACrD,CAAC,CAAC,GAAG,YAAY,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,QAAQ,SAAS,CAAC;iBACxD;gBAED,IAAI,qBAAqB,CAAC,QAAQ,CAAC,eAAe,CAAC,EAAE;oBACnD,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW,CAAC,qBAAqB,CAAC,CAAC,CAAC;oBAE3D,qBAAqB,GAAG,qBAAqB,CAAC,MAAM;wBAClD,CAAC,CAAC,qBAAqB;4BACrB,IAAI,YAAY,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,MAAM,SAAS;wBACnD,CAAC,CAAC,GAAG,YAAY,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,MAAM,SAAS,CAAC;iBACtD;aACF;iBAAM,IAAI,YAAY,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,MAAM,IAAI,CAAC,EAAE;gBAChE,qBAAqB,GAAG,YAAY,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;gBACrE,mBAAmB,GAAG,YAAY,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;gBAEnE,IAAI,mBAAmB,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE;oBACzC,IAAI,CAAC,2BAA2B,CAC9B,IAAI,CAAC,UAAU,CAAC,mBAAmB,CAAC,CACrC,CAAC;oBAEF,qBAAqB,GAAG,qBAAqB,CAAC,MAAM;wBAClD,CAAC,CAAC,qBAAqB;4BACrB,IAAI,YAAY,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,QAAQ,SAAS;wBACrD,CAAC,CAAC,GAAG,YAAY,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,QAAQ,SAAS,CAAC;iBACxD;qBAAM,IAAI,mBAAmB,CAAC,QAAQ,CAAC,eAAe,CAAC,EAAE;oBACxD,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAAC,CAAC,CAAC;oBAEzD,qBAAqB,GAAG,qBAAqB,CAAC,MAAM;wBAClD,CAAC,CAAC,qBAAqB;4BACrB,IAAI,YAAY,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,MAAM,SAAS;wBACnD,CAAC,CAAC,GAAG,YAAY,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,MAAM,SAAS,CAAC;iBACtD;aACF;SACF;aAAM;YACL,qBAAqB,GAAG,YAAY,CAAC,aAAa,CAAC,CAAC;YAEpD,IAAI,CAAC,2BAA2B,CAAC;gBAC/B,gBAAgB,EAAE,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,CAAC;aAC7C,CAAC,CAAC;YACH,IAAI,CAAC,YAAY,CAAC;gBAChB,SAAS,EAAE,CAAC,EAAE,YAAY,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;aACtD,CAAC,CAAC;SACJ;QAED,OAAO,qBAAqB,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IAC1C,CAAC;IAED,uBAAuB,CACrB,gBAAqB,EACrB,kBAAuB,EACvB,gBAAqB;QAErB,IAAI,2BAA2B,GAAG,gBAAgB,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE;YAC7D,IAAI,SAAS,CAAC;YACd,IAAI,GAAG,CAAC;YACR,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;gBACtB,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;gBACrC,GAAG,GAAG,IAAI,CAAC;aACZ;iBAAM,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;gBAC7B,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;gBACrC,GAAG,GAAG,IAAI,CAAC;aACZ;iBAAM,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;gBAC7B,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;gBACrC,GAAG,GAAG,IAAI,CAAC;aACZ;iBAAM,IAAI,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;gBAC5B,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;gBACpC,GAAG,GAAG,GAAG,CAAC;aACX;iBAAM,IAAI,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;gBAC5B,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;gBACpC,GAAG,GAAG,GAAG,CAAC;aACX;iBAAM;gBACL,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;gBACpC,GAAG,GAAG,GAAG,CAAC;aACX;YACD,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;YACvB,IAAI,kBAAkB,CAAC;YACvB,IAAI,WAAW,GAAG,IAAI,CAAC;YAEvB,oEAAoE;YAEpE,mEAAmE;YACnE,6CAA6C;YAC7C,SAAS;YACT,sBAAsB;YACtB,8DAA8D;YAC9D,wEAAwE;YACxE,OAAO;YAEP,qBAAqB;YACrB,8CAA8C;YAC9C,MAAM;YACN,IAAI;YACJ,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,gBAAgB,CAAC,CAAC;YACrC,IAAI,YAAY,GAAG,EAAE,CAAC;YACtB,IAAI,gBAAgB,IAAI,MAAM,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,MAAM,EAAE;gBAC5D,YAAY,GAAG,MAAM,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,MAAM,CAAC,CAAC,SAAS,EAAE,EAAE;oBAChE,OAAO,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,SAAS,CAAC;gBAC/C,CAAC,CAAC,CAAC;aACJ;YAED,IAAI,YAAY,CAAC,MAAM,EAAE;gBACvB,WAAW,GAAG,gBAAgB,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC;aACjD;iBAAM;gBACL,WAAW,GAAG,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;aACxC;YACD,yEAAyE;YAEzE,IAAI,MAAM,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;gBACtE,MAAM,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;oBAChD,IAAI,KAAK,IAAI,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE;wBACrC,kBAAkB,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;4BACxC,IAAI,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,EAAE;gCACrC,kBAAkB;oCAChB,WAAW,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;6BAC5D;iCAAM,IAAI,GAAG,CAAC,MAAM,CAAC,IAAI,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE;gCAClD,kBAAkB;oCAChB,WAAW,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC;6BACnD;wBACH,CAAC,CAAC,CAAC;qBACJ;gBACH,CAAC,CAAC,CAAC;aACJ;iBAAM;gBACL,kBAAkB;oBAChB,WAAW,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;aAC5D;YACD,OAAO,kBAAkB,CAAC;QAC5B,CAAC,CAAC,CAAC;QACH,OAAO,2BAA2B,CAAC;IACrC,CAAC;;oFApOU,kBAAkB;mHAAlB,kBAAkB,WAAlB,kBAAkB,mBAFjB,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACKG;AAMC;AAGoB;AAKG;AACA;AAGT;;;;;;;;;;;;;;;;;;;;;;;;ICkDxB,qEAAI;IACE,qEAAU;IAAA,4DAAK;IACnB,qEAAI;IAAA,wEAAa;IAAA,4DAAK;IACtB,qEAAI;IAAA,wEAAa;IAAA,4DAAK;IACtB,qEAAI;IAAA,wEAAa;IAAA,4DAAK;IACtB,qEAAI;IAAA,qEAAS;IAAA,4DAAK;IAGlB,0EAA+B;IAAA,wEAAY;IAAA,4DAAK;;;;;IAU9C,wEAqBC;IAPC,obACyB,4GACa,mBACxC,mBACZ,WAAW,mBAAuC,kBACvC,EACA,KAAI;IAED,uDAAsC;IAAA,4DACvC;;;IAlBC,0IAQE;IASF,0DAAsC;IAAtC,+GAAsC;;;IAItC,uDAAsC;;;IAAtC,+GAAsC;;;;IAhC5C,qEAAI;IAEA,uDACF;IAAA,4DAAK;IAEL,qEAAI;IACF,kKAuBC;IAED,kQAEC;IACH,4DAAK;IACL,qEAAI;IAAA,uDAA6B;IAAA,4DAAK;IACtC,qEAAI;IAAA,wDAAiC;IAAA,4DAAK;IAC1C,sEAAI;IAIC,0EAAc;IAAA,4DAChB;IAIH,0EAA6C;IAavC,uZAC2B,6GACpC,QAAQ,EAAE;IAbH,4DAcE;IACF,uEAAkC;IACpC,4DAAQ;;;;;IA9DR,0DACF;IADE,8IACF;IAIK,0DAGrB;IAHqB,kIAGrB;IAyBoB,0DAA6B;IAA7B,4FAA6B;IAC7B,0DAAiC;IAAjC,gGAAiC;IAsB/B,0DAAsB;IAAtB,0EAAsB;IARtB,4FAA+B;;;IAmBvC,qEAAI;IACqB,8EAAmB;IAAA,4DAAK;;IAA3C,0DAAkB;IAAlB,uEAAkB;;;;IAM9B,0EAGC;IAEG,0GACF;IAAA,4DAAO;IAEP,0EAA8C;IAI1C,0UACmB,uFACC,wDAC5B,MAAM,EAAE,KAAC;IACA,oFAAyB;IAAA,4DAC3B;;;IANC,0DAA8D;IAA9D,0HAA8D;IAD9D,gIAA+D;;;IAwCzD,0EAA2B;IACpB,uDAAsB;IAAA,4DAAM;;;IAA5B,0DAAsB;IAAtB,qFAAsB;;;IAsD3B,0EAA2B;IACpB,uDAAkB;IAAA,4DAAM;;;IAAxB,0DAAkB;IAAlB,iFAAkB;;;;;IASzB,4EASE;IAJA,8cAAkC;IALpC,4DASE;;;IAJA,iGAAkC;;;;IAKpC,4EAQE;IAHA,8cAAkC;IALpC,4DAQE;;;IAHA,iGAAkC;;;;IAKpC,oFAQC;IALC,8dAAkC;IAMpC,4DAAgB;;;IANd,iGAAkC;;;;IAOpC,iFAUC;IALC,wdAAkC;IAKnC,4DAAa;;;IALZ,iGAAkC;;;IAMpC,mEAA0D;;;;IAuChE,2EAGC;IACC,uDACA;IAAA,2EAIC;IADC,ybAAS,uGAA6B,KAAC;IAEvC,8DAQC;IARD,0EAQC;IACC,sEAEE;IAIJ,4DAAM;;;IArBR,0DACA;IADA,wFACA;;;IATN,sEAAmC;IAEL,+EAAoB;IAAA,4DAAO;IAErD,uKA2BO;IACT,4DAAM;;;IA3BmB,0DAAmB;IAAnB,2FAAmB;;;IAyDtC,oEAGM;;;IACN,yEAKC;IACC,uDACA;IAAA,4EAA6C;IAC/C,4DAAK;;;IALH,iFAAyB;IACzB,0FAA6B;IAE7B,0DACA;IADA,0FACA;IAAY,0DAAmB;IAAnB,gFAAmB;;;IAIjC,oEAGM;;;;IACN,qEAA+C;IAK3C,mEAA4B;IAC5B,6EAWE;IAPA,ieAET,0GAGH,UAAU,CACD,KAAI;IAVH,4DAWE;;;IAdF,0DAA+B;IAA/B,uFAA+B;;;IAvBrC,qEAAI;IACF,iLAGM;IACN,iLAQK;IACP,4DAAK;IACL,yEAAuB;IACrB,iLAGM;IACN,iLAmBK;IACP,4DAAK;;;;IAtCA,0DAAyB;IAAzB,6FAAyB;IAIV,0DAAY;IAAZ,gFAAY;IAW3B,0DAAyB;IAAzB,6FAAyB;IAGR,0DAAY;IAAZ,gFAAY;;;IAwC5B,oEAYK;;IAHH,2IAEC;;;IAMH,2EAAqD;IACnD,uDACF;IAAA,4DAAM;;;;IADJ,0DACF;IADE,yGACF;;;;;IACA,sEAAoB;IAoBhB,odACiC,sEAAQ,wBACrD,KAAK,KAAK,IACzB,+CACU,cAAc,6BACN,MAAM,EACA,KAAI;IACA,uDAA2B;IAAA,4DAC7B;;;;IA1BC,0DAiBE;IAjBF,qWAiBE;IAQD,0DAA2B;IAA3B,8FAA2B;;;IA/BlC,qEAAqC;IACnC,wMAEM;IACN,uMA6BM;IACR,4DAAK;;;IAjCG,0DAAe;IAAf,+EAAe;IAGf,0DAAY;IAAZ,4EAAY;;;;IA+BpB,yEAGC;IAMK,wdACiC,0HAChC;IANH,4DAaE;IACF,sEAAkC;IACpC,4DAAQ;;;;IAbJ,0DAA+B;IAA/B,gGAA+B;;;IA3CvC,wEAAyD;IACvD,gMAkCK;IACL,iMAqBK;IACP,qEAAe;;;IAzDR,0DAA8B;IAA9B,8FAA8B;IAoChC,0DAA2B;IAA3B,2FAA2B;;;IAhElC,0EAA8B;IAQxB,qFAGsB;IACtB,gLAYK;IACP,4DAAM;IAER,qMA0De;IACjB,4DAAK;;;;;;IAtFD,sFAAyB;IAGvB,0DAEC;IAFD,iIAEC;IAIC,0DAAiB;IAAjB,8EAAiB;IAIhB,0DAAgD;IAAhD,gHAAgD;IAczB,0DAAY;IAAZ,gFAAY;;;IA8D5C,qEAAI;IACkC,yEAAc;IAAA,4DAAK;;;IAAnD,0DAA+B;IAA/B,4FAA+B;;;IAIrC,uEAEC;IACC,uDASF;IAAA,4DAAO;;;;IATL,0DASF;IATE,qVASF;;;IAZA,qLAYO;;;;IAXJ,sIAAwD;;;;;IAxKjE,0EAGC;IAOG,sWAAc,wFAAqB,KAAC,utBAWrB,sFAAmB,KAXE,oTAYnB,wFAAqB,KAZF;IAcpC,oLA0Cc;IACd,qLA6Fc;IACd,qLAIc;IACd,qLAcc;IAChB,4DAAU;;;IA/KR,0DAAmB;IAAnB,oFAAmB;;;IAiLvB,2EAGC;IACyC,2EAAgB;IAAA,4DAAI;;;;;;IAzYlE,0EAGC;IAqBS,0cAA+B,0SAEd,sFAAmB,KAFL;IAI/B,8KAIc;IAAA,4DACf;IAwBL,0EAAyB;IAKjB,qcAA0B,sSAEd,iGAA8B,KAFhB;IAO3B,4DAAa;IAEhB,2EAAgD;IAG5C,2cAA+B,uSAEnB,iGAA8B,KAFX;IAS/B,gLAIc;IAChB,4DAAa;IACb,2EAGC;IADC,8VAAe,wFAAqB,KAAC;IAErC,6EAAwC;IACtC,oKASE;IACF,oKAQE;IAEF,oLASgB;IAChB,8KAUc;IACd,4JAA0D;IAC5D,qEAAe;IACjB,4DAAM;IAGV,2EAAkD;IAK9C,+UAAS,2GAA+B,KAAC;IAY1C,4DAAS;IACV,8EAOC;IAHC,+UAAS,kFAAe,KAAC;IAG1B,4DAAS;IAIhB,2EAA8B;IAC5B,gKAiCM;IACR,4DAAM;IACN,2EAAoB;IAClB,iKAsLM;IACN,gKAKM;IACR,4DAAM;;;;IAjYE,0DAKC;IALD,8PAKC;IAqDC,0DAAkD;IAAlD,gIAAkD;IAPlD,4FAA2B;IAY3B,0DAAiC;IAAjC,kGAAiC;IAoBnB,0DAAyB;IAAzB,0FAAyB;IAElC,0DAAmB;IAAnB,+EAAmB;IAUnB,0DAAoB;IAApB,gFAAoB;IAUpB,0DAAsB;IAAtB,kFAAsB;IAWtB,0DAAoB;IAApB,gFAAoB;IASnB,0DAA2B;IAA3B,+FAA2B;IAqBnC,0DAA8D;IAA9D,0HAA8D;IAR9D,0HAAiD;IAsBjD,0DAA2B;IAA3B,+FAA2B;IAqC9B,0DAAgC;IAAhC,4GAAgC;IAwLhC,0DAA8C;IAA9C,iKAA8C;;;;IAOrD,2EAGC;IAoBK,8UACmB,qIAG3B,MAAM,0CAAmD,cACpD,EACA,KAAI;IACF,4DAAS;;;IAxBV,0DAMC;IAND,4PAMC;IAQC,0DAEC;IAFD,sJAEC;;;IA1hBT,0EAKC;IAGK,wKAWc;IACd,yKAoEc;IACd,wKAIc;IAChB,4DAAU;IAGZ,wJAmBM;IAEN,0JA4YM;IAEN,wJAgCM;IACR,4DAAM;;;IA9hBO,0DAAoC;IAApC,qGAAoC;IA2F5C,0DAAiC;IAAjC,qGAAiC;IAqBjC,0DAAiC;IAAjC,qGAAiC;IA8YjC,0DAAiC;IAAjC,qGAAiC;;;IA4D/B,4EAA8C;IAAA,4DAAC;IAAA,4DAAO;;;IA4BjD,4EAA8C;IAAA,uDAE5C;IAAA,4DAAO;;;IAFqC,0DAE5C;IAF4C,kFAE5C;;;IACF,4EAA8C;IAAA,uDAE5C;IAAA,4DAAO;;;IAFqC,0DAE5C;IAF4C,kFAE5C;;;;;IA9BJ,2EAaC;IAUG,oeAAiB,2GAAmC,KAAC;IATvD,4DAUE;IACF,qMAES;IACT,qMAES;IACX,4DAAM;;;;IA5BJ,+YAQC;IAOC,0DAA8B;IAA9B,4FAA8B;IAON,0DAAkB;IAAlB,mFAAkB;IAGlB,0DAAkB;IAAlB,mFAAkB;;;;IAI9C,2EAGC;IAIG,kZAAkB,yFAAsB,KAAC;IAC1C,4DAAiB;;;;IAHhB,0DAA8B;IAA9B,4FAA8B;;;IAtCpC,wEAAqC;IACnC,6LA+BM;IACN,6LASM;IACR,qEAAe;;;IAxCV,0DAA4C;IAA5C,6GAA4C;IAgC5C,0DAA4C;IAA5C,6GAA4C;;;IAoC3C,4EAA8C;IAAA,uDAE5C;IAAA,4DAAO;;;IAFqC,0DAE5C;IAF4C,kFAE5C;;;IACF,4EAA8C;IAAA,uDAE5C;IAAA,4DAAO;;;IAFqC,0DAE5C;IAF4C,kFAE5C;;;;IA/BR,wEAAuC;IAEnC,2EAYC;IAUG,8dAAiB,2GAAmC,KAAC;IATvD,4DAUE;IACF,+LAES;IACT,+LAES;IACX,4DAAM;IACR,qEAAe;;;;IA7BX,0DAQC;IARD,+YAQC;IAOC,0DAA8B;IAA9B,4FAA8B;IAON,0DAAkB;IAAlB,mFAAkB;IAGlB,0DAAkB;IAAlB,mFAAkB;;;;IAMlD,uFA0BC;IAdC,scAAY,kGAAkC,KAAC,yaAC9B,2GAAmC,KADL;IAchD,4DAAa;;;;IArBZ,0EAAiB;;;;IAsBnB,kFAKC;IADC,udAAY,uGAA+B,KAAC;IAC7C,4DAAa;;;IAHZ,4FAA8B;;;IAiC5B,0EAA2B;IACpB,uDAAsB;IAAA,4DAAM;;;IAA5B,0DAAsB;IAAtB,sFAAsB;;;IApBjC,kFAiBC;IACC,0MAIc;IAAA,4DACf;;;;IApBC,uMAIC;;;IAgCC,2EAA2D;IAEvD,uDAKF;IAAA,4DAAM;;;;;IALJ,0DAKF;IALE,+KAKF;;;IAPF,0MAQM;;;IARwC,4EAAW;;;IAWzD,0EAA2B;IACpB,uDAAsB;IAAA,4DAAM;;;IAA5B,0DAAsB;IAAtB,sFAAsB;;;IA3BjC,kFAaC;IACC,4MAUc;IACd,2MAIc;IAChB,4DAAa;;;;IA3BX,4FAA8B;;;IAiC9B,8EAGC;IACC,uDACF;IAAA,4DAAS;;;IAHP,oFAAsB;IAEtB,0DACF;IADE,6FACF;;;IAVF,8EAIC;IACC,8LAKS;IACX,4DAAS;;;IARP,4FAA8B;IAGT,0DAAgB;IAAhB,uFAAgB;;;IAOzC,6EAkBC;IACC,uDAAmC;IAAA,4DACpC;;;IADC,0DAAmC;IAAnC,6GAAmC;;;IAErC,6EAUG;IAAA,uDACI;IAAA,4DACN;;;IAFE,0DACI;IADJ,mJACI;;;IAEP,6EAUG;IAAA,uDAIC;IAAA,4DACH;;;IALE,0DAIC;IAJD,6JAIC;;;IAEJ,6EAUG;IAAA,uDACgC;IAAA,4DAClC;;;IAFE,0DACgC;IADhC,sJACgC;;;IAEnC,6EAOG;IAAA,sFAA2B;IAAA,4DAC7B;;;;IA1RH,2EAQC;IAKI,uDAIC;IAAA,4DACH;IAAA,gLAAsD;IACvD,4EAA2C;IACzC,gMA2Ce;IAEf,gMAkCe;IACf,4LA0Bc;IACd,4LAKc;IAWd,4LAuBC;IACD,8LA8Ba;IACb,sLAWS;IACX,qEAAe;IACf,oLAoBC;IACD,oLAYC;IACD,oLAeC;IACD,oLAYC;IACD,oLAQC;IACH,4DAAM;;;;;IAzRJ,2OAKE;IAGA,0DAEC;IAFD,wIAEC;IACA,0DAIC;IAJD,6OAIC;IACI,0DAAoB;IAApB,qFAAoB;IACd,0DAA4B;IAA5B,0FAA4B;IACzB,0DAAoB;IAApB,gFAAoB;IA6CpB,0DAAsB;IAAtB,kFAAsB;IAoClC,0DAAoB;IAApB,gFAAoB;IA2BpB,0DAAwB;IAAxB,oFAAwB;IAgBxB,0DAA8B;IAA9B,0FAA8B;IAwB9B,0DAA4B;IAA5B,wFAA4B;IA+B5B,0DAA2B;IAA3B,uFAA2B;IAa7B,0DAeb;IAfa,ktBAeb;IAMa,0DAOL;IAPK,wXAOL;IAMK,0DAOL;IAPK,sXAOL;IASK,0DAOL;IAPK,wXAOL;IAMK,0DAIF;IAJE,uRAIF;;;IAxRL,wEAAsD;IACpD,0KA2RM;IACR,qEAAe;;;IA3RV,0DAAmB;IAAnB,oFAAmB;;;IAR1B,2EAKC;IACC,0KA6Re;IACjB,4DAAM;;;IA9R4B,0DAAoB;IAApB,0FAAoB;;;IA5mBxD,8EASC;IAqDC,kJAqiBM;IAGN,kJAoSM;IA2BR,4DAAU;;;;IAp6BR,+MAIC;IA2DE,0DAEA;IAFA,uJAEA;IAqiBA,0DAEA;IAFA,wJAEA;;;IA1mBP,wEAAmD;IACjD,gJAq6BU;IACZ,qEAAe;;;;IA95BV,0DAA+B;IAA/B,sGAA+B;;;;IAg6BlC,8EAQC;IADC,kTAAS,gFAAa,KAAC;IACxB,4DAAS;;;;IAmBV,8EAQC;IADC,kTAAS,0FAAc,KAAC;IACzB,4DAAS;;;IAHR,6HAAqD;;;;IA98B3D,2EAIC;IACC,2IAu6Be;IACf,0EAAgD;IAC9C,+HAQU;IACV,6EAQC;IAFC,wSAAS,6EAAU,KAAC;IAErB,4DAAS;IACV,6EAQC;IAFC,wSAAS,4EAAS,KAAC;IAEpB,4DAAS;IACV,+HAQU;IACZ,4DAAM;;;IA/8BN,0FAA0B;IAEQ,0DAAe;IAAf,wFAAe;IA06B5C,0DAAiC;IAAjC,oGAAiC;IAelC,0DAAwB;IAAxB,wFAAwB;IASxB,0DAAwB;IAAxB,wFAAwB;IAGvB,0DAAmD;IAAnD,6HAAmD;;;IAkB1D,2EAA+E;IAEvD,sEAAsC;IAAA,4DAAM;IAElE,2EAAiB;IAEV,yEAAc;IAAA,4DAAI;;;;IAqEjB,qEAA8C;IAAA,uDAAgB;IAAA,4DAAK;;;IAArB,0DAAgB;IAAhB,gFAAgB;;;IADhE,qEAAI;IACF,+HAAmE;IACrE,4DAAK;;;IADiB,0DAAwB;IAAxB,iGAAwB;;;IAK5C,qEAA8C;IAC5C,uDACF;IAAA,4DAAK;;;;IADH,0DACF;IADE,0GACF;;;IAHF,qEAAI;IACF,+HAEK;IACP,4DAAK;;;IAHiB,0DAAwB;IAAxB,iGAAwB;;;IAM9C,qEAAI;IACE,yEAAc;IAAA,4DAAK;;;;AD/gC1B,MAAM,qBAAqB;IAChC,YACU,WAAwB,EACxB,WAAwB,EACxB,MAAc,EACd,mBAAwC,EACxC,mBAAwC,EACxC,QAA0B,EAC1B,yBAAoD;QANpD,gBAAW,GAAX,WAAW,CAAa;QACxB,gBAAW,GAAX,WAAW,CAAa;QACxB,WAAM,GAAN,MAAM,CAAQ;QACd,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,aAAQ,GAAR,QAAQ,CAAkB;QAC1B,8BAAyB,GAAzB,yBAAyB,CAA2B;QAQ/C,SAAI,GAAG,KAAK,CAAC;QACX,WAAM,GAAG,IAAI,CAAC;QACZ,aAAQ,GAAG,KAAK,CAAC;QACnB,WAAM,GAAG,IAAI,CAAC;QAEA,yBAAoB,GAAG,KAAK,CAAC;QAC7B,yBAAoB,GAAG,IAAI,CAAC;QAEpC,iBAAY,GAAG,GAAG,CAAC;QACf,qBAAgB,GAAG,IAAI,CAAC;QACrB,wBAAmB,GAAG,IAAI,CAAC;QAE5B,uBAAkB,GAAG,KAAK,CAAC;QAErB,4BAAuB,GACxD,IAAI,uDAAY,EAAU,CAAC;QACe,qCAAgC,GAC1E,IAAI,uDAAY,EAAO,CAAC;QACI,uBAAkB,GAAG,IAAI,uDAAY,EAAO,CAAC;QAG3E,uCAAkC,GAAG,IAAI,uDAAY,EAAO,CAAC;QAG7D,yBAAoB,GAAG,IAAI,uDAAY,EAAO,CAAC;QAE/C,gDAAgD;QAEhD,+BAA0B;QACxB,kDAAkD;QAClD,IAAI,CAAC;QAEP,2BAAsB,GAAY,KAAK,CAAC;QAExC,uBAAkB,GAAQ,EAAE,CAAC;QAE7B,UAAK,GAAG,IAAI,IAAI,EAAE,CAAC;QACnB,aAAQ,GAAG,IAAI,IAAI,CAAC,YAAY,CAAC,CAAC;QAClC,eAAU,GAAG,IAAI,IAAI,CAAC,YAAY,CAAC,CAAC;QACpC,eAAU,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;QAC7E,kBAAa,GAAG,IAAI,IAAI,EAAE,CAAC;QAC3B,iBAAY,GAAG,IAAI,IAAI,EAAE,CAAC;QAC1B,eAAU,GAAG,MAAM,CAAC,IAAI,CAAC;QACzB,aAAQ,GAAY,IAAI,CAAC;QACzB,cAAS,GAAG,KAAK,CAAC;QAElB,iBAAY,GAAG,KAAK,CAAC;QACrB,wBAAmB,GAAQ,EAAE,CAAC;QAC9B,YAAO,GAAY,KAAK,CAAC;QACzB,wBAAmB,GAAG,OAAO,CAAC;QAE9B,qBAAgB,GAAQ,EAAE,CAAC;QAG3B,iBAAY,GAAU,EAAE,CAAC;QACzB,YAAO,GAAQ,EAAE,CAAC;QAElB,oBAAe,GAAQ,EAAE,CAAC;QAE1B,eAAU,GAAQ,EAAE,CAAC;QAErB,gBAAW,GAAY,KAAK,CAAC;QAC7B,mBAAc,GAAQ,EAAE,CAAC;QAEzB,iBAAY,GAAQ,EAAE,CAAC;QAEvB,iBAAY,GAAG,YAAY,CAAC;QAC5B,iBAAY,GAAQ,IAAI,CAAC;QAEzB,kCAA6B,GAAU,EAAE,CAAC;QAE1C,yBAAoB,GAAG,EAAE,CAAC;QAE1B,mDAAmD;QAEnD,oBAAe,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC,CAAC;QACtE,eAAU,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC;QAE5D,aAAQ,GAAG,6BAA6B,CAAC;QACzC,mBAAc,GAAG,YAAY,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC;QAExD,6BAAwB,GAAG,EAAE,CAAC;QAC9B,0BAAqB,GAAG,EAAE,CAAC;QAE3B,yBAAoB,GAAG,EAAE,CAAC;QAE1B,4BAAuB,GAAG,EAAE,CAAC;QAE7B,eAAe;QACf,6BAAwB,GAAG;YACzB,EAAE,MAAM,EAAE,YAAY,EAAE,IAAI,EAAE,0BAA0B,EAAE;YAC1D,EAAE,MAAM,EAAE,aAAa,EAAE,IAAI,EAAE,2BAA2B,EAAE;YAC5D,EAAE,MAAM,EAAE,WAAW,EAAE,IAAI,EAAE,yBAAyB,EAAE;YACxD,EAAE,MAAM,EAAE,eAAe,EAAE,IAAI,EAAE,4BAA4B,EAAE;YAC/D,EAAE,MAAM,EAAE,kBAAkB,EAAE,IAAI,EAAE,+BAA+B,EAAE;YACrE,EAAE,MAAM,EAAE,eAAe,EAAE,IAAI,EAAE,qBAAqB,EAAE;YACxD,EAAE,MAAM,EAAE,aAAa,EAAE,IAAI,EAAE,4BAA4B,EAAE;SAC9D,CAAC;QACF,6BAAwB,GAAG;YACzB,EAAE,MAAM,EAAE,cAAc,EAAE,IAAI,EAAE,oBAAoB,EAAE;YACtD,EAAE,MAAM,EAAE,uBAAuB,EAAE,IAAI,EAAE,qBAAqB,EAAE;YAChE,EAAE,MAAM,EAAE,0BAA0B,EAAE,IAAI,EAAE,wBAAwB,EAAE;YACtE,EAAE,MAAM,EAAE,eAAe,EAAE,IAAI,EAAE,qBAAqB,EAAE;SACzD,CAAC;QAEF,0BAAqB,GAAG,EAAE,CAAC;QAE3B,mDAAmD;QACnD,4BAAuB,GAAU,IAAI,CAAC;QACtC,0CAAqC,GAAG,EAAE,CAAC;QAC3C,uCAAkC,GAAG,EAAE,CAAC;QAExC,4BAA4B;QAC5B,iBAAY,GAAG,EAAE,CAAC;QAClB,sBAAiB,GAAG,EAAE,CAAC;QACvB,uBAAkB,GAAG,EAAE,CAAC;QACxB,SAAI,GAAG,YAAY,CAAC;QAEpB,iBAAY,GAAQ,MAAM,CAAC;QAE3B,iBAAY,GAAQ,EAAE,CAAC;QACvB,oBAAe,GAAG;YAChB,EAAE,IAAI,EAAE,YAAY,EAAE,IAAI,EAAE,YAAY,EAAE;YAC1C,4CAA4C;SAC7C,CAAC;QAEF,0BAAqB,GAAG,EAAE,CAAC;QAE3B,0BAAqB,GAAG,EAAE,CAAC;QAC3B,mBAAc,GAAG,EAAE,CAAC;QACpB,uBAAkB,GAAG,EAAE,CAAC;QACxB,yBAAoB,GAAG,EAAE,CAAC;QAC1B,oBAAe,GAAG,EAAE,CAAC;QAErB,0BAAqB,GAAG,EAAE,CAAC;QAC3B,sBAAiB,GAAG,EAAE,CAAC;QACvB,uBAAkB,GAAG,EAAE,CAAC;QACxB,gBAAW,GAAG,IAAI,CAAC;QAEnB,eAAU,GAAG,CAAC,CAAC;QACf,aAAQ,GAAG,CAAC,CAAC;QACb,eAAU,GAAG,CAAC,CAAC;QACf,iBAAY,GAAG,CAAC,CAAC;QACjB,WAAM,GAAG,IAAI,CAAC;QACd,YAAO,GAAG,MAAM,CAAC;QAEjB,gCAA2B,GAAG,IAAI,CAAC;QAEnC,sBAAiB,GAAQ,IAAI,CAAC;QAE9B,mCAA8B,GAAQ,IAAI,CAAC;QAE3C,cAAS,GAAQ,KAAK,CAAC;QAEvB,iBAAY,GAAG,IAAI,CAAC;QAEpB,sBAAiB,GAAG,IAAI,CAAC;QAEzB,+BAA0B,GAAQ,EAAE,CAAC;QAErC,4BAAuB,GAAQ,EAAE,CAAC;QAClC,iCAA4B,GAAQ,EAAE,CAAC;QAEvC,oBAAe,GAAY,KAAK,CAAC;QAEjC,YAAO,GAAU;YACf;gBACE,KAAK,EAAE,cAAc;gBACrB,MAAM,EAAE,eAAe;gBACvB,KAAK,EAAE,KAAK;gBACZ,WAAW,EAAE,OAAO;aACrB;YACD;gBACE,KAAK,EAAE,UAAU;gBACjB,MAAM,EAAE,oBAAoB;gBAC5B,KAAK,EAAE,KAAK;gBACZ,WAAW,EAAE,MAAM;aACpB;YACD;gBACE,KAAK,EAAE,cAAc;gBACrB,MAAM,EAAE,eAAe;gBACvB,KAAK,EAAE,KAAK;gBACZ,WAAW,EAAE,OAAO;aACrB;YACD,EAAE,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,SAAS,EAAE,KAAK,EAAE,KAAK,EAAE,WAAW,EAAE,OAAO,EAAE;YAC1E;gBACE,KAAK,EAAE,UAAU;gBACjB,MAAM,EAAE,WAAW;gBACnB,KAAK,EAAE,IAAI;gBACX,WAAW,EAAE,OAAO;aACrB;SACF,CAAC;QACF,iCAAiC;QAEjC,yBAAoB,GAAQ,IAAI,CAAC;QAEjC,mBAAmB;QACnB,4BAAuB,GAAG;YACxB,yBAAyB,EAAE,gBAAgB;SAC5C,CAAC;QA7MA,gCAAgC;QAChC,IAAI,CAAC,gDAAgD,EAAE,CAAC;IAC1D,CAAC;IA6MD,kDAAkD;IAClD,6CAA6C;IAC7C,iDAAiD;IACjD,uEAAuE;IACvE,OAAO;IACP,IAAI;IAEJ,gFAAgF;IAChF,gDAAgD;IAChD,+CAA+C;IAC/C,sCAAsC;IACtC,sBAAsB;IACtB,iDAAiD;IACjD,kBAAkB;IAClB,oDAAoD;IACpD,2DAA2D;IAC3D,WAAW;IACX,eAAe;IACf,uDAAuD;IACvD,QAAQ;IACR,0EAA0E;IAC1E,MAAM;IACN,IAAI;IAEJ,oCAAoC;IACpC,uCAAuC;IACvC,uEAAuE;IACvE,iCAAiC;IACjC,SAAS;IACT,iDAAiD;IACjD,oDAAoD;IACpD,QAAQ;IACR,4CAA4C;IAC5C,sDAAsD;IACtD,SAAS;IACT,2CAA2C;IAC3C,aAAa;IACb,oCAAoC;IACpC,oDAAoD;IACpD,YAAY;IACZ,2DAA2D;IAC3D,sEAAsE;IACtE,yCAAyC;IACzC,+CAA+C;IAC/C,6CAA6C;IAC7C,cAAc;IACd,YAAY;IACZ,UAAU;IACV,QAAQ;IAER,kEAAkE;IAClE,gDAAgD;IAChD,wDAAwD;IACxD,+DAA+D;IAC/D,UAAU;IACV,QAAQ;IACR,2CAA2C;IAC3C,aAAa;IACb,oCAAoC;IACpC,oDAAoD;IACpD,YAAY;IACZ,2DAA2D;IAC3D,6EAA6E;IAC7E,4DAA4D;IAC5D,iDAAiD;IACjD,yDAAyD;IACzD,6CAA6C;IAC7C,gEAAgE;IAChE,cAAc;IACd,YAAY;IACZ,iBAAiB;IACjB,gFAAgF;IAChF,6EAA6E;IAC7E,UAAU;IACV,kDAAkD;IAClD,4CAA4C;IAC5C,WAAW;IACX,iEAAiE;IACjE,0CAA0C;IAC1C,iBAAiB;IACjB,QAAQ;IACR,uDAAuD;IAEvD,WAAW;IACX,kDAAkD;IAClD,qCAAqC;IACrC,UAAU;IACV,wDAAwD;IACxD,mCAAmC;IACnC,kCAAkC;IAClC,eAAe;IACf,6DAA6D;IAC7D,+BAA+B;IAC/B,WAAW;IACX,QAAQ;IAER,uDAAuD;IAEvD,2BAA2B;IAC3B,8EAA8E;IAC9E,wCAAwC;IACxC,4BAA4B;IAC5B,mCAAmC;IACnC,8BAA8B;IAC9B,yBAAyB;IACzB,qDAAqD;IACrD,mDAAmD;IACnD,qCAAqC;IACrC,qEAAqE;IACrE,qCAAqC;IACrC,qBAAqB;IACrB,eAAe;IACf,YAAY;IAEZ,oCAAoC;IACpC,oCAAoC;IACpC,MAAM;IACN,IAAI;IAEJ,qCAAqC;IACrC,oEAAoE;IACpE,IAAI;IACJ,gDAAgD;IAEhD,QAAQ,KAAU,CAAC;IAEnB,WAAW,CAAC,OAAsB;QAChC,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAE,OAAO,CAAC,CAAC;QACvC,IAAI,OAAO,CAAC,QAAQ,EAAE;YACpB,OAAO,CAAC,GAAG,CAAC,oBAAoB,EAAE,OAAO,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;YACjE,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;YACxC,IAAI,CAAC,YAAY;gBACf,OAAO,CAAC,QAAQ,CAAC,YAAY,IAAI,KAAK,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,WAAW,CAAC;YACtE,IAAI,CAAC,wBAAwB,CAC3B,IAAI,CAAC,MAAM,EACX,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,EAC5B,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,EACvB,IAAI,CAAC,QAAQ,CACd,CAAC;YAEF,IAAI,CAAC,qCAAqC,CACxC,IAAI,CAAC,MAAM,EACX,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,EAC5B,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,EACvB,mBAAmB,CACpB,CAAC;YAEF,IAAI,OAAO,CAAC,YAAY,IAAI,OAAO,CAAC,YAAY,CAAC,aAAa,EAAE;gBAC9D,IAAI,CAAC,oBAAoB,GAAG,OAAO,CAAC,YAAY,CAAC,YAAY,CAAC;aAC/D;YAED,+BAA+B;YAC/B,IAAI,IAAI,CAAC,oBAAoB,IAAI,GAAG,EAAE;gBACpC,IAAI,CAAC,2BAA2B,EAAE,CAAC;gBACnC,IAAI,CAAC,qBAAqB,GAAG,OAAO,CAAC;gBACrC,IAAI,CAAC,kBAAkB,GAAG,kBAAkB,CAAC;aAC9C;SACF;QAED,IACE,OAAO,CAAC,mBAAmB;YAC3B,OAAO,CAAC,mBAAmB,CAAC,YAAY,EACxC;YACA,IAAI,CAAC,wBAAwB,CAC3B,IAAI,EACJ,QAAQ,EACR,OAAO,CAAC,mBAAmB,CAAC,YAAY,CACzC,CAAC;SACH;IACH,CAAC;IAED,iCAAiC;IACjC,yBAAyB,CACvB,iBAAsB,EACtB,aAAkB,EAClB,gBAAqB;QAErB,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACrC,IAAI,gBAAgB,EAAE;YACpB,IAAI,CAAC,0BAA0B,CAAC,iBAAiB,EAAE,aAAa,CAAC,CAAC;SACnE;aAAM;YACL,2BAA2B;YAC3B,IAAI,CAAC,mBAAmB,CAAC,iBAAiB,EAAE,aAAa,CAAC,CAAC;SAC5D;IACH,CAAC;IAED,6BAA6B;IAC7B,qBAAqB,CAAC,aAAkB;QACtC,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QACjD,IAAI,CAAC,gCAAgC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAEjD,IAAI,CAAC,8BAA8B,GAAG,IAAI,CAAC;QAC3C,IAAI,CAAC,+BAA+B,EAAE,CAAC;QAEvC,kBAAkB;QAClB,IAAI,CAAC,WAAW;aACb,iBAAiB,EAAE;aACnB,IAAI,CAAC,oDAAI,CAAC,CAAC,CAAC,CAAC;aACb,SAAS,CAAC,CAAC,WAAW,EAAE,EAAE;YACzB,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,WAAW,CAAC,CAAC;YACrC,WAAW,CAAC,IAAI,CAAC;gBACf,KAAK,EAAE,mBAAmB;gBAC1B,UAAU,EAAE,EAAE;aACf,CAAC,CAAC;YACH,IAAI,CAAC,WAAW,CAAC,kCAAkC,CAAC,WAAW,CAAC,CAAC;QACnE,CAAC,CAAC,CAAC;IACP,CAAC;IACD,2BAA2B;IAE3B,mBAAmB,CAAC,OAAY,EAAE,aAAkB;QAClD,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QACjD,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAEtC,IAAI,CAAC,8BAA8B,GAAG,IAAI,CAAC;QAC3C,IAAI,CAAC,+BAA+B,EAAE,CAAC;QAEvC,kBAAkB;QAClB,IAAI,CAAC,WAAW;aACb,iBAAiB,EAAE;aACnB,IAAI,CAAC,oDAAI,CAAC,CAAC,CAAC,CAAC;aACb,SAAS,CAAC,CAAC,WAAW,EAAE,EAAE;YACzB,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,WAAW,CAAC,CAAC;YACrC,WAAW,CAAC,IAAI,CAAC;gBACf,KAAK,EAAE,oBAAoB;gBAC3B,UAAU,EAAE,EAAE;aACf,CAAC,CAAC;YACH,IAAI,CAAC,WAAW,CAAC,kCAAkC,CAAC,WAAW,CAAC,CAAC;QACnE,CAAC,CAAC,CAAC;IACP,CAAC;IAED,4CAA4C;IAC5C,0BAA0B,CAAC,QAAa,EAAE,aAAkB;QAC1D,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;QACvB,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QACjD,IAAI,CAAC,gCAAgC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAErD,IAAI,CAAC,8BAA8B,GAAG,IAAI,CAAC;QAC3C,IAAI,CAAC,+BAA+B,EAAE,CAAC;QAEvC,kBAAkB;QAClB,IAAI,CAAC,WAAW;aACb,iBAAiB,EAAE;aACnB,IAAI,CAAC,oDAAI,CAAC,CAAC,CAAC,CAAC;aACb,SAAS,CAAC,CAAC,WAAW,EAAE,EAAE;YACzB,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,WAAW,CAAC,CAAC;YACrC,WAAW,CAAC,IAAI,CAAC;gBACf,KAAK,EAAE,+BAA+B;gBACtC,UAAU,EAAE,EAAE;aACf,CAAC,CAAC;YACH,IAAI,CAAC,WAAW,CAAC,kCAAkC,CAAC,WAAW,CAAC,CAAC;QACnE,CAAC,CAAC,CAAC;IACP,CAAC;IACD,0CAA0C;IAE1C,iBAAiB;QACf,IAAI,CAAC,kCAAkC,CAAC,cAAc,CAAC;YACrD,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;QACjC,IAAI,CAAC,8BAA8B,GAAG,IAAI,CAAC;QAC3C,IAAI,CAAC,+BAA+B,EAAE,CAAC;QACvC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,kCAAkC,CAAC,CAAC;IACvD,CAAC;IAED,WAAW,CAAC,cAAmB;QAC7B,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,cAAc,CAAC,CAAC;QAC1C,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAE,IAAI,CAAC,8BAA8B,CAAC,CAAC;QACnE,IAAI,CAAC,+BAA+B,EAAE,CAAC;QAEvC,IAAI,QAAQ,GAAG,cAAc,EAAE,IAAI,EAAE,YAAY,CAAC;QAClD,IAAI,mBAAmB,GACrB,IAAI,CAAC,mBAAmB,CAAC,0BAA0B,CACjD,QAAQ,EACR,IAAI,CAAC,MAAM,EACX,IAAI,CAAC,QAAQ,CACd,CAAC;QAEJ,IAAI,4BAA4B,GAAG,EAAE,CAAC;QACtC,KAAK,MAAM,CAAC,QAAQ,EAAE,KAAK,CAAC,IAAI,MAAM,CAAC,OAAO,CAC5C,IAAI,CAAC,kCAAkC,CACxC,EAAE;YACD,4BAA4B,CAAC,IAAI,CAAC,GAAG,QAAQ,MAAM,KAAK,EAAE,CAAC,CAAC;SAC7D;QACD,IAAI,kBAAkB,GAAG,4BAA4B,CAAC,MAAM;YAC1D,CAAC,CAAC,4BAA4B,CAAC,IAAI,CAAC,GAAG,CAAC;YACxC,CAAC,CAAC,IAAI,CAAC;QAET,IAAI,kBAAkB,GACpB,IAAI,CAAC,mBAAmB,CAAC,4BAA4B,CAAC,kBAAkB,CAAC,CAAC;QAE5E,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,8CAAQ,CAAC,CAAC,mBAAmB,EAAE,kBAAkB,CAAC,CAAC,CAAC,SAAS,CAAC;YAC5D,IAAI,EAAE,CAAC,CAAC,eAAe,EAAE,cAAc,CAAC,EAAE,EAAE;gBAC1C,8BAA8B;gBAC9B,OAAO,CAAC,GAAG,CAAC,kCAAkC,EAAE,eAAe,CAAC,CAAC;gBACjE,IAAI,eAAe,CAAC,QAAQ,CAAC,IAAI,KAAK,EAAE;oBACtC,OAAO,CAAC,GAAG,CACT,eAAe,EACf,eAAe,CAAC,MAAM,CAAC,CAAC,iBAAiB,CAAC,CAC3C,CAAC;oBACF,IAAI,CAAC,uBAAuB;wBAC1B,eAAe,CAAC,MAAM,CAAC,CAAC,iBAAiB,CAAC,CAAC;iBAC9C;gBACD,4BAA4B;gBAC5B,yDAAyD;gBACzD,OAAO,CAAC,GAAG,CAAC,iCAAiC,EAAE,cAAc,CAAC,CAAC;gBAC/D,IAAI,cAAc,CAAC,qBAAqB,CAAC,EAAE;oBACzC,OAAO,CAAC,GAAG,CAAC,aAAa,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;oBACnD,OAAO,CAAC,GAAG,CACT,uBAAuB,EACvB,cAAc,CAAC,qBAAqB,CAAC,CACtC,CAAC;oBACF,IAAI,CAAC,4BAA4B;wBAC/B,cAAc,CAAC,qBAAqB,CAAC,CAAC;iBACzC;gBACD,uDAAuD;gBAEvD,IAAI,sBAAsB,GAAG,IAAI,CAAC;gBAClC,IAAI,CAAC,4BAA4B;qBAC9B,MAAM,CAAC,CAAC,MAAM,EAAE,EAAE,CAAC,MAAM,CAAC,aAAa,CAAC,IAAI,MAAM,CAAC;qBACnD,OAAO,CAAC,CAAC,cAAc,EAAE,EAAE;oBAC1B,IACE,CAAC,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAChC,CAAC,OAAO,EAAE,EAAE,CACV,OAAO,CAAC,cAAc,CAAC,IAAI,cAAc,CAAC,UAAU,CAAC,CACxD,EACD;wBACA,sBAAsB,GAAG,KAAK,CAAC;qBAChC;gBACH,CAAC,CAAC,CAAC;gBAEL,cAAc,CAAC,MAAM,CAAC,CAAC,wBAAwB,CAAC;oBAC9C,sBAAsB,CAAC;gBAEzB,IAAI,CAAC,2BAA2B,GAAG,sBAAsB,CAAC;gBAE1D,OAAO,CAAC,GAAG,CAAC,yBAAyB,EAAE,sBAAsB,CAAC,CAAC;YACjE,CAAC;YACD,QAAQ,EAAE,GAAG,EAAE;gBACb,OAAO,CAAC,GAAG,CAAC,4BAA4B,CAAC,CAAC;gBAE1C,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACzC,CAAC;YACD,KAAK,EAAE,CAAC,KAAK,EAAE,EAAE;gBACf,IAAI,KAAK,CAAC,MAAM,EAAE;oBAChB,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,KAAK,EAAE,EAAE;wBAClC,OAAO,CAAC,KAAK,CAAC,+BAA+B,KAAK,GAAG,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;oBAClE,CAAC,CAAC,CAAC;iBACJ;qBAAM;oBACL,OAAO,CAAC,KAAK,CAAC,yBAAyB,EAAE,KAAK,CAAC,CAAC;iBACjD;YACH,CAAC;SACF,CAAC,CAAC;IACL,CAAC;IACD,aAAa,CAAC,cAAmB;QAC/B,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,cAAc,CAAC,CAAC;IAC9C,CAAC;IAED,+BAA+B;QAC7B,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,QAAQ,EAAE,EAAE;YACrC,QAAQ,CAAC,wBAAwB,CAAC,GAAG,IAAI,CAAC;QAC5C,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,2BAA2B,GAAG,IAAI,CAAC;IAC1C,CAAC;IAED,wBAAwB,CAAC,IAAS,EAAE,SAAc,MAAM,EAAE,SAAe;QACvE,IACE,IAAI,CAAC,0BAA0B,CAAC,IAAI,CAClC,CAAC,MAAM,EAAE,EAAE,CAAC,MAAM,CAAC,mBAAmB,CAAC,IAAI,SAAS,CACrD,EACD;YACA,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,uDAAuD,CACxD,CAAC;YACF,OAAO;SACR;aAAM;YACL,IAAI,wBAAwB,GAAG;gBAC7B,gBAAgB,EAAE,KAAK;aACxB,CAAC;YACF,IAAI,MAAM,IAAI,MAAM,EAAE;gBACpB,wBAAwB,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;gBACvE,wBAAwB,CAAC,mBAAmB,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC;gBACrE,wBAAwB,CAAC,UAAU,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC;gBACxD,wBAAwB,CAAC,cAAc,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC;gBAChE,wBAAwB,CAAC,QAAQ,CAAC,GAAG,GAAG,CAAC;gBAEzC,wBAAwB,CAAC,kBAAkB,CAAC,GAAG,IAAI,CAAC;gBAEpD,IAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,wBAAwB,CAAC,CAAC;gBAC/D,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,iDAAiD,CAClD,CAAC;aACH;iBAAM,IAAI,MAAM,IAAI,QAAQ,EAAE;gBAC7B,IAAI,YAAY,GAAG,IAAI,CAAC;gBACxB,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;gBACxC,IAAI,CAAC,mBAAmB;oBACtB,qDAAqD;qBACpD,0BAA0B,CAAC,SAAS,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC;qBACjE,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;oBACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;oBACvC,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,EAAE;wBAC1B,YAAY,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC;wBAC3B,OAAO,CAAC,GAAG,CAAC,0BAA0B,EAAE,YAAY,CAAC,CAAC;wBACtD,wBAAwB,CAAC,WAAW,CAAC;4BACnC,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;wBACjC,wBAAwB,CAAC,mBAAmB,CAAC;4BAC3C,YAAY,CAAC,IAAI,CAAC,CAAC;wBACrB,wBAAwB,CAAC,UAAU,CAAC,GAAG,YAAY,CAAC,UAAU,CAAC,CAAC;wBAChE,wBAAwB,CAAC,cAAc,CAAC;4BACtC,YAAY,CAAC,qBAAqB,CAAC,CAAC;wBACtC,wBAAwB,CAAC,QAAQ,CAAC,GAAG,GAAG,CAAC;wBAEzC,wBAAwB,CAAC,kBAAkB,CAAC,GAAG,KAAK,CAAC;wBAErD,IAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,wBAAwB,CAAC,CAAC;wBAC/D,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,iDAAiD,CAClD,CAAC;qBACH;gBACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;oBACN,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,uDAAuD,CACxD,CAAC;oBACF,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACzC,CAAC,CACF,CAAC;aACL;SACF;QAED,OAAO,CAAC,GAAG,CAAC,6BAA6B,EAAE,IAAI,CAAC,0BAA0B,CAAC,CAAC;QAE5E,IAAI,sBAAsB,GAAG,IAAI,QAAQ,EAAE,CAAC;QAE5C,IAAI,CAAC,0BAA0B,CAAC,OAAO,CAAC,CAAC,cAAc,EAAE,CAAC,EAAE,EAAE;YAC5D,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,OAAO,CAAC,CAAC,cAAc,EAAE,EAAE;gBACrD,sBAAsB,CAAC,MAAM,CAC3B,kBAAkB,CAAC,KAAK,cAAc,EAAE,EACxC,cAAc,CAAC,cAAc,CAAC,CAC/B,CAAC;YACJ,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;QAEH,KAAK,IAAI,IAAI,IAAI,sBAAsB,CAAC,OAAO,EAAE,EAAE;YACjD,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;SACvC;IACH,CAAC;IAED,4BAA4B,CAAC,IAAS;QACpC,IAAI,IAAI,CAAC,UAAU,CAAC,sBAAsB,CAAC,EAAE;YAC3C,OAAO,IAAI,CAAC,UAAU,CAAC,sBAAsB,CAAC,CAAC,MAAM,CACnD,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,IAAI,IAAI,IAAI,CAC9B,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC;SAClB;aAAM;YACL,OAAO,EAAE,CAAC;SACX;IACH,CAAC;IAED,0BAA0B,CAAC,aAAkB;QAC3C,OAAO,CAAC,GAAG,CAAC,eAAe,EAAE,aAAa,CAAC,CAAC;QAC5C,IAAI,cAAc,GAAG,GAAG,CAAC;QACzB,IAAI,aAAa,IAAI,GAAG,EAAE;YACxB,cAAc,GAAG,GAAG,CAAC;SACtB;QAED,qCAAqC;QACrC,6BAA6B;QAC7B,0BAA0B;QAC1B,MAAM;IACR,CAAC;IAED,gBAAgB;IAChB,8BAA8B;IAC9B,oCAAoC;IACpC,IAAI;IAEJ,eAAe;IACf,6BAA6B;IAC7B,iCAAiC;IACjC,IAAI;IAEJ,mCAAmC;IACnC,aAAa,CAAC,CAAM;QAClB,yBAAyB;QACzB,IAAI,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,iBAAiB,CAAC,KAAK,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE;YAChE,OAAO,KAAK,CAAC;SACd;QAED,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;YACtB,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC5D,OAAO,CAAC,GAAG,CACT,+BAA+B,EAC/B,CAAC,EACD,IAAI,CAAC,QAAQ,EACb,IAAI,CAAC,UAAU,CAChB,CAAC;YACF,IAAI,kBAAkB,GAAG,IAAI,CAAC,WAAW,CAAC;YAC1C,IAAI,CAAC,CAAC,IAAI,EAAE;gBACV,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,IAAI,CAAC;aACxB;YACD,IAAI,CAAC,CAAC,SAAS,EAAE;gBACf,IAAI,CAAC,CAAC,SAAS,IAAI,CAAC,EAAE;oBACpB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;iBACvB;qBAAM;oBACL,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;iBACtB;gBACD,QAAQ,CAAC,CAAC,SAAS,EAAE;oBACnB,KAAK,cAAc;wBACjB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;wBACnB,MAAM;oBACR,KAAK,UAAU;wBACb,IAAI,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,YAAY,IAAI,WAAW,EAAE;4BACzD,IAAI,CAAC,MAAM,GAAG,oBAAoB,CAAC;yBACpC;6BAAM;4BACL,IAAI,CAAC,MAAM,GAAG,UAAU,CAAC;yBAC1B;wBACD,MAAM;oBACR,KAAK,aAAa;wBAChB,IAAI,CAAC,MAAM,GAAG,4BAA4B,CAAC;wBAC3C,MAAM;oBACR,KAAK,cAAc;wBACjB,IAAI,CAAC,MAAM,GAAG,qBAAqB,CAAC;wBACpC,MAAM;oBACR,KAAK,QAAQ;wBACX,IAAI,CAAC,MAAM,GAAG,cAAc,CAAC;wBAC7B,MAAM;oBACR,KAAK,UAAU;wBACb,IAAI,CAAC,MAAM,GAAG,UAAU,CAAC;wBACzB,MAAM;oBACR,KAAK,kBAAkB;wBACrB,IAAI,CAAC,MAAM,GAAG,kBAAkB,CAAC;wBACjC,MAAM;oBACR,KAAK,QAAQ;wBACX,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC;wBACvB,MAAM;oBAER;wBACE,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;wBACnB,MAAM;iBACT;aACF;iBAAM;gBACL,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;gBACnB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;aACvB;YACD,IAAI,CAAC,CAAC,OAAO,IAAI,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE;gBAClD,IAAI,YAAY,GAAG,EAAE,CAAC;gBACtB,KAAK,MAAM,IAAI,IAAI,CAAC,CAAC,OAAO,EAAE;oBAC5B,QAAQ,IAAI,EAAE;wBACZ,KAAK,cAAc;4BACjB,YAAY,GAAG,QAAQ,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC;4BAClD,MAAM;wBACR,KAAK,UAAU;4BACb,IAAI,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,YAAY,IAAI,WAAW,EAAE;gCACzD,YAAY,GAAG,wBAAwB,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC;6BACnE;iCAAM;gCACL,YAAY,GAAG,cAAc,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC;6BACzD;4BACD,MAAM;wBACR,KAAK,aAAa;4BAChB,YAAY,GAAG,gCAAgC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC;4BAC1E,MAAM;wBACR,KAAK,cAAc;4BACjB,YAAY,GAAG,yBAAyB,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC;4BACnE,MAAM;wBACR,KAAK,QAAQ;4BACX,YAAY,GAAG,kBAAkB,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC;4BAC5D,MAAM;wBACR,KAAK,UAAU;4BACb,YAAY,GAAG,cAAc,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC;4BACxD,MAAM;wBACR,KAAK,kBAAkB;4BACrB,YAAY,GAAG,sBAAsB,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC;4BAChE,MAAM;wBAER;4BACE,YAAY,GAAG,EAAE,CAAC;4BAClB,MAAM;qBACT;oBACD,IAAI,kBAAkB,EAAE,MAAM,IAAI,kBAAkB,IAAI,IAAI,EAAE;wBAC5D,IAAI,YAAY,EAAE,MAAM,EAAE;4BACxB,kBAAkB,IAAI,IAAI,YAAY,EAAE,CAAC;yBAC1C;qBACF;yBAAM;wBACL,kBAAkB,GAAG,YAAY,CAAC;qBACnC;iBACF;gBACD,OAAO,CAAC,GAAG,CAAC,oBAAoB,EAAE,kBAAkB,CAAC,CAAC;gBACtD,IAAI,CAAC,mBAAmB,CAAC,kBAAkB,CAAC,CAAC;aAC9C;iBAAM;gBACL,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;aAC5C;SACF;QACD,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QACnB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;QACtB,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;QAE1B,IAAI,CAAC,iBAAiB,GAAG,+DAAY,CAAC,CAAC,CAAC,CAAC;IAC3C,CAAC;IAED,2BAA2B;QACzB,2CAA2C;QAC3C,IAAI,CAAC,mBAAmB;aACrB,wBAAwB,CACvB,IAAI,CAAC,MAAM,EACX,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,EAC5B,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,EACvB,kBAAkB,CACnB;aACA,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,0CAA0C;YAC1C,IAAI,CAAC,qBAAqB,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC;YACzC,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,qBAAqB,CAAC,GAAG,CACzD,CAAC,IAAI,EAAE,EAAE;gBACP,OAAO;oBACL,IAAI,EAAE,IAAI,CAAC,WAAW;oBACtB,IAAI,EAAE,IAAI,CAAC,SAAS;iBACrB,CAAC;YACJ,CAAC,CACF,CAAC;YACF,IAAI,CAAC,qBAAqB,CAAC,OAAO,CAChC,GAAG,CAAC,EAAE,IAAI,EAAE,eAAe,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAC3C,CAAC;QACJ,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,0CAA0C;YAC1C,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,uBAAuB,CAAC,CAAC;QAC7D,CAAC,CACF,CAAC;IACN,CAAC;IACD,gBAAgB,CAAC,KAAU;QACzB,IAAI,CAAC,QAAQ,GAAG,kBAAkB,CAAC;QACnC,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;QAC3B,IAAI,KAAK,IAAI,WAAW,EAAE;YACxB,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;YACpC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE,EAAE;gBAC9B,IAAI,MAAM,CAAC,KAAK,KAAK,UAAU,EAAE;oBAC/B,MAAM,CAAC,MAAM,GAAG,gBAAgB,CAAC;iBAClC;YACH,CAAC,CAAC,CAAC;SACJ;aAAM;YACL,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE,EAAE;gBAC9B,IAAI,MAAM,CAAC,KAAK,KAAK,UAAU,EAAE;oBAC/B,MAAM,CAAC,MAAM,GAAG,oBAAoB,CAAC;iBACtC;YACH,CAAC,CAAC,CAAC;SACJ;QACD,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;QAClB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;QACzB,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;QACjC,IAAI,CAAC,kBAAkB,GAAG,kBAAkB,CAAC;QAC7C,IAAI,CAAC,qBAAqB,GAAG,OAAO,CAAC;QACrC,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;QAC5B,IAAI,CAAC,2BAA2B,EAAE,CAAC;QACnC,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACvB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QACzB,8CAA8C;QAC9C,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;QAC9B,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC;IAC7B,CAAC;IAED,gBAAgB,CAAC,KAAU;QACzB,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;QAChC,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;QACjC,IAAI,CAAC,kBAAkB,GAAG,GACxB,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,EAAE;YACxC,OAAO,GAAG,CAAC,IAAI,IAAI,KAAK,CAAC;QAC3B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CACd,KAAK,CAAC;QACN,IAAI,CAAC,qBAAqB,GAAG,GAC3B,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,EAAE;YACxC,OAAO,GAAG,CAAC,IAAI,IAAI,KAAK,CAAC;QAC3B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CACd,KAAK,CAAC;QACN,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,EAAE;YAC5D,OAAO,GAAG,CAAC,SAAS,IAAI,KAAK,CAAC;QAChC,CAAC,CAAC,CAAC,CAAC,CAAC;YACH,CAAC,CAAC,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,EAAE;gBACxC,OAAO,GAAG,CAAC,SAAS,IAAI,KAAK,CAAC;YAChC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,YAAY;YACpB,CAAC,CAAC,MAAM,CAAC;QACX,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,IAAI,CAAC,YAAY,IAAI,KAAK,EAAE;gBAC9B,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;aAC3C;QACH,CAAC,EAAE,IAAI,CAAC,CAAC;IACX,CAAC;IACD,gBAAgB,CAAC,CAAM,EAAE,QAAa;QACpC,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACjC,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpC,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;QACjC,IAAI,CAAC,WAAW;YACd,IAAI,CAAC,iBAAiB,CAAC,MAAM,GAAG,CAAC;gBAC/B,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,GAAG,CAAC;gBAClC,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,MAAM,IAAI,CAAC;oBACpC,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC;oBAC3B,CAAC,CAAC,IAAI,CAAC;QACX,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QACzB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACvB,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;QAC7B,IAAI,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE;YAC9B,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;SAC5C;aAAM,IAAI,IAAI,CAAC,YAAY,IAAI,KAAK,EAAE;YACrC,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;SAC/B;IACH,CAAC;IACD,iBAAiB,CAAC,IAAS;QACzB,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,IAAI,CAAC,qBAAqB,CAAC,CAAC;QACtD,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;QAC9C,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QAC/C,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,IAAI,CAAC,oBAAoB,CAAC,CAAC;QACvD,IACE,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,EAAE;YACpC,OAAO,CACL,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,qBAAqB,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAClE,CAAC;QACJ,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,EACb;YACA,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,0DAA0D,CAC3D,CAAC;SACH;aAAM;YACL,IAAI,IAAI,CAAC,YAAY,IAAI,KAAK,EAAE;gBAC9B,IAAI,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,eAAe,CAAC,MAAM,GAAG,CAAC,EAAE;oBAC3D,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;oBAC/C,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC;oBACxD,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;oBACpD,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,+BAA+B,CAAC,CAAC;oBACnE,OAAO;iBACR;aACF;iBAAM,IACL,CAAC,OAAO,IAAI,CAAC,oBAAoB,IAAI,QAAQ;gBAC3C,IAAI,CAAC,oBAAoB,EAAE,IAAI,EAAE,CAAC,MAAM,CAAC;gBAC3C,IAAI,CAAC,oBAAoB,EACzB;gBACA,IAAI,IAAI,CAAC,YAAY,IAAI,MAAM,EAAE;oBAC/B,IAAI,YAAY,GAAG,IAAI,IAAI,CACzB,IAAI,CAAC,oBAAoB,CAC1B,CAAC,kBAAkB,CAAC,OAAO,CAAC,CAAC;oBAC9B,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,YAAY,CAAC,CAAC;oBAC1C,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,kBAAkB,GAAG,YAAY,CAAC;oBAC9D,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;oBAE/C,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,qBAAqB,GAAG,YAAY,CAAC;oBACpE,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;oBACrD,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;iBACrD;qBAAM;oBACL,IAAI,CAAC,eAAe;wBAClB,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,oBAAoB,CAAC;oBACtD,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;oBAE/C,IAAI,CAAC,kBAAkB;wBACrB,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,oBAAoB,CAAC;oBACzD,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;oBACrD,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;iBACrD;aACF;YACD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;YACzB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;YACvB,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;YAC3C,IAAI,CAAC,CAAC,IAAI,CAAC,YAAY,IAAI,KAAK,CAAC,EAAE;gBACjC,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;aAClC;YACD,iCAAiC;YACjC,gDAAgD;YAChD,wCAAwC;SACzC;IACH,CAAC;IAED,mBAAmB,CAAC,WAAgB;QAClC,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,OAAwB,CAAC;QAE7B,OAAO,CAAC,GAAG,CACT,UAAU,EACV,IAAI,CAAC,MAAM,EACX,WAAW,EACX,GAAG,IAAI,CAAC,UAAU,EAAE,EACpB,GAAG,IAAI,CAAC,QAAQ,EAAE,EAClB,IAAI,CAAC,IAAI,EACT,IAAI,CAAC,MAAM,EACX,IAAI,CAAC,OAAO,CACb,CAAC;QACF,OAAO,GAAG,IAAI,CAAC,mBAAmB,CAAC,2BAA2B,CAC5D,IAAI,CAAC,MAAM,EACX,WAAW,EACX,GAAG,IAAI,CAAC,UAAU,EAAE,EACpB,GAAG,IAAI,CAAC,QAAQ,EAAE,EAClB,IAAI,CAAC,IAAI,EACT,IAAI,CAAC,MAAM,EACX,IAAI,CAAC,OAAO,CACb,CAAC;QAEF,OAAO,CAAC,SAAS,CACf,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,EAAE;gBAC1B,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;oBACvB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;oBAChD,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;iBACxB;qBAAM;oBACL,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,0BAA0B,CAAC,MAAM,EAAE;wBAChD,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;wBACvB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;qBAC7B;yBAAM;wBACL,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;qBACvB;oBACD,IAAI,CAAC,YAAY,GAAG,GAAG,CAAC,IAAI,EAAE,0BAA0B,CAAC;oBACzD,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC,IAAI,EAAE,UAAU,CAAC;oBACvC,IAAI,CAAC,YAAY,GAAG,GAAG,CAAC,IAAI,EAAE,UAAU,CAAC;oBACzC,6DAA6D;oBAC7D,wDAAwD;oBACxD,mDAAmD;oBACnD,MAAM;oBACN,wDAAwD;oBACxD,mDAAmD;oBACnD,MAAM;oBACN,sDAAsD;oBACtD,mDAAmD;oBACnD,MAAM;oBACN,wDAAwD;oBACxD,mDAAmD;oBACnD,MAAM;oBACN,4CAA4C;oBAC5C,mDAAmD;oBACnD,MAAM;oBACN,gDAAgD;oBAChD,mDAAmD;oBACnD,MAAM;iBACP;aACF;iBAAM;gBACL,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;aACxB;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,8DAA8D;YAC9D,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACzB,CAAC,CACF,CAAC;IACJ,CAAC;IAED,aAAa;QACX,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;QACzB,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;QACjC,IAAI,CAAC,kBAAkB,GAAG,kBAAkB,CAAC;QAC7C,IAAI,CAAC,qBAAqB,GAAG,OAAO,CAAC;QACrC,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;QAC5B,IAAI,CAAC,2BAA2B,EAAE,CAAC;QACnC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QACzB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACvB,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;QAC9B,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC;IAC7B,CAAC;IAED,aAAa,CAAC,CAAM;QAClB,IAAI,IAAI,CAAC,iBAAiB,IAAI,IAAI,CAAC,YAAY,EAAE;YAC/C,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;SAC3C;aAAM,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;YAC7B,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;SAClE;aAAM,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE;YAClC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,0BAA0B,CAAC,CAAC;SAC/D;IACH,CAAC;IAED,iCAAiC;IAEjC,+BAA+B;IAE/B,oCAAoC;IACpC,4BAA4B;IAC5B,4DAA4D;IAC5D,iBAAiB;IACjB,uCAAuC;IAEvC,mDAAmD;IACnD,uDAAuD;IACvD,qEAAqE;IACrE,mCAAmC;IACnC,kDAAkD;IAClD,UAAU;IAEV,4BAA4B;IAC5B,wCAAwC;IACxC,sDAAsD;IACtD,0BAA0B;IAC1B,8BAA8B;IAC9B,cAAc;IACd,UAAU;IAEV,8BAA8B;IAC9B,qEAAqE;IACrE,SAAS;IACT,iBAAiB;IACjB,oEAAoE;IACpE,QAAQ;IACR,OAAO;IACP,IAAI;IAEJ,gDAAgD;QAC9C,IAAI,CAAC,mBAAmB;aACrB,gDAAgD,EAAE;aAClD,SAAS,CACR,CAAC,SAAgB,EAAE,EAAE;YACnB,8BAA8B;YAC9B,OAAO,CAAC,GAAG,CAAC,sBAAsB,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;YAClD,OAAO,CAAC,GAAG,CAAC,sBAAsB,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;YAClD,IAAI,CAAC,UAAU,GAAG;gBAChB,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;gBACvB,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;aACxB,CAAC;YACF,0CAA0C;YAC1C,IAAI,IAAI,CAAC,UAAU,CAAC,sBAAsB,CAAC,EAAE;gBAC3C,IAAI,CAAC,UAAU,CAAC,sBAAsB,CAAC,GAAG,IAAI,CAAC,UAAU,CACvD,sBAAsB,CACvB,CAAC,MAAM,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,IAAI,IAAI,GAAG,CAAC,CAAC;aACxC;YAED,mBAAmB;YACnB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,EAAE,EAAE;gBAC5B,IAAI,CAAC,UAAU,CAAC,oBAAoB,CAAC,IAAI,CAAC;oBACxC,IAAI,EAAE,GAAG,CAAC,EAAE;oBACZ,QAAQ,EAAE,GAAG,CAAC,EAAE;iBACjB,CAAC,CAAC;aACJ;YAED,qBAAqB;YACrB,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,CAAC;QAC9D,CAAC,EACD,CAAC,KAAK,EAAE,EAAE;YACR,wCAAwC;YACxC,OAAO,CAAC,KAAK,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;YAC/B,0EAA0E;QAC5E,CAAC,CACF,CAAC;IACN,CAAC;IACD,kCAAkC;IAElC,wDAAwD;IACxD,gBAAgB,CAAC,QAAkB;QACjC,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,QAAQ,CAAC,mBAAmB,CAAC,aAAa,EAAE;gBAC9C,QAAQ,CAAC,mBAAmB,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;aACpD;QACH,CAAC,EAAE,CAAC,CAAC,CAAC;IACR,CAAC;IAED,YAAY,CAAC,SAAiB;QAC5B,IACE,SAAS,IAAI,cAAc;YAC3B,SAAS,IAAI,gBAAgB;YAC7B,SAAS,IAAI,mBAAmB;YAChC,SAAS,IAAI,4BAA4B;YACzC,SAAS,IAAI,8BAA8B;YAC3C,SAAS,IAAI,6CAA6C,EAC1D;YACA,OAAO,IAAI,IAAI,CAAC,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC;SAC7D;aAAM;YACL,OAAO,IAAI,CAAC,QAAQ,CAAC;SACtB;IACH,CAAC;IACD,YAAY,CAAC,SAAiB;QAC5B,IACE,SAAS,IAAI,aAAa;YAC1B,SAAS,IAAI,qBAAqB;YAClC,SAAS,IAAI,2BAA2B,EACxC;YACA,OAAO,IAAI,IAAI,CAAC,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC;SAC7D;aAAM,IACL,SAAS,IAAI,aAAa;YAC1B,SAAS,IAAI,2BAA2B;YACxC,SAAS,IAAI,4BAA4B,EACzC;YACA,OAAO,IAAI,CAAC,UAAU,CAAC;SACxB;aAAM;YACL,OAAO,IAAI,CAAC,UAAU,CAAC;SACxB;IACH,CAAC;IACD,YAAY,CAAC,SAAiB;QAC5B,IACE,SAAS,IAAI,aAAa;YAC1B,SAAS,IAAI,2BAA2B;YACxC,SAAS,IAAI,4BAA4B,EACzC;YACA,OAAO,IAAI,CAAC,UAAU,CAAC;SACxB;aAAM;YACL,OAAO,IAAI,IAAI,EAAE,CAAC;SACnB;IACH,CAAC;IAED,oBAAoB,CAAC,CAAM,EAAE,SAAc;QACzC,IAAI,SAAS,CAAC,WAAW,IAAI,SAAS,CAAC,WAAW,CAAC,MAAM,IAAI,CAAC,EAAE;YAC9D,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,CAAC,MAAM,EAAE;gBACZ,KAAK,GAAG,KAAK,CAAC;aACf;YACD,SAAS,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;gBACpC,2BAA2B;gBAC3B,IAAI,GAAG,IAAI,CAAC,EAAE;oBACZ,KAAK,GAAG,IAAI,CAAC;iBACd;YACH,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,KAAK,EAAE;gBACV,IAAI,QAAQ,GAAG,IAAI,CAAC,YAAY;qBAC7B,GAAG,CAAC,SAAS,CAAC,QAAQ,CAAC;oBACxB,EAAE,GAAG,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;gBACxB,IAAI,QAAQ,EAAE;oBACZ,QAAQ,CAAC,SAAS,CAAC;wBACjB,YAAY,EAAE,IAAI;qBACnB,CAAC,CAAC;iBACJ;aACF;SACF;IACH,CAAC;IACD,oBAAoB,CAAC,CAAM,EAAE,SAAc;QACzC,IAAI,SAAS,CAAC,WAAW,IAAI,SAAS,CAAC,WAAW,CAAC,MAAM,EAAE;YACzD,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,EAAE;gBACL,KAAK,GAAG,KAAK,CAAC;gBACd,SAAS,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;oBACpC,2BAA2B;oBAC3B,IAAI,GAAG,IAAI,CAAC,CAAC,kBAAkB,CAAC,OAAO,CAAC,EAAE;wBACxC,KAAK,GAAG,IAAI,CAAC;qBACd;gBACH,CAAC,CAAC,CAAC;aACJ;YACD,IAAI,CAAC,KAAK,EAAE;gBACV,IAAI,QAAQ,GAAG,IAAI,CAAC,YAAY;qBAC7B,GAAG,CAAC,SAAS,CAAC,QAAQ,CAAC;oBACxB,EAAE,GAAG,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;gBACxB,IAAI,QAAQ,EAAE;oBACZ,QAAQ,CAAC,SAAS,CAAC;wBACjB,YAAY,EAAE,IAAI;qBACnB,CAAC,CAAC;iBACJ;aACF;SACF;IACH,CAAC;IAED,mBAAmB;QACjB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,WAAW,EAAE,EAAE;YAC9D,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,OAAO,EAAE,CAAC;QAC/C,CAAC,CAAC,CAAC;IACL,CAAC;IACD,kBAAkB;QAChB,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;QAC9C,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,WAAW,EAAE,EAAE;YAC9D,OAAO,CAAC,GAAG,CAAC,SAAS,EAAE,WAAW,CAAC,CAAC;YACpC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,MAAM,EAAE,CAAC;QAC9C,CAAC,CAAC,CAAC;QACH,IAAI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,MAAM,EAAE;YAC3C,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;gBACnD,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;gBACrB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,CAAC;gBAC1C,OAAO,CAAC,GAAG,CACT,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,CACjE,CAAC;gBACF,IAAI,CAAC,YAAY;qBACd,GAAG,CAAC,OAAO,CAAC;qBACZ,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;qBACjC,OAAO,EAAE,CAAC;YACf,CAAC,CAAC,CAAC;SACJ;IACH,CAAC;IAED,gBAAgB,CAAC,OAAY;QAC3B,IAAI,OAAO,GAAG,KAAK,CAAC;QACpB,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;YAC/B,IAAI,KAAK,CAAC,OAAO,EAAE;gBACjB,OAAO,GAAG,IAAI,CAAC;aAChB;QACH,CAAC,CAAC,CAAC;QACH,OAAO,OAAO,CAAC;IACjB,CAAC;IAED,WAAW,CAAC,KAAU,EAAE,SAAc;QACpC,IAAI,SAAS,IAAI,6BAA6B,EAAE;YAC9C,IAAI,OAAO,CAAC;YACZ,IAAI,KAAK,CAAC,OAAO,EAAE;gBACjB,OAAO,GAAG;oBACR,gBAAgB,EAAE,IAAI,CAAC,YAAY;yBAChC,GAAG,CAAC,iBAAiB,CAAC;wBACvB,EAAE,GAAG,CAAC,gBAAgB,CAAC,EAAE,KAAK;oBAChC,4BAA4B,EAAE,IAAI,CAAC,YAAY;yBAC5C,GAAG,CAAC,iBAAiB,CAAC;wBACvB,EAAE,GAAG,CAAC,4BAA4B,CAAC,EAAE,KAAK;oBAC5C,oBAAoB,EAAE,IAAI,CAAC,YAAY;yBACpC,GAAG,CAAC,iBAAiB,CAAC;wBACvB,EAAE,GAAG,CAAC,oBAAoB,CAAC,EAAE,KAAK;oBACpC,qBAAqB,EAAE,IAAI,CAAC,YAAY;yBACrC,GAAG,CAAC,iBAAiB,CAAC;wBACvB,EAAE,GAAG,CAAC,qBAAqB,CAAC,EAAE,KAAK;oBACrC,aAAa,EAAE,IAAI,CAAC,YAAY;yBAC7B,GAAG,CAAC,iBAAiB,CAAC;wBACvB,EAAE,GAAG,CAAC,aAAa,CAAC,EAAE,KAAK;oBAC7B,mBAAmB,EAAE,IAAI,CAAC,YAAY;yBACnC,GAAG,CAAC,iBAAiB,CAAC;wBACvB,EAAE,GAAG,CAAC,mBAAmB,CAAC,EAAE,KAAK;iBACpC,CAAC;aACH;iBAAM;gBACL,OAAO,GAAG;oBACR,gBAAgB,EAAE,EAAE;oBACpB,4BAA4B,EAAE,EAAE;oBAChC,oBAAoB,EAAE,EAAE;oBACxB,qBAAqB,EAAE,EAAE;oBACzB,aAAa,EAAE,EAAE;oBACjB,mBAAmB,EAAE,EAAE;iBACxB,CAAC;aACH;YAED,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;SAC9D;IACH,CAAC;IACD,6CAA6C;IAE7C,uCAAuC;IACvC,wBAAwB,CACtB,MAAW,EACX,OAAY,EACZ,OAAY,EACZ,QAAa;QAEb,IAAI,CAAC,mBAAmB;aACrB,wBAAwB,CAAC,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,QAAQ,CAAC;aAC5D,SAAS,CAAC,CAAC,GAAG,EAAE,EAAE;YACjB,IAAI,GAAG,CAAC,qBAAqB,CAAC,EAAE;gBAC9B,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC;gBAC9D,IAAI,CAAC,wBAAwB,GAAG,+DAAY,CAC1C,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC,CAC1C,CAAC;gBAEF,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,wBAAwB,CAAC,CAAC;gBAE7D,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,qBAAqB,EAAE,IAAI,CAAC,CAAC;aACxD;QACH,CAAC,CAAC,CAAC;IACP,CAAC;IACD,qCAAqC,CACnC,MAAW,EACX,OAAY,EACZ,OAAY,EACZ,QAAa;QAEb,IAAI,CAAC,mBAAmB;aACrB,wBAAwB,CAAC,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,QAAQ,CAAC;aAC5D,SAAS,CAAC,CAAC,GAAG,EAAE,EAAE;YACjB,IAAI,GAAG,CAAC,qBAAqB,CAAC,EAAE;gBAC9B,OAAO,CAAC,GAAG,CAAC,aAAa,EAAE,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC;gBACtE,IAAI,CAAC,qCAAqC,GAAG,+DAAY,CACvD,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC,CAC1C,CAAC;gBAEF,IAAI,CAAC,qCAAqC,CACxC,IAAI,CAAC,qCAAqC,CAC3C,CAAC;gBAEF,IAAI,CAAC,qBAAqB,CACxB,IAAI,CAAC,kCAAkC,EACvC,IAAI,CACL,CAAC;aACH;QACH,CAAC,CAAC,CAAC;IACP,CAAC;IACD,wBAAwB,CAAC,mBAAwB;QAC/C,mBAAmB,CAAC,OAAO,CAAC,CAAC,QAAgB,EAAE,EAAE;YAC/C,IAAI,QAAQ,IAAI,gBAAgB,EAAE;gBAChC,IAAI,CAAC,qBAAqB,CAAC,gBAAgB,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC;aACpE;iBAAM,IAAI,QAAQ,IAAI,eAAe,EAAE;gBACtC,IAAI,CAAC,qBAAqB,CAAC,eAAe,CAAC;oBACzC,IAAI,CAAC,QAAQ,IAAI,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC;aAC1C;iBAAM;gBACL,IAAI,CAAC,qBAAqB,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC;aAC7C;YAED,OAAO,CAAC,GAAG,CAAC,yBAAyB,EAAE,IAAI,CAAC,oBAAoB,CAAC,CAAC;YAClE,OAAO,CAAC,GAAG,CAAC,qBAAqB,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;YAC1D,IAAI,IAAI,CAAC,oBAAoB,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE;gBAC9D,IAAI,CAAC,qBAAqB,CAAC,cAAc,CAAC,GAAG,IAAI,CAAC,oBAAoB,CAAC;aACxE;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IACD,qCAAqC,CAAC,mBAAwB;QAC5D,mBAAmB,CAAC,OAAO,CAAC,CAAC,QAAgB,EAAE,EAAE;YAC/C,IAAI,QAAQ,IAAI,SAAS,EAAE;gBACzB,IAAI,CAAC,kCAAkC,CAAC,SAAS,CAAC;oBAChD,IAAI,CAAC,cAAc,CAAC;aACvB;iBAAM,IAAI,QAAQ,IAAI,MAAM,EAAE;gBAC7B,IAAI,CAAC,kCAAkC,CAAC,MAAM,CAAC,GAAG,kBAAkB,CAAC;aACtE;iBAAM,IAAI,QAAQ,IAAI,eAAe,EAAE;gBACtC,IAAI,CAAC,kCAAkC,CAAC,eAAe,CAAC;oBACtD,IAAI,CAAC,QAAQ,IAAI,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC;aAC1C;iBAAM;gBACL,IAAI,CAAC,kCAAkC,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC;aAC1D;YAED,IAAI,IAAI,CAAC,oBAAoB,IAAI,GAAG,EAAE;gBACpC,IAAI,CAAC,kCAAkC,CAAC,cAAc,CAAC;oBACrD,IAAI,CAAC,oBAAoB,CAAC;aAC7B;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IACD,wBAAwB,CAAC,QAAQ,EAAE,KAAK,EAAE,SAAS;QACjD,IAAI,KAAK,EAAE;YACT,IAAI,SAAS,GAAG,KAAK,CAAC;YACtB,QAAQ,SAAS,EAAE;gBACjB,KAAK,gBAAgB;oBACnB,SAAS,GAAG,KAAK,CAAC,IAAI,CAAC;oBACvB,MAAM;gBACR,QAAQ;aACT;YACD,OAAO,CAAC,GAAG,CAAC,sBAAsB,EAAE,QAAQ,EAAE,SAAS,CAAC,CAAC;YACzD,IAAI,CAAC,qBAAqB,CAAC,QAAQ,CAAC,GAAG,SAAS,CAAC;YACjD,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC;SAClD;IACH,CAAC;IAED,qCAAqC,CAAC,QAAQ,EAAE,KAAK,EAAE,SAAS;QAC9D,IAAI,KAAK,EAAE;YACT,IAAI,SAAS,GAAG,KAAK,CAAC;YACtB,QAAQ,SAAS,EAAE;gBACjB,KAAK,gBAAgB;oBACnB,SAAS,GAAG,KAAK,CAAC,IAAI,CAAC;oBACvB,MAAM;gBACR,QAAQ;aACT;YACD,OAAO,CAAC,GAAG,CAAC,sBAAsB,EAAE,QAAQ,EAAE,SAAS,CAAC,CAAC;YACzD,IAAI,CAAC,kCAAkC,CAAC,QAAQ,CAAC,GAAG,SAAS,CAAC;YAC9D,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC;SACxD;IACH,CAAC;IACD,qCAAqC;IAErC,8DAA8D;IAC9D,eAAe,CAAC,qBAA0B,EAAE,OAAgB,KAAK;QAC/D,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC;QAExC,IAAI,4BAA4B,GAAG,EAAE,CAAC;QACtC,IAAI,CAAC,wBAAwB,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE,EAAE;YAC/C,4BAA4B,CAAC,IAAI,CAC/B,GAAG,MAAM,MAAM,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC,EAAE,CACpD,CAAC;QACJ,CAAC,CAAC,CAAC;QACH,2EAA2E;QAC3E,0CAA0C;QAC1C,iEAAiE;QACjE,IAAI;QAEJ,IAAI,kBAAkB,GAAG,4BAA4B,CAAC,MAAM;YAC1D,CAAC,CAAC,4BAA4B,CAAC,IAAI,CAAC,GAAG,CAAC;YACxC,CAAC,CAAC,IAAI,CAAC;QACT,gCAAgC;QAChC,IAAI,CAAC,mBAAmB;aACrB,6BAA6B,CAAC,kBAAkB,CAAC;aACjD,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;gBACd,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;gBAC9C,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;gBAClB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;aACxC;iBAAM;gBACL,IAAI,IAAI,EAAE;oBACR,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;oBACxB,IAAI,IAAI,CAAC,IAAI,IAAI,MAAM,EAAE;wBACvB,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;qBACzC;iBACF;qBAAM;oBACL,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;oBAC3B,IAAI,CAAC,qBAAqB,CAAC,GAAG,CAAC,CAAC;iBACjC;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,uDAAuD,CACxD,CAAC;YACF,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,CACF,CAAC;QACJ,IAAI;IACN,CAAC;IAED,aAAa,CAAC,IAAS;QACrB,iBAAiB;QAEjB,IAAI,CAAC,oBAAoB,GAAG,+DAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAErD,IAAI,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,KAAK,EAAE,EAAE;YACjD,MAAM,gBAAgB,GAAG,KAAK,CAAC,cAAc,CAAC;YAC9C,CAAC,GAAG,CAAC,gBAAgB,CAAC,GAAG,GAAG,CAAC,gBAAgB,CAAC,IAAI,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAClE,OAAO,GAAG,CAAC;QACb,CAAC,EAAE,EAAE,CAAC,CAAC;QACP,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,WAAW,CAAC,CAAC;QAChC,IAAI,OAAO,GAAG,EAAE,CAAC;QACjB,IAAI,CAAC,uBAAuB,GAAG,EAAE,CAAC;QAClC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;YACvC,IAAI,IAAI,GAAG;gBACT,QAAQ,EAAE,GAAG;gBACb,QAAQ,EAAE,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,qBAAqB,CAAC;gBACpD,MAAM,EAAE,WAAW,CAAC,GAAG,CAAC;qBACrB,GAAG,CAAC,CAAC,OAAO,EAAE,EAAE;oBACf,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC;oBACtD,IAAI,OAAO,CAAC,gBAAgB,CAAC,IAAI,KAAK,EAAE;wBACtC,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC;qBACpD;oBACD,oCAAoC;oBACpC,IACE,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC;wBACvD,OAAO,CAAC,SAAS,CAAC,IAAI,kBAAkB,EACxC;wBACA,IAAI,CAAC,iBAAiB;4BACpB,OAAO,CAAC,cAAc,CAAC,IAAI,OAAO,CAAC,cAAc,CAAC,IAAI,MAAM;gCAC1D,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;gCACrC,CAAC,CAAC,IAAI,CAAC;qBACZ;oBACD,mCAAmC;oBACnC,IAAI,KAAK,GAAG;wBACV,QAAQ,EAAE,GAAG;wBACb,mBAAmB,EAAE,OAAO,CAAC,qBAAqB,CAAC;wBACnD,IAAI,EAAE,OAAO,CAAC,SAAS,CAAC;wBACxB,sBAAsB,EAAE,CAAC,OAAO,CAAC,mBAAmB,CAAC;wBACrD,SAAS,EAAE,OAAO,CAAC,SAAS,CAAC;wBAC7B,SAAS,EAAE,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,MAAM;wBAC/D,YAAY,EAAE,OAAO,CAAC,cAAc,CAAC;4BACnC,CAAC,CAAC,OAAO,CAAC,cAAc,CAAC;4BACzB,CAAC,CAAC,EAAE;wBACN,UAAU,EAAE,OAAO,CAAC,kBAAkB,CAAC;wBACvC,QAAQ,EAAE,OAAO,CAAC,aAAa,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK;wBACzD,MAAM,EAAE,OAAO,CAAC,UAAU,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK;wBACpD,OAAO,EAAE,OAAO,CAAC,WAAW,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK;wBACtD,WAAW,EAAE,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,EAAE;wBACjE,YAAY,EACV,OAAO,CAAC,cAAc,CAAC,IAAI,OAAO,CAAC,cAAc,CAAC,IAAI,MAAM;4BAC1D,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;4BACrC,CAAC,CAAC,KAAK;wBACX,YAAY,EACV,OAAO,CAAC,kBAAkB,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK;wBACtD,MAAM,EAAE,OAAO,CAAC,QAAQ,CAAC;wBACzB,SAAS,EACP,OAAO,CAAC,WAAW,CAAC,EAAE,MAAM,GAAG,CAAC;4BAChC,OAAO,CAAC,WAAW,CAAC,IAAI,MAAM;4BAC5B,CAAC,CAAC,CAAC,OAAO,CAAC,WAAW,CAAC;4BACvB,CAAC,CAAC,KAAK;wBACX,SAAS,EACP,OAAO,CAAC,WAAW,CAAC,EAAE,MAAM,GAAG,CAAC;4BAChC,OAAO,CAAC,WAAW,CAAC,IAAI,MAAM;4BAC5B,CAAC,CAAC,CAAC,OAAO,CAAC,WAAW,CAAC;4BACvB,CAAC,CAAC,KAAK;wBACX,KAAK,EACH,OAAO,CAAC,OAAO,CAAC;4BAChB,OAAO,CAAC,OAAO,CAAC,IAAI,MAAM;4BAC1B,OAAO,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,CAAC,MAAM;4BAC5B,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC;4BAClB,CAAC,CAAC,KAAK;wBACX,QAAQ,EACN,OAAO,CAAC,cAAc,CAAC,IAAI,OAAO,CAAC,cAAc,CAAC,CAAC,IAAI,EAAE,CAAC,MAAM;4BAC9D,CAAC,CAAC,OAAO,CAAC,cAAc,CAAC;4BACzB,CAAC,CAAC,KAAK;wBACX,WAAW,EACT,OAAO,CAAC,aAAa,CAAC,IAAI,OAAO,CAAC,aAAa,CAAC,CAAC,MAAM;4BACrD,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;4BACpC,CAAC,CAAC,KAAK;wBACX,yBAAyB,EACvB,OAAO,CAAC,2BAA2B,CAAC;4BACpC,OAAO,CAAC,2BAA2B,CAAC,IAAI,KAAK;4BAC3C,CAAC,CAAC,OAAO,CAAC,2BAA2B,CAAC;4BACtC,CAAC,CAAC,KAAK;wBACX,MAAM,EACJ,OAAO,CAAC,QAAQ,CAAC,IAAI,OAAO,CAAC,QAAQ,CAAC,CAAC,IAAI,EAAE,CAAC,MAAM;4BAClD,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC;4BACnB,CAAC,CAAC,KAAK;wBACX,MAAM,EACJ,OAAO,CAAC,QAAQ,CAAC,IAAI,OAAO,CAAC,QAAQ,CAAC,CAAC,IAAI,EAAE,CAAC,MAAM;4BAClD,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC;4BACnB,CAAC,CAAC,KAAK;wBACX,UAAU,EACR,OAAO,CAAC,YAAY,CAAC,IAAI,OAAO,CAAC,YAAY,CAAC,CAAC,MAAM;4BACnD,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;4BACnC,CAAC,CAAC,KAAK;wBACX,OAAO,EACL,OAAO,CAAC,WAAW,CAAC,IAAI,MAAM;4BAC5B,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC;gCAClB,CAAC,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;gCAC9B,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;4BACzC,CAAC,CAAC,IAAI,CAAC,QAAQ;wBACnB,OAAO,EACL,OAAO,CAAC,WAAW,CAAC,IAAI,MAAM;4BAC5B,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC;gCAClB,CAAC,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;gCAC9B,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;4BACzC,CAAC,CAAC,IAAI,CAAC,UAAU;wBACrB,WAAW,EACT,OAAO,CAAC,WAAW,CAAC,IAAI,MAAM;4BAC5B,CAAC,CAAC,OAAO,CAAC,aAAa,CAAC;gCACtB,CAAC,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;gCAClC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;4BACzC,CAAC,CAAC,IAAI,IAAI,EAAE;wBAChB,gBAAgB,EACd,OAAO,CAAC,kBAAkB,CAAC;4BAC3B,OAAO,CAAC,kBAAkB,CAAC,CAAC,MAAM;4BAChC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,kBAAkB,CAAC,CAAC;4BACzC,CAAC,CAAC,KAAK;wBACX,kBAAkB,EAChB,OAAO,CAAC,oBAAoB,CAAC;4BAC7B,OAAO,CAAC,oBAAoB,CAAC,CAAC,MAAM;4BAClC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,oBAAoB,CAAC,CAAC;4BAC3C,CAAC,CAAC,KAAK;wBACX,KAAK,EAAE,OAAO,CAAC,OAAO,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK;wBAChD,OAAO,EAAE,OAAO,CAAC,SAAS,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK;qBACrD,CAAC;oBACF,OAAO,KAAK,CAAC;gBACf,CAAC,CAAC;qBACD,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,sBAAsB,GAAG,CAAC,CAAC,sBAAsB,CAAC;aACvE,CAAC;YACF,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACrB,CAAC,CAAC,CAAC;QACH,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;QAC/B,eAAe;QAEf,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;QAC/C,IAAI,CAAC,YAAY,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,QAAQ,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC;QACpE,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QAC/B,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;QACzB,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;YACpC,IAAI,iBAAiB,GAAG,KAAK,CAAC;YAC9B,MAAM,YAAY,GAAG,IAAI,4DAAgB,CAAC,EAAE,CAAC,CAAC;YAC9C,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;gBAC/B,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE;oBACjB,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC;iBACpD;gBACD,IAAI,KAAK,CAAC,OAAO,EAAE;oBACjB,iBAAiB,GAAG,IAAI,CAAC;iBAC1B;gBACD,IAAI,UAAU,GAAG,EAAE,CAAC;gBACpB,IAAI,KAAK,CAAC,SAAS,EAAE;oBACnB,UAAU,CAAC,IAAI,CAAC,gEAAoB,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC;iBACxD;gBACD,IAAI,KAAK,CAAC,SAAS,EAAE;oBACnB,UAAU,CAAC,IAAI,CAAC,gEAAoB,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC;iBACxD;gBACD,IAAI,KAAK,CAAC,QAAQ,EAAE;oBAClB,UAAU,CAAC,IAAI,CAAC,+DAAmB,CAAC,CAAC;iBACtC;gBACD,IAAI,KAAK,CAAC,KAAK,EAAE;oBACf,UAAU,CAAC,IAAI,CAAC,8DAAkB,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;iBAClD;gBACD,YAAY,CAAC,UAAU,CACrB,KAAK,CAAC,IAAI,EACV,IAAI,CAAC,WAAW,CAAC,OAAO,CACtB;oBACE,KAAK,EAAE,KAAK,CAAC,YAAY,CAAC,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,CAAC,EAAE;oBACnD,QAAQ,EAAE,CAAC,KAAK,CAAC,MAAM;iBACxB,EACD,UAAU,CACX,CACF,CAAC;YACJ,CAAC,CAAC,CAAC;YACH,OAAO,CAAC,WAAW,CAAC,GAAG,iBAAiB,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;YACxD,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,OAAO,CAAC,QAAQ,EAAE,YAAY,CAAC,CAAC;QAC/D,CAAC,CAAC,CAAC;QACH,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QAC/B,IAAI,CAAC,eAAe,GAAG,+DAAY,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QACvD,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QAEvC,EAAE;QACF,IAAI,IAAI,CAAC,wBAAwB,IAAI,IAAI,CAAC,wBAAwB,CAAC,MAAM,EAAE;YACzE,IAAI,CAAC,wBAAwB,CAAC,OAAO,CAAC,CAAC,QAAQ,EAAE,EAAE;gBACjD,IAAI,CAAC,CAAC,QAAQ,IAAI,gBAAgB,IAAI,QAAQ,IAAI,eAAe,CAAC,EAAE;oBAClE,IAAI,SAAS,GAAG,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAC9C,CAAC,SAAS,EAAE,EAAE,CAAC,SAAS,CAAC,OAAO,IAAI,QAAQ,CAC7C,CAAC,CAAC,CAAC,CAAC;oBACL,IAAI,SAAS,EAAE;wBACb,IAAI,YAAY,GAAG,SAAS,CAAC,cAAc,CAAC;wBAC5C,IAAI,SAAS,GAAG,SAAS,CAAC,SAAS,CAAC;wBACpC,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,YAAY,EAAE,QAAQ,EAAE,SAAS,CAAC,CAAC;wBAC/D,IAAI,CAAC,YAAY;6BACd,GAAG,CAAC,YAAY,CAAC;4BAClB,EAAE,GAAG,CAAC,QAAQ,CAAC;6BACd,YAAY,CAAC,SAAS,CAAC,CAAC,KAAK,EAAE,EAAE;4BAChC,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;4BACzB,IAAI,CAAC,wBAAwB,CAAC,QAAQ,EAAE,KAAK,EAAE,SAAS,CAAC,CAAC;wBAC5D,CAAC,CAAC,CAAC;qBACN;iBACF;YACH,CAAC,CAAC,CAAC;SACJ;QAED,gBAAgB;QAChB,IACE,IAAI,CAAC,qCAAqC;YAC1C,IAAI,CAAC,qCAAqC,CAAC,MAAM,EACjD;YACA,IAAI,CAAC,qCAAqC,CAAC,OAAO,CAAC,CAAC,QAAQ,EAAE,EAAE;gBAC9D,IACE,CAAC,CACC,QAAQ,IAAI,SAAS;oBACrB,QAAQ,IAAI,eAAe;oBAC3B,QAAQ,IAAI,MAAM,CACnB,EACD;oBACA,IAAI,SAAS,GAAG,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAC9C,CAAC,SAAS,EAAE,EAAE,CAAC,SAAS,CAAC,OAAO,IAAI,QAAQ,CAC7C,CAAC,CAAC,CAAC,CAAC;oBACL,IAAI,SAAS,EAAE;wBACb,IAAI,YAAY,GAAG,SAAS,CAAC,cAAc,CAAC;wBAC5C,IAAI,SAAS,GAAG,SAAS,CAAC,SAAS,CAAC;wBACpC,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,YAAY,EAAE,QAAQ,EAAE,SAAS,CAAC,CAAC;wBAC/D,IAAI,CAAC,YAAY;6BACd,GAAG,CAAC,YAAY,CAAC;4BAClB,EAAE,GAAG,CAAC,QAAQ,CAAC;6BACd,YAAY,CAAC,SAAS,CAAC,CAAC,KAAK,EAAE,EAAE;4BAChC,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;4BACzB,IAAI,CAAC,qCAAqC,CACxC,QAAQ,EACR,KAAK,EACL,SAAS,CACV,CAAC;wBACJ,CAAC,CAAC,CAAC;qBACN;iBACF;YACH,CAAC,CAAC,CAAC;SACJ;IACH,CAAC;IAED,qBAAqB,CAAC,aAAkB;QACtC,aAAa,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,SAAS,EAAE,EAAE;YACxC,IAAI,SAAS,CAAC,gBAAgB,CAAC,IAAI,KAAK,EAAE;gBACxC,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC;aACtD;YACD,oCAAoC;YACpC,IACE,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAC,QAAQ,CAChD,SAAS,CAAC,gBAAgB,CAAC,CAC5B;gBACD,SAAS,CAAC,SAAS,CAAC,IAAI,kBAAkB,EAC1C;gBACA,IAAI,CAAC,iBAAiB;oBACpB,SAAS,CAAC,cAAc,CAAC,IAAI,SAAS,CAAC,cAAc,CAAC,IAAI,MAAM;wBAC9D,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC;wBACvC,CAAC,CAAC,IAAI,CAAC;aACZ;YACD,mCAAmC;YACnC,IAAI,KAAK,GAAG;gBACV,QAAQ,EAAE,SAAS,CAAC,gBAAgB,CAAC;gBACrC,mBAAmB,EAAE,SAAS,CAAC,qBAAqB,CAAC;gBACrD,IAAI,EAAE,SAAS,CAAC,SAAS,CAAC;gBAC1B,sBAAsB,EAAE,CAAC,SAAS,CAAC,mBAAmB,CAAC;gBACvD,SAAS,EAAE,SAAS,CAAC,SAAS,CAAC;gBAC/B,SAAS,EAAE,SAAS,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,MAAM;gBACnE,YAAY,EAAE,SAAS,CAAC,cAAc,CAAC;oBACrC,CAAC,CAAC,SAAS,CAAC,cAAc,CAAC;oBAC3B,CAAC,CAAC,EAAE;gBACN,UAAU,EAAE,SAAS,CAAC,kBAAkB,CAAC;gBACzC,QAAQ,EAAE,SAAS,CAAC,aAAa,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK;gBAC3D,MAAM,EAAE,SAAS,CAAC,UAAU,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK;gBACtD,OAAO,EAAE,SAAS,CAAC,WAAW,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK;gBACxD,WAAW,EAAE,SAAS,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,EAAE;gBACrE,YAAY,EACV,SAAS,CAAC,cAAc,CAAC,IAAI,SAAS,CAAC,cAAc,CAAC,IAAI,MAAM;oBAC9D,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC;oBACvC,CAAC,CAAC,KAAK;gBACX,YAAY,EAAE,SAAS,CAAC,kBAAkB,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK;gBACpE,MAAM,EAAE,SAAS,CAAC,QAAQ,CAAC;gBAC3B,SAAS,EACP,SAAS,CAAC,WAAW,CAAC,EAAE,MAAM,GAAG,CAAC,IAAI,SAAS,CAAC,WAAW,CAAC,IAAI,MAAM;oBACpE,CAAC,CAAC,CAAC,SAAS,CAAC,WAAW,CAAC;oBACzB,CAAC,CAAC,KAAK;gBACX,SAAS,EACP,SAAS,CAAC,WAAW,CAAC,EAAE,MAAM,GAAG,CAAC,IAAI,SAAS,CAAC,WAAW,CAAC,IAAI,MAAM;oBACpE,CAAC,CAAC,CAAC,SAAS,CAAC,WAAW,CAAC;oBACzB,CAAC,CAAC,KAAK;gBACX,KAAK,EACH,SAAS,CAAC,OAAO,CAAC;oBAClB,SAAS,CAAC,OAAO,CAAC,IAAI,MAAM;oBAC5B,SAAS,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,CAAC,MAAM;oBAC9B,CAAC,CAAC,SAAS,CAAC,OAAO,CAAC;oBACpB,CAAC,CAAC,KAAK;gBACX,QAAQ,EACN,SAAS,CAAC,cAAc,CAAC,IAAI,SAAS,CAAC,cAAc,CAAC,CAAC,IAAI,EAAE,CAAC,MAAM;oBAClE,CAAC,CAAC,SAAS,CAAC,cAAc,CAAC;oBAC3B,CAAC,CAAC,KAAK;gBACX,WAAW,EACT,SAAS,CAAC,aAAa,CAAC,IAAI,SAAS,CAAC,aAAa,CAAC,CAAC,MAAM;oBACzD,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC;oBACtC,CAAC,CAAC,KAAK;gBACX,yBAAyB,EACvB,SAAS,CAAC,2BAA2B,CAAC;oBACtC,SAAS,CAAC,2BAA2B,CAAC,IAAI,KAAK;oBAC7C,CAAC,CAAC,SAAS,CAAC,2BAA2B,CAAC;oBACxC,CAAC,CAAC,KAAK;gBACX,MAAM,EACJ,SAAS,CAAC,QAAQ,CAAC,IAAI,SAAS,CAAC,QAAQ,CAAC,CAAC,IAAI,EAAE,CAAC,MAAM;oBACtD,CAAC,CAAC,SAAS,CAAC,QAAQ,CAAC;oBACrB,CAAC,CAAC,KAAK;gBACX,MAAM,EACJ,SAAS,CAAC,QAAQ,CAAC,IAAI,SAAS,CAAC,QAAQ,CAAC,CAAC,IAAI,EAAE,CAAC,MAAM;oBACtD,CAAC,CAAC,SAAS,CAAC,QAAQ,CAAC;oBACrB,CAAC,CAAC,KAAK;gBACX,UAAU,EACR,SAAS,CAAC,YAAY,CAAC,IAAI,SAAS,CAAC,YAAY,CAAC,CAAC,MAAM;oBACvD,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;oBACrC,CAAC,CAAC,KAAK;gBACX,OAAO,EACL,SAAS,CAAC,WAAW,CAAC,IAAI,MAAM;oBAC9B,CAAC,CAAC,SAAS,CAAC,SAAS,CAAC;wBACpB,CAAC,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;wBAChC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;oBAC3C,CAAC,CAAC,IAAI,CAAC,QAAQ;gBACnB,OAAO,EACL,SAAS,CAAC,WAAW,CAAC,IAAI,MAAM;oBAC9B,CAAC,CAAC,SAAS,CAAC,SAAS,CAAC;wBACpB,CAAC,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;wBAChC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;oBAC3C,CAAC,CAAC,IAAI,CAAC,UAAU;gBACrB,WAAW,EACT,SAAS,CAAC,WAAW,CAAC,IAAI,MAAM;oBAC9B,CAAC,CAAC,SAAS,CAAC,aAAa,CAAC;wBACxB,CAAC,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC;wBACpC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;oBAC3C,CAAC,CAAC,IAAI,IAAI,EAAE;gBAChB,gBAAgB,EACd,SAAS,CAAC,kBAAkB,CAAC,IAAI,SAAS,CAAC,kBAAkB,CAAC,CAAC,MAAM;oBACnE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,kBAAkB,CAAC,CAAC;oBAC3C,CAAC,CAAC,KAAK;gBACX,kBAAkB,EAChB,SAAS,CAAC,oBAAoB,CAAC;oBAC/B,SAAS,CAAC,oBAAoB,CAAC,CAAC,MAAM;oBACpC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,oBAAoB,CAAC,CAAC;oBAC7C,CAAC,CAAC,KAAK;gBACX,KAAK,EAAE,SAAS,CAAC,OAAO,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK;gBAClD,OAAO,EAAE,SAAS,CAAC,SAAS,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK;aACvD,CAAC;YAEF,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE;gBACjB,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC;aAC/D;YACD,uBAAuB;YACvB,8BAA8B;YAC9B,IAAI;YACJ,IAAI,UAAU,GAAG,EAAE,CAAC;YACpB,IAAI,KAAK,CAAC,SAAS,EAAE;gBACnB,UAAU,CAAC,IAAI,CAAC,gEAAoB,CAAC,KAAK,CAAC,SAAmB,CAAC,CAAC,CAAC;aAClE;YACD,IAAI,KAAK,CAAC,SAAS,EAAE;gBACnB,UAAU,CAAC,IAAI,CAAC,gEAAoB,CAAC,KAAK,CAAC,SAAmB,CAAC,CAAC,CAAC;aAClE;YACD,IAAI,KAAK,CAAC,QAAQ,EAAE;gBAClB,UAAU,CAAC,IAAI,CAAC,+DAAmB,CAAC,CAAC;aACtC;YACD,IAAI,KAAK,CAAC,KAAK,EAAE;gBACf,UAAU,CAAC,IAAI,CAAC,8DAAkB,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;aAClD;YAED,MAAM,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,OAAO,CAC3C;gBACE,KAAK,EAAE,KAAK,CAAC,YAAY,CAAC,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,CAAC,EAAE;gBACnD,QAAQ,EAAE,CAAC,KAAK,CAAC,MAAM;aACxB,EACD,UAAU,CACX,CAAC;YAEF,IACE,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAC/B,CAAC,OAAO,EAAE,EAAE,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,OAAO,CAC7C,EACD;gBACA,wBAAwB;gBACxB,IAAI,sBAAsB,GAAG,KAAK,CAAC;gBACnC,IAAI,oBAAoB,GAAG,CAAC,CAAC,CAAC;gBAC9B,IAAI,kBAAkB,GAAG,CAAC,CAAC,CAAC;gBAC5B,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,WAAW,EAAE,YAAY,EAAE,EAAE;oBACtD,IAAI,WAAW,CAAC,QAAQ,IAAI,SAAS,CAAC,gBAAgB,CAAC,EAAE;wBACvD,oBAAoB,GAAG,YAAY,CAAC;wBACpC,WAAW,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,UAAU,EAAE,EAAE;4BAC/C,IAAI,KAAK,CAAC,IAAI,IAAI,SAAS,CAAC,SAAS,CAAC,EAAE;gCACtC,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,KAAK,CAAC,CAAC;gCACnC,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;gCAC/B,IAAI,aAAa,GAAG,CAAC,aAAa,EAAE,SAAS,EAAE,SAAS,CAAC,CAAC;gCAC1D,IAAI,uBAAuB,GAAG,+DAAY,CAAC,KAAK,CAAC,CAAC;gCAClD,IAAI,YAAY,GAAG,+DAAY,CAAC,KAAK,CAAC,CAAC;gCACvC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE;oCAC1B,OAAO,uBAAuB,CAAC,CAAC,CAAC,CAAC;oCAClC,OAAO,YAAY,CAAC,CAAC,CAAC,CAAC;gCACzB,CAAC,CAAC,CAAC;gCACH,OAAO,CAAC,GAAG,CAAC,iBAAiB,EAAE,uBAAuB,CAAC,CAAC;gCACxD,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,YAAY,CAAC,CAAC;gCAC1C,OAAO,CAAC,GAAG,CACT,aAAa,EACb,6DAAc,CAAC,uBAAuB,EAAE,YAAY,CAAC,CACtD,CAAC;gCAEF,IAAI,CAAC,6DAAc,CAAC,uBAAuB,EAAE,YAAY,CAAC,EAAE;oCAC1D,sBAAsB,GAAG,IAAI,CAAC;iCAC/B;gCAED,kBAAkB,GAAG,UAAU,CAAC;6BACjC;wBACH,CAAC,CAAC,CAAC;qBACJ;gBACH,CAAC,CAAC,CAAC;gBAEH,IAAI,sBAAsB,EAAE;oBAC1B,+BAA+B;oBAC/B,IAAI,oBAAoB,IAAI,CAAC,IAAI,kBAAkB,IAAI,CAAC,EAAE;wBACxD,IAAI,CAAC,YAAY,CAAC,oBAAoB,CAAC,CAAC,MAAM,CAAC,MAAM,CACnD,kBAAkB,EAClB,CAAC,EACD,KAAK,CACN,CAAC;wBACF,IAAI,CAAC,eAAe,CAAC,oBAAoB,CAAC,CAAC,MAAM,CAAC,MAAM,CACtD,kBAAkB,EAClB,CAAC,EACD,KAAK,CACN,CAAC;qBACH;oBACD,IAAI,KAAK,CAAC,OAAO,EAAE;wBACjB,IAAI,CAAC,YAAY,CAAC,oBAAoB,CAAC,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC;wBAC5D,IAAI,CAAC,eAAe,CAAC,oBAAoB,CAAC,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC;qBAChE;oBAEC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAClD,CAAC,aAAa,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC;oBAEpC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAClD,CAAC,UAAU,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE,YAAY,CAAC,CAAC;iBAClD;aACF;iBAAM;gBACL,4BAA4B;gBAC5B,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC;gBACxD,IAAI,oBAAoB,GAAG,CAAC,CAAC,CAAC;gBAC9B,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,WAAW,EAAE,YAAY,EAAE,EAAE;oBACtD,IAAI,WAAW,CAAC,QAAQ,IAAI,SAAS,CAAC,gBAAgB,CAAC,EAAE;wBACvD,oBAAoB,GAAG,YAAY,CAAC;qBACrC;gBACH,CAAC,CAAC,CAAC;gBACH,IAAI,oBAAoB,IAAI,CAAC,EAAE;oBAC7B,wBAAwB;oBACxB,IAAI,WAAW,GAAG,IAAI,CAAC,YAAY,CACjC,oBAAoB,CACrB,CAAC,MAAM,CAAC,SAAS,CAChB,CAAC,KAAK,EAAE,EAAE,CACR,CAAC,KAAK,CAAC,sBAAsB,GAAG,CAAC,KAAK,CAAC,sBAAsB,CAChE,CAAC;oBAEF,IAAI,CAAC,CAAC,WAAW,IAAI,CAAC,CAAC,EAAE;wBACvB,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC,oBAAoB,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC;qBACrE;oBAED,IAAI,CAAC,YAAY,CAAC,oBAAoB,CAAC,CAAC,MAAM,CAAC,MAAM,CACnD,WAAW,EACX,CAAC,EACD,KAAK,CACN,CAAC;oBACF,IAAI,CAAC,eAAe,CAAC,oBAAoB,CAAC,CAAC,MAAM,CAAC,MAAM,CACtD,WAAW,EACX,CAAC,EACD,KAAK,CACN,CAAC;oBAEF,IAAI,KAAK,CAAC,OAAO,EAAE;wBACjB,IAAI,CAAC,YAAY,CAAC,oBAAoB,CAAC,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC;wBAC5D,IAAI,CAAC,eAAe,CAAC,oBAAoB,CAAC,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC;qBAChE;oBAGC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAClD,CAAC,UAAU,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE,YAAY,CAAC,CAAC;iBAClD;qBAAM;oBACL,OAAO,CAAC,GAAG,CAAC,wBAAwB,EAAE,SAAS,CAAC,gBAAgB,CAAC,CAAC,CAAC;oBACnE,iCAAiC;oBACjC,IAAI,cAAc,GAAG;wBACnB,QAAQ,EAAE,SAAS,CAAC,gBAAgB,CAAC;wBACrC,QAAQ,EAAE,SAAS,CAAC,qBAAqB,CAAC;wBAC1C,MAAM,EAAE,CAAC,KAAK,CAAC;wBACf,SAAS,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK;qBACxC,CAAC;oBACF,IAAI,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC,SAAS,CAC3C,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC,OAAO,CAAC,QAAQ,GAAG,CAAC,KAAK,CAAC,mBAAmB,CAC5D,CAAC;oBAEF,IAAI,CAAC,CAAC,WAAW,IAAI,CAAC,CAAC,EAAE;wBACvB,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC;qBACxC;oBACD,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;oBACzD,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;oBAE5D,MAAM,eAAe,GAAG,IAAI,4DAAgB,CAAC,EAAE,CAAC,CAAC;oBACjD,eAAe,CAAC,UAAU,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE,YAAY,CAAC,CAAC;oBAC/D,IAAI,CAAC,YAAY,CAAC,UAAU,CAC1B,SAAS,CAAC,gBAAgB,CAAC,EAC3B,eAAe,CAChB,CAAC;iBACH;aACF;QACH,CAAC,CAAC,CAAC;QAEH,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,IAAI,CAAC,uBAAuB,CAAC,CAAC;QACjD,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;IACxC,CAAC;IACD,4DAA4D;IAE5D,uCAAuC;IACvC,qBAAqB,CACnB,kCAAuC,EACvC,OAAgB,KAAK;QAErB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,kCAAkC,CAAC,CAAC;QACrD,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,qCAAqC,CAAC,CAAC;QAExD,IAAI,4BAA4B,GAAG,EAAE,CAAC;QACtC,IAAI,CAAC,qCAAqC,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE,EAAE;YAC5D,4BAA4B,CAAC,IAAI,CAC/B,GAAG,MAAM,MAAM,IAAI,CAAC,kCAAkC,CAAC,MAAM,CAAC,EAAE,CACjE,CAAC;QACJ,CAAC,CAAC,CAAC;QACH,kDAAkD;QAClD,uCAAuC;QACvC,OAAO;QACP,0CAA0C;QAC1C,iEAAiE;QACjE,IAAI;QAEJ,IAAI,kBAAkB,GAAG,4BAA4B,CAAC,MAAM;YAC1D,CAAC,CAAC,4BAA4B,CAAC,IAAI,CAAC,GAAG,CAAC;YACxC,CAAC,CAAC,IAAI,CAAC;QAET,IAAI,CAAC,mBAAmB;aACrB,4BAA4B,CAAC,kBAAkB,CAAC;aAChD,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,GAAG,CAAC,CAAC;YAC7B,IAAI,GAAG,CAAC,qBAAqB,CAAC,EAAE;gBAC9B,IAAI,CAAC,uBAAuB,GAAG,GAAG,CAAC,qBAAqB,CAAC,CAAC;aAC3D;iBAAM;gBACL,IAAI,CAAC,uBAAuB,GAAG,EAAE,CAAC;aACnC;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,2DAA2D,CAC5D,CAAC;QACJ,CAAC,CACF,CAAC;IACN,CAAC;IACD,qCAAqC;IAErC,uDAAuD;IACvD,qBAAqB,CAAC,MAAW;QAC/B,cAAc;QACd,YAAY;QACZ,eAAe;QACf,gCAAgC;QAChC,+CAA+C;QAC/C,oCAAoC;QACpC,iCAAiC;QACjC,6BAA6B;QAC7B,gCAAgC;QAChC,+BAA+B;QAC/B,yBAAyB;QACzB,4BAA4B;QAC5B,uBAAuB;QACvB,+BAA+B;QAC/B,2BAA2B;QAC3B,kCAAkC;QAClC,4BAA4B;QAC5B,yCAAyC;QACzC,wCAAwC;QACxC,0CAA0C;QAC1C,+CAA+C;QAC/C,gCAAgC;QAChC,qDAAqD;QACrD,8BAA8B;QAC9B,mCAAmC;QACnC,yCAAyC;QACzC,8BAA8B;QAC9B,iDAAiD;QACjD,kCAAkC;QAClC,uDAAuD;QACvD,gCAAgC;QAChC,qCAAqC;QACrC,wBAAwB;QACxB,2BAA2B;QAC3B,0BAA0B;QAC1B,0BAA0B;QAC1B,kCAAkC;QAClC,yCAAyC;QACzC,8CAA8C;QAC9C,qCAAqC;QACrC,uCAAuC;QACvC,wCAAwC;QACxC,2CAA2C;QAC3C,wCAAwC;QACxC,0CAA0C;QAC1C,qDAAqD;QACrD,2CAA2C;QAC3C,kDAAkD;QAClD,sCAAsC;QACtC,sCAAsC;QACtC,iCAAiC;QACjC,sCAAsC;QACtC,2CAA2C;QAC3C,sCAAsC;QACtC,4CAA4C;QAC5C,mDAAmD;QACnD,yBAAyB;QACzB,UAAU;QACV,oBAAoB;QACpB,oCAAoC;QACpC,kCAAkC;QAClC,6BAA6B;QAC7B,8BAA8B;QAC9B,kDAAkD;QAClD,gCAAgC;QAChC,gCAAgC;QAChC,+BAA+B;QAC/B,qCAAqC;QACrC,oCAAoC;QACpC,iCAAiC;QACjC,gCAAgC;QAChC,yCAAyC;QACzC,wCAAwC;QACxC,2BAA2B;QAC3B,4BAA4B;QAC5B,sCAAsC;QACtC,4BAA4B;QAC5B,8BAA8B;QAC9B,iCAAiC;QACjC,2BAA2B;QAC3B,iCAAiC;QACjC,WAAW;QACX,UAAU;QACV,oBAAoB;QACpB,kCAAkC;QAClC,+BAA+B;QAC/B,6BAA6B;QAC7B,8BAA8B;QAC9B,kDAAkD;QAClD,gCAAgC;QAChC,gCAAgC;QAChC,+BAA+B;QAC/B,qCAAqC;QACrC,oCAAoC;QACpC,iCAAiC;QACjC,gCAAgC;QAChC,yCAAyC;QACzC,wCAAwC;QACxC,2BAA2B;QAC3B,4BAA4B;QAC5B,sCAAsC;QACtC,4BAA4B;QAC5B,8BAA8B;QAC9B,iCAAiC;QACjC,2BAA2B;QAC3B,iCAAiC;QACjC,WAAW;QACX,SAAS;QACT,+BAA+B;QAC/B,UAAU;QACV,0BAA0B;QAC1B,oCAAoC;QACpC,uBAAuB;QACvB,kCAAkC;QAClC,wCAAwC;QACxC,sCAAsC;QACtC,WAAW;QACX,UAAU;QACV,kBAAkB;QAClB,0BAA0B;QAC1B,oCAAoC;QACpC,8BAA8B;QAC9B,uBAAuB;QACvB,kCAAkC;QAClC,sCAAsC;QACtC,mCAAmC;QACnC,WAAW;QACX,SAAS;QACT,OAAO;QACP,mBAAmB;QACnB,KAAK;QACL,IAAI,CAAC,mBAAmB;aACrB,0BAA0B,CAAC,MAAM,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC;aAC9D,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,EAAE;gBAC1B,qBAAqB;gBACrB,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC;gBACtC,IAAI,CAAC,YAAY,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC;gBAChC,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC;gBACjC,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;gBACxC,IAAI,GAAG,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,IAAI,UAAU,EAAE;oBACvC,IAAI,CAAC,mBAAmB,EAAE,CAAC;oBAC3B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;iBACzB;gBACD,YAAY;aACb;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,uDAAuD,CACxD,CAAC;YACF,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,CACF,CAAC;IACN,CAAC;IACD,mBAAmB,CAAC,IAAS;QAC3B,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QACzB,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;YACpC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;gBAC/B,IAAI,KAAK,CAAC,WAAW,CAAC,IAAI,IAAI,EAAE;oBAC9B,IACE,KAAK,CAAC,SAAS,IAAI,gBAAgB;wBACnC,KAAK,CAAC,SAAS,IAAI,eAAe,EAClC;wBACA,IAAI,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,EAAE,MAAM,CAC1D,CAAC,OAAO,EAAE,EAAE;4BACV,OAAO,OAAO,CAAC,IAAI,IAAI,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC;wBAClD,CAAC,CACF,CAAC;wBACF,IAAI,KAAK,GAAG,UAAU,EAAE,MAAM;4BAC5B,CAAC,CAAC;gCACE,IAAI,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC,IAAI;gCACxB,QAAQ,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC,QAAQ;6BACjC;4BACH,CAAC,CAAC,EAAE,CAAC;wBACP,IAAI,CAAC,YAAY;6BACd,GAAG,CAAC,OAAO,CAAC,QAAQ,CAAC;6BACrB,GAAG,CAAC,KAAK,CAAC,SAAS,CAAC;6BACpB,UAAU,CAAC,KAAK,CAAC,CAAC;qBACtB;yBAAM,IAAI,KAAK,CAAC,SAAS,IAAI,UAAU,EAAE;wBACxC,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;wBAC5D,IAAI,CAAC,YAAY;6BACd,GAAG,CAAC,OAAO,CAAC,QAAQ,CAAC;6BACrB,GAAG,CAAC,KAAK,CAAC,SAAS,CAAC;6BACpB,UAAU,CAAC,KAAK,CAAC,CAAC;qBACtB;yBAAM,IAAI,KAAK,CAAC,SAAS,IAAI,MAAM,EAAE;wBACpC,IAAI,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;4BAC1C,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;gCAC5C,CAAC,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,kBAAkB,CAAC,OAAO,CAAC;gCAChE,CAAC,CAAC,IAAI,IAAI,CACN,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,CACxD,CAAC,kBAAkB,CAAC,OAAO,CAAC;4BACjC,CAAC,CAAC,EAAE,CAAC;wBAEP,IAAI,CAAC,YAAY;6BACd,GAAG,CAAC,OAAO,CAAC,QAAQ,CAAC;6BACrB,GAAG,CAAC,KAAK,CAAC,SAAS,CAAC;6BACpB,UAAU,CAAC,aAAa,CAAC,CAAC;qBAC9B;yBAAM;wBACL,IAAI,CAAC,YAAY;6BACd,GAAG,CAAC,OAAO,CAAC,QAAQ,CAAC;6BACrB,GAAG,CAAC,KAAK,CAAC,SAAS,CAAC;6BACpB,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;qBACzC;iBACF;YACH,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;QAEH,0CAA0C;QAC1C,IAAI,CAAC,6BAA6B,GAAG,IAAI,CAAC,iBAAiB,CAAC,CAAC;QAE7D,iCAAiC;QACjC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC,gBAAgB,CAAC,IAAI,EAAE,CAAC;QAC/D,OAAO,CAAC,GAAG,CAAC,iBAAiB,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;QACtD,OAAO,CAAC,GAAG,CAAC,oBAAoB,EAAE,IAAI,CAAC,oBAAoB,CAAC,CAAC;IAC/D,CAAC;IACD,sDAAsD;IAEtD,uCAAuC;IACvC,QAAQ;QACN,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,wCAAwC;QACxC,IAAI,CAAC,IAAI,CAAC,0BAA0B,EAAE;YACpC,IAAI,CAAC,eAAe,EAAE,CAAC;SACxB;aAAM;YACL,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,0BAA0B,CAAC,CAAC;YACzD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,IAAI,CAAC,0BAA0B,CAAC,CAAC;YACnE,OAAO;SACR;IACH,CAAC;IAED,eAAe;QACb,IAAI,wBAAwB,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAC;QACzE,IAAI,wBAAwB,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAC;QAE3E,IAAI,SAAS,GAAG,IAAI,CAAC;QAErB,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;YACpC,IACE,CAAC,wBAAwB,CAAC,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC;gBACpD,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,OAAO,EAC/C;gBACA,SAAS,GAAG,KAAK,CAAC;aACnB;QACH,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,SAAS,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,6CAA6C,CAC9C,CAAC;YACF,OAAO;SACR;QAED,4CAA4C;QAC5C,4BAA4B;QAC5B,2CAA2C;QAC3C,SAAS;QACT,wDAAwD;QACxD,oEAAoE;QACpE,QAAQ;QACR,2BAA2B;QAC3B,wEAAwE;QACxE,wBAAwB;QACxB,eAAe;QACf,kDAAkD;QAClD,sEAAsE;QACtE,cAAc;QACd,gEAAgE;QAChE,mBAAmB;QACnB,8BAA8B;QAC9B,YAAY;QACZ,UAAU;QACV,SAAS;QACT,oDAAoD;QACpD,+BAA+B;QAC/B,+BAA+B;QAC/B,2CAA2C;QAC3C,sGAAsG;QACtG,WAAW;QACX,gBAAgB;QAChB,sCAAsC;QACtC,+BAA+B;QAC/B,2CAA2C;QAC3C,+DAA+D;QAC/D,WAAW;QACX,gBAAgB;QAChB,QAAQ;QACR,MAAM;QACN,MAAM;QAEN,wBAAwB;QACxB,YAAY;QACZ,IAAI;QACJ,0CAA0C;QAE1C,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,OAAO,CAAC;QAE3D,2CAA2C;QAE3C,IAAI,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE,CAAC;QAE3C,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAElB,IAAI,WAAW,GAAG,EAAE,CAAC;QAErB,KAAK,IAAI,GAAG,IAAI,IAAI,EAAE;YACpB,IAAI,CAAC,wBAAwB,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;gBAC3C,WAAW,GAAG,EAAE,GAAG,WAAW,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC;aAChD;SACF;QAED,IAAI,QAAQ,GAAG,IAAI,QAAQ,EAAE,CAAC;QAC9B,uFAAuF;QACvF,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;YACpC,IAAI,CAAC,wBAAwB,CAAC,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE;gBACxD,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;oBAC/B,IACE,KAAK,CAAC,SAAS,IAAI,gBAAgB;wBACnC,KAAK,CAAC,SAAS,IAAI,eAAe,EAClC;wBACA,IAAI,KAAK,GAAG,WAAW,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;4BACzC,CAAC,CAAC,WAAW,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,MAAM,CAAC;4BACzC,CAAC,CAAC,EAAE,CAAC;wBACP,WAAW,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,GAAG,KAAK,CAAC;qBACzC;yBAAM,IAAI,KAAK,CAAC,SAAS,IAAI,UAAU,EAAE;wBACxC,IAAI,KAAK,GAAG,WAAW,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;wBACnE,WAAW,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,GAAG,KAAK,CAAC;qBACzC;yBAAM,IAAI,KAAK,CAAC,SAAS,IAAI,MAAM,EAAE;wBACpC,IAAI,aAAa,GAAG,WAAW,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;4BACjD,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;gCACnD,CAAC,CAAC,IAAI,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,kBAAkB,CAC1D,OAAO,CACR;gCACH,CAAC,CAAC,IAAI,IAAI,CACN,WAAW,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;qCAC5B,KAAK,CAAC,GAAG,CAAC;qCACV,OAAO,EAAE;qCACT,IAAI,CAAC,GAAG,CAAC,CACb,CAAC,kBAAkB,CAAC,OAAO,CAAC;4BACjC,CAAC,CAAC,EAAE,CAAC;wBACP,WAAW,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,GAAG,aAAa,CAAC;qBACjD;yBAAM;wBACL,WAAW,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;4BAC7B,WAAW,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,IAAI,MAAM;gCACzC,WAAW,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,IAAI,IAAI;gCACrC,CAAC,CAAC,EAAE;gCACJ,CAAC,CAAC,WAAW,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC;qBACvC;gBACH,CAAC,CAAC,CAAC;aACJ;QACH,CAAC,CAAC,CAAC;QACH,qFAAqF;QAErF,4EAA4E;QAE5E,yDAAyD;QACzD,kDAAkD;QAClD,kBAAkB;QAClB,UAAU;QACV,oBAAoB;QACpB,gCAAgC;QAChC,6BAA6B;QAC7B,iCAAiC;QACjC,0EAA0E;QAC1E,WAAW;QACX,2BAA2B;QAC3B,oDAAoD;QACpD,sEAAsE;QACtE,uCAAuC;QACvC,2BAA2B;QAC3B,+CAA+C;QAC/C,4CAA4C;QAC5C,aAAa;QACb,UAAU;QACV,UAAU;QACV,MAAM;QACN,IAAI;QACJ,uDAAuD;QAEvD,0DAA0D;QAC1D,IAAI,eAAe,GAAG;YACpB,WAAW;YACX,mBAAmB;YACnB,QAAQ;YACR,kBAAkB;SACnB,CAAC;QAEF,wBAAwB,CAAC,OAAO,CAAC,CAAC,WAAW,EAAE,EAAE;YAC/C,IAAI,IAAI,CAAC,0BAA0B,CAAC,MAAM,EAAE;gBAC1C,IAAI,CAAC,0BAA0B,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,KAAK,EAAE,EAAE;oBACzD,KAAK,IAAI,OAAO,IAAI,OAAO,EAAE;wBAC3B,IAAI,eAAe,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE;4BACrC,QAAQ,CAAC,MAAM,CACb,GAAG,WAAW,IAAI,KAAK,KAAK,OAAO,EAAE,EACrC,OAAO,CAAC,OAAO,CAAC,CACjB,CAAC;yBACH;qBACF;gBACH,CAAC,CAAC,CAAC;aACJ;QACH,CAAC,CAAC,CAAC;QACH,wDAAwD;QAExD,yEAAyE;QAEzE,WAAW,CAAC,cAAc,CAAC,GAAG,IAAI,CAAC;QAEnC,uCAAuC;QACvC,IAAI,IAAI,CAAC,IAAI,IAAI,MAAM,EAAE;YACvB,WAAW,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC;gBACvD,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC;gBAChC,CAAC,CAAC,EAAE,CAAC;YACP,WAAW,CAAC,iBAAiB,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC;gBACnE,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC;gBACtC,CAAC,CAAC,EAAE,CAAC;YACP,WAAW,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC;gBACvD,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC;gBAChC,CAAC,CAAC,EAAE,CAAC;YACP,WAAW,CAAC,iBAAiB,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC;gBACnE,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC;gBACtC,CAAC,CAAC,EAAE,CAAC;YACP,WAAW,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;YAEhC,KAAK,IAAI,GAAG,IAAI,WAAW,EAAE;gBAC3B,QAAQ,CAAC,MAAM,CAAC,GAAG,EAAE,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC;aACxC;YAED,IAAI,CAAC,wBAAwB,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;SACtD;QAED,qCAAqC;QAErC,sCAAsC;aACjC;YACH,KAAK,IAAI,GAAG,IAAI,WAAW,EAAE;gBAC3B,QAAQ,CAAC,MAAM,CAAC,GAAG,EAAE,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC;aACxC;YAED,IAAI,CAAC,sBAAsB,CAAC,QAAQ,CAAC,CAAC;SACvC;QAED,oCAAoC;QACpC,KAAK,IAAI,IAAI,IAAI,QAAQ,CAAC,OAAO,EAAE,EAAE;YACnC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;SACvC;QACD,OAAO,CAAC,GAAG,CAAC,yBAAyB,EAAE,IAAI,CAAC,oBAAoB,CAAC,CAAC;QAClE,OAAO,CAAC,GAAG,CAAC,yBAAyB,EAAE,IAAI,CAAC,oBAAoB,CAAC,CAAC;QAElE,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;IACpD,CAAC;IAED,sBAAsB,CAAC,OAAY;QACjC,IAAI,CAAC,mBAAmB;aACrB,oBAAoB,CACnB,OAAO,EACP,IAAI,CAAC,MAAM,EACX,IAAI,CAAC,QAAQ,EACb,IAAI,CAAC,mBAAmB,EACxB,IAAI,CAAC,oBAAoB,EACzB,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,oBAAoB,CACxD;aACA,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,EAAE;gBAC1B,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,mDAAmD;oBACnD,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;oBAC7C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;oBAChD,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;wBAC/B,OAAO,EACL,mDAAmD;4BACnD,GAAG,GAAG,CAAC,OAAO,CAAC,QAAQ;4BACvB,2BAA2B;wBAC7B,GAAG,EAAE,iBAAiB;wBACtB,MAAM,EAAE,GAAG,EAAE;4BACX,IAAI,CAAC,mBAAmB,GAAG,EAAE,CAAC;4BAC9B,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;4BACzB,IAAI,CAAC,qBAAqB;gCACxB,IAAI,CAAC,QAAQ,IAAI,KAAK;oCACpB,CAAC,CAAC,IAAI,CAAC,wBAAwB;oCAC/B,CAAC,CAAC,IAAI,CAAC,wBAAwB,CAAC;4BAEpC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC,CAAC;wBACvD,CAAC;wBACD,MAAM,EAAE,GAAG,EAAE;4BACX,IAAI,CAAC,mBAAmB,EAAE,CAAC;4BAC3B,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;wBACjC,CAAC;qBACF,CAAC,CAAC;oBACH,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;iBACxC;qBAAM;oBACL,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;wBACd,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;qBAC/C;yBAAM;wBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,iCAAiC,CAClC,CAAC;qBACH;oBACD,8CAA8C;oBAC9C,uCAAuC;oBACvC,IAAI,IAAI,CAAC,oBAAoB,IAAI,GAAG,EAAE;wBACpC,kCAAkC;wBAClC,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;wBACvC,IAAI,CAAC,gCAAgC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;wBACjD,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;wBAEtC,2CAA2C;wBAC3C,OAAO,CAAC,GAAG,CAAC,oBAAoB,EAAE,GAAG,CAAC,cAAc,CAAC,CAAC,CAAC;wBACvD,IAAI,CAAC,kCAAkC,CAAC,IAAI,CAC1C,GAAG,CAAC,cAAc,CAAC,CACpB,CAAC;wBACF,OAAO;qBACR;oBACD,sCAAsC;yBACjC;wBACH,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,EAAE,kBAAkB,CAAC,CAAC,CAAC;qBACtD;oBACD,iBAAiB;iBAClB;aACF;iBAAM;gBACL,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;aACxC;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,qDAAqD,CACtD,CAAC;YACF,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,CACF,CAAC;IACN,CAAC;IAED,wBAAwB,CAAC,OAAY,EAAE,MAAW;QAChD,IAAI,CAAC,mBAAmB;aACrB,sBAAsB,CACrB,OAAO,EACP,IAAI,CAAC,MAAM,EACX,IAAI,CAAC,QAAQ,EACb,IAAI,CAAC,mBAAmB,EACxB,IAAI,CAAC,oBAAoB,EACzB,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,oBAAoB,CACxD;aACA,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,EAAE;gBAC1B,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,mDAAmD;oBACnD,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;oBAC7C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;oBAChD,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;wBAC/B,OAAO,EACL,mDAAmD;4BACnD,GAAG,GAAG,CAAC,OAAO,CAAC,QAAQ;4BACvB,2BAA2B;wBAC7B,GAAG,EAAE,iBAAiB;wBACtB,MAAM,EAAE,GAAG,EAAE;4BACX,IAAI,CAAC,mBAAmB,GAAG,EAAE,CAAC;4BAC9B,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;4BACzB,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC,CAAC;wBACvD,CAAC;wBACD,MAAM,EAAE,GAAG,EAAE;4BACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;4BAE/B,IAAI,CAAC,mBAAmB,EAAE,CAAC;wBAC7B,CAAC;qBACF,CAAC,CAAC;oBACH,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;iBACxC;qBAAM;oBACL,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;wBACd,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;qBAC/C;yBAAM;wBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,mCAAmC,CACpC,CAAC;qBACH;oBAED,iDAAiD;oBACjD,uCAAuC;oBACvC,IAAI,IAAI,CAAC,oBAAoB,IAAI,GAAG,EAAE;wBACpC,IAAI,IAAI,CAAC,kBAAkB,EAAE;4BAC3B,oDAAoD;4BACpD,IAAI,CAAC,MAAM;iCACR,aAAa,CAAC,GAAG,EAAE,EAAE,kBAAkB,EAAE,IAAI,EAAE,CAAC;iCAChD,IAAI,CAAC,GAAG,EAAE;gCACT,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;oCACnB,QAAQ;oCACR,kBAAkB;oCAClB,gBAAgB;oCAChB,IAAI,CAAC,oBAAoB;oCACzB,IAAI,CAAC,oBAAoB;oCACzB,MAAM;iCACP,CAAC,CAAC;4BACL,CAAC,CAAC,CAAC;yBACN;6BAAM;4BACL,kCAAkC;4BAClC,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;4BACvC,IAAI,CAAC,gCAAgC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;4BACjD,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;4BAEtC,2CAA2C;4BAC3C,OAAO,CAAC,GAAG,CAAC,oBAAoB,EAAE,MAAM,CAAC,CAAC;4BAC1C,IAAI,CAAC,kCAAkC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;4BACrD,OAAO;yBACR;qBACF;oBACD,sCAAsC;yBACjC;wBACH,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,EAAE,kBAAkB,CAAC,CAAC,CAAC;qBACtD;iBACF;aACF;iBAAM;gBACL,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;aACxC;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,qDAAqD,CACtD,CAAC;YACF,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,CACF,CAAC;IACN,CAAC;IACD,sCAAsC;IAEtC,wDAAwD;IACxD,gBAAgB;QACd,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;QAC5C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;QAC/C,IAAI,CAAC,QAAQ,EAAE,CAAC;IAClB,CAAC;IAED,gBAAgB;QACd,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;QAC5C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;QAC/C,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,EAAE,kBAAkB,CAAC,CAAC,CAAC;IACvD,CAAC;IAED,WAAW;QACT,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAC3B,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;IACvB,CAAC;IACD,wDAAwD;IAExD,kCAAkC;IAClC,QAAQ,CAAC,IAAS;QAChB,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC;IACD,aAAa;QACX,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,IAAI,SAAS,GAAG,EAAE,CAAC;QACnB,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,EAAE;YAC5B,SAAS,GAAG,QAAQ,CAAC;YACrB,IAAI,GAAG,UAAU,CAAC;SACnB;aAAM;YACL,SAAS,GAAG,UAAU,CAAC;YACvB,IAAI,GAAG,YAAY,CAAC;SACrB;QACD,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;QAChD,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,WAAW,GAAG,EAAE,CAAC;QACrB,WAAW;YACT,mDAAmD;gBACnD,iBAAiB;gBACjB,IAAI;gBACJ,yBAAyB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,GAAG,CAAC;QAEtD,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;YAC/B,OAAO,EAAE,WAAW;YACpB,GAAG,EAAE,sBAAsB;YAC3B,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,YAAY,CACf,SAAS,EACT,IAAI,CAAC,YAAY,EACjB,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,CAClC,CAAC;gBACF,IAAI,CAAC,mBAAmB,EAAE,CAAC;YAC7B,CAAC;YACD,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;gBAC/B,IAAI,CAAC,mBAAmB,EAAE,CAAC;YAC7B,CAAC;SACF,CAAC,CAAC;IACL,CAAC;IACD,YAAY,CAAC,SAAc,EAAE,IAAS,EAAE,OAAY;QAClD,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,SAAS,EAAE,OAAO,CAAC,CAAC;IAC5D,CAAC;IAED,oBAAoB,CAAC,KAAU,EAAE,MAAW,EAAE,OAAY;QACxD,IAAI,OAAwB,CAAC;QAC7B,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,MAAM,EAAE,KAAK,CAAC,QAAQ,EAAE,EAAE,OAAO,CAAC,CAAC;QAC5D,OAAO,GAAG,IAAI,CAAC,mBAAmB,CAAC,6BAA6B,CAC9D,IAAI,CAAC,MAAM,EACX,MAAM,EACN,KAAK,CAAC,QAAQ,EAAE,EAChB,OAAO,CACR,CAAC;QACF,OAAO,CAAC,SAAS,CACf,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,EAAE;gBAC1B,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC;gBAC/C,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,CAAC,WAAW,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC;gBACrC,IAAI,IAAI,CAAC,WAAW,EAAE;oBACpB,IAAI,CAAC,mBAAmB,EAAE,CAAC;iBAC5B;qBAAM;oBACL,IAAI,CAAC,kBAAkB,EAAE,CAAC;iBAC3B;aACF;iBAAM;gBACL,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;aAC/C;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACjB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,CACF,CAAC;IACJ,CAAC;IACD,iCAAiC;IAEjC,cAAc,CAAC,CAAC;QACd,IAAI,CAAC,mBAAmB;aACrB,2BAA2B,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,KAAK,CAAC;aACvD,SAAS,CAAC,CAAC,GAAG,EAAE,EAAE;YACjB,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;YAC3B,GAAG,CAAC,MAAM,CAAC,EAAE,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;gBAC3B,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YAClC,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACP,CAAC;IAED,mBAAmB;QACjB,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;YAC5C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;QACjD,CAAC,EAAE,GAAG,CAAC,CAAC;QACR,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,EAAE,IAAI,CAAC,CAAC;IACX,CAAC;IAED,OAAO;QACL,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;QAChD,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;YAC/B,OAAO,EACL,mDAAmD;gBACnD,sFAAsF;YACxF,GAAG,EAAE,iBAAiB;YACtB,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;gBACvB,IAAI,IAAI,CAAC,YAAY,EAAE;oBACrB,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;iBAC3B;gBACD,IAAI,CAAC,mBAAmB,EAAE,CAAC;YAC7B,CAAC;YACD,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;gBAC/B,IAAI,CAAC,mBAAmB,EAAE,CAAC;YAC7B,CAAC;SACF,CAAC,CAAC;IACL,CAAC;IAED,WAAW;QACT,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QACvC,IAAI,CAAC,gCAAgC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACjD,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAEtC,kBAAkB;QAClB,IAAI,CAAC,WAAW;aACb,iBAAiB,EAAE;aACnB,IAAI,CAAC,oDAAI,CAAC,CAAC,CAAC,CAAC;aACb,SAAS,CAAC,CAAC,WAAW,EAAE,EAAE;YACzB,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,WAAW,CAAC,CAAC;YACrC,WAAW,CAAC,GAAG,EAAE,CAAC;YAClB,IAAI,CAAC,WAAW,CAAC,kCAAkC,CAAC,WAAW,CAAC,CAAC;QACnE,CAAC,CAAC,CAAC;IACP,CAAC;;0FAlyFU,qBAAqB;mHAArB,qBAAqB;;;;;;;QCpClC,mHAm9BO;QASP,iHASM;QAEN,wFAKC;QAOK,2RAAS,sEAAW,KAAC;QACtB,4DAAS;QAEV,4EAMC;QADC,2RAAS,sEAAW,KAAC;QACtB,4DAAS;QAGd,wFAKC;QAOK,4RAAS,sEAAY,KAAC;QACvB,4DAAS;QAEV,6EAMC;QADC,4RAAS,sEAAY,KAAC;QACvB,4DAAS;QAGd,uEAAK;QAED,mMAA0B,0FAGhB,iBAAa,IAHG;QAK1B,mIAA+C;QAC/C,+EAKC;QACC,mIAIc;QACd,oIAMc;QACd,oIAIc;QAChB,4DAAU;QACV,2EAAoD;QAEhD,gMAAqB;QAGtB,4DAAa;QACd,6EACG;QAAA,iHAAqD;QAAA,4DACvD;QAEH,2EAA6B;QAMzB,8IAAS,sBAAkB,IAAC;QAE7B,4DAAS;QAEV,8EAOC;QADC,8IAAS,sBAAkB,IAAC;QAC7B,4DAAS;;QAjlCb,sHAA8C;QA29BrB,0DAAiD;QAAjD,yHAAiD;QAe3E,0DAAkB;QAAlB,2EAAkB;QAwBlB,0DAAkB;QAAlB,2EAAkB;QAwBhB,0DAAyC;QAAzC,gIAAyC;QAFzC,qFAA0B;QAUxB,0DAA2B;QAA3B,iIAA2B;QAH3B,0FAA6B;QAyB3B,0DAAqB;QAArB,gFAAqB;QAerB,0DAA6B;QAA7B,0FAA6B;;;;;;;;;;;;;;;;;;;;;ACxkC0B;AAEP;AACZ;;;AAKrC,MAAM,mBAAmB;IAC9B,YAAoB,IAAgB;QAAhB,SAAI,GAAJ,IAAI,CAAY;QAEpC,oBAAe,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC,CAAC;QACtE,eAAU,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC;IAHrB,CAAC;IAKxC,6CAA6C;IAC7C,gDAAgD;QAC9C,uBAAuB;QACvB,MAAM,aAAa,GACjB,wEAAwE,CAAC;QAC3E,MAAM,aAAa,GACjB,gFAAgF,CAAC;QAEnF,kCAAkC;QAClC,MAAM,oBAAoB,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;QAC1D,MAAM,oBAAoB,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;QAE1D,kCAAkC;QAClC,OAAO,8CAAQ,CAAC,CAAC,oBAAoB,EAAE,oBAAoB,CAAC,CAAC,CAAC,IAAI,CAChE,0DAAU,CAAC,CAAC,KAAK,EAAE,EAAE;YACnB,yCAAyC;YACzC,OAAO,CAAC,KAAK,CAAC,sCAAsC,EAAE,KAAK,CAAC,CAAC;YAC7D,OAAO,gDAAU,CAAC,oBAAoB,CAAC,CAAC;QAC1C,CAAC,CAAC,CACH,CAAC;IACJ,CAAC;IACD,kDAAkD;IAElD,iBAAiB;QACf,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,sEAAsE,CACvE,CAAC;IACJ,CAAC;IAED,wBAAwB,CACtB,EAAU,EACV,OAAY,EACZ,UAAe,EACf,QAAa;QAEb,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,kEAAkE,EAClE;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,QAAQ,EAAE,EAAE,CAAC;iBACjB,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;iBACpC,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;iBACrC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC;SACzB,CACF,CAAC;IACJ,CAAC;IAED,2BAA2B,CAAC,OAAY,EAAE,WAAgB;QACxD,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,4DAA4D,EAC5D;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,cAAc,EAAE,OAAO,CAAC;iBAC5B,GAAG,CAAC,cAAc,EAAE,WAAW,CAAC;SACpC,CACF,CAAC;IACJ,CAAC;IAED,6BAA6B,CAAC,kBAAuB;QACnD,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,qDAAqD,EACrD;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,aAAa,EAAE,kBAAkB,CAAC;iBACtC,GAAG,CAAC,MAAM,EAAE,6BAA6B,CAAC;iBAC1C,GAAG,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;iBAC1C,GAAG,CAAC,cAAc,EAAE,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC;SACrD,CACF,CAAC;IACJ,CAAC;IAED,4BAA4B,CAAC,kBAAuB;QAClD,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,0DAA0D,EAC1D;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,aAAa,EAAE,kBAAkB,CAAC;iBACtC,GAAG,CAAC,MAAM,EAAE,mBAAmB,CAAC;iBAChC,GAAG,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;iBAC1C,GAAG,CAAC,cAAc,EAAE,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC;SACrD,CACF,CAAC;IACJ,CAAC;IAED,oBAAoB,CAClB,YAAiB,EACjB,MAAW,EACX,YAAiB,EACjB,mBAAwB,EACxB,oBAAyB,EACzB,oBAAyB;QAEzB,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CACnB,+DAA+D,EAC/D,YAAY,EACZ;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC;iBACrB,GAAG,CACF,cAAc,EACd,YAAY,IAAI,KAAK,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,WAAW,CACnD;iBACA,GAAG,CAAC,qBAAqB,EAAE,mBAAmB,CAAC;iBAC/C,GAAG,CACF,gBAAgB,EAChB,oBAAoB,CAAC,MAAM,CAAC,CAAC,CAAC,oBAAoB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CACpE;iBACA,GAAG,CAAC,cAAc,EAAE,oBAAoB,CAAC;SAC7C,CACF,CAAC;IACJ,CAAC;IACD,sBAAsB,CACpB,YAAiB,EACjB,MAAW,EACX,YAAiB,EACjB,mBAAwB,EACxB,oBAAyB,EACzB,oBAAyB;QAEzB,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,iEAAiE,EACjE,YAAY,EACZ;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC;iBACrB,GAAG,CACF,cAAc,EACd,YAAY,IAAI,KAAK,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,WAAW,CACnD;iBACA,GAAG,CAAC,qBAAqB,EAAE,mBAAmB,CAAC;iBAC/C,GAAG,CACF,gBAAgB,EAChB,oBAAoB,CAAC,MAAM,CAAC,CAAC,CAAC,oBAAoB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CACpE;iBACA,GAAG,CAAC,cAAc,EAAE,oBAAoB,CAAC;SAC7C,CACF,CAAC;IACJ,CAAC;IAED,0BAA0B,CAAC,UAAe,EAAE,MAAW,EAAE,YAAiB;QACxE,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,uEAAuE,UAAU,EAAE,EACnF;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC;iBACrB,GAAG,CACF,cAAc,EACd,YAAY,IAAI,KAAK,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,WAAW,CACnD;SACJ,CACF,CAAC;IACJ,CAAC;IAED,6BAA6B,CAC3B,MAAW,EACX,MAAW,EACX,EAAO,EACP,QAAa;QAEb,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,+DAA+D,EAC/D;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC;iBACrB,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC;iBACrB,GAAG,CAAC,IAAI,EAAE,EAAE,CAAC;iBACb,GAAG,CAAC,cAAc,EAAE,QAAQ,CAAC;SACjC,CACF,CAAC;IACJ,CAAC;IAED,0BAA0B;IAE1B,2BAA2B,CACzB,EAAU,EACV,WAAgB,EAChB,UAAe,EACf,QAAa,EACb,QAAa,EACb,MAAW,EACX,OAAY;QAEZ,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,yEAAyE,EACzE;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,QAAQ,EAAE,EAAE,CAAC;iBACjB,GAAG,CAAC,aAAa,EAAE,WAAW,CAAC;iBAC/B,GAAG,CAAC,YAAY,EAAE,UAAU,CAAC;iBAC7B,GAAG,CAAC,UAAU,EAAE,QAAQ,CAAC;iBACzB,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC;iBACrB,GAAG,CAAC,SAAS,EAAE,OAAO,CAAC;iBACvB,GAAG,CAAC,cAAc,EAAE,QAAQ,CAAC;SACjC,CACF,CAAC;IACJ,CAAC;IAED,wBAAwB,CACtB,EAAU,EACV,OAAY,EACZ,UAAe,EACf,QAAa;QAEb,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,kEAAkE,EAClE;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,QAAQ,EAAE,EAAE,CAAC;iBACjB,GAAG,CAAC,iBAAiB,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;iBACvC,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;iBACrC,GAAG,CAAC,UAAU,EAAE,QAAQ,CAAC;SAC7B,CACF,CAAC;IACJ,CAAC;;sFA3NU,mBAAmB;oHAAnB,mBAAmB,WAAnB,mBAAmB,mBAFlB,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACGG;AAOC;AAGuB;;;;;;;;;;;;;;ICLrC,qEAIC;IACC,uDACF;IAAA,4DAAK;;;IAJH,uFAA+B;IAG/B,0DACF;IADE,yFACF;;;IACA,qEAMC;IACC,wEACF;IAAA,4DAAK;;IAHH,+EAA0B;;;IAb9B,qEAAI;IACF,oJAMK;IACL,oJAQK;IACP,4DAAK;;;;IAfe,0DAAU;IAAV,+EAAU;IAOzB,0DAGD;IAHC,qJAGD;;;IA6BS,2EACE;IAAA,4DAAC;IAAA,4DACH;;;IATL,wEAAqC;IACnC,0EAAuD;IAC/C,uDAIJ;IAAA,4DACD;IAAA,6KAEA;IACH,4DAAM;IACR,qEAAe;;;;IATL,0DAIJ;IAJI,mKAIJ;IACM,0DAA4B;IAA5B,2FAA4B;;;;IAKxC,wEAAsC;IACpC,uEAYE;IACJ,qEAAe;;;;;IAZX,0DAAsC;IAAtC,mGAAsC;;;;IAa1C,wEAAqC;IACnC,qFAuBC;IAfC,obAAY,gGAAkC,KAAC;IAehD,4DAAa;IAChB,qEAAe;;;;;IAnBX,0DAAiB;IAAjB,0EAAiB;;;IA8Cf,0EAA2B;IACpB,uDAAsB;IAAA,4DAAM;;;IAA5B,0DAAsB;IAAtB,qFAAsB;;;IA1BnC,wEAA+C;IAC7C,iFAsBC;IACC,2LAIc;IAChB,4DAAa;IACf,qEAAe;;;;;IA3BX,0DAA8B;IAA9B,+FAA8B;;;;IA6BlC,0EAAgD;IAc5C,iXAAkB,sFAAoB,KAAC;IACxC,4DAAkB;;;;;IAbjB,0DAAsC;IAAtC,mGAAsC;;;IApG9C,yEAUC;IACC,4EAA8C;IAC5C,8KAWe;IACf,8KAce;IACf,8KAyBe;IAEf,8KA8Be;IAEf,4JAgBM;IACR,qEAAe;IACjB,4DAAK;;;;;IAlHH,sLAOC;IAEa,0DAA+B;IAA/B,4FAA+B;IAC5B,0DAAoB;IAApB,gFAAoB;IAYpB,0DAAqB;IAArB,iFAAqB;IAerB,0DAAoB;IAApB,gFAAoB;IA2BpB,0DAA8B;IAA9B,0FAA8B;IAgCvC,0DAAoB;IAApB,gFAAoB;;;;IAmB9B,qEAKC;IAGG,maACqB,gHACiB,SACrD,GAAG,UAAU,EAAyB,qBACxB,EACV,OAAO,8BAAuC,SAAS,GAC3D,UAAU,EAAyB,oBACxB,EACT,OAAO,GACA,KAAO;IAED,mEAA8B;IAChC,4DAAM;;;IA3IZ,qEAAI;IACF,4EAAwD;IACtD,qJAoHK;IACL,qJAqBK;IACP,qEAAe;IACjB,4DAAK;;;;IA7IW,0DAAyC;IAAzC,4GAAyC;IAE9B,0DAAoB;IAApB,yFAAoB;IAqHxC,0DAGD;IAHC,qJAGD;;;;;;IAsBV,0EAIC;IAEG,ibAA6B,4QAGnB,uFAAqB,KAHF;IAD/B,4DAWE;IACF,uEAAM;IAAA,+GAAoD;IAAA,4DAAO;;;IAX/D,0DAA6B;IAA7B,2FAA6B;;;;IAlLnC,6EAA2E;IAMvE,wJAmBc;IACd,wJAgJc;IAChB,4DAAU;IACV,wIAkBM;IACR,4DAAU;;;IA/LD,gGAAgC;IAErC,0DAAsB;IAAtB,sFAAsB;IA2KrB,0DAAyB;IAAzB,4FAAyB;;;IAnLhC,0EAKC;IACC,sIA+LU;IACZ,4DAAO;;;IAlML,+FAA+B;IAEgC,0DAAU;IAAV,sEAAU;;ADqBpE,MAAM,2BAA2B;IAetC,YAAoB,EAAe,EAAU,WAAwB;QAAjD,OAAE,GAAF,EAAE,CAAa;QAAU,gBAAW,GAAX,WAAW,CAAa;QAZjD,0BAAqB,GAAmB,IAAI,CAAC;QAEnC,wBAAmB,GAAQ,EAAE,CAAC;QAEpB,kCAA6B,GACnE,IAAI,CAAC;QAEsB,uBAAkB,GAAQ,EAAE,CAAC;QAEpB,+BAA0B,GAC9D,IAAI,uDAAY,EAAO,CAAC;QAsE1B,0BAAqB,GAAG,sBAAsB,CAAC;QAE/C,qBAAgB,GAAY,KAAK,CAAC;QAClC,oBAAe,GAAY,KAAK,CAAC;IAvEuC,CAAC;IAyEzE,WAAW,CAAC,OAAsB;QAChC,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,OAAO,CAAC,CAAC;QACrC,IACE,OAAO,CAAC,6BAA6B;YACrC,OAAO,CAAC,6BAA6B,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,EAC7D;YACA,IAAI,CAAC,6BAA6B;gBAChC,OAAO,CAAC,6BAA6B,CAAC,YAAY,CAAC;YACrD,IAAI,CAAC,0BAA0B,CAC7B,OAAO,CAAC,6BAA6B,CAAC,YAAY,CACnD,CAAC;SACH;IACH,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,YAAY,GAAG;YAClB;gBACE,KAAK,EAAE,cAAc;gBACrB,MAAM,EAAE,EAAE;gBACV,QAAQ,EAAE,OAAO;gBACjB,QAAQ,EAAE,OAAO;gBACjB,SAAS,EAAE,MAAM;aAClB;YACD;gBACE,KAAK,EAAE,UAAU;gBACjB,MAAM,EAAE,WAAW;gBACnB,QAAQ,EAAE,OAAO;gBACjB,QAAQ,EAAE,OAAO;gBACjB,SAAS,EAAE,OAAO;aACnB;YACD;gBACE,KAAK,EAAE,aAAa;gBACpB,MAAM,EAAE,eAAe;gBACvB,QAAQ,EAAE,OAAO;gBACjB,QAAQ,EAAE,OAAO;gBACjB,SAAS,EAAE,MAAM;aAClB;YACD;gBACE,KAAK,EAAE,cAAc;gBACrB,MAAM,EAAE,gBAAgB;gBACxB,QAAQ,EAAE,OAAO;gBACjB,QAAQ,EAAE,OAAO;gBACjB,SAAS,EAAE,MAAM;aAClB;YACD;gBACE,KAAK,EAAE,kBAAkB;gBACzB,MAAM,EAAE,oBAAoB;gBAC5B,QAAQ,EAAE,OAAO;gBACjB,QAAQ,EAAE,OAAO;gBACjB,SAAS,EAAE,OAAO;aACnB;YACD;gBACE,KAAK,EAAE,gBAAgB;gBACvB,MAAM,EAAE,kBAAkB;gBAC1B,QAAQ,EAAE,OAAO;gBACjB,QAAQ,EAAE,OAAO;gBACjB,SAAS,EAAE,gBAAgB;aAC5B;YACD;gBACE,KAAK,EAAE,iBAAiB;gBACxB,MAAM,EAAE,mBAAmB;gBAC3B,QAAQ,EAAE,OAAO;gBACjB,QAAQ,EAAE,OAAO;gBACjB,SAAS,EAAE,MAAM;aAClB;YACD;gBACE,KAAK,EAAE,gBAAgB;gBACvB,MAAM,EAAE,kBAAkB;gBAC1B,QAAQ,EAAE,OAAO;gBACjB,QAAQ,EAAE,OAAO;gBACjB,SAAS,EAAE,MAAM;aAClB;SACF,CAAC;QAEF,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;QAC3C,IAAI,UAAU,GAAG,EAAE,CAAC;QACpB,IAAI,IAAI,CAAC,mBAAmB,IAAI,IAAI,CAAC,mBAAmB,CAAC,MAAM,EAAE;YAC/D,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC;SAC1E;QACD,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;YACvC,IAAI,OAAO,GAAG;gBACZ,OAAO,EAAE,GAAG,CAAC,QAAQ;gBACrB,cAAc,EACZ,GAAG,CAAC,WAAW,IAAI,GAAG,CAAC,WAAW,IAAI,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK;gBAC7D,SAAS,EAAE,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,EAAE;oBAC1C,IAAI,SAAS,GAAG;wBACd,SAAS,EAAE,MAAM,CAAC,KAAK;wBACvB,UAAU,EAAE,MAAM,CAAC,MAAM;wBACzB,SAAS,EAAE,MAAM,CAAC,SAAS;wBAC3B,SAAS,EAAE,IAAI;wBACf,aAAa,EAAE,KAAK;qBACrB,CAAC;oBACF,IAAI,MAAM,CAAC,KAAK,IAAI,cAAc,EAAE;wBAClC,SAAS,CAAC,cAAc,CAAC,GAAG,GAAG,CAAC,QAAQ,CAAC;qBAC1C;oBACD,IAAI,GAAG,CAAC,WAAW,IAAI,GAAG,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC,MAAM,EAAE;wBACpD,IAAI,MAAM,CAAC,KAAK,IAAI,UAAU,EAAE;4BAC9B,SAAS,CAAC,eAAe,CAAC;gCACxB,GAAG,CAAC,WAAW,IAAI,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;yBAC5C;qBACF;oBACD,IAAI,GAAG,CAAC,SAAS,IAAI,GAAG,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC,MAAM,EAAE;wBAChD,IAAI,MAAM,CAAC,KAAK,IAAI,iBAAiB,EAAE;4BACrC,SAAS,CAAC,eAAe,CAAC;gCACxB,GAAG,CAAC,SAAS,IAAI,MAAM,IAAI,GAAG,CAAC,WAAW,IAAI,MAAM;oCAClD,CAAC,CAAC,IAAI;oCACN,CAAC,CAAC,KAAK,CAAC;yBACb;qBACF;oBACD,IAAI,GAAG,CAAC,QAAQ,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,MAAM,EAAE;wBAC9C,IAAI,MAAM,CAAC,KAAK,IAAI,gBAAgB,EAAE;4BACpC,SAAS,CAAC,eAAe,CAAC;gCACxB,GAAG,CAAC,QAAQ,IAAI,MAAM,IAAI,GAAG,CAAC,WAAW,IAAI,MAAM;oCACjD,CAAC,CAAC,IAAI;oCACN,CAAC,CAAC,KAAK,CAAC;yBACb;qBACF;oBACD,IAAI,GAAG,CAAC,WAAW,IAAI,GAAG,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC,MAAM,EAAE;wBACpD,IACE,MAAM,CAAC,KAAK,IAAI,iBAAiB;4BACjC,MAAM,CAAC,KAAK,IAAI,gBAAgB,EAChC;4BACA,SAAS,CAAC,eAAe,CAAC;gCACxB,GAAG,CAAC,WAAW,IAAI,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,SAAS,CAAC,eAAe,CAAC,CAAC;yBAClE;qBACF;oBACD,IAAI,GAAG,CAAC,YAAY,IAAI,GAAG,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC,MAAM,EAAE;wBACtD,IAAI,MAAM,CAAC,KAAK,IAAI,gBAAgB,EAAE;4BACpC,SAAS,CAAC,eAAe,CAAC;gCACxB,GAAG,CAAC,YAAY,IAAI,MAAM,IAAI,GAAG,CAAC,WAAW,IAAI,MAAM;oCACrD,CAAC,CAAC,IAAI;oCACN,CAAC,CAAC,KAAK,CAAC;yBACb;qBACF;oBACD,IAAI,GAAG,CAAC,cAAc,IAAI,GAAG,CAAC,cAAc,CAAC,IAAI,EAAE,CAAC,MAAM,EAAE;wBAC1D,IAAI,MAAM,CAAC,KAAK,IAAI,UAAU,EAAE;4BAC9B,IAAI,GAAG,CAAC,cAAc,IAAI,cAAc,EAAE;gCACxC,SAAS,CAAC,OAAO,CAAC,GAAG,aAAa,CAAC;gCACnC,SAAS,CAAC,cAAc,CAAC,GAAG,2BAA2B,CAAC;6BACzD;iCAAM,IAAI,GAAG,CAAC,cAAc,IAAI,SAAS,EAAE;gCAC1C,SAAS,CAAC,OAAO,CAAC,GAAG,UAAU,CAAC;gCAChC,SAAS,CAAC,cAAc,CAAC,GAAG,sBAAsB,CAAC;6BACpD;yBACF;qBACF;oBACD,IAAI,GAAG,CAAC,YAAY,IAAI,GAAG,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC,MAAM,EAAE;wBACtD,IAAI,MAAM,CAAC,KAAK,IAAI,UAAU,EAAE;4BAC9B,SAAS,CAAC,WAAW,CAAC,GAAG,GAAG,CAAC,YAAY,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;4BACxD,SAAS,CAAC,WAAW,CAAC,GAAG,GAAG,CAAC,YAAY,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;yBACzD;qBACF;oBACD,IAAI,MAAM,CAAC,SAAS,IAAI,MAAM,EAAE;wBAC9B,IAAI,MAAM,CAAC,KAAK,IAAI,cAAc,EAAE;4BAClC,SAAS,CAAC,SAAS,CAAC,GAAG,IAAI,IAAI,CAAC,YAAY,CAAC,CAAC;4BAC9C,SAAS,CAAC,SAAS,CAAC,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;yBAC3C;6BAAM,IAAI,MAAM,CAAC,KAAK,IAAI,aAAa,EAAE;4BACxC,SAAS,CAAC,SAAS,CAAC,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;4BAC1C,SAAS,CAAC,SAAS,CAAC,GAAG,IAAI,IAAI,CAAC,YAAY,CAAC,CAAC;yBAC/C;qBACF;oBACD,OAAO,SAAS,CAAC;gBACnB,CAAC,CAAC;aACH,CAAC;YACF,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAC3B,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,YAAY,GAAG,UAAU,CAAC;QAC/B,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;YACpC,MAAM,YAAY,GAAG,IAAI,4DAAgB,CAAC,EAAE,CAAC,CAAC;YAC9C,OAAO,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;gBAClC,IAAI,UAAU,GAAG,EAAE,CAAC;gBACpB,IAAI,KAAK,CAAC,SAAS,EAAE;oBACnB,UAAU,CAAC,IAAI,CAAC,gEAAoB,CAAC,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC;iBACzD;gBACD,IAAI,KAAK,CAAC,SAAS,EAAE;oBACnB,UAAU,CAAC,IAAI,CAAC,gEAAoB,CAAC,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC;iBACzD;gBACD,IAAI,KAAK,CAAC,aAAa,EAAE;oBACvB,UAAU,CAAC,IAAI,CAAC,+DAAmB,CAAC,CAAC;iBACtC;gBACD,IAAI,KAAK,CAAC,KAAK,EAAE;oBACf,UAAU,CAAC,IAAI,CAAC,8DAAkB,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;iBAClD;gBACD,YAAY,CAAC,UAAU,CACrB,KAAK,CAAC,SAAS,EACf,IAAI,CAAC,EAAE,CAAC,OAAO,CACb,KAAK,CAAC,YAAY,CAAC,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,CAAC,EAAE,EAC5C,UAAU,CACX,CACF,CAAC;YACJ,CAAC,CAAC,CAAC;YACH,YAAY,CAAC,UAAU,CAAC,qBAAqB,EAAE,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC;YACtE,YAAY,CAAC,UAAU,CAAC,oBAAoB,EAAE,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC;YACrE,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,OAAO,CAAC,OAAO,EAAE,YAAY,CAAC,CAAC;QACnE,CAAC,CAAC,CAAC;QACH,qCAAqC;QACrC,qBAAqB;QACrB,+CAA+C;QAC/C,KAAK;QAEL,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QACrC,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;QAE1C,IAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC,MAAM,EAAE,EAAE;YACvD,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;YAC7B,iEAAiE;YACjE,OAAO,CAAC,GAAG,CAAC,mBAAmB,EAAE,MAAM,CAAC,CAAC;YACzC,OAAO,CAAC,GAAG,CAAC,oBAAoB,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;IACL,CAAC;IAED,IAAI,OAAO;QACT,OAAO,IAAI,CAAC,iBAAiB,IAAI,IAAI,CAAC,iBAAiB,CAAC,QAAQ,CAAC;IACnE,CAAC;IAED,iBAAiB,CAAC,gBAAqB;QACrC,OAAO,CAAC,GAAG,CACT,IAAI,EACJ,gBAAgB,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,EAAE;YAC/B,OAAO,IAAI,IAAI,IAAI,IAAI,EAAE,CAAC;QAC5B,CAAC,CAAC,CACH,CAAC;IACJ,CAAC;IAED,YAAY,CAAC,YAAiB;QAC5B,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,YAAY,CAAC,CAAC;IAClC,CAAC;IAED,0BAA0B,CAAC,YAAiB;QAC1C,IAAI,YAAY,IAAI,YAAY,CAAC,MAAM,EAAE;YACvC,6DAA6D;YAC7D,IAAI,kBAAkB,GAAG,KAAK,CAAC;YAC/B,IAAI,CAAC,eAAe,GAAG,kBAAkB,CAAC;YAC1C,YAAY,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;gBAC3B,IAAI,aAAa,GAAG,GAAG,CAAC,cAAc,CAAC,CAAC;gBACxC,KAAK,MAAM,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;oBAClC,IACE,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC;wBAC3B,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,EAC5C;wBACA,IAAI,GAAG,IAAI,gBAAgB,IAAI,GAAG,CAAC,GAAG,CAAC,IAAI,EAAE,EAAE;4BAC7C,IAAI,eAAe,GAAG,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAClD,CAAC,OAAO,EAAE,EAAE,CAAC,OAAO,CAAC,IAAI,IAAI,GAAG,CAAC,GAAG,CAAC,CACtC,CAAC;4BACF,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,CAAC,UAAU,CACrD,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CACjD,CAAC;yBACH;6BAAM,IACL,GAAG,IAAI,qBAAqB;4BAC5B,GAAG,IAAI,oBAAoB,EAC3B;4BACA,IAAI,GAAG,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,GAAG,CAAC,IAAI,EAAE,EAAE;gCAC9B,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,UAAU,CAAC,CACrC,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CACrB,CAAC,UAAU,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;gCACvB,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,CAAC,UAAU,CACrD,GAAG,CAAC,GAAG,CAAC,CACT,CAAC;6BACH;yBACF;6BAAM;4BACL,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,CAAC,UAAU,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;yBACnE;qBACF;iBACF;YACH,CAAC,CAAC,CAAC;SACJ;IACH,CAAC;IAED,aAAa,CAAC,KAAU;QACtB,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;QAE7B,IAAI,IAAI,CAAC,iBAAiB,CAAC,KAAK,EAAE;YAChC,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;YAC5B,IAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAC3C,IAAI,iBAAiB,GAAG,+DAAY,CAAC,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;YACnE,IAAI,kBAAkB,GAAG,iBAAiB,CAAC,eAAe,CAAC,CAAC;YAC5D,OAAO,iBAAiB,CAAC,eAAe,CAAC,CAAC;YAC1C,KAAK,MAAM,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC,EAAE;gBAChD,KAAK,MAAM,IAAI,IAAI,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC,EAAE;oBACtD,iBAAiB,CAAC,GAAG,CAAC,CAAC,eAAe,CAAC,GAAG,kBAAkB,CAAC;oBAC7D,IAAI,IAAI,IAAI,cAAc,IAAI,IAAI,IAAI,aAAa,EAAE;wBACnD,IACE,iBAAiB,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;4BAC5B,iBAAiB,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE;4BAClC,OAAO,iBAAiB,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,QAAQ,EAC/C;4BACA,iBAAiB,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;gCAC1B,iBAAiB,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,kBAAkB,CAAC,OAAO,CAAC,CAAC;yBAC5D;qBACF;oBACD,IAAI,IAAI,IAAI,gBAAgB,EAAE;wBAC5B,IACE,iBAAiB,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;4BAC5B,iBAAiB,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,EACjC;4BACA,iBAAiB,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,iBAAiB,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC;yBAClE;qBACF;oBACD,IAAI,IAAI,IAAI,iBAAiB,IAAI,IAAI,IAAI,gBAAgB,EAAE;wBACzD,IACE,iBAAiB,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;4BAC5B,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE;gCACjC,CAAC,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,YAAY,IAAI,CAAC,CAAC,EAClD;4BACA,iBAAiB,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;yBACrC;qBACF;iBACF;aACF;YACD,IAAI,QAAQ,GAAG,IAAI,QAAQ,EAAE,CAAC;YAC9B,IAAI,MAAM,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC,MAAM,EAAE;gBAC3C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;oBAChE,KAAK,IAAI,GAAG,IAAI,MAAM,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAW,EAAE;wBAC7D,QAAQ,CAAC,MAAM,CACb,mBAAmB,CAAC,KAAK,GAAG,EAAE,EAC9B,MAAM,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CACzC,CAAC;qBACH;iBACF;aACF;YACD,OAAO,CAAC,GAAG,CACT,iBAAiB,EACjB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,iBAAiB,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,CAC1D,CAAC;YACF,8BAA8B;YAC9B,KAAK,IAAI,IAAI,IAAI,QAAQ,CAAC,OAAO,EAAE,EAAE;gBACnC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;aACvC;SACF;aAAM;YACL,KAAK,CAAC,MAAM,CAAC,OAAO,GAAG,KAAK,CAAC;YAC7B,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;YAC7B,OAAO,CAAC,GAAG,CAAC,mBAAmB,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;YACzD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,yDAAyD,CAC1D,CAAC;YACF,IAAI,CAAC,0BAA0B,CAAC,IAAI,CAClC,yDAAyD,CAC1D,CAAC;SACH;IACH,CAAC;IAED,WAAW,CAAC,SAAsB,EAAE,QAAa;QAC/C,IAAI,SAAS,IAAI,SAAS,CAAC,MAAM,EAAE;YACjC,IAAI,SAAS,CAAC,KAAK,EAAE;gBACnB,IAAI,SAAS,CAAC,MAAM,CAAC,OAAO,EAAE;oBAC5B,OAAO,QAAQ,CAAC,YAAY;wBAC1B,CAAC,CAAC,QAAQ,CAAC,YAAY;wBACvB,CAAC,CAAC,YAAY,QAAQ,CAAC,UAAU,UAAU,CAAC;iBAC/C;qBAAM,IAAI,SAAS,CAAC,MAAM,CAAC,SAAS,EAAE;oBACrC,OAAO,GAAG,QAAQ,CAAC,UAAU;YAC3B,QAAQ,CAAC,SAAS,mBAAmB,CAAC;iBACzC;qBAAM,IAAI,SAAS,CAAC,MAAM,CAAC,SAAS,EAAE;oBACrC,OAAO,GAAG,QAAQ,CAAC,UAAU;YAC3B,QAAQ,CAAC,SAAS,cAAc,CAAC;iBACpC;aACF;iBAAM,IAAI,SAAS,CAAC,MAAM,CAAC,QAAQ,EAAE;gBACpC,OAAO,GAAG,QAAQ,CAAC,UAAU,eAAe,CAAC;aAC9C;SACF;IACH,CAAC;IAED,eAAe;QACb,OAAO,CAAC,GAAG,CACT,IAAI,EACJ,QAAQ,CAAC,gBAAgB,CAAC,8CAA8C,CAAC,CAC1E,CAAC;QACF,QAAQ;aACL,gBAAgB,CAAC,8CAA8C,CAAC;aAChE,OAAO,CAAC,CAAC,EAAoB,EAAE,EAAE;YAChC,IAAI,EAAE;gBAAE,EAAE,CAAC,YAAY,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;QAC9C,CAAC,CAAC,CAAC;IACP,CAAC;IAED,gBAAgB,CAAC,CAAM,EAAE,OAAY,EAAE,SAAc;QACnD,IAAI,CAAC,iBAAiB;YACpB,EAAE,GAAG,CAAC,OAAO,CAAC;YACd,EAAE,GAAG,CAAC,SAAS,CAAC;aACf,UAAU,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;IACxC,CAAC;IAED,gBAAgB,CAAC,QAAkB;QACjC,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,QAAQ,CAAC,mBAAmB,CAAC,aAAa,EAAE;gBAC9C,QAAQ,CAAC,mBAAmB,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;aACpD;QACH,CAAC,EAAE,CAAC,CAAC,CAAC;IACR,CAAC;IAED,iBAAiB,CAAC,GAAY,EAAE,GAAQ;QACtC,IAAI,GAAG,EAAE;YACP,IAAI,GAAG,EAAE;gBACP,GAAG,CAAC,KAAK,CAAC,MAAM,GAAG,mBAAmB,CAAC;aACxC;SACF;aAAM;YACL,GAAG,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;SAC3B;IACH,CAAC;IAED,WAAW,CAAC,WAAW,GAAG,IAAI,IAAI,EAAE,EAAE,SAAS,GAAG,CAAC;QACjD,MAAM,QAAQ,GAAG,IAAI,IAAI,CAAC,WAAW,CAAC,CAAC;QACvC,QAAQ,CAAC,OAAO,CAAC,WAAW,CAAC,OAAO,EAAE,GAAG,SAAS,CAAC,CAAC;QACpD,OAAO,QAAQ,CAAC;IAClB,CAAC;IACD,WAAW,CAAC,WAAW,GAAG,IAAI,IAAI,EAAE,EAAE,WAAW,GAAG,CAAC;QACnD,MAAM,QAAQ,GAAG,IAAI,IAAI,CAAC,WAAW,CAAC,CAAC;QACvC,QAAQ,CAAC,OAAO,CAAC,WAAW,CAAC,OAAO,EAAE,GAAG,WAAW,CAAC,CAAC;QACtD,OAAO,QAAQ,CAAC;IAClB,CAAC;;sGA9eU,2BAA2B;yHAA3B,2BAA2B;QC3BxC,yHAsMO;;QApMJ,2HAAuD;;;;;;;;;;;;;;;;;;;;;ACFqB;;;;;;AAQxE,MAAM,2BAA2B;IAatC,YAAoB,WAAwB;QAAxB,gBAAW,GAAX,WAAW,CAAa;QAZnC,QAAG,GAAW,eAAe,CAAC;QAC9B,WAAM,GAAW,cAAc,CAAC;QAChC,gBAAW,GAAW,OAAO,CAAC;QAC9B,gBAAW,GAAW,KAAK,CAAC;QAC5B,gBAAW,GAAW,IAAI,CAAC;QAC3B,eAAU,GAAW,aAAa,CAAC;QACnC,eAAU,GAAW,aAAa,CAAC;QAClC,YAAO,GAAG,IAAI,uDAAY,EAAQ,CAAC;QACnC,WAAM,GAAG,IAAI,uDAAY,EAAQ,CAAC;QAE5C,cAAS,GAAY,KAAK,CAAC;IAEoB,CAAC;IAEhD,IAAI;QACF,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QAC1C,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;IAClD,CAAC;IAED,IAAI;QACF,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACvB,IAAI,CAAC,mBAAmB,EAAE,CAAC;IAC7B,CAAC;IAED,SAAS;QACP,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;QACpB,IAAI,CAAC,IAAI,EAAE,CAAC;IACd,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;QACnB,IAAI,CAAC,IAAI,EAAE,CAAC;IACd,CAAC;IAED,MAAM;QACJ,IAAI,CAAC,IAAI,EAAE,CAAC;IACd,CAAC;IAED,mBAAmB;QACjB,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;YAC5C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;QACjD,CAAC,EAAE,GAAG,CAAC,CAAC;QACR,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,EAAE,IAAI,CAAC,CAAC;IACX,CAAC;;sGAlDU,2BAA2B;yHAA3B,2BAA2B;QCRxC,qFAIC;QAMK,mJAAS,eAAW,IAAC;QAEtB,4DAAS;QACV,4EAMC;QAFC,mJAAS,cAAU,IAAC;QAErB,4DAAS;;QAhBZ,yFAAqB;QAFrB,kFAAqB;QAUjB,0DAAyB;QAAzB,6FAAyB;QAFzB,gFAAmB;QASnB,0DAAyB;QAAzB,6FAAyB;QAFzB,gFAAmB;;;;;;;;;;;;;;;;;;AChBgC;;;AAMlD,MAAM,yBAAyB;IAGpC,YAAoB,mBAAwC;QAAxC,wBAAmB,GAAnB,mBAAmB,CAAqB;QAF5D,iBAAY,GAAuB,IAAI,uDAAY,EAAE,CAAC;IAES,CAAC;IAEhE,OAAO,CACL,OAAe,EACf,UAMI,EAAE;QAEN,MAAM,EAAE,MAAM,EAAE,WAAW,EAAE,WAAW,EAAE,UAAU,EAAE,UAAU,EAAE,GAChE,OAAO,CAAC;QAEV,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;YAC/B,OAAO,EAAE,OAAO;YAChB,MAAM,EAAE,MAAM,IAAI,cAAc;YAChC,WAAW,EAAE,WAAW,IAAI,KAAK;YACjC,WAAW,EAAE,WAAW,IAAI,IAAI;YAChC,UAAU,EAAE,UAAU,IAAI,aAAa;YACvC,UAAU,EAAE,UAAU,IAAI,aAAa;YACvC,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;YAC3B,CAAC;SACF,CAAC,CAAC;IACL,CAAC;;kGA7BU,yBAAyB;0HAAzB,yBAAyB,WAAzB,yBAAyB,mBAFxB,MAAM;;;;;;;;;;;;;;;;;;;;;;;;ACCI;AAEc;;;;;;;;;;;IC4C5B,0EAIC;IADC,sYAAS,kFAAc,KAAC;IAExB,mEAAuC;IACzC,4DAAM;;;;;;;IA9CV,4EAGC;IACC,0EAIC;IAC0B,uDAAQ;IAAA,4DAAM;IACvC,0EAAkD;IAW9C,uXAAW,0FAAqB,KAAC;IAEnC,4DAAgB;IAElB,0EAAwB;IAWpB,uXAAW,wFAAmB,KAAC;IAEjC,4DAAgB;IAElB,uIAMM;IACR,4DAAM;IACR,qEAAe;;;;IA3CX,0DAAmB;IAAnB,+EAAmB;IAIM,0DAAQ;IAAR,mFAAQ;IAS7B,0DAAwB;IAAxB,gIAAwB;IAFxB,8EAAqB;IAiBrB,0DAAwB;IAAxB,gIAAwB;IAFxB,8EAAqB;IAUtB,0DAAoF;IAApF,gKAAoF;;;IAS7F,0EAIC;IACC,mEAAyD;IACzD,uEAAM;IAAC,uDAAyB;IAAA,4DAAO;;;IAAhC,0DAAyB;IAAzB,uGAAyB;;;;ADpD/B,MAAM,wBAAwB;IAgBnC,YACU,WAA+B,EAC/B,GAAqB,EACtB,MAA2B,EAC1B,kBAAsC,EACtC,WAAwB;QAJxB,gBAAW,GAAX,WAAW,CAAoB;QAC/B,QAAG,GAAH,GAAG,CAAkB;QACtB,WAAM,GAAN,MAAM,CAAqB;QAC1B,uBAAkB,GAAlB,kBAAkB,CAAoB;QACtC,gBAAW,GAAX,WAAW,CAAa;QApBlC,yBAAoB,GAAqB,IAAI,4DAAgB,CAAC;YAC5D,gBAAgB,EAAE,IAAI,4DAAgB,CAAC,EAAE,CAAC;SAC3C,CAAC,CAAC;QACH,qBAAgB,GAAqB,IAAI,4DAAgB,CAAC,EAAE,CAAC,CAAC;QAE9D,cAAS,GAAY,KAAK,CAAC;QAC3B,sBAAiB,GAAG,KAAK,CAAC;QAC1B,6BAAwB,GAAG,KAAK,CAAC;QACjC,yBAAoB,GAAG,EAAE,CAAC;QAC1B,iBAAY,GAAG,KAAK,CAAC;QACrB,qBAAgB,GAAG,KAAK,CAAC;QACzB,6BAAwB,GAAG,EAAE,CAAC;QAC9B,sBAAiB,GAAG,IAAI,CAAC;QACzB,6BAAwB,GAAG,KAAK,CAAC;QAmDjC,mBAAc,GAAG,CAAC,CAAM,EAAE,CAAM,EAAE,EAAE,CAClC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,IAAI;YACd,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,IAAI,IAAI,OAAO,CAAC,CAAC,EAAE,IAAI,OAAO,CAAC,CAAC,IAAI;YAChD,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,EAAE,IAAI,OAAO,CAAC,CAAC,EAAE,IAAI,OAAO,CAAC,CAAC,IAAI,CAAC;IA9ClD,CAAC;IAEJ,IAAI,mBAAmB;QACrB,OAAO,IAAI,CAAC,oBAAoB,CAAC,GAAG,CAClC,kBAAkB,CACC,CAAC;IACxB,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,oBAAoB,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE;YACrD,IAAI,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;YAClE,IAAI,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;YACjC,IAAI,SAAS,IAAI,QAAQ,EAAE;gBACzB,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;aAChC;iBAAM;gBACL,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;aAC/B;QACH,CAAC,CAAC,CAAC;QAEH,IAAI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,MAAM,EAAE;YACzD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,gBAAgB,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;gBACnE,IAAI,CAAC,gBAAgB,CAAC,IAAI,CACxB,IAAI,CAAC,sBAAsB,CAAC,KAAK,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,CAAC,CAClD,CAAC;gBACF,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAC3B,IAAI,CAAC,sBAAsB,CAAC,KAAK,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,CAAC,CAClD,CAAC;YACJ,CAAC,CAAC,CAAC;SACJ;aAAM;YACL,IAAI,CAAC,mBAAmB,EAAE,CAAC;SAC5B;QAED,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,oDAAI,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,GAAG,EAAE,EAAE;YAC/C,IAAI,IAAI,CAAC,wBAAwB,EAAE;gBACjC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,oBAAoB,CAAC,CAAC;aACzD;iBAAM;gBACL,IAAI,IAAI,CAAC,iBAAiB,EAAE;oBAC1B,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,kCAAkC,CAAC,CAAC;iBACvE;aACF;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAOD,sBAAsB,CAAC,IAAY,EAAE,EAAU;QAC7C,OAAO,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YAC5B,IAAI,EAAE,IAAI;YACV,EAAE,EAAE,EAAE;SACP,CAAC,CAAC;IACL,CAAC;IAED,eAAe;QACb,IAAI,SAAS,GAAG,EAAE,CAAC;QACnB,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;QAC/B,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;QAC1B,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;QAC9B,IAAI,CAAC,wBAAwB,GAAG,KAAK,CAAC;QACtC,IAAI,IAAI,CAAC,gBAAgB,IAAI,IAAI,CAAC,gBAAgB,EAAE,MAAM,EAAE;YAC1D,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;gBAC/C,IAAI,KAAK,CAAC,KAAK,EAAE;oBACf,IAAI,KAAK,CAAC,KAAK,CAAC,IAAI,IAAI,IAAI,IAAI,KAAK,CAAC,KAAK,CAAC,EAAE,IAAI,IAAI,EAAE;wBACtD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;qBAC1B;yBAAM,IAAI,KAAK,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,IAAI,KAAK,CAAC,KAAK,CAAC,EAAE,GAAG,CAAC,EAAE;wBACrD,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC;qBACtC;yBAAM,IAAI,KAAK,CAAC,KAAK,CAAC,IAAI,IAAI,KAAK,CAAC,KAAK,CAAC,EAAE,EAAE;wBAC7C,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;qBAC9B;oBACD,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;iBAC7B;YACH,CAAC,CAAC,CAAC;YAEH,SAAS,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,CAAC,EAAE,EAAE;gBAC7B,IAAI,CAAC,GAAG,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;oBAC5B,IAAI,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,SAAS,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,EAAE;wBAC/D,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;qBAC/B;iBACF;YACH,CAAC,CAAC,CAAC;SACJ;IACH,CAAC;IAED,QAAQ,CAAC,CAAM,EAAE,CAAM;QACrB,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,UAAU,CAAC,EAAE;YAC3B,IAAI,IAAI,CAAC,gBAAgB,CAAC,QAAQ,EAAE;gBACjC,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC,CAAsB,EAAE,QAAQ,CAC/D,IAAI,CACL,CAAC,QAAQ,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;aACrB;SACF;IACH,CAAC;IACD,UAAU,CAAC,CAAM,EAAE,CAAM;QACvB,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,UAAU,CAAC,EAAE;YAC3B,IAAI,IAAI,CAAC,gBAAgB,CAAC,QAAQ,EAAE;gBACjC,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC,CAAsB,EAAE,QAAQ,CAC/D,MAAM,CACP,CAAC,QAAQ,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;aACrB;SACF;IACH,CAAC;IAED,mBAAmB;QACjB,IAAI,IAAI,CAAC,gBAAgB,EAAE,MAAM,IAAI,EAAE,EAAE;YACvC,IAAI,CAAC,oBAAoB,GAAG,uCAAuC,CAAC;YACpE,UAAU,CAAC,GAAG,EAAE;gBACd,IAAI,CAAC,oBAAoB,GAAG,EAAE,CAAC;YACjC,CAAC,EAAE,IAAI,CAAC,CAAC;SACV;aAAM;YACL,IAAI,CAAC,eAAe,EAAE,CAAC;YACvB,IAAI,IAAI,CAAC,wBAAwB,EAAE;gBACjC,IAAI,CAAC,oBAAoB,GAAG,gCAAgC,CAAC;gBAC7D,UAAU,CAAC,GAAG,EAAE;oBACd,IAAI,CAAC,oBAAoB,GAAG,EAAE,CAAC;gBACjC,CAAC,EAAE,IAAI,CAAC,CAAC;aACV;iBAAM,IAAI,IAAI,CAAC,iBAAiB,EAAE;gBACjC,IAAI,CAAC,oBAAoB;oBACvB,iDAAiD,CAAC;gBACpD,UAAU,CAAC,GAAG,EAAE;oBACd,IAAI,CAAC,oBAAoB,GAAG,EAAE,CAAC;gBACjC,CAAC,EAAE,IAAI,CAAC,CAAC;aACV;iBAAM,IAAI,IAAI,CAAC,YAAY,EAAE;gBAC5B,IAAI,CAAC,oBAAoB,GAAG,yCAAyC,CAAC;gBACtE,UAAU,CAAC,GAAG,EAAE;oBACd,IAAI,CAAC,oBAAoB,GAAG,EAAE,CAAC;gBACjC,CAAC,EAAE,IAAI,CAAC,CAAC;aACV;iBAAM,IAAI,IAAI,CAAC,gBAAgB,EAAE;gBAChC,IAAI,CAAC,oBAAoB;oBACvB,uDAAuD,CAAC;gBAC1D,UAAU,CAAC,GAAG,EAAE;oBACd,IAAI,CAAC,oBAAoB,GAAG,EAAE,CAAC;gBACjC,CAAC,EAAE,IAAI,CAAC,CAAC;aACV;iBAAM;gBACL,IAAI,CAAC,wBAAwB,GAAG,KAAK,CAAC;gBACtC,IAAI,CAAC,wBAAwB,GAAG,KAAK,CAAC;gBACtC,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,oBAAoB,CAAC,GAAG,CACnD,kBAAkB,CACC,CAAC;gBACtB,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,sBAAsB,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC;aACrE;SACF;IACH,CAAC;IAED,WAAW,CAAC,CAAC;QACX,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,oBAAoB,CAAC,GAAG,CACnD,kBAAkB,CACC,CAAC;QACtB,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;IACpC,CAAC;IAED,qBAAqB;QACnB,IAAI,CAAC,eAAe,EAAE,CAAC;QACvB,IAAI,IAAI,CAAC,wBAAwB,EAAE;YACjC,IAAI,CAAC,oBAAoB,GAAG,gCAAgC,CAAC;YAC7D,UAAU,CAAC,GAAG,EAAE;gBACd,IAAI,CAAC,oBAAoB,GAAG,EAAE,CAAC;YACjC,CAAC,EAAE,IAAI,CAAC,CAAC;SACV;aAAM,IAAI,IAAI,CAAC,iBAAiB,EAAE;YACjC,IAAI,CAAC,oBAAoB;gBACvB,iDAAiD,CAAC;YACpD,UAAU,CAAC,GAAG,EAAE;gBACd,IAAI,CAAC,oBAAoB,GAAG,EAAE,CAAC;YACjC,CAAC,EAAE,IAAI,CAAC,CAAC;SACV;aAAM,IAAI,IAAI,CAAC,gBAAgB,EAAE;YAChC,IAAI,CAAC,oBAAoB;gBACvB,uDAAuD,CAAC;YAC1D,UAAU,CAAC,GAAG,EAAE;gBACd,IAAI,CAAC,oBAAoB,GAAG,EAAE,CAAC;YACjC,CAAC,EAAE,IAAI,CAAC,CAAC;SACV;aAAM;YACL,IAAI,IAAI,CAAC,YAAY,EAAE;gBACrB,IAAI,CAAC,oBAAoB,GAAG,yCAAyC,CAAC;gBACtE,UAAU,CAAC,GAAG,EAAE;oBACd,IAAI,CAAC,oBAAoB,GAAG,EAAE,CAAC;gBACjC,CAAC,EAAE,IAAI,CAAC,CAAC;aACV;iBAAM;gBACL,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC;gBAErC,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,CAAC,EAAE,EAAE;oBACpE,IACE,CAAC,GAAG,CAAC;wBACL,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,IAAI,IAAI,CAAC,CAAC,MAAM,EACxD;wBACA,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;qBAC/D;gBACH,CAAC,CAAC,CAAC;gBAEH,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC;gBAChE,IAAI,CAAC,kBAAkB,CAAC,2BAA2B,CACjD,IAAI,CAAC,wBAAwB,CAC9B,CAAC;aACH;SACF;IACH,CAAC;IAED,UAAU;QACR,IAAI,CAAC,qBAAqB,EAAE,CAAC;QAC7B,IAAI,IAAI,CAAC,wBAAwB,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;YACvD,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,wBAAwB,CAAC,CAAC;SAC/C;IACH,CAAC;;gGAhOU,wBAAwB;sHAAxB,wBAAwB;QCfrC,sEAAK;QAIoD,sEAAW;QAAA,4DAAQ;QAEtE,yEAAwB;QACyB,oEAAS;QAAA,4DAAQ;QAGpE,yEAA8B;QAC5B,0IAgDe;QACjB,4DAAM;QACN,sHAOM;QACN,0EAA+B;QASzB,iJAAS,yBAAqB,IAAC;QAChC,4DAAS;QAGd,2EAA2C;QAQrC,iJAAS,2BAAuB,IAAC;QAElC,4DAAS;QAEZ,2EAAmB;QAMf,iJAAS,gBAAY,IAAC;QAGvB,4DAAS;QAGd,2EAA8D;QAK1D,oEAAyD;QACzD,4EACG;QAAA,kGACH;QAAA,4DAAO;;QAjHmB,0DAAkC;QAAlC,+FAAkC;QAY3C,0DAA6D;QAA7D,iIAA6D;QAmD/E,0DAA0B;QAA1B,0FAA0B;QAYvB,0DAA4B;QAA5B,gIAA4B;QAa5B,0DAA4B;QAA5B,gIAA4B;QAY5B,0DAA4B;QAA5B,gIAA4B;QAWxB,0DAAwC;QAAxC,0JAAwC;;;;;;;;;;;;;;;;;;;;;;;;;AC3G9B;AAEc;;;;;;;;;;;IC4E5B,0EAIC;IADC,kYAAS,kFAAc,KAAC;IAExB,mEAAuC;IACzC,4DAAM;;;;;;IA9EV,4EAGC;IACC,0EAIC;IAC0B,uDAAQ;IAAA,4DAAM;IACvC,0EAAkD;IAwB9C,kXAAY,0FAAqB,KAAC;IAKnC,4DAAa;IAEhB,0EAAwB;IAwBpB,kXAAY,wFAAmB,KAAC;IAKjC,4DAAa;IAEhB,mIAMM;IACR,4DAAM;IACR,qEAAe;;;;IA3EX,0DAAmB;IAAnB,+EAAmB;IAIM,0DAAQ;IAAR,mFAAQ;IAqB7B,0DAAwB;IAAxB,gIAAwB;IADxB,0EAAiB;IAgCjB,0DAAwB;IAAxB,gIAAwB;IADxB,0EAAiB;IAalB,0DAAsE;IAAtE,kJAAsE;;;IAS/E,0EAIC;IACC,mEAAyD;IACzD,uEAAM;IAAC,uDAAyB;IAAA,4DAAO;;;IAAhC,0DAAyB;IAAzB,uGAAyB;;;;ADpF/B,MAAM,oBAAoB;IAkB/B,YACU,WAA+B,EAC/B,GAAqB,EACtB,MAA2B,EAC1B,kBAAsC,EACtC,WAAwB;QAJxB,gBAAW,GAAX,WAAW,CAAoB;QAC/B,QAAG,GAAH,GAAG,CAAkB;QACtB,WAAM,GAAN,MAAM,CAAqB;QAC1B,uBAAkB,GAAlB,kBAAkB,CAAoB;QACtC,gBAAW,GAAX,WAAW,CAAa;QAtBlC,kBAAa,GAAqB,IAAI,4DAAgB,CAAC;YACrD,SAAS,EAAE,IAAI,4DAAgB,CAAC,EAAE,CAAC;SACpC,CAAC,CAAC;QACH,cAAS,GAAqB,IAAI,4DAAgB,CAAC,EAAE,CAAC,CAAC;QAEvD,cAAS,GAAY,KAAK,CAAC;QAC3B,sBAAiB,GAAG,KAAK,CAAC;QAC1B,sBAAiB,GAAG,KAAK,CAAC;QAC1B,yBAAoB,GAAG,EAAE,CAAC;QAC1B,iBAAY,GAAG,KAAK,CAAC;QACrB,qBAAgB,GAAG,KAAK,CAAC;QACzB,cAAS,GAAG,EAAE,CAAC;QACf,sBAAiB,GAAG,IAAI,CAAC;QACzB,6BAAwB,GAAG,KAAK,CAAC;QAEjC,UAAK,GAAS,IAAI,IAAI,EAAE,CAAC;QAyDzB,mBAAc,GAAG,CAAC,CAAM,EAAE,CAAM,EAAE,EAAE,CAClC,CAAC,CAAC,YAAY,IAAI,CAAC,CAAC,YAAY;YAC9B,CAAC,CAAC,CAAC,CAAC,UAAU,IAAI,CAAC,CAAC,YAAY;gBAC9B,OAAO,CAAC,CAAC,UAAU,IAAI,OAAO,CAAC,CAAC,YAAY;YAC9C,CAAC,CAAC,CAAC,CAAC,YAAY,IAAI,CAAC,CAAC,UAAU;gBAC9B,OAAO,CAAC,CAAC,UAAU,IAAI,OAAO,CAAC,CAAC,YAAY,CAAC;IAtDhD,CAAC;IAEJ,IAAI,YAAY;QACd,OAAO,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,WAAW,CAAqB,CAAC;IACjE,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE;YAC9C,IAAI,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YAC3D,IAAI,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;YACjC,IAAI,SAAS,IAAI,QAAQ,EAAE;gBACzB,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;aAChC;iBAAM;gBACL,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;aAC/B;QACH,CAAC,CAAC,CAAC;QACH,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACxC,IACE,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,MAAM,GAAG,CAAC;YAClD,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,MAAM,IAAI,CAAC;gBAClD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,YAAY,IAAI,IAAI,CAAC,EAC/D;YACA,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;gBACrD,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;gBACnB,IAAI,CAAC,SAAS,CAAC,IAAI,CACjB,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,YAAY,EAAE,KAAK,CAAC,UAAU,CAAC,CAC3D,CAAC;gBACF,IAAI,CAAC,YAAY,CAAC,IAAI,CACpB,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,YAAY,EAAE,KAAK,CAAC,UAAU,CAAC,CAC3D,CAAC;YACJ,CAAC,CAAC,CAAC;SACJ;aAAM;YACL,IAAI,CAAC,YAAY,EAAE,CAAC;SACrB;QAED,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAC5B,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QAE/B,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,oDAAI,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,GAAG,EAAE,EAAE;YAC/C,IAAI,IAAI,CAAC,iBAAiB,EAAE;gBAC1B,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,mBAAmB,CAAC,CAAC;aACxD;iBAAM;gBACL,IAAI,IAAI,CAAC,iBAAiB,EAAE;oBAC1B,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,gCAAgC,CAAC,CAAC;iBACrE;aACF;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IASD,eAAe,CAAC,YAAiB,EAAE,UAAe;QAChD,OAAO,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YAC5B,YAAY,EAAE,YAAY;YAC1B,UAAU,EAAE,UAAU;SACvB,CAAC,CAAC;IACL,CAAC;IAED,eAAe;QACb,IAAI,SAAS,GAAG,EAAE,CAAC;QACnB,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;QAC/B,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;QAC1B,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;QAC9B,IAAI,CAAC,wBAAwB,GAAG,KAAK,CAAC;QACtC,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,EAAE,MAAM,EAAE;YAC5C,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;gBACxC,IAAI,KAAK,CAAC,KAAK,EAAE;oBACf,IACE,KAAK,CAAC,KAAK,CAAC,YAAY,IAAI,IAAI;wBAChC,KAAK,CAAC,KAAK,CAAC,UAAU,IAAI,IAAI,EAC9B;wBACA,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;qBAC1B;yBAAM,IACL,KAAK,CAAC,KAAK,CAAC,YAAY,GAAG,CAAC;wBAC5B,KAAK,CAAC,KAAK,CAAC,UAAU,GAAG,CAAC,EAC1B;wBACA,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC;qBACtC;yBAAM,IAAI,KAAK,CAAC,KAAK,CAAC,YAAY,IAAI,KAAK,CAAC,KAAK,CAAC,UAAU,EAAE;wBAC7D,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,YAAY,EAAE,KAAK,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;wBAC9D,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;qBAC9B;oBACD,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;iBAC7B;YACH,CAAC,CAAC,CAAC;YAEH,SAAS,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,CAAC,EAAE,EAAE;gBAC7B,IAAI,CAAC,GAAG,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;oBAC5B,IAAI,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,SAAS,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,EAAE;wBAC/D,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;qBAC/B;iBACF;YACH,CAAC,CAAC,CAAC;SACJ;IACH,CAAC;IAED,QAAQ,CAAC,CAAM,EAAE,CAAM;QACrB,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,kBAAkB,CAAC,OAAO,CAAC,EAAE,OAAO,CAAC,EAAE,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;QAClE,IAAI,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE;YAC1B,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAsB,EAAE,QAAQ,CACxD,YAAY,CACb,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;SACf;IACH,CAAC;IACD,UAAU,CAAC,CAAM,EAAE,CAAM;QACvB,OAAO,CAAC,GAAG,CACT,CAAC,EACA,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAsB,EAAE,QAAQ,CAAC,YAAY,CAAC,CACzE,CAAC;QACF,IAAI,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE;YAC1B,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAsB,EAAE,QAAQ,CACxD,cAAc,CACf,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;SACf;QACD,IACE,CAAE,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAsB,EAAE,QAAQ,CAAC,YAAY,CAAC;aACtE,KAAK;YACP,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAsB,EAAE,QAAQ,CAAC,YAAY,CAAC;iBACrE,KAAK,GAAG,CAAC,EACZ;YACA,IAAI,OAAO,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC;YAC1B,OAAO,CAAC,QAAQ,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;YAC7B,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;YACpB,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAsB,EAAE,QAAQ,CACxD,YAAY,CACb,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;SACrB;IACH,CAAC;IAED,YAAY;QACV,IAAI,IAAI,CAAC,SAAS,EAAE,MAAM,IAAI,EAAE,EAAE;YAChC,IAAI,CAAC,oBAAoB,GAAG,qCAAqC,CAAC;YAClE,UAAU,CAAC,GAAG,EAAE;gBACd,IAAI,CAAC,oBAAoB,GAAG,EAAE,CAAC;YACjC,CAAC,EAAE,IAAI,CAAC,CAAC;SACV;aAAM;YACL,IAAI,CAAC,eAAe,EAAE,CAAC;YACvB,IAAI,IAAI,CAAC,wBAAwB,EAAE;gBACjC,IAAI,CAAC,oBAAoB,GAAG,gCAAgC,CAAC;gBAC7D,UAAU,CAAC,GAAG,EAAE;oBACd,IAAI,CAAC,oBAAoB,GAAG,EAAE,CAAC;gBACjC,CAAC,EAAE,IAAI,CAAC,CAAC;aACV;iBAAM,IAAI,IAAI,CAAC,iBAAiB,EAAE;gBACjC,IAAI,CAAC,oBAAoB;oBACvB,6CAA6C,CAAC;gBAChD,UAAU,CAAC,GAAG,EAAE;oBACd,IAAI,CAAC,oBAAoB,GAAG,EAAE,CAAC;gBACjC,CAAC,EAAE,IAAI,CAAC,CAAC;aACV;iBAAM,IAAI,IAAI,CAAC,YAAY,EAAE;gBAC5B,IAAI,CAAC,oBAAoB,GAAG,yCAAyC,CAAC;gBACtE,UAAU,CAAC,GAAG,EAAE;oBACd,IAAI,CAAC,oBAAoB,GAAG,EAAE,CAAC;gBACjC,CAAC,EAAE,IAAI,CAAC,CAAC;aACV;iBAAM,IAAI,IAAI,CAAC,gBAAgB,EAAE;gBAChC,IAAI,CAAC,oBAAoB;oBACvB,mDAAmD,CAAC;gBACtD,UAAU,CAAC,GAAG,EAAE;oBACd,IAAI,CAAC,oBAAoB,GAAG,EAAE,CAAC;gBACjC,CAAC,EAAE,IAAI,CAAC,CAAC;aACV;iBAAM;gBACL,IAAI,CAAC,wBAAwB,GAAG,KAAK,CAAC;gBACtC,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;gBAC/B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,GAAG,CACrC,WAAW,CACQ,CAAC;gBACtB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC;aACvD;SACF;IACH,CAAC;IAED,WAAW,CAAC,CAAC;QACX,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,WAAW,CAAqB,CAAC;QACzE,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;IAC7B,CAAC;IAED,cAAc;QACZ,IAAI,CAAC,eAAe,EAAE,CAAC;QACvB,IAAI,IAAI,CAAC,wBAAwB,EAAE;YACjC,IAAI,CAAC,oBAAoB,GAAG,gCAAgC,CAAC;YAC7D,UAAU,CAAC,GAAG,EAAE;gBACd,IAAI,CAAC,oBAAoB,GAAG,EAAE,CAAC;YACjC,CAAC,EAAE,IAAI,CAAC,CAAC;SACV;aAAM,IAAI,IAAI,CAAC,iBAAiB,EAAE;YACjC,IAAI,CAAC,oBAAoB;gBACvB,iDAAiD,CAAC;YACpD,UAAU,CAAC,GAAG,EAAE;gBACd,IAAI,CAAC,oBAAoB,GAAG,EAAE,CAAC;YACjC,CAAC,EAAE,IAAI,CAAC,CAAC;SACV;aAAM,IAAI,IAAI,CAAC,gBAAgB,EAAE;YAChC,IAAI,CAAC,oBAAoB;gBACvB,mDAAmD,CAAC;YACtD,UAAU,CAAC,GAAG,EAAE;gBACd,IAAI,CAAC,oBAAoB,GAAG,EAAE,CAAC;YACjC,CAAC,EAAE,IAAI,CAAC,CAAC;SACV;aAAM;YACL,IAAI,IAAI,CAAC,YAAY,EAAE;gBACrB,IAAI,CAAC,oBAAoB,GAAG,yCAAyC,CAAC;gBACtE,UAAU,CAAC,GAAG,EAAE;oBACd,IAAI,CAAC,oBAAoB,GAAG,EAAE,CAAC;gBACjC,CAAC,EAAE,IAAI,CAAC,CAAC;aACV;iBAAM;gBACL,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;gBAE9B,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,CAAC,EAAE,EAAE;oBACtD,IACE,CAAC,GAAG,CAAC;wBACL,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,IAAI,IAAI,CAAC,CAAC,MAAM,EACxD;wBACA,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;qBACjD;gBACH,CAAC,CAAC,CAAC;gBAEH,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC;gBAC1C,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;aACtD;SACF;IACH,CAAC;IAED,UAAU;QACR,IAAI,CAAC,cAAc,EAAE,CAAC;QACtB,IAAI,IAAI,CAAC,iBAAiB,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;YAChD,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;SAChC;IACH,CAAC;;wFA3PU,oBAAoB;kHAApB,oBAAoB;QCfjC,sEAAK;QAIoD,oEAAS;QAAA,4DAAQ;QAEpE,yEAAwB;QACyB,kEAAO;QAAA,4DAAQ;QAGlE,yEAA8B;QAC5B,sIAgFe;QACjB,4DAAM;QACN,kHAOM;QACN,0EAA+B;QASzB,6IAAS,kBAAc,IAAC;QACzB,4DAAS;QAGd,2EAA2C;QAQrC,6IAAS,oBAAgB,IAAC;QAE3B,4DAAS;QAEZ,2EAAmB;QAMf,6IAAS,gBAAY,IAAC;QAGvB,4DAAS;QAGd,2EAA8D;QAK1D,oEAAyD;QACzD,4EACG;QAAA,gGACH;QAAA,4DAAO;;QAjJmB,0DAA2B;QAA3B,wFAA2B;QAYpC,0DAA+C;QAA/C,mHAA+C;QAmFjE,0DAA0B;QAA1B,0FAA0B;QAYvB,0DAA4B;QAA5B,gIAA4B;QAa5B,0DAA4B;QAA5B,gIAA4B;QAY5B,0DAA4B;QAA5B,gIAA4B;QAWxB,0DAAwC;QAAxC,0JAAwC;;;;;;;;;;;;;;;;;;AC3I/C,MAAM,mBAAmB;IAC9B;QAEA,sBAAiB,GAAQ,EAAE,IAAI,EAAE,YAAY,EAAE,IAAI,EAAE,kBAAkB,EAAE,CAAC;IAF3D,CAAC;IAIhB,iBAAiB,CACf,uBAA4B,EAC5B,qBAA0B,EAC1B,kBAAuB,EACvB,mBAAwB,EACxB,oBAAyB,EACzB,kBAAuB;QAEvB,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,qBAAqB,CAAC,CAAC;QAC1C,IAAI,qBAAqB,GAAG,EAAE,CAAC;QAC/B,IAAI,sBAAsB,GAAG,EAAE,CAAC;QAEhC,qBAAqB,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;YACxC,IAAI,YAAY,GAAG,OAAO,EAAE,YAAY,CAAC;YACzC,IAAI,WAAW,GAAG,KAAK,CAAC;YACxB,IAAI,WAAW,GAAG,KAAK,CAAC;YACxB,IAAI,cAAc,GAAG,EAAE,CAAC;YACxB,IAAI,aAAa,GAAG,uBAAuB,CAAC,IAAI,CAAC,UAAU,CAAC;YAE5D,IACE,mBAAmB;gBACnB,mBAAmB,CAAC,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,EACnD;gBACA,WAAW,GAAG,IAAI,CAAC;aACpB;YACD,IACE,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,MAAM;gBACjC,aAAa,CAAC,OAAO,CAAC,SAAS,CAAC;gBAChC,aAAa,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,MAAM,EAC1C;gBACA,WAAW,GAAG,IAAI,CAAC;gBACnB,cAAc,GAAG,aAAa,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;aACnD;iBAAM;gBACL,sBAAsB,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;aAChD;YAED,IAAI,CAAC,WAAW,EAAE;gBAChB,IAAI,YAAY,GAAG,EAAE,CAAC;gBACtB,IAAI,kBAAkB,GAAG,EAAE,CAAC;gBAE5B,IAAI,eAAe,GAAG,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;gBAE1C,IAAI,GAAG,GAAQ,EAAE,CAAC;gBAElB,OAAO,eAAe,CAAC,MAAM,EAAE;oBAC7B,YAAY,GAAG,EAAE,CAAC;oBAClB,YAAY,GAAG,CAAC,GAAG,eAAe,CAAC,CAAC;oBACpC,eAAe,GAAG,EAAE,CAAC;oBACrB,YAAY,CAAC,OAAO,CAAC,CAAC,QAAQ,EAAE,EAAE;wBAChC,IAAI,YAAY,GAAG,MAAM,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC,MAAM,CACzD,CAAC,GAAG,EAAE,EAAE,CAAC,oBAAoB,CAAC,GAAG,CAAC,IAAI,QAAQ,CAC/C,CAAC;wBAEF,IAAI,SAAS,GAAG,EAAE,CAAC;wBACnB,YAAY,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;4BAC/B,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;4BACxB,eAAe,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;4BAC9B,GAAG,CAAC,oBAAoB,CAAC,OAAO,CAAC,CAAC,GAAG,SAAS,CAAC;4BAC/C,kBAAkB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;wBACpC,CAAC,CAAC,CAAC;oBACL,CAAC,CAAC,CAAC;iBACJ;gBACD,IAAI,KAAK,GAAG;oBACV,KAAK,EAAE,OAAO,CAAC,WAAW;oBAC1B,IAAI,EAAE,OAAO,CAAC,SAAS;oBACvB,WAAW,EAAE,WAAW;oBACxB,WAAW,EAAE,WAAW;oBACxB,cAAc,EAAE,cAAc;oBAC9B,QAAQ,EAAE,IAAI;oBACd,YAAY,EAAE,YAAY;iBAC3B,CAAC;gBACF,qBAAqB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBAClC,IAAI,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE;oBAC3B,KAAK,MAAM,CAAC,GAAG,EAAE,KAAK,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;wBAC9C,IAAI,QAAQ,GAAG,EAAE,CAAC;wBACjB,KAAY,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;4BAC7B,IAAI,aAAa,GAAG,qBAAqB,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE;gCACrD,OAAO,GAAG,CAAC,SAAS,IAAI,IAAI,CAAC;4BAC/B,CAAC,CAAC,EAAE,YAAY,CAAC;4BACjB,IAAI,YAAY,GAAG,KAAK,CAAC;4BACzB,IAAI,YAAY,GAAG,KAAK,CAAC;4BACzB,IAAI,eAAe,GAAG,EAAE,CAAC;4BACzB,IAAI,cAAc,GAAG,uBAAuB,CAAC,IAAI,CAAC,UAAU,CAAC;4BAE7D,IACE,mBAAmB;gCACnB,mBAAmB,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,EACtC;gCACA,YAAY,GAAG,IAAI,CAAC;6BACrB;4BACD,IACE,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,MAAM;gCAClC,cAAc,CAAC,IAAI,CAAC;gCACpB,cAAc,CAAC,IAAI,CAAC,IAAI,MAAM,EAC9B;gCACA,YAAY,GAAG,IAAI,CAAC;gCACpB,eAAe,GAAG,cAAc,CAAC,IAAI,CAAC,CAAC;6BACxC;4BAED,IACE,qBAAqB,CAAC,MAAM,CAC1B,CAAC,IAAgD,EAAE,EAAE;gCACnD,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,IAAI,CAAC;4BACnC,CAAC,CACF,CAAC,MAAM,EACR;gCACA,IAAI,SAAS,GAAG,IAAI,CAAC;gCACrB,IAAI,WAAW,GAAG,IAAI,CAAC;gCAEvB,oEAAoE;gCAEpE,WAAW,GAAG,qBAAqB,CAAC,MAAM,CACxC,CAAC,IAAgD,EAAE,EAAE;oCACnD,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,IAAI,CAAC;gCACnC,CAAC,CACF,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC;gCAEpB,mEAAmE;gCACnE,yBAAyB;gCACzB,SAAS;gCACT,IAAI,CAAC,WAAW,EAAE;oCAChB,IAAI,SAAS,GAAG,MAAM,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,IAAI,CAClD,CAAC,GAAG,EAAE,EAAE,CAAC,kBAAkB,CAAC,GAAG,CAAC,KAAK,IAAI,CAC1C,CAAC;oCAEF,IAAI,SAAS,EAAE;wCACb,WAAW,GAAG,IAAI,CAAC;qCACpB;iCACF;gCACD,yEAAyE;gCAEzE,IAAI,UAAU,GAAG;oCACf,KAAK,EAAE,SAAS;oCAChB,IAAI,EAAE,WAAW;oCACjB,WAAW,EAAE,YAAY;oCACzB,WAAW,EAAE,YAAY;oCACzB,cAAc,EAAE,eAAe;oCAC/B,QAAQ,EAAE,IAAI;oCACd,YAAY,EAAE,aAAa;iCAC5B,CAAC;gCACF,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;6BAC3B;wBACH,CAAC,CAAC,CAAC;wBAEH,IAAI,QAAQ,CAAC,MAAM,EAAE;4BACnB,IAAI,CAAC,aAAa,CAAC,qBAAqB,EAAE,OAAO,EAAE,GAAG,CAAC,CACrD,UAAU,CACX,GAAG,QAAQ,CAAC;yBACd;qBACF;iBACF;aACF;QACH,CAAC,CAAC,CAAC;QAEH,OAAO;YACL,qBAAqB,EAAE,qBAAqB;YAC5C,sBAAsB,EAAE,sBAAsB;SAC/C,CAAC;IACJ,CAAC;IAED,aAAa,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS;QAC3C,IAAI,QAAQ,CAAC;QACb,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,CAAC,CAAC,EAAE,WAAW,EAAE,EAAE;YAC3C,IAAI,WAAW,IAAI,WAAW,CAAC,SAAS,CAAC,KAAK,SAAS,EAAE;gBACvD,QAAQ,GAAG,WAAW,CAAC;aACxB;YACD,OAAO,WAAW,CAAC;QACrB,CAAC,CAAC,CAAC;QACH,OAAO,QAAQ,CAAC;IAClB,CAAC;IAED,8BAA8B,CAAC,OAAY;QACzC,IAAI,SAAS,GAAG,EAAE,CAAC;QACnB,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,EAAE,KAAK,CAAC,EAAE,KAAK,EAAE,EAAE;YACtD,IAAI,QAAQ,GAAG,EAAE,CAAC;YAClB,IAAI,UAAU,GAAG,KAAK,CAAC;YACvB,IAAI,UAAU,GAAG,KAAK,CAAC;YACvB,IAAI,SAAS,GAAG,EAAE,CAAC;YACnB,IAAI,QAAQ,GAAG,IAAI,CAAC;YACpB,IAAI,QAAQ,GAAG,IAAI,CAAC;YACpB,IAAI,UAAU,GAAG,KAAK,CAAC;YACvB,IAAI,SAAS,GAAG,KAAK,CAAC;YACtB,IAAK,KAAgB,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;gBACpC,SAAS,GAAI,KAAgB,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC7C,UAAU,GAAG,KAAK,CAAC;gBACnB,UAAU;oBACP,KAAgB,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,gBAAgB;wBACnD,KAAgB,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,eAAe;wBACjD,CAAC,CAAC,IAAI;wBACN,CAAC,CAAC,KAAK,CAAC;gBACZ,SAAS,GAAI,KAAgB,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;gBACvE,UAAU;oBACP,KAAgB,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;gBAC9D,QAAQ,GAAG,OAAO,CAAC;gBACnB,QAAQ,GAAG,OAAO,CAAC;aACpB;iBAAM;gBACL,SAAS,GAAG,KAAe,CAAC;gBAC5B,UAAU,GAAG,IAAI,CAAC;gBAClB,UAAU,GAAG,KAAK,CAAC;gBACnB,SAAS,GAAG,KAAK,CAAC;gBAClB,UAAU,GAAG,KAAK,CAAC;aACpB;YACD,QAAQ,GAAG;gBACT,KAAK,EAAE,SAAS;gBAChB,MAAM,EAAE,GAAG;gBACX,QAAQ,EAAE,UAAU;gBACpB,QAAQ,EAAE,UAAU;gBACpB,OAAO,EAAE,SAAS;gBAClB,QAAQ,EAAE,UAAU;gBACpB,QAAQ,EAAE,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,OAAO;aACxC,CAAC;YACF,IAAI,QAAQ,EAAE;gBACZ,QAAQ,CAAC,UAAU,CAAC,GAAG,QAAQ,CAAC;aACjC;YACD,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC3B,CAAC,CAAC,CAAC;QACH,OAAO,SAAS,CAAC;IACnB,CAAC;IAED,gCAAgC,CAAC,YAAiB;QAChD,IAAI,qBAAqB,GAAG,IAAI,CAAC;QACjC,IAAI,mBAAmB,GAAG,IAAI,CAAC;QAC/B,IAAI,qBAAqB,GAAG,IAAI,CAAC;QACjC,IAAI,YAAY,GAAG,IAAI,CAAC;QACxB,IAAI,YAAY,GAAG,IAAI,CAAC;QACxB,IAAI,UAAU,GAAG,EAAE,CAAC;QACpB,IAAI,WAAW,GAAG,EAAE,CAAC;QAErB,IAAI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,MAAM,EAAE;YAC9C,IAAI,MAAM,IAAI,IAAI,CAAC,iBAAiB,EAAE;gBACpC,YAAY,GAAG,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;aAC/C;YACD,IAAI,MAAM,IAAI,IAAI,CAAC,iBAAiB,EAAE;gBACpC,YAAY,GAAG,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;aAC/C;SACF;QACD,IAAI,YAAY,CAAC,aAAa,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE;YAChD,IAAI,YAAY,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,MAAM,IAAI,CAAC,EAAE;gBACzD,qBAAqB,GAAG,YAAY,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;gBACrE,mBAAmB,GAAG,YAAY,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;gBACnE,qBAAqB,GAAG,YAAY,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;gBAErE,IAAI,mBAAmB,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE;oBACzC,UAAU,GAAG,IAAI,CAAC,aAAa,CAAC,mBAAmB,CAAC,CAAC;oBACrD,qBAAqB,IAAI,IACvB,YAAY,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,QAChC,SAAS,CAAC;iBACX;gBAED,IAAI,qBAAqB,CAAC,QAAQ,CAAC,eAAe,CAAC,EAAE;oBACnD,WAAW,GAAG,IAAI,CAAC,cAAc,CAAC,qBAAqB,CAAC,CAAC;oBACzD,qBAAqB,IAAI,IACvB,YAAY,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,MAChC,SAAS,CAAC;iBACX;aACF;iBAAM,IAAI,YAAY,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,MAAM,IAAI,CAAC,EAAE;gBAChE,qBAAqB,GAAG,YAAY,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;gBACrE,mBAAmB,GAAG,YAAY,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;gBAEnE,IAAI,mBAAmB,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE;oBACzC,UAAU,GAAG,IAAI,CAAC,aAAa,CAAC,mBAAmB,CAAC,CAAC;oBACrD,qBAAqB,IAAI,IACvB,YAAY,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,QAChC,SAAS,CAAC;iBACX;qBAAM,IAAI,mBAAmB,CAAC,QAAQ,CAAC,eAAe,CAAC,EAAE;oBACxD,WAAW,GAAG,IAAI,CAAC,cAAc,CAAC,mBAAmB,CAAC,CAAC;oBACvD,qBAAqB,IAAI,IACvB,YAAY,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,MAChC,SAAS,CAAC;iBACX;aACF;SACF;aAAM;YACL,qBAAqB,GAAG,YAAY,CAAC,aAAa,CAAC,CAAC;SACrD;QAED,OAAO;YACL,OAAO,EAAE,qBAAqB,CAAC,KAAK,CAAC,GAAG,CAAe;YACvD,UAAU,EAAE,UAAU;YACtB,WAAW,EAAE,WAAW;SACzB,CAAC;IACJ,CAAC;IAED,cAAc,CAAC,QAAgB;QAC7B,IAAI,OAAO,GAAG,EAAE,CAAC;QACjB,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE,EAAE;YACrC,IAAI,OAAO,GAAG,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YAClD,IAAI,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YAChD,OAAO,CAAC,IAAI,CAAC;gBACX,YAAY,EAAE,OAAO;gBACrB,UAAU,EAAE,KAAK;aAClB,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;QACH,OAAO,OAAO,CAAC;IACjB,CAAC;IAED,aAAa,CAAC,QAAgB;QAC5B,IAAI,UAAU,GAAG,EAAE,CAAC;QACpB,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE,EAAE;YACrC,IAAI,OAAO,GAAG,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YAClD,IAAI,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YAChD,UAAU,CAAC,IAAI,CAAC;gBACd,IAAI,EAAE,CAAC,OAAO;gBACd,EAAE,EAAE,CAAC,KAAK;aACX,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;QACH,OAAO,UAAU,CAAC;IACpB,CAAC;;sFAvTU,mBAAmB;oHAAnB,mBAAmB,WAAnB,mBAAmB,mBAFlB,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACD8C;AACZ;AACtB;AACW;AAE0D;AAU7E;AAEuB;;;;;;;;;;;;;;;;;;;;;;;;ICoD/B,6EAQC;IADC,sSAAS,4EAAU,KAAC;IACrB,4DAAS;;;IAHR,4HAAqD;;;IA6BvD,0EAA2B;IACpB,uDAAkB;IAAA,4DAAM;;;IAAxB,0DAAkB;IAAlB,iFAAkB;;;IAqBzB,0EAA2B;IACpB,uDAAkB;IAAA,4DAAM;;;IAAxB,0DAAkB;IAAlB,iFAAkB;;;;IAQrC,0EAGC;IAYY,mEAAQ;IAAA,4DAAI;IACf,4EAA+D;IAAjC,+YAAqB;IAAnD,4DAA+D;IAGnE,0EAAmD;IAG7C,6EAAgB;IAAA,4EAAmC;IAAA,6DAAC;IAAA,4DAAO;IAE7D,6EAQE;IALA,uZAA4B,uPAIhB,oFAAkB,KAJF;IAH9B,4DAQE;;;IAvBF,0DAIC;IAJD,8KAIC;IAG6B,0DAAqB;IAArB,mFAAqB;IAWjD,0DAA4B;IAA5B,0FAA4B;;;;IAWxC,2FA8BC;IAVC,sVAAoB,uFAAqB,KAAC,0SAChB,gGAA8B,KADd,0SAG/B,uJAKd,KAR6C;IAU3C,4DAAmB;;;IA3BlB,yGAAyC;;;IA4CrC,6EAAwD;IACtD,uDACF;IAAA,4DAAS;;IADP,0DACF;IADE,uFACF;;;IAsBU,2EACG;IAAA,4DAAC;IAAA,4DACH;;;;IAbH,yEASC;IACC,uDACA;IAAA,4IAEC;IACH,4DAAK;;;;IAXH,sLAEE;IAKF,0DACA;IADA,0FACA;IAAO,0DAAgC;IAAhC,wGAAgC;;;IAZ3C,qEAAI;IACF,mIAcK;IACP,4DAAK;;;IAde,0DAAgC;IAAhC,0GAAgC;;;IAmD9C,0EAA2B;IACpB,uDAAsB;IAAA,4DAAM;;;IAA5B,0DAAsB;IAAtB,qFAAsB;;;;IAzB/B,0EAGC;IAWD,ogBACiC,yFAAmB,OAAO,8BACtD;IAON,gKAIe;IACE,4DAAa;;;;;IAvB7B,0DAAyC;IAAzC,0GAAyC;;;;IAyBzC,0EAIC;IAIG,ghBAAyB,OAAO,iBAAG,8kBAMnD,iIACI,CAAC,EAAE,OAAO,WACR,OAAO,8BAIF,KAZwC;IAkBpC,4DAAgB;;;;;IAxBjB,4GAA2C;IAKzC,0DAAS;IAAT,kEAAS;;;;IAqBb,0EAGC;IAEG,6hBAAgC;IADlC,4DAKE;;;;IAPF,4GAA2C;IAGzC,0DAAgC;IAAhC,+FAAgC;;;;IAUlC,wEAEC;IACC,6EASC;IALC,+nBAC+B,6HACvC,OAAO,EAAE;IAGF,4DAAS;IACZ,qEAAe;;;;IAPX,0DAAqD;IAArD,sHAAqD;;;IAV3D,0EAGC;IACC,kKAae;IACjB,4DAAM;;;;IAbc,0DAAoC;IAApC,4JAAoC;;;;;IAcxD,0EAGC;IAMK,iaAAS,oGAA8B,KAAC;IAJ1C,4DASE;IACF,sEAGQ;IACV,4DAAQ;;;;;IAZJ,0DAA+B;IAA/B,gGAA+B;IAU/B,0DAAqC;IAArC,+JAAqC;;;IAlH7C,yEAQC;IACC,0IA6BwB;IACxB,0IA2BM;IACN,0IAUM;IACN,0IAkBM;IACN,0IAoBM;IACR,4DAAK;;;IA/GH,qFAAwB;IAGrB,0DAAoC;IAApC,oGAAoC;IA8BpC,0DAAiC;IAAjC,iGAAiC;IA4BjC,0DAAgC;IAAhC,gGAAgC;IAWhC,0DAAkC;IAAlC,kGAAkC;IAmBlC,0DAA6B;IAA7B,6FAA6B;;;IAnGpC,qEAAI;IACF,mIAsHK;IACP,4DAAK;;;IArHgC,0DAE3C;IAF2C,0GAE3C;;;IAuHM,qEAAI;IAEA,2EACF;IAAA,4DAAK;;;IAFD,0DAAqD;IAArD,kHAAqD;;;IA3KzE,0EAA8E;IAItE,6EACA;IAAA,qEAKE;IACJ,4DAAI;IAEN,0EAAoC;IAEhC,4HAES;IACT,0EAAsC;IAQlC,wIAkBc;IACd,wIA0Hc;IAEd,wIAMc;IAChB,4DAAU;;;IAjKc,0DAA4B;IAA5B,+FAA4B;IAMlD,0DAAoC;IAApC,oGAAoC;;;IAkKlD,0EAKC;IAEuB,qEAAsC;IAAA,4DAAM;IAElE,yEAAiB;IAEV,2EAAgB;IAAA,4DAAI;;ADrXtB,MAAM,kBAAkB;IAoH7B,YACU,cAA8B,EAC/B,aAA4B,EAC5B,cAA8B,EAC7B,MAAc,EACd,KAAqB,EACrB,WAAwB,EACxB,mBAAwC,EACxC,kBAAsC,EACtC,kBAAsC,EACtC,mBAAwC,EACxC,EAAsB;QAVtB,mBAAc,GAAd,cAAc,CAAgB;QAC/B,kBAAa,GAAb,aAAa,CAAe;QAC5B,mBAAc,GAAd,cAAc,CAAgB;QAC7B,WAAM,GAAN,MAAM,CAAQ;QACd,UAAK,GAAL,KAAK,CAAgB;QACrB,gBAAW,GAAX,WAAW,CAAa;QACxB,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,uBAAkB,GAAlB,kBAAkB,CAAoB;QACtC,uBAAkB,GAAlB,kBAAkB,CAAoB;QACtC,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,OAAE,GAAF,EAAE,CAAoB;QA5HhC,iBAAY,GAAG,sBAAsB,CAAC;QAEtC,WAAM,GAAG,EAAE,CAAC;QACZ,UAAK,GAAG,EAAE,CAAC;QACX,SAAI,GAAG,KAAK,CAAC;QACb,aAAQ,GAAG,cAAc,CAAC;QAE1B,YAAO,GAAG,SAAS,CAAC;QACpB,mBAAc,GAAG,EAAE,CAAC;QAEpB,gBAAW,GAAY,KAAK,CAAC;QAC7B,eAAU,GAAQ,EAAE,CAAC;QAErB,uBAAkB,GAAY,KAAK,CAAC;QAEpC,+BAA0B,GAAQ,IAAI,CAAC;QACvC,+BAA0B,GAAQ,IAAI,CAAC;QACvC,eAAU,GAAG,MAAM,CAAC,IAAI,CAAC;QACzB,eAAU,GAAG,KAAK,CAAC;QAEnB,0BAAqB,GAAQ,EAAE,CAAC;QAEhC,uBAAkB,GAAQ,EAAE,CAAC;QAC7B,4BAAuB,GAAQ,EAAE,CAAC;QAClC,wBAAmB,GAAG,EAAE,CAAC;QACzB,yBAAoB,GAAQ,EAAE,CAAC;QAC/B,0BAAqB,GAAQ,EAAE,CAAC;QAChC,2BAAsB,GAAQ,EAAE,CAAC;QACjC,uBAAkB,GAAQ,EAAE,IAAI,EAAE,YAAY,EAAE,IAAI,EAAE,kBAAkB,EAAE,CAAC;QAC3E,gCAA2B,GAAQ,EAAE,CAAC;QACtC,0BAAqB,GAAG,EAAE,CAAC;QAC3B,6BAAwB,GAAG,EAAE,CAAC;QAC9B,4BAAuB,GAAG,EAAE,CAAC;QAE7B,iBAAY,GAAU,EAAE,CAAC;QACzB,qBAAgB,GAAU,EAAE,CAAC;QAE7B,gCAA2B,GAAG,IAAI,CAAC;QAEnC,iBAAY,GAAY,KAAK,CAAC;QAC9B,2BAAsB,GAAY,KAAK,CAAC;QAExC,0BAAqB,GAAU,EAAE,CAAC;QAClC,sBAAiB,GAAG,KAAK,CAAC;QAC1B,kCAA6B,GAAU,EAAE,CAAC;QAC1C,gBAAW,GAAU;YACnB,IAAI;YACJ,sBAAsB;YACtB,wBAAwB;YACxB,2BAA2B;YAC3B,mBAAmB;YACnB,gBAAgB;YAChB,KAAK;YACL;gBACE,KAAK,EAAE,OAAO;gBACd,MAAM,EAAE,QAAQ;gBAChB,SAAS,EAAE,UAAU;gBACrB,MAAM,EAAE,KAAK;gBACb,IAAI,EAAE,IAAI;aACX;YACD;gBACE,KAAK,EAAE,KAAK;gBACZ,MAAM,EAAE,KAAK;gBACb,SAAS,EAAE,OAAO;gBAClB,MAAM,EAAE,KAAK;gBACb,IAAI,EAAE,IAAI;aACX;YACD;gBACE,KAAK,EAAE,cAAc;gBACrB,MAAM,EAAE,eAAe;gBACvB,SAAS,EAAE,UAAU;gBACrB,MAAM,EAAE,KAAK;gBACb,IAAI,EAAE,IAAI;aACX;YACD;gBACE,KAAK,EAAE,UAAU;gBACjB,MAAM,EAAE,QAAQ;gBAChB,MAAM,EAAE,KAAK;gBACb,IAAI,EAAE,IAAI;aACX;YACD;gBACE,KAAK,EAAE,QAAQ;gBACf,MAAM,EAAE,QAAQ;gBAEhB,SAAS,EAAE,QAAQ;gBACnB,MAAM,EAAE,IAAI;gBACZ,IAAI,EAAE,IAAI;aACX;SACF,CAAC;QACF,+BAA0B,GAAU,EAAE,CAAC;QAEvC,kBAAa,GAAU,EAAE,CAAC;QAC1B,gBAAW,GAAU,EAAE,CAAC;QACxB,uBAAkB,GAAU,EAAE,CAAC;QAE/B,WAAM,GAAG,CAAC,CAAC;QACX,cAAS,GAAG,GAAG,CAAC;QAChB,iBAAY,GAAG,MAAM,CAAC;QAEtB,4BAAuB,GAAQ,EAAE,CAAC;QAElC,6BAAwB,GAAU,EAAE,CAAC;QACrC,wBAAmB,GAAU,EAAE,CAAC;QAEhC,wBAAmB,GAAQ,EAAE,CAAC;QAE9B,yBAAoB,GAAY,KAAK,CAAC;QACtC,gBAAW,GAAY,KAAK,CAAC;QAE7B,qBAAgB,GAAG,EAAE,CAAC;QAEtB,oBAAe,GAAG,OAAO,CAAC;IAcvB,CAAC;IAKJ,QAAQ;QACN,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;QAClB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;YACjC,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAC1B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;QACrE,MAAM,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,MAAM,CAAC;QACnD,IAAI,MAAM,IAAI,MAAM,CAAC,EAAE,EAAE;YACvB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CACjE,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,CAAC,CACnE,CAAC;YACF,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,EAAE,CAAC;SACxB;QAED,oBAAoB;QAEpB,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC,KAAK,CACxC,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAClC,CAAC;QACF,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;QACzE,IAAI,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,CAAC;QACjE,IAAI,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;QAE3D,IAAI,MAAM,GAAG,IAAI,CAAC;QAClB,IAAI,MAAM,GAAG,IAAI,CAAC;QAElB,IAAI,UAAU,EAAE;YACd,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;YACxB,MAAM,GAAG,IAAI,CAAC,wBAAwB,CAAC,MAAM,CAC3C,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,IAAI,UAAU,CAAC,eAAe,CAAC,IAAI,CACrD,CAAC,CAAC,CAAC,CAAC;YACL,MAAM,GAAG,IAAI,CAAC,mBAAmB,CAAC,MAAM,CACtC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,IAAI,UAAU,CAAC,UAAU,CAAC,IAAI,CAChD,CAAC,CAAC,CAAC,CAAC;SACN;aAAM;YACL,IAAI,SAAS,EAAE;gBACb,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC,CAAC;gBAC7D,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC;aACzD;SACF;QAED,IAAI,MAAM,EAAE;YACV,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;SACjC;QACD,IAAI,MAAM,EAAE;YACV,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;SACpC;QACD,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,IAAI,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE;YAC/C,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC;YACzB,IAAI,CAAC,eAAe,EAAE,CAAC;YACvB,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;YACjC,IAAI,IAAI,CAAC,IAAI,IAAI,KAAK,EAAE;gBACtB,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;gBACvB,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC;aAC3B;SACF;aAAM;YACL,IAAI,IAAI,CAAC,IAAI,IAAI,KAAK,EAAE;gBACtB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC;aAC/C;iBAAM;gBACL,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;aACxC;SACF;QAED,wBAAwB;QAExB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,kBAAkB,CAAC,OAAO,EAAE,CAAC;QACpD,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QACvC,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,UAAU,EAAE;YAC9D,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;SACzB;IACH,CAAC;IACD,kBAAkB;QAChB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YACnC,YAAY,EAAE,IAAI,8DAAkB,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAE,EAAE;gBACnE,+DAAmB;aACpB,CAAC;YACF,OAAO,EAAE,IAAI,8DAAkB,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,EAAE;gBAC7D,+DAAmB;aACpB,CAAC;SACH,CAAC,CAAC;IACL,CAAC;IAED,IAAI,OAAO;QACT,OAAO,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;IAClD,CAAC;IACD,IAAI,UAAU;QACZ,OAAO,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;IAC7C,CAAC;IAED,gBAAgB;QACd,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QACzB,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;QAClC,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;QACxB,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC;IAC3B,CAAC;IAED,eAAe;QACb,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;QACrC,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QACvB,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;QAC3B,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;QACjC,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QACzB,IAAI,CAAC,qBAAqB,EAAE,CAAC;QAC7B,IAAI,CAAC,eAAe,EAAE,CAAC;IACzB,CAAC;IAED,UAAU,CAAC,KAAoB;QAC7B,MAAM,SAAS,GAAG,MAAM,CAAC,YAAY,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAEtD,0CAA0C;QAC1C,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE;YACvC,KAAK,CAAC,cAAc,EAAE,CAAC;SACxB;IACH,CAAC;IAED,uBAAuB,CAAC,OAAY,EAAE,SAAc;QAClD,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACpB,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;QACrC,IAAI,CAAC,6BAA6B,GAAG,EAAE,CAAC;QAExC,IAAI,CAAC,6BAA6B,GAAG,IAAI,CAAC,KAAK,CAC7C,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CACjC,CAAC;QAEF,IAAI,CAAC,kBAAkB;aACpB,oBAAoB,CACnB,OAAO,EACP,SAAS,EACT,IAAI,CAAC,kBAAkB,CAAC,eAAe,EACvC,IAAI,CAAC,kBAAkB,CAAC,UAAU,EAClC,IAAI,CAAC,QAAQ,CACd;aACA,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;gBACzB,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;iBAClE;aACF;iBAAM;gBACL,IAAI,GAAG,CAAC,MAAM,CAAC,EAAE;oBACf,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;oBACxB,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;oBAE7D,IAAI,CAAC,gBAAgB;wBACnB,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;oBAE9C,IAAI,CAAC,YAAY;wBACf,IAAI,CAAC,kBAAkB,CAAC,uBAAuB,CAC7C,IAAI,CAAC,gBAAgB,EACrB,IAAI,CAAC,kBAAkB,EACvB,IAAI,CAAC,gBAAgB,CACtB,CAAC;oBAEJ,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC,SAAS,CAAC,CAAC;oBAC9B,IAAI,GAAG,CAAC,aAAa,CAAC,EAAE;wBACtB,IAAI,CAAC,cAAc,GAAG,GAAG,CAAC,aAAa,CAAC,CAAC;qBAC1C;oBACD,IAAI,CAAC,kBAAkB,GAAG,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;oBACjD,IAAI,CAAC,0BAA0B,GAAG,GAAG,CAAC,aAAa,CAAC,CAAC;oBACrD,IAAI,CAAC,yBAAyB,CAAC,GAAG,CAAC,CAAC;oBAEpC,8DAA8D;oBAC9D,6DAA6D;oBAC7D,MAAM;oBACN,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,EAAE;wBACnD,OAAO,EAAE,IAAI,EAAE,MAAM,CAAC,IAAI,EAAE,QAAQ,EAAE,MAAM,CAAC,QAAQ,EAAE,CAAC;oBAC1D,CAAC,CAAC,CAAC;oBACH,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;oBAErC,IAAI,cAAc,GAAG,KAAK,CAAC;oBAC3B,IAAI,eAAe,GAAG,KAAK,CAAC;oBAE5B,IAAI,GAAG,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;wBAC5C,cAAc,GAAG,IAAI,CAAC;qBACvB;oBAED,IAAI,GAAG,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE;wBACpD,eAAe,GAAG,IAAI,CAAC;qBACxB;oBAED,IAAI,cAAc,IAAI,eAAe,EAAE;wBACrC,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;4BAC/C,KAAK,EAAE,UAAU;4BACjB,MAAM,EAAE,WAAW;4BACnB,SAAS,EAAE,MAAM;yBAClB,CAAC,CAAC;wBACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;4BAC/C,KAAK,EAAE,QAAQ;4BACf,MAAM,EAAE,SAAS;4BACjB,SAAS,EAAE,MAAM;yBAClB,CAAC,CAAC;wBACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;4BAC/C,KAAK,EAAE,eAAe;4BACtB,MAAM,EAAE,aAAa;4BACrB,SAAS,EAAE,MAAM;yBAClB,CAAC,CAAC;wBACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;4BAC/C,KAAK,EAAE,aAAa;4BACpB,MAAM,EAAE,WAAW;4BACnB,SAAS,EAAE,MAAM;yBAClB,CAAC,CAAC;wBAEH,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;qBACtC;yBAAM;wBACL,IAAI,cAAc,EAAE;4BAClB,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;gCAC/C,KAAK,EAAE,eAAe;gCACtB,MAAM,EAAE,aAAa;gCACrB,SAAS,EAAE,MAAM;6BAClB,CAAC,CAAC;4BACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;gCAC/C,KAAK,EAAE,aAAa;gCACpB,MAAM,EAAE,WAAW;gCACnB,SAAS,EAAE,MAAM;6BAClB,CAAC,CAAC;4BACH,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;yBACtC;6BAAM,IAAI,eAAe,EAAE;4BAC1B,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;gCAC/C,KAAK,EAAE,UAAU;gCACjB,MAAM,EAAE,WAAW;gCACnB,SAAS,EAAE,MAAM;6BAClB,CAAC,CAAC;4BACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;gCAC/C,KAAK,EAAE,QAAQ;gCACf,MAAM,EAAE,SAAS;gCACjB,SAAS,EAAE,MAAM;6BAClB,CAAC,CAAC;4BACH,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;yBACtC;6BAAM,IAAI,CAAC,cAAc,IAAI,CAAC,eAAe,EAAE;4BAC9C,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;yBACtC;qBACF;oBACD,IAAI,CAAC,0BAA0B,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC;oBAC9C,IAAI,CAAC,0BAA0B,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;wBAC/C,IAAI,QAAQ,GAAG,IAAI,CAAC,kBAAkB,CAAC,CAAC;wBAExC,IAAI,qBAAqB,GAAG,IAAI,CAAC;wBACjC,IAAI,mBAAmB,GAAG,IAAI,CAAC;wBAC/B,IAAI,qBAAqB,GAAG,IAAI,CAAC;wBAEjC,IAAI,QAAQ,IAAI,QAAQ,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE;4BACzC,IAAI,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,MAAM,IAAI,CAAC,EAAE;gCACtC,qBAAqB,GAAG,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;gCAClD,mBAAmB,GAAG,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;gCAChD,qBAAqB,GAAG,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;gCAElD,IAAI,mBAAmB,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE;oCACzC,IAAI,CAAC,eAAe,CAAC,GAAG,mBAAmB;yCACxC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;yCACd,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;oCACjB,IAAI,CAAC,aAAa,CAAC,GAAG,mBAAmB;yCACtC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;yCACd,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;iCAClB;gCAED,IAAI,qBAAqB,CAAC,QAAQ,CAAC,eAAe,CAAC,EAAE;oCACnD,IAAI,CAAC,UAAU,CAAC,GAAG,qBAAqB;yCACrC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;yCACd,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;oCACjB,IAAI,CAAC,QAAQ,CAAC,GAAG,qBAAqB;yCACnC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;yCACd,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;iCAClB;6BACF;iCAAM,IAAI,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,MAAM,IAAI,CAAC,EAAE;gCAC7C,qBAAqB,GAAG,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;gCAClD,mBAAmB,GAAG,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;gCAEhD,IAAI,mBAAmB,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE;oCACzC,IAAI,CAAC,eAAe,CAAC,GAAG,mBAAmB;yCACxC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;yCACd,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;oCACjB,IAAI,CAAC,aAAa,CAAC,GAAG,mBAAmB;yCACtC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;yCACd,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;iCAClB;qCAAM,IAAI,mBAAmB,CAAC,QAAQ,CAAC,eAAe,CAAC,EAAE;oCACxD,IAAI,CAAC,UAAU,CAAC,GAAG,mBAAmB;yCACnC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;yCACd,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;oCACjB,IAAI,CAAC,QAAQ,CAAC,GAAG,mBAAmB;yCACjC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;yCACd,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;iCAClB;6BACF;yBACF;6BAAM;yBACN;oBACH,CAAC,CAAC,CAAC;oBAEH,SAAS;oBAET,iDAAiD;oBACjD,mCAAmC;oBACnC,IAAI;oBAEJ,iCAAiC;oBACjC,mDAAmD;oBACnD,WAAW;oBACX,yDAAyD;oBACzD,yDAAyD;oBACzD,4BAA4B;oBAC5B,8BAA8B;oBAC9B,2BAA2B;oBAC3B,UAAU;oBACV,qDAAqD;oBAErD,0DAA0D;oBAC1D,8CAA8C;oBAC9C,qBAAqB;oBACrB,qDAAqD;oBACrD,wCAAwC;oBACxC,qBAAqB;oBACrB,4DAA4D;oBAC5D,wCAAwC;oBACxC,qBAAqB;oBACrB,UAAU;oBACV,UAAU;oBACV,0DAA0D;oBAC1D,yDAAyD;oBACzD,gCAAgC;oBAChC,+BAA+B;oBAC/B,2BAA2B;oBAC3B,UAAU;oBACV,yDAAyD;oBACzD,8BAA8B;oBAC9B,6BAA6B;oBAC7B,2BAA2B;oBAC3B,UAAU;oBACV,qDAAqD;oBACrD,0DAA0D;oBAC1D,0DAA0D;oBAC1D,8CAA8C;oBAC9C,qBAAqB;oBACrB,0DAA0D;oBAC1D,qEAAqE;oBACrE,oDAAoD;oBACpD,wDAAwD;oBACxD,qEAAqE;oBACrE,oDAAoD;oBACpD,6DAA6D;oBAC7D,wCAAwC;oBACxC,qBAAqB;oBACrB,UAAU;oBACV,UAAU;oBACV,MAAM;oBACN,IAAI;oBAEJ,IAAI,CAAC,0BAA0B,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;wBAC/C,OAAO,IAAI,CAAC,EAAE,CAAC;wBACf,8CAA8C;wBAC9C,IAAI,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC;wBACvC,IAAI,CAAC,oBAAoB,CAAC,GAAG,IAAI,CAAC,kBAAkB,CAAC;wBACrD,IAAI,CAAC,QAAQ,CAAC,GAAG,GAAG,CAAC,QAAQ,CAAC,CAAC;wBAC/B,IAAI,CAAC,kBAAkB,CAAC,GAAG,KAAK,CAAC;wBACjC,IAAI,CAAC,QAAQ,CAAC,GAAG,QAAQ,CAAC;oBAC5B,CAAC,CAAC,CAAC;oBACH,6BAA6B;oBAE7B,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,IAAI,CAAC,0BAA0B,CAAC,CAAC;oBACnD,yDAAyD;oBAEzD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,uCAAuC,CACxC,CAAC;oBACF,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;iBACxC;qBAAM;oBACL,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;oBACrC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;oBACvC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;oBACvC,IAAI,CAAC,6BAA6B,GAAG,EAAE,CAAC;oBACxC,IAAI,GAAG,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;wBACrB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;qBAC/C;yBAAM;wBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,4CAA4C,CAC7C,CAAC;qBACH;oBACD,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;iBACxC;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;YACzB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,OAAO,CAAC,GAAG,CAAC,kCAAkC,EAAE,GAAG,CAAC,CAAC;YACrD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,8CAA8C,CAC/C,CAAC;QACJ,CAAC,CACF,CAAC;IACN,CAAC;IAED,QAAQ,CAAC,IAAS;QAChB,IAAI,CAAC,oBAAoB,EAAE,CAAC;IAC9B,CAAC;IACD,oBAAoB;QAClB,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,IAAI,SAAS,GAAG,EAAE,CAAC;QACnB,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,EAAE;YAC5B,SAAS,GAAG,QAAQ,CAAC;YACrB,IAAI,GAAG,UAAU,CAAC;SACnB;aAAM;YACL,SAAS,GAAG,UAAU,CAAC;YACvB,IAAI,GAAG,YAAY,CAAC;SACrB;QACD,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;QAChD,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,WAAW,GAAG,EAAE,CAAC;QACrB,WAAW;YACT,mDAAmD;gBACnD,iBAAiB;gBACjB,IAAI;gBACJ,oBAAoB,IAAI,CAAC,OAAO,GAAG,CAAC;QAEtC,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;YAC/B,OAAO,EAAE,WAAW;YACpB,GAAG,EAAE,yBAAyB;YAC9B,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;gBAC7B,IAAI,CAAC,mBAAmB,EAAE,CAAC;YAC7B,CAAC;YACD,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;gBAC/B,IAAI,CAAC,mBAAmB,EAAE,CAAC;YAC7B,CAAC;SACF,CAAC,CAAC;IACL,CAAC;IACD,YAAY,CAAC,SAAc;QACzB,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QAExC,MAAM,QAAQ,GAAG,IAAI,QAAQ,EAAE,CAAC;QAChC,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;QACvC,QAAQ,CAAC,MAAM,CAAC,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;QACzC,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;QACrC,QAAQ,CAAC,MAAM,CAAC,cAAc,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QACzD,QAAQ,CAAC,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC1D,QAAQ,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;QACvC,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,CAAC;IACrC,CAAC;IAED,mBAAmB,CAAC,QAAa;QAC/B,IAAI,CAAC,kBAAkB,CAAC,uBAAuB,CAAC,QAAQ,CAAC,CAAC,SAAS,CACjE,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,OAAO,GAAG,EAAE,CAAC;YACjB,IAAI,GAAG,CAAC,OAAO,CAAC,IAAI,MAAM,EAAE;gBAC1B,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;aAC5C;iBAAM;gBACL,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;oBACd,OAAO,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC;oBACrB,IAAI,CAAC,WAAW,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC;oBACrC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;iBAC5C;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;oBACvC,OAAO,GAAG,gDAAgD,CAAC;oBAC3D,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;iBAC5C;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACjB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,CACF,CAAC;IACJ,CAAC;IAED,qBAAqB;QACnB,IAAI,IAAI,CAAC,IAAI,IAAI,KAAK,EAAE;YACtB,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;SACzC;QACD,8CAAQ,CAAC;YACP,kBAAkB,EAAE,IAAI,CAAC,kBAAkB,CAAC,qBAAqB,CAC/D,IAAI,CAAC,MAAM,EACX,IAAI,CAAC,QAAQ,EACb,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EACvB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAC3B;YACD,wBAAwB,EACtB,IAAI,CAAC,kBAAkB,CAAC,6BAA6B,CACnD,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EACvB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,EAC1B,IAAI,CAAC,QAAQ,CACd;SACJ,CAAC;aACC,IAAI,CACH,oDAAI,CAAC,CAAC,CAAC,EACP,mDAAG,CAAC,CAAC,QAAa,EAAE,EAAE;YACpB,IACE,QAAQ,CAAC,wBAAwB,CAAC,MAAM,CAAC;gBACzC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,wBAAwB,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,EAClE;gBACA,OAAO;oBACL,GAAG,EAAE,sDAAsD;iBAC5D,CAAC;aACH;iBAAM;gBACL,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAC;gBACnD,IAAI,kBAAkB,GAAG,gEAAY,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAC;gBACnE,OAAO,kBAAkB,CAAC,cAAc,CAAC,CAAC;gBAC1C,IAAI,CAAC,gBAAgB,GAAG,QAAQ,CAAC,kBAAkB,CAAC,cAAc,CAAC,CAAC;gBACpE,MAAM,kBAAkB,GAAG,kBAAkB,CAAC;gBAC9C,IAAI,CAAC,uBAAuB,GAAG,QAAQ,CAAC,wBAAwB,CAAC;gBACjE,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,YAAY,CAAC,qBAAqB,CAAC,OAAO,CAC1E,CAAC,IAAI,EAAE,EAAE;oBACP,IAAI,IAAI,CAAC,cAAc,CAAC,IAAI,MAAM,EAAE;wBAClC,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC;qBACrD;oBACD,IAAI,IAAI,CAAC,cAAc,CAAC,IAAI,MAAM,EAAE;wBAClC,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC;qBACrD;gBACH,CAAC,CACF,CAAC;gBAEF,IAAI,IAAI,CAAC,IAAI,IAAI,KAAK,EAAE;oBACtB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,OAAO,CAAC;oBACzD,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC;oBAC1B,IAAI,CAAC,cAAc;wBACjB,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,WAAW,CAAC;iBACjD;gBAED,IAAI,CAAC,qBAAqB,GAAG;oBAC3B,GAAG,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,YAAY;yBAC9C,qBAAqB;iBACzB,CAAC;gBAEF,IAAI,CAAC,mBAAmB;oBACtB,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,SAAS;yBACxC,OAAO,CAAC,YAAY,EAAE,EAAE,CAAC;yBACzB,KAAK,CAAC,IAAI,CAAC,CAAC;gBAEjB,IAAI,CAAC,oBAAoB;oBACvB,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,UAAU,CAAC;gBAE/C,IAAI,0BAA0B,GAC5B,IAAI,CAAC,mBAAmB,CAAC,iBAAiB,CACxC,IAAI,CAAC,uBAAuB,EAC5B,IAAI,CAAC,qBAAqB,EAC1B,kBAAkB,EAClB,IAAI,CAAC,mBAAmB,EACxB,IAAI,CAAC,oBAAoB,EACzB,IAAI,CAAC,kBAAkB,CACxB,CAAC;gBAEJ,IAAI,CAAC,qBAAqB;oBACxB,0BAA0B,CAAC,uBAAuB,CAAC,CAAC;gBACtD,IAAI,CAAC,sBAAsB;oBACzB,0BAA0B,CAAC,wBAAwB,CAAC,CAAC;gBACvD,OAAO,kBAAkB,CAAC;aAC3B;QACH,CAAC,CAAC,CACH;aACA,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;gBACf,IACE,GAAG,CAAC,QAAQ,CAAC;oBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;oBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;oBACA,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;oBACvC,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;oBACzB,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;wBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;qBACjD;yBAAM;wBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,6BAA6B,CAC9B,CAAC;qBACH;iBACF;qBAAM;oBACL,IAAI,CAAC,kBAAkB,GAAG,GAAG,CAAC;oBAC9B,IAAI,IAAI,CAAC,IAAI,IAAI,MAAM,EAAE;wBACvB,IACE,CAAC,CACC,IAAI,CAAC,kBAAkB,CAAC,eAAe;4BACvC,IAAI,CAAC,kBAAkB,CAAC,UAAU,CACnC,EACD;4BACA,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;4BAClC,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;4BACzB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC;yBAC/C;6BAAM;4BACL,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;yBAClD;qBACF;yBAAM,IAAI,IAAI,CAAC,IAAI,IAAI,OAAO,EAAE;wBAC/B,IACE,CAAC,CACC,IAAI,CAAC,kBAAkB,CAAC,eAAe;4BACvC,IAAI,CAAC,kBAAkB,CAAC,UAAU,CACnC,EACD;4BACA,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;4BAClC,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;4BACzB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC;yBAC/C;6BAAM;4BACL,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;yBACnD;qBACF;yBAAM;wBACL,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;wBACxB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;qBACxC;iBACF;aACF;iBAAM,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;gBACrB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;gBAC9C,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,OAAO;aACR;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;YACzB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,OAAO,CAAC,GAAG,CAAC,qCAAqC,EAAE,GAAG,CAAC,CAAC;YACxD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;QACnE,CAAC,CACF,CAAC;IACN,CAAC;IACD,gBAAgB,CAAC,UAAe;QAC9B,MAAM,mBAAmB,GAAG,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,EAAE,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC;QAC3E,IAAI,CAAC,mBAAmB,GAAG,mBAAmB,CAAC;IACjD,CAAC;IACD,sBAAsB,CACpB,SAAc,EACd,WAAgB,EAChB,gBAAqB;QAErB,IAAI,gBAAgB,GAAG,gBAAgB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAElD,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,CAAC,kBAAkB;aACpB,0BAA0B,CACzB,IAAI,CAAC,QAAQ,EACb,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EACvB,gBAAgB,EAChB,SAAS,EACT,WAAW,EACX,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAC3B;aACA,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;iBAClE;aACF;iBAAM;gBACL,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,GAAG,CAAC,SAAS,CAAC,EAAE;oBAClB,IAAI,CAAC,0BAA0B,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC;oBACnD,IAAI,CAAC,0BAA0B,CAAC,kBAAkB,GAAG,KAAK,CAAC;oBAC3D,IAAI,CAAC,0BAA0B,CAAC,cAAc,GAAG,KAAK,CAAC;oBAEvD,IAAI,CAAC,uBAAuB,GAAG,GAAG,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE;wBACxD,OAAO,EAAE,IAAI,EAAE,GAAG,CAAC,UAAU,CAAC,EAAE,IAAI,EAAE,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC;oBACtD,CAAC,CAAC,CAAC;iBACJ;qBAAM;oBACL,IAAI,GAAG,CAAC,SAAS,CAAC,EAAE;wBAClB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC;wBAClD,IAAI,CAAC,sBAAsB,EAAE,CAAC;qBAC/B;yBAAM;wBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,4BAA4B,CAAC,CAAC;wBAChE,IAAI,CAAC,sBAAsB,EAAE,CAAC;qBAC/B;iBACF;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,OAAO,CAAC,GAAG,CAAC,yBAAyB,EAAE,GAAG,CAAC,CAAC;YAC5C,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;YACjE,IAAI,CAAC,sBAAsB,EAAE,CAAC;QAChC,CAAC,CACF,CAAC;IACN,CAAC;IAED,sBAAsB;QACpB,IAAI,CAAC,0BAA0B,CAAC,sBAAsB,EAAE,CAAC;IAC3D,CAAC;IAED,aAAa,CAAC,gBAA0B;QACtC,gBAAgB,CAAC,MAAM,CAAC,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;QAC/C,gBAAgB,CAAC,MAAM,CAAC,WAAW,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;QAChD,gBAAgB,CAAC,MAAM,CAAC,cAAc,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QACjE,gBAAgB,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC/C,gBAAgB,CAAC,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAClE,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC;QACnC,IAAI,IAAI,CAAC,kBAAkB,IAAI,IAAI,CAAC,IAAI,IAAI,OAAO,EAAE;YACnD,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;YAChD,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;YAC7C,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;gBAC/B,OAAO,EAAE,kIAAkI;gBAC3I,GAAG,EAAE,yBAAyB;gBAC9B,MAAM,EAAE,GAAG,EAAE;oBACX,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;oBACxC,UAAU,CAAC,GAAG,EAAE;wBACd,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;wBAC5C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;oBACjD,CAAC,EAAE,GAAG,CAAC,CAAC;oBACR,UAAU,CAAC,GAAG,EAAE;wBACd,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;oBACzC,CAAC,EAAE,IAAI,CAAC,CAAC;gBACX,CAAC;aACF,CAAC,CAAC;SACJ;aAAM;YACL,IAAI,CAAC,oBAAoB,CAAC,gBAAgB,CAAC,CAAC;SAC7C;IACH,CAAC;IAED,oBAAoB,CAAC,QAAa;QAChC,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;QACrC,IAAI,CAAC,6BAA6B,GAAG,EAAE,CAAC;QACxC,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QAExC,IAAI,CAAC,6BAA6B,GAAG,IAAI,CAAC,KAAK,CAC7C,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CACjC,CAAC;QAEF,IAAI,CAAC,kBAAkB,CAAC,qBAAqB,CAAC,QAAQ,CAAC,CAAC,SAAS,CAC/D,CAAC,GAAG,EAAE,EAAE;YACN,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;iBAClE;aACF;iBAAM;gBACL,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,GAAG,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,KAAK,CAAC,IAAI,+BAA+B,EAAE;oBAC/D,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;oBACrC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;oBACvC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;oBACvC,IAAI,CAAC,6BAA6B,GAAG,EAAE,CAAC;oBACxC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;oBAC9C,OAAO;iBACR;gBAED,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,EAAE;oBACrB,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;oBAC7D,IAAI,CAAC,0BAA0B,GAAG,GAAG,CAAC,aAAa,CAAC,CAAC;oBACrD,IAAI,CAAC,yBAAyB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC;oBAC5C,IAAI,CAAC,0BAA0B,GAAG,GAAG,CAAC,WAAW,CAAC,CAAC;oBACnD,IAAI,OAAO,GACT,IAAI,CAAC,mBAAmB,CAAC,gCAAgC,CAAC,GAAG,CAAC,CAAC;oBAEjE,IAAI,SAAS,GAAG,IAAI,CAAC,kBAAkB,CAAC,uBAAuB,CAC7D,OAAO,CAAC,OAAO,EACf,IAAI,CAAC,kBAAkB,EACvB,IAAI,CAAC,gBAAgB,CACtB,CAAC;oBACF,mEAAmE;oBACnE,6DAA6D;oBAC7D,MAAM;oBACN,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,EAAE;wBACxD,OAAO,EAAE,IAAI,EAAE,MAAM,CAAC,IAAI,EAAE,QAAQ,EAAE,MAAM,CAAC,QAAQ,EAAE,CAAC;oBAC1D,CAAC,CAAC,CAAC;oBACH,IAAI,cAAc,GAAG,KAAK,CAAC;oBAC3B,IAAI,eAAe,GAAG,KAAK,CAAC;oBAE5B,IAAI,eAAe,GAAG,GAAG,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;oBAE1D,IAAI,GAAG,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;wBAC5C,cAAc,GAAG,IAAI,CAAC;qBACvB;oBAED,IAAI,GAAG,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE;wBACpD,eAAe,GAAG,IAAI,CAAC;qBACxB;oBAED,IAAI,cAAc,IAAI,eAAe,EAAE;wBACrC,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;4BAC/C,KAAK,EAAE,UAAU;4BACjB,MAAM,EAAE,WAAW;4BACnB,SAAS,EAAE,MAAM;yBAClB,CAAC,CAAC;wBACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;4BAC/C,KAAK,EAAE,QAAQ;4BACf,MAAM,EAAE,SAAS;4BACjB,SAAS,EAAE,MAAM;yBAClB,CAAC,CAAC;wBACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;4BAC/C,KAAK,EAAE,eAAe;4BACtB,MAAM,EAAE,aAAa;4BACrB,SAAS,EAAE,MAAM;yBAClB,CAAC,CAAC;wBACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;4BAC/C,KAAK,EAAE,aAAa;4BACpB,MAAM,EAAE,WAAW;4BACnB,SAAS,EAAE,MAAM;yBAClB,CAAC,CAAC;wBAEH,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;wBAErC,IAAI,cAAc,GAAG,OAAO,CAAC,WAAW,CAAC;wBACzC,IAAI,aAAa,GAAG,OAAO,CAAC,UAAU,CAAC;wBAEvC,cAAc,CAAC,OAAO,CAAC,CAAC,SAAS,EAAE,EAAE;4BACnC,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;4BAC3B,aAAa,CAAC,OAAO,CAAC,CAAC,QAAQ,EAAE,EAAE;gCACjC,IAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CACtB,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC,CACvC,CAAC;gCACF,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;gCACtB,OAAO,CAAC,UAAU,CAAC,GAAG,SAAS,CAAC,YAAY,CAAC;gCAC7C,OAAO,CAAC,QAAQ,CAAC,GAAG,SAAS,CAAC,UAAU,CAAC;gCACzC,OAAO,CAAC,eAAe,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC;gCACzC,OAAO,CAAC,aAAa,CAAC,GAAG,QAAQ,CAAC,EAAE,CAAC;gCAErC,OAAO,CACL,kBAAkB,CACnB,GAAG,GAAG,eAAe,YAAY,QAAQ,CAAC,MAAM,CAAC,QAAQ,QAAQ,CAAC,IAAI,CAAC,oBAAoB,SAAS,CAAC,cAAc,CAAC,gBAAgB,SAAS,CAAC,YAAY,CAAC,EAAE,CAAC;gCAC/J,IAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;4BAChD,CAAC,CAAC,CAAC;wBACL,CAAC,CAAC,CAAC;qBACJ;yBAAM;wBACL,IAAI,cAAc,EAAE;4BAClB,IAAI,aAAa,GAAG,OAAO,CAAC,UAAU,CAAC;4BACvC,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;gCAC/C,KAAK,EAAE,eAAe;gCACtB,MAAM,EAAE,aAAa;gCACrB,SAAS,EAAE,MAAM;6BAClB,CAAC,CAAC;4BACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;gCAC/C,KAAK,EAAE,aAAa;gCACpB,MAAM,EAAE,WAAW;gCACnB,SAAS,EAAE,MAAM;6BAClB,CAAC,CAAC;4BACH,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;4BACrC,aAAa,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;gCAC9B,IAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CACtB,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC,CACvC,CAAC;gCACF,OAAO,CAAC,eAAe,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC;gCACtC,OAAO,CAAC,aAAa,CAAC,GAAG,KAAK,CAAC,EAAE,CAAC;gCAClC,OAAO,CACL,kBAAkB,CACnB,GAAG,GAAG,eAAe,YAAY,KAAK,CAAC,MAAM,CAAC,QAAQ,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC;gCACrE,IAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;4BAChD,CAAC,CAAC,CAAC;yBACJ;6BAAM,IAAI,eAAe,EAAE;4BAC1B,IAAI,cAAc,GAAG,OAAO,CAAC,WAAW,CAAC;4BACzC,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;gCAC/C,KAAK,EAAE,UAAU;gCACjB,MAAM,EAAE,WAAW;gCACnB,SAAS,EAAE,MAAM;6BAClB,CAAC,CAAC;4BACH,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;gCAC/C,KAAK,EAAE,QAAQ;gCACf,MAAM,EAAE,SAAS;gCACjB,SAAS,EAAE,MAAM;6BAClB,CAAC,CAAC;4BACH,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;4BACrC,cAAc,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;gCAC/B,IAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CACtB,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC,CACvC,CAAC;gCACF,OAAO,CAAC,UAAU,CAAC,GAAG,KAAK,CAAC,YAAY,CAAC;gCACzC,OAAO,CAAC,QAAQ,CAAC,GAAG,KAAK,CAAC,UAAU,CAAC;gCACrC,OAAO,CACL,kBAAkB,CACnB,GAAG,GAAG,eAAe,oBAAoB,KAAK,CAAC,cAAc,CAAC,gBAAgB,KAAK,CAAC,YAAY,CAAC,EAAE,CAAC;gCACrG,IAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;4BAChD,CAAC,CAAC,CAAC;yBACJ;6BAAM,IAAI,CAAC,cAAc,IAAI,CAAC,eAAe,EAAE;4BAC9C,IAAI,CAAC,0BAA0B,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC,CAAC;4BAC3D,IAAI,CAAC,0BAA0B,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;gCAC/C,IAAI,CAAC,kBAAkB,CAAC,GAAG,eAAe,CAAC;4BAC7C,CAAC,CAAC,CAAC;yBACJ;qBACF;oBAED,SAAS;oBAET,iDAAiD;oBACjD,mCAAmC;oBACnC,WAAW;oBACX,oCAAoC;oBACpC,IAAI;oBAEJ,iCAAiC;oBACjC,gEAAgE;oBAChE,wDAAwD;oBACxD,uCAAuC;oBACvC,QAAQ;oBACR,kDAAkD;oBAClD,WAAW;oBACX,yDAAyD;oBACzD,qDAAqD;oBACrD,2CAA2C;oBAC3C,UAAU;oBACV,yDAAyD;oBACzD,4BAA4B;oBAC5B,8BAA8B;oBAC9B,2BAA2B;oBAC3B,UAAU;oBACV,4CAA4C;oBAC5C,wCAAwC;oBACxC,kCAAkC;oBAClC,iDAAiD;oBACjD,WAAW;oBACX,sCAAsC;oBACtC,6CAA6C;oBAC7C,uDAAuD;oBACvD,UAAU;oBACV,0DAA0D;oBAC1D,8CAA8C;oBAC9C,yDAAyD;oBACzD,gCAAgC;oBAChC,+BAA+B;oBAC/B,2BAA2B;oBAC3B,UAAU;oBACV,yDAAyD;oBACzD,8BAA8B;oBAC9B,6BAA6B;oBAC7B,2BAA2B;oBAC3B,UAAU;oBACV,4CAA4C;oBAC5C,yCAAyC;oBACzC,kCAAkC;oBAClC,iDAAiD;oBACjD,WAAW;oBACX,+CAA+C;oBAC/C,2CAA2C;oBAC3C,iBAAiB;oBACjB,6BAA6B;oBAC7B,wDAAwD;oBACxD,uDAAuD;oBACvD,UAAU;oBACV,MAAM;oBACN,IAAI;oBAEJ,IAAI,CAAC,0BAA0B,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;wBAC/C,OAAO,IAAI,CAAC,EAAE,CAAC;wBACf,8CAA8C;wBAC9C,IAAI,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,0BAA0B,CAAC;wBACtD,IAAI,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC;wBACvC,IAAI,CAAC,oBAAoB,CAAC,GAAG,IAAI,CAAC,kBAAkB,CAAC;wBACrD,IAAI,CAAC,QAAQ,CAAC,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC;wBACpC,IAAI,CAAC,kBAAkB,CAAC,GAAG,KAAK,CAAC;wBACjC,IAAI,CAAC,QAAQ,CAAC,GAAG,QAAQ,CAAC;wBAC1B,IAAI,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;wBAC7B,IAAI,CAAC,SAAS,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC;wBAC/B,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;wBAC5B,OAAO,CAAC,GAAG,CAAC,SAAS,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC;oBAC9C,CAAC,CAAC,CAAC;oBACH,6BAA6B;oBAE7B,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,IAAI,CAAC,0BAA0B,CAAC,CAAC;oBACnD,yDAAyD;oBAEzD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,+BAA+B,CAAC,CAAC;oBACnE,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;iBACxC;qBAAM;oBACL,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;oBACrC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;oBACvC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;oBACvC,IAAI,CAAC,6BAA6B,GAAG,EAAE,CAAC;oBACxC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,kCAAkC,CACnC,CAAC;iBACH;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,OAAO,CAAC,GAAG,CAAC,gCAAgC,EAAE,GAAG,CAAC,CAAC;YACnD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;QACnE,CAAC,CACF,CAAC;IACJ,CAAC;IACD,yBAAyB,CAAC,IAAS;QACjC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAClB,IAAI,IAAI,CAAC,0BAA0B,EAAE;YACnC,MAAM,UAAU,GAAG,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YAC9D,MAAM,mBAAmB,GAAG,UAAU,CAAC,IAAI,CAAC,CAAC,SAAS,EAAE,EAAE,CACxD,SAAS,CAAC,QAAQ,CAAC,UAAU,CAAC,CAC/B,CAAC;YAEF,IAAI,mBAAmB,EAAE;gBACvB,MAAM,YAAY,GAAG,4BAA4B,CAAC,IAAI,CACpD,mBAAmB,CACpB,CAAC;gBAEF,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,YAAY,CAAC,CAAC;gBAE1C,IAAI,YAAY,IAAI,YAAY,CAAC,CAAC,CAAC,EAAE;oBACnC,MAAM,eAAe,GAAG,YAAY,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;oBAC/C,OAAO,CAAC,GAAG,CAAC,iBAAiB,EAAE,eAAe,CAAC,CAAC;oBAEhD,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,mBAAmB,EAAE,MAAM,CACzD,CAAC,MAAM,EAAE,EAAE,CAAC,MAAM,CAAC,QAAQ,KAAK,eAAe,CAChD,CAAC;iBACH;aACF;SACF;QACD,yCAAyC;QACzC,kDAAkD;QAClD,sCAAsC;QACtC,OAAO;QACP,+BAA+B;QAC/B,2CAA2C;QAC3C,+CAA+C;QAC/C,mEAAmE;QACnE,wDAAwD;QACxD,SAAS;QACT,MAAM;QACN,IAAI;QAEJ,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,mBAAmB,EAAE,GAAG,CAAC,CAAC,MAAM,EAAE,EAAE;YACjE,OAAO,EAAE,IAAI,EAAE,MAAM,CAAC,IAAI,EAAE,QAAQ,EAAE,MAAM,CAAC,QAAQ,EAAE,CAAC;QAC1D,CAAC,CAAC,CAAC;QACH,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;IACxC,CAAC;IACD,sBAAsB,CAAC,gBAAqB;QAC1C,gBAAgB,CAAC,MAAM,CAAC,cAAc,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QACjE,gBAAgB,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC/C,gBAAgB,CAAC,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAClE,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,CAAC,kBAAkB;aACpB,6BAA6B,CAAC,gBAAgB,CAAC;aAC/C,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,+BAA+B,CAChC,CAAC;iBACH;aACF;iBAAM;gBACL,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBAEvC,IAAI,GAAG,CAAC,GAAG,IAAI,mCAAmC,EAAE;oBAClD,qCAAqC;oBACrC,yCAAyC;oBACzC,IAAI,CAAC,2BAA2B,GAAG,IAAI,CAAC;oBACxC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,2BAA2B,CAAC,CAAC;iBAC/C;qBAAM;oBACL,IAAI,CAAC,2BAA2B,GAAG,KAAK,CAAC;oBACzC,IAAI,CAAC,0BAA0B,CAAC,gBAAgB;wBAC9C,IAAI,CAAC,0BAA0B,CAAC,YAAY,CAAC;oBAC/C,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;oBAC3C,IAAI,CAAC,0BAA0B,CAAC,sBAAsB,GAAG,KAAK,CAAC;oBAC/D,IAAI,CAAC,0BAA0B,CAAC,YAAY,GAAG,EAAE,CAAC;oBAClD,IAAI,CAAC,eAAe,EAAE,CAAC;iBACxB;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,OAAO,CAAC,GAAG,CAAC,sCAAsC,EAAE,GAAG,CAAC,CAAC;YACzD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,+BAA+B,CAAC,CAAC;QACrE,CAAC,CACF,CAAC;IACN,CAAC;IAED,eAAe;QACb,IAAI,CAAC,kBAAkB;aACpB,uBAAuB,CACtB,IAAI,CAAC,MAAM,EACX,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EACvB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,EAC1B,IAAI,CAAC,QAAQ,CACd;aACA,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,+BAA+B,CAChC,CAAC;iBACH;aACF;iBAAM;gBACL,IAAI,GAAG,CAAC,IAAI,IAAI,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE;oBAC/B,IAAI,CAAC,2BAA2B,GAAG,GAAG,CAAC,IAAI,CAAC;oBAC5C,IAAI,CAAC,2BAA2B,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;wBAC/C,GAAG,CAAC,MAAM,CAAC,GAAG,GAAG,CAAC,cAAc,CAAC,CAAC;wBAClC,GAAG,CAAC,MAAM,CAAC,GAAG,GAAG,CAAC,cAAc,CAAC,CAAC;oBACpC,CAAC,CAAC,CAAC;iBACJ;qBAAM;oBACL,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;iBACtB;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,OAAO,CAAC,GAAG,CAAC,mCAAmC,EAAE,GAAG,CAAC,CAAC;YACtD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,qCAAqC,CACtC,CAAC;QACJ,CAAC,CACF,CAAC;IACN,CAAC;IAED,aAAa,CAAC,MAAM;QAClB,IACE,IAAI,CAAC,0BAA0B,CAAC,qBAAqB,EAAE;YACvD,IAAI,CAAC,0BAA0B,EAC/B;YACA,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,+EAA+E,CAChF,CAAC;SACH;QAED,IACE,IAAI,CAAC,IAAI,IAAI,OAAO;YACpB,CAAC,IAAI,CAAC,IAAI,IAAI,OAAO,IAAI,IAAI,CAAC,sBAAsB,CAAC,EACrD;YACA,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;YACxC,IAAI,gBAAgB,GAAG,KAAK,CAAC;YAC7B,IAAI,gBAAgB,GAAG,KAAK,CAAC;YAC7B,8BAA8B;YAC9B,IAAI,YAAY,GAAG,KAAK,CAAC;YACzB,IAAI,mBAAmB,GAAG,KAAK,CAAC;YAChC,IAAI,UAAU,GAAG,KAAK,CAAC;YACvB,IAAI,CAAC,0BAA0B,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;gBAC/C,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,EAAE;oBAC3B,IAAI,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,cAAc;wBACvC,EAAE,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC;yBACrB,IAAI,EAAE;yBACN,WAAW,EAAE;wBACd,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,MAAM;4BAC7C,CAAC,CAAC,IAAI,CAAC,cAAc,EAAE,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC,WAAW,EAAE;4BAChE,CAAC,CAAC,IAAI;wBACR,CAAC,CAAC,IAAI,CAAC;oBACT,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,MAAM,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,IAAI,EAAE;wBAChD,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC;qBAClB;iBACF;YACH,CAAC,CAAC,CAAC;YACH,IAAI,UAAU,GAAG,IAAI,CAAC,0BAA0B,CAAC,MAAM,CACrD,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,UAAU,CAAC,IAAI,GAAG,CAC5B,CAAC;YAEF,UAAU,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;gBAC7B,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;gBAErB,IAAI,OAAO,CAAC,kBAAkB,CAAC,EAAE;oBAC/B,gBAAgB,GAAG,IAAI,CAAC;iBACzB;gBACD,OAAO,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,cAAc;oBAC1C,EAAE,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC;qBACrB,IAAI,EAAE;qBACN,WAAW,EAAE;oBACd,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,MAAM;wBAC7C,CAAC,CAAC,IAAI,CAAC,cAAc,EAAE,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC,WAAW,EAAE;wBAChE,CAAC,CAAC,IAAI;oBACR,CAAC,CAAC,IAAI,CAAC;gBACT,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,EAAE;oBAC3B,gBAAgB,GAAG,IAAI,CAAC;iBACzB;gBACD,6BAA6B;gBAC7B,2BAA2B;gBAC3B,IAAI;gBACJ,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,OAAO,CAAC,OAAO,CAAC,IAAI,MAAM,EAAE;oBACnD,YAAY,GAAG,IAAI,CAAC;iBACrB;gBACD,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,IAAI,OAAO,CAAC,cAAc,CAAC,IAAI,MAAM,EAAE;oBACjE,mBAAmB,GAAG,IAAI,CAAC;iBAC5B;gBACD,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,OAAO,CAAC,KAAK,CAAC,IAAI,GAAG,EAAE;oBAC5C,UAAU,GAAG,IAAI,CAAC;iBACnB;YACH,CAAC,CAAC,CAAC;YACH,IAAI,gBAAgB,EAAE;gBACpB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,8BAA8B,CAAC,CAAC;aACnE;YACD,6BAA6B;YAC7B,4CAA4C;YAC5C,kEAAkE;YAClE,IAAI;iBACC,IAAI,YAAY,EAAE;gBACrB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,uBAAuB,CAAC,CAAC;aAC5D;iBAAM,IAAI,mBAAmB,EAAE;gBAC9B,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,8BAA8B,CAAC,CAAC;aACnE;iBAAM,IAAI,UAAU,EAAE;gBACrB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,yBAAyB,CAAC,CAAC;aAC9D;iBAAM,IAAI,gBAAgB,EAAE;gBAC3B,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,gCAAgC,CAAC,CAAC;aACrE;iBAAM;gBACL,IAAI,IAAI,CAAC,mBAAmB,EAAE,IAAI,IAAI,CAAC,0BAA0B,EAAE,EAAE;oBACnE,OAAO;iBACR;qBAAM;oBACL,IAAI,OAAO,CAAC;oBACZ,IAAI,IAAI,CAAC,IAAI,IAAI,MAAM,EAAE;wBACvB,IAAI,IAAI,GAAG;4BACT,IAAI,EAAE,IAAI,CAAC,0BAA0B;4BACrC,SAAS,EAAE,IAAI,CAAC,0BAA0B;4BAC1C,WAAW,EAAE,IAAI,CAAC,0BAA0B;4BAC5C,OAAO,EAAE,IAAI,CAAC,KAAK;yBACpB,CAAC;wBACF,OAAO,GAAG,IAAI,CAAC,kBAAkB,CAAC,gBAAgB,CAChD,IAAI,CAAC,MAAM,EACX,IAAI,EACJ,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EACvB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,EAC1B,IAAI,CAAC,QAAQ,CACd,CAAC;wBACF,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;qBACzB;yBAAM;wBACL,IAAI,IAAI,GAAG;4BACT,IAAI,EAAE,IAAI,CAAC,0BAA0B;4BACrC,SAAS,EAAE,IAAI,CAAC,0BAA0B;4BAC1C,WAAW,EAAE,IAAI,CAAC,0BAA0B;yBAC7C,CAAC;wBACF,OAAO,GAAG,IAAI,CAAC,kBAAkB,CAAC,SAAS,CACzC,IAAI,EACJ,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EACvB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,EAC1B,IAAI,CAAC,QAAQ,CACd,CAAC;qBACH;oBAED,IAAI,OAAO,EAAE;wBACX,OAAO,CAAC,SAAS,CACf,CAAC,GAAG,EAAE,EAAE;4BACN,IACE,GAAG,CAAC,QAAQ,CAAC;gCACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gCAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gCACA,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oCAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iCACjD;qCAAM;oCACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,8CAA8C,CAC/C,CAAC;iCACH;6BACF;iCAAM;gCACL,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;oCACd,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;oCAC3C,IAAI,MAAM,IAAI,MAAM,EAAE;wCACpB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC;qCAC/C;yCAAM,IAAI,MAAM,IAAI,eAAe,EAAE;wCACpC,IAAI,CAAC,kBAAkB,CAAC,eAAe,GAAG,IAAI,CAAC;wCAC/C,IAAI,CAAC,kBAAkB,CAAC,UAAU,GAAG,IAAI,CAAC;wCAC1C,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,6BAA6B,CAAC,CAAC,CAAC;qCACvD;iCACF;6BACF;wBACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;4BACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;4BACvC,OAAO,CAAC,GAAG,CAAC,wBAAwB,EAAE,GAAG,CAAC,CAAC;4BAC3C,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,8CAA8C,CAC/C,CAAC;wBACJ,CAAC,CACF,CAAC;qBACH;iBACF;aACF;SACF;aAAM;YACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,gCAAgC,CAAC,CAAC;SACrE;IACH,CAAC;IAED,0BAA0B;QACxB,IAAI,4BAA4B,GAAG,KAAK,CAAC;QACzC,IAAI,WAAW,GAAG,IAAI,CAAC,0BAA0B,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC;QACpE,IAAI,cAAc,GAAG,KAAK,CAAC;QAC3B,IAAI,eAAe,GAAG,KAAK,CAAC;QAE5B,IAAI,UAAU,GAAG,IAAI,CAAC,0BAA0B,CAAC,MAAM,CACrD,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,UAAU,CAAC,IAAI,GAAG,CAC5B,CAAC;QAEF,IAAI,WAAW,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;YACrC,cAAc,GAAG,IAAI,CAAC;SACvB;QAED,IAAI,WAAW,CAAC,OAAO,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE;YAC7C,eAAe,GAAG,IAAI,CAAC;SACxB;QAED,IAAI,cAAc,IAAI,eAAe,EAAE;YACrC,IAAI,UAAU,GAAG,EAAE,CAAC;YACpB,IAAI,cAAc,IAAI,eAAe,EAAE;gBACrC,UAAU,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;oBAC3B,IACE,UAAU,CAAC,GAAG,KAAK,CAAC,UAAU,CAAC,IAAI,KAAK,CAAC,eAAe,CAAC,EAAE,CAAC;wBAC5D,UAAU,CAAC,GAAG,KAAK,CAAC,UAAU,CAAC,IAAI,KAAK,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC,MAAM,EACnE;wBACA,UAAU,CAAC,GAAG,KAAK,CAAC,UAAU,CAAC,IAAI,KAAK,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC,IAAI,CAC/D,KAAK,CAAC,cAAc,CAAC,CACtB,CAAC;qBACH;yBAAM;wBACL,UAAU,CAAC,GAAG,KAAK,CAAC,UAAU,CAAC,IAAI,KAAK,CAAC,eAAe,CAAC,EAAE,CAAC,GAAG;4BAC7D,KAAK,CAAC,cAAc,CAAC;yBACtB,CAAC;qBACH;gBACH,CAAC,CAAC,CAAC;aACJ;iBAAM;gBACL,IAAI,cAAc,EAAE;oBAClB,UAAU,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;wBAC1B,IACE,UAAU,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;4BACjC,UAAU,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,MAAM,EACxC;4BACA,UAAU,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;yBAC9D;6BAAM;4BACL,UAAU,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;yBAC5D;oBACH,CAAC,CAAC,CAAC;iBACJ;qBAAM,IAAI,eAAe,EAAE;oBAC1B,UAAU,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;wBAC1B,IACE,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;4BAC5B,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,MAAM,EACnC;4BACA,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;yBACzD;6BAAM;4BACL,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;yBACvD;oBACH,CAAC,CAAC,CAAC;iBACJ;aACF;YACD,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,UAAU,CAAC,CAAC;YACxC,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,CAAC,UAAe,EAAE,EAAE;gBACpD,IAAI,IAAI,GAAG,CAAC,UAAU,CAAC,CAAC,IAAI,KAAK,UAAU,CAAC,MAAM,EAAE;oBAClD,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;oBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,iEAAiE,CAClE,CAAC;oBACF,4BAA4B,GAAG,IAAI,CAAC;iBACrC;YACH,CAAC,CAAC,CAAC;SACJ;aAAM;YACL,IAAI,UAAU,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;gBACvC,OAAO,IAAI,CAAC,cAAc,CAAC,CAAC;YAC9B,CAAC,CAAC,CAAC;YACH,IAAI,IAAI,GAAG,CAAC,UAAU,CAAC,CAAC,IAAI,KAAK,UAAU,CAAC,MAAM,EAAE;gBAClD,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,IAAI,CAAC,IAAI,IAAI,OAAO,EAAE;oBACxB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,+BAA+B,CAAC,CAAC;iBACpE;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,+BAA+B,CAAC,CAAC;iBACpE;gBACD,4BAA4B,GAAG,IAAI,CAAC;aACrC;SACF;QACD,OAAO,4BAA4B,CAAC;IACtC,CAAC;IACD,mBAAmB;QACjB,IAAI,qBAAqB,GAAG,KAAK,CAAC;QAClC,IAAI,WAAW,GAAG,IAAI,CAAC,0BAA0B,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC;QACpE,IAAI,cAAc,GAAG,KAAK,CAAC;QAC3B,IAAI,eAAe,GAAG,KAAK,CAAC;QAE5B,IAAI,UAAU,GAAG,IAAI,CAAC,0BAA0B,CAAC,MAAM,CACrD,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,UAAU,CAAC,IAAI,GAAG,CAC5B,CAAC;QAEF,IAAI,WAAW,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;YACrC,cAAc,GAAG,IAAI,CAAC;SACvB;QAED,IAAI,WAAW,CAAC,OAAO,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE;YAC7C,eAAe,GAAG,IAAI,CAAC;SACxB;QAED,IAAI,cAAc,IAAI,eAAe,EAAE;YACrC,IAAI,UAAU,GAAG,EAAE,CAAC;YACpB,IAAI,cAAc,IAAI,eAAe,EAAE;gBACrC,UAAU,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;oBAC3B,IACE,UAAU,CAAC,GAAG,KAAK,CAAC,UAAU,CAAC,IAAI,KAAK,CAAC,eAAe,CAAC,EAAE,CAAC;wBAC5D,UAAU,CAAC,GAAG,KAAK,CAAC,UAAU,CAAC,IAAI,KAAK,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC,MAAM,EACnE;wBACA,UAAU,CAAC,GAAG,KAAK,CAAC,UAAU,CAAC,IAAI,KAAK,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC,IAAI,CAC/D,KAAK,CAAC,OAAO,CAAC,CACf,CAAC;qBACH;yBAAM;wBACL,UAAU,CAAC,GAAG,KAAK,CAAC,UAAU,CAAC,IAAI,KAAK,CAAC,eAAe,CAAC,EAAE,CAAC,GAAG;4BAC7D,KAAK,CAAC,OAAO,CAAC;yBACf,CAAC;qBACH;gBACH,CAAC,CAAC,CAAC;aACJ;iBAAM;gBACL,IAAI,cAAc,EAAE;oBAClB,UAAU,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;wBAC1B,IACE,UAAU,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;4BACjC,UAAU,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,MAAM,EACxC;4BACA,UAAU,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;yBACvD;6BAAM;4BACL,UAAU,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;yBACrD;oBACH,CAAC,CAAC,CAAC;iBACJ;qBAAM,IAAI,eAAe,EAAE;oBAC1B,UAAU,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;wBAC1B,IACE,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;4BAC5B,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,MAAM,EACnC;4BACA,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;yBAClD;6BAAM;4BACL,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;yBAChD;oBACH,CAAC,CAAC,CAAC;iBACJ;aACF;YACD,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,UAAU,CAAC,CAAC;YACxC,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,CAAC,UAAe,EAAE,EAAE;gBACpD,IAAI,IAAI,GAAG,CAAC,UAAU,CAAC,CAAC,IAAI,KAAK,UAAU,CAAC,MAAM,EAAE;oBAClD,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;oBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,iEAAiE,CAClE,CAAC;oBACF,qBAAqB,GAAG,IAAI,CAAC;iBAC9B;YACH,CAAC,CAAC,CAAC;SACJ;aAAM;YACL,IAAI,UAAU,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;gBACvC,OAAO,IAAI,CAAC,OAAO,CAAC,CAAC;YACvB,CAAC,CAAC,CAAC;YACH,IAAI,IAAI,GAAG,CAAC,UAAU,CAAC,CAAC,IAAI,KAAK,UAAU,CAAC,MAAM,EAAE;gBAClD,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,IAAI,CAAC,IAAI,IAAI,OAAO,EAAE;oBACxB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,+BAA+B,CAAC,CAAC;iBACpE;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,+BAA+B,CAAC,CAAC;iBACpE;gBACD,qBAAqB,GAAG,IAAI,CAAC;aAC9B;SACF;QACD,OAAO,qBAAqB,CAAC;IAC/B,CAAC;IAED,KAAK;QACH,IAAI,IAAI,CAAC,IAAI,IAAI,MAAM,EAAE;YACvB,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;YAChD,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;gBAC/B,OAAO,EAAE,mDAAmD;gBAC5D,GAAG,EAAE,0BAA0B;gBAC/B,MAAM,EAAE,GAAG,EAAE;oBACX,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;oBACxC,gCAAgC;oBAChC,0BAA0B;oBAC1B,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;oBACrC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;oBACvC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;oBACvC,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;oBACzB,IAAI,CAAC,0BAA0B,CAAC,gBAAgB,EAAE,CAAC;oBACnD,IAAI,CAAC,mBAAmB,EAAE,CAAC;oBAC3B,+CAA+C;oBAC/C,kDAAkD;gBACpD,CAAC;gBACD,MAAM,EAAE,GAAG,EAAE;oBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;oBAC/B,IAAI,CAAC,mBAAmB,EAAE,CAAC;gBAC7B,CAAC;aACF,CAAC,CAAC;SACJ;aAAM,IAAI,IAAI,CAAC,IAAI,IAAI,OAAO,EAAE;YAC/B,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;YAChD,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;gBAC/B,OAAO,EAAE,mDAAmD;gBAC5D,GAAG,EAAE,0BAA0B;gBAC/B,MAAM,EAAE,GAAG,EAAE;oBACX,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;oBACxC,IAAI,CAAC,qBAAqB,EAAE,CAAC;oBAC7B,IAAI,CAAC,eAAe,EAAE,CAAC;oBACvB,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;oBAC5C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;gBACjD,CAAC;gBACD,MAAM,EAAE,GAAG,EAAE;oBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;oBAC/B,IAAI,CAAC,mBAAmB,EAAE,CAAC;gBAC7B,CAAC;aACF,CAAC,CAAC;SACJ;aAAM;YACL,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;YAChD,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;YAC7C,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;gBAC/B,OAAO,EAAE,kDAAkD;gBAC3D,GAAG,EAAE,0BAA0B;gBAC/B,MAAM,EAAE,GAAG,EAAE;oBACX,IAAI,CAAC,0BAA0B,GAAG,EAAE,CAAC;oBACrC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;oBACvC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;oBACvC,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;oBAEzB,IAAI,CAAC,0BAA0B,CAAC,gBAAgB,EAAE,CAAC;oBACnD,IAAI,CAAC,mBAAmB,EAAE,CAAC;oBAC3B,wBAAwB;oBACxB,2BAA2B;oBAC3B,6BAA6B;oBAC7B,4BAA4B;oBAC5B,qCAAqC;gBACvC,CAAC;gBACD,MAAM,EAAE,GAAG,EAAE;oBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;oBAC/B,IAAI,CAAC,mBAAmB,EAAE,CAAC;gBAC7B,CAAC;aACF,CAAC,CAAC;SACJ;IACH,CAAC;IAED,aAAa,CAAC,CAAM,EAAE,IAAS;QAC7B,CAAC,CAAC,cAAc,EAAE,CAAC;QACnB,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,IAAI,SAAS,GAAG,EAAE,CAAC;QACnB,IAAI,CAAC,CAAC,MAAM,CAAC,OAAO,EAAE;YACpB,SAAS,GAAG,GAAG,CAAC;YAChB,IAAI,GAAG,UAAU,CAAC;SACnB;aAAM;YACL,SAAS,GAAG,GAAG,CAAC;YAChB,IAAI,GAAG,YAAY,CAAC;SACrB;QACD,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;QAChD,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,WAAW,GAAG,EAAE,CAAC;QACrB,WAAW;YACT,mDAAmD;gBACnD,iBAAiB;gBACjB,IAAI;gBACJ,kBAAkB,CAAC;QACrB,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;YAC/B,OAAO,EAAE,WAAW;YACpB,GAAG,EAAE,sBAAsB;YAC3B,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,UAAU,CAAC,GAAG,SAAS,CAAC;gBAC7B,IAAI,CAAC,mBAAmB,EAAE,CAAC;gBAC3B,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,SAAS,CAAC,CAAC;YACtC,CAAC;YACD,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;gBAC/B,IAAI,CAAC,mBAAmB,EAAE,CAAC;gBAC3B,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACxB,CAAC;SACF,CAAC,CAAC;IACL,CAAC;IAED,mBAAmB;QACjB,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;YAC5C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;QACjD,CAAC,EAAE,GAAG,CAAC,CAAC;QACR,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,EAAE,IAAI,CAAC,CAAC;IACX,CAAC;IAED,yBAAyB;IACzB,wDAAwD;IACxD,6BAA6B;IAC7B,wDAAwD;IACxD,wDAAwD;IACxD,0BAA0B;IAC1B,QAAQ;IAER,2BAA2B;IAC3B,oDAAoD;IACpD,sDAAsD;IACtD,0BAA0B;IAC1B,QAAQ;IACR,QAAQ;IACR,IAAI;IACJ,4BAA4B;IAC5B,wDAAwD;IACxD,sDAAsD;IACtD,0DAA0D;IAC1D,oBAAoB;IACpB,kDAAkD;IAClD,wDAAwD;IACxD,oBAAoB;IACpB,QAAQ;IACR,IAAI;IAEJ,cAAc,CAAC,OAAY;QACzB,OAAO,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;IAC9C,CAAC;IAED,UAAU,CAAC,OAAY;QACrB,OAAO,IAAI,CAAC,mBAAmB,CAAC,8BAA8B,CAAC,OAAO,CAAC,CAAC;IAC1E,CAAC;IACD,cAAc,CAAC,SAAc,EAAE,KAAU,EAAE,KAAU;QACnD,OAAO,CAAC,GAAG,CAAC,SAAS,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;QACrC,IAAI,SAAS,IAAI,OAAO,EAAE;YACxB,IAAI,SAAS,IAAI,OAAO,IAAI,KAAK,CAAC,MAAM,CAAC,IAAI,YAAY,EAAE;gBACzD,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBAClD,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,kBAAkB,CAAC,GAAG,IAAI,CAAC;gBAClE,2EAA2E;aAC5E;iBAAM;gBACL,IAAI,MAAM,CAAC,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,aAAa,CAAC,EAAE;oBAChE,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,GAAG,MAAM,CACpD,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,aAAa,CACrD,CAAC;iBACH;qBAAM;oBACL,IAAI,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,SAAS,EAAE;wBACpD,IAAI,YAAY,GACd,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;wBACjE,IAAI,YAAY,GACd,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;wBACjE,IAAI,YAAY,IAAI,IAAI,EAAE;4BACxB,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;4BAC1B,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC;gCAC3C,MAAM,CAAC,YAAY,CAAC,CAAC;yBACxB;6BAAM,IAAI,YAAY,IAAI,GAAG,EAAE;4BAC9B,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC;gCAC3C,MAAM,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;yBAC5B;6BAAM,IAAI,YAAY,IAAI,GAAG,EAAE;4BAC9B,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC;gCAC3C,MAAM,CAAC,YAAY,CAAC,CAAC;yBACxB;6BAAM;4BACL,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;yBACnD;qBACF;yBAAM;wBACL,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;qBACnD;iBACF;aACF;SACF;QACD,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,GAAG,KAAK,CAAC,QAAQ,CAAC;IACrE,CAAC;IAED,gBAAgB,CACd,SAAc,EACd,QAAa,EACb,KAAU,EACV,KAAU,EACV,aAAkB;QAElB,OAAO,CAAC,GAAG,CACT,SAAS,EACT,QAAQ,EACR,KAAK,EACL,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CACvC,CAAC;QACF,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,kBAAkB,CAAC,GAAG,KAAK,CAAC;QACnE,IAAI,GAAG,GAAG,OAAO,CAAC;QAClB,IAAI,GAAG,GAAG,CAAC,CAAC;QAEZ,IAAI,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,IAAI,YAAY,EAAE;YACrE,GAAG,GAAG,GAAG,CAAC;SACX;aAAM,IAAI,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,IAAI,QAAQ,EAAE;YACxE,IAAI,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,SAAS,EAAE,MAAM,EAAE;gBAC5D,IAAI,YAAY,GACd,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;gBACjE,IAAI,YAAY,GACd,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;gBACjE,IACE,MAAM,CAAC,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,aAAa,CAAC,GAAG,CAAC;oBAChE,MAAM,CAAC,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,WAAW,CAAC,GAAG,CAAC,EAC9D;oBACA,GAAG,GAAG,MAAM,CAAC,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,aAAa,CAAC,CAAC;oBACnE,GAAG,GAAG,MAAM,CAAC,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,WAAW,CAAC,CAAC;iBAClE;qBAAM,IAAI,YAAY,IAAI,GAAG,EAAE;oBAC9B,GAAG,GAAG,MAAM,CAAC,YAAY,CAAC,CAAC;oBAC3B,GAAG,GAAG,MAAM,CAAC,YAAY,CAAC,CAAC;iBAC5B;qBAAM,IAAI,YAAY,IAAI,IAAI,EAAE;oBAC/B,GAAG,GAAG,MAAM,CAAC,YAAY,CAAC,CAAC;oBAC3B,GAAG,GAAG,OAAO,CAAC;iBACf;qBAAM,IAAI,YAAY,IAAI,GAAG,EAAE;oBAC9B,GAAG,GAAG,MAAM,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;oBAC/B,GAAG,GAAG,OAAO,CAAC;iBACf;qBAAM,IAAI,YAAY,IAAI,IAAI,EAAE;oBAC/B,GAAG,GAAG,CAAC,CAAC;oBACR,GAAG,GAAG,MAAM,CAAC,YAAY,CAAC,CAAC;iBAC5B;qBAAM,IAAI,YAAY,IAAI,GAAG,EAAE;oBAC9B,GAAG,GAAG,CAAC,CAAC;oBACR,GAAG,GAAG,MAAM,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;iBAChC;qBAAM;oBACL,GAAG,GAAG,OAAO,CAAC;iBACf;aACF;iBAAM,IACL,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,aAAa,EAAE,MAAM;gBAC5D,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,WAAW,EAAE,MAAM,EAC1D;gBACA,GAAG,GAAG,MAAM,CAAC,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,aAAa,CAAC,CAAC;gBACnE,GAAG,GAAG,MAAM,CAAC,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,WAAW,CAAC,CAAC;aAClE;SACF;QAED,IAAI,cAAc,GAAG,KAAK,CAAC;QAC3B,IAAI,KAAK,CAAC,KAAK,IAAI,CAAC,EAAE;YACpB,cAAc,GAAG,IAAI,CAAC;YACtB,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,kBAAkB,CAAC,GAAG,IAAI,CAAC;YAClE,2EAA2E;YAC3E,OAAO,KAAK,CAAC;SACd;aAAM,IAAI,KAAK,CAAC,KAAK,GAAG,GAAG,IAAI,KAAK,CAAC,KAAK,GAAG,GAAG,EAAE;YACjD,cAAc,GAAG,IAAI,CAAC;YACtB,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,kBAAkB,CAAC,GAAG,IAAI,CAAC;YAClE,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,2BAA2B,GAAG,GAAG,GAAG,MAAM,GAAG,GAAG,CACjD,CAAC;YACF,IAAI,KAAK,CAAC,KAAK,IAAI,GAAG,IAAI,KAAK,CAAC,KAAK,IAAI,GAAG,EAAE;gBAC5C,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC,GAAG,KAAK,CAAC,KAAK,CAAC;gBAC/D,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,kBAAkB,CAAC,GAAG,KAAK,CAAC;aACpE;iBAAM,IAAI,KAAK,CAAC,KAAK,GAAG,GAAG,EAAE;gBAC5B,IAAI,gBAAgB,GAAG,aAAa,CAAC,SAAS,CAAC;gBAC/C,aAAa,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,GAAG,gBAAgB,CAAC;gBAC3D,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC,kBAAkB,CAAC,GAAG,KAAK,CAAC;aACpE;iBAAM,IAAI,KAAK,CAAC,KAAK,GAAG,GAAG,EAAE;aAC7B;YACD,OAAO,KAAK,CAAC;SACd;IACH,CAAC;IAED,aAAa,KAAI,CAAC;IAElB,cAAc,CAAC,SAAc,EAAE,KAAU,EAAE,SAAc,EAAE,SAAc;QACvE,IAAI,SAAS,IAAI,QAAQ,EAAE;YACzB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;SACpB;aAAM,IAAI,SAAS,IAAI,OAAO,EAAE;YAC/B,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,SAAS,EAAE,SAAS,CAAC,CAAC;SACzC;IACH,CAAC;IAED,KAAK,CAAC,KAAU,EAAE,SAAc,EAAE,SAAc;QAC9C,IAAI,SAAS,GAAG;YACd,GAAG,SAAS;SACb,CAAC;QACF,SAAS,CAAC,SAAS,CAAC,GAAG,cAAc,CAAC;QACtC,SAAS,CAAC,QAAQ,CAAC,GAAG,GAAG,CAAC;QAC1B,SAAS,CAAC,UAAU,CAAC,GAAG,GAAG,CAAC;QAC5B,IAAI,CAAC,0BAA0B,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC,EAAE,CAAC,EAAE,SAAS,CAAC,CAAC;IAClE,CAAC;IACD,MAAM,CAAC,KAAU;QACf,IAAI,CAAC,0BAA0B,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;IACnD,CAAC;;oFA91DU,kBAAkB;gHAAlB,kBAAkB;;;kEAkIlB,+GAAoB;;;;;;qFApIpB,CAAC,iEAAa,EAAE,wDAAc,CAAC;;QCzB5C,yEAAkC;QAOpB,8DAKC;QALD,yEAKC;QAMG,uEAQE;QAQJ,4DAAI;QAEN,8GACF;QAAA,4DAAI;QAEN,+DAAmD;QAAnD,2EAAmD;QAY3C,2IAAS,kBAAc,MAAM,CAAC,IAAC;QAChC,4DAAS;QACV,8EAQC;QADC,2IAAS,kBAAc,eAAe,CAAC,IAAC;QACzC,4DAAS;QACV,8EAQC;QAFC,2IAAS,WAAO,IAAC;QAElB,4DAAS;QACV,uHAQU;QACZ,4DAAM;QAMhB,2EAAyE;QAO9D,uEAAW;QAAA,4DACb;QACD,kFAQC;QADC,qJAAY,sBAAkB,IAAC;QAE/B,iIAIc;QAAA,4DACf;QAEH,2EAAqE;QAIhE,kEAAM;QAAA,4DACR;QACD,kFAQC;QADC,qJAAY,qBAAiB,IAAC;QAE9B,iIAIc;QAAA,4DACf;QAKT,kHAqCM;QACN,4IA8BoB;QACtB,4DAAM;QACN,kHAqLM;QACR,4DAAM;QACN,iHAcM;QACN,2FAMC;QAOK,yRAAS,sEAAW,KAAC;QACtB,4DAAS;QAId,2FAMC;QAOK,yRAAS,sEAAY,KAAC;QACvB,4DAAS;QAEV,8EAMC;QADC,yRAAS,sEAAY,KAAC;QACvB,4DAAS;QAId,2FAKC;QAOK,yRAAS,sEAAY,KAAC;QACvB,4DAAS;QAEV,8EAMC;QADC,yRAAS,sEAAY,KAAC;QACvB,4DAAS;QAGd,2FAKC;QAOK,0RAAS,uEAAY,KAAC;QACvB,4DAAS;QAEV,8EAMC;QADC,0RAAS,uEAAY,KAAC;QACvB,4DAAS;;QApdM,0DAA0B;QAA1B,mFAA0B;QAoB5B,0DAEC;QAFD,iLAEC;QAUD,0DAA8D;QAA9D,+HAA8D;QAY9D,0DAAwB;QAAxB,qFAAwB;QAGvB,0DAAoB;QAApB,oFAAoB;QAc9B,0DAA6B;QAA7B,0FAA6B;QAYxB,0DAAoC;QAApC,iGAAoC;QAsBpC,0DAA+B;QAA/B,4FAA+B;QAiBtC,0DAAyC;QAAzC,6GAAyC;QAsCzC,0DAAyC;QAAzC,6GAAyC;QA+BT,0DAAuC;QAAvC,uGAAuC;QAyL3E,0DAEA;QAFA,wJAEA;QAgBD,0DAAkB;QAAlB,2EAAkB;QAkBlB,0DAAkB;QAAlB,2EAAkB;QAyBlB,0DAAkB;QAAlB,2EAAkB;QAwBlB,0DAAkB;QAAlB,2EAAkB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvdY;AACW;AAQnB;AAEuB;;;;;;;;;;;;;;;;;ICoB/B,0EAA2B;IACpB,uDAAkB;IAAA,4DAAM;;;IAAxB,0DAAkB;IAAlB,gFAAkB;;;IAoBzB,0EAA2B;IACpB,uDAAkB;IAAA,4DAAM;;;IAAxB,0DAAkB;IAAlB,gFAAkB;;;;;IA0C7B,0EAIC;IAFC,8KAAS,wBAAwB,IAAC;IAGlC,wEASC;IADC,kZAAS,uGAAiC,KAAC;IAC5C,4DAAI;IACL,wFAcC;IALC,unBACqB,wCAC1B,IAAI,CAAC,SAAoB,wGACpB,KAAC,kXACc,qGAA+B,KAD7C;IAGH,4DAAgB;;;;IAxBd,0DAKE;IALF,4OAKE;IAMF,0DAAyC;IAAzC,8GAAyC;;;IAzB/C,yEAMC;IACC,uDACA;IAAA,2IA+BM;IACR,4DAAK;;;;IAnCH,iFAAyB;IAFzB,0FAA6B;IAI7B,0DACA;IADA,0FACA;IACG,0DAAqC;IAArC,yGAAqC;;;;IAmCxC,2EAIC;IACC,mEAA4B;IAC5B,4EAKE;IADA,udAAS,yGAA0C,UAAU,CAAC,KAAC;IAJjE,4DAKE;;;IAZN,qEAAuD;IACrD,4IAYO;IACT,4DAAK;;;IAdwB,iFAAyB;IAIjD,0DAAuD;IAAvD,2HAAuD;;;IAhD9D,qEAAI;IACF,mIAwCK;IACP,4DAAK;IACL,yEAAuB;IACrB,mIAcK;IACP,4DAAK;;;;IAzDe,0DAAY;IAAZ,gFAAY;IA0CV,0DAAO;IAAP,gFAAO;;;IA0BvB,0EAGC;IACC,uDACF;IAAA,4DAAM;;;;IADJ,0DACF;IADE,yGACF;;;;;IACA,wEAeG;IAFD,gbAAgB,6FAAuB,KAAC,4WAC/B,6FAAuB,KADQ;IAEvC,uDAA2B;IAAA,4DAC7B;;;;;IAbC,gOAME;IAMD,0DAA2B;IAA3B,8FAA2B;;;IAE9B,2EAMC;IACC,uDAIE;IAAA,4DACH;;;;IAVC,oJAEC;IAGD,0DAIE;IAJF,4MAIE;;;;IAiBA,wEAMC;IADD,ogBAAS,sGAA4B,OAAO,GAAG,KAAC;IAC/C,+DAAI;IAAA,4DACN;;;;IAtBH,2EAQC;IAFC,2aAAsB,WAAW,IAAI,IAAI,MAAC,mXACpB,WAAW,IAAI,KAAK,MADA;IAG1C,uDAME;IAAA,4JAOD;IAAA,4DACF;;;;IArBC,oJAEC;IAKD,0DAME;IANF,+RAME;IAEC,0DAEA;IAFA,uIAEA;;;IAxDP,qEAA8D;IAC5D,yJAKM;IACN,qJAgBC;IACD,2JAYC;IACD,2JAuBC;IACH,4DAAK;;;IA3DA,0DAAmC;IAAnC,2GAAmC;IAMnC,0DAAY;IAAZ,4EAAY;IAiBZ,0DAAY;IAAZ,4EAAY;IAaZ,0DAAY;IAAZ,4EAAY;;;;IAyBjB,yEAGC;IAEC,6UAAgB,sEAAiB,KAAC;IAChC,gFAWE;IAPA,0aAAS,oGAA8B,KAAC;IAJ1C,4DAWE;IACF,sEAAkC;IACpC,4DAAQ;;;;IAXJ,0DAA+B;IAA/B,gGAA+B;;;;IAarC,yEAGC;IAQK,qaAAS,uFAAiB,KAAC;IAC5B,4DAAS;;;IAFR,0DAA4C;IAA5C,yGAA4C;;;IA/FpD,wEAAyD;IACvD,kJA6DK;IAEL,kJAoBK;IACL,kJAcK;IACP,qEAAe;;;IAnGR,0DAAuD;IAAvD,2HAAuD;IAgEzD,0DAA2B;IAA3B,2FAA2B;IAqB3B,0DAA8B;IAA9B,8FAA8B;;;IAvFrC,yEAA8B;IAC5B,uJAoGe;IACjB,4DAAK;;;;IAtGD,sFAAyB;IACG,0DAAY;IAAZ,gFAAY;;;IAwG5C,qEAAI;IAC+B,yEAAc;IAAA,4DAAK;;;IAAhD,0DAA4B;IAA5B,yFAA4B;;;IAIlC,uDAOF;;;IAPE,uRAOF;;;IArMJ,0EAAoE;IAYhE,uIA6Dc;IACd,uIA6Gc;IACd,uIAIc;IACd,uIAQc;IAChB,4DAAU;;;IAnMR,0DAAgB;IAAhB,gFAAgB;;;;IAsMtB,0EAA8E;IAEtD,qEAAsC;IAAA,4DAAM;IAElE,yEAAiB;IAEV,8GAAiD;IAAA,4DAAI;IACxD,4EAOC;IADC,oSAAS,iFAAe,KAAC;IAC1B,4DAAS;;AD9QT,MAAM,mBAAmB;IA8C9B,YACU,MAAc,EACd,WAAwB,EACxB,KAAqB,EACrB,kBAAsC,EACtC,kBAAsC,EACtC,mBAAwC,EACxC,cAA8B,EAC9B,EAAsB;QAPtB,WAAM,GAAN,MAAM,CAAQ;QACd,gBAAW,GAAX,WAAW,CAAa;QACxB,UAAK,GAAL,KAAK,CAAgB;QACrB,uBAAkB,GAAlB,kBAAkB,CAAoB;QACtC,uBAAkB,GAAlB,kBAAkB,CAAoB;QACtC,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,mBAAc,GAAd,cAAc,CAAgB;QAC9B,OAAE,GAAF,EAAE,CAAoB;QArDhC,aAAQ,GAAG,cAAc,CAAC;QAC1B,oBAAe,GAAG,iBAAiB,CAAC;QAGpC,eAAU,GAAG,MAAM,CAAC,IAAI,CAAC;QAGzB,oBAAe,GAAY,KAAK,CAAC;QAEjC,SAAI,GAAU;YACZ,EAAE,KAAK,EAAE,SAAS,EAAE,MAAM,EAAE,UAAU,EAAE,KAAK,EAAE,KAAK,EAAE;YACtD,EAAE,KAAK,EAAE,aAAa,EAAE,MAAM,EAAE,iBAAiB,EAAE,KAAK,EAAE,KAAK,EAAE;YACjE,EAAE,KAAK,EAAE,aAAa,EAAE,MAAM,EAAE,UAAU,EAAE,KAAK,EAAE,KAAK,EAAE;YAC1D,EAAE,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE;YAClD,EAAE,KAAK,EAAE,WAAW,EAAE,MAAM,EAAE,YAAY,EAAE,KAAK,EAAE,IAAI,EAAE;SAC1D,CAAC;QAEF,uBAAkB,GAAY,KAAK,CAAC;QACpC,2BAAsB,GAAY,KAAK,CAAC;QACxC,2BAAsB,GAAY,KAAK,CAAC;QACxC,sBAAiB,GAAY,KAAK,CAAC;QAEnC,YAAO,GAAG,EAAE,CAAC;QACb,gBAAW,GAAG,EAAE,CAAC;QACjB,gBAAW,GAAG,EAAE,CAAC;QACjB,WAAM,GAAG,EAAE,CAAC;QAEZ,aAAQ,GAAQ,EAAE,CAAC;QACnB,0BAAqB,GAAU,EAAE,CAAC;QAClC,8BAAyB,GAAU,EAAE,CAAC;QACtC,8BAAyB,GAAU,EAAE,CAAC;QACtC,yBAAoB,GAAU,EAAE,CAAC;QACjC,sBAAiB,GAAQ,EAAE,CAAC;QAC5B,YAAO,GAAY,IAAI,CAAC;QAGxB,6BAAwB,GAAU,EAAE,CAAC;QACrC,wBAAmB,GAAU,EAAE,CAAC;QAEhC,cAAS,GAAW,gCAAgC,CAAC;QAErD,kBAAa,GAAQ,EAAE,CAAC;QAExB,qBAAgB,GAAG,EAAE,CAAC;IAWnB,CAAC;IAEJ,QAAQ;QACN,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QAExC,MAAM,cAAc,GAAG,eAAe,CAAC;QAEvC,qBAAqB;QACrB,IAAI,CAAC,WAAW;aACb,SAAS,CAAC,cAAc,CAAC;aACzB,IAAI,CAAC,CAAC,eAAuB,EAAE,EAAE;YAChC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC;QACjD,CAAC,CAAC,CAAC;QAEL,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;YACjC,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,kBAAkB,CAAC,eAAe,GAAG,IAAI,CAAC;QAC/C,IAAI,CAAC,kBAAkB,CAAC,UAAU,GAAG,IAAI,CAAC;QAE1C,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;QAE7D,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAE1B,oCAAoC;QAEpC,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC,KAAK,CACxC,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAClC,CAAC;QACF,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;QACzE,IAAI,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,CAAC;QACjE,IAAI,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;QAE3D,IAAI,MAAM,GAAG,IAAI,CAAC;QAClB,IAAI,MAAM,GAAG,IAAI,CAAC;QAElB,IAAI,UAAU,EAAE;YACd,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;YACxB,MAAM,GAAG,IAAI,CAAC,wBAAwB,CAAC,MAAM,CAC3C,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,IAAI,UAAU,CAAC,eAAe,CAAC,IAAI,CACrD,CAAC,CAAC,CAAC,CAAC;YACL,MAAM,GAAG,IAAI,CAAC,mBAAmB,CAAC,MAAM,CACtC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,IAAI,UAAU,CAAC,UAAU,CAAC,IAAI,CAChD,CAAC,CAAC,CAAC,CAAC;SACN;aAAM;YACL,IAAI,SAAS,EAAE;gBACb,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC,CAAC;gBAC7D,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC;aACzD;SACF;QAED,IAAI,MAAM,EAAE;YACV,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;SACjC;QACD,IAAI,MAAM,EAAE;YACV,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;SACpC;QACD,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,IAAI,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE;YAC/C,IAAI,CAAC,eAAe,EAAE,CAAC;SACxB;QAED,yCAAyC;IAC3C,CAAC;IAED,kBAAkB;QAChB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YACnC,YAAY,EAAE,IAAI,8DAAkB,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAE,EAAE;gBACnE,+DAAmB;aACpB,CAAC;YACF,OAAO,EAAE,IAAI,8DAAkB,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAE,EAAE;gBAC9D,+DAAmB;aACpB,CAAC;SACH,CAAC,CAAC;IACL,CAAC;IAED,IAAI,OAAO;QACT,OAAO,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;IAClD,CAAC;IACD,IAAI,UAAU;QACZ,OAAO,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;IAC7C,CAAC;IAED,eAAe;QACb,IAAI,UAAU,GAAG;YACf,eAAe,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK;YACnC,UAAU,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK;SAClC,CAAC;QACF,cAAc,CAAC,OAAO,CAAC,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC;QAC1D,IAAI,CAAC,wBAAwB,CAC3B,IAAI,CAAC,QAAQ,CAAC,MAAM,EACpB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EACvB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAC3B,CAAC;IACJ,CAAC;IACD,wBAAwB,CAAC,MAAW,EAAE,QAAa,EAAE,WAAgB;QACnE,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,8CAAQ,CAAC;YACP,kBAAkB,EAAE,IAAI,CAAC,kBAAkB,CAAC,qBAAqB,CAC/D,IAAI,CAAC,QAAQ,CAAC,MAAM,EACpB,IAAI,CAAC,QAAQ,EACb,QAAQ,EACR,WAAW,CACZ;YACD,qBAAqB,EAAE,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAC3D,MAAM,EACN,IAAI,CAAC,QAAQ,EACb,QAAQ,EACR,WAAW,CACZ;SACF,CAAC;aACC,IAAI,CACH,oDAAI,CAAC,CAAC,CAAC,EACP,mDAAG,CAAC,CAAC,QAAQ,EAAE,EAAE;YACf,IAAI,kBAAkB,GAAG,+DAAY,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAC;YACnE,OAAO,kBAAkB,CAAC,cAAc,CAAC,CAAC;YAC1C,IAAI,CAAC,gBAAgB,GAAG,QAAQ,CAAC,kBAAkB,CAAC,cAAc,CAAC,CAAC;YACpE,MAAM,kBAAkB,GAAG,kBAAkB,CAAC;YAC9C,MAAM,qBAAqB,GAAG,QAAQ,CAAC,qBAAqB,CAAC;YAE7D,IAAI,qBAAqB,CAAC,MAAM,CAAC,EAAE;gBACjC,IAAI,CAAC,iBAAiB,GAAG,qBAAqB,CAAC;gBAC/C,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;oBAC1C,IAAI,WAAW,GAAG,GAAG,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;oBACnD,MAAM,QAAQ,GAAG,GAAG,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;oBAC/C,IAAI,OAAO,GAAG,EAAE,CAAC;oBACjB,IAAI,KAAK,GAAG,EAAE,CAAC;oBACf,IAAI,UAAU,GAAG,EAAE,CAAC;oBAEpB,uBAAuB;oBACvB,QAAQ,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;wBAC3B,IAAI,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;4BACtD,sBAAsB;4BACtB,MAAM,YAAY,GAAG,OAAO;iCACzB,KAAK,CAAC,GAAG,CAAC;iCACV,GAAG,CAAC,CAAC,aAAa,EAAE,EAAE;gCACrB,MAAM,CAAC,IAAI,EAAE,EAAE,CAAC,GAAG,aAAa;qCAC7B,KAAK,CAAC,IAAI,CAAC;qCACX,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gCACrC,OAAO,WAAW,IAAI,MAAM,EAAE,EAAE,CAAC;4BACnC,CAAC,CAAC,CAAC;4BACL,OAAO,GAAG,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;yBACpC;6BAAM,IACL,OAAO,CAAC,UAAU,CAAC,cAAc,CAAC;4BAClC,OAAO,CAAC,QAAQ,CAAC,YAAY,CAAC,EAC9B;4BACA,oBAAoB;4BACpB,MAAM,YAAY,GAAG,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,WAAW,EAAE,EAAE;gCAC1D,MAAM,CAAC,SAAS,EAAE,OAAO,CAAC,GAAG,WAAW;qCACrC,KAAK,CAAC,IAAI,CAAC;qCACX,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gCACrC,OAAO,WAAW,SAAS,MAAM,OAAO,EAAE,CAAC;4BAC7C,CAAC,CAAC,CAAC;4BACH,KAAK,GAAG,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;yBAClC;oBACH,CAAC,CAAC,CAAC;oBAEH,IAAI,OAAO,CAAC,MAAM,IAAI,KAAK,CAAC,MAAM,EAAE;wBAClC,UAAU,IAAI,WAAW,OAAO,YAAY,KAAK,GAAG,CAAC;qBACtD;yBAAM,IAAI,OAAO,CAAC,MAAM,EAAE;wBACzB,UAAU,IAAI,WAAW,OAAO,GAAG,CAAC;qBACrC;yBAAM,IAAI,KAAK,CAAC,MAAM,EAAE;wBACvB,UAAU,IAAI,SAAS,KAAK,GAAG,CAAC;qBACjC;oBAED,IAAI,WAAW,CAAC,MAAM,EAAE;wBACtB,IAAI,gBAAgB,GAAG,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC;4BAC5D,WAAW,EAAE,WAAW;yBACzB,CAAC,CAAC;wBACH,GAAG,CAAC,WAAW,GACb,IAAI,CAAC,kBAAkB,CAAC,uBAAuB,CAC7C,gBAAgB,EAChB,kBAAkB,EAClB,IAAI,CAAC,gBAAgB,CAExB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;wBACb,IAAI,UAAU,EAAE,MAAM,EAAE;4BACtB,GAAG,CAAC,WAAW,GAAG,GAAG,CAAC,WAAW,GAAG,IAAI,GAAG,UAAU,CAAC;yBACvD;qBACF;yBAAM;wBACL,IAAI,UAAU,EAAE,MAAM,EAAE;4BACtB,GAAG,CAAC,WAAW,GAAG,UAAU,CAAC;yBAC9B;qBACF;gBACH,CAAC,CAAC,CAAC;gBACH,IAAI,CAAC,cAAc,GAAG,CAAC,GAAG,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;gBACvD,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;gBAC7B,IAAI,CAAC,aAAa,GAAG,CAAC,GAAG,IAAI,CAAC,iBAAiB,CAAC,aAAa,CAAC,CAAC;gBAC/D,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;oBACzD,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;gBACtC,CAAC,CAAC,CAAC;gBACH,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,GAAG,CACvD,CAAC,IAAI,EAAE,EAAE;oBACP,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;gBACtC,CAAC,CACF,CAAC;gBACF,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,GAAG,CACvD,CAAC,IAAI,EAAE,EAAE;oBACP,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;gBACtC,CAAC,CACF,CAAC;gBACF,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;oBACvD,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;gBACtC,CAAC,CAAC,CAAC;aACJ;iBAAM;gBACL,IAAI,qBAAqB,CAAC,KAAK,CAAC,EAAE;oBAChC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,qBAAqB,CAAC,KAAK,CAAC,CAAC,CAAC;iBACjE;gBACD,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;gBAC5B,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;aAC1B;YACD,OAAO,qBAAqB,CAAC;QAC/B,CAAC,CAAC,CACH;aACA,SAAS,CACR,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,IACE,GAAG,CAAC,QAAQ,CAAC;gBACb,OAAO,GAAG,CAAC,QAAQ,CAAC,IAAI,QAAQ;gBAChC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,EAClD;gBACA,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;gBAC5B,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;oBAChB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;iBACjD;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,CAAC;iBAClE;aACF;iBAAM;gBACL,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE;oBAChB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;iBAC7B;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;YAC3B,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;YAC5B,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,OAAO,CAAC,GAAG,CAAC,uCAAuC,EAAE,GAAG,CAAC,CAAC;YAC1D,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC/B,4CAA4C,CAC7C,CAAC;QACJ,CAAC,CACF,CAAC;IACN,CAAC;IAED,cAAc,CAAC,IAAS;QACtB,IAAI,CAAC,kBAAkB,CAAC,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC;QAClE,IAAI,CAAC,kBAAkB,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC;QAChE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;YACnB,QAAQ;YACR,cAAc;YACd,SAAS;YACT,IAAI,CAAC,OAAO;YACZ,MAAM;SACP,CAAC,CAAC;QACH,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IACxC,CAAC;IAED,QAAQ,CAAC,EAAO;QACd,OAAO,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;IACzC,CAAC;IAED,aAAa,CAAC,CAAM,EAAE,IAAS;QAC7B,CAAC,CAAC,cAAc,EAAE,CAAC;QACnB,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,IAAI,SAAS,GAAG,EAAE,CAAC;QACnB,IAAI,CAAC,CAAC,MAAM,CAAC,OAAO,EAAE;YACpB,SAAS,GAAG,QAAQ,CAAC;YACrB,IAAI,GAAG,UAAU,CAAC;SACnB;aAAM;YACL,SAAS,GAAG,UAAU,CAAC;YACvB,IAAI,GAAG,YAAY,CAAC;SACrB;QACD,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;QAChD,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,WAAW,GAAG,EAAE,CAAC;QACrB,IAAI,WAAW,GAAG,kCAAkC,CAAC;QACrD,IACE,SAAS,IAAI,UAAU;YACvB,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,EAC5C;YACA,WAAW;gBACT,mDAAmD;oBACnD,WAAW;oBACX,iBAAiB;oBACjB,IAAI;oBACJ,oBAAoB,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC;SAC1C;aAAM;YACL,WAAW;gBACT,mDAAmD;oBACnD,iBAAiB;oBACjB,IAAI;oBACJ,oBAAoB,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC;SAC1C;QACD,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;YAC/B,OAAO,EAAE,WAAW;YACpB,GAAG,EAAE,sBAAsB;YAC3B,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,YAAY,CAAC,CAAC,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC;gBACtC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;YACjC,CAAC;YACD,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;gBAC/B,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;YAClC,CAAC;SACF,CAAC,CAAC;IACL,CAAC;IAED,mBAAmB,CAAC,MAAe;QACjC,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;YAC5C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;QACjD,CAAC,EAAE,GAAG,CAAC,CAAC;QACR,IAAI,CAAC,MAAM,EAAE;YACX,UAAU,CAAC,GAAG,EAAE;gBACd,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACzC,CAAC,EAAE,IAAI,CAAC,CAAC;SACV;IACH,CAAC;IAED,YAAY,CAAC,CAAM,EAAE,SAAc,EAAE,IAAS;QAC5C,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QAExC,MAAM,QAAQ,GAAG,IAAI,QAAQ,EAAE,CAAC;QAChC,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QAChD,QAAQ,CAAC,MAAM,CAAC,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;QAC5C,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;QACrC,QAAQ,CAAC,MAAM,CAAC,cAAc,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QACzD,QAAQ,CAAC,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC1D,QAAQ,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;QACvC,IAAI,CAAC,mBAAmB,CAAC,QAAQ,EAAE,CAAC,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;IACrD,CAAC;IAED,mBAAmB,CAAC,QAAa,EAAE,SAAc,EAAE,OAAY;QAC7D,IAAI,CAAC,kBAAkB,CAAC,uBAAuB,CAAC,QAAQ,CAAC,CAAC,SAAS,CACjE,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,OAAO,GAAG,EAAE,CAAC;YACjB,IAAI,GAAG,CAAC,OAAO,CAAC,IAAI,MAAM,EAAE;gBAC1B,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,OAAO,GAAG,mCAAmC,GAAG,CAAC,KAAK,CAAC,MAAM,OAAO,CAAC,aAAa,CAAC,oCAAoC,CAAC;gBACxH,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;aAC5C;iBAAM;gBACL,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;oBACd,OAAO,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC;oBACrB,SAAS,CAAC,OAAO,GAAG,SAAU,CAAC,OAAO,CAAC;oBACvC,IAAI,CAAC,wBAAwB,CAC3B,IAAI,CAAC,QAAQ,CAAC,MAAM,EACpB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EACvB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAC3B,CAAC;oBACF,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;iBAC5C;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;oBACvC,OAAO,GAAG,gDAAgD,CAAC;oBAC3D,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;iBAC5C;aACF;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACjB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,CACF,CAAC;IACJ,CAAC;IAED,QAAQ,CAAC,IAAS;QAChB,IAAI,CAAC,kBAAkB,CAAC,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC;QAClE,IAAI,CAAC,kBAAkB,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC;QAChE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;YACnB,QAAQ;YACR,cAAc;YACd,SAAS;YACT,IAAI,CAAC,OAAO;YACZ,OAAO;SACR,CAAC,CAAC;IACL,CAAC;IAED,aAAa;QACX,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,EAAE,cAAc,EAAE,SAAS,CAAC,CAAC,CAAC;IAC9D,CAAC;IAED,sBAAsB,CAAC,KAAK;QAC1B,IAAI,CAAC,OAAO,KAAK,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,KAAK,SAAS,CAAC,CAAC;IAC7D,CAAC;IAED,oBAAoB,CAAC,KAAK;QACxB,IAAI,CAAC,OAAO,KAAK,SAAS,CAAC,GAAG,KAAK,CAAC;IACtC,CAAC;IAED,oBAAoB,CAAC,KAAU;QAC7B,OAAO,IAAI,CAAC,iBAAiB,KAAK,EAAE,CAAC,CAAC;IACxC,CAAC;IAED,iBAAiB,CAAC,EAAe,EAAE,KAAU;QAC3C,IAAI,CAAC,iBAAiB,KAAK,EAAE,CAAC,GAAG,EAAE,CAAC,KAAK,CAAC;IAC5C,CAAC;IAED,kBAAkB,CAAC,KAAU;QAC3B,OAAO,IAAI,CAAC,OAAO,KAAK,SAAS,CAAC,CAAC;IACrC,CAAC;IAED,kBAAkB,CAAC,KAAU;QAC3B,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC;IACrB,CAAC;IAED,eAAe,CAAC,IAAY;QAC1B,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;IACzC,CAAC;;sFAldU,mBAAmB;iHAAnB,mBAAmB;;;;;;;QCvBhC,yEAAkC;QAG5B,kEAAiC;QACjC,2EACF;QAAA,4DAAM;QACN,yEAAoB;QAOhB,2IAAS,mBAAe,IAAC;QAC1B,4DAAS;QAGd,yEAA6B;QAQhB,uEAAW;QAAA,4DACb;QACD,kFAOC;QACC,kIAIc;QAAA,4DACf;QAEH,2EAAqE;QAIhE,kEAAM;QAAA,4DACR;QACD,kFAOC;QACC,kIAIc;QAAA,4DACf;QAEH,2EAAmE;QAK/D,4IAAS,qBAAiB,IAAC;QAI5B,4DAAS;QAMpB,kHAuMM;QACR,4DAAM;QACN,kHAiBM;QACN,2FAKC;QAOK,0RAAS,sEAAW,KAAC;QACtB,4DAAS;QAEV,8EAMC;QADC,0RAAS,sEAAW,KAAC;QACtB,4DAAS;;QA5SL,0DAA6B;QAA7B,0FAA6B;QAYxB,0DAAoC;QAApC,iGAAoC;QAqBpC,0DAA+B;QAA/B,4FAA+B;QAoB/B,0DAAoC;QAApC,iGAAoC;QAO3B,0DAA6C;QAA7C,iHAA6C;QAyMxC,0DAAgD;QAAhD,yJAAgD;QAsB1E,0DAAkB;QAAlB,2EAAkB;;;;;;;;;;;;;;;;;;AC7S2C;AAEH;;;AAKrD,MAAM,kBAAkB;IAC7B,YAAoB,IAAgB;QAAhB,SAAI,GAAJ,IAAI,CAAY;QAEpC,oBAAe,GAAQ,IAAI,CAAC;QAC5B,eAAU,GAAQ,IAAI,CAAC;QAEf,0BAAqB,GAAQ,SAAS,CAAC;IALR,CAAC;IAOxC,OAAO,CAAC,IAAS;QACf,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC;IACpC,CAAC;IAED,OAAO;QACL,OAAO,IAAI,CAAC,qBAAqB,CAAC;IACpC,CAAC;IAED,kBAAkB;IAClB,0BAA0B;QACxB,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,yDAAyD,CAC1D,CAAC;IACJ,CAAC;IAED,qBAAqB,CACnB,MAAW,EACX,QAAa,EACb,OAAY,EACZ,UAAe;QAEf,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,uDAAuD,EACvD;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC;iBACrB,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC;iBACrB,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;iBACpC,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;SACzC,CACF,CAAC;IACJ,CAAC;IAED,0BAA0B,CACxB,QAAa,EACb,OAAY,EACZ,WAAgB,EAChB,SAAc,EACd,WAAgB,EAChB,UAAe;QAEf,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,iDAAiD,EAAE;YACtE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC;iBACrB,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;iBACpC,GAAG,CAAC,aAAa,EAAE,WAAW,CAAC;iBAC/B,GAAG,CAAC,WAAW,EAAE,SAAS,CAAC;iBAC3B,GAAG,CAAC,aAAa,EAAE,WAAW,CAAC;iBAC/B,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;SACzC,CAAC,CAAC;IACL,CAAC;IAED,6BAA6B,CAAC,IAAS;QACrC,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CACnB,qDAAqD,EACrD,IAAI,CACL,CAAC;IACJ,CAAC;IAED,uBAAuB,CACrB,EAAU,EACV,OAAY,EACZ,UAAe,EACf,QAAa;QAEb,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB;OACC,EACD;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,QAAQ,EAAE,EAAE,CAAC;iBACjB,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;iBACpC,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;iBACrC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC;SACzB,CACF,CAAC;IACJ,CAAC;IACD,sBAAsB;IAEtB,cAAc,CAAC,EAAU,EAAE,QAAa,EAAE,OAAY,EAAE,UAAe;QACrE,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,yDAAyD,EACzD;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,QAAQ,EAAE,EAAE,CAAC;iBACjB,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;iBACpC,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;iBACrC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC;SACzB,CACF,CAAC;IACJ,CAAC;IAED,uBAAuB,CAAC,IAAS;QAC/B,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CACnB,kEAAkE,EAClE,IAAI,CACL,CAAC;IACJ,CAAC;IAED,oBAAoB,CAClB,OAAY,EACZ,SAAc,EACd,OAAY,EACZ,UAAe,EACf,QAAa;QAEb,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,uEAAuE,EACvE;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,SAAS,EAAE,OAAO,CAAC;iBACvB,GAAG,CAAC,WAAW,EAAE,SAAS,CAAC;SAC/B,CACF,CAAC;IACJ,CAAC;IAED,6BAA6B,CAAC,OAAY,EAAE,UAAe,EAAE,QAAa;QACxE,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,yDAAyD,EACzD;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;iBACpC,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;iBACrC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC;SACzB,CACF,CAAC;IACJ,CAAC;IAED,qBAAqB,CAAC,IAAS;QAC7B,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CACnB,8DAA8D,EAC9D,IAAI,CACL,CAAC;IACJ,CAAC;IAED,SAAS,CACP,IAAI,EACJ,OAAY,EACZ,UAAe,EACf,QAAa;QAEb,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CACnB,6DAA6D,EAC7D,IAAI,EACJ;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;iBACpC,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;iBACrC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC;SACzB,CACF,CAAC;IACJ,CAAC;IAED,gBAAgB,CACd,MAAM,EACN,IAAI,EACJ,OAAY,EACZ,UAAe,EACf,QAAa;QAEb,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,oEAAoE,EACpE,IAAI,EACJ;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC;iBACrB,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;iBACpC,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;iBACrC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC;SACzB,CACF,CAAC;IACJ,CAAC;;oFAnLU,kBAAkB;mHAAlB,kBAAkB,WAAlB,kBAAkB,mBAFjB,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;ACL2D;;;;;;;;;;;;;ICcnE,0EAA2B;IACpB,uDAAsB;IAAA,4DAAM;;;IAA5B,0DAAsB;IAAtB,qFAAsB;;;IAa7B,0EAA2B;IACpB,uDAAsB;IAAA,4DAAM;;;IAA5B,0DAAsB;IAAtB,qFAAsB;;;IAa7B,0EAA2B;IACpB,uDAAsB;IAAA,4DAAM;;;IAA5B,0DAAsB;IAAtB,qFAAsB;;;;IAkCjC,6EAQC;IADC,+SAAS,0EAAQ,KAAC;IACnB,4DAAS;;;;IAUV,6EASC;IAFC,+SAAS,2EAAS,eAAe,CAAC,KAAC;IAEpC,4DAAS;;;IADR,wFAAwB;;;;IAE1B,6EASC;IAFC,+SAAS,2EAAS,KAAC;IAEpB,4DAAS;;;IADR,wFAAwB;;;;IAE1B,6EAQC;IADC,+SAAS,4EAAU,KAAC;IACrB,4DAAS;;;IAHR,4HAAqD;;;;IAIvD,6EAQC;IADC,+SAAS,kFAAgB,KAAC;IAC3B,4DAAS;;;IAWV,0EAAgC;IAAA,0EAAe;IAAA,4DAAM;;;IA6C3C,0EAA2B;IACpB,uDAAsB;IAAA,4DAAM;;;IAA5B,0DAAsB;IAAtB,qFAAsB;;;;IA3CvC,0EAAiB;IAGV,iEACD;IAAA,4DAAQ;IACR,2EAAoE;IAAxB,iaAAsB;IAAlE,4DAAoE;IAEtE,0EAAkE;IAE/D,2EACD;IAAA,4DAAQ;IACR,2EAA6E;IAAjC,0aAA+B;IAA3E,4DAA6E;IAE/E,0EAAkE;IAE/D,2EACD;IAAA,4DAAQ;IACR,4EAA4E;IAAhC,0aAA8B;IAA1E,4DAA4E;IAG9E,2EAAiB;IAGd,sEACD;IAAA,4DAAQ;IACR,4EAAuE;IAA3B,qaAAyB;IAArE,4DAAuE;IAEzE,2EAAkE;IAE/D,6EACD;IAAA,4DAAQ;IACR,4EAA8E;IAAlC,4aAAgC;IAA5E,4DAA8E;IAEhF,2EAA0F;IAEtF,6EACF;IAAA,4DAAQ;IACR,iFAGyC;IAFzC,ibAAgC;IAG9B,wJAIc;IAAA,4DAAa;;;IAxCe,0DAAsB;IAAtB,oFAAsB;IAMtB,0DAA+B;IAA/B,6FAA+B;IAM/B,0DAA8B;IAA9B,4FAA8B;IAQ9B,0DAAyB;IAAzB,uFAAyB;IAMzB,0DAAgC;IAAhC,8FAAgC;IAM5B,0DAAiC;IAAjC,iGAAiC;;;;IAavF,0EAAyD;IAOrD,oTAAS,oFAAkB,KAAC;IAC7B,4DAAS;IACR,6EAOD;IADC,oTAAS,oFAAkB,KAAC;IAC7B,4DAAS;;;AD3Mb,MAAM,2BAA2B;IAkFtC,YACU,MAAc,EACd,WAAwB,EACxB,KAAqB;QAFrB,WAAM,GAAN,MAAM,CAAQ;QACd,gBAAW,GAAX,WAAW,CAAa;QACxB,UAAK,GAAL,KAAK,CAAgB;QApFN,kBAAa,GAAG,IAAI,uDAAY,EAAO,CAAC;QACrC,sBAAiB,GAAY,KAAK,CAAC;QAgB/D,kBAAa,GAAY,KAAK,CAAC;QAI/B,kBAAa,GAAQ;YACnB;gBACE,EAAE,EAAE,CAAC;gBACL,IAAI,EAAE,SAAS;gBACf,QAAQ,EAAE,SAAS;gBACnB,MAAM,EAAE,GAAG;aACZ;YACD;gBACE,EAAE,EAAE,CAAC;gBACL,IAAI,EAAE,YAAY;gBAClB,QAAQ,EAAE,YAAY;gBACtB,MAAM,EAAE,GAAG;aACZ;SACF,CAAC;QACF,qBAAgB,GAAQ;YACtB;gBACE,EAAE,EAAE,CAAC;gBACL,IAAI,EAAE,QAAQ;gBACd,QAAQ,EAAE,QAAQ;gBAClB,MAAM,EAAE,GAAG;aACZ;YACD;gBACE,EAAE,EAAE,CAAC;gBACL,IAAI,EAAE,YAAY;gBAClB,QAAQ,EAAE,YAAY;gBACtB,MAAM,EAAE,GAAG;aACZ;SACF,CAAC;QACF,2BAAsB,GAAQ;YAC5B;gBACE,EAAE,EAAE,CAAC;gBACL,IAAI,EAAE,oBAAoB;gBAC1B,QAAQ,EAAE,oBAAoB;gBAC9B,MAAM,EAAE,GAAG;aACZ;YACD;gBACE,EAAE,EAAE,CAAC;gBACL,IAAI,EAAE,YAAY;gBAClB,QAAQ,EAAE,YAAY;gBACtB,MAAM,EAAE,GAAG;aACZ;SACF,CAAC;QACF,0BAAqB,GAAQ;YAC3B;gBACE,EAAE,EAAE,CAAC;gBACL,IAAI,EAAE,SAAS;gBACf,QAAQ,EAAE,SAAS;gBACnB,MAAM,EAAE,GAAG;aACZ;YACD;gBACE,EAAE,EAAE,CAAC;gBACL,IAAI,EAAE,YAAY;gBAClB,QAAQ,EAAE,YAAY;gBACtB,MAAM,EAAE,GAAG;aACZ;SACF,CAAC;QAEF,SAAI,GAAG,KAAK,CAAC;QACb,gBAAW,GAAY,KAAK,CAAC;IAM1B,CAAC;IAEJ,QAAQ;QACN,wCAAwC;QACxC,6DAA6D;QAC7D,MAAM;IACR,CAAC;IACD,YAAY,CAAC,KAAa;QACxB,0CAA0C;QAC1C,MAAM,UAAU,GAAG,kDAAkD,CAAC;QACtE,OAAO,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAChC,CAAC;IACD,oBAAoB,CAAC,KAAa;QAChC,6CAA6C;QAC7C,OAAO,KAAK,EAAE,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;IAC1D,CAAC;IAED,QAAQ,CAAC,MAAM;QACb,2CAA2C;QAC3C,IAAI,eAAe,GAAG,KAAK,CAAC;QAC5B,IAAI,gBAAgB,GAAG,KAAK,CAAC;QAC7B,IAAI,iBAAiB,GAAG,KAAK,CAAC;QAC9B,IAAI,gBAAgB,GAAG,KAAK,CAAC;QAC7B,IAAI,kBAAkB,GAAG,KAAK,CAAC;QAE/B,IAAI,CAAC,SAAS,GAAG;YACf;gBACE,MAAM,EAAE,IAAI,CAAC,UAAU;gBACvB,QAAQ,EAAE,IAAI,CAAC,QAAQ;gBACvB,QAAQ,EAAE,IAAI,CAAC,QAAQ;gBACvB,MAAM,EAAE,GAAG;gBACX,UAAU,EAAE,IAAI,CAAC,UAAU;gBAC3B,SAAS,EAAE,IAAI,CAAC,SAAS;gBACzB,eAAe,EAAE,IAAI,CAAC,eAAe;gBACrC,SAAS,EAAE,IAAI,CAAC,WAAW;gBAC3B,WAAW,EAAE,IAAI,CAAC,aAAa;aAChC;SACF,CAAC;QACF,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;YAC9B,IAAI,CAAC,UAAU,CAAC,GAAG,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAC5D,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;YAC1B,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,EAAE;gBAClD,gBAAgB,GAAG,IAAI,CAAC;aACzB;YACD,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,EAAE;gBACzC,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;gBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,oCAAoC,CAAC,CAAC;gBACxE,OAAO,CAAC,iDAAiD;aAC1D;YACD,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,EAAE;gBAChD,eAAe,GAAG,IAAI,CAAC;aACxB;YAED,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,EAAE;gBACtD,kBAAkB,GAAG,IAAI,CAAC;aAC3B;YACD,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,EAAE;gBAClD,gBAAgB,GAAG,IAAI,CAAC;aACzB;YACD,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,EAAE;gBACpD,iBAAiB,GAAG,IAAI,CAAC;aAC1B;QACH,CAAC,CAAC,CAAC;QAEH,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QACpC,IAAI,iBAAiB,EAAE;YACrB,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,2BAA2B,CAAC,CAAC;SAChE;aAAM,IAAI,gBAAgB,EAAE;YAC3B,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,+BAA+B,CAAC,CAAC;SACpE;aAAM,IAAI,kBAAkB,EAAE;YAC7B,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,kCAAkC,CAAC,CAAC;SACvE;aAAM,IAAI,eAAe,EAAE;YAC1B,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,uBAAuB,CAAC,CAAC;SAC5D;aAAM,IAAI,gBAAgB,EAAE;YAC3B,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,wBAAwB,CAAC,CAAC;SAC7D;QACD,WAAW;QACX,iBAAiB;QACjB,+BAA+B;QAC/B,iCAAiC;QAEjC,+EAA+E;QAC/E,+BAA+B;QAC/B,aAAa;QACb,iCAAiC;QACjC,oCAAoC;QACpC,6EAA6E;QAC7E,MAAM;QAEN,mBAAmB;QACnB,yBAAyB;QACzB,mBAAmB;QACnB,eAAe;QACf,6BAA6B;QAC7B,gDAAgD;QAChD,+DAA+D;QAC/D,cAAc;QACd,gCAAgC;QAChC,+DAA+D;QAC/D,qBAAqB;QACrB,iDAAiD;QACjD,+DAA+D;QAC/D,iBAAiB;QACjB,cAAc;QACd,mBAAmB;QACnB,8BAA8B;QAC9B,0DAA0D;QAC1D,sDAAsD;QACtD,6CAA6C;QAC7C,cAAc;QACd,YAAY;QACZ,WAAW;QACX,mBAAmB;QACnB,kDAAkD;QAClD,6CAA6C;QAC7C,6CAA6C;QAC7C,2DAA2D;QAC3D,aAAa;QACb,UAAU;QACV,SAAS;QACT,MAAM;QACN,IAAI;IACN,CAAC;IACD,OAAO,KAAI,CAAC;IACZ,MAAM,KAAI,CAAC;IACX,QAAQ,KAAI,CAAC;IACb,cAAc;QACZ,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;IAC5B,CAAC;IACD,WAAW;QACT,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;QAC3B,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;YAC5C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;QACjD,CAAC,EAAE,GAAG,CAAC,CAAC;QACR,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;QACzC,CAAC,EAAE,IAAI,CAAC,CAAC;IACX,CAAC;IACD,MAAM;QACJ,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAClC,CAAC;IACD,gBAAgB,KAAI,CAAC;IAErB,gBAAgB,KAAI,CAAC;;sGA5OV,2BAA2B;yHAA3B,2BAA2B;QCTxC,yEAA6B;QAEb,sEAAU;QAAA,4DAAQ;QAAA,0EAAuB;QAAA,4DAAC;QAAA,4DAAO;QACzD,2EAAoE;QAAxB,iMAAsB;QAAlE,4DAAoE;QAEtE,yEAAkE;QAE9D,mEACF;QAAA,4DAAQ;QAAA,2EAAuB;QAAA,6DAAC;QAAA,4DAAO;QACvC,iFAGyC;QAFzC,yMAAwB;QAGtB,yIAIc;QAAA,4DAAa;QAE/B,0EAAkE;QAE9D,wEACF;QAAA,4DAAQ;QAAA,2EAAuB;QAAA,6DAAC;QAAA,4DAAO;QACvC,iFAGyC;QAFzC,wMAAuB;QAGrB,yIAIc;QAAA,4DAAa;QAE/B,0EAAkE;QAE9D,+EACF;QAAA,4DAAQ;QACR,iFAGyC;QAFzC,8MAA6B;QAG3B,yIAIc;QAAA,4DAAa;QAE/B,0EAAkE;QAE/D,kEACD;QAAA,4DAAQ;QAAA,2EAAuB;QAAA,6DAAC;QAAA,4DAAO;QACvC,4EAAoE;QAAxB,kMAAsB;QAAlE,4DAAoE;QAEtE,0EAAkE;QACxD,qEAAQ;QAAA,4DAAQ;QAAA,2EAAuB;QAAA,6DAAC;QAAA,4DAAO;QACvD,4EAAsE;QAA1B,oMAAwB;QAApE,4DAAsE;QAGxE,0EAAkE;QACxD,mEAAM;QAAA,4DAAQ;QAAA,2EAAuB;QAAA,6DAAC;QAAA,4DAAO;QACrD,4EAAwE;QAA5B,qMAAyB;QAArE,4DAAwE;QAG1E,0EAAkE;QACxD,4EAAe;QAAA,4DAAQ;QAAA,2EAAuB;QAAA,6DAAC;QAAA,4DAAO;QACtE,oFAAgI;QAA3F,+MAA2B;QAChE,4DAAgB;QAEV,0EAAgD;QAO9C,oJAAS,YAAQ,IAAC;QACnB,4DAAS;QACR,+HAQU;QACV,8EAQC;QAFC,oJAAS,aAAS,MAAM,CAAC,IAAC;QAE3B,4DAAS;QACV,gIASU;QACV,gIASU;QACV,gIAQU;QACV,gIAQU;QACZ,4DAAM;QAEV,2EAA8B;QAE1B,0MAA2B,gGAGjB,iBAAa,IAHI;QAK3B,0IAEc;QACd,4IAiDc;QACd,0IAmBc;QAChB,4DAAW;;QApNqC,0DAAsB;QAAtB,iFAAsB;QAMlB,0DAAyB;QAAzB,sFAAyB;QAczB,0DAA4B;QAA5B,yFAA4B;QAc5B,0DAAkC;QAAlC,+FAAkC;QActC,0DAAsB;QAAtB,iFAAsB;QAItB,0DAAwB;QAAxB,mFAAwB;QAKxB,0DAAyB;QAAzB,oFAAyB;QAKxC,0DAA2B;QAA3B,sFAA2B;QAarD,0DAAoB;QAApB,oFAAoB;QAerB,0DAAwB;QAAxB,qFAAwB;QAGzB,0DAAwB;QAAxB,wFAAwB;QAUxB,0DAAwB;QAAxB,wFAAwB;QAUtB,0DAAuB;QAAvB,uFAAuB;QASvB,0DAAuB;QAAvB,uFAAuB;QAc5B,0DAAyC;QAAzC,gIAAyC;QAFzC,sFAA2B;;;;;;;;;;;;;;;;;;;;;;;;;;ACzIuC;;;;;;;;;;;;IC8B5D,yEAMC;IACC,uDACF;IAAA,4DAAK;;;IAHH,iFAAyB;IAFzB,0FAA6B;IAI7B,0DACF;IADE,0FACF;;;;IAGA,qEAAuD;IAKnD,mEAA4B;IAC5B,4EAKE;IADA,ybAAS,yGAA0C,UAAU,CAAC,KAAC;IAJjE,4DAKE;;;IAXuB,iFAAyB;;;IAZxD,qEAAI;IACF,0IAQK;IACP,4DAAK;IACL,yEAAuB;IACrB,0IAaK;IACP,4DAAK;;;;IAxBe,0DAAY;IAAZ,+EAAY;IAUV,0DAAO;IAAP,gFAAO;;;IAyBvB,0EAGC;IACC,uDACF;IAAA,4DAAM;;;;IADJ,0DACF;IADE,yGACF;;;;IACA,wEAMG;IAFD,ubAAgB,6FAAuB,KAAC,mXAC/B,6FAAuB,KADQ;IAEvC,uDAA2B;IAAA,4DAC7B;;;;IADE,0DAA2B;IAA3B,8FAA2B;;;IAE9B,2EAMC;IACC,uDAIE;IAAA,4DACH;;;;IAVC,oJAEC;IAGD,0DAIE;IAJF,4MAIE;;;;IAiBA,wEAMC;IADD,2gBAAS,sGAA4B,OAAO,GAAG,KAAC;IAC/C,+DAAI;IAAA,4DACN;;;;IAtBH,2EAQC;IAFC,kbAAsB,WAAW,IAAI,IAAI,MAAC,0XACpB,WAAW,IAAI,KAAK,MADA;IAG1C,uDAME;IAAA,mKAOD;IAAA,4DACF;;;;IArBC,oJAEC;IAKD,0DAME;IANF,+RAME;IAEC,0DAEA;IAFA,uIAEA;;;IA/CP,qEAAkC;IAChC,gKAKM;IACN,4JAOC;IACD,kKAYC;IACD,kKAuBC;IACH,4DAAK;;;IAlDA,0DAA0B;IAA1B,6FAA0B;IAM1B,0DAAY;IAAZ,4EAAY;IAQZ,0DAAY;IAAZ,4EAAY;IAaZ,0DAAY;IAAZ,4EAAY;;;;IAyBjB,yEAGC;IAEC,oVAAgB,sEAAiB,KAAC;IAChC,gFAWE;IAPA,ibAAS,oGAA8B,KAAC;IAJ1C,4DAWE;IACF,sEAAkC;IACpC,4DAAQ;;;;IAXJ,0DAA+B;IAA/B,gGAA+B;;;IA/DvC,wEAAyD;IACvD,yJAoDK;IAEL,yJAoBK;IACP,qEAAe;;;IA3ER,0DAA2B;IAA3B,2FAA2B;IAuD7B,0DAA2B;IAA3B,2FAA2B;;;IAzDlC,yEAA8B;IAC5B,8JA4Ee;IACjB,4DAAK;;;;IA9ED,sFAAyB;IACG,0DAAY;IAAZ,gFAAY;;;IAgF5C,qEAAI;IAC+B,yEAAc;IAAA,4DAAK;;;IAAhD,0DAA4B;IAA5B,wFAA4B;;;IAIlC,uDAOF;;;IAPE,uRAOF;;;IA3IJ,0EAA2D;IAWvD,8IA4Bc;IACd,8IAqFc;IACd,8IAIc;IACd,8IAQc;IAChB,4DAAU;;;IAzIR,0DAAgB;IAAhB,gFAAgB;;;;IA4ItB,0EAAmE;IAE3C,qEAAsC;IAAA,4DAAM;IAElE,0EAAiB;IAEV,sHAAyD;IAAA,4DAAI;IAChE,4EAOC;IADC,2SAAS,iFAAe,KAAC;IAC1B,4DAAS;;ADnKX,MAAM,2BAA2B;IA+CtC,YACU,MAAc,EACd,WAAwB,EACxB,KAAqB,EACrB,mBAAwC,EACxC,qBAA6C;QAJ7C,WAAM,GAAN,MAAM,CAAQ;QACd,gBAAW,GAAX,WAAW,CAAa;QACxB,UAAK,GAAL,KAAK,CAAgB;QACrB,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,0BAAqB,GAArB,qBAAqB,CAAwB;QAnDlC,cAAS,GAAG,IAAI,uDAAY,EAAO,CAAC;QACpC,cAAS,GAAG,IAAI,uDAAY,EAAO,CAAC;QAEzD,2BAAsB,GAAQ;YAC5B;gBACE,EAAE,EAAE,CAAC;gBACL,MAAM,EAAE,WAAW;gBACnB,QAAQ,EAAE,OAAO;gBACjB,QAAQ,EAAE,YAAY;gBACtB,MAAM,EAAE,QAAQ;gBAChB,UAAU,EAAE,SAAS;gBACrB,SAAS,EAAE,QAAQ;gBACnB,eAAe,EAAE,oBAAoB;aACtC;YACD;gBACE,EAAE,EAAE,CAAC;gBACL,MAAM,EAAE,UAAU;gBAClB,QAAQ,EAAE,OAAO;gBACjB,QAAQ,EAAE,aAAa;gBACvB,MAAM,EAAE,QAAQ;gBAChB,UAAU,EAAE,aAAa;gBACzB,SAAS,EAAE,YAAY;gBACvB,eAAe,EAAE,IAAI;aACtB;YACD;gBACE,EAAE,EAAE,CAAC;gBACL,MAAM,EAAE,YAAY;gBACpB,QAAQ,EAAE,OAAO;gBACjB,QAAQ,EAAE,aAAa;gBACvB,MAAM,EAAE,QAAQ;gBAChB,UAAU,EAAE,aAAa;gBACzB,SAAS,EAAE,eAAe;gBAC1B,eAAe,EAAE,YAAY;aAC9B;SACF,CAAC;QAEF,SAAI,GAAG;YACL,EAAE,KAAK,EAAE,UAAU,EAAE,MAAM,EAAE,WAAW,EAAE,KAAK,EAAE,KAAK,EAAE;YACxD,EAAE,KAAK,EAAE,UAAU,EAAE,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE;YACnD,EAAE,KAAK,EAAE,YAAY,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAE;YACvD,EAAE,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,SAAS,EAAE,KAAK,EAAE,KAAK,EAAE;YACpD,EAAE,KAAK,EAAE,WAAW,EAAE,MAAM,EAAE,YAAY,EAAE,KAAK,EAAE,KAAK,EAAE;YAC1D,EAAE,KAAK,EAAE,iBAAiB,EAAE,MAAM,EAAE,mBAAmB,EAAE,KAAK,EAAE,KAAK,EAAE;YACvE,EAAE,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAE;SACpD,CAAC;IAQC,CAAC;IAEJ,QAAQ;QACN,wCAAwC;QACxC,6DAA6D;QAC7D,MAAM;IACR,CAAC;IAED,oBAAoB;QAClB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAC7B,CAAC;IAED,cAAc,CAAC,IAAS;QACtB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC1B,yBAAyB;QACzB,cAAc;QACd,oBAAoB;QACpB,eAAe;QACf,kBAAkB;QAClB,YAAY;QACZ,MAAM;QACN,yCAAyC;IAC3C,CAAC;IAED,aAAa,CAAC,CAAM,EAAE,IAAS;QAC7B,CAAC,CAAC,cAAc,EAAE,CAAC;QACnB,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,IAAI,SAAS,GAAG,EAAE,CAAC;QACnB,IAAI,CAAC,CAAC,MAAM,CAAC,OAAO,EAAE;YACpB,SAAS,GAAG,GAAG,CAAC;YAChB,IAAI,GAAG,UAAU,CAAC;SACnB;aAAM;YACL,SAAS,GAAG,GAAG,CAAC;YAChB,IAAI,GAAG,YAAY,CAAC;SACrB;QACD,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;QAChD,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,WAAW,GAAG,EAAE,CAAC;QAErB,WAAW;YACT,mDAAmD;gBACnD,iBAAiB;gBACjB,IAAI;gBACJ,qBAAqB,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC;QAC/C,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;YAC/B,OAAO,EAAE,WAAW;YACpB,GAAG,EAAE,sBAAsB;YAC3B,MAAM,EAAE,GAAG,EAAE;gBACX,yCAAyC;gBACzC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;YACjC,CAAC;YACD,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;gBAC/B,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;YAClC,CAAC;SACF,CAAC,CAAC;IACL,CAAC;IAED,mBAAmB,CAAC,MAAe;QACjC,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;YAC5C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;QACjD,CAAC,EAAE,GAAG,CAAC,CAAC;QACR,IAAI,CAAC,MAAM,EAAE;YACX,UAAU,CAAC,GAAG,EAAE;gBACd,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACzC,CAAC,EAAE,IAAI,CAAC,CAAC;SACV;IACH,CAAC;;sGA1HU,2BAA2B;yHAA3B,2BAA2B;;QCXxC,yEAAkC;QAG1B,kEAAiC;QACjC,kFACF;QAAA,4DAAM;QACN,yEAAoB;QAOhB,mJAAS,0BAAsB,IAAC;QACjC,4DAAS;QAGd,uHA6IM;QACR,4DAAM;QACN,uHAiBM;QACN,wFAKC;QAOK,kSAAS,sEAAW,KAAC;QACtB,4DAAS;QAEV,8EAMC;QADC,kSAAS,sEAAW,KAAC;QACtB,4DAAS;;QAtLS,0DAAoC;QAApC,+IAAoC;QA+I/B,0DAAqC;QAArC,kJAAqC;QAsB/D,0DAAkB;QAAlB,2EAAkB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IExJV,yEAMC;IACC,uDACF;IAAA,4DAAK;;;IAHH,iFAAyB;IAFzB,0FAA6B;IAI7B,0DACF;IADE,0FACF;;;;IAGA,qEAAuD;IAKnD,mEAA4B;IAC5B,4EAKE;IADA,sbAAS,yGAA0C,UAAU,CAAC,KAAC;IAJjE,4DAKE;;;IAXuB,iFAAyB;;;IAZxD,qEAAI;IACF,uIAQK;IACP,4DAAK;IACL,yEAAuB;IACrB,uIAaK;IACP,4DAAK;;;;IAxBe,0DAAY;IAAZ,gFAAY;IAUV,0DAAO;IAAP,gFAAO;;;IAyBvB,0EAGC;IACC,uDACF;IAAA,4DAAM;;;;IADJ,0DACF;IADE,yGACF;;;;IACA,wEAMG;IAFD,obAAgB,6FAAuB,KAAC,gXAC/B,6FAAuB,KADQ;IAEvC,uDAA2B;IAAA,4DAC7B;;;;IADE,0DAA2B;IAA3B,8FAA2B;;;IAE9B,2EAMC;IACC,uDAIE;IAAA,4DACH;;;;IAVC,oJAEC;IAGD,0DAIE;IAJF,4MAIE;;;IA1BN,qEAAkC;IAChC,6JAKM;IACN,yJAOC;IACD,+JAYC;IACH,4DAAK;;;IA1BA,0DAAe;IAAf,+EAAe;IAMf,0DAAY;IAAZ,4EAAY;IAQZ,0DAAY;IAAZ,4EAAY;;;;IAcjB,yEAGC;IAEC,iVAAgB,sEAAiB,KAAC;IAChC,gFAWE;IAPA,8aAAS,oGAA8B,KAAC;IAJ1C,4DAWE;IACF,sEAAkC;IACpC,4DAAQ;;;;IAXJ,0DAA+B;IAA/B,gGAA+B;;;IAvCvC,wEAAyD;IACvD,sJA4BK;IAEL,sJAoBK;IACP,qEAAe;;;IAnDR,0DAA2B;IAA3B,2FAA2B;IA+B7B,0DAA2B;IAA3B,2FAA2B;;;IAjClC,yEAA8B;IAC5B,2JAoDe;IACjB,4DAAK;;;;IAtDD,sFAAyB;IACG,0DAAY;IAAZ,gFAAY;;;IAwD5C,qEAAI;IAC+B,yEAAc;IAAA,4DAAK;;;IAAhD,0DAA4B;IAA5B,wFAA4B;;;IAIlC,uDAOF;;;IAPE,uRAOF;;;IAnHJ,0EAAyD;IAWrD,2IA4Bc;IACd,2IA6Dc;IACd,2IAIc;IACd,2IAQc;IAChB,4DAAU;;;IAjHR,0DAAgB;IAAhB,gFAAgB;;;;IApBxB,yEAAyD;IAGjD,mEAAiC;IACjC,gFACF;IAAA,4DAAM;IACN,0EAAoB;IAOhB,kSAAS,uFAAqB,KAAC;IAChC,4DAAS;IAGd,qHAqHM;IACR,4DAAM;;;IAtHiB,0DAAkC;IAAlC,iJAAkC;;;;IAuHzD,0EAAiE;IAEzC,qEAAsC;IAAA,4DAAM;IAElE,0EAAiB;IAEV,qHAAwD;IAAA,4DAAI;IAC/D,6EAOC;IADC,kSAAS,iFAAe,KAAC;IAC1B,4DAAS;;;IAkBR,0EAA2B;IACpB,uDAAsB;IAAA,4DAAM;;;IAA5B,0DAAsB;IAAtB,qFAAsB;;;;IAajC,6EAQC;IADC,6SAAS,0EAAQ,KAAC;IACnB,4DAAS;;;;IAWV,6EASC;IAFC,6SAAS,2EAAS,eAAe,CAAC,KAAC;IAEpC,4DAAS;;;IADR,yFAAwB;;;;IAE1B,6EASC;IAFC,6SAAS,2EAAS,KAAC;IAEpB,4DAAS;;;IADR,yFAAwB;;;;IAE1B,6EAQC;IADC,6SAAS,4EAAU,KAAC;IACrB,4DAAS;;;IAHR,6HAAqD;;;;IAxE3D,0EAAqE;IAEzD,sEAAU;IAAA,4DAAQ;IAC1B,4EAAoE;IAAxB,+YAAsB;IAAlE,4DAAoE;IAEtE,0EAAkE;IAE9D,uEACF;IAAA,4DAAQ;IACR,iFAGyC;IAFzC,qZAAuB;IAGrB,qIAIc;IAAA,4DAAa;IAE/B,2EAAgD;IAO9C,mSAAS,0EAAQ,KAAC;IACnB,4DAAS;IACR,6HAQU;IAEV,8EAQC;IAFC,mSAAS,2EAAS,MAAM,CAAC,KAAC;IAE3B,4DAAS;IACV,6HASU;IACV,6HASU;IACV,6HAQU;IACZ,4DAAM;;;IAzEwC,0DAAsB;IAAtB,oFAAsB;IAMlB,0DAA4B;IAA5B,4FAA4B;IAoBzE,0DAAoB;IAApB,uFAAoB;IAgBrB,0DAAwB;IAAxB,wFAAwB;IAGzB,0DAAmB;IAAnB,sFAAmB;IAUnB,0DAAmB;IAAnB,sFAAmB;IAUjB,0DAAoB;IAApB,uFAAoB;;ADnNtB,MAAM,kBAAkB;IAkD7B,YACU,MAAc,EACd,WAAwB,EACxB,KAAqB,EACrB,mBAAwC,EACxC,qBAA6C;QAJ7C,WAAM,GAAN,MAAM,CAAQ;QACd,gBAAW,GAAX,WAAW,CAAa;QACxB,UAAK,GAAL,KAAK,CAAgB;QACrB,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,0BAAqB,GAArB,qBAAqB,CAAwB;QAtDvD,yBAAoB,GAAQ;YAC1B;gBACE,EAAE,EAAE,CAAC;gBACL,aAAa,EAAE,QAAQ;gBACvB,MAAM,EAAE,QAAQ;gBAChB,SAAS,EAAE,QAAQ;aACpB;YACD;gBACE,EAAE,EAAE,CAAC;gBACL,aAAa,EAAE,QAAQ;gBACvB,MAAM,EAAE,QAAQ;gBAChB,SAAS,EAAE,YAAY;aACxB;YACD;gBACE,EAAE,EAAE,CAAC;gBACL,aAAa,EAAE,QAAQ;gBACvB,QAAQ,EAAE,aAAa;gBACvB,MAAM,EAAE,QAAQ;gBAChB,SAAS,EAAE,eAAe;aAC3B;SACF,CAAC;QAEF,SAAI,GAAG;YACL,EAAE,KAAK,EAAE,eAAe,EAAE,MAAM,EAAE,iBAAiB,EAAE,KAAK,EAAE,KAAK,EAAE;YACnE,EAAE,KAAK,EAAE,WAAW,EAAE,MAAM,EAAE,YAAY,EAAE,KAAK,EAAE,KAAK,EAAE;YAC1D,EAAE,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAE;SACpD,CAAC;QAEF,SAAI,GAAG,MAAM,CAAC;QACd,gBAAW,GAAY,KAAK,CAAC;QAE7B,qBAAgB,GAAQ;YACtB;gBACE,EAAE,EAAE,CAAC;gBACL,IAAI,EAAE,QAAQ;gBACd,QAAQ,EAAE,QAAQ;gBAClB,MAAM,EAAE,GAAG;aACZ;YACD;gBACE,EAAE,EAAE,CAAC;gBACL,IAAI,EAAE,YAAY;gBAClB,QAAQ,EAAE,YAAY;gBACtB,MAAM,EAAE,GAAG;aACZ;SACF,CAAC;IAWC,CAAC;IAEJ,QAAQ,KAAU,CAAC;IACnB,mBAAmB;QACjB,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;IACpB,CAAC;IAED,cAAc,CAAC,IAAS;QACtB,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC;QACnB,+BAA+B;QAC/B,yBAAyB;QACzB,cAAc;QACd,oBAAoB;QACpB,eAAe;QACf,kBAAkB;QAClB,YAAY;QACZ,MAAM;QACN,yCAAyC;IAC3C,CAAC;IACD,MAAM;QACJ,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC;IACrB,CAAC;IACD,MAAM,KAAI,CAAC;IACX,QAAQ,CAAC,MAAM,IAAG,CAAC;IACnB,OAAO,KAAI,CAAC;IAEZ,aAAa,CAAC,CAAM,EAAE,IAAS;QAC7B,CAAC,CAAC,cAAc,EAAE,CAAC;QACnB,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,IAAI,SAAS,GAAG,EAAE,CAAC;QACnB,IAAI,CAAC,CAAC,MAAM,CAAC,OAAO,EAAE;YACpB,SAAS,GAAG,GAAG,CAAC;YAChB,IAAI,GAAG,UAAU,CAAC;SACnB;aAAM;YACL,SAAS,GAAG,GAAG,CAAC;YAChB,IAAI,GAAG,YAAY,CAAC;SACrB;QACD,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;QAChD,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,WAAW,GAAG,EAAE,CAAC;QAErB,WAAW;YACT,mDAAmD;gBACnD,iBAAiB;gBACjB,IAAI;gBACJ,qBAAqB,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC;QAC/C,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;YAC/B,OAAO,EAAE,WAAW;YACpB,GAAG,EAAE,sBAAsB;YAC3B,MAAM,EAAE,GAAG,EAAE;gBACX,yCAAyC;gBACzC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;YACjC,CAAC;YACD,MAAM,EAAE,GAAG,EAAE;gBACX,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;gBAC/B,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;YAClC,CAAC;SACF,CAAC,CAAC;IACL,CAAC;IAED,mBAAmB,CAAC,MAAe;QACjC,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;QACxC,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;YAC5C,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;QACjD,CAAC,EAAE,GAAG,CAAC,CAAC;QACR,IAAI,CAAC,MAAM,EAAE;YACX,UAAU,CAAC,GAAG,EAAE;gBACd,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;YACzC,CAAC,EAAE,IAAI,CAAC,CAAC;SACV;IACH,CAAC;;oFA/HU,kBAAkB;gHAAlB,kBAAkB;;QCX/B,8GAuIQ;QACN,8GAiBM;QACN,gHA6EI;QACJ,wFAKC;QAOK,uRAAS,sEAAW,KAAC;QACtB,4DAAS;QAEV,4EAMC;QADC,uRAAS,sEAAW,KAAC;QACtB,4DAAS;;QA7PmB,oFAAoB;QAwIzB,0DAAmC;QAAnC,8IAAmC;QAkBjC,0DAAqC;QAArC,yGAAqC;QAkFjE,0DAAkB;QAAlB,2EAAkB;;;;;;;;;;;;;;;;;;;;;;;;;;ACzOgB;;;;;;;;;;;;ICM9B,sEAA2B;IAEE,sUAAa,mFAAkB,KAAC,8QAAc,mFAAkB,KAAhC;IAAkC,4DAA2B;;;;IAE1H,sEAA4B;IAEA,+UAAiB,uFAAsB,KAAC;IAAyC,4DAA2B;;;IAAnE,0DAAuC;IAAvC,uGAAuC;;;;;;ADL7G,MAAM,wBAAwB;IAInC,YACU,MAAc,EACd,WAAwB,EACxB,KAAqB;QAFrB,WAAM,GAAN,MAAM,CAAQ;QACd,gBAAW,GAAX,WAAW,CAAa;QACxB,UAAK,GAAL,KAAK,CAAgB;QAN/B,SAAI,GAAG,MAAM,CAAC;QACd,sBAAiB,GAAY,KAAK,CAAC;IAMhC,CAAC;IAEJ,QAAQ;QACN,MAAM,cAAc,GAAG,eAAe,CAAC;QAEvC,qBAAqB;QACrB,IAAI,CAAC,WAAW;aACb,SAAS,CAAC,cAAc,CAAC;aACzB,IAAI,CAAC,CAAC,eAAuB,EAAE,EAAE;YAChC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC;QACjD,CAAC,CAAC,CAAC;QAEL,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;YACjC,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;IACL,CAAC;IACD,cAAc,CAAC,IAAY;QACzB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,WAAW;aACb,iBAAiB,EAAE;aACnB,IAAI,CAAC,oDAAI,CAAC,CAAC,CAAC,CAAC;aACb,SAAS,CAAC,CAAC,WAAW,EAAE,EAAE;YACzB,MAAM,eAAe,GAAG,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;YAC9C,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,eAAe,CAAC,CAAC;YACzC,IAAI,CAAC,WAAW,CAAC,kCAAkC,CAAC,WAAW,CAAC,CAAC;QACnE,CAAC,CAAC,CAAC;IACP,CAAC;IAED,UAAU,CAAC,IAAY;QACrB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;QAC1B,IAAI,IAAI,CAAC,IAAI,IAAI,KAAK,EAAE;YACtB,kBAAkB;YAClB,IAAI,CAAC,WAAW;iBACb,iBAAiB,EAAE;iBACnB,IAAI,CAAC,oDAAI,CAAC,CAAC,CAAC,CAAC;iBACb,SAAS,CAAC,CAAC,WAAW,EAAE,EAAE;gBACzB,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,WAAW,CAAC,CAAC;gBACrC,WAAW,CAAC,IAAI,CAAC;oBACf,KAAK,EAAE,iBAAiB;oBACxB,UAAU,EAAE,EAAE;iBACf,CAAC,CAAC;gBACH,IAAI,CAAC,WAAW,CAAC,kCAAkC,CAAC,WAAW,CAAC,CAAC;YACnE,CAAC,CAAC,CAAC;SACN;aAAM;YACL,kBAAkB;YAClB,IAAI,CAAC,WAAW;iBACb,iBAAiB,EAAE;iBACnB,IAAI,CAAC,oDAAI,CAAC,CAAC,CAAC,CAAC;iBACb,SAAS,CAAC,CAAC,WAAW,EAAE,EAAE;gBACzB,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,WAAW,CAAC,CAAC;gBACrC,WAAW,CAAC,IAAI,CAAC;oBACf,KAAK,EAAE,kBAAkB;oBACzB,UAAU,EAAE,EAAE;iBACf,CAAC,CAAC;gBACH,IAAI,CAAC,WAAW,CAAC,kCAAkC,CAAC,WAAW,CAAC,CAAC;YACnE,CAAC,CAAC,CAAC;SACN;IACH,CAAC;IACD,UAAU,CAAC,IAAI;QACb,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;QAC1B,IAAI,IAAI,EAAE;YACR,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;YAClB,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;SAC/B;IACH,CAAC;IACD,cAAc,CAAC,CAAC;QACd,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC;QAC3B,IAAI,CAAC,CAAC,KAAK,IAAI,GAAG,EAAE;YAClB,IAAI,CAAC,WAAW;iBACb,iBAAiB,EAAE;iBACnB,IAAI,CAAC,oDAAI,CAAC,CAAC,CAAC,CAAC;iBACb,SAAS,CAAC,CAAC,WAAW,EAAE,EAAE;gBACzB,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,WAAW,CAAC,CAAC;gBACrC,MAAM,eAAe,GAAG,WAAW,CAAC,SAAS,CAC3C,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,KAAK,aAAa,CACvC,CAAC;gBACF,IAAI,eAAe,KAAK,CAAC,CAAC,EAAE;oBAC1B,WAAW,CAAC,eAAe,CAAC,CAAC,KAAK,GAAG,YAAY,CAAC;iBACnD;gBACD,IAAI,CAAC,WAAW,CAAC,kCAAkC,CAAC,WAAW,CAAC,CAAC;YACnE,CAAC,CAAC,CAAC;SACN;aAAM;YACL,IAAI,CAAC,WAAW;iBACb,iBAAiB,EAAE;iBACnB,IAAI,CAAC,oDAAI,CAAC,CAAC,CAAC,CAAC;iBACb,SAAS,CAAC,CAAC,WAAW,EAAE,EAAE;gBACzB,MAAM,eAAe,GAAG,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;gBAC9C,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,eAAe,CAAC,CAAC;gBACzC,WAAW,CAAC,IAAI,CAAC;oBACf,KAAK,EAAE,aAAa;oBACpB,UAAU,EAAE,yCAAyC;iBACtD,CAAC,CAAC;gBACH,IAAI,CAAC,WAAW,CAAC,kCAAkC,CAAC,WAAW,CAAC,CAAC;YACnE,CAAC,CAAC,CAAC;YACL,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC;SACpB;IACH,CAAC;;gGAzGU,wBAAwB;sHAAxB,wBAAwB;QCVrC,yEAAsC;QAGhC,+JAAY,0BAAsB,IAAC;QAEjC,gFAGC;QACD,oHAGM;QACN,oHAGM;QACN,4DAAa;QACb,gFAEC;QACD,4EAAiC;QACjC,4DAAa;QACb,gFAEC;QACC,oIAEc;QAChB,4DAAa;QACb,iFAEC;QACC,sIAEc;QAChB,4DAAa;QACb,iFAEC;QACC,sIAEc;QAChB,4DAAa;QACb,kFAEC;QACC,sIAEc;QAChB,4DAAa;;QAzCP,0DAAmB;QAAnB,mFAAmB;QAInB,0DAAoB;QAApB,oFAAoB;;;;;;;;;;;;;;;;;;ACbiB;;AAO5C,MAAM,sBAAsB;IAGjC,gBAAe,CAAC;IAEhB,uBAAuB,CACrB,UAAe,EACf,cAAmB,EACnB,YAAiB,EACjB,MAAW;QAEX,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CACnB,6DAA6D,EAC7D,IAAI,EACJ;YACE,OAAO,EAAE,IAAI,6DAAW,EAAE;iBACvB,GAAG,CAAC,YAAY,EAAE,UAAU,CAAC;iBAC7B,GAAG,CAAC,gBAAgB,EAAE,cAAc,CAAC;iBACrC,GAAG,CAAC,cAAc,EAAE,YAAY,CAAC;iBACjC,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC;SACzB,CACF,CAAC;IACJ,CAAC;;4FAtBU,sBAAsB;uHAAtB,sBAAsB,WAAtB,sBAAsB,mBAFrB,MAAM;;;;;;;;;;;;;;;ACLpB,gFAAgF;AAChF,0EAA0E;AAC1E,gEAAgE;AAEzD,MAAM,WAAW,GAAG;IACzB,UAAU,EAAE,KAAK;IACjB,OAAO,EAAE,yBAAyB;CACnC,CAAC;AAEF;;;;;;GAMG;AACH,sEAAsE;;;;;;;;;;;;;;;;;AChBvB;AAGF;AACY;AAEzD,IAAI,6EAAsB,EAAE;IAC1B,6DAAc,EAAE,CAAC;CAClB;AAED,wEAAwB,CAAC,eAAe,CAAC,sDAAS,CAAC;KAChD,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC","sources":["./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/auth/auth.guard.ts","./src/app/auth/auth.service.ts","./src/app/auth/user.model.ts","./src/app/banks-routing-2/addnewroute/addnewroute.component.ts","./src/app/banks-routing-2/addnewroute/addnewroute.component.html","./src/app/banks-routing-2/bank-routing.service.ts","./src/app/banks-routing-2/bank-routing/bank-routing.component.ts","./src/app/banks-routing-2/bank-routing/bank-routing.component.html","./src/app/beneficiary-profile/add-beneficiary/add-beneficiary.component.ts","./src/app/beneficiary-profile/add-beneficiary/add-beneficiary.component.html","./src/app/beneficiary-profile/add-customer-benef/add-customer-benef.component.ts","./src/app/beneficiary-profile/add-customer-benef/add-customer-benef.component.html","./src/app/beneficiary-profile/beneficiary-profile.component.ts","./src/app/beneficiary-profile/beneficiary-profile.component.html","./src/app/charge-settings/charge-details/charge-details.component.ts","./src/app/charge-settings/charge-details/charge-details.component.html","./src/app/charge-settings/charge-listing/charge-listing.component.ts","./src/app/charge-settings/charge-listing/charge-listing.component.html","./src/app/charge-settings/charge-service.service.ts","./src/app/company-settings/company-details/company-details.component.ts","./src/app/company-settings/company-details/company-details.component.html","./src/app/company-settings/company-settings-service.service.ts","./src/app/core.service.ts","./src/app/criteria-settings/criteria-listing/criteria-listing.component.ts","./src/app/criteria-settings/criteria-listing/criteria-listing.component.html","./src/app/criteria-settings/criteria-settings-detail/criteria-settings-detail.component.ts","./src/app/criteria-settings/criteria-settings-detail/criteria-settings-detail.component.html","./src/app/criteria-settings/criteria-settings.service.ts","./src/app/customer-profile/add-customer/add-customer.component.ts","./src/app/customer-profile/add-customer/add-customer.component.html","./src/app/customer-profile/customer-profile.component.ts","./src/app/customer-profile/customer-profile.component.html","./src/app/customer-profile/customer-profile.service.ts","./src/app/customised-messages/customised-details/customised-details.component.ts","./src/app/customised-messages/customised-details/customised-details.component.html","./src/app/customised-messages/customised-listing/customised-listing.component.ts","./src/app/customised-messages/customised-listing/customised-listing.component.html","./src/app/customised-messages/customised-messages-service.service.ts","./src/app/date-mask.directive.ts","./src/app/document-settings/document-details/document-details.component.ts","./src/app/document-settings/document-details/document-details.component.html","./src/app/document-settings/document-listing/document-listing.component.ts","./src/app/document-settings/document-listing/document-listing.component.html","./src/app/document-settings/document-settings.service.ts","./src/app/form-rules/add-new-form-rule/add-new-form-rule.component.ts","./src/app/form-rules/add-new-form-rule/add-new-form-rule.component.html","./src/app/form-rules/form-rule-listing/form-rule-listing.component.ts","./src/app/form-rules/form-rule-listing/form-rule-listing.component.html","./src/app/form-rules/form-rule.service.ts","./src/app/get-apis/custom-fields/custom-fields.component.ts","./src/app/get-apis/custom-fields/custom-fields.component.html","./src/app/get-apis/custom-form/custom-form.component.ts","./src/app/get-apis/custom-form/custom-form.component.html","./src/app/get-apis/get-doc-settings/get-doc-settings.component.ts","./src/app/get-apis/get-doc-settings/get-doc-settings.component.html","./src/app/get-apis/group-settings/group-settings.component.ts","./src/app/get-apis/group-settings/group-settings.component.html","./src/app/http-interceptor.interceptor.ts","./src/app/login/login.component.ts","./src/app/login/login.component.html","./src/app/login/login.service.ts","./src/app/loyalty-program/add-loyalty/add-loyalty.component.ts","./src/app/loyalty-program/add-loyalty/add-loyalty.component.html","./src/app/loyalty-program/loyalty-details-list/loyalty-details-list.component.ts","./src/app/loyalty-program/loyalty-details-list/loyalty-details-list.component.html","./src/app/loyalty-program/loyalty-program.component.ts","./src/app/loyalty-program/loyalty-program.component.html","./src/app/loyalty-program/loyalty.service.ts","./src/app/master/master-listing/master-listing.component.ts","./src/app/master/master-listing/master-listing.component.html","./src/app/master/master-service.service.ts","./src/app/navbar/navbar.component.ts","./src/app/navbar/navbar.component.html","./src/app/pages/landing-page/landing-page.component.ts","./src/app/pages/landing-page/landing-page.component.html","./src/app/rate-settings/rate-listing/rate-listing.component.ts","./src/app/rate-settings/rate-listing/rate-listing.component.html","./src/app/rate-settings/rate-service.service.ts","./src/app/search-settings/add-new-search/add-new-search.component.ts","./src/app/search-settings/add-new-search/add-new-search.component.html","./src/app/search-settings/search-listing/search-listing.component.ts","./src/app/search-settings/search-listing/search-listing.component.html","./src/app/search-settings/search-settings.service.ts","./src/app/session-time-out/session-time-out.component.ts","./src/app/session-time-out/session-time-out.component.html","./src/app/shared/components/file-upload/file-upload.component.ts","./src/app/shared/components/file-upload/file-upload.component.html","./src/app/shared/components/set-criteria/set-criteria.component.ts","./src/app/shared/components/set-criteria/set-criteria.component.html","./src/app/shared/components/set-criteria/set-criteria.service.ts","./src/app/shared/forms/customer-form/customer-form.component.ts","./src/app/shared/forms/customer-form/customer-form.component.html","./src/app/shared/forms/customer-form/customer-form.service.ts","./src/app/shared/forms/document-collection/document-collection.component.ts","./src/app/shared/forms/document-collection/document-collection.component.html","./src/app/shared/modals/confirm-dialog-modal/confirm-dialog-modal.component.ts","./src/app/shared/modals/confirm-dialog-modal/confirm-dialog-modal.component.html","./src/app/shared/modals/confirm-dialog-modal/confirm-dialog-modal.service.ts","./src/app/shared/modals/transaction-criteria-modal/transaction-criteria-modal.ts","./src/app/shared/modals/transaction-criteria-modal/transaction-criteria-modal.html","./src/app/shared/modals/transaction-date-modal/transaction-date-modal.ts","./src/app/shared/modals/transaction-date-modal/transaction-date-modal.html","./src/app/shared/services/criteria-data.service.ts","./src/app/tax-settings/add-new-tax/add-new-tax.component.ts","./src/app/tax-settings/add-new-tax/add-new-tax.component.html","./src/app/tax-settings/tax-listing/tax-listing.component.ts","./src/app/tax-settings/tax-listing/tax-listing.component.html","./src/app/tax-settings/tax-settings.service.ts","./src/app/users-permisions/system-users/system-users-details/system-users-details.component.ts","./src/app/users-permisions/system-users/system-users-details/system-users-details.component.html","./src/app/users-permisions/system-users/system-users-listing/system-users-listing.component.ts","./src/app/users-permisions/system-users/system-users-listing/system-users-listing.component.html","./src/app/users-permisions/user-group/user-group/user-group.component.ts","./src/app/users-permisions/user-group/user-group/user-group.component.html","./src/app/users-permisions/users-permisions.component.ts","./src/app/users-permisions/users-permisions.component.html","./src/app/users-permisions/users-permission.service.ts","./src/environments/environment.ts","./src/main.ts"],"sourcesContent":["import { Component, NgModule } from \"@angular/core\";\r\nimport { Routes, RouterModule } from \"@angular/router\";\r\nimport { AuthGuard } from \"./auth/auth.guard\";\r\nimport { LoginComponent } from \"./login/login.component\";\r\nimport { NavbarComponent } from \"./navbar/navbar.component\";\r\nimport { SessionTimeOutComponent } from \"./session-time-out/session-time-out.component\";\r\nimport { CriteriaListingComponent } from \"./criteria-settings/criteria-listing/criteria-listing.component\";\r\nimport { CriteriaSettingsDetailComponent } from \"./criteria-settings/criteria-settings-detail/criteria-settings-detail.component\";\r\nimport { TaxListingComponent } from \"./tax-settings/tax-listing/tax-listing.component\";\r\nimport { BankRoutingComponent2 } from \"./banks-routing-2/bank-routing/bank-routing.component\";\r\nimport { AddnewrouteComponent2 } from \"./banks-routing-2/addnewroute/addnewroute.component\";\r\nimport { AddNewTaxComponent } from \"./tax-settings/add-new-tax/add-new-tax.component\";\r\nimport { AddNewFormRuleComponent } from \"./form-rules/add-new-form-rule/add-new-form-rule.component\";\r\nimport { FormRuleListingComponent } from \"./form-rules/form-rule-listing/form-rule-listing.component\";\r\nimport { GroupSettingsComponent } from \"./get-apis/group-settings/group-settings.component\";\r\nimport { CustomerProfileComponent } from \"./customer-profile/customer-profile.component\";\r\nimport { AddCustomerComponent } from \"./customer-profile/add-customer/add-customer.component\";\r\nimport { SearchListingComponent } from \"./search-settings/search-listing/search-listing.component\";\r\nimport { AddNewSearchComponent } from \"./search-settings/add-new-search/add-new-search.component\";\r\nimport { CustomFieldsComponent } from \"./get-apis/custom-fields/custom-fields.component\";\r\nimport { CustomFormComponent } from \"./get-apis/custom-form/custom-form.component\";\r\nimport { BeneficiaryProfileComponent } from \"./beneficiary-profile/beneficiary-profile.component\";\r\nimport { AddBeneficiaryComponent } from \"./beneficiary-profile/add-beneficiary/add-beneficiary.component\";\r\nimport { DocumentListingComponent } from \"./document-settings/document-listing/document-listing.component\";\r\nimport { DocumentDetailsComponent } from \"./document-settings/document-details/document-details.component\";\r\nimport { GetDocSettingsComponent } from \"./get-apis/get-doc-settings/get-doc-settings.component\";\r\nimport { LoyaltyProgramComponent } from \"./loyalty-program/loyalty-program.component\";\r\nimport { AddLoyaltyComponent } from \"./loyalty-program/add-loyalty/add-loyalty.component\";\r\nimport { LoyaltyDetailsListComponent } from \"./loyalty-program/loyalty-details-list/loyalty-details-list.component\";\r\nimport { ChargeListingComponent } from \"./charge-settings/charge-listing/charge-listing.component\";\r\nimport { ChargeDetailsComponent } from \"./charge-settings/charge-details/charge-details.component\";\r\nimport { MasterListingComponent } from \"./master/master-listing/master-listing.component\";\r\nimport { CustomisedListingComponent } from \"./customised-messages/customised-listing/customised-listing.component\";\r\nimport { CustomisedDetailsComponent } from \"./customised-messages/customised-details/customised-details.component\";\r\nimport { CompanyDetailsComponent } from \"./company-settings/company-details/company-details.component\";\r\nimport { RateListingComponent } from \"./rate-settings/rate-listing/rate-listing.component\";\r\nimport { UsersPermisionsComponent } from \"./users-permisions/users-permisions.component\";\r\nimport { LandingPageComponent } from \"./pages/landing-page/landing-page.component\";\r\n\r\nconst routes: Routes = [\r\n  { path: \"\", redirectTo: \"login\", pathMatch: \"full\" },\r\n  { path: \"login\", component: LoginComponent, canActivate: [AuthGuard] },\r\n  {\r\n    path: \"dashboard\",\r\n    component: LandingPageComponent,\r\n    canActivate: [AuthGuard],\r\n  },\r\n  {\r\n    path: \"session-time-out\",\r\n    component: SessionTimeOutComponent,\r\n    canActivate: [AuthGuard],\r\n  },\r\n  {\r\n    path: \"navbar\",\r\n    component: NavbarComponent,\r\n    canActivate: [AuthGuard],\r\n    children: [\r\n      { path: \"\", redirectTo: \"tax-settings\", pathMatch: \"full\" },\r\n      {\r\n        path: \"criteria-settings\",\r\n        component: CriteriaListingComponent,\r\n        data: [\r\n          { label: \"Home\", routerLink: \"../navbar/tax-settings\" },\r\n          { label: \"Application Settings\", routerLink: \"criteria-settings\" },\r\n          { label: \"Criteria\", routerLink: \"\" },\r\n        ],\r\n        canActivate: [AuthGuard],\r\n      },\r\n      {\r\n        path: \"criteria-settings/add-criteria-settings/add\",\r\n        component: CriteriaSettingsDetailComponent,\r\n        data: [\r\n          { label: \"Home\", routerLink: \"../navbar/tax-settings\" },\r\n          {\r\n            label: \"Application Settings\",\r\n            routerLink: \"../navbar/criteria-settings\",\r\n          },\r\n          { label: \"Criteria\", routerLink: \"criteria-settings\" },\r\n          { label: \"Add Criteria settings\", routerLink: \"\" },\r\n        ],\r\n        canActivate: [AuthGuard],\r\n      },\r\n      {\r\n        path: \"criteria-settings/add-criteria-settings/:id/clone\",\r\n        component: CriteriaSettingsDetailComponent,\r\n        data: [\r\n          { label: \"Home\", routerLink: \"../navbar/tax-settings\" },\r\n          {\r\n            label: \"Application Settings\",\r\n            routerLink: \"../navbar/criteria-settings\",\r\n          },\r\n          { label: \"Criteria\", routerLink: \"criteria-settings\" },\r\n          { label: \"Clone Criteria settings\", routerLink: \"\" },\r\n        ],\r\n        canActivate: [AuthGuard],\r\n      },\r\n      {\r\n        path: \"criteria-settings/add-criteria-settings/:id/edit\",\r\n        component: CriteriaSettingsDetailComponent,\r\n        data: [\r\n          { label: \"Home\", routerLink: \"../navbar/tax-settings\" },\r\n          {\r\n            label: \"Application Settings\",\r\n            routerLink: \"../navbar/criteria-settings\",\r\n          },\r\n          { label: \"Criteria\", routerLink: \"criteria-settings\" },\r\n          { label: \"Edit Criteria settings\", routerLink: \"\" },\r\n        ],\r\n        canActivate: [AuthGuard],\r\n      },\r\n      {\r\n        path: \"get-loyalty-programs\",\r\n        component: CustomFormComponent,\r\n        data: [\r\n          { label: \"Home\", routerLink: \"../navbar/get-loyalty-programs\" },\r\n          { label: \"Get Loyalty Programs\", routerLink: \"\" },\r\n        ],\r\n        canActivate: [AuthGuard],\r\n      },\r\n      {\r\n        path: \"get-tax-settings\",\r\n        component: CustomFieldsComponent,\r\n        data: [\r\n          { label: \"Home\", routerLink: \"../navbar/get-tax-settings\" },\r\n          { label: \"Get Tax Settings\", routerLink: \"\" },\r\n        ],\r\n        canActivate: [AuthGuard],\r\n      },\r\n      {\r\n        path: \"get-doc-settings\",\r\n        component: GetDocSettingsComponent,\r\n        data: [\r\n          { label: \"Home\", routerLink: \"../navbar/get-doc-settings\" },\r\n          { label: \"Get Doc Settings\", routerLink: \"\" },\r\n        ],\r\n        canActivate: [AuthGuard],\r\n      },\r\n      {\r\n        path: \"search-settings\",\r\n        component: SearchListingComponent,\r\n        data: [\r\n          { label: \"Home\", routerLink: \"../navbar/tax-settings\" },\r\n          { label: \"Application Settings\", routerLink: \"search-settings\" },\r\n          { label: \"Search settings\", routerLink: \"\" },\r\n        ],\r\n        canActivate: [AuthGuard],\r\n      },\r\n      {\r\n        path: \"search-settings/add-search-settings/add\",\r\n        component: AddNewSearchComponent,\r\n        data: [\r\n          { label: \"Home\", routerLink: \"../navbar/tax-settings\" },\r\n          {\r\n            label: \"Application Settings\",\r\n            routerLink: \"../navbar/search-settings\",\r\n          },\r\n          { label: \"Search settings\", routerLink: \"search-settings\" },\r\n          { label: \"Add Search settings\", routerLink: \"\" },\r\n        ],\r\n        canActivate: [AuthGuard],\r\n      },\r\n      {\r\n        path: \"search-settings/add-search-settings/:id/edit\",\r\n        component: AddNewSearchComponent,\r\n        data: [\r\n          { label: \"Home\", routerLink: \"../navbar/tax-settings\" },\r\n          {\r\n            label: \"Application Settings\",\r\n            routerLink: \"../navbar/search-settings\",\r\n          },\r\n          { label: \"Search settings\", routerLink: \"search-settings\" },\r\n          { label: \"Edit Search settings\", routerLink: \"\" },\r\n        ],\r\n        canActivate: [AuthGuard],\r\n      },\r\n      {\r\n        path: \"bank-routing\",\r\n        component: BankRoutingComponent2,\r\n        data: [\r\n          { label: \"Home\", routerLink: \"../navbar/tax-settings\" },\r\n          { label: \"Settings\", routerLink: \"/navbar/bank-routing\" },\r\n          { label: \"Bank Routing Settings\", routerLink: \"\" },\r\n        ],\r\n        canActivate: [AuthGuard],\r\n      },\r\n      {\r\n        path: \"bank-routing/addnewroute\",\r\n        component: AddnewrouteComponent2,\r\n        data: [\r\n          { label: \"Home\", routerLink: \"../navbar/tax-settings\" },\r\n          { label: \"Settings\", routerLink: \"../navbar/bank-routing\" },\r\n          { label: \"Bank Routing Settings\", routerLink: \"bank-routing\" },\r\n          { label: \"Add New Route\", routerLink: \"\" },\r\n        ],\r\n        canActivate: [AuthGuard],\r\n      },\r\n      {\r\n        path: \"bank-routing/addnewroute/:id/edit\",\r\n        component: AddnewrouteComponent2,\r\n        data: [\r\n          { label: \"Home\", routerLink: \"../navbar/tax-settings\" },\r\n          { label: \"Settings\", routerLink: \"../navbar/bank-routing\" },\r\n          { label: \"Bank Routing Settings\", routerLink: \"bank-routing\" },\r\n          { label: \"Edit Route\", routerLink: \"\" },\r\n        ],\r\n        canActivate: [AuthGuard],\r\n      },\r\n      {\r\n        path: \"bank-routing/addnewroute/:id/clone\",\r\n        component: AddnewrouteComponent2,\r\n        data: [\r\n          { label: \"Home\", routerLink: \"../navbar/tax-settings\" },\r\n          { label: \"Settings\", routerLink: \"../navbar/bank-routing\" },\r\n          { label: \"Bank Routing Settings\", routerLink: \"bank-routing\" },\r\n          { label: \"Clone Route\", routerLink: \"\" },\r\n        ],\r\n        canActivate: [AuthGuard],\r\n      },\r\n      {\r\n        path: \"tax-settings\",\r\n        component: TaxListingComponent,\r\n        data: [\r\n          { label: \"Home\", routerLink: \"/navbar/tax-settings\" },\r\n          { label: \"Settings\", routerLink: \"/navbar/tax-settings\" },\r\n          { label: \"Tax Settings\", routerLink: \"\" },\r\n        ],\r\n        canActivate: [AuthGuard],\r\n      },\r\n      {\r\n        path: \"tax-settings/add-tax\",\r\n        component: AddNewTaxComponent,\r\n        data: [\r\n          { label: \"Home\", routerLink: \"../navbar/tax-settings\" },\r\n          { label: \"Settings\", routerLink: \"../navbar/tax-settings\" },\r\n          { label: \"Tax Settings\", routerLink: \"tax-settings\" },\r\n          { label: \"Add New Tax\", routerLink: \"\" },\r\n        ],\r\n        canActivate: [AuthGuard],\r\n      },\r\n      {\r\n        path: \"tax-settings/add-tax/:id/edit\",\r\n        component: AddNewTaxComponent,\r\n        data: [\r\n          { label: \"Home\", routerLink: \"../navbar/tax-settings\" },\r\n          { label: \"Settings\", routerLink: \"../navbar/tax-settings\" },\r\n          { label: \"Tax Settings\", routerLink: \"tax-settings\" },\r\n          { label: \"Edit Tax\", routerLink: \"\" },\r\n        ],\r\n        canActivate: [AuthGuard],\r\n      },\r\n      {\r\n        path: \"tax-settings/add-tax/:id/clone\",\r\n        component: AddNewTaxComponent,\r\n        data: [\r\n          { label: \"Home\", routerLink: \"../navbar/tax-settings\" },\r\n          { label: \"Settings\", routerLink: \"../navbar/tax-settings\" },\r\n          { label: \"Tax Settings\", routerLink: \"tax-settings\" },\r\n          { label: \"Clone Tax\", routerLink: \"\" },\r\n        ],\r\n        canActivate: [AuthGuard],\r\n      },\r\n      {\r\n        path: \"charge-settings\",\r\n        component: ChargeListingComponent,\r\n        data: [\r\n          { label: \"Home\", routerLink: \"../navbar/tax-settings\" },\r\n          { label: \"Settings\", routerLink: \"../navbar/charge-settings\" },\r\n          { label: \"Charge Settings\", routerLink: \"\" },\r\n        ],\r\n        canActivate: [AuthGuard],\r\n      },\r\n      {\r\n        path: \"charge-settings/add-charge\",\r\n        component: ChargeDetailsComponent,\r\n        data: [\r\n          { label: \"Home\", routerLink: \"../navbar/tax-settings\" },\r\n          { label: \"Settings\", routerLink: \"../navbar/charge-settings\" },\r\n          { label: \"Charge Settings\", routerLink: \"charge-settings\" },\r\n          { label: \"Add New Charge\", routerLink: \"\" },\r\n        ],\r\n        canActivate: [AuthGuard],\r\n      },\r\n      {\r\n        path: \"charge-settings/add-charge/:id/edit\",\r\n        component: ChargeDetailsComponent,\r\n        data: [\r\n          { label: \"Home\", routerLink: \"../navbar/tax-settings\" },\r\n          { label: \"Settings\", routerLink: \"../navbar/charge-settings\" },\r\n          { label: \"Charge Settings\", routerLink: \"charge-settings\" },\r\n          { label: \"Edit Charge\", routerLink: \"\" },\r\n        ],\r\n        canActivate: [AuthGuard],\r\n      },\r\n      {\r\n        path: \"charge-settings/add-charge/:id/clone\",\r\n        component: ChargeDetailsComponent,\r\n        data: [\r\n          { label: \"Home\", routerLink: \"../navbar/tax-settings\" },\r\n          { label: \"Settings\", routerLink: \"../navbar/charge-settings\" },\r\n          { label: \"Charge Settings\", routerLink: \"charge-settings\" },\r\n          { label: \"Clone Charge\", routerLink: \"\" },\r\n        ],\r\n        canActivate: [AuthGuard],\r\n      },\r\n      {\r\n        path: \"company-settings\",\r\n        component: CompanyDetailsComponent,\r\n        data: [\r\n          { label: \"Home\", routerLink: \"../navbar/tax-settings\" },\r\n          { label: \"Settings\", routerLink: \"../navbar/company-settings\" },\r\n          { label: \"Company Settings\", routerLink: \"\" },\r\n        ],\r\n        canActivate: [AuthGuard],\r\n      },\r\n      {\r\n        path: \"rate-settings\",\r\n        component: RateListingComponent,\r\n        data: [\r\n          { label: \"Home\", routerLink: \"../navbar/tax-settings\" },\r\n          { label: \"Settings\", routerLink: \"../navbar/rate-settings\" },\r\n          { label: \"Rate Settings\", routerLink: \"\" },\r\n        ],\r\n        canActivate: [AuthGuard],\r\n      },\r\n      {\r\n        path: \"users-permissions\",\r\n        component: UsersPermisionsComponent,\r\n        data: [\r\n          { label: \"Home\", routerLink: \"../navbar/tax-settings\" },\r\n          { label: \"Settings\", routerLink: \"../navbar/users-permissions\" },\r\n          { label: \"Users & Permissions\", routerLink: \"\" },\r\n        ],\r\n        canActivate: [AuthGuard],\r\n      },\r\n      {\r\n        path: \"users-permissions/system-user\",\r\n        component: UsersPermisionsComponent,\r\n        data: [\r\n          { label: \"Home\", routerLink: \"../navbar/tax-settings\" },\r\n          { label: \"Settings\", routerLink: \"../navbar/users-permissions\" },\r\n          {\r\n            label: \"Users & Permissions\",\r\n            routerLink: \"../navbar/users-permissions\",\r\n          },\r\n          {\r\n            label: \"System User\",\r\n            routerLink: \"../navbar/users-permissions/system-user\",\r\n          },\r\n        ],\r\n        canActivate: [AuthGuard],\r\n      },\r\n      {\r\n        path: \"users-permissions/user-group\",\r\n        component: UsersPermisionsComponent,\r\n        data: [\r\n          { label: \"Home\", routerLink: \"../navbar/tax-settings\" },\r\n          { label: \"Settings\", routerLink: \"../navbar/users-permissions\" },\r\n          {\r\n            label: \"Users & Permissions\",\r\n            routerLink: \"../navbar/users-permissions\",\r\n          },\r\n          {\r\n            label: \"User Group\",\r\n            routerLink: \"../navbar/users-permissions/user-group\",\r\n          },\r\n        ],\r\n        canActivate: [AuthGuard],\r\n      },\r\n      // {\r\n      //   path: \"users-permissions/system-user/addNew\",\r\n      //   component: UsersPermisionsComponent,\r\n      //   data: [\r\n      //     { label: \"Home\", routerLink: \"../navbar/tax-settings\" },\r\n      //     { label: \"Settings\", routerLink: \"../navbar/users-permissions\" },\r\n      //     {\r\n      //       label: \"Users & Permissions\",\r\n      //       routerLink: \"../navbar/users-permissions\",\r\n      //     },\r\n      //     {\r\n      //       label: \"System User\",\r\n      //       routerLink: \"../navbar/users-permissions/system-user\",\r\n      //     },\r\n      //     {\r\n      //       label: \"Add New System User\",\r\n      //       routerLink: \"../navbar/users-permissions/system-user/addNew\",\r\n      //     },\r\n      //   ],\r\n      //   canActivate: [AuthGuard],\r\n      // },\r\n      {\r\n        path: \"customised-messages\",\r\n        component: CustomisedListingComponent,\r\n        data: [\r\n          { label: \"Home\", routerLink: \"../navbar/tax-settings\" },\r\n          { label: \"Settings\", routerLink: \"../navbar/customised-messages\" },\r\n          { label: \"Customised Messages\", routerLink: \"\" },\r\n        ],\r\n        canActivate: [AuthGuard],\r\n      },\r\n      {\r\n        path: \"customised-messages/add-messages\",\r\n        component: CustomisedDetailsComponent,\r\n        data: [\r\n          { label: \"Home\", routerLink: \"../navbar/tax-settings\" },\r\n          { label: \"Settings\", routerLink: \"../navbar/customised-messages\" },\r\n          { label: \"Customised Messages\", routerLink: \"customised-messages\" },\r\n          { label: \"Add New Customised Message\", routerLink: \"\" },\r\n        ],\r\n        canActivate: [AuthGuard],\r\n      },\r\n      {\r\n        path: \"customised-messages/add-messages/:id/edit\",\r\n        component: CustomisedDetailsComponent,\r\n        data: [\r\n          { label: \"Home\", routerLink: \"../navbar/tax-settings\" },\r\n          { label: \"Settings\", routerLink: \"../navbar/customised-messages\" },\r\n          { label: \"Customised Messages\", routerLink: \"customised-messages\" },\r\n          { label: \"Edit Customised  Message\", routerLink: \"\" },\r\n        ],\r\n        canActivate: [AuthGuard],\r\n      },\r\n      {\r\n        path: \"form-rules\",\r\n        component: FormRuleListingComponent,\r\n        data: [\r\n          { label: \"Home\", routerLink: \"../navbar/tax-settings\" },\r\n          { label: \"Settings\", routerLink: \"../navbar/form-rules\" },\r\n          { label: \"Form Rules\", routerLink: \"\" },\r\n        ],\r\n        canActivate: [AuthGuard],\r\n      },\r\n      {\r\n        path: \"form-rules/addnewformrule\",\r\n        component: AddNewFormRuleComponent,\r\n        data: [\r\n          { label: \"Home\", routerLink: \"../navbar/tax-settings\" },\r\n          { label: \"Settings\", routerLink: \"../navbar/form-rules\" },\r\n          { label: \"Form Rules\", routerLink: \"form-rules\" },\r\n          { label: \"Add New Form Rule\", routerLink: \"\" },\r\n        ],\r\n        canActivate: [AuthGuard],\r\n      },\r\n      {\r\n        path: \"form-rules/addnewformrule/:id/edit\",\r\n        component: AddNewFormRuleComponent,\r\n        data: [\r\n          { label: \"Home\", routerLink: \"../navbar/tax-settings\" },\r\n          { label: \"Settings\", routerLink: \"../navbar/form-rules\" },\r\n          { label: \"Form Rules\", routerLink: \"form-rules\" },\r\n          { label: \"Edit Form Rule\", routerLink: \"\" },\r\n        ],\r\n        canActivate: [AuthGuard],\r\n      },\r\n      {\r\n        path: \"form-rules/addnewformrule/:id/clone\",\r\n        component: AddNewFormRuleComponent,\r\n        data: [\r\n          { label: \"Home\", routerLink: \"../navbar/tax-settings\" },\r\n          { label: \"Settings\", routerLink: \"../navbar/form-rules\" },\r\n          { label: \"Form Rules\", routerLink: \"form-rules\" },\r\n          { label: \"Clone Form Rule\", routerLink: \"\" },\r\n        ],\r\n        canActivate: [AuthGuard],\r\n      },\r\n      {\r\n        path: \"get-bank-routings\",\r\n        component: GroupSettingsComponent,\r\n        data: [\r\n          { label: \"Home\", routerLink: \"../navbar/get-bank-routings\" },\r\n          { label: \"Get Bank Routings\", routerLink: \"\" },\r\n        ],\r\n        canActivate: [AuthGuard],\r\n      },\r\n      {\r\n        path: \"customer-profile\",\r\n        component: CustomerProfileComponent,\r\n        data: [\r\n          { label: \"Home\", routerLink: \"../navbar/customer-profile\" },\r\n          {\r\n            label: \"Customer Profile\",\r\n            routerLink: \"../navbar/customer-profile\",\r\n          },\r\n        ],\r\n        canActivate: [AuthGuard],\r\n      },\r\n      {\r\n        path: \"customer-profile/addnewcustomer/:type\",\r\n        component: AddCustomerComponent,\r\n        data: [\r\n          { label: \"Home\", routerLink: \"../navbar/customer-profile\" },\r\n          {\r\n            label: \"Customer Profile\",\r\n            routerLink: \"../navbar/customer-profile\",\r\n          },\r\n          { label: \"Add Customer\", routerLink: \"\" },\r\n        ],\r\n        canActivate: [AuthGuard],\r\n      },\r\n      {\r\n        path: \"customer-profile/addnewcustomer/:type/:id/edit\",\r\n        component: AddCustomerComponent,\r\n        data: [\r\n          { label: \"Home\", routerLink: \"../navbar/customer-profile\" },\r\n          {\r\n            label: \"Customer Profile\",\r\n            routerLink: \"../navbar/customer-profile\",\r\n          },\r\n          { label: \"Edit Customer\", routerLink: \"\" },\r\n        ],\r\n        canActivate: [AuthGuard],\r\n      },\r\n      {\r\n        path: \"master\",\r\n        component: MasterListingComponent,\r\n        data: [\r\n          { label: \"Home\", routerLink: \"../navbar/master\" },\r\n          {\r\n            label: \"Master\",\r\n            routerLink: \"../navbar/master\",\r\n          },\r\n        ],\r\n        canActivate: [AuthGuard],\r\n      },\r\n\r\n      {\r\n        path: \"beneficiary-profile\",\r\n        component: CustomerProfileComponent,\r\n        data: [\r\n          { label: \"Home\", routerLink: \"../navbar/beneficiary-profile\" },\r\n          {\r\n            label: \"Beneficiary Profile\",\r\n            routerLink: \"../navbar/beneficiary-profile\",\r\n          },\r\n        ],\r\n        canActivate: [AuthGuard],\r\n      },\r\n      {\r\n        path: \"beneficiary-profile/addnewbeneficiary/:type/:id/:name/add\",\r\n        component: AddBeneficiaryComponent,\r\n        data: [\r\n          { label: \"Home\", routerLink: \"../navbar/beneficiary-profile\" },\r\n          {\r\n            label: \"Beneficiary Profile\",\r\n            routerLink: \"../navbar/beneficiary-profile\",\r\n          },\r\n          { label: \"Add Beneficiary\", routerLink: \"\" },\r\n        ],\r\n        canActivate: [AuthGuard],\r\n      },\r\n      {\r\n        path: \"beneficiary-profile/addnewbeneficiary/:type/:id/:name/:benefid/edit\",\r\n        component: AddBeneficiaryComponent,\r\n        data: [\r\n          { label: \"Home\", routerLink: \"../navbar/beneficiary-profile\" },\r\n          {\r\n            label: \"Beneficiary Profile\",\r\n            routerLink: \"../navbar/beneficiary-profile\",\r\n          },\r\n          { label: \"Edit Beneficiary\", routerLink: \"\" },\r\n        ],\r\n        canActivate: [AuthGuard],\r\n      },\r\n      {\r\n        path: \"document-settings\",\r\n        component: DocumentListingComponent,\r\n        data: [\r\n          { label: \"Home\", routerLink: \"../navbar/tax-settings\" },\r\n          { label: \"Settings\", routerLink: \"../navbar/document-settings\" },\r\n          { label: \"Document Settings\", routerLink: \"\" },\r\n        ],\r\n        canActivate: [AuthGuard],\r\n      },\r\n      {\r\n        path: \"document-settings/add-document\",\r\n        component: DocumentDetailsComponent,\r\n        data: [\r\n          { label: \"Home\", routerLink: \"../navbar/tax-settings\" },\r\n          { label: \"Settings\", routerLink: \"../navbar/document-settings\" },\r\n          { label: \"Document Settings\", routerLink: \"document-settings\" },\r\n          { label: \"Add Document Settings\", routerLink: \"\" },\r\n        ],\r\n        canActivate: [AuthGuard],\r\n      },\r\n      {\r\n        path: \"document-settings/add-document/:id/edit\",\r\n        component: DocumentDetailsComponent,\r\n        data: [\r\n          { label: \"Home\", routerLink: \"../navbar/tax-settings\" },\r\n          { label: \"Settings\", routerLink: \"../navbar/document-settings\" },\r\n          { label: \"Document Settings\", routerLink: \"document-settings\" },\r\n          { label: \"Edit Document Settings\", routerLink: \"\" },\r\n        ],\r\n        canActivate: [AuthGuard],\r\n      },\r\n      {\r\n        path: \"document-settings/add-document/:id/clone\",\r\n        component: DocumentDetailsComponent,\r\n        data: [\r\n          { label: \"Home\", routerLink: \"../navbar/tax-settings\" },\r\n          { label: \"Settings\", routerLink: \"../navbar/document-settings\" },\r\n          { label: \"Document Settings\", routerLink: \"document-settings\" },\r\n          { label: \"Clone Document Settings\", routerLink: \"\" },\r\n        ],\r\n        canActivate: [AuthGuard],\r\n      },\r\n      {\r\n        path: \"loyalty-programs\",\r\n        component: LoyaltyProgramComponent,\r\n        data: [\r\n          { label: \"Home\", routerLink: \"../navbar/tax-settings\" },\r\n          {\r\n            label: \"Loyalty-Programs\",\r\n            routerLink: \"../navbar/loyalty-programs\",\r\n          },\r\n        ],\r\n        canActivate: [AuthGuard],\r\n      },\r\n      {\r\n        path: \"loyalty-programs-details\",\r\n        component: LoyaltyDetailsListComponent,\r\n        data: [\r\n          { label: \"Home\", routerLink: \"../navbar/tax-settings\" },\r\n          {\r\n            label: \"Customer Loyalty Programs\",\r\n            routerLink: \"../navbar/loyalty-programs-details\",\r\n          },\r\n        ],\r\n        canActivate: [AuthGuard],\r\n      },\r\n      {\r\n        path: \"loyalty-programs/add-loyalty\",\r\n        component: AddLoyaltyComponent,\r\n        data: [\r\n          { label: \"Home\", routerLink: \"../navbar/tax-settings\" },\r\n          {\r\n            label: \"Loyalty-Programs\",\r\n            routerLink: \"../navbar/loyalty-programs\",\r\n          },\r\n          { label: \"Add Loyalty-Programs\", routerLink: \"\" },\r\n        ],\r\n        canActivate: [AuthGuard],\r\n      },\r\n      {\r\n        path: \"loyalty-programs/add-loyalty/:id/edit\",\r\n        component: AddLoyaltyComponent,\r\n        data: [\r\n          { label: \"Home\", routerLink: \"../navbar/tax-settings\" },\r\n          {\r\n            label: \"Loyalty-Programs\",\r\n            routerLink: \"../navbar/loyalty-programs\",\r\n          },\r\n          { label: \"Edit Loyalty-Programs\", routerLink: \"\" },\r\n        ],\r\n        canActivate: [AuthGuard],\r\n      },\r\n    ],\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes, { relativeLinkResolution: \"legacy\" })],\r\n  exports: [RouterModule],\r\n})\r\nexport class AppRoutingModule {}\r\n","import {\r\n  AfterContentChecked,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  OnInit,\r\n  ViewChild,\r\n} from \"@angular/core\";\r\nimport { Router } from \"@angular/router\";\r\nimport { ConfirmationService } from \"primeng/api\";\r\nimport { ConfirmDialog } from \"primeng/confirmdialog\";\r\nimport { take } from \"rxjs/operators\";\r\nimport { AuthService } from \"./auth/auth.service\";\r\nimport { CoreService } from \"./core.service\";\r\nimport { LoginService } from \"./login/login.service\";\r\nimport { UserIdleService } from \"angular-user-idle\";\r\n\r\n@Component({\r\n  selector: \"app-root\",\r\n  templateUrl: \"./app.component.html\",\r\n  styleUrls: [\"./app.component.scss\"],\r\n  providers: [ConfirmationService],\r\n})\r\nexport class AppComponent implements OnInit, AfterContentChecked {\r\n  constructor(\r\n    private router: Router,\r\n    private ref: ChangeDetectorRef,\r\n    private confirmationService: ConfirmationService,\r\n    private coreService: CoreService,\r\n    private authService: AuthService,\r\n    private loginService: LoginService\r\n  ) {}\r\n  title = \"casmex\";\r\n\r\n  @ViewChild(\"cd\") cd: ConfirmDialog;\r\n\r\n  blocked: boolean;\r\n\r\n  ngOnInit() {\r\n    this.coreService.$loadingScreen.subscribe((isLoading) => {\r\n      this.blocked = isLoading;\r\n    });\r\n\r\n    this.authService.autoLogin();\r\n\r\n    this.authService.showSessionConfirm.subscribe((res) => {\r\n      if (res.status) {\r\n        this.confirmSessionContinuity(res.timer);\r\n      } else {\r\n        this.cd && this.cd.hide();\r\n      }\r\n    });\r\n\r\n    this.authService.userDataSub.subscribe((user) => {\r\n      if (!user) {\r\n        this.authService.stopWatching();\r\n      } else {\r\n        this.authService.startUserIdleDetector();\r\n      }\r\n    });\r\n  }\r\n\r\n  ngAfterContentChecked() {\r\n    this.ref.detectChanges();\r\n  }\r\n\r\n  confirmSessionContinuity(timer: any) {\r\n    this.confirmationService.confirm({\r\n      message: `Your session is expiring in ${timer}, you want to continue ?`,\r\n      key: \"sessionConfirm\",\r\n      accept: () => {\r\n        this.authService.clearTimers();\r\n        this.authService.stopTimer();\r\n      },\r\n      reject: () => {\r\n        this.logout();\r\n      },\r\n    });\r\n  }\r\n\r\n  logout() {\r\n    this.authService.clearTimers();\r\n    this.authService.stopWatching();\r\n    this.authService.userDataSub.next(null);\r\n    this.authService.showSessionConfirm.next({ status: false });\r\n    localStorage.removeItem(\"token\");\r\n    localStorage.removeItem(\"userData\");\r\n    localStorage.removeItem(\"licenseCountry\");\r\n    localStorage.removeItem(\"selectedApplication\");\r\n    localStorage.clear();\r\n    this.coreService.showSuccessToast(\"Logged Out Successfully.\");\r\n    this.router.navigate([\"login\"]);\r\n  }\r\n}\r\n","<p-blockUI [styleClass]=\"'p-blockui-document'\" [blocked]=\"blocked\"><img src=\"../assets/loading.gif\" alt=\"Loading...\" width=\"100px\" height=\"100px\">\r\n</p-blockUI>\r\n<router-outlet></router-outlet>\r\n\r\n<p-confirmDialog key=\"sessionConfirm\" class=\"session-confirm confirm-popup\" #cd icon=\"pi pi-exclamation-triangle\" [closable]=\"false\">\r\n  <p-footer>\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-times\"\r\n      label=\"Logout\"\r\n      (click)=\"cd.reject()\"\r\n    ></button>\r\n\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-check\"\r\n      label=\"Continue\"\r\n      (click)=\"cd.accept()\"\r\n    ></button>\r\n  </p-footer>\r\n</p-confirmDialog>\r\n<p-toast></p-toast>\r\n","import { BrowserModule } from \"@angular/platform-browser\";\r\nimport { DatePipe } from \"@angular/common\";\r\nimport { BrowserAnimationsModule } from \"@angular/platform-browser/animations\";\r\nimport { NgModule } from \"@angular/core\";\r\nimport {\r\n  HttpClient,\r\n  HttpClientModule,\r\n  HTTP_INTERCEPTORS,\r\n} from \"@angular/common/http\";\r\nimport { FormsModule, NgModel, ReactiveFormsModule } from \"@angular/forms\";\r\nimport { TranslateLoader, TranslateModule } from \"@ngx-translate/core\";\r\nimport { TranslateHttpLoader } from \"@ngx-translate/http-loader\";\r\n\r\nimport { TableModule } from \"primeng/table\";\r\nimport { DialogModule } from \"primeng/dialog\";\r\nimport { SidebarModule } from \"primeng/sidebar\";\r\nimport { ButtonModule } from \"primeng/button\";\r\nimport { TreeModule } from \"primeng/tree\";\r\nimport { PanelMenuModule } from \"primeng/panelmenu\";\r\nimport { InputTextModule } from \"primeng/inputtext\";\r\nimport { DropdownModule } from \"primeng/dropdown\";\r\nimport { ContextMenuModule } from \"primeng/contextmenu\";\r\nimport { MultiSelectModule } from \"primeng/multiselect\";\r\nimport { CardModule } from \"primeng/card\";\r\nimport { BlockUIModule } from \"primeng/blockui\";\r\nimport { BreadcrumbModule } from \"primeng/breadcrumb\";\r\nimport {\r\n  DialogService,\r\n  DynamicDialogModule,\r\n  DynamicDialogRef,\r\n} from \"primeng/dynamicdialog\";\r\nimport { InputNumberModule } from \"primeng/inputnumber\";\r\nimport { TooltipModule } from \"primeng/tooltip\";\r\nimport { PickListModule } from \"primeng/picklist\";\r\nimport { ConfirmDialogModule } from \"primeng/confirmdialog\";\r\nimport { TreeTableModule } from \"primeng/treetable\";\r\nimport { CheckboxModule } from \"primeng/checkbox\";\r\nimport { TreeSelectModule } from \"primeng/treeselect\";\r\nimport { ToastModule } from \"primeng/toast\";\r\nimport { KeyFilterModule } from \"primeng/keyfilter\";\r\n\r\nimport { BnNgIdleService } from \"bn-ng-idle\";\r\n\r\nimport { AppRoutingModule } from \"./app-routing.module\";\r\nimport { AppComponent } from \"./app.component\";\r\nimport { NavbarComponent } from \"./navbar/navbar.component\";\r\nimport { LoginComponent } from \"./login/login.component\";\r\nimport { HttpInterceptorInterceptor } from \"./http-interceptor.interceptor\";\r\nimport { SessionTimeOutComponent } from \"./session-time-out/session-time-out.component\";\r\nimport { CriteriaListingComponent } from \"./criteria-settings/criteria-listing/criteria-listing.component\";\r\nimport { CriteriaSettingsDetailComponent } from \"./criteria-settings/criteria-settings-detail/criteria-settings-detail.component\";\r\nimport { TaxListingComponent } from \"./tax-settings/tax-listing/tax-listing.component\";\r\nimport { BankRoutingComponent2 } from \"./banks-routing-2/bank-routing/bank-routing.component\";\r\nimport { AddnewrouteComponent2 } from \"./banks-routing-2/addnewroute/addnewroute.component\";\r\nimport { SetCriteriaComponent } from \"./shared/components/set-criteria/set-criteria.component\";\r\nimport { TransactionCriteriaModal } from \"./shared/modals/transaction-criteria-modal/transaction-criteria-modal\";\r\nimport { AddNewTaxComponent } from \"./tax-settings/add-new-tax/add-new-tax.component\";\r\nimport { ConfirmationService, MessageService } from \"primeng/api\";\r\nimport { AddNewFormRuleComponent } from \"./form-rules/add-new-form-rule/add-new-form-rule.component\";\r\nimport { FormRuleListingComponent } from \"./form-rules/form-rule-listing/form-rule-listing.component\";\r\nimport { GroupSettingsComponent } from \"./get-apis/group-settings/group-settings.component\";\r\nimport { CustomerProfileComponent } from \"./customer-profile/customer-profile.component\";\r\nimport { AddCustomerComponent } from \"./customer-profile/add-customer/add-customer.component\";\r\nimport { PanelModule } from \"primeng/panel\";\r\nimport { TabViewModule } from \"primeng/tabview\";\r\nimport { CalendarModule } from \"primeng/calendar\";\r\nimport { InputMaskModule } from \"primeng/inputmask\";\r\nimport { FileUploadModule } from \"primeng/fileupload\";\r\nimport { ChipsModule } from \"primeng/chips\";\r\n\r\nimport { SearchListingComponent } from \"./search-settings/search-listing/search-listing.component\";\r\nimport { AddNewSearchComponent } from \"./search-settings/add-new-search/add-new-search.component\";\r\nimport { CustomFieldsComponent } from \"./get-apis/custom-fields/custom-fields.component\";\r\nimport { CustomFormComponent } from \"./get-apis/custom-form/custom-form.component\";\r\nimport { UserIdleModule } from \"angular-user-idle\";\r\nimport { BeneficiaryProfileComponent } from \"./beneficiary-profile/beneficiary-profile.component\";\r\nimport { AddBeneficiaryComponent } from \"./beneficiary-profile/add-beneficiary/add-beneficiary.component\";\r\nimport { DocumentListingComponent } from \"./document-settings/document-listing/document-listing.component\";\r\nimport { DocumentDetailsComponent } from \"./document-settings/document-details/document-details.component\";\r\nimport { AddCustomerBenefComponent } from \"./beneficiary-profile/add-customer-benef/add-customer-benef.component\";\r\nimport { AutoCompleteModule } from \"primeng/autocomplete\";\r\nimport { GetDocSettingsComponent } from \"./get-apis/get-doc-settings/get-doc-settings.component\";\r\nimport { DateMaskDirective } from \"./date-mask.directive\";\r\nimport { TransactionDateModal } from \"./shared/modals/transaction-date-modal/transaction-date-modal\";\r\nimport { LoyaltyProgramComponent } from \"./loyalty-program/loyalty-program.component\";\r\nimport { AddLoyaltyComponent } from \"./loyalty-program/add-loyalty/add-loyalty.component\";\r\nimport { LoyaltyDetailsListComponent } from \"./loyalty-program/loyalty-details-list/loyalty-details-list.component\";\r\nimport { ClipboardModule } from \"ngx-clipboard\";\r\n\r\nimport { ChargeDetailsComponent } from \"./charge-settings/charge-details/charge-details.component\";\r\nimport { ChargeListingComponent } from \"./charge-settings/charge-listing/charge-listing.component\";\r\nimport { MasterListingComponent } from \"./master/master-listing/master-listing.component\";\r\nimport { CustomisedListingComponent } from \"./customised-messages/customised-listing/customised-listing.component\";\r\nimport { CustomisedDetailsComponent } from \"./customised-messages/customised-details/customised-details.component\";\r\n\r\nimport { DocumentCollectionComponent } from \"./shared/forms/document-collection/document-collection.component\";\r\nimport { FileUploadComponent } from \"./shared/components/file-upload/file-upload.component\";\r\nimport { CustomerFormComponent } from \"./shared/forms/customer-form/customer-form.component\";\r\nimport { ConfirmDialogModalComponent } from \"./shared/modals/confirm-dialog-modal/confirm-dialog-modal.component\";\r\n\r\nimport { CompanyDetailsComponent } from \"./company-settings/company-details/company-details.component\";\r\nimport { RadioButtonModule } from \"primeng/radiobutton\";\r\nimport { RateListingComponent } from \"./rate-settings/rate-listing/rate-listing.component\";\r\nimport { UsersPermisionsComponent } from \"./users-permisions/users-permisions.component\";\r\nimport { SystemUsersDetailsComponent } from \"./users-permisions/system-users/system-users-details/system-users-details.component\";\r\nimport { SystemUsersListingComponent } from \"./users-permisions/system-users/system-users-listing/system-users-listing.component\";\r\nimport { UserGroupComponent } from \"./users-permisions/user-group/user-group/user-group.component\";\nimport { LandingPageComponent } from './pages/landing-page/landing-page.component';\r\n\r\n// AoT requires an exported function for factories\r\nexport function HttpLoaderFactory(httpClient: HttpClient) {\r\n  return new TranslateHttpLoader(httpClient);\r\n}\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    NavbarComponent,\r\n    LoginComponent,\r\n    SessionTimeOutComponent,\r\n    CriteriaListingComponent,\r\n    CriteriaSettingsDetailComponent,\r\n    TaxListingComponent,\r\n    BankRoutingComponent2,\r\n    AddnewrouteComponent2,\r\n    TransactionCriteriaModal,\r\n    SetCriteriaComponent,\r\n    AddNewTaxComponent,\r\n    AddNewFormRuleComponent,\r\n    FormRuleListingComponent,\r\n    GroupSettingsComponent,\r\n    CustomerProfileComponent,\r\n    AddCustomerComponent,\r\n    SearchListingComponent,\r\n    AddNewSearchComponent,\r\n    CustomFieldsComponent,\r\n    CustomFormComponent,\r\n    BeneficiaryProfileComponent,\r\n    AddBeneficiaryComponent,\r\n    DocumentListingComponent,\r\n    DocumentDetailsComponent,\r\n    AddCustomerBenefComponent,\r\n    GetDocSettingsComponent,\r\n    DateMaskDirective,\r\n    TransactionDateModal,\r\n    LoyaltyProgramComponent,\r\n    AddLoyaltyComponent,\r\n    LoyaltyDetailsListComponent,\r\n    ChargeDetailsComponent,\r\n    ChargeListingComponent,\r\n    MasterListingComponent,\r\n    CustomisedListingComponent,\r\n    CustomisedDetailsComponent,\r\n\r\n    DocumentCollectionComponent,\r\n    FileUploadComponent,\r\n    CustomerFormComponent,\r\n    ConfirmDialogModalComponent,\r\n\r\n    CompanyDetailsComponent,\r\n    RateListingComponent,\r\n    UsersPermisionsComponent,\r\n    SystemUsersDetailsComponent,\r\n    SystemUsersListingComponent,\r\n    UserGroupComponent,\r\n    LandingPageComponent,\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    BrowserAnimationsModule,\r\n    AppRoutingModule,\r\n    HttpClientModule,\r\n    TableModule,\r\n    DropdownModule,\r\n    FormsModule,\r\n    SidebarModule,\r\n    ButtonModule,\r\n    TreeModule,\r\n    ReactiveFormsModule,\r\n    InputTextModule,\r\n    ContextMenuModule,\r\n    MultiSelectModule,\r\n    CardModule,\r\n    BlockUIModule,\r\n    BreadcrumbModule,\r\n    DynamicDialogModule,\r\n    InputNumberModule,\r\n    TooltipModule,\r\n    PickListModule,\r\n    ConfirmDialogModule,\r\n    TreeTableModule,\r\n    InputMaskModule,\r\n    CheckboxModule,\r\n    RadioButtonModule,\r\n    TreeSelectModule,\r\n    ToastModule,\r\n    KeyFilterModule,\r\n    TranslateModule.forRoot({\r\n      loader: {\r\n        provide: TranslateLoader,\r\n        useFactory: HttpLoaderFactory,\r\n        deps: [HttpClient],\r\n      },\r\n    }),\r\n    PanelMenuModule,\r\n    DialogModule,\r\n    PanelModule,\r\n    TabViewModule,\r\n    CalendarModule,\r\n    FileUploadModule,\r\n    UserIdleModule.forRoot({ idle: 1680, timeout: 120, ping: 1500 }),\r\n    AutoCompleteModule,\r\n    ClipboardModule,\r\n    ChipsModule,\r\n  ],\r\n  providers: [\r\n    BnNgIdleService,\r\n    {\r\n      provide: HTTP_INTERCEPTORS,\r\n      useClass: HttpInterceptorInterceptor,\r\n      multi: true,\r\n    },\r\n    DatePipe,\r\n    MessageService,\r\n    ConfirmationService,\r\n  ],\r\n  bootstrap: [AppComponent],\r\n})\r\nexport class AppModule {}\r\n","import { Injectable } from \"@angular/core\";\r\nimport {\r\n  CanActivate,\r\n  ActivatedRouteSnapshot,\r\n  RouterStateSnapshot,\r\n  UrlTree,\r\n  Router,\r\n} from \"@angular/router\";\r\nimport { Observable } from \"rxjs\";\r\nimport { take } from \"rxjs/operators\";\r\nimport { CoreService } from \"../core.service\";\r\nimport { AuthService } from \"./auth.service\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class AuthGuard implements CanActivate {\r\n  constructor(\r\n    private authService: AuthService,\r\n    private router: Router,\r\n    private coreService: CoreService\r\n  ) {}\r\n  canActivate(\r\n    route: ActivatedRouteSnapshot,\r\n    state: RouterStateSnapshot\r\n  ):\r\n    | Observable<boolean | UrlTree>\r\n    | Promise<boolean | UrlTree>\r\n    | boolean\r\n    | UrlTree {\r\n    if (this.authService.isLoggedIn()) {\r\n      console.log(\"AUTHORIZED\");\r\n      if (route[\"routeConfig\"][\"path\"] == \"login\") {\r\n        console.log(\"try to go login\");\r\n        this.router.navigate([\"/dashboard\"]);\r\n        return true;\r\n      }\r\n      if (route[\"routeConfig\"][\"path\"] == \"session-time-out\") {\r\n        console.log(\"try to go sessiontimeout\");\r\n        this.router.navigate([\"/dashboard\"]);\r\n        return true;\r\n      }\r\n      if (route[\"routeConfig\"][\"path\"] == \"dashboard\") {\r\n        console.log(\"try to go dashboard\");\r\n        return true;\r\n      } else {\r\n        // FOR ALL OTHER  ROUTES -- AUTHORIZED\r\n        if (localStorage.getItem(\"selectedApplication\")) {\r\n          console.log(\"authorized and selectedApp\");\r\n          return true;\r\n        } else {\r\n          console.log(\"authorized and no selectedApp\");\r\n          this.router.navigate([\"/dashboard\"]);\r\n          return false;\r\n        }\r\n      }\r\n    } else {\r\n      console.log(\"NOT AUTHORIZED\");\r\n      if (route[\"routeConfig\"][\"path\"] == \"login\") {\r\n        console.log(\"try to go login\");\r\n        return true;\r\n      }\r\n      if (route[\"routeConfig\"][\"path\"] == \"session-time-out\") {\r\n        console.log(\"try to go sessiontimeout\");\r\n        return true;\r\n      }\r\n\r\n      // FOR ALL OTHER CASES\r\n      this.coreService.userActionsObs.next([{ name: \"Login\" }]);\r\n      this.coreService.showWarningToast(\r\n        \"Your session has timed out. Please log in again to continue.\"\r\n      );\r\n      this.router.navigate([\"session-time-out\"]);\r\n      return false;\r\n    }\r\n  }\r\n}\r\n\r\n// if (route[\"routeConfig\"][\"path\"] == \"login\" && this.authService.isLoggedIn()) {\r\n//   console.log(\"authorized but try to login\");\r\n//   this.router.navigate([\"/dashboard\"]);\r\n//   return true;\r\n// } else {\r\n//   if (route[\"routeConfig\"][\"path\"] == \"login\") {\r\n//     console.log(\"want to login\");\r\n//     return true;\r\n//   } else if (route[\"_routerState\"][\"url\"] == \"session-time-out\") {\r\n//     console.log(\"session timed out\");\r\n//     return true;\r\n//   } else if (this.authService.isLoggedIn()) {\r\n//     console.log(\"authorized\");\r\n//     if (route[\"routeConfig\"][\"path\"] == \"dashboard\") {\r\n//       console.log(\"want to go dashboard\");\r\n//       return true;\r\n//     } else {\r\n//       if (localStorage.getItem(\"selectedApplication\")) {\r\n//         console.log(\"authorized and selectedApp\");\r\n//         return true;\r\n//       } else {\r\n//         console.log(\"authorized and no selectedApp\");\r\n//         this.router.navigate([\"/dashboard\"]);\r\n//         return true;\r\n//       }\r\n//     }\r\n//   } else {\r\n//     console.log(\"unauthorized\");\r\n//     this.coreService.userActionsObs.next([{ name: \"Login\" }]);\r\n//     this.coreService.showWarningToast(\r\n//       \"Your session has timed out. Please log in again to continue.\"\r\n//     );\r\n//     this.router.navigate([\"session-time-out\"]);\r\n//     return false;\r\n//   }\r\n// }\r\n","import { Injectable } from \"@angular/core\";\r\nimport { Router } from \"@angular/router\";\r\nimport { BehaviorSubject } from \"rxjs\";\r\nimport { CoreService } from \"../core.service\";\r\nimport { User } from \"./user.model\";\r\nimport { BnNgIdleService } from \"bn-ng-idle\";\r\nimport { take } from \"rxjs/operators\";\r\nimport { LoginService } from \"../login/login.service\";\r\nimport { HttpClient } from \"@angular/common/http\";\r\nimport { UserIdleService } from \"angular-user-idle\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class AuthService {\r\n  constructor(\r\n    private router: Router,\r\n    private coreService: CoreService,\r\n    private bnidle: BnNgIdleService,\r\n    private http: HttpClient,\r\n    private userIdle: UserIdleService\r\n  ) {}\r\n\r\n  userDataSub = new BehaviorSubject<User>(null);\r\n  showSessionConfirm = new BehaviorSubject<{ status: boolean; timer?: any }>({\r\n    status: false,\r\n  });\r\n\r\n  clearTimer: any;\r\n  clearWarningTimer: any;\r\n\r\n  $onTimerStart: any;\r\n  $onTimeOut: any;\r\n  $ping: any;\r\n\r\n  isLoggedIn() {\r\n    return !!localStorage.getItem(\"userData\");\r\n  }\r\n\r\n  logout() {\r\n    this.clearTimers();\r\n    this.stopWatching();\r\n    this.coreService.userActionsObs.next([{ name: \"Login\" }]);\r\n    this.userDataSub.next(null);\r\n    this.showSessionConfirm.next({ status: false });\r\n    localStorage.removeItem(\"token\");\r\n    localStorage.removeItem(\"userData\");\r\n    localStorage.removeItem(\"licenseCountry\");\r\n    localStorage.removeItem(\"selectedApplication\");\r\n    localStorage.clear();\r\n    this.coreService.showWarningToast(\r\n      \"Your session has timed out. Please log in again to continue.\"\r\n    );\r\n    this.router.navigate([\"session-time-out\"]);\r\n  }\r\n\r\n  autoLogout(expiryTimer: any) {\r\n    if (expiryTimer <= 0) {\r\n      this.logout();\r\n    } else {\r\n      this.sessionTimeoutWarning(expiryTimer);\r\n      this.clearTimer = setTimeout(() => {\r\n        this.logout();\r\n      }, expiryTimer);\r\n    }\r\n  }\r\n\r\n  clearTimers() {\r\n    if (this.clearTimer) {\r\n      clearInterval(this.clearTimer);\r\n    }\r\n    if (this.clearWarningTimer) {\r\n      clearInterval(this.clearWarningTimer);\r\n    }\r\n  }\r\n\r\n  sessionTimeoutWarning(expiryTimer: any) {\r\n    if (expiryTimer >= 120000) {\r\n      this.clearWarningTimer = setTimeout(() => {\r\n        this.showSessionConfirm.next({ status: true, timer: \"2 Minutes\" });\r\n      }, expiryTimer - 120000);\r\n    } else {\r\n      let remainTime =\r\n        expiryTimer / 1000 > 60\r\n          ? `${Math.floor(expiryTimer / (1000 * 60))} Minute`\r\n          : `less than 1 Minute`;\r\n      this.showSessionConfirm.next({ status: true, timer: remainTime });\r\n    }\r\n  }\r\n\r\n  autoLogin() {\r\n    let userData: {\r\n      useRole: string;\r\n      userGroup: string;\r\n      userId: string;\r\n      userName: string;\r\n      _token: string;\r\n      expirationDate: number;\r\n    } = JSON.parse(localStorage.getItem(\"userData\"));\r\n    if (!userData) {\r\n      return;\r\n    }\r\n\r\n    let user = new User(\r\n      userData[\"useRole\"],\r\n      userData[\"userGroup\"],\r\n      userData[\"userId\"],\r\n      userData[\"userName\"],\r\n      userData[\"_token\"],\r\n      userData[\"expirationDate\"],\r\n      userData[\"userCode\"]\r\n    );\r\n\r\n    if (userData[\"expirationDate\"] - new Date().getTime() <= 0) {\r\n      this.logout();\r\n    } else {\r\n      this.refreshTokenLogin();\r\n    }\r\n  }\r\n\r\n  refreshTokenLogin() {\r\n    this.refreshAuthToken({\r\n      // application: \"CASMEX_CORE\",\r\n      username: \"yogeshm\",\r\n      password: \"test@123\",\r\n    })\r\n      .pipe(take(1))\r\n      .subscribe(\r\n        (data: any) => {\r\n          if (data && data.jwt) {\r\n            this.refreshUserSessionToken(data.jwt);\r\n          } else {\r\n            data[\"msg\"] && this.coreService.showWarningToast(data[\"msg\"]);\r\n          }\r\n        },\r\n        (err) => {\r\n          console.log(err);\r\n        }\r\n      );\r\n  }\r\n\r\n  refreshUserSessionToken(token: any) {\r\n    let expiry = JSON.parse(atob(token.split(\".\")[1])).exp;\r\n    let user = JSON.parse(localStorage.getItem(\"userData\"));\r\n    let loggedUser = new User(\r\n      user[\"useRole\"],\r\n      user[\"userGroup\"],\r\n      user[\"userId\"],\r\n      user[\"userName\"],\r\n      token,\r\n      new Date(expiry * 1000).getTime(),\r\n      user[\"userCode\"]\r\n    );\r\n\r\n    this.userDataSub.next(loggedUser);\r\n    this.coreService.userActionsObs.next([\r\n      { name: \"Profile\" },\r\n      { name: \"Logout\" },\r\n    ]);\r\n    localStorage.setItem(\"token\", token);\r\n    localStorage.setItem(\"userData\", JSON.stringify(loggedUser));\r\n  }\r\n\r\n  refreshAuthToken(data: any) {\r\n    return this.http.post(`/login/loginController/refreshToken`, data);\r\n  }\r\n\r\n  // % USER IDLENESS DETECTOR\r\n\r\n  startUserIdleDetector() {\r\n    //Start watching for user inactivity.\r\n    this.startWatching();\r\n\r\n    // Start watching when user idle is starting.\r\n    this.$onTimerStart = this.onTimerStart().subscribe((count) => {\r\n      if (count == 1) {\r\n        if (this.isLoggedIn()) {\r\n          this.clearTimers();\r\n          this.sessionTimeoutWarning(120000);\r\n        }\r\n      }\r\n    });\r\n\r\n    // Start watch when time is up.\r\n    this.$onTimeOut = this.onTimeout().subscribe(() => {\r\n      if (this.isLoggedIn()) {\r\n        this.logout();\r\n      }\r\n    });\r\n\r\n    // Refresh Token.\r\n    this.$ping = this.userIdle.ping$.pipe(take(1)).subscribe(() => {\r\n      if (this.isLoggedIn()) {\r\n        this.refreshTokenLogin();\r\n      }\r\n    });\r\n  }\r\n\r\n  stopTimer() {\r\n    this.userIdle.stopTimer();\r\n  }\r\n\r\n  onTimerStart() {\r\n    return this.userIdle.onTimerStart();\r\n  }\r\n\r\n  onTimeout() {\r\n    return this.userIdle.onTimeout();\r\n  }\r\n  onUserIdleStatusChange() {\r\n    return this.userIdle.onIdleStatusChanged();\r\n  }\r\n\r\n  stopWatching() {\r\n    this.$onTimeOut?.unsubscribe();\r\n    this.$onTimerStart?.unsubscribe();\r\n    this.$ping?.unsubscribe();\r\n    this.userIdle.stopWatching();\r\n  }\r\n\r\n  startWatching() {\r\n    this.userIdle.startWatching();\r\n  }\r\n\r\n  restartTimer() {\r\n    this.userIdle.resetTimer();\r\n  }\r\n\r\n  checkIfWatching() {\r\n    return this.userIdle.ping$;\r\n  }\r\n\r\n  // % USER IDLENESS DETECTOR END\r\n}\r\n","export class User {\r\n  constructor(\r\n    private useRole: string,\r\n    private userGroup: string,\r\n    private userId: string,\r\n    private userName: string,\r\n    private _token: string,\r\n    private expirationDate: number,\r\n    private userCode: number\r\n  ) {}\r\n\r\n  get token() {\r\n    if (new Date().getTime() > this.expirationDate) {\r\n      return null;\r\n    }\r\n    return this._token;\r\n  }\r\n}\r\n","import { Component, ElementRef, OnInit, ViewChild } from \"@angular/core\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { ConfirmationService, MessageService } from \"primeng/api\";\r\nimport { DialogService } from \"primeng/dynamicdialog\";\r\nimport { CoreService } from \"src/app/core.service\";\r\n\r\nimport { BankRoutingService } from \"../bank-routing.service\";\r\nimport { Table } from \"primeng/table\";\r\nimport { map, take } from \"rxjs/operators\";\r\nimport { forkJoin } from \"rxjs\";\r\nimport { Dropdown } from \"primeng/dropdown\";\r\nimport { SetCriteriaService } from \"src/app/shared/components/set-criteria/set-criteria.service\";\r\nimport { SetCriteriaComponent } from \"src/app/shared/components/set-criteria/set-criteria.component\";\r\nimport { CriteriaDataService } from \"src/app/shared/services/criteria-data.service\";\r\nimport {\r\n  UntypedFormBuilder,\r\n  UntypedFormControl,\r\n  Validators,\r\n} from \"@angular/forms\";\r\n\r\nimport _lodashClone from \"lodash-es/cloneDeep\";\r\n\r\n@Component({\r\n  selector: \"app-addnewroute\",\r\n  templateUrl: \"./addnewroute.component.html\",\r\n  styleUrls: [\"./addnewroute.component.scss\"],\r\n  providers: [DialogService, MessageService],\r\n})\r\nexport class AddnewrouteComponent2 implements OnInit {\r\n  @ViewChild(\"table\", { static: false }) table!: Table;\r\n  @ViewChild(\"templatesDropdown\") templatesDropdown: Dropdown;\r\n\r\n  primaryColor = \"var(--primary-color)\";\r\n\r\n  userId = \"\";\r\n  routeID = \"\";\r\n  mode = \"add\";\r\n  formName = \"Bank Routings\";\r\n\r\n  routeCode: any = \"No Data\";\r\n  routeDescription: any = \"\";\r\n\r\n  deactivated: boolean = false;\r\n  statusData: any = [];\r\n\r\n  isBankRoutingLinked: boolean = false;\r\n\r\n  appliedCriteriaCriteriaMap: any = null;\r\n  appliedCriteriaIsDuplicate: any = null;\r\n  objectKeys = Object.keys;\r\n  isEditMode = false;\r\n\r\n  editBankRouteApiData: any = [];\r\n\r\n  criteriaMasterData: any = {};\r\n  criteriaDataDetailsJson: any = {};\r\n  cmCriteriaMandatory = [];\r\n  cmCriteriaDependency: any = {};\r\n  cmCriteriaDataDetails: any = [];\r\n  independantCriteriaArr: any = [];\r\n  cmCriteriaSlabType: any = { Slab: \"LCY Amount\", date: \"Transaction Date\" };\r\n  criteriaTemplatesDdlOptions: any = [];\r\n  criteriaMapDdlOptions = [];\r\n  criteriaEqualsDdlOptions = [];\r\n  correspondentDdlOptions = [];\r\n\r\n  criteriaText: any[] = [];\r\n  criteriaCodeText: any[] = [];\r\n\r\n  savingCriteriaTemplateError = null;\r\n\r\n  inactiveData: boolean = false;\r\n  isApplyCriteriaClicked: boolean = false;\r\n\r\n  applyCriteriaResponse: any[] = [];\r\n  isLcyFieldPresent = false;\r\n  applyCriteriaDataTableColumns: any[] = [];\r\n  columnsCopy: any[] = [\r\n    {\r\n      field: \"routeToBankName\",\r\n      header: \"Route To\",\r\n      isMandatory: true,\r\n      fieldType: \"dropdown\",\r\n      frozen: false,\r\n      info: null,\r\n    },\r\n    {\r\n      field: \"routeToServiceCategory\",\r\n      header: \"Service Category\",\r\n      isMandatory: true,\r\n      fieldType: \"dropdown\",\r\n      frozen: false,\r\n      info: null,\r\n    },\r\n    {\r\n      field: \"routeToServiceType\",\r\n      header: \"Service Type\",\r\n      isMandatory: true,\r\n      fieldType: \"dropdown\",\r\n      frozen: false,\r\n      info: null,\r\n    },\r\n    {\r\n      field: \"isActive\",\r\n      header: \"Status\",\r\n      frozen: false,\r\n      info: null,\r\n    },\r\n  ];\r\n  applyCriteriaFormattedData: any[] = [];\r\n\r\n  routeToBankNameOption: any[] = [];\r\n  routeToServiceCategoryOption: any[] = [];\r\n  routeToServiceTypeOption: any[] = [];\r\n\r\n  appliedCriteriaDatajson: any = {};\r\n  selectAppModule: any;\r\n  searchApplicationOptions: any[] = [];\r\n  searchModuleOptions: any[] = [];\r\n\r\n  formattedMasterData: any = [];\r\n\r\n  appModuleDataPresent: boolean = false;\r\n  showContent: boolean = false;\r\n\r\n  fieldDisplayData = {};\r\n\r\n  setCriteriaName = \"banks\";\r\n\r\n  constructor(\r\n    private bankRoutingService: BankRoutingService,\r\n    private activatedRoute: ActivatedRoute,\r\n    public dialogService: DialogService,\r\n    public messageService: MessageService,\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private coreService: CoreService,\r\n    private setCriteriaService: SetCriteriaService,\r\n    private criteriaDataService: CriteriaDataService,\r\n    private confirmationService: ConfirmationService,\r\n    private fb: UntypedFormBuilder\r\n  ) {}\r\n\r\n  @ViewChild(SetCriteriaComponent)\r\n  setCriteriaSharedComponent!: SetCriteriaComponent;\r\n\r\n  ngOnInit(): void {\r\n    this.coreService.displayLoadingScreen();\r\n    this.mode = \"add\";\r\n    this.route.data.subscribe((data) => {\r\n      this.coreService.setBreadCrumbMenu(Object.values(data));\r\n    });\r\n    this.setSelectAppModule();\r\n    this.userId = JSON.parse(localStorage.getItem(\"userData\"))[\"userId\"];\r\n    const params = this.activatedRoute.snapshot.params;\r\n    if (params && params.id) {\r\n      this.mode = this.activatedRoute.snapshot.routeConfig.path.substring(\r\n        this.activatedRoute.snapshot.routeConfig.path.lastIndexOf(\"/\") + 1\r\n      );\r\n      this.routeID = params.id;\r\n    }\r\n\r\n    //\r\n    this.searchApplicationOptions = JSON.parse(\r\n      localStorage.getItem(\"appAccess\")\r\n    );\r\n    this.searchModuleOptions = JSON.parse(localStorage.getItem(\"modAccess\"));\r\n    let defAppMod = JSON.parse(localStorage.getItem(\"defAppModule\"));\r\n    let currAppMod = JSON.parse(sessionStorage.getItem(\"bankRoute\"));\r\n\r\n    let defApp = null;\r\n    let defMod = null;\r\n\r\n    if (currAppMod) {\r\n      console.log(currAppMod);\r\n      defApp = this.searchApplicationOptions.filter(\r\n        (opt) => opt.code == currAppMod.applicationName.code\r\n      )[0];\r\n      defMod = this.searchModuleOptions.filter(\r\n        (opt) => opt.code == currAppMod.moduleName.code\r\n      )[0];\r\n    } else {\r\n      if (defAppMod) {\r\n        defApp = JSON.parse(localStorage.getItem(\"applicationName\"));\r\n        defMod = JSON.parse(localStorage.getItem(\"moduleName\"));\r\n      }\r\n    }\r\n\r\n    if (defApp) {\r\n      this.appCtrl.patchValue(defApp);\r\n    }\r\n    if (defMod) {\r\n      this.moduleCtrl.patchValue(defMod);\r\n    }\r\n    if (this.appCtrl.value && this.moduleCtrl.value) {\r\n      this.moduleCtrl.enable();\r\n      this.searchAppModule();\r\n      this.appModuleDataPresent = true;\r\n      if (this.mode != \"add\") {\r\n        this.appCtrl.disable();\r\n        this.moduleCtrl.disable();\r\n      }\r\n    } else {\r\n      if (this.mode != \"add\") {\r\n        this.router.navigate([`navbar/bank-routing`]);\r\n      } else {\r\n        this.coreService.removeLoadingScreen();\r\n      }\r\n    }\r\n    //\r\n\r\n    this.statusData = this.bankRoutingService.getData();\r\n    console.log(\"status\", this.statusData);\r\n    if (this.statusData && this.statusData[\"status\"] == \"Inactive\") {\r\n      this.deactivated = true;\r\n    }\r\n  }\r\n\r\n  setSelectAppModule() {\r\n    this.selectAppModule = this.fb.group({\r\n      applications: new UntypedFormControl({ value: \"\", disabled: false }, [\r\n        Validators.required,\r\n      ]),\r\n      modules: new UntypedFormControl({ value: \"\", disabled: true }, [\r\n        Validators.required,\r\n      ]),\r\n    });\r\n  }\r\n\r\n  get appCtrl() {\r\n    return this.selectAppModule.get(\"applications\");\r\n  }\r\n  get moduleCtrl() {\r\n    return this.selectAppModule.get(\"modules\");\r\n  }\r\n\r\n  onAppValueChange() {\r\n    this.showContent = false;\r\n    this.appModuleDataPresent = false;\r\n    this.moduleCtrl.reset();\r\n    this.moduleCtrl.enable();\r\n  }\r\n\r\n  searchAppModule() {\r\n    this.applyCriteriaFormattedData = [];\r\n    this.criteriaText = [];\r\n    this.criteriaCodeText = [];\r\n    this.appModuleDataPresent = true;\r\n    this.showContent = false;\r\n    this.getCriteriaMasterData();\r\n    this.getAllTemplates();\r\n  }\r\n\r\n  getBanksRoutingForEditApi(routeCode: any, operation: any) {\r\n    this.applyCriteriaFormattedData = [];\r\n    this.applyCriteriaDataTableColumns = [];\r\n\r\n    this.applyCriteriaDataTableColumns = JSON.parse(\r\n      JSON.stringify(this.columnsCopy)\r\n    );\r\n\r\n    this.bankRoutingService\r\n      .getBanksRoutingForEdit(\r\n        routeCode,\r\n        operation,\r\n        this.bankRoutingService.applicationName,\r\n        this.bankRoutingService.moduleName,\r\n        this.formName\r\n      )\r\n      .subscribe(\r\n        (res) => {\r\n          this.coreService.removeLoadingScreen();\r\n          if (\r\n            res[\"status\"] &&\r\n            typeof res[\"status\"] == \"string\" &&\r\n            (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n          ) {\r\n            if (res[\"error\"]) {\r\n              this.coreService.showWarningToast(res[\"error\"]);\r\n            } else {\r\n              this.coreService.showWarningToast(\"Some error in fetching data\");\r\n            }\r\n          } else {\r\n            if (res[\"data\"]) {\r\n              this.showContent = true;\r\n              this.editBankRouteApiData = JSON.parse(JSON.stringify(res));\r\n              this.criteriaCodeText =\r\n                this.setCriteriaService.setCriteriaMap(res);\r\n\r\n              this.criteriaText =\r\n                this.setCriteriaService.decodeFormattedCriteria(\r\n                  this.criteriaCodeText,\r\n                  this.criteriaMasterData,\r\n                  this.fieldDisplayData\r\n                );\r\n\r\n              this.routeCode = res[\"routeCode\"];\r\n              if (res[\"routeDesc\"]) {\r\n                this.routeDescription = res[\"routeDesc\"];\r\n              }\r\n              this.isBankRoutingLinked = !res[\"criteriaUpdate\"];\r\n              this.appliedCriteriaCriteriaMap = res[\"criteriaMap\"];\r\n\r\n              this.routeToBankNameOption = res[\"routeToBankNameOption\"].map(\r\n                (option) => {\r\n                  return { code: option.code, codeName: option.codeName };\r\n                }\r\n              );\r\n              this.routeToServiceCategoryOption = res[\r\n                \"routeToServiceCategoryOption\"\r\n              ].map((option) => {\r\n                return { code: option.code, codeName: option.codeName };\r\n              });\r\n              this.routeToServiceTypeOption = res[\r\n                \"routeToServiceTypeOption\"\r\n              ].map((option) => {\r\n                return { code: option.code, codeName: option.codeName };\r\n              });\r\n\r\n              let amtSlabPresent = false;\r\n              let dateSlabPresent = false;\r\n\r\n              if (res[\"criteriaMap\"].indexOf(\"from:\") >= 0) {\r\n                amtSlabPresent = true;\r\n              }\r\n\r\n              if (res[\"criteriaMap\"].indexOf(\"trnStartDate=\") >= 0) {\r\n                dateSlabPresent = true;\r\n              }\r\n\r\n              if (amtSlabPresent && dateSlabPresent) {\r\n                this.applyCriteriaDataTableColumns.splice(-4, 0, {\r\n                  field: \"dateFrom\",\r\n                  header: \"Date From\",\r\n                  fieldType: \"text\",\r\n                });\r\n                this.applyCriteriaDataTableColumns.splice(-4, 0, {\r\n                  field: \"dateTo\",\r\n                  header: \"Date To\",\r\n                  fieldType: \"text\",\r\n                });\r\n                this.applyCriteriaDataTableColumns.splice(-4, 0, {\r\n                  field: \"lcyAmountFrom\",\r\n                  header: \"Amount From\",\r\n                  fieldType: \"text\",\r\n                });\r\n                this.applyCriteriaDataTableColumns.splice(-4, 0, {\r\n                  field: \"lcyAmountTo\",\r\n                  header: \"Amount To\",\r\n                  fieldType: \"text\",\r\n                });\r\n\r\n                this.applyCriteriaFormattedData = [];\r\n              } else {\r\n                if (amtSlabPresent) {\r\n                  this.applyCriteriaDataTableColumns.splice(-4, 0, {\r\n                    field: \"lcyAmountFrom\",\r\n                    header: \"Amount From\",\r\n                    fieldType: \"text\",\r\n                  });\r\n                  this.applyCriteriaDataTableColumns.splice(-4, 0, {\r\n                    field: \"lcyAmountTo\",\r\n                    header: \"Amount To\",\r\n                    fieldType: \"text\",\r\n                  });\r\n                  this.applyCriteriaFormattedData = [];\r\n                } else if (dateSlabPresent) {\r\n                  this.applyCriteriaDataTableColumns.splice(-4, 0, {\r\n                    field: \"dateFrom\",\r\n                    header: \"Date From\",\r\n                    fieldType: \"text\",\r\n                  });\r\n                  this.applyCriteriaDataTableColumns.splice(-4, 0, {\r\n                    field: \"dateTo\",\r\n                    header: \"Date To\",\r\n                    fieldType: \"text\",\r\n                  });\r\n                  this.applyCriteriaFormattedData = [];\r\n                } else if (!amtSlabPresent && !dateSlabPresent) {\r\n                  this.applyCriteriaFormattedData = [];\r\n                }\r\n              }\r\n              this.applyCriteriaFormattedData = res[\"data\"];\r\n              this.applyCriteriaFormattedData.forEach((data) => {\r\n                let mapSplit = data[\"criteriaMapSplit\"];\r\n\r\n                let criteriaMapFirstSplit = null;\r\n                let criteriaMapSecSplit = null;\r\n                let criteriaMapThirdSplit = null;\r\n\r\n                if (mapSplit && mapSplit.includes(\"&&&&\")) {\r\n                  if (mapSplit.split(\"&&&&\").length == 3) {\r\n                    criteriaMapFirstSplit = mapSplit.split(\"&&&&\")[0];\r\n                    criteriaMapSecSplit = mapSplit.split(\"&&&&\")[1];\r\n                    criteriaMapThirdSplit = mapSplit.split(\"&&&&\")[2];\r\n\r\n                    if (criteriaMapSecSplit.includes(\"from:\")) {\r\n                      data[\"lcyAmountFrom\"] = criteriaMapSecSplit\r\n                        .split(\"::\")[0]\r\n                        .split(\":\")[1];\r\n                      data[\"lcyAmountTo\"] = criteriaMapSecSplit\r\n                        .split(\"::\")[1]\r\n                        .split(\":\")[1];\r\n                    }\r\n\r\n                    if (criteriaMapThirdSplit.includes(\"trnStartDate=\")) {\r\n                      data[\"dateFrom\"] = criteriaMapThirdSplit\r\n                        .split(\"::\")[0]\r\n                        .split(\"=\")[1];\r\n                      data[\"dateTo\"] = criteriaMapThirdSplit\r\n                        .split(\"::\")[1]\r\n                        .split(\"=\")[1];\r\n                    }\r\n                  } else if (mapSplit.split(\"&&&&\").length == 2) {\r\n                    criteriaMapFirstSplit = mapSplit.split(\"&&&&\")[0];\r\n                    criteriaMapSecSplit = mapSplit.split(\"&&&&\")[1];\r\n\r\n                    if (criteriaMapSecSplit.includes(\"from:\")) {\r\n                      data[\"lcyAmountFrom\"] = criteriaMapSecSplit\r\n                        .split(\"::\")[0]\r\n                        .split(\":\")[1];\r\n                      data[\"lcyAmountTo\"] = criteriaMapSecSplit\r\n                        .split(\"::\")[1]\r\n                        .split(\":\")[1];\r\n                    } else if (criteriaMapSecSplit.includes(\"trnStartDate=\")) {\r\n                      data[\"dateFrom\"] = criteriaMapSecSplit\r\n                        .split(\"::\")[0]\r\n                        .split(\"=\")[1];\r\n                      data[\"dateTo\"] = criteriaMapSecSplit\r\n                        .split(\"::\")[1]\r\n                        .split(\"=\")[1];\r\n                    }\r\n                  }\r\n                } else {\r\n                }\r\n              });\r\n\r\n              // % old-\r\n\r\n              // if (res[\"criteriaMap\"].indexOf(\"&&&&\") >= 0) {\r\n              //   this.isLcyFieldPresent = true;\r\n              // }\r\n\r\n              // if (!this.isLcyFieldPresent) {\r\n              //   this.applyCriteriaFormattedData = res[\"data\"];\r\n              // } else {\r\n              //   if (res[\"criteriaMap\"].indexOf(\"LCY Amount\") >= 0) {\r\n              //     this.applyCriteriaDataTableColumns.splice(-4, 0, {\r\n              //       field: \"lcyAmount\",\r\n              //       header: \"LCY Amount\",\r\n              //       fieldType: \"text\",\r\n              //     });\r\n              //     this.applyCriteriaFormattedData = res[\"data\"];\r\n\r\n              //     this.applyCriteriaFormattedData.forEach((data) => {\r\n              //       let split = data[\"criteriaMapSplit\"];\r\n              //       if (split) {\r\n              //         data[\"lcyAmount\"] = split.includes(\"&&&&\")\r\n              //           ? split.split(\"&&&&\").pop()\r\n              //           : split;\r\n              //         data[\"criteriaMapSplit\"] = split.includes(\"&&&&\")\r\n              //           ? split.split(\"&&&&\").pop()\r\n              //           : split;\r\n              //       }\r\n              //     });\r\n              //   } else if (res[\"criteriaMap\"].indexOf(\"from\") >= 0) {\r\n              //     this.applyCriteriaDataTableColumns.splice(-4, 0, {\r\n              //       field: \"lcyAmountFrom\",\r\n              //       header: \"Amount From\",\r\n              //       fieldType: \"text\",\r\n              //     });\r\n              //     this.applyCriteriaDataTableColumns.splice(-4, 0, {\r\n              //       field: \"lcyAmountTo\",\r\n              //       header: \"Amount To\",\r\n              //       fieldType: \"text\",\r\n              //     });\r\n              //     this.applyCriteriaFormattedData = res[\"data\"];\r\n              //     this.applyCriteriaFormattedData.forEach((data) => {\r\n              //       let split = data[\"criteriaMapSplit\"];\r\n              //       if (split) {\r\n              //         data[\"lcyAmountFrom\"] = split?.includes(\"&&&&\")\r\n              //           ? split.split(\"&&&&\").pop().split(\"::\")[0].split(\":\")[1]\r\n              //           : split?.split(\"::\")[0]?.split(\":\")[1];\r\n              //         data[\"lcyAmountTo\"] = split?.includes(\"&&&&\")\r\n              //           ? split.split(\"&&&&\").pop().split(\"::\")[1].split(\":\")[1]\r\n              //           : split?.split(\"::\")[1]?.split(\":\")[1];\r\n              //         data[\"criteriaMapSplit\"] = split?.includes(\"&&&&\")\r\n              //           ? split.split(\"&&&&\").pop()\r\n              //           : split;\r\n              //       }\r\n              //     });\r\n              //   }\r\n              // }\r\n\r\n              this.applyCriteriaFormattedData.forEach((data) => {\r\n                delete data.id;\r\n                data[\"routeToBankNameOption\"] = this.routeToBankNameOption;\r\n                data[\"routeToServiceCategoryOption\"] =\r\n                  this.routeToServiceCategoryOption;\r\n                data[\"routeToServiceTypeOption\"] =\r\n                  this.routeToServiceTypeOption;\r\n                data[\"status\"] = \"Active\";\r\n              });\r\n\r\n              this.coreService.showSuccessToast(\r\n                `Bank Routing data fetched Successfully`\r\n              );\r\n              this.coreService.removeLoadingScreen();\r\n            } else {\r\n              this.applyCriteriaFormattedData = [];\r\n              this.appliedCriteriaCriteriaMap = null;\r\n              this.appliedCriteriaIsDuplicate = null;\r\n              this.applyCriteriaDataTableColumns = [];\r\n              if (res && res[\"msg\"]) {\r\n                this.coreService.showWarningToast(res[\"msg\"]);\r\n              } else {\r\n                this.coreService.showWarningToast(\r\n                  \"No active data found for this Bank Routing.\"\r\n                );\r\n              }\r\n              this.coreService.removeLoadingScreen();\r\n            }\r\n          }\r\n        },\r\n        (err) => {\r\n          this.showContent = false;\r\n          this.coreService.removeLoadingScreen();\r\n          console.log(\"Error in getBanksRoutingForEditApi\", err);\r\n          this.coreService.showWarningToast(\r\n            \"Something went wrong, Please try again later\"\r\n          );\r\n        }\r\n      );\r\n  }\r\n\r\n  onActive(data: any) {\r\n    this.confirmBankEditStatus();\r\n  }\r\n  confirmBankEditStatus() {\r\n    let type = \"\";\r\n    let reqStatus = \"\";\r\n    if (this.deactivated == true) {\r\n      reqStatus = \"Active\";\r\n      type = \"activate\";\r\n    } else {\r\n      reqStatus = \"Inactive\";\r\n      type = \"deactivate\";\r\n    }\r\n    this.coreService.setSidebarBtnFixedStyle(false);\r\n    this.coreService.setHeaderStickyStyle(false);\r\n    let completeMsg = \"\";\r\n    completeMsg =\r\n      `<img src=\"../../../assets/warning.svg\"><br/><br/>` +\r\n      `Do you wish to ` +\r\n      type +\r\n      ` the Bank Route Record: ${this.routeCode}?`;\r\n\r\n    this.confirmationService.confirm({\r\n      message: completeMsg,\r\n      key: \"activeDeactiveStatusBank\",\r\n      accept: () => {\r\n        this.updateStatus(reqStatus);\r\n        this.setHeaderSidebarBtn();\r\n      },\r\n      reject: () => {\r\n        this.confirmationService.close;\r\n        this.setHeaderSidebarBtn();\r\n      },\r\n    });\r\n  }\r\n  updateStatus(reqStatus: any) {\r\n    this.coreService.displayLoadingScreen();\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"userId\", this.userId);\r\n    formData.append(\"routeCode\", this.routeCode);\r\n    formData.append(\"status\", reqStatus);\r\n    formData.append(\"applications\", this.appCtrl.value.code);\r\n    formData.append(\"moduleName\", this.moduleCtrl.value.code);\r\n    formData.append(\"form\", this.formName);\r\n    this.updateBankRouteStatus(formData);\r\n  }\r\n\r\n  updateBankRouteStatus(formData: any) {\r\n    this.bankRoutingService.updateBankRouteStatus(formData).subscribe(\r\n      (res) => {\r\n        if (\r\n          res[\"status\"] &&\r\n          typeof res[\"status\"] == \"string\" &&\r\n          (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n        ) {\r\n          if (res[\"error\"]) {\r\n            this.coreService.showWarningToast(res[\"error\"]);\r\n          } else {\r\n            this.coreService.showWarningToast(\"Some error in fetching data\");\r\n          }\r\n        } else {\r\n          let message = \"\";\r\n          if (res[\"error\"] == \"true\") {\r\n            this.coreService.removeLoadingScreen();\r\n            this.coreService.showWarningToast(message);\r\n          } else {\r\n            if (res[\"msg\"]) {\r\n              message = res[\"msg\"];\r\n              this.deactivated = !this.deactivated;\r\n              this.coreService.showSuccessToast(message);\r\n            } else {\r\n              this.coreService.removeLoadingScreen();\r\n              message = \"Error in fetching data, Please try again later\";\r\n              this.coreService.showWarningToast(message);\r\n            }\r\n          }\r\n        }\r\n      },\r\n      (err) => {\r\n        console.log(\"Error in updateBankRouteStatus\", err);\r\n        this.coreService.removeLoadingScreen();\r\n      }\r\n    );\r\n  }\r\n\r\n  getCriteriaMasterData() {\r\n    if (this.mode == \"add\") {\r\n      this.coreService.displayLoadingScreen();\r\n    }\r\n    forkJoin({\r\n      criteriaMasterData: this.bankRoutingService.getCriteriaMasterData(\r\n        this.userId,\r\n        this.formName,\r\n        this.appCtrl.value.code,\r\n        this.moduleCtrl.value.code\r\n      ),\r\n      addBankRouteCriteriaData:\r\n        this.bankRoutingService.getAddBankRouteCriteriaData(\r\n          this.appCtrl.value.code,\r\n          this.moduleCtrl.value.code,\r\n          this.formName\r\n        ),\r\n    })\r\n      .pipe(\r\n        take(1),\r\n        map((response) => {\r\n          if (\r\n            response.addBankRouteCriteriaData[\"data\"] &&\r\n            Object.keys(response.addBankRouteCriteriaData[\"data\"]).length == 0\r\n          ) {\r\n            return {\r\n              msg: \"No Criteria Found for Selected Application & Module.\",\r\n            };\r\n          } else {\r\n            this.formatMasterData(response.criteriaMasterData);\r\n            let criteriaMasterJson = _lodashClone(response.criteriaMasterData);\r\n            delete criteriaMasterJson[\"fieldDisplay\"];\r\n            this.fieldDisplayData = response.criteriaMasterData[\"fieldDisplay\"];\r\n            const criteriaMasterData = criteriaMasterJson;\r\n            this.criteriaDataDetailsJson = response.addBankRouteCriteriaData;\r\n            this.criteriaDataDetailsJson.data.listCriteria.cmCriteriaDataDetails.forEach(\r\n              (data) => {\r\n                if (data[\"criteriaType\"] == \"Slab\") {\r\n                  this.cmCriteriaSlabType[\"Slab\"] = data[\"fieldName\"];\r\n                }\r\n                if (data[\"criteriaType\"] == \"date\") {\r\n                  this.cmCriteriaSlabType[\"date\"] = data[\"fieldName\"];\r\n                }\r\n              }\r\n            );\r\n\r\n            if (this.mode == \"add\") {\r\n              this.routeCode = this.criteriaDataDetailsJson.data.routeCode;\r\n              this.routeID = this.routeCode;\r\n              this.routeDescription =\r\n                this.criteriaDataDetailsJson.data.routeDesc;\r\n            }\r\n\r\n            this.cmCriteriaDataDetails = [\r\n              ...this.criteriaDataDetailsJson.data.listCriteria\r\n                .cmCriteriaDataDetails,\r\n            ];\r\n\r\n            this.cmCriteriaMandatory =\r\n              this.criteriaDataDetailsJson.data.mandatory\r\n                .replace(/[\"|\\[|\\]]/g, \"\")\r\n                .split(\", \");\r\n\r\n            this.cmCriteriaDependency =\r\n              this.criteriaDataDetailsJson.data.dependance;\r\n\r\n            let criteriaDependencyTreeData =\r\n              this.criteriaDataService.setDependencyTree(\r\n                this.criteriaDataDetailsJson,\r\n                this.cmCriteriaDataDetails,\r\n                criteriaMasterData,\r\n                this.cmCriteriaMandatory,\r\n                this.cmCriteriaDependency,\r\n                this.cmCriteriaSlabType\r\n              );\r\n\r\n            this.criteriaMapDdlOptions =\r\n              criteriaDependencyTreeData[\"criteriaMapDdlOptions\"];\r\n            this.independantCriteriaArr =\r\n              criteriaDependencyTreeData[\"independantCriteriaArr\"];\r\n            return criteriaMasterData;\r\n          }\r\n        })\r\n      )\r\n      .subscribe(\r\n        (res) => {\r\n          if (!res[\"msg\"]) {\r\n            if (\r\n              res[\"status\"] &&\r\n              typeof res[\"status\"] == \"string\" &&\r\n              (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n            ) {\r\n              if (res[\"error\"]) {\r\n                this.coreService.showWarningToast(res[\"error\"]);\r\n              } else {\r\n                this.coreService.showWarningToast(\r\n                  \"Some error in fetching data\"\r\n                );\r\n              }\r\n            } else {\r\n              this.criteriaMasterData = res;\r\n              if (this.mode == \"edit\") {\r\n                if (\r\n                  !(\r\n                    this.bankRoutingService.applicationName ||\r\n                    this.bankRoutingService.moduleName\r\n                  )\r\n                ) {\r\n                  this.appModuleDataPresent = false;\r\n                  this.showContent = false;\r\n                  this.router.navigate([`navbar/bank-routing`]);\r\n                } else {\r\n                  this.getBanksRoutingForEditApi(this.routeID, \"edit\");\r\n                }\r\n              } else if (this.mode == \"clone\") {\r\n                if (\r\n                  !(\r\n                    this.bankRoutingService.applicationName ||\r\n                    this.bankRoutingService.moduleName\r\n                  )\r\n                ) {\r\n                  this.appModuleDataPresent = false;\r\n                  this.showContent = false;\r\n                  this.router.navigate([`navbar/bank-routing`]);\r\n                } else {\r\n                  this.getBanksRoutingForEditApi(this.routeID, \"clone\");\r\n                }\r\n              } else {\r\n                this.showContent = true;\r\n                this.coreService.removeLoadingScreen();\r\n              }\r\n            }\r\n          } else if (res[\"msg\"]) {\r\n            this.coreService.showWarningToast(res[\"msg\"]);\r\n            this.coreService.removeLoadingScreen();\r\n            return;\r\n          }\r\n        },\r\n        (err) => {\r\n          this.showContent = false;\r\n          this.coreService.removeLoadingScreen();\r\n          console.log(\"Error in Initiating dropdown values\", err);\r\n          this.coreService.showWarningToast(\"Some error in fetching data\");\r\n        }\r\n      );\r\n  }\r\n\r\n  formatMasterData(masterData: any) {\r\n    const formattedMasterData = [].concat.apply([], Object.values(masterData));\r\n    this.formattedMasterData = formattedMasterData;\r\n  }\r\n\r\n  getCorrespondentValues(\r\n    fieldName: any,\r\n    displayName: any,\r\n    criteriaCodeText: any\r\n  ) {\r\n    let criteriaMapValue = criteriaCodeText.join(\";\");\r\n\r\n    this.coreService.displayLoadingScreen();\r\n    this.bankRoutingService\r\n      .getCorrespondentValuesData(\r\n        this.formName,\r\n        this.appCtrl.value.code,\r\n        criteriaMapValue,\r\n        fieldName,\r\n        displayName,\r\n        this.moduleCtrl.value.code\r\n      )\r\n      .subscribe(\r\n        (res) => {\r\n          this.coreService.removeLoadingScreen();\r\n          if (\r\n            res[\"status\"] &&\r\n            typeof res[\"status\"] == \"string\" &&\r\n            (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n          ) {\r\n            if (res[\"error\"]) {\r\n              this.coreService.showWarningToast(res[\"error\"]);\r\n            } else {\r\n              this.coreService.showWarningToast(\"Some error in fetching data\");\r\n            }\r\n          } else {\r\n            if (res[fieldName]) {\r\n              this.setCriteriaSharedComponent.valueCtrl.enable();\r\n              this.setCriteriaSharedComponent.hideValuesDropdown = false;\r\n              this.setCriteriaSharedComponent.showValueInput = false;\r\n\r\n              this.correspondentDdlOptions = res[fieldName].map((val) => {\r\n                return { name: val[\"codeName\"], code: val[\"code\"] };\r\n              });\r\n            } else {\r\n              if (res[\"message\"]) {\r\n                this.coreService.showWarningToast(res[\"message\"]);\r\n                this.resetCriteriaDropdowns();\r\n              } else {\r\n                this.coreService.showWarningToast(\"Criteria Map is not proper\");\r\n                this.resetCriteriaDropdowns();\r\n              }\r\n            }\r\n          }\r\n        },\r\n        (err) => {\r\n          this.coreService.removeLoadingScreen();\r\n          console.log(\"Error in getting values\", err);\r\n          this.resetCriteriaDropdowns();\r\n          this.coreService.showWarningToast(\"Some error in fetching data\");\r\n        }\r\n      );\r\n  }\r\n\r\n  resetCriteriaDropdowns() {\r\n    this.setCriteriaSharedComponent.resetCriteriaDropdowns();\r\n  }\r\n\r\n  applyCriteria(postDataCriteria: FormData) {\r\n    postDataCriteria.append(\"routeCode\", this.routeID);\r\n    postDataCriteria.append(\"operation\", this.mode);\r\n    postDataCriteria.append(\"applications\", this.appCtrl.value.code);\r\n    postDataCriteria.append(\"form\", this.formName);\r\n    postDataCriteria.append(\"moduleName\", this.moduleCtrl.value.code);\r\n    this.isApplyCriteriaClicked = true;\r\n    if (this.isBankRoutingLinked && this.mode != \"clone\") {\r\n      this.coreService.setSidebarBtnFixedStyle(false);\r\n      this.coreService.setHeaderStickyStyle(false);\r\n      this.confirmationService.confirm({\r\n        message: `You can not edit the current criteria, as it is already used in transaction.<br/> Kindly disable the current record and add new.`,\r\n        key: \"bankRoutingLinkedWarning\",\r\n        accept: () => {\r\n          this.coreService.displayLoadingScreen();\r\n          setTimeout(() => {\r\n            this.coreService.setHeaderStickyStyle(true);\r\n            this.coreService.setSidebarBtnFixedStyle(true);\r\n          }, 500);\r\n          setTimeout(() => {\r\n            this.coreService.removeLoadingScreen();\r\n          }, 1000);\r\n        },\r\n      });\r\n    } else {\r\n      this.routeBankCriteriaSearchApi(postDataCriteria);\r\n    }\r\n  }\r\n\r\n  routeBankCriteriaSearchApi(formData: any) {\r\n    this.applyCriteriaFormattedData = [];\r\n    this.applyCriteriaDataTableColumns = [];\r\n    this.coreService.displayLoadingScreen();\r\n\r\n    this.applyCriteriaDataTableColumns = JSON.parse(\r\n      JSON.stringify(this.columnsCopy)\r\n    );\r\n\r\n    this.bankRoutingService.postRouteBankCriteriaSearch(formData).subscribe(\r\n      (res) => {\r\n        if (\r\n          res[\"status\"] &&\r\n          typeof res[\"status\"] == \"string\" &&\r\n          (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n        ) {\r\n          this.coreService.removeLoadingScreen();\r\n          if (res[\"error\"]) {\r\n            this.coreService.showWarningToast(res[\"error\"]);\r\n          } else {\r\n            this.coreService.showWarningToast(\"Some error in fetching data\");\r\n          }\r\n        } else {\r\n          this.coreService.removeLoadingScreen();\r\n          if (res[\"msg\"] && res[\"msg\"] == \"No search criteria available.\") {\r\n            this.applyCriteriaFormattedData = [];\r\n            this.appliedCriteriaCriteriaMap = null;\r\n            this.appliedCriteriaIsDuplicate = null;\r\n            this.applyCriteriaDataTableColumns = [];\r\n            this.coreService.showWarningToast(res[\"msg\"]);\r\n            return;\r\n          }\r\n          if (!res[\"duplicate\"]) {\r\n            this.applyCriteriaResponse = JSON.parse(JSON.stringify(res));\r\n            this.appliedCriteriaCriteriaMap = res[\"criteriaMap\"];\r\n            this.appliedCriteriaIsDuplicate = res[\"duplicate\"];\r\n            let reqData =\r\n              this.criteriaDataService.decodeCriteriaMapIntoTableFields(res);\r\n\r\n            let crtfields = this.setCriteriaService.decodeFormattedCriteria(\r\n              reqData.critMap,\r\n              this.criteriaMasterData,\r\n              this.fieldDisplayData\r\n            );\r\n\r\n            this.routeToBankNameOption = res[\"data\"][\r\n              \"routeToBankNameOption\"\r\n            ].map((option) => {\r\n              return { code: option.code, codeName: option.codeName };\r\n            });\r\n            this.routeToServiceCategoryOption = res[\"data\"][\r\n              \"routeToServiceCategoryOption\"\r\n            ].map((option) => {\r\n              return { code: option.code, codeName: option.codeName };\r\n            });\r\n            this.routeToServiceTypeOption = res[\"data\"][\r\n              \"routeToServiceTypeOption\"\r\n            ].map((option) => {\r\n              return { code: option.code, codeName: option.codeName };\r\n            });\r\n\r\n            let amtSlabPresent = false;\r\n            let dateSlabPresent = false;\r\n\r\n            let baseCriteriaMap = res[\"criteriaMap\"].split(\"&&&&\")[0];\r\n\r\n            if (res[\"criteriaMap\"].indexOf(\"from:\") >= 0) {\r\n              amtSlabPresent = true;\r\n            }\r\n\r\n            if (res[\"criteriaMap\"].indexOf(\"trnStartDate=\") >= 0) {\r\n              dateSlabPresent = true;\r\n            }\r\n\r\n            if (amtSlabPresent && dateSlabPresent) {\r\n              this.applyCriteriaDataTableColumns.splice(-4, 0, {\r\n                field: \"dateFrom\",\r\n                header: \"Date From\",\r\n                fieldType: \"text\",\r\n              });\r\n              this.applyCriteriaDataTableColumns.splice(-4, 0, {\r\n                field: \"dateTo\",\r\n                header: \"Date To\",\r\n                fieldType: \"text\",\r\n              });\r\n              this.applyCriteriaDataTableColumns.splice(-4, 0, {\r\n                field: \"lcyAmountFrom\",\r\n                header: \"Amount From\",\r\n                fieldType: \"text\",\r\n              });\r\n              this.applyCriteriaDataTableColumns.splice(-4, 0, {\r\n                field: \"lcyAmountTo\",\r\n                header: \"Amount To\",\r\n                fieldType: \"text\",\r\n              });\r\n\r\n              this.applyCriteriaFormattedData = [];\r\n\r\n              let dateSlabFields = reqData.dateSlabArr;\r\n              let lcySlabFields = reqData.lcySlabArr;\r\n\r\n              dateSlabFields.forEach((fieldDate) => {\r\n                console.log(lcySlabFields);\r\n                lcySlabFields.forEach((fieldAmt) => {\r\n                  let apiData = JSON.parse(\r\n                    JSON.stringify(res[\"data\"].bankRoutingsCriteriaDetails)\r\n                  );\r\n                  console.log(fieldAmt);\r\n                  apiData[\"dateFrom\"] = fieldDate.trnStartDate;\r\n                  apiData[\"dateTo\"] = fieldDate.trnEndDate;\r\n                  apiData[\"lcyAmountFrom\"] = fieldAmt.from;\r\n                  apiData[\"lcyAmountTo\"] = fieldAmt.to;\r\n\r\n                  apiData[\r\n                    \"criteriaMapSplit\"\r\n                  ] = `${baseCriteriaMap}&&&&from:${fieldAmt[\"from\"]}::to:${fieldAmt[\"to\"]}&&&&trnStartDate=${fieldDate[\"trnStartDate\"]}::trnEndDate=${fieldDate[\"trnEndDate\"]}`;\r\n                  this.applyCriteriaFormattedData.push(apiData);\r\n                });\r\n              });\r\n            } else {\r\n              if (amtSlabPresent) {\r\n                let lcySlabFields = reqData.lcySlabArr;\r\n                this.applyCriteriaDataTableColumns.splice(-4, 0, {\r\n                  field: \"lcyAmountFrom\",\r\n                  header: \"Amount From\",\r\n                  fieldType: \"text\",\r\n                });\r\n                this.applyCriteriaDataTableColumns.splice(-4, 0, {\r\n                  field: \"lcyAmountTo\",\r\n                  header: \"Amount To\",\r\n                  fieldType: \"text\",\r\n                });\r\n                this.applyCriteriaFormattedData = [];\r\n                lcySlabFields.forEach((field) => {\r\n                  let apiData = JSON.parse(\r\n                    JSON.stringify(res[\"data\"].bankRoutingsCriteriaDetails)\r\n                  );\r\n                  apiData[\"lcyAmountFrom\"] = field.from;\r\n                  apiData[\"lcyAmountTo\"] = field.to;\r\n                  apiData[\r\n                    \"criteriaMapSplit\"\r\n                  ] = `${baseCriteriaMap}&&&&from:${field[\"from\"]}::to:${field[\"to\"]}`;\r\n                  this.applyCriteriaFormattedData.push(apiData);\r\n                });\r\n              } else if (dateSlabPresent) {\r\n                let dateSlabFields = reqData.dateSlabArr;\r\n                this.applyCriteriaDataTableColumns.splice(-4, 0, {\r\n                  field: \"dateFrom\",\r\n                  header: \"Date From\",\r\n                  fieldType: \"text\",\r\n                });\r\n                this.applyCriteriaDataTableColumns.splice(-4, 0, {\r\n                  field: \"dateTo\",\r\n                  header: \"Date To\",\r\n                  fieldType: \"text\",\r\n                });\r\n                this.applyCriteriaFormattedData = [];\r\n                dateSlabFields.forEach((field) => {\r\n                  let apiData = JSON.parse(\r\n                    JSON.stringify(res[\"data\"].bankRoutingsCriteriaDetails)\r\n                  );\r\n                  apiData[\"dateFrom\"] = field.trnStartDate;\r\n                  apiData[\"dateTo\"] = field.trnEndDate;\r\n                  apiData[\r\n                    \"criteriaMapSplit\"\r\n                  ] = `${baseCriteriaMap}&&&&trnStartDate=${field[\"trnStartDate\"]}::trnEndDate=${field[\"trnEndDate\"]}`;\r\n                  this.applyCriteriaFormattedData.push(apiData);\r\n                });\r\n              } else if (!amtSlabPresent && !dateSlabPresent) {\r\n                this.applyCriteriaFormattedData = [\r\n                  res[\"data\"].bankRoutingsCriteriaDetails,\r\n                ];\r\n                this.applyCriteriaFormattedData.forEach((data) => {\r\n                  data[\"criteriaMapSplit\"] = baseCriteriaMap;\r\n                });\r\n              }\r\n            }\r\n\r\n            // % old-\r\n\r\n            // if (res[\"criteriaMap\"].indexOf(\"&&&&\") >= 0) {\r\n            //   this.isLcyFieldPresent = true;\r\n            // } else {\r\n            //   this.isLcyFieldPresent = false;\r\n            // }\r\n\r\n            // if (!this.isLcyFieldPresent) {\r\n            //   this.applyCriteriaFormattedData = [\r\n            //     resData?.bankRoutingsCriteriaDetails,\r\n            //   ];\r\n            //   this.applyCriteriaFormattedData.forEach((data) => {\r\n            //     data[\"criteriaMapSplit\"] = null;\r\n            //   });\r\n            // } else {\r\n            //   if (res[\"criteriaMap\"].indexOf(\"LCY Amount\") >= 0) {\r\n            //     let lcyOprFields = crtfields.filter((crt) => {\r\n            //       return crt.includes(\"LCY Amount\");\r\n            //     });\r\n            //     this.applyCriteriaDataTableColumns.splice(-4, 0, {\r\n            //       field: \"lcyAmount\",\r\n            //       header: \"LCY Amount\",\r\n            //       fieldType: \"text\",\r\n            //     });\r\n            //     this.applyCriteriaFormattedData = [];\r\n            //     lcyOprFields.forEach((field) => {\r\n            //       let apiData = JSON.parse(\r\n            //         JSON.stringify(resData?.bankRoutingsCriteriaDetails)\r\n            //       );\r\n            //       apiData[\"lcyAmount\"] = field;\r\n            //       apiData[\"criteriaMapSplit\"] = field;\r\n            //       this.applyCriteriaFormattedData.push(apiData);\r\n            //     });\r\n            //   } else if (res[\"criteriaMap\"].indexOf(\"from\") >= 0) {\r\n            //     let lcySlabFields = reqData.lcySlabArr;\r\n            //     this.applyCriteriaDataTableColumns.splice(-4, 0, {\r\n            //       field: \"lcyAmountFrom\",\r\n            //       header: \"Amount From\",\r\n            //       fieldType: \"text\",\r\n            //     });\r\n            //     this.applyCriteriaDataTableColumns.splice(-4, 0, {\r\n            //       field: \"lcyAmountTo\",\r\n            //       header: \"Amount To\",\r\n            //       fieldType: \"text\",\r\n            //     });\r\n            //     this.applyCriteriaFormattedData = [];\r\n            //     lcySlabFields.forEach((field) => {\r\n            //       let apiData = JSON.parse(\r\n            //         JSON.stringify(resData?.bankRoutingsCriteriaDetails)\r\n            //       );\r\n            //       apiData[\"lcyAmountFrom\"] = field.from;\r\n            //       apiData[\"lcyAmountTo\"] = field.to;\r\n            //       apiData[\r\n            //         \"criteriaMapSplit\"\r\n            //       ] = `from:${field[\"from\"]}::to:${field[\"to\"]}`;\r\n            //       this.applyCriteriaFormattedData.push(apiData);\r\n            //     });\r\n            //   }\r\n            // }\r\n\r\n            this.applyCriteriaFormattedData.forEach((data) => {\r\n              delete data.id;\r\n              data[\"routeToBankNameOption\"] = this.routeToBankNameOption;\r\n              data[\"routeToServiceCategoryOption\"] =\r\n                this.routeToServiceCategoryOption;\r\n              data[\"routeToServiceTypeOption\"] = this.routeToServiceTypeOption;\r\n              data[\"criteriaMap\"] = this.appliedCriteriaCriteriaMap;\r\n              data[\"status\"] = \"Active\";\r\n              data[\"userId\"] = this.userId;\r\n              data[\"routeCode\"] = this.routeCode;\r\n            });\r\n\r\n            this.coreService.showSuccessToast(`Criteria Applied Successfully`);\r\n          } else {\r\n            this.applyCriteriaFormattedData = [];\r\n            this.appliedCriteriaCriteriaMap = null;\r\n            this.appliedCriteriaIsDuplicate = null;\r\n            this.applyCriteriaDataTableColumns = [];\r\n            this.coreService.showWarningToast(\r\n              \"Applied criteria already exists.\"\r\n            );\r\n          }\r\n        }\r\n      },\r\n      (err) => {\r\n        this.coreService.removeLoadingScreen();\r\n        console.log(\"error in BankCriteriaSearchApi\", err);\r\n        this.coreService.showWarningToast(\"Some error in fetching data\");\r\n      }\r\n    );\r\n  }\r\n\r\n  saveCriteriaAsTemplate(templateFormData: any) {\r\n    templateFormData.append(\"applications\", this.appCtrl.value.code);\r\n    templateFormData.append(\"form\", this.formName);\r\n    templateFormData.append(\"moduleName\", this.moduleCtrl.value.code);\r\n    this.coreService.displayLoadingScreen();\r\n    this.bankRoutingService\r\n      .currentCriteriaSaveAsTemplate(templateFormData)\r\n      .subscribe(\r\n        (res) => {\r\n          this.coreService.removeLoadingScreen();\r\n          if (\r\n            res[\"status\"] &&\r\n            typeof res[\"status\"] == \"string\" &&\r\n            (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n          ) {\r\n            if (res[\"error\"]) {\r\n              this.coreService.showWarningToast(res[\"error\"]);\r\n            } else {\r\n              this.coreService.showWarningToast(\"Some error in fetching data\");\r\n            }\r\n          } else {\r\n            if (res.msg == \"Criteria Template already exists.\") {\r\n              // this.savingCriteriaTemplateError =\r\n              //   \"Criteria Template already exists.\";\r\n              this.savingCriteriaTemplateError = true;\r\n              console.log(this.savingCriteriaTemplateError);\r\n            } else {\r\n              this.savingCriteriaTemplateError = false;\r\n              this.setCriteriaSharedComponent.selectedTemplate =\r\n                this.setCriteriaSharedComponent.criteriaName;\r\n              this.coreService.showSuccessToast(res.msg);\r\n              this.setCriteriaSharedComponent.saveTemplateDialogOpen = false;\r\n              this.setCriteriaSharedComponent.criteriaName = \"\";\r\n              this.getAllTemplates();\r\n            }\r\n          }\r\n        },\r\n        (err) => {\r\n          this.coreService.removeLoadingScreen();\r\n          console.log(\":: Error in saving criteria template\", err);\r\n          this.coreService.showWarningToast(\r\n            \"Something went wrong, Please try again later\"\r\n          );\r\n        }\r\n      );\r\n  }\r\n\r\n  getAllTemplates() {\r\n    this.bankRoutingService\r\n      .getAllCriteriaTemplates(\r\n        this.userId,\r\n        this.appCtrl.value.code,\r\n        this.moduleCtrl.value.code,\r\n        this.formName\r\n      )\r\n      .subscribe((res) => {\r\n        if (\r\n          res[\"status\"] &&\r\n          typeof res[\"status\"] == \"string\" &&\r\n          (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n        ) {\r\n          if (res[\"error\"]) {\r\n            this.coreService.showWarningToast(res[\"error\"]);\r\n          } else {\r\n            this.coreService.showWarningToast(\"Some error in fetching data\");\r\n          }\r\n        } else {\r\n          if (res.data && res.data.length) {\r\n            this.criteriaTemplatesDdlOptions = res.data;\r\n            this.criteriaTemplatesDdlOptions.forEach((val) => {\r\n              val[\"name\"] = val[\"criteriaName\"];\r\n              val[\"code\"] = val[\"criteriaName\"];\r\n            });\r\n          } else {\r\n            console.log(res.msg);\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n  getColumns(colData: any) {\r\n    return this.criteriaDataService.getAppliedCriteriaTableColumns(colData);\r\n  }\r\n\r\n  selectedColumn(field: any, value: any, index: any) {\r\n    this.applyCriteriaFormattedData[index][field] = value[\"codeName\"];\r\n  }\r\n\r\n  // setSelectedOptions() {\r\n  //   this.applyCriteriaFormattedData.forEach((data) => {\r\n  //     data[\"routeToBankNameOption\"].filter((option) => {\r\n  //       option[\"code\"] == data[\"routeToBankName\"];\r\n  //     });\r\n  //     if (data[\"routeToBankName\"]) {\r\n  //       data[\"routeToBankName\"] = data[\"routeToBankNameOption\"].filter(\r\n  //         (option) => option[\"code\"] == data[\"routeToBankName\"]\r\n  //       )[0][\"codeName\"];\r\n  //     }\r\n\r\n  //     if (data[\"routeToServiceCategory\"]) {\r\n  //       data[\"routeToServiceCategory\"] = data[\r\n  //         \"routeToServiceCategoryOption\"\r\n  //       ].filter(\r\n  //         (option) => option[\"code\"] == data[\"routeToServiceCategory\"]\r\n  //       )[0][\"codeName\"];\r\n  //     }\r\n\r\n  //     if (data[\"routeToServiceType\"]) {\r\n  //       data[\"routeToServiceType\"] = data[\"routeToServiceTypeOption\"].filter(\r\n  //         (option) => option[\"code\"] == data[\"routeToServiceType\"]\r\n  //       )[0][\"codeName\"];\r\n  //     }\r\n  //   });\r\n  // }\r\n  // decodeSelectedOptions() {\r\n  //   this.applyCriteriaFormattedData.forEach((data) => {\r\n  //     data[\"routeToBankName\"] = data[\"routeToBankNameOption\"].filter(\r\n  //       (option) => option[\"codeName\"] == data[\"routeToBankName\"]\r\n  //     )[0][\"code\"];\r\n  //     data[\"routeToServiceCategory\"] = data[\r\n  //       \"routeToServiceCategoryOption\"\r\n  //     ].filter(\r\n  //       (option) => option[\"codeName\"] == data[\"routeToServiceCategory\"]\r\n  //     )[0][\"code\"];\r\n  //     data[\"routeToServiceType\"] = data[\"routeToServiceTypeOption\"].filter(\r\n  //       (option) => option[\"codeName\"] == data[\"routeToServiceType\"]\r\n  //     )[0][\"code\"];\r\n  //   });\r\n  // }\r\n\r\n  isMandatoryCol(heading: any) {\r\n    return heading.includes(\"*\") ? true : false;\r\n  }\r\n\r\n  reset() {\r\n    if (this.mode == \"edit\") {\r\n      this.coreService.setSidebarBtnFixedStyle(false);\r\n      this.confirmationService.confirm({\r\n        message: \"Are you sure, you want to clear applied changes ?\",\r\n        key: \"resetDataConfirmation\",\r\n        accept: () => {\r\n          this.coreService.displayLoadingScreen();\r\n          // this.getCriteriaMasterData();\r\n          // this.getAllTemplates();\r\n          // this.coreService.setHeaderStickyStyle(true);\r\n          // this.coreService.setSidebarBtnFixedStyle(true);\r\n          this.applyCriteriaFormattedData = [];\r\n          this.appliedCriteriaCriteriaMap = null;\r\n          this.appliedCriteriaIsDuplicate = null;\r\n          this.routeDescription = \"\";\r\n          this.setCriteriaSharedComponent.resetSetCriteria();\r\n          this.setHeaderSidebarBtn();\r\n        },\r\n        reject: () => {\r\n          this.confirmationService.close;\r\n          this.setHeaderSidebarBtn();\r\n        },\r\n      });\r\n    } else if (this.mode == \"clone\") {\r\n      this.coreService.setSidebarBtnFixedStyle(false);\r\n      this.confirmationService.confirm({\r\n        message: \"Are you sure, you want to clear applied changes ?\",\r\n        key: \"resetDataConfirmation\",\r\n        accept: () => {\r\n          this.coreService.displayLoadingScreen();\r\n          this.getCriteriaMasterData();\r\n          this.getAllTemplates();\r\n          this.coreService.setHeaderStickyStyle(true);\r\n          this.coreService.setSidebarBtnFixedStyle(true);\r\n        },\r\n        reject: () => {\r\n          this.confirmationService.close;\r\n          this.setHeaderSidebarBtn();\r\n        },\r\n      });\r\n    } else {\r\n      this.coreService.setSidebarBtnFixedStyle(false);\r\n      this.coreService.setHeaderStickyStyle(false);\r\n      this.confirmationService.confirm({\r\n        message: \"Are you sure, you want to clear all the fields ?\",\r\n        key: \"resetDataConfirmation\",\r\n        accept: () => {\r\n          this.applyCriteriaFormattedData = [];\r\n          this.appliedCriteriaCriteriaMap = null;\r\n          this.appliedCriteriaIsDuplicate = null;\r\n          this.routeDescription = \"\";\r\n          this.setCriteriaSharedComponent.resetSetCriteria();\r\n          this.setHeaderSidebarBtn();\r\n          // this.appCtrl.reset();\r\n          // this.moduleCtrl.reset();\r\n          // this.moduleCtrl.disable();\r\n          // this.showContent = false;\r\n          // this.appModuleDataPresent = false;\r\n        },\r\n        reject: () => {\r\n          this.confirmationService.close;\r\n          this.setHeaderSidebarBtn();\r\n        },\r\n      });\r\n    }\r\n  }\r\n\r\n  setHeaderSidebarBtn() {\r\n    this.coreService.displayLoadingScreen();\r\n    setTimeout(() => {\r\n      this.coreService.setHeaderStickyStyle(true);\r\n      this.coreService.setSidebarBtnFixedStyle(true);\r\n    }, 500);\r\n    setTimeout(() => {\r\n      this.coreService.removeLoadingScreen();\r\n    }, 1000);\r\n  }\r\n\r\n  saveAddNewRoute(action) {\r\n    if (\r\n      this.setCriteriaSharedComponent.getCurrentCriteriaMap() !=\r\n      this.appliedCriteriaCriteriaMap\r\n    ) {\r\n      this.coreService.showWarningToast(\r\n        \"Recent changes in Criteria map has not been applied, Saving last applied data\"\r\n      );\r\n    }\r\n\r\n    if (\r\n      this.mode != \"clone\" ||\r\n      (this.mode == \"clone\" && this.isApplyCriteriaClicked)\r\n    ) {\r\n      this.coreService.displayLoadingScreen();\r\n      let isRequiredFields = false;\r\n      let routeToBankNameMissing = false;\r\n      let routeToServiceCategoryMissing = false;\r\n      let routeToServiceTypeMissing = false;\r\n\r\n      this.applyCriteriaFormattedData.forEach((data) => {\r\n        if (data[\"isActive\"] == \"N\") {\r\n          data[\"routeDesc\"] = this.routeDescription.toUpperCase()\r\n            ? this.routeDescription.replace(/\\s/g, \"\").length\r\n              ? this.routeDescription.toUpperCase()\r\n              : null\r\n            : null;\r\n          // if (data[\"tax\"] == \"null\" || data[\"tax\"] == null) {\r\n          //   data[\"tax\"] = \"\";\r\n\r\n          // }\r\n        }\r\n      });\r\n\r\n      let activeData = this.applyCriteriaFormattedData.filter(\r\n        (d) => d[\"isActive\"] == \"Y\"\r\n      );\r\n      console.log(\"111\", activeData);\r\n      activeData.forEach((element) => {\r\n        element[\"routeDesc\"] = this.routeDescription.toUpperCase()\r\n          ? this.routeDescription.replace(/\\s/g, \"\").length\r\n            ? this.routeDescription.toUpperCase()\r\n            : null\r\n          : null;\r\n        if (!element[\"routeDesc\"]) {\r\n          isRequiredFields = true;\r\n        }\r\n        if (!element[\"routeToBankName\"]) {\r\n          routeToBankNameMissing = true;\r\n        }\r\n        if (!element[\"routeToServiceCategory\"]) {\r\n          routeToServiceCategoryMissing = true;\r\n        }\r\n        if (!element[\"routeToServiceType\"]) {\r\n          routeToServiceTypeMissing = true;\r\n        }\r\n      });\r\n      if (isRequiredFields) {\r\n        this.coreService.removeLoadingScreen();\r\n        this.coreService.showWarningToast(\"Please Fill required fields.\");\r\n      } else if (routeToBankNameMissing) {\r\n        this.coreService.removeLoadingScreen();\r\n        this.coreService.showWarningToast(\"Please Select Route to bank name.\");\r\n      } else if (routeToServiceCategoryMissing) {\r\n        this.coreService.removeLoadingScreen();\r\n        this.coreService.showWarningToast(\r\n          \"Please Select Route to service category.\"\r\n        );\r\n      } else if (routeToServiceTypeMissing) {\r\n        this.coreService.removeLoadingScreen();\r\n        this.coreService.showWarningToast(\r\n          \"Please Select Route to service type.\"\r\n        );\r\n      } else {\r\n        let service;\r\n        // this.decodeSelectedOptions();\r\n        if (this.mode == \"edit\") {\r\n          let data = {\r\n            data: this.applyCriteriaFormattedData,\r\n            duplicate: this.appliedCriteriaIsDuplicate,\r\n            criteriaMap: this.appliedCriteriaCriteriaMap,\r\n            routeCode: this.routeID,\r\n          };\r\n          service = this.bankRoutingService.updateRoute(\r\n            this.userId,\r\n            data,\r\n            this.appCtrl.value.code,\r\n            this.moduleCtrl.value.code,\r\n            this.formName\r\n          );\r\n        } else {\r\n          let data = {\r\n            data: this.applyCriteriaFormattedData,\r\n            duplicate: this.appliedCriteriaIsDuplicate,\r\n            criteriaMap: this.appliedCriteriaCriteriaMap,\r\n          };\r\n          service = this.bankRoutingService.addNewRoute(\r\n            data,\r\n            this.appCtrl.value.code,\r\n            this.moduleCtrl.value.code,\r\n            this.formName\r\n          );\r\n        }\r\n        if (service) {\r\n          service.subscribe(\r\n            (res) => {\r\n              if (\r\n                res[\"status\"] &&\r\n                typeof res[\"status\"] == \"string\" &&\r\n                (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n              ) {\r\n                if (res[\"error\"]) {\r\n                  this.coreService.showWarningToast(res[\"error\"]);\r\n                } else {\r\n                  this.coreService.showWarningToast(\r\n                    \"Some error in fetching data\"\r\n                  );\r\n                }\r\n              } else {\r\n                if (res[\"msg\"]) {\r\n                  this.coreService.showSuccessToast(res.msg);\r\n                  if (action == \"save\") {\r\n                    this.router.navigate([`navbar/bank-routing`]);\r\n                  } else if (action == \"saveAndAddNew\") {\r\n                    this.bankRoutingService.applicationName = null;\r\n                    this.bankRoutingService.moduleName = null;\r\n                    this.router.navigate([`navbar/bank-routing/addnewroute`]);\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            (err) => {\r\n              this.coreService.removeLoadingScreen();\r\n              console.log(\"error in saveAddNewRoute\", err);\r\n              this.coreService.showWarningToast(\"Some error in fetching save\");\r\n            }\r\n          );\r\n        }\r\n      }\r\n    } else {\r\n      this.coreService.showWarningToast(\"Applied criteria already exists.\");\r\n    }\r\n  }\r\n\r\n  confirmStatus(e: any, data: any) {\r\n    e.preventDefault();\r\n    let type = \"\";\r\n    let reqStatus = \"\";\r\n    if (e.target.checked) {\r\n      reqStatus = \"Y\";\r\n      type = \"activate\";\r\n    } else {\r\n      reqStatus = \"N\";\r\n      type = \"deactivate\";\r\n    }\r\n    this.coreService.setSidebarBtnFixedStyle(false);\r\n    this.coreService.setHeaderStickyStyle(false);\r\n    let completeMsg = \"\";\r\n    completeMsg =\r\n      `<img src=\"../../../assets/warning.svg\"><br/><br/>` +\r\n      `Do you wish to ` +\r\n      type +\r\n      ` the Bank Record?`;\r\n    this.confirmationService.confirm({\r\n      message: completeMsg,\r\n      key: \"activeDeactiveStatus\",\r\n      accept: () => {\r\n        data[\"isActive\"] = reqStatus;\r\n        this.setHeaderSidebarBtn();\r\n        console.log(\"accepting\", reqStatus);\r\n      },\r\n      reject: () => {\r\n        this.confirmationService.close;\r\n        this.setHeaderSidebarBtn();\r\n        console.log(\"reject\");\r\n      },\r\n    });\r\n  }\r\n}\r\n","<div class=\"visible-main-section\">\r\n  <div class=\"details-page-card\">\r\n    <div class=\"d-flex mx-3\" style=\"justify-content: space-between\">\r\n      <div class=\"col-12\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-7 col-lg-7 col-sm-12 col-xs-12\">\r\n            <p class=\"description-text\">\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                width=\"41\"\r\n                height=\"35\"\r\n                viewBox=\"0 0 41 41\"\r\n              >\r\n                <g\r\n                  id=\"Group_2248\"\r\n                  data-name=\"Group 2248\"\r\n                  transform=\"translate(-341 -138)\"\r\n                >\r\n                  <circle\r\n                    id=\"Ellipse_130\"\r\n                    data-name=\"Ellipse 130\"\r\n                    cx=\"20.5\"\r\n                    cy=\"20.5\"\r\n                    r=\"20.5\"\r\n                    transform=\"translate(341 138)\"\r\n                    [attr.fill]=\"primaryColor\"\r\n                  />\r\n                  <path\r\n                    id=\"_52_Note_Basic_Description\"\r\n                    data-name=\"52  Note, Basic, Description\"\r\n                    d=\"M17.054,9.537H9.52a.753.753,0,0,1-.753-.753V5.016a.753.753,0,0,1,.753-.753h.851a3.014,3.014,0,0,1,5.831,0h.851a.753.753,0,0,1,.753.753V8.783A.753.753,0,0,1,17.054,9.537ZM10.274,8.03H16.3V5.77h-.753a.753.753,0,0,1-.753-.753,1.507,1.507,0,0,0-3.014,0,.753.753,0,0,1-.753.753h-.753Zm11.3,12.808V7.277a2.26,2.26,0,0,0-2.26-2.26h-.753V6.523h.753a.753.753,0,0,1,.753.753V20.837a.753.753,0,0,1-.753.753H7.26a.753.753,0,0,1-.753-.753V7.277a.753.753,0,0,1,.753-.753h.753V5.016H7.26A2.26,2.26,0,0,0,5,7.277V20.837A2.26,2.26,0,0,0,7.26,23.1H19.314A2.26,2.26,0,0,0,21.574,20.837ZM17.808,11.8H8.767V13.3h9.041Zm0,3.014H8.767v1.507h9.041Zm0,3.014H8.767v1.507h9.041Z\"\r\n                    transform=\"translate(348.213 145.945)\"\r\n                    fill=\"#fff\"\r\n                  />\r\n                </g>\r\n              </svg>\r\n              Based on the critetria selected banks will be routed to preferred\r\n              routing bank.\r\n            </p>\r\n          </div>\r\n          <div class=\"col-md-5 col-lg-5 col-sm-12 col-xs-12\">\r\n            <div class=\"row\">\r\n              <div class=\"buttons-section\">\r\n                <button\r\n                  pButton\r\n                  pRipple\r\n                  type=\"button\"\r\n                  [disabled]=\"\r\n                    !applyCriteriaFormattedData ||\r\n                    !applyCriteriaFormattedData.length ||\r\n                    deactivated\r\n                  \"\r\n                  label=\"Save\"\r\n                  class=\"p-button-raised\"\r\n                  (click)=\"saveAddNewRoute('save')\"\r\n                ></button>\r\n                <button\r\n                  pButton\r\n                  pRipple\r\n                  type=\"button\"\r\n                  [disabled]=\"!applyCriteriaFormattedData.length\"\r\n                  label=\"Save & Add New\"\r\n                  class=\"p-button-raised\"\r\n                  (click)=\"saveAddNewRoute('saveAndAddNew')\"\r\n                  [disabled]=\"deactivated\"\r\n                ></button>\r\n                <button\r\n                  pButton\r\n                  pRipple\r\n                  type=\"button\"\r\n                  [disabled]=\"!applyCriteriaFormattedData.length || deactivated\"\r\n                  label=\"Reset\"\r\n                  class=\"p-button-warning\"\r\n                  (click)=\"reset()\"\r\n                ></button>\r\n                <button\r\n                  *ngIf=\"mode == 'edit'\"\r\n                  pButton\r\n                  pRipple\r\n                  type=\"button\"\r\n                  label=\"{{ deactivated ? 'Activate' : 'Deactivate' }}\"\r\n                  class=\"p-button-raised\"\r\n                  (click)=\"onActive()\"\r\n                ></button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div [formGroup]=\"selectAppModule\" class=\"select-module-application m-2\">\r\n      <div class=\"col-12\">\r\n        <div class=\"row\">\r\n          <div class=\"d-flex field col-md-4 col-lg-4 col-sm-12 col-xs-12 md-4\">\r\n            <label\r\n              class=\"detail-page-section-heading col-sm-3 col-xs-12\"\r\n              for=\"application\"\r\n              >Application</label\r\n            >\r\n            <p-dropdown\r\n              name=\"application\"\r\n              inputId=\"application\"\r\n              [options]=\"searchApplicationOptions\"\r\n              placeholder=\"Select\"\r\n              optionLabel=\"name\"\r\n              formControlName=\"applications\"\r\n              (onChange)=\"onAppValueChange()\"\r\n            ></p-dropdown>\r\n          </div>\r\n          <div class=\"d-flex field col-md-4 col-lg-4 col-sm-12 col-xs-12 md-4\">\r\n            <label\r\n              class=\"detail-page-section-heading col-sm-3 col-xs-12 small\"\r\n              for=\"module\"\r\n              >Module</label\r\n            >\r\n            <p-dropdown\r\n              name=\"module\"\r\n              inputId=\"module\"\r\n              [options]=\"searchModuleOptions\"\r\n              placeholder=\"Select\"\r\n              optionLabel=\"name\"\r\n              formControlName=\"modules\"\r\n              (onChange)=\"searchAppModule()\"\r\n            ></p-dropdown>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div\r\n      *ngIf=\"appModuleDataPresent && showContent\"\r\n      class=\"d-flex m-3 route-code-desc-section\"\r\n    >\r\n      <div class=\"col-12\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-4 col-lg-4 col-sm-12 col-xs-12\">\r\n            <div\r\n              class=\"routeCode\"\r\n              [pTooltip]=\"\r\n                this.mode == 'add'\r\n                  ? 'Route Code is automatically generated, It may get changed in saving process.'\r\n                  : ''\r\n              \"\r\n            >\r\n              <p>Route Code</p>\r\n              <input type=\"text\" pInputText [(ngModel)]=\"routeCode\" disabled />\r\n            </div>\r\n          </div>\r\n          <div class=\"col-md-8 col-lg-8 col-sm-12 col-xs-12\">\r\n            <div class=\"routeDesc\">\r\n              <p style=\"position: relative\">\r\n                Routing Description <span class=\"description red-star\">*</span>\r\n              </p>\r\n              <input\r\n                type=\"text\"\r\n                pInputText\r\n                [(ngModel)]=\"routeDescription\"\r\n                maxlength=\"100\"\r\n                placeholder=\"Max 100 characters\"\r\n                [disabled]=\"deactivated\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <app-set-criteria\r\n      *ngIf=\"appModuleDataPresent && showContent\"\r\n      #setCriteriaSharedComponent\r\n      [criteriaMasterData]=\"criteriaMasterData\"\r\n      [fieldDisplayData]=\"fieldDisplayData\"\r\n      [cmCriteriaDataDetails]=\"cmCriteriaDataDetails\"\r\n      [criteriaDataDetailsJson]=\"criteriaDataDetailsJson\"\r\n      [cmCriteriaSlabType]=\"cmCriteriaSlabType\"\r\n      [independantCriteriaArr]=\"independantCriteriaArr\"\r\n      [cmCriteriaMandatory]=\"cmCriteriaMandatory\"\r\n      [cmCriteriaDependency]=\"cmCriteriaDependency\"\r\n      [criteriaMapDdlOptions]=\"criteriaMapDdlOptions\"\r\n      [correspondentDdlOptions]=\"correspondentDdlOptions\"\r\n      [criteriaEqualsDdlOptions]=\"criteriaEqualsDdlOptions\"\r\n      [criteriaTemplatesDdlOptions]=\"criteriaTemplatesDdlOptions\"\r\n      [savingCriteriaTemplateError]=\"savingCriteriaTemplateError\"\r\n      [criteriaText]=\"criteriaText\"\r\n      [criteriaCodeText]=\"criteriaCodeText\"\r\n      [inactiveData]=\"inactiveData\"\r\n      [deactivated]=\"deactivated\"\r\n      (postDataCriteria)=\"applyCriteria($event)\"\r\n      (saveCriteriaAsTemplate)=\"saveCriteriaAsTemplate($event)\"\r\n      (getCorrespondentValues)=\"\r\n        getCorrespondentValues(\r\n          $event.fieldName,\r\n          $event.displayName,\r\n          $event.criteriaCodeText\r\n        )\r\n      \"\r\n      [setCriteriaName]=\"setCriteriaName\"\r\n    ></app-set-criteria>\r\n  </div>\r\n  <div\r\n    class=\"details-page-card mt-2\"\r\n    *ngIf=\"showContent && applyCriteriaFormattedData.length\"\r\n  >\r\n    <div class=\"details-page-card-content mt-1\">\r\n      <div class=\"criteria-bar\">\r\n        <p class=\"setCriteria detail-page-section-heading\">\r\n          Applicable Routes\r\n          <img\r\n            height=\"15px\"\r\n            src=\"../assets/Icon-info.svg\"\r\n            alt=\"\"\r\n            pTooltip=\"On selected criteria routes below routes will be applied.\"\r\n          />\r\n        </p>\r\n      </div>\r\n      <div class=\"mt-1 addnewroute-table\">\r\n        <div class=\"ptable\">\r\n          <p-card class=\"p-col-12\" *ngIf=\"!applyCriteriaResponse\">\r\n            {{ \"noDataMsg\" }}\r\n          </p-card>\r\n          <div class=\"appliedCriteriaDataTable\">\r\n            <p-table\r\n              #dt\r\n              [value]=\"applyCriteriaFormattedData\"\r\n              [rowHover]=\"true\"\r\n              [scrollable]=\"true\"\r\n              scrollHeight=\"315px\"\r\n            >\r\n              <ng-template pTemplate=\"header\">\r\n                <tr>\r\n                  <th\r\n                    *ngFor=\"let col of applyCriteriaDataTableColumns\"\r\n                    style=\"min-width: 120px\"\r\n                    alignFrozen=\"right\"\r\n                    pFrozenColumn\r\n                    [frozen]=\"col['frozen']\"\r\n                  >\r\n                    {{ col.header }}\r\n                    <span class=\"red-star\" *ngIf=\"col.isMandatory\">*</span>\r\n                  </th>\r\n                </tr>\r\n              </ng-template>\r\n              <ng-template pTemplate=\"body\" let-rowData let-rowIndex=\"rowIndex\">\r\n                <tr>\r\n                  <td\r\n                    *ngFor=\"\r\n                      let col of applyCriteriaDataTableColumns;\r\n                      index as i\r\n                    \"\r\n                    alignFrozen=\"right\"\r\n                    pFrozenColumn\r\n                    [frozen]=\"col['frozen']\"\r\n                  >\r\n                    <div\r\n                      *ngIf=\"col['fieldType'] == 'dropdown'\"\r\n                      class=\"appliedCriteriaSelect\"\r\n                    >\r\n                      <p-dropdown\r\n                        [options]=\"rowData[col.field + 'Option']\"\r\n                        optionLabel=\"codeName\"\r\n                        class=\"smartSearch\"\r\n                        appendTo=\"body\"\r\n                        [placeholder]=\"\r\n                          rowData[col['field']] &&\r\n                          rowData[col['field']] != 'null'\r\n                            ? rowData[col['field']]\r\n                            : 'Select'\r\n                        \"\r\n                        (onChange)=\"\r\n                          selectedColumn(col['field'], $event.value, rowIndex)\r\n                        \"\r\n                        [disabled]=\"\r\n                          rowData['linked'] == 'Y' ||\r\n                          rowData['isActive'] == 'N' ||\r\n                          deactivated\r\n                        \"\r\n                      >\r\n                        <ng-template let-options pTemplate=\"item\">\r\n                          <div class=\"truncate-text\">\r\n                            <div>{{ options.codeName }}</div>\r\n                          </div>\r\n                        </ng-template></p-dropdown\r\n                      >\r\n                    </div>\r\n                    <div\r\n                      *ngIf=\"col['fieldType'] == 'text'\"\r\n                      [pTooltip]=\"col['info'] ? col['info'] : ''\"\r\n                    >\r\n                      <input\r\n                        [(ngModel)]=\"rowData[col.field]\"\r\n                        type=\"text\"\r\n                        pInputText\r\n                        [disabled]=\"true\"\r\n                      />\r\n                    </div>\r\n                    <div\r\n                      *ngIf=\"col.field == 'isActive'\"\r\n                      style=\"border: none; text-align: left\"\r\n                    >\r\n                      <label class=\"switch\" style=\"border: none\">\r\n                        <input\r\n                          #statusInp\r\n                          [value]=\"rowData[col['field']]\"\r\n                          type=\"checkbox\"\r\n                          (click)=\"confirmStatus($event, rowData)\"\r\n                          [checked]=\"\r\n                            rowData[col['field']] == 'Y' ? true : false\r\n                          \"\r\n                          [disabled]=\"rowData['linked'] == 'Y' || deactivated\"\r\n                        />\r\n                        <span\r\n                          class=\"slider round\"\r\n                          [ngClass]=\"{ disabled: deactivated }\"\r\n                        ></span>\r\n                      </label>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              </ng-template>\r\n\r\n              <ng-template pTemplate=\"emptymessage\">\r\n                <tr>\r\n                  <td [attr.colspan]=\"applyCriteriaDataTableColumns.length\">\r\n                    No Data found.\r\n                  </td>\r\n                </tr>\r\n              </ng-template>\r\n            </p-table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div\r\n  class=\"NorecordFound\"\r\n  *ngIf=\"\r\n    !showContent && appModuleDataPresent && !applyCriteriaFormattedData.length\r\n  \"\r\n>\r\n  <div class=\"row\">\r\n    <div class=\"col-12\"><img src=\"assets/noRecordFound.svg\" /></div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col-12\">\r\n      <p>No Record Found.</p>\r\n    </div>\r\n  </div>\r\n</div>\r\n<p-confirmDialog\r\n  key=\"bankRoutingLinkedWarning\"\r\n  class=\"linked-confirm confirm-popup\"\r\n  #cd\r\n  icon=\"pi pi-exclamation-triangle\"\r\n  [closable]=\"false\"\r\n>\r\n  <p-footer>\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-check\"\r\n      label=\"Ok\"\r\n      (click)=\"cd.accept()\"\r\n    ></button>\r\n  </p-footer>\r\n</p-confirmDialog>\r\n\r\n<p-confirmDialog\r\n  key=\"resetDataConfirmation\"\r\n  class=\"confirm-popup\"\r\n  #cd2\r\n  icon=\"pi pi-exclamation-triangle\"\r\n  [closable]=\"false\"\r\n>\r\n  <p-footer>\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-check\"\r\n      label=\"Yes\"\r\n      (click)=\"cd2.accept()\"\r\n    ></button>\r\n\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-times\"\r\n      label=\"Cancel\"\r\n      (click)=\"cd2.reject()\"\r\n    ></button>\r\n  </p-footer>\r\n</p-confirmDialog>\r\n<p-confirmDialog\r\n  key=\"activeDeactiveStatus\"\r\n  class=\"status-confirm confirm-popup\"\r\n  #cd3\r\n  [closable]=\"false\"\r\n>\r\n  <p-footer>\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-check\"\r\n      label=\"Yes\"\r\n      (click)=\"cd3.accept()\"\r\n    ></button>\r\n\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-times\"\r\n      label=\"No\"\r\n      (click)=\"cd3.reject()\"\r\n    ></button>\r\n  </p-footer>\r\n</p-confirmDialog>\r\n<p-confirmDialog\r\n  key=\"activeDeactiveStatusBank\"\r\n  class=\"status-confirm confirm-popup\"\r\n  #cd4\r\n  [closable]=\"false\"\r\n>\r\n  <p-footer>\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-check\"\r\n      label=\"Yes\"\r\n      (click)=\"cd4.accept()\"\r\n    ></button>\r\n\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-times\"\r\n      label=\"No\"\r\n      (click)=\"cd4.reject()\"\r\n    ></button>\r\n  </p-footer>\r\n</p-confirmDialog>\r\n","import { HttpClient, HttpHeaders } from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { BehaviorSubject, Observable, Subject } from \"rxjs\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class BankRoutingService {\r\n  constructor(private http: HttpClient) {}\r\n  applicationName: any = null;\r\n  moduleName: any = null;\r\n\r\n  private statusDataForEditForm: any = undefined;\r\n\r\n  setData(data: any) {\r\n    this.statusDataForEditForm = data;\r\n  }\r\n\r\n  getData(): any {\r\n    return this.statusDataForEditForm;\r\n  }\r\n\r\n  // COMMON SERVICES\r\n\r\n  getBanksRoutingAppModuleList() {\r\n    return this.http.get(\r\n      `/appControl/applicationSettingsController/criteriaTypes`\r\n    );\r\n  }\r\n\r\n  getCriteriaMasterData(\r\n    userId: any,\r\n    formName: any,\r\n    appName: any,\r\n    moduleName: any\r\n  ) {\r\n    return this.http.get(\r\n      `/appControl/formRulesController/getCriteriaMasterData`,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"userId\", userId)\r\n          .set(\"form\", formName)\r\n          .set(\"applications\", String(appName))\r\n          .set(\"moduleName\", String(moduleName)),\r\n      }\r\n    );\r\n  }\r\n\r\n  getCorrespondentValuesData(\r\n    formName: any,\r\n    appName: any,\r\n    criteriaMap: any,\r\n    fieldName: any,\r\n    displayName: any,\r\n    moduleName: any\r\n  ) {\r\n    return this.http.get(`/appControl/formRulesController/getCriteriaData`, {\r\n      headers: new HttpHeaders()\r\n        .set(\"form\", formName)\r\n        .set(\"applications\", String(appName))\r\n        .set(\"criteriaMap\", criteriaMap)\r\n        .set(\"fieldName\", fieldName)\r\n        .set(\"displayName\", displayName)\r\n        .set(\"moduleName\", String(moduleName)),\r\n    });\r\n  }\r\n\r\n  currentCriteriaSaveAsTemplate(data: any): Observable<any> {\r\n    return this.http.post(\r\n      `appControl/formRulesController/saveFormRuleCriteria`,\r\n      data\r\n    );\r\n  }\r\n\r\n  getAllCriteriaTemplates(\r\n    id: string,\r\n    appName: any,\r\n    moduleName: any,\r\n    formName: any\r\n  ): Observable<any> {\r\n    return this.http.get(\r\n      `appControl/formRulesController/getExistingFormRuleList\r\n      `,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"userId\", id)\r\n          .set(\"applications\", String(appName))\r\n          .set(\"moduleName\", String(moduleName))\r\n          .set(\"form\", formName),\r\n      }\r\n    );\r\n  }\r\n\r\n  // COMMON SERVICES END\r\n\r\n  getBankRoutingData(id: string, formName: any, appName: any, moduleName: any) {\r\n    return this.http.get(\r\n      `/appControl/banksRoutingController/getBanksRoutingList`,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"userId\", id)\r\n          .set(\"applications\", String(appName))\r\n          .set(\"moduleName\", String(moduleName))\r\n          .set(\"form\", formName),\r\n      }\r\n    );\r\n  }\r\n  updateBankRouteStatus(data: any) {\r\n    return this.http.post(\r\n      `/appControl/banksRoutingController/updateBanksRoutingStatus`,\r\n      data\r\n    );\r\n  }\r\n\r\n  getBanksRoutingForEdit(\r\n    routeCode: any,\r\n    operation: any,\r\n    appName: any,\r\n    moduleName: any,\r\n    formName: any\r\n  ) {\r\n    return this.http.get(\r\n      `/appControl/banksRoutingController/getBanksRoutingCriteriaForEdit`,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"routeCode\", routeCode)\r\n          .set(\"operation\", operation)\r\n          .set(\"applications\", String(appName))\r\n          .set(\"moduleName\", String(moduleName))\r\n          .set(\"form\", formName),\r\n      }\r\n    );\r\n  }\r\n\r\n  getAddBankRouteCriteriaData(appName: any, moduleName: any, formName: any) {\r\n    return this.http.get(`/appControl/banksRoutingController/addBankRoute`, {\r\n      headers: new HttpHeaders()\r\n        .set(\"applications\", String(appName))\r\n        .set(\"moduleName\", String(moduleName))\r\n        .set(\"form\", formName),\r\n    });\r\n  }\r\n\r\n  postRouteBankCriteriaSearch(data: any) {\r\n    return this.http.post(\r\n      `/appControl/banksRoutingController/applyCriteriaSearch`,\r\n      data\r\n    );\r\n  }\r\n\r\n  addNewRoute(\r\n    data,\r\n    appName: any,\r\n    moduleName: any,\r\n    formName: any\r\n  ): Observable<any> {\r\n    return this.http.post(\r\n      `/appControl/banksRoutingController/addCriteriaDetails`,\r\n      data,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"applications\", String(appName))\r\n          .set(\"moduleName\", String(moduleName))\r\n          .set(\"form\", formName),\r\n      }\r\n    );\r\n  }\r\n\r\n  updateRoute(\r\n    userId,\r\n    data,\r\n    appName: any,\r\n    moduleName: any,\r\n    formName: any\r\n  ): Observable<any> {\r\n    return this.http.put(\r\n      `/appControl/banksRoutingController/updateBanksRoutingsCriteria`,\r\n      data,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"userId\", userId)\r\n          .set(\"applications\", String(appName))\r\n          .set(\"moduleName\", String(moduleName))\r\n          .set(\"form\", formName),\r\n      }\r\n    );\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  ElementRef,\r\n  OnDestroy,\r\n  OnInit,\r\n  ViewChild,\r\n} from \"@angular/core\";\r\nimport { MultiSelect } from \"primeng/multiselect\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { Table } from \"primeng/table\";\r\n\r\nimport {\r\n  BankRouting,\r\n  BankRoutingApiData,\r\n  UserData,\r\n} from \"../banks-routing.model\";\r\nimport { BankRoutingService } from \"../bank-routing.service\";\r\nimport { CoreService } from \"src/app/core.service\";\r\nimport { DialogService } from \"primeng/dynamicdialog\";\r\nimport { ConfirmationService, MessageService, TreeNode } from \"primeng/api\";\r\nimport { forkJoin } from \"rxjs\";\r\nimport { map, take } from \"rxjs/operators\";\r\nimport { SetCriteriaService } from \"src/app/shared/components/set-criteria/set-criteria.service\";\r\nimport {\r\n  UntypedFormBuilder,\r\n  UntypedFormControl,\r\n  Validators,\r\n} from \"@angular/forms\";\r\n\r\nimport _lodashClone from \"lodash-es/cloneDeep\";\r\n\r\n@Component({\r\n  selector: \"app-bank-routing\",\r\n  templateUrl: \"./bank-routing.component.html\",\r\n  styleUrls: [\"./bank-routing.component.scss\"],\r\n  providers: [DialogService, MessageService],\r\n})\r\nexport class BankRoutingComponent2 implements OnInit {\r\n  formName = \"Bank Routings\";\r\n  linkedRouteCode: any = [];\r\n\r\n  inactiveData: boolean = false;\r\n\r\n  fieldDisplayData = {};\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private bankRoutingService: BankRoutingService,\r\n    private coreService: CoreService,\r\n    public dialogService: DialogService,\r\n    public messageService: MessageService,\r\n    private route: ActivatedRoute,\r\n    private confirmationService: ConfirmationService,\r\n    private setCriteriaService: SetCriteriaService,\r\n    private fb: UntypedFormBuilder\r\n  ) {}\r\n  @ViewChild(\"dt\") table: Table;\r\n  @ViewChild(\"statusInp\") statusInp: HTMLInputElement;\r\n\r\n  showNoDataFound: boolean = false;\r\n\r\n  showrouteCodeOptions: boolean = false;\r\n  showrouteDescOptions: boolean = false;\r\n  showcriteriaMapOptions: boolean = false;\r\n  showstatusOptions: boolean = false;\r\n\r\n  bankRoutingApiData: BankRoutingApiData;\r\n\r\n  bankRoutingData: BankRouting[];\r\n\r\n  routeCode: any[] = [];\r\n  routeDesc: any[] = [];\r\n  criteriaMap: any[] = [];\r\n  status: any[];\r\n\r\n  userData: UserData;\r\n\r\n  noDataMsg: string = \"Banks Routing Data Not Available\";\r\n\r\n  selectedFilterrouteCode: any[] = [];\r\n  selectedFilterrouteDesc: any[] = [];\r\n  selectedFiltercriteriaMap: any[] = [];\r\n  selectedFilterstatus: any[] = [];\r\n\r\n  loading = true;\r\n\r\n  selectAppModule: any;\r\n  searchApplicationOptions: any[] = [];\r\n  searchModuleOptions: any[] = [];\r\n\r\n  objectKeys = Object.keys;\r\n  cols = [\r\n    { field: \"routeCode\", header: \"Route Code\", width: \"10%\" },\r\n    { field: \"routeDesc\", header: \"Route Description\", width: \"25%\" },\r\n    { field: \"criteriaMap\", header: \"Criteria\", width: \"50%\" },\r\n    { field: \"status\", header: \"Status\", width: \"7%\" },\r\n    { field: \"operation\", header: \"Operations\", width: \"8%\" },\r\n  ];\r\n\r\n  ngOnInit(): void {\r\n    this.coreService.displayLoadingScreen();\r\n\r\n    const translationKey = \"Home.Settings\";\r\n\r\n    // Update translation\r\n    this.coreService\r\n      .translate(translationKey)\r\n      .then((translatedTitle: string) => {\r\n        this.coreService.setPageTitle(translatedTitle);\r\n      });\r\n\r\n    this.route.data.subscribe((data) => {\r\n      this.coreService.setBreadCrumbMenu(Object.values(data));\r\n    });\r\n\r\n    this.bankRoutingService.applicationName = null;\r\n    this.bankRoutingService.moduleName = null;\r\n\r\n    this.userData = JSON.parse(localStorage.getItem(\"userData\"));\r\n\r\n    this.setSelectAppModule();\r\n\r\n    //\r\n    this.searchApplicationOptions = JSON.parse(\r\n      localStorage.getItem(\"appAccess\")\r\n    );\r\n    this.searchModuleOptions = JSON.parse(localStorage.getItem(\"modAccess\"));\r\n    let defAppMod = JSON.parse(localStorage.getItem(\"defAppModule\"));\r\n    let currAppMod = JSON.parse(sessionStorage.getItem(\"bankRoute\"));\r\n\r\n    let defApp = null;\r\n    let defMod = null;\r\n\r\n    if (currAppMod) {\r\n      console.log(currAppMod);\r\n      defApp = this.searchApplicationOptions.filter(\r\n        (opt) => opt.code == currAppMod.applicationName.code\r\n      )[0];\r\n      defMod = this.searchModuleOptions.filter(\r\n        (opt) => opt.code == currAppMod.moduleName.code\r\n      )[0];\r\n    } else {\r\n      if (defAppMod) {\r\n        defApp = JSON.parse(localStorage.getItem(\"applicationName\"));\r\n        defMod = JSON.parse(localStorage.getItem(\"moduleName\"));\r\n      }\r\n    }\r\n\r\n    if (defApp) {\r\n      this.appCtrl.patchValue(defApp);\r\n    }\r\n    if (defMod) {\r\n      this.moduleCtrl.patchValue(defMod);\r\n    }\r\n    if (this.appCtrl.value && this.moduleCtrl.value) {\r\n      this.searchAppModule();\r\n    } else {\r\n      this.coreService.removeLoadingScreen();\r\n    }\r\n    //\r\n  }\r\n\r\n  setSelectAppModule() {\r\n    this.selectAppModule = this.fb.group({\r\n      applications: new UntypedFormControl({ value: \"\", disabled: false }, [\r\n        Validators.required,\r\n      ]),\r\n      modules: new UntypedFormControl({ value: \"\", disabled: false }, [\r\n        Validators.required,\r\n      ]),\r\n    });\r\n  }\r\n\r\n  get appCtrl() {\r\n    return this.selectAppModule.get(\"applications\");\r\n  }\r\n  get moduleCtrl() {\r\n    return this.selectAppModule.get(\"modules\");\r\n  }\r\n\r\n  searchAppModule() {\r\n    let currAppMod = {\r\n      applicationName: this.appCtrl.value,\r\n      moduleName: this.moduleCtrl.value,\r\n    };\r\n    sessionStorage.setItem(\"bankRoute\", JSON.stringify(currAppMod));\r\n    this.getDecodedDataForListing(\r\n      this.userData.userId,\r\n      this.appCtrl.value.code,\r\n      this.moduleCtrl.value.code\r\n    );\r\n  }\r\n\r\n  getDecodedDataForListing(userId: any, appValue: any, moduleValue: any) {\r\n    this.coreService.displayLoadingScreen();\r\n    forkJoin({\r\n      criteriaMasterData: this.bankRoutingService.getCriteriaMasterData(\r\n        this.userData.userId,\r\n        this.formName,\r\n        appValue,\r\n        moduleValue\r\n      ),\r\n      bankRoutingListingData: this.bankRoutingService.getBankRoutingData(\r\n        userId,\r\n        this.formName,\r\n        appValue,\r\n        moduleValue\r\n      ),\r\n    })\r\n      .pipe(\r\n        take(1),\r\n        map((response) => {\r\n          let criteriaMasterJson = _lodashClone(response.criteriaMasterData);\r\n          delete criteriaMasterJson[\"fieldDisplay\"];\r\n          this.fieldDisplayData = response.criteriaMasterData[\"fieldDisplay\"];\r\n          const criteriaMasterData = criteriaMasterJson;\r\n          const bankRoutingListingData = response.bankRoutingListingData;\r\n\r\n          if (bankRoutingListingData[\"data\"]) {\r\n            this.bankRoutingApiData = bankRoutingListingData;\r\n            this.bankRoutingApiData.data.forEach((tax) => {\r\n              let beforeSplit = tax.criteriaMap.split(\"&&&&\")[0];\r\n              // let afterSplit = tax.criteriaMap.split(\"&&&&\")[1];\r\n\r\n              const sections = tax.criteriaMap.split(\"&&&&\");\r\n\r\n              // Initialize variables to store the formatted data\r\n              let criteria = {};\r\n              let amounts = \"\";\r\n              let dates = \"\";\r\n              let afterSplit = \"\";\r\n\r\n              // Process each section\r\n              sections.forEach((section) => {\r\n                // if (section.includes(\"=\")) {\r\n                //   // Split section into key and value\r\n                //   const [key, value] = section\r\n                //     .split(\"=\")\r\n                //     .map((str) => str.trim());\r\n\r\n                //   // Store the criteria in the object\r\n                //   criteria[key] = value;\r\n                // }\r\n                if (section.includes(\"from\") && section.includes(\"to\")) {\r\n                  // Extract the amounts\r\n                  const amountsArray = section\r\n                    .split(\"#\")\r\n                    .map((amountSection) => {\r\n                      const [from, to] = amountSection\r\n                        .split(\"::\")\r\n                        .map((part) => part.split(\":\")[1]);\r\n                      return `Between ${from} - ${to}`;\r\n                    });\r\n                  amounts = amountsArray.join(\" & \");\r\n                } else if (\r\n                  section.startsWith(\"trnStartDate\") &&\r\n                  section.includes(\"trnEndDate\")\r\n                ) {\r\n                  // Extract the dates\r\n                  const dateSections = section.split(\"#\").map((dateSection) => {\r\n                    const [startDate, endDate] = dateSection\r\n                      .split(\"::\")\r\n                      .map((part) => part.split(\"=\")[1]);\r\n                    return `Between ${startDate} - ${endDate}`;\r\n                  });\r\n                  dates = dateSections.join(\" & \");\r\n                }\r\n              });\r\n\r\n              if (amounts.length && dates.length) {\r\n                afterSplit += `Amount (${amounts}), Date (${dates})`;\r\n              } else if (amounts.length) {\r\n                afterSplit += `Amount (${amounts})`;\r\n              } else if (dates.length) {\r\n                afterSplit += `Date (${dates})`;\r\n              }\r\n              // tax.criteriaMap = output;\r\n              console.log(\"555\", afterSplit);\r\n\r\n              if (beforeSplit.length) {\r\n                let criteriaCodeText = this.setCriteriaService.setCriteriaMap({\r\n                  criteriaMap: beforeSplit,\r\n                });\r\n                tax.criteriaMap = (\r\n                  this.setCriteriaService.decodeFormattedCriteria(\r\n                    criteriaCodeText,\r\n                    criteriaMasterData,\r\n                    this.fieldDisplayData\r\n                  ) as []\r\n                ).join(\", \");\r\n                if (afterSplit?.length) {\r\n                  tax.criteriaMap = tax.criteriaMap + \", \" + afterSplit;\r\n                }\r\n              } else {\r\n                if (afterSplit?.length) {\r\n                  tax.criteriaMap = afterSplit;\r\n                }\r\n              }\r\n            });\r\n\r\n            this.bankRoutingData = [...this.bankRoutingApiData.data];\r\n            this.showNoDataFound = false;\r\n            this.linkedRouteCode = [...this.bankRoutingApiData.linkedRouteCode];\r\n\r\n            this.routeCode = this.bankRoutingApiData.routeCode.map((code) => {\r\n              return { label: code, value: code };\r\n            });\r\n            this.routeDesc = this.bankRoutingApiData.routeDesc.map((code) => {\r\n              return { label: code, value: code };\r\n            });\r\n            this.criteriaMap = this.bankRoutingApiData.criteriaMap.map(\r\n              (code) => {\r\n                return { label: code, value: code };\r\n              }\r\n            );\r\n            this.status = this.bankRoutingApiData.status.map((code) => {\r\n              return { label: code, value: code };\r\n            });\r\n          } else {\r\n            if (bankRoutingListingData[\"msg\"]) {\r\n              this.coreService.showWarningToast(bankRoutingListingData[\"msg\"]);\r\n            }\r\n            this.showNoDataFound = true;\r\n            this.bankRoutingData = [];\r\n          }\r\n          return bankRoutingListingData;\r\n        })\r\n      )\r\n      .subscribe(\r\n        (res) => {\r\n          if (\r\n            res[\"status\"] &&\r\n            typeof res[\"status\"] == \"string\" &&\r\n            (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n          ) {\r\n            if (res[\"error\"]) {\r\n              this.coreService.showWarningToast(res[\"error\"]);\r\n            } else {\r\n              this.coreService.showWarningToast(\"Some error in fetching data\");\r\n            }\r\n          } else {\r\n            if (!res[\"data\"]) {\r\n              this.showNoDataFound = true;\r\n            }\r\n          }\r\n          this.coreService.removeLoadingScreen();\r\n          this.loading = false;\r\n        },\r\n        (err) => {\r\n          this.coreService.removeLoadingScreen();\r\n          this.bankRoutingData = null;\r\n          this.showNoDataFound = true;\r\n          this.loading = false;\r\n          console.log(\"Error in getting bank routing list data\", err);\r\n          this.coreService.showWarningToast(\"Some error in fetching data\");\r\n        }\r\n      );\r\n  }\r\n\r\n  viewBankRouting(data: any) {\r\n    this.bankRoutingService.applicationName = this.appCtrl.value.code;\r\n    this.bankRoutingService.moduleName = this.moduleCtrl.value.code;\r\n    this.router.navigate([\r\n      \"navbar\",\r\n      \"bank-routing\",\r\n      \"addnewroute\",\r\n      data.routeCode,\r\n      \"edit\",\r\n    ]);\r\n    this.bankRoutingService.setData(data);\r\n  }\r\n\r\n  cloneRoute(data: any) {\r\n    this.bankRoutingService.applicationName = this.appCtrl.value.code;\r\n    this.bankRoutingService.moduleName = this.moduleCtrl.value.code;\r\n    this.router.navigate([\r\n      \"navbar\",\r\n      \"bank-routing\",\r\n      \"addnewroute\",\r\n      data.routeCode,\r\n      \"clone\",\r\n    ]);\r\n  }\r\n\r\n  confirmStatus(e: any, data: any) {\r\n    e.preventDefault();\r\n    let type = \"\";\r\n    let reqStatus = \"\";\r\n    if (e.target.checked) {\r\n      reqStatus = \"Active\";\r\n      type = \"activate\";\r\n    } else {\r\n      reqStatus = \"Inactive\";\r\n      type = \"deactivate\";\r\n    }\r\n    this.coreService.setSidebarBtnFixedStyle(false);\r\n    this.coreService.setHeaderStickyStyle(false);\r\n    let completeMsg = \"\";\r\n    let isLinkedMsg = `Active Transactions Exist. </br>`;\r\n    if (\r\n      reqStatus == \"Inactive\" &&\r\n      this.linkedRouteCode.includes(data[\"routeCode\"])\r\n    ) {\r\n      completeMsg =\r\n        `<img src=\"../../../assets/warning.svg\"><br/><br/>` +\r\n        isLinkedMsg +\r\n        `Do you wish to ` +\r\n        type +\r\n        ` the Bank Route: ${data[\"routeCode\"]}?`;\r\n    } else {\r\n      completeMsg =\r\n        `<img src=\"../../../assets/warning.svg\"><br/><br/>` +\r\n        `Do you wish to ` +\r\n        type +\r\n        ` the Bank Route: ${data[\"routeCode\"]}?`;\r\n    }\r\n    this.confirmationService.confirm({\r\n      message: completeMsg,\r\n      key: \"activeDeactiveRouteStatus\",\r\n      accept: () => {\r\n        this.updateStatus(e, reqStatus, data);\r\n        this.setHeaderSidebarBtn(true);\r\n      },\r\n      reject: () => {\r\n        this.confirmationService.close;\r\n        this.setHeaderSidebarBtn(false);\r\n      },\r\n    });\r\n  }\r\n\r\n  setHeaderSidebarBtn(accept: boolean) {\r\n    this.coreService.displayLoadingScreen();\r\n    setTimeout(() => {\r\n      this.coreService.setHeaderStickyStyle(true);\r\n      this.coreService.setSidebarBtnFixedStyle(true);\r\n    }, 500);\r\n    if (!accept) {\r\n      setTimeout(() => {\r\n        this.coreService.removeLoadingScreen();\r\n      }, 1000);\r\n    }\r\n  }\r\n\r\n  updateStatus(e: any, reqStatus: any, data: any) {\r\n    this.coreService.displayLoadingScreen();\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"userId\", this.userData.userId);\r\n    formData.append(\"routeCode\", data[\"routeCode\"]);\r\n    formData.append(\"status\", reqStatus);\r\n    formData.append(\"applications\", this.appCtrl.value.code);\r\n    formData.append(\"moduleName\", this.moduleCtrl.value.code);\r\n    formData.append(\"form\", this.formName);\r\n    this.updateBankRouteStatus(formData, e.target, data);\r\n  }\r\n\r\n  updateBankRouteStatus(formData: any, sliderElm: any, routeData: any) {\r\n    this.bankRoutingService.updateBankRouteStatus(formData).subscribe(\r\n      (res) => {\r\n        if (\r\n          res[\"status\"] &&\r\n          typeof res[\"status\"] == \"string\" &&\r\n          (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n        ) {\r\n          if (res[\"error\"]) {\r\n            this.coreService.showWarningToast(res[\"error\"]);\r\n          } else {\r\n            this.coreService.showWarningToast(\"Some error in fetching data\");\r\n          }\r\n        } else {\r\n          let message = \"\";\r\n          if (res[\"error\"] == \"true\") {\r\n            this.coreService.removeLoadingScreen();\r\n            message = `Kindly deactivate the Route code: ${res[\"msg\"]} ( ${routeData[\"criteriaMap\"]} ) to activate the current record.`;\r\n            this.coreService.showWarningToast(message);\r\n          } else {\r\n            if (res[\"msg\"]) {\r\n              message = res[\"msg\"];\r\n              sliderElm.checked = sliderElm!.checked;\r\n              this.getDecodedDataForListing(\r\n                this.userData.userId,\r\n                this.appCtrl.value.code,\r\n                this.moduleCtrl.value.code\r\n              );\r\n              this.coreService.showSuccessToast(message);\r\n            } else {\r\n              this.coreService.removeLoadingScreen();\r\n              message = \"Error in fetching data, Please try again later\";\r\n              this.coreService.showWarningToast(message);\r\n            }\r\n          }\r\n        }\r\n      },\r\n      (err) => {\r\n        console.log(\"Error in updateBankRouteStatus\", err);\r\n        this.coreService.removeLoadingScreen();\r\n      }\r\n    );\r\n  }\r\n\r\n  isLinked(id: any) {\r\n    return this.linkedRouteCode.includes(id);\r\n  }\r\n\r\n  addNewRoutePage() {\r\n    this.router.navigate([\"navbar\", \"bank-routing\", \"addnewroute\"]);\r\n  }\r\n  toggleFilterVisibility(field) {\r\n    this[`show${field}Options`] = !this[`show${field}Options`];\r\n  }\r\n\r\n  hideFilterVisibility(field) {\r\n    this[`show${field}Options`] = false;\r\n  }\r\n\r\n  getSelectedFilterArr(field: any) {\r\n    return this[`selectedFilter${field}`];\r\n  }\r\n\r\n  setSelectedFilter(ms: MultiSelect, field: any) {\r\n    this[`selectedFilter${field}`] = ms.value;\r\n  }\r\n\r\n  fieldFilterVisible(field: any) {\r\n    return this[`show${field}Options`];\r\n  }\r\n\r\n  fieldFilterOptions(field: any): [] {\r\n    return this[field];\r\n  }\r\n\r\n  copyToClipboard(text: string) {\r\n    this.coreService.copyToClipboard(text);\r\n  }\r\n}\r\n","<div class=\"visible-main-section\">\r\n  <div class=\"pagetitle\">\r\n    <div class=\"infoicon\">\r\n      <i class=\"pi pi-info-circle\"></i>\r\n      Saved routes will be shown below.\r\n    </div>\r\n    <div class=\"addnew\">\r\n      <button\r\n        pButton\r\n        pRipple\r\n        type=\"button\"\r\n        (click)=\"addNewRoutePage()\"\r\n        label=\"Add New Route\"\r\n        class=\"p-button-raised\"\r\n      ></button>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"app-form-search\">\r\n    <div [formGroup]=\"selectAppModule\" class=\"select-module-application m-2\">\r\n      <div class=\"col-12\">\r\n        <div class=\"row\">\r\n          <div class=\"d-flex field col-md-4 col-lg-4 col-sm-12 col-xs-12 md-4\" >\r\n            <label\r\n              class=\"detail-page-section-heading col-sm-3 col-xs-12\"\r\n              for=\"application\"\r\n              >Application</label\r\n            >\r\n            <p-dropdown\r\n              name=\"application\"\r\n              inputId=\"application\"\r\n              [options]=\"searchApplicationOptions\"\r\n              placeholder=\"Select\"\r\n              optionLabel=\"name\"\r\n              formControlName=\"applications\"\r\n            ></p-dropdown>\r\n          </div>\r\n          <div class=\"d-flex field col-md-4 col-lg-4 col-sm-12 col-xs-12 md-4\">\r\n            <label\r\n              class=\"detail-page-section-heading small col-sm-3 col-xs-12\"\r\n              for=\"module\"\r\n              >Module</label\r\n            >\r\n            <p-dropdown\r\n              name=\"module\"\r\n              inputId=\"module\"\r\n              [options]=\"searchModuleOptions\"\r\n              placeholder=\"Select\"\r\n              optionLabel=\"name\"\r\n              formControlName=\"modules\"\r\n            ></p-dropdown>\r\n          </div>\r\n          <div class=\"addnew field col-md-2 col-lg-2 col-sm-4 col-xs-4 md-2\">\r\n            <button\r\n              pButton\r\n              pRipple\r\n              type=\"button\"\r\n              (click)=\"searchAppModule()\"\r\n              label=\"Apply\"\r\n              class=\"p-button-raised\"\r\n              [disabled]=\"selectAppModule.invalid\"\r\n            ></button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"ptable\" *ngIf=\"bankRoutingData && bankRoutingData.length\">\r\n    <p-table\r\n      #dt\r\n      [columns]=\"cols\"\r\n      [value]=\"bankRoutingData\"\r\n      [paginator]=\"true\"\r\n      [rows]=\"10\"\r\n      [loading]=\"loading\"\r\n      [resizableColumns]=\"true\"\r\n      columnResizeMode=\"fit\"\r\n      [rowHover]=\"true\"\r\n    >\r\n      <ng-template pTemplate=\"header\" let-columns>\r\n        <tr>\r\n          <th\r\n            *ngFor=\"let col of columns; let c = index\"\r\n            pReorderableColumn\r\n            [pSortableColumn]=\"col.field\"\r\n            pResizableColumn\r\n            [style.width]=\"col.width\"\r\n          >\r\n            {{ col.header }}\r\n            <div\r\n              *ngIf=\"c == 0 || col.field == 'status'\"\r\n              (click)=\"$event.stopPropagation()\"\r\n              class=\"filter-icon\"\r\n            >\r\n              <i\r\n                [ngStyle]=\"{\r\n                  color: getSelectedFilterArr(col.field).length\r\n                    ? 'var(--primary-color)'\r\n                    : 'rgb(105 105 105)',\r\n                  fontSize: '11px'\r\n                }\"\r\n                class=\"pi pi-filter-fill\"\r\n                (click)=\"toggleFilterVisibility(col.field)\"\r\n              ></i>\r\n              <p-multiSelect\r\n                #ms\r\n                [options]=\"fieldFilterOptions(col.field)\"\r\n                [filter]=\"true\"\r\n                [displaySelectedLabel]=\"false\"\r\n                [overlayVisible]=\"fieldFilterVisible(col.field)\"\r\n                [defaultLabel]=\"'Search'\"\r\n                [appendTo]=\"'body'\"\r\n                [autoWidth]=\"false\"\r\n                (onChange)=\"\r\n                  dt.filter($event.value, col.field, 'in');\r\n                  setSelectedFilter(ms, col.field)\r\n                \"\r\n                (onPanelHide)=\"hideFilterVisibility(col.field)\"\r\n              >\r\n              </p-multiSelect>\r\n            </div>\r\n          </th>\r\n        </tr>\r\n        <tr class=\"search-row\">\r\n          <th *ngFor=\"let col of cols\">\r\n            <span\r\n              style=\"width: 100%\"\r\n              class=\"p-input-icon-left\"\r\n              *ngIf=\"!(col.field == 'status' || col.field == 'operation')\"\r\n            >\r\n              <i class=\"pi pi-search\"></i>\r\n              <input\r\n                type=\"text\"\r\n                class=\"p-inputtext table-search\"\r\n                placeholder=\"Search\"\r\n                (input)=\"dt.filter($event.target.value, col.field, 'contains')\"\r\n              />\r\n            </span>\r\n          </th>\r\n        </tr>\r\n      </ng-template>\r\n      <ng-template\r\n        pTemplate=\"body\"\r\n        let-rowData\r\n        let-columns=\"columns\"\r\n        let-index=\"rowIndex\"\r\n      >\r\n        <tr [pReorderableRow]=\"index\">\r\n          <ng-container *ngFor=\"let col of columns; let i = index\">\r\n            <td *ngIf=\"!(col.field == 'status' || col.field == 'operation')\">\r\n              <div\r\n                *ngIf=\"!(i == 0 || i == 2 || i == 1)\"\r\n                style=\"display: inline-block\"\r\n                [ngClass]=\"objectKeys(rowData).length == 1 ? 'expandable' : ''\"\r\n              >\r\n                {{ rowData[col[\"field\"]] }}\r\n              </div>\r\n              <a\r\n                *ngIf=\"i == 0\"\r\n                style=\"text-decoration: underline !important\"\r\n                [ngStyle]=\"{\r\n                  color: isLinked(rowData[col['field']])\r\n                    ? '#f89406'\r\n                    : 'var(--primary-color)',\r\n                  fontSize: '11px',\r\n                  cursor: 'pointer'\r\n                }\"\r\n                [pTooltip]=\"'Active Transactions Exist.'\"\r\n                [tooltipDisabled]=\"!isLinked(rowData[col['field']])\"\r\n                tabindex=\"0\"\r\n                (keyup.Space)= \"viewBankRouting(rowData)()\"\r\n                (click)=\"viewBankRouting(rowData)\"\r\n                >{{ rowData[col[\"field\"]] }}</a\r\n              >\r\n              <span\r\n                *ngIf=\"i == 1\"\r\n                [pTooltip]=\"\r\n                  rowData[col['field']].length > 30 ? rowData[col['field']] : ''\r\n                \"\r\n                tooltipPosition=\"bottom\"\r\n              >\r\n                {{\r\n                  rowData[col[\"field\"]].length > 30\r\n                    ? rowData[col[\"field\"]].substring(0, 30) + \"..\"\r\n                    : rowData[col[\"field\"]]\r\n                }}</span\r\n              >\r\n              <span\r\n                *ngIf=\"i == 2\"\r\n                [pTooltip]=\"\r\n                  rowData[col['field']].length > 80 ? rowData[col['field']] : ''\r\n                \"\r\n                tooltipPosition=\"bottom\"\r\n                (mouseenter)=\"rowData['isHovered'] = true\"\r\n                (mouseleave)=\"rowData['isHovered'] = false\"\r\n              >\r\n                {{\r\n                  rowData[col[\"field\"]].length > 80\r\n                    ? rowData[\"isHovered\"]\r\n                      ? rowData[col[\"field\"]].substring(0, 75) + \"..\"\r\n                      : rowData[col[\"field\"]].substring(0, 80) + \"..\"\r\n                    : rowData[col[\"field\"]]\r\n                }}<a\r\n                  style=\"cursor: pointer\"\r\n                  *ngIf=\"\r\n                    rowData['isHovered'] && rowData[col['field']].length > 80\r\n                  \"\r\n                  (click)=\"copyToClipboard(rowData[col['field']])\"\r\n                  >COPY</a\r\n                ></span\r\n              >\r\n            </td>\r\n\r\n            <td\r\n              *ngIf=\"col.field == 'status'\"\r\n              style=\"border: none; text-align: center\"\r\n            >\r\n              <label\r\n                *ngIf=\"objectKeys(rowData).length != 1\"\r\n                class=\"switch\"\r\n                tabindex=\"0\"\r\n                (keyup.Space)= \"statusInp.click()\"\r\n              >\r\n                <input\r\n                  #statusInp\r\n                  type=\"checkbox\"\r\n                  (click)=\"confirmStatus($event, rowData)\"\r\n                  [checked]=\"\r\n                    rowData[col['field']] == 'Active' ||\r\n                    rowData[col['field']] == 'A'\r\n                      ? true\r\n                      : false\r\n                  \"\r\n                />\r\n                <span class=\"slider round\"></span>\r\n              </label>\r\n            </td>\r\n            <td\r\n              *ngIf=\"col.field == 'operation'\"\r\n              style=\"border: none; text-align: center\"\r\n            >\r\n              <span class=\"image-text\">\r\n                <button\r\n                  pButton\r\n                  type=\"button\"\r\n                  icon=\"pi pi-clone\"\r\n                  class=\"operation-btns mr-2\"\r\n                  [disabled]=\"rowData['status'] == 'Inactive'\"\r\n                  (click)=\"cloneRoute(rowData)\"\r\n                ></button>\r\n              </span>\r\n            </td>\r\n          </ng-container>\r\n        </tr>\r\n      </ng-template>\r\n      <ng-template pTemplate=\"emptymessage\">\r\n        <tr>\r\n          <td [attr.colspan]=\"cols.length\">No Data found.</td>\r\n        </tr>\r\n      </ng-template>\r\n      <ng-template pTemplate=\"paginatorleft\" let-state>\r\n        {{ state.page * state.rows + 1 }} -\r\n        {{\r\n          state.rows * (state.page + 1) > state.totalRecords\r\n            ? state.totalRecords\r\n            : state.rows * (state.page + 1)\r\n        }}\r\n        of {{ state.totalRecords }}\r\n      </ng-template>\r\n    </p-table>\r\n  </div>\r\n</div>\r\n<div class=\"NorecordFound\" *ngIf=\"!bankRoutingData?.length && showNoDataFound\">\r\n  <div class=\"row\">\r\n    <div class=\"col-12\"><img src=\"assets/noRecordFound.svg\" /></div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col-12\">\r\n      <p>\"No Record Found.Click Add New Route To Add Record\"</p>\r\n      <button\r\n        pButton\r\n        pRipple\r\n        type=\"button\"\r\n        (click)=\"addNewRoutePage()\"\r\n        label=\"Add New Route\"\r\n        class=\"p-button-raised\"\r\n      ></button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<p-confirmDialog\r\n  key=\"activeDeactiveRouteStatus\"\r\n  class=\"status-confirm confirm-popup\"\r\n  #cd\r\n  [closable]=\"false\"\r\n>\r\n  <p-footer>\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-check\"\r\n      label=\"Yes\"\r\n      (click)=\"cd.accept()\"\r\n    ></button>\r\n\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-times\"\r\n      label=\"No\"\r\n      (click)=\"cd.reject()\"\r\n    ></button>\r\n  </p-footer>\r\n</p-confirmDialog>\r\n","import { HttpClient, HttpHeaders } from \"@angular/common/http\";\r\nimport { Component, Input, OnInit, ViewChild } from \"@angular/core\";\r\nimport {\r\n  FormBuilder,\r\n  FormGroup,\r\n  UntypedFormGroup,\r\n  Validators,\r\n} from \"@angular/forms\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { ConfirmationService } from \"primeng/api\";\r\nimport { delay } from \"rxjs/operators\";\r\nimport { CoreService } from \"src/app/core.service\";\r\nimport { CustomerProfileService } from \"src/app/customer-profile/customer-profile.service\";\r\nimport _lodashClone from \"lodash-es/cloneDeep\";\r\nimport { AddCustomerBenefComponent } from \"../add-customer-benef/add-customer-benef.component\";\r\n@Component({\r\n  selector: \"app-add-beneficiary\",\r\n  templateUrl: \"./add-beneficiary.component.html\",\r\n  styleUrls: [\"./add-beneficiary.component.scss\"],\r\n})\r\nexport class AddBeneficiaryComponent implements OnInit {\r\n  @ViewChild(AddCustomerBenefComponent)\r\n  CHILD_BENEF_COMPONENT: AddCustomerBenefComponent;\r\n\r\n  Select: \"Select\";\r\n  constructor(\r\n    private coreService: CoreService,\r\n    private formBuilder: FormBuilder,\r\n    private http: HttpClient,\r\n    private activatedRoute: ActivatedRoute,\r\n    private router: Router,\r\n    private confirmationService: ConfirmationService,\r\n    private customerService: CustomerProfileService\r\n  ) {}\r\n\r\n  activeTabIndex: any = \"0\";\r\n  previousTabIndex: any = \"0\";\r\n\r\n  formData: any = null;\r\n  beneData: any;\r\n  masterData: any;\r\n\r\n  disabledFields: any = {};\r\n\r\n  userId = null;\r\n  today = new Date();\r\n  pastYear = new Date(\"01/01/1950\");\r\n  futureYear = new Date(\"01/01/2050\");\r\n  dobMaxDate = new Date(this.today.setFullYear(this.today.getFullYear() - 18));\r\n  expiryMinDate = new Date();\r\n  issueMaxDate = new Date();\r\n  objectKeys = Object.keys;\r\n  showForm: boolean = false;\r\n  submitted = false;\r\n\r\n  formSections: any[] = [];\r\n  apiData: any = [];\r\n\r\n  Options = [\r\n    { name: \"first\", code: \"NY\" },\r\n    { name: \"second\", code: \"RM\" },\r\n    { name: \"third\", code: \"LDN\" },\r\n  ];\r\n\r\n  mode = \"add\";\r\n  custId = null;\r\n  custType = \"IND\";\r\n  customerId = null;\r\n  customerCode = null;\r\n  customerFullName = null;\r\n  status = null;\r\n\r\n  CustomerData: any = null;\r\n\r\n  moduleName = \"Remittance\";\r\n  formName = \"Customer Profile Beneficiary_Form Rules\";\r\n  applicationName =\r\n    JSON.parse(localStorage.getItem(\"appAccess\"))[0][\"name\"] || \"Casmex Core\";\r\n  licenseCountry = localStorage.getItem(\"licenseCountry\");\r\n\r\n  causingCriteriaFieldsArr = [];\r\n  causingCriteriaMapObj = {};\r\n\r\n  docFormSections = [];\r\n  duplicateCheckFields = [];\r\n\r\n  ngOnInit(): void {\r\n    this.coreService.displayLoadingScreen();\r\n    this.activatedRoute.data.subscribe((data) => {\r\n      this.coreService.setBreadCrumbMenu(Object.values(data));\r\n    });\r\n    this.userId = JSON.parse(localStorage.getItem(\"userData\"))[\"userId\"];\r\n\r\n    const params = this.activatedRoute.snapshot.params;\r\n    if (params && params.id) {\r\n      this.mode = this.activatedRoute.snapshot.routeConfig.path.substring(\r\n        this.activatedRoute.snapshot.routeConfig.path.lastIndexOf(\"/\") + 1\r\n      );\r\n      console.log(\"paraa\", params);\r\n      this.customerCode = params.id;\r\n      this.custId = params.benefid;\r\n      this.custType = params.type;\r\n      this.customerFullName = params.name;\r\n      if (this.custType == \"COR\") {\r\n        console.log(\"Here\");\r\n        this.activeTabIndex = 1;\r\n        this.previousTabIndex = 1;\r\n      } else {\r\n        this.activeTabIndex = 0;\r\n      }\r\n    }\r\n    console.log(this.custId, this.custType);\r\n\r\n    this.getCausingCriteriaFields(\r\n      this.userId,\r\n      this.applicationName,\r\n      this.moduleName,\r\n      this.formName\r\n    );\r\n  }\r\n\r\n  getCausingCriteriaFields(\r\n    userId: any,\r\n    appName: any,\r\n    modName: any,\r\n    formName: any\r\n  ) {\r\n    // this.getBeneficiaryMasterData();\r\n    this.getCustomerMasterDataFromAppControlAndRemittance();\r\n    this.customerService\r\n      .getCausingCriteriaFields(userId, appName, modName, formName)\r\n      .subscribe((res) => {\r\n        if (res[\"Criteria FieldNames\"]) {\r\n          console.log(\":::\", Object.values(res[\"Criteria FieldNames\"]));\r\n          this.causingCriteriaFieldsArr = _lodashClone(\r\n            Object.values(res[\"Criteria FieldNames\"])\r\n          );\r\n          this.setCausingCriteriaMapObj(this.causingCriteriaFieldsArr);\r\n          this.getFormRulesFields(this.causingCriteriaMapObj, true);\r\n        }\r\n      });\r\n  }\r\n\r\n  setCausingCriteriaMapObj(causingCrtFieldsArr: any) {\r\n    causingCrtFieldsArr.forEach((crtField: string) => {\r\n      if (crtField == \"licenceCountry\") {\r\n        this.causingCriteriaMapObj[\"licenceCountry\"] = this.licenseCountry;\r\n      } else if (crtField == \"Customer Type\") {\r\n        this.causingCriteriaMapObj[\"Customer Type\"] =\r\n          this.custType == \"IND\" ? \"IND\" : \"COR\";\r\n      } else {\r\n        this.causingCriteriaMapObj[crtField] = \"NA\";\r\n      }\r\n    });\r\n  }\r\n\r\n  handleChange(event: any) {\r\n    console.log(this.previousTabIndex, this.activeTabIndex, event);\r\n    this.activeTabIndex = event.index;\r\n    if (this.activeTabIndex != this.previousTabIndex) {\r\n      this.previousTabIndex = this.activeTabIndex;\r\n      this.showForm = false;\r\n      this.formData = null;\r\n      if (this.CHILD_BENEF_COMPONENT.individualForm) {\r\n        this.CHILD_BENEF_COMPONENT.formDataOrg = null;\r\n        if (this.CHILD_BENEF_COMPONENT.individualForm?.dirty) {\r\n          this.coreService.showWarningToast(\"Unsaved change has been reset\");\r\n        }\r\n        this.CHILD_BENEF_COMPONENT.individualForm = undefined;\r\n      }\r\n      this.coreService.displayLoadingScreen();\r\n      if (this.activeTabIndex == \"0\") {\r\n        console.log(\":::\", \"IND cal\");\r\n        this.custType = \"IND\";\r\n        this.setCausingCriteriaMapObj(this.causingCriteriaFieldsArr);\r\n        this.getFormRulesFields(this.causingCriteriaMapObj, true);\r\n      } else {\r\n        console.log(\":::\", \"COR cal\");\r\n        this.custType = \"COR\";\r\n        this.setCausingCriteriaMapObj(this.causingCriteriaFieldsArr);\r\n        this.getFormRulesFields(this.causingCriteriaMapObj, true);\r\n      }\r\n    }\r\n  }\r\n\r\n  getFormRulesFields(causingCriteriaMapObj: any, init: boolean = false) {\r\n    console.log(this.causingCriteriaMapObj);\r\n    let causingCriteriaFieldValueArr = [];\r\n    for (const [crtField, value] of Object.entries(causingCriteriaMapObj)) {\r\n      console.log(`${crtField}: ${value}`);\r\n      causingCriteriaFieldValueArr.push(`${crtField} = ${value}`);\r\n    }\r\n\r\n    let causingCriteriaMap = causingCriteriaFieldValueArr.length\r\n      ? causingCriteriaFieldValueArr.join(\";\")\r\n      : \"NA\";\r\n    this.http\r\n      .get(`/appControl/formRulesController/getFormRulesSetting`, {\r\n        headers: new HttpHeaders()\r\n          .set(\"criteriaMap\", causingCriteriaMap)\r\n          .set(\"form\", \"Customer Profile Beneficiary_Form Rules\")\r\n          .set(\"moduleName\", \"Remittance\")\r\n          .set(\"applications\", \"Casmex Core\"),\r\n      })\r\n      .subscribe(\r\n        (res) => {\r\n          if (res[\"msg\"]) {\r\n            this.apiData = {};\r\n            this.coreService.removeLoadingScreen();\r\n            this.coreService.showWarningToast(res[\"msg\"]);\r\n          } else {\r\n            // this.setFormByData(res);\r\n            if (init) {\r\n              this.formData = res;\r\n              if (this.mode == \"edit\") {\r\n                this.getBeneficiaryData(this.custId);\r\n              } else {\r\n                this.coreService.removeLoadingScreen();\r\n              }\r\n            } else {\r\n              this.CHILD_BENEF_COMPONENT.modifyFormFieldsRules(res);\r\n            }\r\n            console.log(\"API called\", this.formData);\r\n          }\r\n        },\r\n        (err) => {\r\n          this.coreService.showWarningToast(\r\n            \"Some error while fetchinggg data, Try again in sometime\"\r\n          );\r\n          this.coreService.removeLoadingScreen();\r\n        }\r\n      );\r\n  }\r\n\r\n  // getBeneficiaryMasterData() {\r\n  //   this.http\r\n  //     .get(\r\n  //       `/appControl/beneficiaryProfileController/getBeneficiaryProfileMaster`,\r\n  //       {\r\n  //         headers: new HttpHeaders().set(\"userId\", this.userId),\r\n  //       }\r\n  //     )\r\n  //     .subscribe(\r\n  //       (res) => {\r\n  //         if (res[\"status\"] == \"200\") {\r\n  //           this.masterData = res[\"data\"];\r\n  //           console.log(\"masterdatatype\", this.masterData);\r\n  //         }\r\n  //       },\r\n  //       (err) => {\r\n  //         this.coreService.showWarningToast(\r\n  //           \"Some error while fetching data, Try again in sometime\"\r\n  //         );\r\n  //       }\r\n  //     );\r\n  // }\r\n\r\n  getCustomerMasterDataFromAppControlAndRemittance() {\r\n    this.masterData = {};\r\n    this.customerService\r\n      .getCustomerMasterDataFromAppControlAndRemittance()\r\n      .subscribe(\r\n        (responses: any[]) => {\r\n          // Handle successful responses\r\n          console.log(\"Response from API 1:\", responses[0]);\r\n          console.log(\"Response from API 2:\", responses[1]);\r\n          this.masterData = {\r\n            ...responses[0][\"data\"],\r\n            ...responses[1][\"data\"],\r\n          };\r\n        },\r\n        (error) => {\r\n          // Handle error if any API request fails\r\n          console.error(\"Error:\", error);\r\n          // You can show an error message to the user or handle it in any other way\r\n        }\r\n      );\r\n  }\r\n\r\n  getBeneficiaryData(custId: any) {\r\n    this.coreService.displayLoadingScreen();\r\n    this.http\r\n      .get(\r\n        `/appControl/beneficiaryProfileController/getBeneficiaryProfile/${custId}`,\r\n        {\r\n          headers: new HttpHeaders().set(\"userId\", this.userId),\r\n        }\r\n      )\r\n      .pipe(\r\n        delay(2000) // Adjust the delay time in milliseconds\r\n      )\r\n      .subscribe(\r\n        (res) => {\r\n          this.coreService.removeLoadingScreen();\r\n          if (res[\"status\"] == \"200\") {\r\n            console.log(res[\"responseData\"]);\r\n            this.beneData = res[\"responseData\"];\r\n            // this.setCustomerFormData(res[\"data\"]);\r\n            console.log();\r\n            this.customerId = res[\"responseData\"][\"customerId\"];\r\n            this.status = res[\"responseData\"][\"status\"];\r\n            // if (res[\"responseData\"][\"status\"] == \"Inactive\") {\r\n            //   this.disableFormControls();\r\n            //   // this.deactivated = true;\r\n            // }\r\n          }\r\n        },\r\n        (err) => {\r\n          this.coreService.showWarningToast(\r\n            \"Some error while fetching data, Try again in sometime\"\r\n          );\r\n          this.coreService.removeLoadingScreen();\r\n        }\r\n      );\r\n  }\r\n\r\n  onSubmit(payload: any): void {\r\n    this.submitted = true;\r\n    let payloadFormData = new FormData();\r\n    for (let key in payload) {\r\n      payloadFormData.append(key, payload[key]);\r\n    }\r\n    console.log(\"formdata\", payloadFormData);\r\n    if (this.mode == \"edit\") {\r\n      payload[\"id\"] = +this.custId;\r\n      payload[\"customerId\"] = this.customerId;\r\n      payload[\"customerType\"] =\r\n        this.custType == \"COR\" ? \"Corporate\" : \"Individual\";\r\n      payload[\"status\"] = String(this.status);\r\n      this.saveBeneficiaryForEdit(payload);\r\n    } else {\r\n      payload[\"customerId\"] = +this.customerCode;\r\n      payload[\"customerType\"] =\r\n        this.custType == \"COR\" ? \"Corporate\" : \"Individual\";\r\n      payload[\"status\"] = String((this.status = \"Active\"));\r\n      this.saveBeneficiaryCustomer(payload);\r\n    }\r\n  }\r\n  saveBeneficiaryForEdit(payload: any) {\r\n    this.http\r\n      .put(\r\n        `/appControl/beneficiaryProfileController/updateBeneficiaryProfile`,\r\n        payload,\r\n        {\r\n          headers: new HttpHeaders()\r\n            .set(\"userId\", this.userId)\r\n            .set(\r\n              \"customerType\",\r\n              this.custType == \"COR\" ? \"Corporate\" : \"Individual\"\r\n            ),\r\n        }\r\n      )\r\n      .subscribe(\r\n        (res) => {\r\n          if (res[\"status\"] == \"200\") {\r\n            if (res[\"error\"]) {\r\n              this.coreService.showWarningToast(res[\"error\"]);\r\n              this.coreService.removeLoadingScreen();\r\n            } else {\r\n              if (res[\"data\"]) {\r\n                this.coreService.showSuccessToast(res[\"data\"]);\r\n              } else {\r\n                this.coreService.showSuccessToast(\r\n                  \"Profile data Updated successfully Saved\"\r\n                );\r\n              }\r\n              this.router.navigate([\"navbar\", \"beneficiary-profile\"]);\r\n              // this.onReset()\r\n            }\r\n          } else {\r\n            this.coreService.removeLoadingScreen();\r\n          }\r\n        },\r\n        (err) => {\r\n          this.coreService.showWarningToast(\r\n            \"Some error while saving data, Try again in sometime\"\r\n          );\r\n          console.log(\"err\", err);\r\n          this.coreService.removeLoadingScreen();\r\n        }\r\n      );\r\n  }\r\n  saveBeneficiaryCustomer(payload: any) {\r\n    console.log(this.userId);\r\n    console.log(this.custType);\r\n    this.http\r\n      .post(\r\n        `/appControl/beneficiaryProfileController/saveBeneficiaryProfile`,\r\n        payload,\r\n        {\r\n          headers: new HttpHeaders()\r\n            .set(\"userId\", this.userId)\r\n            .set(\r\n              \"customerType\",\r\n              this.custType == \"COR\" ? \"Corporate\" : \"Individual\"\r\n            ),\r\n        }\r\n      )\r\n      .subscribe(\r\n        (res) => {\r\n          if (res[\"status\"] == \"200\") {\r\n            if (res[\"error\"]) {\r\n              this.coreService.showWarningToast(res[\"error\"]);\r\n              this.coreService.removeLoadingScreen();\r\n            } else {\r\n              if (res[\"data\"]) {\r\n                this.coreService.showSuccessToast(res[\"data\"]);\r\n              } else {\r\n                this.coreService.showSuccessToast(\r\n                  \"Profile data successfully saved\"\r\n                );\r\n              }\r\n              this.router.navigate([\"navbar\", \"beneficiary-profile\"]);\r\n            }\r\n            // this.onReset()\r\n          } else {\r\n            this.coreService.removeLoadingScreen();\r\n          }\r\n        },\r\n        (err) => {\r\n          this.coreService.showWarningToast(\r\n            \"Some error while saving data, Try again in sometime\"\r\n          );\r\n          console.log(\"err\", err);\r\n          this.coreService.removeLoadingScreen();\r\n        }\r\n      );\r\n  }\r\n\r\n  updateBeneficiaryCustomer(payload: any) {\r\n    this.http\r\n      .put(\r\n        `/appControl/corporateCustomerController/updateCorporateCustomer`,\r\n        payload,\r\n        {\r\n          headers: new HttpHeaders()\r\n            .set(\"userId\", this.userId)\r\n            .set(\"customerType\", \"Individual\"),\r\n        }\r\n      )\r\n      .subscribe(\r\n        (res) => {\r\n          this.coreService.removeLoadingScreen();\r\n          if (res[\"status\"] == \"200\") {\r\n            if (res[\"error\"]) {\r\n              this.coreService.showWarningToast(res[\"error\"]);\r\n              this.coreService.removeLoadingScreen();\r\n            } else {\r\n              if (res[\"data\"]) {\r\n                this.coreService.showSuccessToast(res[\"data\"]);\r\n              } else {\r\n                this.coreService.showSuccessToast(\r\n                  \"Profile data updated successfully\"\r\n                );\r\n              }\r\n              this.router.navigate([\"navbar\", \"beneficiary-profile\"]);\r\n            }\r\n            // this.onReset()\r\n          }\r\n        },\r\n        (err) => {\r\n          this.coreService.showWarningToast(\r\n            \"Some error while saving data, Try again in sometime\"\r\n          );\r\n          this.coreService.removeLoadingScreen();\r\n        }\r\n      );\r\n  }\r\n\r\n  setHeaderSidebarBtn() {\r\n    this.coreService.displayLoadingScreen();\r\n    setTimeout(() => {\r\n      this.coreService.setHeaderStickyStyle(true);\r\n      this.coreService.setSidebarBtnFixedStyle(true);\r\n    }, 500);\r\n    setTimeout(() => {\r\n      this.coreService.removeLoadingScreen();\r\n    }, 1000);\r\n  }\r\n}\r\n","<div class=\"row visible-main-section\">\r\n  <div class=\"custName\">\r\n    Customer Code: {{ customerCode }} | Customer Name: {{ customerFullName }}\r\n  </div>\r\n  <div class=\"col-12\">\r\n    <p-tabView\r\n      (onChange)=\"handleChange($event)\"\r\n      [(activeIndex)]=\"activeTabIndex\"\r\n    >\r\n      <p-tabPanel\r\n        header=\"Individual\"\r\n        [disabled]=\"mode == 'edit' && custType == 'COR'\"\r\n      >\r\n        <app-add-customer-benef\r\n          *ngIf=\"custType == 'IND'\"\r\n          [mode]=\"mode\"\r\n          [showForm]=\"showForm\"\r\n          [masterData]=\"masterData\"\r\n          [beneData]=\"beneData\"\r\n          [formData]=\"formData\"\r\n          [docFormSections]=\"docFormSections\"\r\n          [duplicateCheckFields]=\"duplicateCheckFields\"\r\n          [causingCriteriaFieldsArr]=\"causingCriteriaFieldsArr\"\r\n          [causingCriteriaMapObj]=\"causingCriteriaMapObj\"\r\n          (postData)=\"onSubmit($event)\"\r\n          (sendCausingCriteriaMapObj)=\"this.getFormRulesFields($event)\"\r\n        ></app-add-customer-benef>\r\n      </p-tabPanel>\r\n      <p-tabPanel\r\n        header=\"Corporate\"\r\n        [disabled]=\"mode == 'edit' && custType == 'IND'\"\r\n      >\r\n        <ng-template pTemplate=\"content\">\r\n          <app-add-customer-benef\r\n            *ngIf=\"custType == 'COR'\"\r\n            [mode]=\"mode\"\r\n            [showForm]=\"showForm\"\r\n            [masterData]=\"masterData\"\r\n            [beneData]=\"beneData\"\r\n            [formData]=\"formData\"\r\n            [docFormSections]=\"docFormSections\"\r\n            [duplicateCheckFields]=\"duplicateCheckFields\"\r\n            [causingCriteriaFieldsArr]=\"causingCriteriaFieldsArr\"\r\n            [causingCriteriaMapObj]=\"causingCriteriaMapObj\"\r\n            (postData)=\"onSubmit($event)\"\r\n            (sendCausingCriteriaMapObj)=\"this.getFormRulesFields($event)\"\r\n          ></app-add-customer-benef>\r\n        </ng-template>\r\n      </p-tabPanel>\r\n    </p-tabView>\r\n  </div>\r\n</div>\r\n\r\n<p-confirmDialog\r\n  key=\"resetINDWarning\"\r\n  class=\"confirm-popup\"\r\n  #cd\r\n  [closable]=\"false\"\r\n>\r\n  <p-footer>\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-check\"\r\n      label=\"Yes\"\r\n      (click)=\"cd.accept()\"\r\n    ></button>\r\n\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-times\"\r\n      label=\"No\"\r\n      (click)=\"cd.reject()\"\r\n    ></button>\r\n  </p-footer>\r\n</p-confirmDialog>\r\n","import { HttpClient, HttpHeaders } from \"@angular/common/http\";\r\nimport {\r\n  Component,\r\n  EventEmitter,\r\n  Input,\r\n  OnDestroy,\r\n  OnInit,\r\n  Output,\r\n  SimpleChange,\r\n  ViewChild,\r\n} from \"@angular/core\";\r\nimport {\r\n  FormBuilder,\r\n  FormGroup,\r\n  UntypedFormGroup,\r\n  Validators,\r\n} from \"@angular/forms\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { ConfirmationService } from \"primeng/api\";\r\nimport { Calendar } from \"primeng/calendar\";\r\nimport { Observable, Subscription } from \"rxjs\";\r\nimport { CoreService } from \"src/app/core.service\";\r\nimport { CustomerProfileService } from \"src/app/customer-profile/customer-profile.service\";\r\nimport _lodashClone from \"lodash-es/cloneDeep\";\r\nimport _lodashIsEqual from \"lodash-es/isequal\";\r\n\r\n@Component({\r\n  selector: \"app-add-customer-benef\",\r\n  templateUrl: \"./add-customer-benef.component.html\",\r\n  styleUrls: [\"./add-customer-benef.component.scss\"],\r\n})\r\nexport class AddCustomerBenefComponent implements OnInit, OnDestroy {\r\n  @ViewChild(\"calendar\") calendar: Calendar;\r\n  @Input(\"formData\") formData: any;\r\n  @Input(\"beneData\") beneData: any;\r\n  @Input(\"masterData\") masterData: any;\r\n  @Input(\"docFormSections\") docFormSections: any;\r\n  @Input(\"duplicateCheckFields\") duplicateCheckFields: any;\r\n  @Input(\"causingCriteriaFieldsArr\") causingCriteriaFieldsArr: any;\r\n  @Input(\"causingCriteriaMapObj\") causingCriteriaMapObj: any;\r\n  @Input(\"mode\") mode: any;\r\n  @Input(\"showForm\") showForm: boolean = false;\r\n\r\n  @Output() postData = new EventEmitter<any>();\r\n  @Output() sendCausingCriteriaMapObj = new EventEmitter<any>();\r\n\r\n  // masterData : any =[];\r\n\r\n  deactivated: boolean = false;\r\n  disabledFields: any = {};\r\n\r\n  custId = null;\r\n  userId = null;\r\n  submitted = false;\r\n  today = new Date();\r\n  pastYear = new Date(\"01/01/1950\");\r\n  futureYear = new Date(\"01/01/2050\");\r\n  dobMaxDate = new Date(this.today.setFullYear(this.today.getFullYear() - 18));\r\n\r\n  individualForm: FormGroup;\r\n  formSections: any[] = [];\r\n\r\n  objectKeys = Object.keys;\r\n\r\n  formDataOrg = null;\r\n  beneDataOrg = {};\r\n  masterDataOrg = null;\r\n  modeVal = \"add\";\r\n\r\n  countryDialCode: any = \"+91\";\r\n\r\n  countryChange$: Subscription = null;\r\n\r\n  initFormRuleDataJson = [];\r\n  initFormRuleFieldsNames = [];\r\n\r\n  constructor(\r\n    private coreService: CoreService,\r\n    private formBuilder: FormBuilder,\r\n    private activatedRoute: ActivatedRoute,\r\n    private router: Router,\r\n    private confirmationService: ConfirmationService,\r\n    private http: HttpClient,\r\n    private customerService: CustomerProfileService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.userId = JSON.parse(localStorage.getItem(\"userData\"))[\"userId\"];\r\n  }\r\n\r\n  ngOnChanges(e: any) {\r\n    console.log(\"ngonchanges\", e);\r\n\r\n    if (e.formData && e.formData.currentValue) {\r\n      this.formDataOrg = JSON.parse(JSON.stringify(e.formData.currentValue));\r\n      if (this.masterDataOrg) {\r\n        this.individualForm = this.formBuilder.group({});\r\n        this.setFormByData(this.formDataOrg);\r\n      }\r\n    }\r\n    if (e.masterData && e.masterData.currentValue) {\r\n      this.masterDataOrg = e.masterData.currentValue;\r\n      if (this.formDataOrg) {\r\n        this.individualForm = this.formBuilder.group({});\r\n        this.setFormByData(this.formDataOrg);\r\n      }\r\n    }\r\n    if (e.mode && e.mode.currentValue) {\r\n      this.modeVal = e.mode.currentValue;\r\n    }\r\n\r\n    if (e.beneData && e.beneData.currentValue) {\r\n      this.beneDataOrg = JSON.parse(JSON.stringify(e.beneData.currentValue));\r\n      if (Object.keys(this.formDataOrg).length) {\r\n        this.setBenefEditFormData(e.beneData.currentValue);\r\n        this.onInactiveStatus();\r\n      }\r\n    }\r\n  }\r\n\r\n  handleDateSelect(calendar: Calendar) {\r\n    setTimeout(() => {\r\n      if (calendar.inputfieldViewChild.nativeElement) {\r\n        calendar.inputfieldViewChild.nativeElement.focus();\r\n      }\r\n    }, 0);\r\n  }\r\n\r\n  checkValidValuesText(e: any, fieldData: any) {\r\n    if (fieldData.validValues && fieldData.validValues.length) {\r\n      let match = true;\r\n      if (e.length) {\r\n        match = false;\r\n      }\r\n      fieldData.validValues.forEach((val) => {\r\n        // if (val.startsWith(e)) {\r\n        if (val == e) {\r\n          match = true;\r\n        }\r\n      });\r\n      if (!match) {\r\n        let currCtrl = this.individualForm\r\n          .get(fieldData.formName)\r\n          ?.get(fieldData.name);\r\n        if (currCtrl) {\r\n          currCtrl.setErrors({\r\n            invalidValue: true,\r\n          });\r\n        }\r\n      }\r\n    }\r\n  }\r\n  checkValidValuesDate(e: any, fieldData: any) {\r\n    if (fieldData.validValues && fieldData.validValues.length) {\r\n      let match = true;\r\n      if (e) {\r\n        match = false;\r\n        fieldData.validValues.forEach((val) => {\r\n          // if (val.startsWith(e)) {\r\n          if (val == e.toLocaleDateString(\"en-GB\")) {\r\n            match = true;\r\n          }\r\n        });\r\n      }\r\n      if (!match) {\r\n        let currCtrl = this.individualForm\r\n          .get(fieldData.formName)\r\n          ?.get(fieldData.name);\r\n        if (currCtrl) {\r\n          currCtrl.setErrors({\r\n            invalidValue: true,\r\n          });\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  setFormByData(data: any) {\r\n    this.initFormRuleDataJson = _lodashClone(data.Rules);\r\n    // NEW JSON START\r\n    let groupedData = data.Rules.reduce((acc, field) => {\r\n      const fieldSectionName = field.displaySection;\r\n      (acc[fieldSectionName] = acc[fieldSectionName] || []).push(field);\r\n      return acc;\r\n    }, {});\r\n    let allFSec = [];\r\n    this.initFormRuleFieldsNames = [];\r\n    Object.keys(groupedData).forEach((key) => {\r\n      let fSec = {\r\n        formName: key,\r\n        seqOrder: groupedData[key][0][\"displaySectionOrder\"],\r\n        fields: groupedData[key]\r\n          .map((secData) => {\r\n            this.initFormRuleFieldsNames.push(secData[\"fieldId\"]);\r\n            if (secData[\"checkDuplicate\"] == \"Yes\") {\r\n              this.duplicateCheckFields.push(secData[\"fieldId\"]);\r\n            }\r\n            let fData = {\r\n              formName: key,\r\n              displaySectionOrder: secData[\"displaySectionOrder\"],\r\n              name: secData[\"fieldId\"],\r\n              formLableFieldSequence: +secData[\"fieldDisplayOrder\"],\r\n              fieldName: secData[\"fieldId\"],\r\n              fieldType: secData[\"fieldType\"] ? secData[\"fieldType\"] : \"text\",\r\n              fieldSubtype: secData[\"fieldSubtype\"]\r\n                ? secData[\"fieldSubtype\"]\r\n                : \"\",\r\n              fieldLabel: secData[\"fieldDisplayName\"],\r\n              required: secData[\"isMandatory\"] == \"True\" ? true : false,\r\n              docFieldMandate: this.docFormSections.includes(\r\n                secData[\"displaySection\"]\r\n              )\r\n                ? secData[\"isMandatory\"] == \"True\"\r\n                  ? true\r\n                  : false\r\n                : false,\r\n              enable: secData[\"isEnable\"] == \"True\" ? true : false,\r\n              visible: secData[\"isVisible\"] == \"True\" ? true : false,\r\n              validLength: secData[\"validLength\"] ? secData[\"validLength\"] : \"\",\r\n              defaultValue:\r\n                secData[\"defaultValue\"] && secData[\"defaultValue\"] != \"null\"\r\n                  ? JSON.parse(secData[\"defaultValue\"])\r\n                  : false,\r\n              newLineField:\r\n                secData[\"displayInNewLine\"] == \"True\" ? true : false,\r\n              apiKey: secData[\"apiKey\"],\r\n              minLength:\r\n                secData[\"minLength\"]?.length > 0 &&\r\n                secData[\"minLength\"] != \"null\"\r\n                  ? +secData[\"minLength\"]\r\n                  : false,\r\n              maxLength:\r\n                secData[\"maxLength\"]?.length > 0 &&\r\n                secData[\"maxLength\"] != \"null\"\r\n                  ? +secData[\"maxLength\"]\r\n                  : false,\r\n              regex:\r\n                secData[\"regex\"] &&\r\n                secData[\"regex\"] != \"null\" &&\r\n                secData[\"regex\"].trim().length\r\n                  ? secData[\"regex\"]\r\n                  : false,\r\n              regexMsg:\r\n                secData[\"regexMessage\"] && secData[\"regexMessage\"].trim().length\r\n                  ? secData[\"regexMessage\"]\r\n                  : false,\r\n              validValues:\r\n                secData[\"validValues\"] && secData[\"validValues\"].length\r\n                  ? JSON.parse(secData[\"validValues\"])\r\n                  : false,\r\n              displayValidValuesOnHover:\r\n                secData[\"displayValidValuesOnHover\"] &&\r\n                secData[\"displayValidValuesOnHover\"] == \"Yes\"\r\n                  ? secData[\"displayValidValuesOnHover\"]\r\n                  : false,\r\n              prefix:\r\n                secData[\"prefix\"] && secData[\"prefix\"].trim().length\r\n                  ? secData[\"prefix\"]\r\n                  : false,\r\n              suffix:\r\n                secData[\"suffix\"] && secData[\"suffix\"].trim().length\r\n                  ? secData[\"suffix\"]\r\n                  : false,\r\n              setOptions:\r\n                secData[\"setOptions\"] && secData[\"setOptions\"].length\r\n                  ? JSON.parse(secData[\"setOptions\"])\r\n                  : false,\r\n              minDate:\r\n                secData[\"fieldType\"] == \"date\"\r\n                  ? secData[\"minDate\"]\r\n                    ? new Date(secData[\"minDate\"])\r\n                    : this.validMinDate(secData[\"fieldId\"])\r\n                  : this.pastYear,\r\n              maxDate:\r\n                secData[\"fieldType\"] == \"date\"\r\n                  ? secData[\"maxDate\"]\r\n                    ? new Date(secData[\"maxDate\"])\r\n                    : this.validMaxDate(secData[\"fieldId\"])\r\n                  : this.futureYear,\r\n              defaultDate:\r\n                secData[\"fieldType\"] == \"date\"\r\n                  ? secData[\"initialDate\"]\r\n                    ? new Date(secData[\"initialDate\"])\r\n                    : this.validDefDate(secData[\"fieldId\"])\r\n                  : new Date(),\r\n              blockMessageCode:\r\n                secData[\"blockMessageCode\"] &&\r\n                secData[\"blockMessageCode\"].length\r\n                  ? JSON.parse(secData[\"blockMessageCode\"])\r\n                  : false,\r\n              warningMessageCode:\r\n                secData[\"warningMessageCode\"] &&\r\n                secData[\"warningMessageCode\"].length\r\n                  ? JSON.parse(secData[\"warningMessageCode\"])\r\n                  : false,\r\n              block: secData[\"block\"] == \"True\" ? true : false,\r\n              warning: secData[\"warning\"] == \"True\" ? true : false,\r\n            };\r\n            return fData;\r\n          })\r\n          .sort((a, b) => a.formLableFieldSequence - b.formLableFieldSequence),\r\n      };\r\n      allFSec.push(fSec);\r\n    });\r\n    // NEW JSON END\r\n\r\n    this.formSections = allFSec.sort((a, b) => a.seqOrder - b.seqOrder);\r\n    this.disabledFields = {};\r\n    this.formSections.forEach((section) => {\r\n      let haveVisibleFields = false;\r\n      const sectionGroup = new UntypedFormGroup({});\r\n      section.fields.forEach((field) => {\r\n        if (!field.enable) {\r\n          this.disabledFields[section.formName] = field.name;\r\n        }\r\n        if (field.visible) {\r\n          haveVisibleFields = true;\r\n        }\r\n        let validators = [];\r\n        if (field.minLength) {\r\n          validators.push(Validators.minLength(field.minLength));\r\n        }\r\n        if (field.maxLength) {\r\n          validators.push(Validators.maxLength(field.maxLength));\r\n        }\r\n        if (field.required) {\r\n          validators.push(Validators.required);\r\n        }\r\n        if (field.regex) {\r\n          validators.push(Validators.pattern(field.regex));\r\n        }\r\n        sectionGroup.addControl(\r\n          field.name,\r\n          this.formBuilder.control(\r\n            {\r\n              value: field.defaultValue ? field.defaultValue : \"\",\r\n              disabled: !field.enable,\r\n            },\r\n            validators\r\n          )\r\n        );\r\n      });\r\n      section[\"isVisible\"] = haveVisibleFields ? true : false;\r\n      this.individualForm.addControl(section.formName, sectionGroup);\r\n    });\r\n\r\n    this.coreService.removeLoadingScreen();\r\n    if (this.individualForm.get(\"Contact Details\")?.get(\"contactCountry\")) {\r\n      this.countryChange$ = this.individualForm\r\n        .get(\"Contact Details\")\r\n        ?.get(\"contactCountry\")\r\n        .valueChanges.subscribe((value) => {\r\n          if (value && value.code) {\r\n            if (\"countryDialCode\" in this.masterData) {\r\n              let filterCode = this.masterData[\"countryDialCode\"].filter(\r\n                (dialCode: any) => dialCode.code == value.code\r\n              );\r\n              if (filterCode && filterCode.length) {\r\n                this.countryDialCode = filterCode[0]?.countryDialCode?.length\r\n                  ? filterCode[0].countryDialCode\r\n                  : \"+91\";\r\n              } else {\r\n                this.countryDialCode = \"+91\";\r\n              }\r\n            }\r\n          }\r\n        });\r\n    }\r\n\r\n    //\r\n    if (this.causingCriteriaFieldsArr && this.causingCriteriaFieldsArr.length) {\r\n      this.causingCriteriaFieldsArr.forEach((crtField) => {\r\n        if (!(crtField == \"licenceCountry\" || crtField == \"Customer Type\")) {\r\n          let fieldRule = this.initFormRuleDataJson.filter(\r\n            (fieldRule) => fieldRule.fieldId == crtField\r\n          )[0];\r\n          if (fieldRule) {\r\n            let fieldSecName = fieldRule.displaySection;\r\n            let fieldType = fieldRule.fieldType;\r\n            this.individualForm\r\n              .get(fieldSecName)\r\n              ?.get(crtField)\r\n              .valueChanges.subscribe((value) => {\r\n                this.formatCausingCriteriaMap(crtField, value, fieldType);\r\n              });\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    this.showForm = true;\r\n  }\r\n\r\n  formatCausingCriteriaMap(crtField, value, fieldType) {\r\n    if (value) {\r\n      let codeValue = value;\r\n      switch (fieldType) {\r\n        case \"dropdownSingle\":\r\n          codeValue = value.code;\r\n          break;\r\n        default:\r\n      }\r\n      this.causingCriteriaMapObj[crtField] = codeValue;\r\n      // this.getformRuleData(this.causingCriteriaMapObj);\r\n      this.sendCausingCriteriaMapObj.next(this.causingCriteriaMapObj);\r\n    }\r\n  }\r\n\r\n  modifyFormFieldsRules(formRulesData: any) {\r\n    formRulesData.Rules.forEach((fieldRule) => {\r\n      if (fieldRule[\"checkDuplicate\"] == \"Yes\") {\r\n        this.duplicateCheckFields.push(fieldRule[\"fieldId\"]);\r\n      }\r\n      let fData = {\r\n        formName: fieldRule[\"displaySection\"],\r\n        displaySectionOrder: fieldRule[\"displaySectionOrder\"],\r\n        name: fieldRule[\"fieldId\"],\r\n        formLableFieldSequence: +fieldRule[\"fieldDisplayOrder\"],\r\n        fieldName: fieldRule[\"fieldId\"],\r\n        fieldType: fieldRule[\"fieldType\"] ? fieldRule[\"fieldType\"] : \"text\",\r\n        fieldSubtype: fieldRule[\"fieldSubtype\"]\r\n          ? fieldRule[\"fieldSubtype\"]\r\n          : \"\",\r\n        fieldLabel: fieldRule[\"fieldDisplayName\"],\r\n        required: this.docFormSections.includes(fieldRule[\"displaySection\"])\r\n          ? false\r\n          : fieldRule[\"isMandatory\"] == \"True\"\r\n          ? true\r\n          : false,\r\n        docFieldMandate: this.docFormSections.includes(\r\n          fieldRule[\"displaySection\"]\r\n        )\r\n          ? fieldRule[\"isMandatory\"] == \"True\"\r\n            ? true\r\n            : false\r\n          : false,\r\n        enable: fieldRule[\"isEnable\"] == \"True\" ? true : false,\r\n        visible: fieldRule[\"isVisible\"] == \"True\" ? true : false,\r\n        validLength: fieldRule[\"validLength\"] ? fieldRule[\"validLength\"] : \"\",\r\n        defaultValue:\r\n          fieldRule[\"defaultValue\"] && fieldRule[\"defaultValue\"] != \"null\"\r\n            ? JSON.parse(fieldRule[\"defaultValue\"])\r\n            : false,\r\n        newLineField: fieldRule[\"displayInNewLine\"] == \"True\" ? true : false,\r\n        apiKey: fieldRule[\"apiKey\"],\r\n        minLength:\r\n          fieldRule[\"minLength\"]?.length > 0 && fieldRule[\"minLength\"] != \"null\"\r\n            ? +fieldRule[\"minLength\"]\r\n            : false,\r\n        maxLength:\r\n          fieldRule[\"maxLength\"]?.length > 0 && fieldRule[\"maxLength\"] != \"null\"\r\n            ? +fieldRule[\"maxLength\"]\r\n            : false,\r\n        regex:\r\n          fieldRule[\"regex\"] &&\r\n          fieldRule[\"regex\"] != \"null\" &&\r\n          fieldRule[\"regex\"].trim().length\r\n            ? fieldRule[\"regex\"]\r\n            : false,\r\n        regexMsg:\r\n          fieldRule[\"regexMessage\"] && fieldRule[\"regexMessage\"].trim().length\r\n            ? fieldRule[\"regexMessage\"]\r\n            : false,\r\n        validValues:\r\n          fieldRule[\"validValues\"] && fieldRule[\"validValues\"].length\r\n            ? JSON.parse(fieldRule[\"validValues\"])\r\n            : false,\r\n        displayValidValuesOnHover:\r\n          fieldRule[\"displayValidValuesOnHover\"] &&\r\n          fieldRule[\"displayValidValuesOnHover\"] == \"Yes\"\r\n            ? fieldRule[\"displayValidValuesOnHover\"]\r\n            : false,\r\n        prefix:\r\n          fieldRule[\"prefix\"] && fieldRule[\"prefix\"].trim().length\r\n            ? fieldRule[\"prefix\"]\r\n            : false,\r\n        suffix:\r\n          fieldRule[\"suffix\"] && fieldRule[\"suffix\"].trim().length\r\n            ? fieldRule[\"suffix\"]\r\n            : false,\r\n        setOptions:\r\n          fieldRule[\"setOptions\"] && fieldRule[\"setOptions\"].length\r\n            ? JSON.parse(fieldRule[\"setOptions\"])\r\n            : false,\r\n        minDate:\r\n          fieldRule[\"fieldType\"] == \"date\"\r\n            ? fieldRule[\"minDate\"]\r\n              ? new Date(fieldRule[\"minDate\"])\r\n              : this.validMinDate(fieldRule[\"fieldId\"])\r\n            : this.pastYear,\r\n        maxDate:\r\n          fieldRule[\"fieldType\"] == \"date\"\r\n            ? fieldRule[\"maxDate\"]\r\n              ? new Date(fieldRule[\"maxDate\"])\r\n              : this.validMaxDate(fieldRule[\"fieldId\"])\r\n            : this.futureYear,\r\n        defaultDate:\r\n          fieldRule[\"fieldType\"] == \"date\"\r\n            ? fieldRule[\"initialDate\"]\r\n              ? new Date(fieldRule[\"initialDate\"])\r\n              : this.validDefDate(fieldRule[\"fieldId\"])\r\n            : new Date(),\r\n        blockMessageCode:\r\n          fieldRule[\"blockMessageCode\"] && fieldRule[\"blockMessageCode\"].length\r\n            ? JSON.parse(fieldRule[\"blockMessageCode\"])\r\n            : false,\r\n        warningMessageCode:\r\n          fieldRule[\"warningMessageCode\"] &&\r\n          fieldRule[\"warningMessageCode\"].length\r\n            ? JSON.parse(fieldRule[\"warningMessageCode\"])\r\n            : false,\r\n        block: fieldRule[\"block\"] == \"True\" ? true : false,\r\n        warning: fieldRule[\"warning\"] == \"True\" ? true : false,\r\n      };\r\n\r\n      if (!fData.enable) {\r\n        this.disabledFields[fieldRule[\"displaySection\"]] = fData.name;\r\n      }\r\n      // if (fData.visible) {\r\n      //   haveVisibleFields = true;\r\n      // }\r\n      let validators = [];\r\n      if (fData.minLength) {\r\n        validators.push(Validators.minLength(fData.minLength as number));\r\n      }\r\n      if (fData.maxLength) {\r\n        validators.push(Validators.maxLength(fData.maxLength as number));\r\n      }\r\n      if (fData.required) {\r\n        validators.push(Validators.required);\r\n      }\r\n      if (fData.regex) {\r\n        validators.push(Validators.pattern(fData.regex));\r\n      }\r\n\r\n      const fieldControl = this.formBuilder.control(\r\n        {\r\n          value: fData.defaultValue ? fData.defaultValue : \"\",\r\n          disabled: !fData.enable,\r\n        },\r\n        validators\r\n      );\r\n\r\n      if (\r\n        this.initFormRuleFieldsNames.find(\r\n          (fieldId) => fieldRule[\"fieldId\"] == fieldId\r\n        )\r\n      ) {\r\n        // If same fieldId found\r\n        let isAnyChangeInFieldRule = false;\r\n        let sectionIndexPosition = -1;\r\n        let fieldIndexPosition = -1;\r\n        this.formSections.forEach((formSection, sectionIndex) => {\r\n          if (formSection.formName == fieldRule[\"displaySection\"]) {\r\n            sectionIndexPosition = sectionIndex;\r\n            formSection.fields.forEach((field, fieldIndex) => {\r\n              if (field.name == fieldRule[\"fieldId\"]) {\r\n                console.log(\":::::already\", field);\r\n                console.log(\":::::new\", fData);\r\n                let fieldToIgnore = [\"defaultDate\", \"maxDate\", \"minDate\"];\r\n                let alreadyPresentFieldCopy = _lodashClone(field);\r\n                let newFieldCopy = _lodashClone(fData);\r\n                fieldToIgnore.forEach((f) => {\r\n                  delete alreadyPresentFieldCopy[f];\r\n                  delete newFieldCopy[f];\r\n                });\r\n                console.log(\":::::alreadyCop\", alreadyPresentFieldCopy);\r\n                console.log(\":::::newCopy\", newFieldCopy);\r\n                console.log(\r\n                  \":::::isSame\",\r\n                  _lodashIsEqual(alreadyPresentFieldCopy, newFieldCopy)\r\n                );\r\n\r\n                if (!_lodashIsEqual(alreadyPresentFieldCopy, newFieldCopy)) {\r\n                  isAnyChangeInFieldRule = true;\r\n                }\r\n\r\n                fieldIndexPosition = fieldIndex;\r\n              }\r\n            });\r\n          }\r\n        });\r\n\r\n        if (isAnyChangeInFieldRule) {\r\n          // If any change in rules found\r\n          if (sectionIndexPosition >= 0 && fieldIndexPosition >= 0) {\r\n            this.formSections[sectionIndexPosition].fields.splice(\r\n              fieldIndexPosition,\r\n              1,\r\n              fData\r\n            );\r\n          }\r\n          if (fData.visible) {\r\n            this.formSections[sectionIndexPosition][\"isVisible\"] = true;\r\n          }\r\n          (\r\n            this.individualForm.get(fieldRule[\"displaySection\"]) as FormGroup\r\n          ).removeControl(fieldRule[\"fieldId\"]);\r\n          (\r\n            this.individualForm.get(fieldRule[\"displaySection\"]) as FormGroup\r\n          ).addControl(fieldRule[\"fieldId\"], fieldControl);\r\n        }\r\n      } else {\r\n        // If same fieldId not found\r\n        this.initFormRuleFieldsNames.push(fieldRule[\"fieldId\"]);\r\n        let sectionIndexPosition = -1;\r\n        this.formSections.forEach((formSection, sectionIndex) => {\r\n          if (formSection.formName == fieldRule[\"displaySection\"]) {\r\n            sectionIndexPosition = sectionIndex;\r\n          }\r\n        });\r\n        if (sectionIndexPosition >= 0) {\r\n          // if section is present\r\n          let insertIndex = this.formSections[\r\n            sectionIndexPosition\r\n          ].fields.findIndex(\r\n            (field) =>\r\n              +field.formLableFieldSequence > +fData.formLableFieldSequence\r\n          );\r\n\r\n          if (!(insertIndex >= 0)) {\r\n            insertIndex = this.formSections[sectionIndexPosition].fields.length;\r\n          }\r\n\r\n          this.formSections[sectionIndexPosition].fields.splice(\r\n            insertIndex,\r\n            0,\r\n            fData\r\n          );\r\n\r\n          if (fData.visible) {\r\n            this.formSections[sectionIndexPosition][\"isVisible\"] = true;\r\n          }\r\n\r\n          (\r\n            this.individualForm.get(fieldRule[\"displaySection\"]) as FormGroup\r\n          ).addControl(fieldRule[\"fieldId\"], fieldControl);\r\n        } else {\r\n          console.log(\":::: NOT FOUND SECTION\", fieldRule[\"displaySection\"]);\r\n          // if section is also not present\r\n          let newFormSection = {\r\n            formName: fieldRule[\"displaySection\"],\r\n            seqOrder: fieldRule[\"displaySectionOrder\"],\r\n            fields: [fData],\r\n            isVisible: fData.visible ? true : false,\r\n          };\r\n          let insertIndex = this.formSections.findIndex(\r\n            (section) => +section.seqOrder > +fData.displaySectionOrder\r\n          );\r\n\r\n          if (!(insertIndex >= 0)) {\r\n            insertIndex = this.formSections.length;\r\n          }\r\n          this.formSections.splice(insertIndex, 0, newFormSection);\r\n\r\n          const newSectionGroup = new UntypedFormGroup({});\r\n          newSectionGroup.addControl(fieldRule[\"fieldId\"], fieldControl);\r\n          this.individualForm.addControl(\r\n            fieldRule[\"displaySection\"],\r\n            newSectionGroup\r\n          );\r\n        }\r\n      }\r\n    });\r\n\r\n    console.log(\":::\", this.initFormRuleFieldsNames);\r\n    console.log(\":::\", this.formSections);\r\n  }\r\n\r\n  isSectionVisible(section: any) {\r\n    let visible = false;\r\n    section.fields.forEach((field) => {\r\n      if (field.visible) {\r\n        visible = true;\r\n      }\r\n    });\r\n    return visible;\r\n  }\r\n\r\n  validMinDate(fieldName: string) {\r\n    return this.pastYear;\r\n  }\r\n  validMaxDate(fieldName: string) {\r\n    if (fieldName == \"dateOfEstablishment\") {\r\n      return new Date(new Date().getTime() - 24 * 60 * 60 * 1000);\r\n    } else if (fieldName == \"dateOfBirth\") {\r\n      return this.dobMaxDate;\r\n    } else {\r\n      return this.futureYear;\r\n    }\r\n  }\r\n  validDefDate(fieldName: string) {\r\n    if (fieldName == \"dateOfBirth\") {\r\n      return this.dobMaxDate;\r\n    } else {\r\n      return new Date(new Date().getTime() - 24 * 60 * 60 * 1000);\r\n    }\r\n  }\r\n\r\n  sameAddress(event: any, fieldName: any) {\r\n    if (fieldName == \"permanentAddressSameAsAbove\") {\r\n      let address;\r\n      if (event.checked) {\r\n        address = {\r\n          permanentCountry: this.individualForm\r\n            .get(\"Contact Details\")\r\n            ?.get(\"contactCountry\")?.value,\r\n          permanentHouseBuildingNumber: this.individualForm\r\n            .get(\"Contact Details\")\r\n            ?.get(\"contactHouseBuildingNumber\")?.value,\r\n          permanentBlockNumber: this.individualForm\r\n            .get(\"Contact Details\")\r\n            ?.get(\"contactBlockNumber\")?.value,\r\n          permanentStreetName: this.individualForm\r\n            .get(\"Contact Details\")\r\n            ?.get(\"contactStreetName\")?.value,\r\n          permanentCity: this.individualForm\r\n            .get(\"Contact Details\")\r\n            ?.get(\"contactCity\")?.value,\r\n          permanentPinZipCode: this.individualForm\r\n            .get(\"Contact Details\")\r\n            ?.get(\"contactPinZipCode\")?.value,\r\n        };\r\n      } else {\r\n        address = {\r\n          permanentCountry: \"\",\r\n          permanentHouseBuildingNumber: \"\",\r\n          permanentBlockNumber: \"\",\r\n          permanentStreetName: \"\",\r\n          permanentCity: \"\",\r\n          permanentPinZipCode: \"\",\r\n        };\r\n      }\r\n\r\n      this.individualForm.get(\"Contact Details\").patchValue(address);\r\n    }\r\n  }\r\n\r\n  setBenefEditFormData(data: any) {\r\n    this.formSections.forEach((section) => {\r\n      section.fields.forEach((field) => {\r\n        if (field[\"fieldName\"] in data) {\r\n          if (\r\n            field.fieldType == \"dropdownSingle\" ||\r\n            field.fieldType == \"dropdownMulti\"\r\n          ) {\r\n            let filterData = this.masterDataOrg[field[\"fieldName\"]]?.filter(\r\n              (msField) => {\r\n                return msField.codeName == data[field[\"fieldName\"]];\r\n              }\r\n            );\r\n            let value = filterData?.length\r\n              ? {\r\n                  code: filterData[0].code,\r\n                  codeName: filterData[0].codeName,\r\n                }\r\n              : \"\";\r\n            this.individualForm\r\n              .get(section.formName)\r\n              .get(field.fieldName)\r\n              .patchValue(value);\r\n          } else if (field.fieldType == \"checkbox\") {\r\n            let value = data[field[\"fieldName\"]] == true ? true : false;\r\n            this.individualForm\r\n              .get(section.formName)\r\n              .get(field.fieldName)\r\n              .patchValue(value);\r\n          } else if (field.fieldType == \"date\") {\r\n            let dateFormatted = data[field[\"fieldName\"]]\r\n              ? !isNaN(Date.parse(data[field[\"fieldName\"]]))\r\n                ? new Date(data[field[\"fieldName\"]]).toLocaleDateString(\"en-GB\")\r\n                : new Date(\r\n                    data[field[\"fieldName\"]].split(\"/\").reverse().join(\"-\")\r\n                  ).toLocaleDateString(\"en-GB\")\r\n              : \"\";\r\n\r\n            this.individualForm\r\n              .get(section.formName)\r\n              .get(field.fieldName)\r\n              .patchValue(dateFormatted);\r\n          } else {\r\n            this.individualForm\r\n              .get(section.formName)\r\n              .get(field.fieldName)\r\n              .patchValue(data[field[\"fieldName\"]]);\r\n          }\r\n        }\r\n      });\r\n    });\r\n\r\n    this.showForm = true;\r\n  }\r\n  onInactiveStatus() {\r\n    if (this.beneDataOrg[\"status\"] == \"Inactive\") {\r\n      this.disableFormControls();\r\n      this.deactivated = true;\r\n    }\r\n  }\r\n  disableFormControls() {\r\n    Object.keys(this.individualForm.controls).forEach((controlName) => {\r\n      this.individualForm.get(controlName).disable();\r\n    });\r\n  }\r\n  enableFormControls() {\r\n    Object.keys(this.individualForm.controls).forEach((controlName) => {\r\n      this.individualForm.get(controlName).enable();\r\n    });\r\n    if (Object.keys(this.disabledFields).length) {\r\n      Object.keys(this.disabledFields).forEach((section) => {\r\n        this.individualForm\r\n          .get(section)\r\n          .get(this.disabledFields[section])\r\n          .disable();\r\n      });\r\n    }\r\n  }\r\n\r\n  onActive(data: any) {\r\n    this.confirmStatus();\r\n  }\r\n  confirmStatus() {\r\n    let type = \"\";\r\n    let reqStatus = \"\";\r\n    if (this.deactivated == true) {\r\n      reqStatus = \"Active\";\r\n      type = \"Activate\";\r\n    } else {\r\n      reqStatus = \"Inactive\";\r\n      type = \"Deactivate\";\r\n    }\r\n    this.coreService.setSidebarBtnFixedStyle(false);\r\n    this.coreService.setHeaderStickyStyle(false);\r\n    let completeMsg = \"\";\r\n    completeMsg =\r\n      `<img src=\"../../../assets/warning.svg\"><br/><br/>` +\r\n      `Do you wish to ` +\r\n      type +\r\n      ` the Beneficiary Record: ${this.beneDataOrg[\"id\"]}?`;\r\n\r\n    this.confirmationService.confirm({\r\n      message: completeMsg,\r\n      key: \"activeDeactiveStatusBenef\",\r\n      accept: () => {\r\n        this.updateStatus(\r\n          reqStatus,\r\n          this.beneDataOrg,\r\n          this.beneDataOrg[\"customerType\"]\r\n        );\r\n        this.setHeaderSidebarBtn();\r\n      },\r\n      reject: () => {\r\n        this.confirmationService.close;\r\n        this.setHeaderSidebarBtn();\r\n      },\r\n    });\r\n  }\r\n\r\n  updateStatus(reqStatus: any, data: any, cusType: any) {\r\n    this.coreService.displayLoadingScreen();\r\n    this.updateCustomerStatus(data[\"id\"], reqStatus, cusType);\r\n  }\r\n\r\n  updateCustomerStatus(cusId: any, status: any, cusType: any) {\r\n    let service: Observable<any>;\r\n    service = this.customerService.updateBeneficiaryStatusApi(\r\n      this.userId,\r\n      status,\r\n      cusId.toString(),\r\n      cusType\r\n    );\r\n    service.subscribe(\r\n      (res) => {\r\n        if (res[\"status\"] == \"200\") {\r\n          this.coreService.showSuccessToast(res[\"data\"]);\r\n          this.coreService.removeLoadingScreen();\r\n          this.deactivated = !this.deactivated;\r\n          if (this.deactivated) {\r\n            this.disableFormControls();\r\n          } else {\r\n            this.enableFormControls();\r\n          }\r\n        } else {\r\n          this.coreService.removeLoadingScreen();\r\n          this.coreService.showWarningToast(res[\"msg\"]);\r\n        }\r\n      },\r\n      (err) => {\r\n        console.log(err);\r\n        this.coreService.removeLoadingScreen();\r\n      }\r\n    );\r\n  }\r\n\r\n  onSubmit(): void {\r\n    this.submitted = true;\r\n\r\n    if (this.individualForm.invalid) {\r\n      this.coreService.showWarningToast(\"Please fill the Mandatory fields\");\r\n      return;\r\n    }\r\n\r\n    this.coreService.displayLoadingScreen();\r\n\r\n    let data = this.individualForm.getRawValue();\r\n\r\n    let payloadData = Object.assign({}, ...Object.values(data));\r\n\r\n    this.formSections.forEach((section) => {\r\n      section.fields.forEach((field) => {\r\n        if (\r\n          field.fieldType == \"dropdownSingle\" ||\r\n          field.fieldType == \"dropdownMulti\"\r\n        ) {\r\n          let value = payloadData[field[\"fieldName\"]]\r\n            ? payloadData[field[\"fieldName\"]][\"codeName\"]\r\n            : \"\";\r\n          payloadData[field[\"fieldName\"]] = value;\r\n        } else if (field.fieldType == \"checkbox\") {\r\n          let value = payloadData[field[\"fieldName\"]] == true ? true : false;\r\n          payloadData[field[\"fieldName\"]] = value;\r\n        } else if (field.fieldType == \"date\") {\r\n          let dateFormatted = payloadData[field[\"fieldName\"]]\r\n            ? !isNaN(Date.parse(payloadData[field[\"fieldName\"]]))\r\n              ? new Date(payloadData[field[\"fieldName\"]]).toLocaleDateString(\r\n                  \"en-GB\"\r\n                )\r\n              : new Date(\r\n                  payloadData[field[\"fieldName\"]].split(\"/\").reverse().join(\"-\")\r\n                ).toLocaleDateString(\"en-GB\")\r\n            : \"\";\r\n          payloadData[field[\"fieldName\"]] = dateFormatted;\r\n        } else {\r\n          payloadData[field[\"fieldName\"]] =\r\n            payloadData[field[\"fieldName\"]] == \"null\" ||\r\n            payloadData[field[\"fieldName\"]] == null\r\n              ? \"\"\r\n              : payloadData[field[\"fieldName\"]];\r\n        }\r\n      });\r\n    });\r\n    console.log(\"payloadData\", payloadData);\r\n    this.postData.emit(payloadData);\r\n  }\r\n\r\n  onReset(): void {\r\n    this.coreService.setHeaderStickyStyle(false);\r\n    this.coreService.setSidebarBtnFixedStyle(false);\r\n    this.confirmationService.confirm({\r\n      message:\r\n        `<img src=\"../../../assets/warning.svg\"><br/><br/>` +\r\n        \"Resetting will result in the removal of all data. Are you sure you want to proceed ?\",\r\n      key: \"resetBenfWarning\",\r\n      accept: () => {\r\n        this.submitted = false;\r\n        if (this.individualForm) {\r\n          this.individualForm.reset();\r\n        }\r\n        this.setHeaderSidebarBtn();\r\n      },\r\n      reject: () => {\r\n        this.confirmationService.close;\r\n        this.setHeaderSidebarBtn();\r\n      },\r\n    });\r\n  }\r\n  setHeaderSidebarBtn() {\r\n    this.coreService.displayLoadingScreen();\r\n    setTimeout(() => {\r\n      this.coreService.setHeaderStickyStyle(true);\r\n      this.coreService.setSidebarBtnFixedStyle(true);\r\n    }, 500);\r\n    setTimeout(() => {\r\n      this.coreService.removeLoadingScreen();\r\n    }, 1000);\r\n  }\r\n  ngOnDestroy(): void {\r\n    if (this.countryChange$) {\r\n      this.countryChange$.unsubscribe();\r\n    }\r\n  }\r\n}\r\n","<form *ngIf=\"showForm\" class=\"custom-form\" [formGroup]=\"individualForm\">\r\n  <ng-container *ngFor=\"let section of formSections\">\r\n    <p-panel\r\n      [header]=\"section.formName\"\r\n      [toggleable]=\"true\"\r\n      [formGroup]=\"individualForm.controls[section.formName]\"\r\n      *ngIf=\"isSectionVisible(section)\"\r\n    >\r\n      <div class=\"row\">\r\n        <ng-container *ngFor=\"let field of section.fields\">\r\n          <div\r\n            *ngIf=\"field.visible\"\r\n            [ngClass]=\"{\r\n              'col-xs-12 col-sm-6 col-md-4 col-lg-2 p-2 fieldForm':\r\n                !field?.newLineField,\r\n              checkbox: field.fieldType == 'checkbox',\r\n              newLineField: field?.newLineField\r\n            }\"\r\n          >\r\n            <label\r\n              [attr.title]=\"\r\n                field.fieldLabel.length > 27 ? field.fieldLabel : ''\r\n              \"\r\n              >{{\r\n                field.fieldLabel.length > 27 && !field?.newLineField\r\n                  ? field.fieldLabel.substring(0, 27) + \"..\"\r\n                  : field.fieldLabel\r\n              }}</label\r\n            ><span *ngIf=\"field.required\" class=\"required\">*</span>\r\n            <ng-container [ngSwitch]=\"field.fieldType\">\r\n              <ng-container *ngSwitchCase=\"'text'\">\r\n                <div\r\n                  style=\"position: 'relative'\"\r\n                  [pTooltip]=\"\r\n                    individualForm.controls[field.formName]['controls'][\r\n                      field.name\r\n                    ].errors?.invalidValue\r\n                      ? field.displayValidValuesOnHover == 'Yes'\r\n                        ? 'Valid values are ' + field.validValues.join(', ')\r\n                        : ''\r\n                      : ''\r\n                  \"\r\n                  tooltipPosition=\"top\"\r\n                >\r\n                  <input\r\n                    type=\"text\"\r\n                    class=\"block\"\r\n                    pInputText\r\n                    [formControlName]=\"field.name\"\r\n                    [ngStyle]=\"{\r\n                      paddingLeft: field.prefix ? '45px' : '',\r\n                      paddingRight: field.suffix ? '40px' : ''\r\n                    }\"\r\n                    (ngModelChange)=\"checkValidValuesText($event, field)\"\r\n                  />\r\n                  <span class=\"prefix-Inp\" *ngIf=\"field.prefix\">{{\r\n                    field.prefix\r\n                  }}</span>\r\n                  <span class=\"suffix-Inp\" *ngIf=\"field.suffix\">{{\r\n                    field.suffix\r\n                  }}</span>\r\n                </div>\r\n              </ng-container>\r\n              <ng-container *ngSwitchCase=\"'number'\">\r\n                <ng-container>\r\n                  <div\r\n                    style=\"position: 'relative'\"\r\n                    [pTooltip]=\"\r\n                      individualForm.controls[field.formName]['controls'][\r\n                        field.name\r\n                      ].errors?.invalidValue\r\n                        ? field.displayValidValuesOnHover == 'Yes'\r\n                          ? 'Valid values are ' + field.validValues.join(', ')\r\n                          : ''\r\n                        : ''\r\n                    \"\r\n                    tooltipPosition=\"top\"\r\n                  >\r\n                    <input\r\n                      type=\"text\"\r\n                      class=\"block\"\r\n                      pInputText\r\n                      [formControlName]=\"field.name\"\r\n                      [ngStyle]=\"{\r\n                        paddingLeft: field.prefix ? '45px' : '',\r\n                        paddingRight: field.suffix ? '40px' : ''\r\n                      }\"\r\n                      (ngModelChange)=\"checkValidValuesText($event, field)\"\r\n                    />\r\n                    <span class=\"prefix-Inp\" *ngIf=\"field.prefix\">{{\r\n                      field.prefix\r\n                    }}</span>\r\n                    <span class=\"suffix-Inp\" *ngIf=\"field.suffix\">{{\r\n                      field.suffix\r\n                    }}</span>\r\n                  </div>\r\n                </ng-container>\r\n                <!-- <ng-container\r\n                  *ngIf=\"\r\n                    !(\r\n                      field.name == 'contactMobileNumber' ||\r\n                      field.name == 'contactPhoneNumber'\r\n                    )\r\n                  \"\r\n                >\r\n                  <input\r\n                    type=\"text\"\r\n                    class=\"block\"\r\n                    pInputText\r\n                    pattern=\"[0-9\\s]{0,20}\"\r\n                    [formControlName]=\"field.name\"\r\n                  />\r\n                </ng-container> -->\r\n              </ng-container>\r\n              <!-- <div class=\"currency-Inp\" *ngSwitchCase=\"'currency'\">\r\n                <input type=\"text\" pInputText [formControlName]=\"field.name\" />\r\n                <span>AED</span>\r\n              </div> -->\r\n              <p-calendar\r\n                *ngSwitchCase=\"'date'\"\r\n                class=\"block\"\r\n                placeholder=\"DD/MM/YYYY\"\r\n                dateFormat=\"dd/mm/yy\"\r\n                [showIcon]=\"true\"\r\n                [formControlName]=\"field.name\"\r\n                [minDate]=\"field.minDate\"\r\n                [maxDate]=\"field.maxDate\"\r\n                [defaultDate]=\"field.defaultDate\"\r\n                [readonlyInput]=\"false\"\r\n                [appendTo]=\"'body'\"\r\n                (onSelect)=\"handleDateSelect(calendar, $event)\"\r\n                (ngModelChange)=\"checkValidValuesDate($event, field)\"\r\n                appDateMask\r\n                [pTooltip]=\"\r\n                  individualForm.controls[field.formName]['controls'][\r\n                    field.name\r\n                  ].errors?.invalidValue\r\n                    ? field.displayValidValuesOnHover == 'Yes'\r\n                      ? 'Valid values are ' + field.validValues.join(', ')\r\n                      : ''\r\n                    : ''\r\n                \"\r\n                tooltipPosition=\"top\"\r\n                #calendar\r\n              ></p-calendar>\r\n              <p-checkbox\r\n                *ngSwitchCase=\"'checkbox'\"\r\n                [formControlName]=\"field.name\"\r\n                [binary]=\"true\"\r\n                (onChange)=\"sameAddress($event, field.name)\"\r\n              ></p-checkbox>\r\n              <p-dropdown\r\n                *ngSwitchCase=\"'dropdownSingle'\"\r\n                class=\"block\"\r\n                [options]=\"\r\n                  field.setOptions && field.setOptions.length\r\n                    ? field.setOptions\r\n                    : masterData[field.apiKey]\r\n                \"\r\n                [formControlName]=\"field.name\"\r\n                placeholder=\"Type to search\"\r\n                optionLabel=\"codeName\"\r\n                [appendTo]=\"'body'\"\r\n                [filter]=\"true\"\r\n                filterBy=\"codeName\"\r\n                [virtualScroll]=\"true\"\r\n                [virtualScrollItemSize]=\"35\"\r\n                panelStyleClass=\"formFields-dropdown\"\r\n              >\r\n                <ng-template let-options pTemplate=\"item\">\r\n                  <div class=\"truncate-text\">\r\n                    <div>{{ options.codeName }}</div>\r\n                  </div>\r\n                </ng-template></p-dropdown\r\n              >\r\n              <p-dropdown\r\n                *ngSwitchCase=\"'smart-search'\"\r\n                class=\"block smartSearch\"\r\n                [formControlName]=\"field.name\"\r\n                [options]=\"\r\n                  field.setOptions && field.setOptions.length\r\n                    ? field.setOptions\r\n                    : masterData[field.apiKey]\r\n                \"\r\n                optionLabel=\"codeName\"\r\n                [filter]=\"true\"\r\n                filterBy=\"codeName\"\r\n                placeholder=\"Type to search\"\r\n              >\r\n                <ng-template pTemplate=\"selectedItem\">\r\n                  <div class=\"country-item country-item-value\" *ngIf=\"field\">\r\n                    <div>\r\n                      {{\r\n                        individualForm.controls[section.formName][\"controls\"][\r\n                          field.name\r\n                        ].value.codeName\r\n                      }}\r\n                    </div>\r\n                  </div>\r\n                </ng-template>\r\n                <ng-template let-options pTemplate=\"item\">\r\n                  <div class=\"truncate-text\">\r\n                    <div>{{ options.codeName }}</div>\r\n                  </div>\r\n                </ng-template>\r\n              </p-dropdown>\r\n              <select\r\n                *ngSwitchCase=\"'multiselect'\"\r\n                multiple\r\n                [formControlName]=\"field.name\"\r\n              >\r\n                <option\r\n                  *ngFor=\"let option of field.options\"\r\n                  [value]=\"option.value\"\r\n                >\r\n                  {{ option.label }}\r\n                </option>\r\n              </select>\r\n            </ng-container>\r\n            <small\r\n              *ngIf=\"\r\n                submitted &&\r\n                individualForm.controls[section.formName]['controls'][\r\n                  field.name\r\n                ].errors?.required\r\n              \"\r\n              class=\"p-error block\"\r\n              >{{ field.fieldLabel }} is required.</small\r\n            >\r\n            <small\r\n              *ngIf=\"\r\n                !individualForm.controls[section.formName]['controls'][\r\n                  field.name\r\n                ].pristine &&\r\n                individualForm.controls[section.formName]['controls'][\r\n                  field.name\r\n                ].errors?.minlength\r\n              \"\r\n              class=\"p-error block\"\r\n              >{{ field.fieldLabel }} must be {{ field.minLength }} characters\r\n              long.</small\r\n            >\r\n            <small\r\n              *ngIf=\"\r\n                !individualForm.controls[section.formName]['controls'][\r\n                  field.name\r\n                ].pristine &&\r\n                individualForm.controls[section.formName]['controls'][\r\n                  field.name\r\n                ].errors?.pattern\r\n              \"\r\n              class=\"p-error block\"\r\n              >{{\r\n                field.regexMsg\r\n                  ? field.regexMsg\r\n                  : \"Improper \" + field.fieldLabel + \" format.\"\r\n              }}</small\r\n            >\r\n            <small\r\n              *ngIf=\"\r\n                !individualForm.controls[section.formName]['controls'][\r\n                  field.name\r\n                ].pristine &&\r\n                individualForm.controls[section.formName]['controls'][\r\n                  field.name\r\n                ].errors?.maxlength\r\n              \"\r\n              class=\"p-error block\"\r\n              >{{ field.fieldLabel }} must not exceed\r\n              {{ field.maxLength }} characters.</small\r\n            >\r\n            <small\r\n              *ngIf=\"\r\n                individualForm.controls[section.formName]['controls'][\r\n                  field.name\r\n                ].errors?.invalidValue\r\n              \"\r\n              class=\"p-error block\"\r\n              >Please enter a valid value.</small\r\n            >\r\n          </div>\r\n        </ng-container>\r\n      </div>\r\n    </p-panel>\r\n  </ng-container>\r\n  <div class=\"form-group btn-grp buttons-section\">\r\n    <button\r\n      pButton\r\n      pRipple\r\n      type=\"button\"\r\n      label=\"Save\"\r\n      class=\"p-button-raised\"\r\n      (click)=\"onSubmit()\"\r\n      [disabled]=\"deactivated\"\r\n    ></button>\r\n    <button\r\n      pButton\r\n      pRipple\r\n      type=\"button\"\r\n      label=\"Reset\"\r\n      class=\"p-button-warning\"\r\n      (click)=\"onReset()\"\r\n      [disabled]=\"deactivated\"\r\n    ></button>\r\n    <button\r\n      *ngIf=\"modeVal == 'edit'\"\r\n      pButton\r\n      pRipple\r\n      type=\"button\"\r\n      label=\"{{ deactivated ? 'Activate' : 'Deactivate' }}\"\r\n      class=\"p-button-raised\"\r\n      (click)=\"onActive(data)\"\r\n    ></button>\r\n  </div>\r\n</form>\r\n<div class=\"NorecordFound\" *ngIf=\"!showForm\">\r\n  <div class=\"row\">\r\n    <div class=\"col-12\"><img src=\"assets/noRecordFound.svg\" /></div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col-12\">\r\n      <p>No Data Found.</p>\r\n    </div>\r\n  </div>\r\n</div>\r\n<p-confirmDialog\r\n  key=\"resetBenfWarning\"\r\n  class=\"confirm-popup\"\r\n  #cd\r\n  [closable]=\"false\"\r\n>\r\n  <p-footer>\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-check\"\r\n      label=\"Yes\"\r\n      (click)=\"cd.accept()\"\r\n    ></button>\r\n\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-times\"\r\n      label=\"No\"\r\n      (click)=\"cd.reject()\"\r\n    ></button>\r\n  </p-footer>\r\n</p-confirmDialog>\r\n\r\n<p-confirmDialog\r\n  key=\"activeDeactiveStatusBenef\"\r\n  class=\"status-confirm confirm-popup\"\r\n  #cd4\r\n  [closable]=\"false\"\r\n>\r\n  <p-footer>\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-check\"\r\n      label=\"Yes\"\r\n      (click)=\"cd4.accept()\"\r\n    ></button>\r\n\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-times\"\r\n      label=\"No\"\r\n      (click)=\"cd4.reject()\"\r\n    ></button>\r\n  </p-footer>\r\n</p-confirmDialog>\r\n","import { Component, OnInit, ViewChild } from \"@angular/core\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { ConfirmDialog } from \"primeng/confirmdialog\";\r\nimport { CoreService } from \"../core.service\";\r\nimport { ConfirmationService } from \"primeng/api\";\r\nimport { CustomerProfileService } from \"../customer-profile/customer-profile.service\";\r\nimport { Observable } from \"rxjs\";\r\nimport { MultiSelect } from \"primeng/multiselect\";\r\nimport { HttpClient, HttpHeaders } from \"@angular/common/http\";\r\n\r\n@Component({\r\n  selector: \"app-beneficiary-profile\",\r\n  templateUrl: \"./beneficiary-profile.component.html\",\r\n  styleUrls: [\"./beneficiary-profile.component.scss\"],\r\n})\r\nexport class BeneficiaryProfileComponent implements OnInit {\r\n  showcustomerCodeOptions: boolean = false;\r\n  showfullNameOptions: boolean = false;\r\n  shownationalityOptions: boolean = false;\r\n  showmobileNumberOptions: boolean = false;\r\n  showidTypeOptions: boolean = false;\r\n  showidNumberOptions: boolean = false;\r\n  // showtotalBenificiaryOptions: boolean = false;\r\n  showstatusOptions: boolean = false;\r\n\r\n  customerCode = [];\r\n  fullName = [];\r\n  nationality = [];\r\n  mobileNumber = [];\r\n  idType = [];\r\n  idNumber = [];\r\n  totalBenificiary = [];\r\n  status = [];\r\n\r\n  userData: any = {};\r\n  selectedFiltercustomerCode: any[] = [];\r\n  selectedFilterfullName: any[] = [];\r\n  selectedFilternationality: any[] = [];\r\n  selectedFiltermobileNumber: any[] = [];\r\n  selectedFilteridType: any[] = [];\r\n  selectedFilteridNumber: any[] = [];\r\n  // selectedFiltertotalBenificiary: any[] = [];\r\n  selectedFilterstatus: any[] = [];\r\n\r\n  loading: boolean = true;\r\n\r\n  noDataMsg: string = \"Form Rule Data Not Available\";\r\n\r\n  showTable = false;\r\n\r\n  objectKeys = Object.keys;\r\n  @ViewChild(\"cd\") cd: ConfirmDialog;\r\n\r\n  showNoDataFound: boolean = false;\r\n\r\n  formName = null;\r\n  applicationName = \"Casmex Core\";\r\n  moduleName = \"Remittance\";\r\n  pageNumber = \"0\";\r\n  pageSize = \"10\";\r\n\r\n  linkedFormRuleCode: any = [];\r\n  constructor(\r\n    private router: Router,\r\n    private coreService: CoreService,\r\n    private route: ActivatedRoute,\r\n    private confirmationService: ConfirmationService,\r\n    private customerService: CustomerProfileService,\r\n    private http: HttpClient\r\n  ) {}\r\n\r\n  customerType = \"\";\r\n  customerFieldType = \"\";\r\n  criteriaTypechange = \"\";\r\n  type = \"Individual\";\r\n\r\n  criteriaType: any = \"text\";\r\n\r\n  customerData: any = [];\r\n  userTypeOptions = [\r\n    { name: \"Individual\", code: \"Individual\" },\r\n    { name: \"Corporate\", code: \"Corporate\" },\r\n  ];\r\n\r\n  searchCriteriaApiData = [];\r\n\r\n  searchCriteriaOptions = [];\r\n  searchCriteria = [];\r\n  currentCriteriaKey = \"\";\r\n  currentCriteriaValue = \"\";\r\n  currentCriteria = \"\";\r\n\r\n  currentCriteriaMapKey = \"\";\r\n  searchCriteriaMap = [];\r\n  currentCriteriaMap = \"\";\r\n  criteriaMap = \"NA\";\r\n  cols = [];\r\n\r\n  colsIND: any[] = [\r\n    { field: \"customerCode\", header: \"Customer Code\" },\r\n    { field: \"fullName\", header: \"Customer Full Name\" },\r\n    { field: \"nationality\", header: \"Nationality\" },\r\n    { field: \"mobileNumber\", header: \"Mobile Number\" },\r\n    { field: \"idType\", header: \"ID Type\" },\r\n    { field: \"idNumber\", header: \"ID Number\" },\r\n    { field: \"beneficialCount\", header: \"Total Benf\", width: \"8%\" },\r\n    { field: \"addBenificiary\", header: \"Add Benf\" },\r\n    // { field: \"pastTxns\", header: \"Past Txns\",  },\r\n    { field: \"status\", header: \"Profile Status\" },\r\n  ];\r\n  colsCOR: any[] = [\r\n    { field: \"customerCode\", header: \"Customer Code\", width: \"8%\" },\r\n    { field: \"fullName\", header: \"Customer Full Name\", width: \"15%\" },\r\n    { field: \"nationality\", header: \"Nationality\", width: \"15%\" },\r\n    { field: \"mobileNumber\", header: \"Mobile Number\", width: \"15%\" },\r\n    { field: \"idType\", header: \"ID Type\", width: \"8%\" },\r\n    { field: \"idNumber\", header: \"ID Number\", width: \"15%\" },\r\n    { field: \"beneficialCount\", header: \"Total Benf\", width: \"8%\" },\r\n    { field: \"addBenificiary\", header: \"Add Benf\", width: \"8%\" },\r\n    // { field: \"pastTxns\", header: \"Past Txns\", width: \"8%\" },\r\n    { field: \"status\", header: \"Profile Status\", width: \"8%\" },\r\n  ];\r\n\r\n  totalRecords = 55;\r\n\r\n  ngOnInit(): void {\r\n    this.coreService.displayLoadingScreen();\r\n    this.route.data.subscribe((data) => {\r\n      this.coreService.setBreadCrumbMenu(Object.values(data));\r\n    });\r\n\r\n    this.userData = JSON.parse(localStorage.getItem(\"userData\"));\r\n    this.formName = \"Customer Profile\";\r\n    this.getApiDataForsearchCriteria();\r\n    this.getCustomerListData();\r\n    this.currentCriteriaMapKey = \"customerId = \";\r\n    this.currentCriteriaKey = \"Customer ID = \";\r\n    this.cols = this.colsIND;\r\n  }\r\n\r\n  loadCustomers(e: any) {\r\n    const pageSize = 10;\r\n    const pageNumber = e.first ? e.first / +this.pageSize + 1 : 1;\r\n    console.log(\"::lazy event\", e);\r\n    console.log(\"::pageSize\", pageSize);\r\n    console.log(\"::pageNumber\", pageNumber);\r\n  }\r\n\r\n  getApiDataForsearchCriteria() {\r\n    this.coreService.displayLoadingScreen();\r\n    this.customerService\r\n      .getDataForsearchCriteria(\r\n        this.userData[\"userId\"],\r\n        this.applicationName,\r\n        this.moduleName,\r\n        this.formName\r\n      )\r\n      .subscribe(\r\n        (res) => {\r\n          // this.coreService.removeLoadingScreen();\r\n          console.log(res);\r\n          this.searchCriteriaApiData = res[\"data\"];\r\n          console.log(this.searchCriteriaApiData);\r\n          this.searchCriteriaOptions = this.searchCriteriaApiData.map(\r\n            (data) => {\r\n              return { name: data.displayName, code: data.fieldName };\r\n            }\r\n          );\r\n          this.searchCriteriaOptions.unshift(\r\n            ...[{ name: \"Customer ID\", code: \"customerId\" }]\r\n          );\r\n        },\r\n        (err) => {\r\n          // this.coreService.removeLoadingScreen();\r\n          this.coreService.showWarningToast(\"Error in fething data\");\r\n        }\r\n      );\r\n  }\r\n  onUserTypeChange(value: any) {\r\n    console.log(value);\r\n\r\n    this.formName = \"Customer Profile\";\r\n    this.type = value;\r\n    console.log(this.formName);\r\n    this.criteriaMap = \"NA\";\r\n    this.searchCriteria = [];\r\n    this.currentCriteriaValue = null;\r\n    this.currentCriteriaKey = \"Customer ID = \";\r\n    this.currentCriteriaMapKey = \"customerId = \";\r\n    this.searchCriteriaMap = [];\r\n    this.getApiDataForsearchCriteria();\r\n    this.getCustomerListData();\r\n    this.customerFieldType = null;\r\n  }\r\n\r\n  onCriteriaChange(value: any) {\r\n    console.log(value);\r\n    this.criteriaTypechange = value;\r\n    this.currentCriteriaValue = null;\r\n    this.currentCriteriaKey = `${\r\n      this.searchCriteriaOptions.filter((opt) => {\r\n        return opt.code == value;\r\n      })[0][\"name\"]\r\n    } = `;\r\n    this.currentCriteriaMapKey = `${\r\n      this.searchCriteriaOptions.filter((opt) => {\r\n        return opt.code == value;\r\n      })[0][\"code\"]\r\n    } = `;\r\n    this.criteriaType = this.searchCriteriaApiData.filter((opt) => {\r\n      return opt.fieldName == value;\r\n    })[0].criteriaType;\r\n    console.log(this.currentCriteriaKey);\r\n    console.log(this.currentCriteriaMapKey);\r\n  }\r\n  ondeletecriteria(i: any, criteria: any) {\r\n    this.searchCriteria.splice(i, 1);\r\n    console.log(i);\r\n    console.log(criteria);\r\n    this.searchCriteriaMap.splice(i, 1);\r\n    this.criteriaMap = this.searchCriteriaMap.join(\";\");\r\n    console.log(this.criteriaMap);\r\n    this.criteriaMap = \"NA\";\r\n    this.getCustomerListData();\r\n  }\r\n  searchCustomerMap(type: any) {\r\n    console.log(typeof this.currentCriteriaValue);\r\n    console.log(\"::\", this.criteriaTypechange);\r\n\r\n    console.log(\"::\", this.currentCriteriaMapKey);\r\n    console.log(\"::\", this.searchCriteriaMap);\r\n    console.log(\r\n      \"::\",\r\n      this.searchCriteriaMap.filter((crt) => {\r\n        return (\r\n          crt.split(\" = \")[0] == this.currentCriteriaMapKey.split(\" = \")[0]\r\n        );\r\n      })\r\n    );\r\n\r\n    if (\r\n      this.searchCriteriaMap.filter((crt) => {\r\n        return (\r\n          crt.split(\" = \")[0] == this.currentCriteriaMapKey.split(\" = \")[0]\r\n        );\r\n      }).length > 0\r\n    ) {\r\n      this.coreService.showWarningToast(\"field already exits\");\r\n    } else {\r\n      if (\r\n        this.currentCriteriaValue == null ||\r\n        this.currentCriteriaValue == \"\"\r\n      ) {\r\n        this.coreService.showWarningToast(\"please enter the value\");\r\n      } else if (\r\n        (typeof this.currentCriteriaValue == \"string\" &&\r\n          this.currentCriteriaValue?.trim().length) ||\r\n        this.currentCriteriaValue\r\n      ) {\r\n        this.currentCriteria =\r\n          this.currentCriteriaKey + this.currentCriteriaValue;\r\n        console.log(this.currentCriteria);\r\n        this.searchCriteria.push(this.currentCriteria);\r\n\r\n        this.currentCriteriaMap =\r\n          this.currentCriteriaMapKey + this.currentCriteriaValue;\r\n        console.log(this.currentCriteriaMap);\r\n        this.searchCriteriaMap.push(this.currentCriteriaMap);\r\n        this.criteriaMap = this.searchCriteriaMap.join(\";\");\r\n        console.log(this.criteriaMap);\r\n      }\r\n    }\r\n\r\n    this.getCustomerListData();\r\n    this.currentCriteriaValue = null;\r\n    this.customerFieldType = null;\r\n    this.currentCriteriaKey = \"Customer ID = \";\r\n    this.currentCriteriaMapKey = \"customerId = \";\r\n  }\r\n\r\n  getCustomerListData() {\r\n    // console.log(this.searchCriteria);\r\n    // this.coreService.displayLoadingScreen();\r\n    // console.log(this.type);\r\n    // this.showTable = false;\r\n    // let service: Observable<any>;\r\n    // // if (this.type == \"Corporate\") {\r\n    // service = this.customerService.getCustomerCorporateData(\r\n    //   this.userData[\"userId\"],\r\n    //   this.criteriaMap,\r\n    //   this.pageNumber,\r\n    //   this.pageSize,\r\n    //   this.type\r\n    // );\r\n    // // } else {\r\n    // //   service = this.customerService.getCustomerIndividualData(\r\n    // //     this.userData[\"userId\"],\r\n    // //     this.criteriaMap,\r\n    // //     this.pageNumber,\r\n    // //     this.pageSize\r\n    // //   );\r\n    // // }\r\n    // service.subscribe(\r\n    //   (res) => {\r\n    //     console.log(res);\r\n    //     if (res[\"status\"] == \"200\") {\r\n    //       this.showTable = true;\r\n    //       this.coreService.removeLoadingScreen();\r\n    //       if (this.type == \"Corporate\") {\r\n    //         this.cols = this.colsCOR;\r\n    //         this.customerData = res.data.CmCorporateCustomerDetails;\r\n    //       } else {\r\n    //         this.cols = this.colsIND;\r\n    //         this.customerData = res.data.CmCorporateCustomerDetails;\r\n    //         this.customerData?.forEach((element) => {\r\n    //           element[\"orders\"] = [];\r\n    //         });\r\n    //         console.log(\"customer dataa indi\", this.customerData);\r\n    //       }\r\n    //       // this.totalRecords = res.data.PaginationDetails.totalCount;\r\n    //       this.customerCode = res.customerCode?.map((code) => {\r\n    //         if (code) return { label: code, value: code };\r\n    //       });\r\n    //       this.fullName = res.customerFullName?.map((code) => {\r\n    //         if (code) return { label: code, value: code };\r\n    //       });\r\n    //       this.nationality = res.nationality?.map((code) => {\r\n    //         if (code) return { label: code, value: code };\r\n    //       });\r\n    //       this.mobileNumber = res.mobileNumber?.map((code) => {\r\n    //         if (code) return { label: code, value: code };\r\n    //       });\r\n    //       this.idType = res.idType?.map((code) => {\r\n    //         if (code) return { label: code, value: code };\r\n    //       });\r\n    //       this.idNumber = res.idNumber?.map((code) => {\r\n    //         if (code) return { label: code, value: code };\r\n    //       });\r\n    //     }\r\n    //   },\r\n    //   (err) => {\r\n    //     this.coreService.removeLoadingScreen();\r\n    //     // this.coreService.showWarningToast(\"Error in fething data\");\r\n    //     this.showTable = false;\r\n    //   }\r\n    // );\r\n  }\r\n  addNewBeneficiary(rowData: any, type: any) {\r\n    this.router.navigate([\r\n      \"navbar\",\r\n      \"beneficiary-profile\",\r\n      \"addnewbeneficiary\",\r\n      type,\r\n      rowData.customerCode,\r\n      \"add\",\r\n    ]);\r\n  }\r\n  confirmStatus(e: any, data: any, cusType: any) {\r\n    e.preventDefault();\r\n    let type = \"\";\r\n    let reqStatus = \"\";\r\n    if (e.target.checked) {\r\n      reqStatus = \"Active\";\r\n      type = \"activate\";\r\n    } else {\r\n      reqStatus = \"Inactive\";\r\n      type = \"deactivate\";\r\n    }\r\n    this.coreService.setSidebarBtnFixedStyle(false);\r\n    this.coreService.setHeaderStickyStyle(false);\r\n    let completeMsg = \"\";\r\n    completeMsg =\r\n      `<img src=\"../../../assets/warning.svg\"><br/><br/>` +\r\n      `Do you wish to ` +\r\n      type +\r\n      ` the Customer Record: ${data[\"customerCode\"]}?`;\r\n\r\n    this.confirmationService.confirm({\r\n      message: completeMsg,\r\n      key: \"activeDeactiveStatus\",\r\n      accept: () => {\r\n        this.updateStatus(e, reqStatus, data, cusType);\r\n        this.setHeaderSidebarBtn(true);\r\n      },\r\n      reject: () => {\r\n        this.confirmationService.close;\r\n        this.setHeaderSidebarBtn(false);\r\n      },\r\n    });\r\n  }\r\n\r\n  confirmBeneficiaryStatus(e: any, data: any, cusType: any) {\r\n    e.preventDefault();\r\n    let type = \"\";\r\n    let reqStatus = \"\";\r\n    if (e.target.checked) {\r\n      reqStatus = \"Active\";\r\n      type = \"activate\";\r\n    } else {\r\n      reqStatus = \"Inactive\";\r\n      type = \"deactivate\";\r\n    }\r\n    this.coreService.setSidebarBtnFixedStyle(false);\r\n    this.coreService.setHeaderStickyStyle(false);\r\n    let completeMsg = \"\";\r\n    completeMsg =\r\n      `<img src=\"../../../assets/warning.svg\"><br/><br/>` +\r\n      `Do you wish to ` +\r\n      type +\r\n      ` the Beneficiary Record: ${data[\"id\"]}?`;\r\n\r\n    this.confirmationService.confirm({\r\n      message: completeMsg,\r\n      key: \"activeDeactiveStatus\",\r\n      accept: () => {\r\n        this.updateBeneStatus(e, reqStatus, data, cusType);\r\n        this.setHeaderSidebarBtn(true);\r\n      },\r\n      reject: () => {\r\n        this.confirmationService.close;\r\n        this.setHeaderSidebarBtn(false);\r\n      },\r\n    });\r\n  }\r\n\r\n  updateBeneStatus(e: any, reqStatus: any, data: any, cusType: any) {\r\n    this.coreService.displayLoadingScreen();\r\n    console.log(data);\r\n    this.updateBeneficiaryStatus(\r\n      data[\"id\"],\r\n      reqStatus,\r\n      e.target,\r\n      data,\r\n      cusType\r\n    );\r\n  }\r\n  updateBeneficiaryStatus(\r\n    cusId: any,\r\n    status: any,\r\n    sliderElm: any,\r\n    ruleData: any,\r\n    cusType: any\r\n  ) {\r\n    let service: Observable<any>;\r\n    console.log(this.userData);\r\n    // if (cusType == \"Corporate\") {\r\n    service = this.customerService.updateBeneficiaryStatusApi(\r\n      this.userData[\"userId\"],\r\n      status,\r\n      cusId.toString(),\r\n      cusType\r\n    );\r\n    // } else {\r\n    //   service = this.customerService.updateCustomerIndividualStatus(\r\n    //     this.userData[\"userId\"],\r\n    //     status,\r\n    //     cusId.toString()\r\n    //   );\r\n    // }\r\n    service.subscribe(\r\n      (res) => {\r\n        console.log(res);\r\n        if (res[\"status\"] == \"200\") {\r\n          sliderElm.checked = sliderElm!.checked;\r\n          this.searchCustomerMap(this.customerType);\r\n          this.coreService.showSuccessToast(res[\"data\"]);\r\n        } else {\r\n          this.coreService.removeLoadingScreen();\r\n          this.coreService.showWarningToast(res[\"msg\"]);\r\n        }\r\n      },\r\n      (err) => {\r\n        console.log(err);\r\n        this.coreService.removeLoadingScreen();\r\n      }\r\n    );\r\n  }\r\n  updateStatus(e: any, reqStatus: any, data: any, cusType: any) {\r\n    this.coreService.displayLoadingScreen();\r\n    console.log(data);\r\n    this.updateCustomerStatus(\r\n      data[\"customerCode\"],\r\n      reqStatus,\r\n      e.target,\r\n      data,\r\n      cusType\r\n    );\r\n  }\r\n\r\n  updateCustomerStatus(\r\n    cusId: any,\r\n    status: any,\r\n    sliderElm: any,\r\n    ruleData: any,\r\n    cusType: any\r\n  ) {\r\n    let service: Observable<any>;\r\n    console.log(this.userData);\r\n    // if (cusType == \"Corporate\") {\r\n    service = this.customerService.updateCustomerCorporateStatus(\r\n      this.userData[\"userId\"],\r\n      status,\r\n      cusId.toString(),\r\n      cusType\r\n    );\r\n    // } else {\r\n    //   service = this.customerService.updateCustomerIndividualStatus(\r\n    //     this.userData[\"userId\"],\r\n    //     status,\r\n    //     cusId.toString()\r\n    //   );\r\n    // }\r\n    service.subscribe(\r\n      (res) => {\r\n        console.log(res);\r\n        if (res[\"status\"] == \"200\") {\r\n          sliderElm.checked = sliderElm!.checked;\r\n          this.searchCustomerMap(this.customerType);\r\n          this.coreService.showSuccessToast(res[\"data\"]);\r\n        } else {\r\n          this.coreService.removeLoadingScreen();\r\n          this.coreService.showWarningToast(res[\"msg\"]);\r\n        }\r\n      },\r\n      (err) => {\r\n        console.log(err);\r\n        this.coreService.removeLoadingScreen();\r\n      }\r\n    );\r\n  }\r\n  editCustomer(rowData: any, type: any) {\r\n    this.router.navigate([\r\n      \"navbar\",\r\n      \"customer-profile\",\r\n      \"addnewcustomer\",\r\n      type,\r\n      rowData.customerCode,\r\n      \"edit\",\r\n    ]);\r\n  }\r\n  editbeneficiary(beneData: any) {\r\n    let custype = beneData.customerType == \"Individual\" ? \"IND\" : \"COR\";\r\n    this.router.navigate([\r\n      \"navbar\",\r\n      \"beneficiary-profile\",\r\n      \"addnewbeneficiary\",\r\n      custype,\r\n      beneData.id,\r\n      \"edit\",\r\n    ]);\r\n  }\r\n  beneficiaryListData(expanded, rowData: any, customerType) {\r\n    console.log(\"expanded\", expanded);\r\n    console.log(\"customerType\", customerType);\r\n    console.log(\"customerCode\", rowData.customerCode);\r\n    if (expanded == false) {\r\n      this.http\r\n        .get(\r\n          `/appControl/beneficiaryProfileController/getBeneficiaryProfileList`,\r\n          {\r\n            headers: new HttpHeaders()\r\n              .set(\"customerType\", String(customerType))\r\n              .set(\"customerId\", String(rowData.customerCode)),\r\n          }\r\n        )\r\n        .subscribe(\r\n          (res) => {\r\n            if (res[\"msg\"]) {\r\n              this.noDataMsg = res[\"msg\"];\r\n              this.coreService.removeLoadingScreen();\r\n            } else {\r\n              console.log(\"respose\", res);\r\n              this.customerData.forEach((element) => {\r\n                if (element[\"customerCode\"] == rowData.customerCode) {\r\n                  element[\"orders\"] = res[\"data\"];\r\n                }\r\n                console.log(\"orders\", element[\"orders\"]);\r\n              });\r\n            }\r\n          },\r\n          (err) => {\r\n            console.log(\"err\", err);\r\n            this.coreService.showWarningToast(\r\n              \"Some error while fetching data, Try again in sometime\"\r\n            );\r\n            this.coreService.removeLoadingScreen();\r\n          }\r\n        );\r\n    }\r\n  }\r\n\r\n  setHeaderSidebarBtn(accept: boolean) {\r\n    this.coreService.displayLoadingScreen();\r\n    setTimeout(() => {\r\n      this.coreService.setHeaderStickyStyle(true);\r\n      this.coreService.setSidebarBtnFixedStyle(true);\r\n    }, 500);\r\n    if (!accept) {\r\n      setTimeout(() => {\r\n        this.coreService.removeLoadingScreen();\r\n      }, 1000);\r\n    }\r\n  }\r\n\r\n  toggleFilterVisibility(field) {\r\n    this[`show${field}Options`] = !this[`show${field}Options`];\r\n  }\r\n\r\n  hideFilterVisibility(field) {\r\n    this[`show${field}Options`] = false;\r\n  }\r\n\r\n  getSelectedFilterArr(field: any) {\r\n    return this[`selectedFilter${field}`];\r\n  }\r\n\r\n  setSelectedFilter(ms: MultiSelect, field: any) {\r\n    this[`selectedFilter${field}`] = ms.value;\r\n  }\r\n\r\n  fieldFilterVisible(field: any) {\r\n    return this[`show${field}Options`];\r\n  }\r\n\r\n  fieldFilterOptions(field: any): [] {\r\n    return this[field];\r\n  }\r\n\r\n  clearCriteria() {\r\n    this.criteriaMap = \"NA\";\r\n    this.searchCriteria = [];\r\n    this.currentCriteriaValue = null;\r\n    this.currentCriteriaKey = \"Customer ID = \";\r\n    this.currentCriteriaMapKey = \"id = \";\r\n    this.searchCriteriaMap = [];\r\n    this.getApiDataForsearchCriteria();\r\n    this.getCustomerListData();\r\n    this.customerFieldType = null;\r\n  }\r\n\r\n  searchByEnter(e: any) {\r\n    if (this.customerType) {\r\n      this.searchCustomerMap(this.customerType);\r\n    } else {\r\n      this.coreService.showWarningToast(\"Please select customer type\");\r\n    }\r\n  }\r\n}\r\n","<div class=\"visible-main-section\">\r\n    <div class=\"pagetitle\">\r\n      <div class=\"col-10\">\r\n        <div class=\"row\">\r\n          <div class=\"col-2 flex-align-center\">\r\n            <p-dropdown\r\n              class=\"colorInput\"\r\n              [options]=\"userTypeOptions\"\r\n              [(ngModel)]=\"customerType\"\r\n              (onChange)=\"onUserTypeChange($event.value)\"\r\n              optionValue=\"code\"\r\n              optionLabel=\"name\"\r\n            ></p-dropdown>\r\n          </div>\r\n          <div class=\"col-10 flex-align-center\">\r\n            <p-dropdown\r\n              [options]=\"searchCriteriaOptions\"\r\n              [(ngModel)]=\"customerFieldType\"\r\n              (onChange)=\"onCriteriaChange($event.value)\"\r\n              optionLabel=\"name\"\r\n              optionValue=\"code\"\r\n              placeholder=\"Customer ID\"\r\n              class=\"primarydropdown\"\r\n            ></p-dropdown>\r\n            <span\r\n              class=\"p-input-icon-right\"\r\n             \r\n              (keyup.enter)=\"searchByEnter($event)\"\r\n            >\r\n              <i class=\"pi pi-search\"></i>\r\n  \r\n              <ng-container [ngSwitch]=\"criteriaType\">\r\n                <input\r\n                  style=\"\r\n                    width: 440px;\r\n                    border-top-left-radius: initial;\r\n                    border-bottom-left-radius: initial;\r\n                    border: solid 1px#a2a2a2;\r\n                  \"\r\n                  *ngSwitchCase=\"'text'\"\r\n                  type=\"text\"\r\n                  class=\"block\"\r\n                  pInputText\r\n                  [(ngModel)]=\"currentCriteriaValue\"\r\n                  placeholder=\"Search\"\r\n                />\r\n  \r\n                <p-inputNumber\r\n                  *ngSwitchCase=\"'number'\"\r\n                  [(ngModel)]=\"currentCriteriaValue\"\r\n                  mode=\"decimal\"\r\n                  [useGrouping]=\"false\"\r\n                  placeholder=\"Search\"\r\n                >\r\n                </p-inputNumber>\r\n                <p-calendar\r\n                  *ngSwitchCase=\"'date'\"\r\n                  class=\"block\"\r\n                  placeholder=\"DD/MM/YYYY\"\r\n                  dateFormat=\"dd/mm/yy\"\r\n                  [(ngModel)]=\"currentCriteriaValue\"\r\n                  [readonlyInput]=\"false\"\r\n                  [appendTo]=\"'body'\"\r\n                ></p-calendar>\r\n              </ng-container>\r\n            </span>\r\n            <button\r\n              pButton\r\n              pRipple\r\n              type=\"button\"\r\n              (click)=\"searchCustomerMap(customerType)\"\r\n              label=\"Search\"\r\n              class=\"ml-2\"\r\n              [disabled]=\"!customerType\"\r\n            ></button>\r\n            <button\r\n              pButton\r\n              pRipple\r\n              type=\"button\"\r\n              (click)=\"clearCriteria()\"\r\n              label=\"Clear\"\r\n              class=\"p-button-warning ml-2\"\r\n            ></button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- <div class=\"col-2\" style=\"margin-left: 30px\">\r\n        <div class=\"addnew\">\r\n          <button\r\n            pButton\r\n            pRipple\r\n            type=\"button\"\r\n            label=\"Add Customer\"\r\n            class=\"p-button-raised\"\r\n            (click)=\"addNewCustomer()\"\r\n          ></button>\r\n        </div>\r\n      </div> -->\r\n    </div>\r\n    <div class=\"customerCriteria\">\r\n      <div class=\"row\" *ngIf=\"searchCriteria.length\">\r\n        <div class=\"col-10\">\r\n          You have searched on\r\n          <span\r\n            *ngFor=\"let criteria of searchCriteria; let i = index\"\r\n            class=\"customerMapConditions\"\r\n          >\r\n            {{ criteria }}\r\n            <span\r\n              role=\"button\"\r\n              style=\"padding: 0px 0px 0px 15px; margin-bottom: 10px\"\r\n              (click)=\"ondeletecriteria(i, criteria)\"\r\n            >\r\n              <svg\r\n                style=\"margin-bottom: 4px\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                width=\"12.6\"\r\n                height=\"12.6\"\r\n                fill=\"#dc3545\"\r\n                class=\"bi bi-x-circle\"\r\n                viewBox=\"0 0 16 16\"\r\n              >\r\n                <path\r\n                  d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"\r\n                />\r\n                <path\r\n                  d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"\r\n                />\r\n              </svg>\r\n            </span>\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  \r\n    <div class=\"ptable\" *ngIf=\"showTable\">\r\n      <p-table\r\n      #dt\r\n      [columns]=\"cols\" \r\n      [value]=\"customerData\" dataKey=\"customerCode\"\r\n      [paginator]=\"true\"\r\n      [rows]=\"10\"\r\n      [resizableColumns]=\"true\"\r\n      columnResizeMode=\"fit\"\r\n      [rowHover]=\"true\"\r\n    >\r\n        <ng-template pTemplate=\"header\" let-columns>\r\n          <tr>\r\n            <th\r\n            *ngFor=\"let col of columns; let c = index\"\r\n            [pSortableColumn]=\"col.field\"\r\n            pResizableColumn\r\n            [style.width]=\"col.width\"\r\n            >\r\n              {{ col.header }}\r\n              <div\r\n                *ngIf=\"c < columns.length - 3 && c != 0\"\r\n                (click)=\"$event.stopPropagation()\"\r\n                class=\"filter-icon\"\r\n              >\r\n                <i\r\n                  [ngStyle]=\"{\r\n                    color: getSelectedFilterArr(col.field).length\r\n                      ? 'var(--primary-color)'\r\n                      : 'rgb(105 105 105)',\r\n                    fontSize: '11px'\r\n                  }\"\r\n                  class=\"pi pi-filter-fill\"\r\n                  (click)=\"toggleFilterVisibility(col.field)\"\r\n                ></i>\r\n                <p-multiSelect\r\n                  #ms\r\n                  [options]=\"fieldFilterOptions(col.field)\"\r\n                  [filter]=\"true\"\r\n                  [displaySelectedLabel]=\"false\"\r\n                  [overlayVisible]=\"fieldFilterVisible(col.field)\"\r\n                  [defaultLabel]=\"'Search'\"\r\n                  [appendTo]=\"'body'\"\r\n                  [autoWidth]=\"false\"\r\n                  (onChange)=\"\r\n                    dt.filter($event.value, col.field, 'in');\r\n                    setSelectedFilter(ms, col.field)\r\n                  \"\r\n                  (onPanelHide)=\"hideFilterVisibility(col.field)\"\r\n                >\r\n                </p-multiSelect>\r\n              </div>\r\n            </th>\r\n          </tr>\r\n          <tr class=\"search-row\">\r\n            <th *ngFor=\"let col of cols; let c = index\">\r\n              <span\r\n                class=\"p-input-icon-left\"\r\n                *ngIf=\"c < columns.length - 3\"\r\n                [style.width]=\"'120px'\"\r\n              >\r\n                <i class=\"pi pi-search\"></i>\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"p-inputtext table-search\"\r\n                  placeholder=\"Search\"\r\n                  (input)=\"dt.filter($event.target.value, col.field, 'contains')\"\r\n                />\r\n              </span>\r\n            </th>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template\r\n          pTemplate=\"body\"\r\n          let-rowData\r\n          let-columns=\"columns\"\r\n          let-index=\"rowIndex\" let-expanded=\"expanded\"\r\n        >\r\n          <tr [pReorderableRow]=\"index\">\r\n            <ng-container *ngFor=\"let col of columns; let i = index\">\r\n              <td *ngIf=\"i < columns.length - (columns.length == 9 ? 2 : 3)\">\r\n                <div *ngIf=\"!(i == 0)\" style=\"display: inline-block\">\r\n                  {{ rowData[col[\"field\"]] }}\r\n                </div>\r\n                <div *ngIf=\"i == 0\">\r\n                  <button type=\"button\" (click)=\"beneficiaryListData(expanded,rowData,customerType)\" style=\"height: 2rem;width: 2rem;\" pButton pRipple [pRowToggler]=\"rowData\" class=\"p-button-text p-button-rounded p-button-plain\" [icon]=\"expanded ? 'pi pi-chevron-down' : 'pi pi-chevron-right'\"></button>\r\n                  <a\r\n                  \r\n                  style=\"text-decoration: underline !important\"\r\n                  [ngStyle]=\"{\r\n                    position: 'relative',\r\n                    top: '-6px',\r\n                    color: 'var(--primary-color)',\r\n                    fontSize: '11px',\r\n                    cursor: 'pointer'\r\n                  }\"\r\n                  (click)=\"\r\n                    editCustomer(\r\n                      rowData,\r\n                      customerType == 'Corporate' ? 'COR' : 'IND'\r\n                    )\r\n                  \"\r\n                  >{{ rowData[col[\"field\"]] }}</a\r\n                >\r\n                </div>\r\n                \r\n              </td>\r\n              <td\r\n                *ngIf=\"col.field == 'addBenificiary'\"\r\n                style=\"border: none; text-align: center\"\r\n              >\r\n                <span class=\"image-text\">\r\n                  <button\r\n                    pButton\r\n                    type=\"button\"\r\n                    icon=\"pi pi-plus\"\r\n                    class=\"operation-btns mr-2\"\r\n                    (click)=\"addNewBeneficiary(rowData, customerType == 'Individual' ? 'IND' : 'COR')\"\r\n                  ></button>\r\n                </span>\r\n              </td>\r\n              <td\r\n                *ngIf=\"col.field == 'pastTxns'\"\r\n                style=\"border: none; text-align: center\"\r\n              >\r\n                <span class=\"image-text\">\r\n                  <button\r\n                    pButton\r\n                    type=\"button\"\r\n                    icon=\"pi pi-eye\"\r\n                    class=\"operation-btns mr-2\"\r\n                  ></button>\r\n                </span>\r\n              </td>\r\n              <td\r\n                *ngIf=\"col.field == 'status'\"\r\n                style=\"border: none; text-align: center\"\r\n              >\r\n                <label class=\"switch\" style=\"border: none\">\r\n                  <input\r\n                    #statusInp\r\n                    [value]=\"rowData[col['field']]\"\r\n                    type=\"checkbox\"\r\n                    (click)=\"confirmStatus($event, rowData, customerType)\"\r\n                    [checked]=\"\r\n                      rowData[col['field']] == 'Active' ||\r\n                      rowData[col['field']] == 'A'\r\n                        ? true\r\n                        : false\r\n                    \"\r\n                  />\r\n                  <span class=\"slider round\"></span>\r\n                </label>\r\n              </td>\r\n            </ng-container>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"rowexpansion\" let-rowData>\r\n          <tr>\r\n              <td colspan=\"10\">\r\n                  <div class=\"p-p-3\" style=\"padding: 20px;background: #e2e3ed;\">\r\n                      <p-table [value]=\"rowData.orders\" dataKey=\"id\"\r\n                      [rows]=\"3\"\r\n                      columnResizeMode=\"expand\"\r\n                      [resizableColumns]=\"true\"\r\n                      columnResizeMode=\"fit\"\r\n                      [rowHover]=\"true\"\r\n                      [scrollable]=\"true\"\r\n                      scrollHeight=\"220px\">\r\n                          <ng-template pTemplate=\"header\">\r\n                              <tr>\r\n                                  <th pSortableColumn=\"id\">Benef Code </th>\r\n                                  <th pSortableColumn=\"fullName\">Benef Name </th>\r\n                                  <th pSortableColumn=\"contactMobileNumber\">Mobile No </th>\r\n                                  <th pSortableColumn=\"documentIdNumber\">ID No </th>\r\n                                  <th pSortableColumn=\"contactCountry\">Country </th>\r\n                                  <th pSortableColumn=\"serviceCurrency\">Currency</th>\r\n                                  <th pSortableColumn=\"serviceCategory\">Service Category </th>\r\n                                  <th pSortableColumn=\"bankAccountType\">Service Type </th>\r\n                                  <th pSortableColumn=\"bankBranch\">Service Details </th>\r\n                                  <th >PastTxns</th>\r\n                                  <th >Status </th>\r\n                              </tr>\r\n                          </ng-template>\r\n                          <ng-template pTemplate=\"body\" let-order>\r\n                              <tr>\r\n                                  <td>{{order.id}}</td>\r\n                                  <td ><a  style=\"text-decoration: none !important\"\r\n                                    [ngStyle]=\"{\r\n                                      color: 'var(--primary-color)',\r\n                                      fontSize: '11px',\r\n                                      cursor: 'pointer'\r\n                                    }\" (click)=\"editbeneficiary(order)\">{{order.fullName}}</a></td>\r\n                                  <td>{{order.contactMobileNumber}}</td>\r\n                                  <td>{{order.documentIdNumber}}</td>\r\n                                  <td>{{order.contactCountry}}</td>\r\n                                  <td>{{order.serviceCurrency}}</td>\r\n                                  <td>{{order.serviceCategory}}</td>\r\n                                  <td>{{order.bankAccountType}}</td>\r\n                                  <td>{{order.bankBranch}}</td>\r\n                                  <td><span class=\"image-text\">\r\n                                    <button\r\n                                      pButton\r\n                                      type=\"button\"\r\n                                      icon=\"pi pi-eye\"\r\n                                      class=\"operation-btns mr-2\"\r\n                                    ></button>\r\n                                  </span></td>\r\n                                  <td>\r\n                                  <label class=\"switch\" style=\"border: none\">\r\n                                  <input\r\n                                     #statusInp\r\n                                     (click)=\"confirmBeneficiaryStatus($event, order, customerType)\"\r\n                                     [checked]=\"\r\n                                     order['status'] == 'Active' ||\r\n                                     order['status'] == 'A'\r\n                                       ? true\r\n                                       : false\r\n                                   \"\r\n                                      type=\"checkbox\"\r\n                                      />\r\n                                        <span class=\"slider round\"></span>\r\n                                        </label>\r\n                                    </td>\r\n                               </tr>\r\n                          </ng-template>\r\n                          <ng-template pTemplate=\"emptymessage\">\r\n                              <tr>\r\n                                  <td colspan=\"11\">There are no Beneficiaries for current customer.</td>\r\n                              </tr>\r\n                          </ng-template>\r\n                      </p-table>\r\n                  </div>\r\n              </td>\r\n          </tr>\r\n      </ng-template>\r\n        <ng-template pTemplate=\"emptymessage\">\r\n          <tr>\r\n            <td [attr.colspan]=\"cols.length\">No Data found.</td>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"paginatorleft\" let-state>\r\n          {{ state.page * state.rows + 1 }} -\r\n          {{\r\n            state.rows * (state.page + 1) > state.totalRecords\r\n              ? state.totalRecords\r\n              : state.rows * (state.page + 1)\r\n          }}\r\n          of {{ state.totalRecords }}\r\n        </ng-template>\r\n      </p-table>\r\n    </div>\r\n  </div>\r\n  <div class=\"NorecordFound\" *ngIf=\"!showTable\">\r\n    <div class=\"row\">\r\n      <div class=\"col-12\"><img src=\"assets/noRecordFound.svg\" /></div>\r\n    </div>\r\n    <div class=\"row\">\r\n      <div class=\"col-12\">\r\n        <p>Select search criterias to find the details</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <p-confirmDialog\r\n    key=\"activeDeactiveStatus\"\r\n    class=\"status-confirm confirm-popup\"\r\n    #cd\r\n    [closable]=\"false\"\r\n  >\r\n    <p-footer>\r\n      <button\r\n        type=\"button\"\r\n        pButton\r\n        icon=\"pi pi-check\"\r\n        label=\"Yes\"\r\n        (click)=\"cd.accept()\"\r\n      ></button>\r\n  \r\n      <button\r\n        type=\"button\"\r\n        pButton\r\n        icon=\"pi pi-times\"\r\n        label=\"No\"\r\n        (click)=\"cd.reject()\"\r\n      ></button>\r\n    </p-footer>\r\n  </p-confirmDialog>\r\n  \r\n","import { Component, OnInit, ViewChild } from \"@angular/core\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { ConfirmationService, MessageService } from \"primeng/api\";\r\nimport { Dropdown } from \"primeng/dropdown\";\r\nimport { DialogService } from \"primeng/dynamicdialog\";\r\nimport { Table } from \"primeng/table\";\r\nimport { CoreService } from \"src/app/core.service\";\r\nimport { SetCriteriaService } from \"src/app/shared/components/set-criteria/set-criteria.service\";\r\nimport { ChargeServiceService } from \"../charge-service.service\";\r\nimport { CriteriaDataService } from \"src/app/shared/services/criteria-data.service\";\r\nimport {\r\n  UntypedFormBuilder,\r\n  UntypedFormControl,\r\n  Validators,\r\n} from \"@angular/forms\";\r\nimport { SetCriteriaComponent } from \"src/app/shared/components/set-criteria/set-criteria.component\";\r\nimport { forkJoin } from \"rxjs\";\r\nimport { map, take } from \"rxjs/operators\";\r\n\r\nimport _lodashClone from \"lodash-es/cloneDeep\";\r\n\r\n@Component({\r\n  selector: \"app-charge-details\",\r\n  templateUrl: \"./charge-details.component.html\",\r\n  styleUrls: [\"./charge-details.component.scss\"],\r\n  providers: [DialogService, MessageService],\r\n})\r\nexport class ChargeDetailsComponent implements OnInit {\r\n  @ViewChild(\"table\", { static: false }) table!: Table;\r\n  @ViewChild(\"templatesDropdown\") templatesDropdown: Dropdown;\r\n  primaryColor = \"var(--primary-color)\";\r\n\r\n  userId = \"\";\r\n  chargeID = \"\";\r\n  mode = \"add\";\r\n  formName = \"Charge Settings\";\r\n\r\n  chargeCode = \"No Data\";\r\n  chargeDescription = \"\";\r\n\r\n  deactivated: boolean = false;\r\n  statusData: any = [];\r\n\r\n  isChargeSettingLinked: boolean = false;\r\n\r\n  appliedCriteriaCriteriaMap: any = null;\r\n  appliedCriteriaIsDuplicate: any = null;\r\n  objectKeys = Object.keys;\r\n  isEditMode = false;\r\n\r\n  editChargeSettingApiData: any = [];\r\n\r\n  criteriaMasterData: any = {};\r\n  criteriaDataDetailsJson: any = {};\r\n  cmCriteriaMandatory = [];\r\n  cmCriteriaDependency: any = {};\r\n  cmCriteriaDataDetails: any = [];\r\n  independantCriteriaArr: any = [];\r\n  cmCriteriaSlabType: any = { Slab: \"LCY Amount\", date: \"Transaction Date\" };\r\n  criteriaTemplatesDdlOptions: any = [];\r\n  criteriaMapDdlOptions = [];\r\n  criteriaEqualsDdlOptions = [];\r\n  correspondentDdlOptions = [];\r\n\r\n  criteriaText: any[] = [];\r\n  criteriaCodeText: any[] = [];\r\n\r\n  savingCriteriaTemplateError = null;\r\n\r\n  inactiveData: boolean = false;\r\n  isApplyCriteriaClicked: boolean = false;\r\n\r\n  applyCriteriaResponse: any[] = [];\r\n  isLcyFieldPresent = false;\r\n  applyCriteriaDataTableColumns: any[] = [];\r\n  columnsCopy: any[] = [\r\n    {\r\n      field: \"setAs\",\r\n      header: \"Set As\",\r\n      fieldType: \"dropdown\",\r\n      frozen: false,\r\n      info: null,\r\n    },\r\n    {\r\n      field: \"charge\",\r\n      header: \"Charge\",\r\n      fieldType: \"input\",\r\n      frozen: false,\r\n      info: null,\r\n    },\r\n    {\r\n      field: \"applicableOn\",\r\n      header: \"Applicable On\",\r\n      fieldType: \"dropdown\",\r\n      frozen: false,\r\n      info: null,\r\n    },\r\n    {\r\n      field: \"isActive\",\r\n      header: \"Status\",\r\n      frozen: false,\r\n      info: null,\r\n    },\r\n    {\r\n      field: \"action\",\r\n      header: \"Action\",\r\n\r\n      fieldType: \"button\",\r\n      frozen: true,\r\n      info: null,\r\n    },\r\n  ];\r\n  applyCriteriaFormattedData: any[] = [];\r\n\r\n  chargeTypeOption: any[] = [];\r\n  setAsOption: any[] = [];\r\n  applicableOnOption: any[] = [];\r\n\r\n  chargeMin = 0;\r\n  chargePerMax = 100;\r\n  chargeAmountMax = 100000;\r\n\r\n  appliedCriteriaDatajson: any = {};\r\n  selectAppModule: any;\r\n  searchApplicationOptions: any[] = [];\r\n  searchModuleOptions: any[] = [];\r\n\r\n  formattedMasterData: any = [];\r\n\r\n  appModuleDataPresent: boolean = false;\r\n  showContent: boolean = false;\r\n\r\n  fieldDisplayData = {};\r\n\r\n  setCriteriaName = \"charges\";\r\n\r\n  constructor(\r\n    private activatedRoute: ActivatedRoute,\r\n    public dialogService: DialogService,\r\n    public messageService: MessageService,\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private coreService: CoreService,\r\n    private confirmationService: ConfirmationService,\r\n    private setCriteriaService: SetCriteriaService,\r\n    private chargeSettingsService: ChargeServiceService,\r\n    private criteriaDataService: CriteriaDataService,\r\n    private fb: UntypedFormBuilder\r\n  ) {}\r\n\r\n  @ViewChild(SetCriteriaComponent)\r\n  setCriteriaSharedComponent!: SetCriteriaComponent;\r\n\r\n  ngOnInit(): void {\r\n    this.coreService.displayLoadingScreen();\r\n    this.mode = \"add\";\r\n    this.route.data.subscribe((data) => {\r\n      this.coreService.setBreadCrumbMenu(Object.values(data));\r\n    });\r\n    this.setSelectAppModule();\r\n    this.userId = JSON.parse(localStorage.getItem(\"userData\"))[\"userId\"];\r\n    const params = this.activatedRoute.snapshot.params;\r\n    if (params && params.id) {\r\n      this.mode = this.activatedRoute.snapshot.routeConfig.path.substring(\r\n        this.activatedRoute.snapshot.routeConfig.path.lastIndexOf(\"/\") + 1\r\n      );\r\n      this.chargeID = params.id;\r\n    }\r\n\r\n    // local get app-mod\r\n\r\n    this.searchApplicationOptions = JSON.parse(\r\n      localStorage.getItem(\"appAccess\")\r\n    );\r\n    this.searchModuleOptions = JSON.parse(localStorage.getItem(\"modAccess\"));\r\n    let defAppMod = JSON.parse(localStorage.getItem(\"defAppModule\"));\r\n    let currAppMod = JSON.parse(sessionStorage.getItem(\"charge\"));\r\n\r\n    let defApp = null;\r\n    let defMod = null;\r\n\r\n    if (currAppMod) {\r\n      console.log(currAppMod);\r\n      defApp = this.searchApplicationOptions.filter(\r\n        (opt) => opt.code == currAppMod.applicationName.code\r\n      )[0];\r\n      defMod = this.searchModuleOptions.filter(\r\n        (opt) => opt.code == currAppMod.moduleName.code\r\n      )[0];\r\n    } else {\r\n      if (defAppMod) {\r\n        defApp = JSON.parse(localStorage.getItem(\"applicationName\"));\r\n        defMod = JSON.parse(localStorage.getItem(\"moduleName\"));\r\n      }\r\n    }\r\n\r\n    if (defApp) {\r\n      this.appCtrl.patchValue(defApp);\r\n    }\r\n    if (defMod) {\r\n      this.moduleCtrl.patchValue(defMod);\r\n    }\r\n    if (this.appCtrl.value && this.moduleCtrl.value) {\r\n      this.moduleCtrl.enable();\r\n      this.searchAppModule();\r\n      this.appModuleDataPresent = true;\r\n      if (this.mode != \"add\") {\r\n        this.appCtrl.disable();\r\n        this.moduleCtrl.disable();\r\n      }\r\n    } else {\r\n      if (this.mode != \"add\") {\r\n        this.router.navigate([`navbar/charge-settings`]);\r\n      } else {\r\n        this.coreService.removeLoadingScreen();\r\n      }\r\n    }\r\n\r\n    // local get app-mod end\r\n\r\n    this.statusData = this.chargeSettingsService.getData();\r\n    console.log(\"status\", this.statusData);\r\n    if (this.statusData && this.statusData[\"status\"] == \"Inactive\") {\r\n      this.deactivated = true;\r\n    }\r\n  }\r\n  setSelectAppModule() {\r\n    this.selectAppModule = this.fb.group({\r\n      applications: new UntypedFormControl({ value: \"\", disabled: false }, [\r\n        Validators.required,\r\n      ]),\r\n      modules: new UntypedFormControl({ value: \"\", disabled: true }, [\r\n        Validators.required,\r\n      ]),\r\n    });\r\n  }\r\n\r\n  get appCtrl() {\r\n    return this.selectAppModule.get(\"applications\");\r\n  }\r\n  get moduleCtrl() {\r\n    return this.selectAppModule.get(\"modules\");\r\n  }\r\n\r\n  onKeyPress(event: KeyboardEvent): void {\r\n    const inputChar = String.fromCharCode(event.charCode);\r\n\r\n    // Allow alphanumeric characters and space\r\n    if (!/^[a-zA-Z0-9\\s]*$/.test(inputChar)) {\r\n      event.preventDefault();\r\n    }\r\n  }\r\n\r\n  onAppValueChange() {\r\n    this.showContent = false;\r\n    this.appModuleDataPresent = false;\r\n    this.moduleCtrl.reset();\r\n    this.moduleCtrl.enable();\r\n  }\r\n\r\n  searchAppModule() {\r\n    this.applyCriteriaFormattedData = [];\r\n    this.criteriaText = [];\r\n    this.criteriaCodeText = [];\r\n    this.appModuleDataPresent = true;\r\n    this.showContent = false;\r\n    this.getCriteriaMasterData();\r\n    this.getAllTemplates();\r\n  }\r\n\r\n  getChargeSettingForEditApi(chargeCode: any, operation: any) {\r\n    console.log(\"HERE\");\r\n    this.applyCriteriaFormattedData = [];\r\n    this.applyCriteriaDataTableColumns = [];\r\n\r\n    this.applyCriteriaDataTableColumns = JSON.parse(\r\n      JSON.stringify(this.columnsCopy)\r\n    );\r\n\r\n    this.chargeSettingsService\r\n      .getChargeSettingForEdit(\r\n        chargeCode,\r\n        operation,\r\n        this.chargeSettingsService.applicationName,\r\n        this.chargeSettingsService.moduleName,\r\n        this.formName\r\n      )\r\n      .subscribe(\r\n        (res) => {\r\n          if (\r\n            res[\"status\"] &&\r\n            typeof res[\"status\"] == \"string\" &&\r\n            (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n          ) {\r\n            this.coreService.removeLoadingScreen();\r\n            this.showContent = false;\r\n            if (res[\"error\"]) {\r\n              this.coreService.showWarningToast(res[\"error\"]);\r\n            } else {\r\n              this.coreService.showWarningToast(\"Some error in fetching data\");\r\n            }\r\n          } else {\r\n            if (res[\"data\"]) {\r\n              this.showContent = true;\r\n              this.editChargeSettingApiData = JSON.parse(JSON.stringify(res));\r\n\r\n              this.criteriaCodeText =\r\n                this.setCriteriaService.setCriteriaMap(res);\r\n\r\n              this.criteriaText =\r\n                this.setCriteriaService.decodeFormattedCriteria(\r\n                  this.criteriaCodeText,\r\n                  this.criteriaMasterData,\r\n                  this.fieldDisplayData\r\n                );\r\n\r\n              this.chargeCode = res[\"chargeCode\"];\r\n              if (res[\"chargeCodeDesc\"]) {\r\n                this.chargeDescription = res[\"chargeCodeDesc\"];\r\n              }\r\n              this.isChargeSettingLinked = !res[\"criteriaUpdate\"];\r\n              this.appliedCriteriaCriteriaMap = res[\"criteriaMap\"];\r\n              this.updateApplicableOnOptions(res);\r\n              this.setAsOption = res[\"setAsOption\"].map((option) => {\r\n                return { code: option.code, codeName: option.codeName };\r\n              });\r\n              console.log(this.applicableOnOption);\r\n\r\n              let amtSlabPresent = false;\r\n              let dateSlabPresent = false;\r\n\r\n              if (res[\"criteriaMap\"].indexOf(\"from:\") >= 0) {\r\n                amtSlabPresent = true;\r\n              }\r\n\r\n              if (res[\"criteriaMap\"].indexOf(\"trnStartDate=\") >= 0) {\r\n                dateSlabPresent = true;\r\n              }\r\n\r\n              if (amtSlabPresent && dateSlabPresent) {\r\n                this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n                  field: \"dateFrom\",\r\n                  header: \"Date From\",\r\n                  fieldType: \"text\",\r\n                });\r\n                this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n                  field: \"dateTo\",\r\n                  header: \"Date To\",\r\n                  fieldType: \"text\",\r\n                });\r\n                this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n                  field: \"lcyAmountFrom\",\r\n                  header: \"Amount From\",\r\n                  fieldType: \"text\",\r\n                });\r\n                this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n                  field: \"lcyAmountTo\",\r\n                  header: \"Amount To\",\r\n                  fieldType: \"text\",\r\n                });\r\n\r\n                this.applyCriteriaFormattedData = [];\r\n              } else {\r\n                if (amtSlabPresent) {\r\n                  this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n                    field: \"lcyAmountFrom\",\r\n                    header: \"Amount From\",\r\n                    fieldType: \"text\",\r\n                  });\r\n                  this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n                    field: \"lcyAmountTo\",\r\n                    header: \"Amount To\",\r\n                    fieldType: \"text\",\r\n                  });\r\n                  this.applyCriteriaFormattedData = [];\r\n                } else if (dateSlabPresent) {\r\n                  this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n                    field: \"dateFrom\",\r\n                    header: \"Date From\",\r\n                    fieldType: \"text\",\r\n                  });\r\n                  this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n                    field: \"dateTo\",\r\n                    header: \"Date To\",\r\n                    fieldType: \"text\",\r\n                  });\r\n                  this.applyCriteriaFormattedData = [];\r\n                } else if (!amtSlabPresent && !dateSlabPresent) {\r\n                  this.applyCriteriaFormattedData = [];\r\n                }\r\n              }\r\n              this.applyCriteriaFormattedData = res[\"data\"];\r\n              this.applyCriteriaFormattedData.forEach((data) => {\r\n                let mapSplit = data[\"criteriaMapSplit\"];\r\n\r\n                let criteriaMapFirstSplit = null;\r\n                let criteriaMapSecSplit = null;\r\n                let criteriaMapThirdSplit = null;\r\n\r\n                if (mapSplit && mapSplit.includes(\"&&&&\")) {\r\n                  if (mapSplit.split(\"&&&&\").length == 3) {\r\n                    criteriaMapFirstSplit = mapSplit.split(\"&&&&\")[0];\r\n                    criteriaMapSecSplit = mapSplit.split(\"&&&&\")[1];\r\n                    criteriaMapThirdSplit = mapSplit.split(\"&&&&\")[2];\r\n\r\n                    if (criteriaMapSecSplit.includes(\"from:\")) {\r\n                      data[\"lcyAmountFrom\"] = criteriaMapSecSplit\r\n                        .split(\"::\")[0]\r\n                        .split(\":\")[1];\r\n                      data[\"lcyAmountTo\"] = criteriaMapSecSplit\r\n                        .split(\"::\")[1]\r\n                        .split(\":\")[1];\r\n                    }\r\n\r\n                    if (criteriaMapThirdSplit.includes(\"trnStartDate=\")) {\r\n                      data[\"dateFrom\"] = criteriaMapThirdSplit\r\n                        .split(\"::\")[0]\r\n                        .split(\"=\")[1];\r\n                      data[\"dateTo\"] = criteriaMapThirdSplit\r\n                        .split(\"::\")[1]\r\n                        .split(\"=\")[1];\r\n                    }\r\n                  } else if (mapSplit.split(\"&&&&\").length == 2) {\r\n                    criteriaMapFirstSplit = mapSplit.split(\"&&&&\")[0];\r\n                    criteriaMapSecSplit = mapSplit.split(\"&&&&\")[1];\r\n\r\n                    if (criteriaMapSecSplit.includes(\"from:\")) {\r\n                      data[\"lcyAmountFrom\"] = criteriaMapSecSplit\r\n                        .split(\"::\")[0]\r\n                        .split(\":\")[1];\r\n                      data[\"lcyAmountTo\"] = criteriaMapSecSplit\r\n                        .split(\"::\")[1]\r\n                        .split(\":\")[1];\r\n                    } else if (criteriaMapSecSplit.includes(\"trnStartDate=\")) {\r\n                      data[\"dateFrom\"] = criteriaMapSecSplit\r\n                        .split(\"::\")[0]\r\n                        .split(\"=\")[1];\r\n                      data[\"dateTo\"] = criteriaMapSecSplit\r\n                        .split(\"::\")[1]\r\n                        .split(\"=\")[1];\r\n                    }\r\n                  }\r\n                } else {\r\n                }\r\n              });\r\n\r\n              // % old-\r\n\r\n              // if (res[\"criteriaMap\"].indexOf(\"&&&&\") >= 0) {\r\n              //   this.isLcyFieldPresent = true;\r\n              // }\r\n\r\n              // if (!this.isLcyFieldPresent) {\r\n              //   this.applyCriteriaFormattedData = res[\"data\"];\r\n              // } else {\r\n              //   if (res[\"criteriaMap\"].indexOf(\"LCY Amount\") >= 0) {\r\n              //     this.applyCriteriaDataTableColumns.splice(-4, 0, {\r\n              //       field: \"lcyAmount\",\r\n              //       header: \"LCY Amount\",\r\n              //       fieldType: \"text\",\r\n              //     });\r\n              //     this.applyCriteriaFormattedData = res[\"data\"];\r\n\r\n              //     this.applyCriteriaFormattedData.forEach((data) => {\r\n              //       let split = data[\"criteriaMapSplit\"];\r\n              //       if (split) {\r\n              //         data[\"lcyAmount\"] = split.includes(\"&&&&\")\r\n              //           ? split.split(\"&&&&\").pop()\r\n              //           : split;\r\n              //         data[\"criteriaMapSplit\"] = split.includes(\"&&&&\")\r\n              //           ? split.split(\"&&&&\").pop()\r\n              //           : split;\r\n              //       }\r\n              //     });\r\n              //   } else if (res[\"criteriaMap\"].indexOf(\"from\") >= 0) {\r\n              //     this.applyCriteriaDataTableColumns.splice(-4, 0, {\r\n              //       field: \"lcyAmountFrom\",\r\n              //       header: \"Amount From\",\r\n              //       fieldType: \"text\",\r\n              //     });\r\n              //     this.applyCriteriaDataTableColumns.splice(-4, 0, {\r\n              //       field: \"lcyAmountTo\",\r\n              //       header: \"Amount To\",\r\n              //       fieldType: \"text\",\r\n              //     });\r\n              //     this.applyCriteriaFormattedData = res[\"data\"];\r\n              //     console.log(\"::\", this.applyCriteriaFormattedData);\r\n              //     this.applyCriteriaFormattedData.forEach((data) => {\r\n              //       let split = data[\"criteriaMapSplit\"];\r\n              //       if (split) {\r\n              //         data[\"lcyAmountFrom\"] = split?.includes(\"&&&&\")\r\n              //           ? split.split(\"&&&&\").pop().split(\"::\")[0].split(\":\")[1]\r\n              //           : split?.split(\"::\")[0]?.split(\":\")[1];\r\n              //         data[\"lcyAmountTo\"] = split?.includes(\"&&&&\")\r\n              //           ? split.split(\"&&&&\").pop().split(\"::\")[1].split(\":\")[1]\r\n              //           : split?.split(\"::\")[1]?.split(\":\")[1];\r\n              //         data[\"criteriaMapSplit\"] = split?.includes(\"&&&&\")\r\n              //           ? split.split(\"&&&&\").pop()\r\n              //           : split;\r\n              //       }\r\n              //     });\r\n              //   }\r\n              // }\r\n\r\n              this.applyCriteriaFormattedData.forEach((data) => {\r\n                delete data.id;\r\n                data[\"setAsOption\"] = this.setAsOption;\r\n                data[\"applicableOnOption\"] = this.applicableOnOption;\r\n                data[\"action\"] = res[\"action\"];\r\n                data[\"invalidChargeAmount\"] = false;\r\n                data[\"status\"] = \"Active\";\r\n              });\r\n              // this.setSelectedOptions();\r\n\r\n              console.log(\"::\", this.applyCriteriaFormattedData);\r\n              // console.log(\"::\", this.applyCriteriaDataTableColumns);\r\n\r\n              this.coreService.showSuccessToast(\r\n                `Charge Setting Data Fetched Successfully`\r\n              );\r\n              this.coreService.removeLoadingScreen();\r\n            } else {\r\n              this.applyCriteriaFormattedData = [];\r\n              this.appliedCriteriaCriteriaMap = null;\r\n              this.appliedCriteriaIsDuplicate = null;\r\n              this.applyCriteriaDataTableColumns = [];\r\n              if (res && res[\"msg\"]) {\r\n                this.coreService.showWarningToast(res[\"msg\"]);\r\n              } else {\r\n                this.coreService.showWarningToast(\r\n                  \"No active data found for this charge Setting.\"\r\n                );\r\n              }\r\n              this.coreService.removeLoadingScreen();\r\n            }\r\n          }\r\n        },\r\n        (err) => {\r\n          this.showContent = false;\r\n          this.coreService.removeLoadingScreen();\r\n          console.log(\"Error in getChargeSettingForEditApi\", err);\r\n          this.coreService.showWarningToast(\r\n            \"Something went wrong, Please try again later\"\r\n          );\r\n        }\r\n      );\r\n  }\r\n\r\n  onActive(data: any) {\r\n    this.confirmChargeEditStatus();\r\n  }\r\n  confirmChargeEditStatus() {\r\n    let type = \"\";\r\n    let reqStatus = \"\";\r\n    if (this.deactivated == true) {\r\n      reqStatus = \"Active\";\r\n      type = \"Activate\";\r\n    } else {\r\n      reqStatus = \"Inactive\";\r\n      type = \"Deactivate\";\r\n    }\r\n    this.coreService.setSidebarBtnFixedStyle(false);\r\n    this.coreService.setHeaderStickyStyle(false);\r\n    let completeMsg = \"\";\r\n    completeMsg =\r\n      `<img src=\"../../../assets/warning.svg\"><br/><br/>` +\r\n      `Do you wish to ` +\r\n      type +\r\n      ` the charge Record: ${this.chargeCode}?`;\r\n\r\n    this.confirmationService.confirm({\r\n      message: completeMsg,\r\n      key: \"activeDeactiveStatusCharge\",\r\n      accept: () => {\r\n        this.updateStatus(reqStatus);\r\n        this.setHeaderSidebarBtn();\r\n      },\r\n      reject: () => {\r\n        this.confirmationService.close;\r\n        this.setHeaderSidebarBtn();\r\n      },\r\n    });\r\n  }\r\n  updateStatus(reqStatus: any) {\r\n    this.coreService.displayLoadingScreen();\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"userId\", this.userId);\r\n    formData.append(\"chargeCode\", this.chargeCode);\r\n    formData.append(\"status\", reqStatus);\r\n    formData.append(\"applications\", this.appCtrl.value.code);\r\n    formData.append(\"moduleName\", this.moduleCtrl.value.code);\r\n    formData.append(\"form\", this.formName);\r\n    this.updateChargeCodeStatus(formData);\r\n  }\r\n\r\n  updateChargeCodeStatus(formData: any) {\r\n    this.chargeSettingsService.updateChargeSettingsStatus(formData).subscribe(\r\n      (res) => {\r\n        let message = \"\";\r\n        if (res[\"error\"] == \"true\") {\r\n          this.coreService.removeLoadingScreen();\r\n          this.coreService.showWarningToast(message);\r\n        } else {\r\n          if (res[\"msg\"]) {\r\n            message = res[\"msg\"];\r\n            this.deactivated = !this.deactivated;\r\n            this.coreService.showSuccessToast(message);\r\n          } else {\r\n            this.coreService.removeLoadingScreen();\r\n            message = \"Error in fetching data, Please try again later\";\r\n            this.coreService.showWarningToast(message);\r\n          }\r\n        }\r\n      },\r\n      (err) => {\r\n        console.log(err);\r\n        this.coreService.removeLoadingScreen();\r\n      }\r\n    );\r\n  }\r\n\r\n  getCriteriaMasterData() {\r\n    if (this.mode == \"add\") {\r\n      this.coreService.displayLoadingScreen();\r\n    }\r\n    forkJoin({\r\n      criteriaMasterData: this.chargeSettingsService.getCriteriaMasterData(\r\n        this.userId,\r\n        this.formName,\r\n        this.appCtrl.value.code,\r\n        this.moduleCtrl.value.code\r\n      ),\r\n      addBankRouteCriteriaData:\r\n        this.chargeSettingsService.getAddChargeSettingsCriteriaData(\r\n          this.appCtrl.value.code,\r\n          this.moduleCtrl.value.code,\r\n          this.formName\r\n        ),\r\n    })\r\n      .pipe(\r\n        take(1),\r\n        map((response) => {\r\n          if (\r\n            response.addBankRouteCriteriaData[\"data\"] &&\r\n            Object.keys(response.addBankRouteCriteriaData[\"data\"]).length == 0\r\n          ) {\r\n            return {\r\n              msg: \"No Criteria Found for Selected Application & Module.\",\r\n            };\r\n          } else {\r\n            this.formatMasterData(response.criteriaMasterData);\r\n            let criteriaMasterJson = _lodashClone(response.criteriaMasterData);\r\n            delete criteriaMasterJson[\"fieldDisplay\"];\r\n            this.fieldDisplayData = response.criteriaMasterData[\"fieldDisplay\"];\r\n            const criteriaMasterData = criteriaMasterJson;\r\n            this.criteriaDataDetailsJson = response.addBankRouteCriteriaData;\r\n            this.criteriaDataDetailsJson.data.listCriteria.cmCriteriaDataDetails.forEach(\r\n              (data) => {\r\n                if (data[\"criteriaType\"] == \"Slab\") {\r\n                  this.cmCriteriaSlabType[\"Slab\"] = data[\"fieldName\"];\r\n                }\r\n                if (data[\"criteriaType\"] == \"date\") {\r\n                  this.cmCriteriaSlabType[\"date\"] = data[\"fieldName\"];\r\n                }\r\n              }\r\n            );\r\n\r\n            if (this.mode == \"add\") {\r\n              this.chargeCode = this.criteriaDataDetailsJson.data.chargeCode;\r\n              this.chargeID = this.chargeCode;\r\n              this.chargeDescription =\r\n                this.criteriaDataDetailsJson.data.chargeCodeDesc;\r\n            }\r\n\r\n            this.cmCriteriaDataDetails = [\r\n              ...this.criteriaDataDetailsJson.data.listCriteria\r\n                .cmCriteriaDataDetails,\r\n            ];\r\n\r\n            this.cmCriteriaMandatory =\r\n              this.criteriaDataDetailsJson.data.mandatory\r\n                .replace(/[\"|\\[|\\]]/g, \"\")\r\n                .split(\", \");\r\n\r\n            this.cmCriteriaDependency =\r\n              this.criteriaDataDetailsJson.data.dependance;\r\n\r\n            let criteriaDependencyTreeData =\r\n              this.criteriaDataService.setDependencyTree(\r\n                this.criteriaDataDetailsJson,\r\n                this.cmCriteriaDataDetails,\r\n                criteriaMasterData,\r\n                this.cmCriteriaMandatory,\r\n                this.cmCriteriaDependency,\r\n                this.cmCriteriaSlabType\r\n              );\r\n\r\n            this.criteriaMapDdlOptions =\r\n              criteriaDependencyTreeData[\"criteriaMapDdlOptions\"];\r\n            this.independantCriteriaArr =\r\n              criteriaDependencyTreeData[\"independantCriteriaArr\"];\r\n            return criteriaMasterData;\r\n          }\r\n        })\r\n      )\r\n      .subscribe(\r\n        (res) => {\r\n          if (!res[\"msg\"]) {\r\n            if (\r\n              res[\"status\"] &&\r\n              typeof res[\"status\"] == \"string\" &&\r\n              (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n            ) {\r\n              this.coreService.removeLoadingScreen();\r\n              this.showContent = false;\r\n              if (res[\"error\"]) {\r\n                this.coreService.showWarningToast(res[\"error\"]);\r\n              } else {\r\n                this.coreService.showWarningToast(\r\n                  \"Some error in fetching data\"\r\n                );\r\n              }\r\n            } else {\r\n              this.criteriaMasterData = res;\r\n              if (this.mode == \"edit\") {\r\n                if (\r\n                  !(\r\n                    this.chargeSettingsService.applicationName ||\r\n                    this.chargeSettingsService.moduleName\r\n                  )\r\n                ) {\r\n                  this.appModuleDataPresent = false;\r\n                  this.showContent = false;\r\n                  this.router.navigate([`navbar/charge-settings`]);\r\n                } else {\r\n                  this.getChargeSettingForEditApi(this.chargeID, \"edit\");\r\n                }\r\n              } else if (this.mode == \"clone\") {\r\n                if (\r\n                  !(\r\n                    this.chargeSettingsService.applicationName ||\r\n                    this.chargeSettingsService.moduleName\r\n                  )\r\n                ) {\r\n                  this.appModuleDataPresent = false;\r\n                  this.showContent = false;\r\n                  this.router.navigate([`navbar/charge-settings`]);\r\n                } else {\r\n                  this.getChargeSettingForEditApi(this.chargeID, \"clone\");\r\n                }\r\n              } else {\r\n                this.showContent = true;\r\n                this.coreService.removeLoadingScreen();\r\n              }\r\n            }\r\n          } else if (res[\"msg\"]) {\r\n            this.coreService.showWarningToast(res[\"msg\"]);\r\n            this.coreService.removeLoadingScreen();\r\n            return;\r\n          }\r\n        },\r\n        (err) => {\r\n          this.showContent = false;\r\n          this.coreService.removeLoadingScreen();\r\n          console.log(\"Error in Initiating dropdown values\", err);\r\n          this.coreService.showWarningToast(\"Some error in fetching data\");\r\n        }\r\n      );\r\n  }\r\n  formatMasterData(masterData: any) {\r\n    const formattedMasterData = [].concat.apply([], Object.values(masterData));\r\n    this.formattedMasterData = formattedMasterData;\r\n  }\r\n  getCorrespondentValues(\r\n    fieldName: any,\r\n    displayName: any,\r\n    criteriaCodeText: any\r\n  ) {\r\n    let criteriaMapValue = criteriaCodeText.join(\";\");\r\n\r\n    this.coreService.displayLoadingScreen();\r\n    this.chargeSettingsService\r\n      .getCorrespondentValuesData(\r\n        this.formName,\r\n        this.appCtrl.value.code,\r\n        criteriaMapValue,\r\n        fieldName,\r\n        displayName,\r\n        this.moduleCtrl.value.code\r\n      )\r\n      .subscribe(\r\n        (res) => {\r\n          if (\r\n            res[\"status\"] &&\r\n            typeof res[\"status\"] == \"string\" &&\r\n            (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n          ) {\r\n            this.coreService.removeLoadingScreen();\r\n            if (res[\"error\"]) {\r\n              this.coreService.showWarningToast(res[\"error\"]);\r\n            } else {\r\n              this.coreService.showWarningToast(\"Some error in fetching data\");\r\n            }\r\n          } else {\r\n            this.coreService.removeLoadingScreen();\r\n            if (res[fieldName]) {\r\n              this.setCriteriaSharedComponent.valueCtrl.enable();\r\n              this.setCriteriaSharedComponent.hideValuesDropdown = false;\r\n              this.setCriteriaSharedComponent.showValueInput = false;\r\n\r\n              this.correspondentDdlOptions = res[fieldName].map((val) => {\r\n                return { name: val[\"codeName\"], code: val[\"code\"] };\r\n              });\r\n            } else {\r\n              if (res[\"message\"]) {\r\n                this.coreService.showWarningToast(res[\"message\"]);\r\n                this.resetCriteriaDropdowns();\r\n              } else {\r\n                this.coreService.showWarningToast(\"Criteria Map is not proper\");\r\n                this.resetCriteriaDropdowns();\r\n              }\r\n            }\r\n          }\r\n        },\r\n        (err) => {\r\n          this.coreService.removeLoadingScreen();\r\n          console.log(\"Error in getting values\", err);\r\n          this.coreService.showWarningToast(\"Some error in fetching data\");\r\n          this.resetCriteriaDropdowns();\r\n        }\r\n      );\r\n  }\r\n\r\n  resetCriteriaDropdowns() {\r\n    this.setCriteriaSharedComponent.resetCriteriaDropdowns();\r\n  }\r\n\r\n  applyCriteria(postDataCriteria: FormData) {\r\n    postDataCriteria.append(\"chargeCode\", this.chargeID);\r\n    postDataCriteria.append(\"operation\", this.mode);\r\n    postDataCriteria.append(\"applications\", this.appCtrl.value.code);\r\n    postDataCriteria.append(\"form\", this.formName);\r\n    postDataCriteria.append(\"moduleName\", this.moduleCtrl.value.code);\r\n    this.isApplyCriteriaClicked = true;\r\n    if (this.isChargeSettingLinked && this.mode != \"clone\") {\r\n      this.coreService.setSidebarBtnFixedStyle(false);\r\n      this.coreService.setHeaderStickyStyle(false);\r\n      this.confirmationService.confirm({\r\n        message: `You can not edit the current criteria, as it is already used in transaction.<br/> Kindly disable the current record and add new.`,\r\n        key: \"chargeSettingLinkedWarning\",\r\n        accept: () => {\r\n          this.coreService.displayLoadingScreen();\r\n          setTimeout(() => {\r\n            this.coreService.setHeaderStickyStyle(true);\r\n            this.coreService.setSidebarBtnFixedStyle(true);\r\n          }, 500);\r\n          setTimeout(() => {\r\n            this.coreService.removeLoadingScreen();\r\n          }, 1000);\r\n        },\r\n      });\r\n    } else {\r\n      this.chargeCriteriaSearchApi(postDataCriteria);\r\n    }\r\n  }\r\n\r\n  chargeCriteriaSearchApi(formData: any) {\r\n    this.applyCriteriaFormattedData = [];\r\n    this.applyCriteriaDataTableColumns = [];\r\n    this.coreService.displayLoadingScreen();\r\n\r\n    this.applyCriteriaDataTableColumns = JSON.parse(\r\n      JSON.stringify(this.columnsCopy)\r\n    );\r\n\r\n    this.chargeSettingsService.postChargeCriteriaSearch(formData).subscribe(\r\n      (res) => {\r\n        if (\r\n          res[\"status\"] &&\r\n          typeof res[\"status\"] == \"string\" &&\r\n          (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n        ) {\r\n          this.coreService.removeLoadingScreen();\r\n          if (res[\"error\"]) {\r\n            this.coreService.showWarningToast(res[\"error\"]);\r\n          } else {\r\n            this.coreService.showWarningToast(\"Some error in fetching data\");\r\n          }\r\n        } else {\r\n          this.coreService.removeLoadingScreen();\r\n          if (res[\"msg\"] && res[\"msg\"] == \"No search criteria available.\") {\r\n            this.applyCriteriaFormattedData = [];\r\n            this.appliedCriteriaCriteriaMap = null;\r\n            this.appliedCriteriaIsDuplicate = null;\r\n            this.applyCriteriaDataTableColumns = [];\r\n            this.coreService.showWarningToast(res[\"msg\"]);\r\n            return;\r\n          }\r\n\r\n          if (!res[\"duplicate\"]) {\r\n            this.applyCriteriaResponse = JSON.parse(JSON.stringify(res));\r\n            this.appliedCriteriaCriteriaMap = res[\"criteriaMap\"];\r\n            this.updateApplicableOnOptions(res[\"data\"]);\r\n            this.appliedCriteriaIsDuplicate = res[\"duplicate\"];\r\n            let reqData =\r\n              this.criteriaDataService.decodeCriteriaMapIntoTableFields(res);\r\n\r\n            let crtfields = this.setCriteriaService.decodeFormattedCriteria(\r\n              reqData.critMap,\r\n              this.criteriaMasterData,\r\n              this.fieldDisplayData\r\n            );\r\n            this.setAsOption = res[\"data\"].setAsOption.map((option) => {\r\n              return { code: option.code, codeName: option.codeName };\r\n            });\r\n            let amtSlabPresent = false;\r\n            let dateSlabPresent = false;\r\n\r\n            let baseCriteriaMap = res[\"criteriaMap\"].split(\"&&&&\")[0];\r\n\r\n            if (res[\"criteriaMap\"].indexOf(\"from:\") >= 0) {\r\n              amtSlabPresent = true;\r\n            }\r\n\r\n            if (res[\"criteriaMap\"].indexOf(\"trnStartDate=\") >= 0) {\r\n              dateSlabPresent = true;\r\n            }\r\n\r\n            if (amtSlabPresent && dateSlabPresent) {\r\n              this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n                field: \"dateFrom\",\r\n                header: \"Date From\",\r\n                fieldType: \"text\",\r\n              });\r\n              this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n                field: \"dateTo\",\r\n                header: \"Date To\",\r\n                fieldType: \"text\",\r\n              });\r\n              this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n                field: \"lcyAmountFrom\",\r\n                header: \"Amount From\",\r\n                fieldType: \"text\",\r\n              });\r\n              this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n                field: \"lcyAmountTo\",\r\n                header: \"Amount To\",\r\n                fieldType: \"text\",\r\n              });\r\n\r\n              this.applyCriteriaFormattedData = [];\r\n\r\n              let dateSlabFields = reqData.dateSlabArr;\r\n              let lcySlabFields = reqData.lcySlabArr;\r\n\r\n              dateSlabFields.forEach((fieldDate) => {\r\n                console.log(lcySlabFields);\r\n                lcySlabFields.forEach((fieldAmt) => {\r\n                  let apiData = JSON.parse(\r\n                    JSON.stringify(res[\"data\"].chargeSetting)\r\n                  );\r\n                  console.log(fieldAmt);\r\n                  apiData[\"dateFrom\"] = fieldDate.trnStartDate;\r\n                  apiData[\"dateTo\"] = fieldDate.trnEndDate;\r\n                  apiData[\"lcyAmountFrom\"] = fieldAmt.from;\r\n                  apiData[\"lcyAmountTo\"] = fieldAmt.to;\r\n\r\n                  apiData[\r\n                    \"criteriaMapSplit\"\r\n                  ] = `${baseCriteriaMap}&&&&from:${fieldAmt[\"from\"]}::to:${fieldAmt[\"to\"]}&&&&trnStartDate=${fieldDate[\"trnStartDate\"]}::trnEndDate=${fieldDate[\"trnEndDate\"]}`;\r\n                  this.applyCriteriaFormattedData.push(apiData);\r\n                });\r\n              });\r\n            } else {\r\n              if (amtSlabPresent) {\r\n                let lcySlabFields = reqData.lcySlabArr;\r\n                this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n                  field: \"lcyAmountFrom\",\r\n                  header: \"Amount From\",\r\n                  fieldType: \"text\",\r\n                });\r\n                this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n                  field: \"lcyAmountTo\",\r\n                  header: \"Amount To\",\r\n                  fieldType: \"text\",\r\n                });\r\n                this.applyCriteriaFormattedData = [];\r\n                lcySlabFields.forEach((field) => {\r\n                  let apiData = JSON.parse(\r\n                    JSON.stringify(res[\"data\"].chargeSetting)\r\n                  );\r\n                  apiData[\"lcyAmountFrom\"] = field.from;\r\n                  apiData[\"lcyAmountTo\"] = field.to;\r\n                  apiData[\r\n                    \"criteriaMapSplit\"\r\n                  ] = `${baseCriteriaMap}&&&&from:${field[\"from\"]}::to:${field[\"to\"]}`;\r\n                  this.applyCriteriaFormattedData.push(apiData);\r\n                });\r\n              } else if (dateSlabPresent) {\r\n                let dateSlabFields = reqData.dateSlabArr;\r\n                this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n                  field: \"dateFrom\",\r\n                  header: \"Date From\",\r\n                  fieldType: \"text\",\r\n                });\r\n                this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n                  field: \"dateTo\",\r\n                  header: \"Date To\",\r\n                  fieldType: \"text\",\r\n                });\r\n                this.applyCriteriaFormattedData = [];\r\n                dateSlabFields.forEach((field) => {\r\n                  let apiData = JSON.parse(\r\n                    JSON.stringify(res[\"data\"].chargeSetting)\r\n                  );\r\n                  apiData[\"dateFrom\"] = field.trnStartDate;\r\n                  apiData[\"dateTo\"] = field.trnEndDate;\r\n                  apiData[\r\n                    \"criteriaMapSplit\"\r\n                  ] = `${baseCriteriaMap}&&&&trnStartDate=${field[\"trnStartDate\"]}::trnEndDate=${field[\"trnEndDate\"]}`;\r\n                  this.applyCriteriaFormattedData.push(apiData);\r\n                });\r\n              } else if (!amtSlabPresent && !dateSlabPresent) {\r\n                this.applyCriteriaFormattedData = [res[\"data\"].chargeSetting];\r\n                this.applyCriteriaFormattedData.forEach((data) => {\r\n                  data[\"criteriaMapSplit\"] = baseCriteriaMap;\r\n                });\r\n              }\r\n            }\r\n\r\n            this.applyCriteriaFormattedData.forEach((data) => {\r\n              delete data.id;\r\n              data[\"criteriaMap\"] = this.appliedCriteriaCriteriaMap;\r\n              data[\"setAsOption\"] = this.setAsOption;\r\n              data[\"applicableOnOption\"] = this.applicableOnOption;\r\n              data[\"action\"] = res[\"data\"].action;\r\n              data[\"invalidChargeAmount\"] = false;\r\n              data[\"status\"] = \"Active\";\r\n              data[\"userID\"] = this.userId;\r\n              data[\"chargeCode\"] = this.chargeCode;\r\n\r\n              console.log(\"filter\", data);\r\n              console.log(\"filter1\", data[\"criteriaMap\"]);\r\n            });\r\n            // this.setSelectedOptions();\r\n\r\n            console.log(\"::\", this.applyCriteriaFormattedData);\r\n            // console.log(\"::\", this.applyCriteriaDataTableColumns);\r\n\r\n            this.coreService.showSuccessToast(`Criteria Applied Successfully`);\r\n            this.coreService.removeLoadingScreen();\r\n          } else {\r\n            this.applyCriteriaFormattedData = [];\r\n            this.appliedCriteriaCriteriaMap = null;\r\n            this.appliedCriteriaIsDuplicate = null;\r\n            this.applyCriteriaDataTableColumns = [];\r\n            this.coreService.showWarningToast(\r\n              \"Applied criteria already exists.\"\r\n            );\r\n          }\r\n        }\r\n      },\r\n      (err) => {\r\n        this.coreService.removeLoadingScreen();\r\n        console.log(\"error in charge setting Apply API\", err);\r\n        this.coreService.showWarningToast(\"Some error in fetching data\");\r\n      }\r\n    );\r\n  }\r\n  updateApplicableOnOptions(data: any) {\r\n    console.log(data);\r\n    console.log(this.appliedCriteriaCriteriaMap);\r\n    if (this.appliedCriteriaCriteriaMap) {\r\n      const conditions = this.appliedCriteriaCriteriaMap.split(\";\");\r\n      const chargeTypeCondition = conditions.find((condition) =>\r\n        condition.includes(\"Charge Type\")\r\n      );\r\n\r\n      if (chargeTypeCondition) {\r\n        const chargeTypeMatch = /Charge Type = (.+?)(?:&&&&|$)/.exec(\r\n          chargeTypeCondition\r\n        );\r\n\r\n        console.log(\"chargeTypeMatch\", chargeTypeMatch);\r\n\r\n        if (chargeTypeMatch && chargeTypeMatch[1]) {\r\n          const chargeTypeToRemove = chargeTypeMatch[1].trim();\r\n          console.log(\"chargeTypeToRemove\", chargeTypeToRemove);\r\n\r\n          data.applicableOnOption = data.applicableOnOption?.filter(\r\n            (option) => option.codeName !== chargeTypeToRemove\r\n          );\r\n        }\r\n      }\r\n    }\r\n\r\n    this.applicableOnOption = data.applicableOnOption?.map((option) => {\r\n      return { code: option.code, codeName: option.codeName };\r\n    });\r\n    console.log(data.applicableOnOption);\r\n  }\r\n  saveCriteriaAsTemplate(templateFormData: any) {\r\n    templateFormData.append(\"applications\", this.appCtrl.value.code);\r\n    templateFormData.append(\"form\", this.formName);\r\n    templateFormData.append(\"moduleName\", this.moduleCtrl.value.code);\r\n    this.coreService.displayLoadingScreen();\r\n    this.chargeSettingsService\r\n      .currentCriteriaSaveAsTemplate(templateFormData)\r\n      .subscribe(\r\n        (res) => {\r\n          if (\r\n            res[\"status\"] &&\r\n            typeof res[\"status\"] == \"string\" &&\r\n            (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n          ) {\r\n            this.coreService.removeLoadingScreen();\r\n            if (res[\"error\"]) {\r\n              this.coreService.showWarningToast(res[\"error\"]);\r\n            } else {\r\n              this.coreService.showWarningToast(\r\n                \"Some error in saving template\"\r\n              );\r\n            }\r\n          } else {\r\n            this.coreService.removeLoadingScreen();\r\n            if (res.msg == \"Criteria Template already exists.\") {\r\n              // this.savingCriteriaTemplateError =\r\n              //   \"Criteria Template already exists.\";\r\n              this.savingCriteriaTemplateError = true;\r\n              console.log(this.savingCriteriaTemplateError);\r\n            } else {\r\n              this.savingCriteriaTemplateError = false;\r\n              this.setCriteriaSharedComponent.selectedTemplate =\r\n                this.setCriteriaSharedComponent.criteriaName;\r\n              this.coreService.showSuccessToast(res.msg);\r\n              this.setCriteriaSharedComponent.saveTemplateDialogOpen = false;\r\n              this.setCriteriaSharedComponent.criteriaName = \"\";\r\n              this.getAllTemplates();\r\n            }\r\n          }\r\n        },\r\n        (err) => {\r\n          this.coreService.removeLoadingScreen();\r\n          console.log(\":: Error in saving criteria template\", err);\r\n          this.coreService.showWarningToast(\"Some error in saving template\");\r\n        }\r\n      );\r\n  }\r\n\r\n  getAllTemplates() {\r\n    this.chargeSettingsService\r\n      .getAllCriteriaTemplates(\r\n        this.userId,\r\n        this.appCtrl.value.code,\r\n        this.moduleCtrl.value.code,\r\n        this.formName\r\n      )\r\n      .subscribe(\r\n        (res) => {\r\n          if (\r\n            res[\"status\"] &&\r\n            typeof res[\"status\"] == \"string\" &&\r\n            (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n          ) {\r\n            if (res[\"error\"]) {\r\n              this.coreService.showWarningToast(res[\"error\"]);\r\n            } else {\r\n              this.coreService.showWarningToast(\r\n                \"Some error in saving template\"\r\n              );\r\n            }\r\n          } else {\r\n            if (res.data && res.data.length) {\r\n              this.criteriaTemplatesDdlOptions = res.data;\r\n              this.criteriaTemplatesDdlOptions.forEach((val) => {\r\n                val[\"name\"] = val[\"criteriaName\"];\r\n                val[\"code\"] = val[\"criteriaName\"];\r\n              });\r\n            } else {\r\n              console.log(res.msg);\r\n            }\r\n          }\r\n        },\r\n        (err) => {\r\n          console.log(\":: Error in getting template list\", err);\r\n          this.coreService.showWarningToast(\r\n            \"Some error in getting template list\"\r\n          );\r\n        }\r\n      );\r\n  }\r\n\r\n  saveAddNewCharge(action) {\r\n    if (\r\n      this.setCriteriaSharedComponent.getCurrentCriteriaMap() !=\r\n      this.appliedCriteriaCriteriaMap\r\n    ) {\r\n      this.coreService.showWarningToast(\r\n        \"Recent changes in Criteria map has not been applied, Saving last applied data\"\r\n      );\r\n    }\r\n\r\n    if (\r\n      this.mode != \"clone\" ||\r\n      (this.mode == \"clone\" && this.isApplyCriteriaClicked)\r\n    ) {\r\n      this.coreService.displayLoadingScreen();\r\n      let isRequiredFields = false;\r\n      let invalidChargeAmount = false;\r\n      let setAsMissing = false;\r\n      let applicableOnMissing = false;\r\n      let chargeMissing = false;\r\n      this.applyCriteriaFormattedData.forEach((data) => {\r\n        if (data[\"isActive\"] == \"N\") {\r\n          data[\"chargeCodeDesc\"] = this.chargeDescription\r\n            ?.replace(/\\s+/g, \" \")\r\n            .trim()\r\n            .toUpperCase()\r\n            ? this.chargeDescription.replace(/\\s/g, \"\").length\r\n              ? this.chargeDescription\r\n                  ?.replace(/\\s+/g, \" \")\r\n                  .trim()\r\n                  .toUpperCase()\r\n              : null\r\n            : null;\r\n          if (data[\"charge\"] == \"null\" || data[\"charge\"] == null) {\r\n            data[\"charge\"] = \"\";\r\n          }\r\n        }\r\n      });\r\n      let activeData = this.applyCriteriaFormattedData.filter(\r\n        (d) => d[\"isActive\"] == \"Y\"\r\n      );\r\n\r\n      activeData.forEach((element) => {\r\n        console.log(element);\r\n\r\n        if (element[\"invalidChargeAmount\"]) {\r\n          invalidChargeAmount = true;\r\n        }\r\n        element[\"chargeCodeDesc\"] = this.chargeDescription\r\n          ?.replace(/\\s+/g, \" \")\r\n          .trim()\r\n          .toUpperCase()\r\n          ? this.chargeDescription.replace(/\\s/g, \"\").length\r\n            ? this.chargeDescription?.replace(/\\s+/g, \" \").trim().toUpperCase()\r\n            : null\r\n          : null;\r\n        if (!element[\"chargeCodeDesc\"]) {\r\n          isRequiredFields = true;\r\n        }\r\n        if (!element[\"setAs\"] || element[\"setAs\"] == \"null\") {\r\n          setAsMissing = true;\r\n        }\r\n        if (!element[\"applicableOn\"] || element[\"applicableOn\"] == \"null\") {\r\n          applicableOnMissing = true;\r\n        }\r\n        if (!element[\"charge\"] && element[\"charge\"] != \"0\") {\r\n          chargeMissing = true;\r\n        }\r\n      });\r\n      if (isRequiredFields) {\r\n        this.coreService.removeLoadingScreen();\r\n        this.coreService.showWarningToast(\"Please Fill Charge Description.\");\r\n      } else if (setAsMissing) {\r\n        this.coreService.removeLoadingScreen();\r\n        this.coreService.showWarningToast(\"Please Select Set As.\");\r\n      } else if (applicableOnMissing) {\r\n        this.coreService.removeLoadingScreen();\r\n        this.coreService.showWarningToast(\"Please Select Applicable On.\");\r\n      } else if (chargeMissing) {\r\n        this.coreService.removeLoadingScreen();\r\n        this.coreService.showWarningToast(\"Please Fill Charge Amount.\");\r\n      } else if (invalidChargeAmount) {\r\n        this.coreService.removeLoadingScreen();\r\n        this.coreService.showWarningToast(\"Please Enter Valid charge Amount.\");\r\n      } else {\r\n        if (this.checkDuplicateSetAs() && this.checkDuplicateApplicableOn()) {\r\n          return;\r\n        } else {\r\n          let service;\r\n          if (this.mode == \"edit\") {\r\n            let data = {\r\n              data: this.applyCriteriaFormattedData,\r\n              duplicate: this.appliedCriteriaIsDuplicate,\r\n              criteriaMap: this.appliedCriteriaCriteriaMap,\r\n              chargeCode: this.chargeID,\r\n            };\r\n            service = this.chargeSettingsService.updateChargeSetting(\r\n              this.userId,\r\n              data,\r\n              this.appCtrl.value.code,\r\n              this.moduleCtrl.value.code,\r\n              this.formName\r\n            );\r\n            console.log(\"::\", data);\r\n          } else {\r\n            let data = {\r\n              data: this.applyCriteriaFormattedData,\r\n              duplicate: this.appliedCriteriaIsDuplicate,\r\n              criteriaMap: this.appliedCriteriaCriteriaMap,\r\n            };\r\n            service = this.chargeSettingsService.addNewCharge(\r\n              data,\r\n              this.appCtrl.value.code,\r\n              this.moduleCtrl.value.code,\r\n              this.formName\r\n            );\r\n          }\r\n\r\n          if (service) {\r\n            service.subscribe(\r\n              (res) => {\r\n                if (\r\n                  res[\"status\"] &&\r\n                  typeof res[\"status\"] == \"string\" &&\r\n                  (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n                ) {\r\n                  if (res[\"error\"]) {\r\n                    this.coreService.showWarningToast(res[\"error\"]);\r\n                  } else {\r\n                    this.coreService.showWarningToast(\r\n                      \"Something went wrong, Please try again later\"\r\n                    );\r\n                  }\r\n                } else {\r\n                  if (res[\"msg\"]) {\r\n                    this.coreService.showSuccessToast(res.msg);\r\n                    if (action == \"save\") {\r\n                      this.router.navigate([`navbar/charge-settings`]);\r\n                    } else if (action == \"saveAndAddNew\") {\r\n                      this.chargeSettingsService.applicationName = null;\r\n                      this.chargeSettingsService.moduleName = null;\r\n                      this.router.navigate([\r\n                        `navbar/charge-settings/add-charge`,\r\n                      ]);\r\n                    }\r\n                  }\r\n                }\r\n              },\r\n              (err) => {\r\n                this.coreService.removeLoadingScreen();\r\n                console.log(\"error in saveAddNewCharge\", err);\r\n                this.coreService.showWarningToast(\r\n                  \"Something went wrong, Please try again later\"\r\n                );\r\n              }\r\n            );\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      this.coreService.showWarningToast(\"Similar Record already exists.\");\r\n    }\r\n  }\r\n\r\n  checkDuplicateApplicableOn(): boolean {\r\n    let isDuplicateApplicableOnFound = false;\r\n    let currCritMap = this.applyCriteriaFormattedData[0][\"criteriaMap\"];\r\n    let amtSlabPresent = false;\r\n    let dateSlabPresent = false;\r\n\r\n    let activeData = this.applyCriteriaFormattedData.filter(\r\n      (d) => d[\"isActive\"] == \"Y\"\r\n    );\r\n\r\n    if (currCritMap.indexOf(\"from:\") >= 0) {\r\n      amtSlabPresent = true;\r\n    }\r\n\r\n    if (currCritMap.indexOf(\"trnStartDate=\") >= 0) {\r\n      dateSlabPresent = true;\r\n    }\r\n\r\n    if (amtSlabPresent || dateSlabPresent) {\r\n      let docTypeObj = {};\r\n      if (amtSlabPresent && dateSlabPresent) {\r\n        activeData.forEach((dataD) => {\r\n          if (\r\n            docTypeObj[`${dataD[\"dateFrom\"]}_${dataD[\"lcyAmountFrom\"]}`] &&\r\n            docTypeObj[`${dataD[\"dateFrom\"]}_${dataD[\"lcyAmountFrom\"]}`].length\r\n          ) {\r\n            docTypeObj[`${dataD[\"dateFrom\"]}_${dataD[\"lcyAmountFrom\"]}`].push(\r\n              dataD[\"ApplicableOn\"]\r\n            );\r\n          } else {\r\n            docTypeObj[`${dataD[\"dateFrom\"]}_${dataD[\"lcyAmountFrom\"]}`] = [\r\n              dataD[\"ApplicableOn\"],\r\n            ];\r\n          }\r\n        });\r\n      } else {\r\n        if (amtSlabPresent) {\r\n          activeData.forEach((data) => {\r\n            if (\r\n              docTypeObj[data[\"lcyAmountFrom\"]] &&\r\n              docTypeObj[data[\"lcyAmountFrom\"]].length\r\n            ) {\r\n              docTypeObj[data[\"lcyAmountFrom\"]].push(data[\"ApplicableOn\"]);\r\n            } else {\r\n              docTypeObj[data[\"lcyAmountFrom\"]] = [data[\"ApplicableOn\"]];\r\n            }\r\n          });\r\n        } else if (dateSlabPresent) {\r\n          activeData.forEach((data) => {\r\n            if (\r\n              docTypeObj[data[\"dateFrom\"]] &&\r\n              docTypeObj[data[\"dateFrom\"]].length\r\n            ) {\r\n              docTypeObj[data[\"dateFrom\"]].push(data[\"ApplicableOn\"]);\r\n            } else {\r\n              docTypeObj[data[\"dateFrom\"]] = [data[\"ApplicableOn\"]];\r\n            }\r\n          });\r\n        }\r\n      }\r\n      console.log(\"::doctypeobj\", docTypeObj);\r\n      Object.values(docTypeObj).forEach((docTypeArr: any) => {\r\n        if (new Set(docTypeArr).size !== docTypeArr.length) {\r\n          this.coreService.removeLoadingScreen();\r\n          this.coreService.showWarningToast(\r\n            \"Duplicate set as option found for a particular Amount or Date !\"\r\n          );\r\n          isDuplicateApplicableOnFound = true;\r\n        }\r\n      });\r\n    } else {\r\n      let docTypeArr = activeData.map((data) => {\r\n        return data[\"ApplicableOn\"];\r\n      });\r\n      if (new Set(docTypeArr).size !== docTypeArr.length) {\r\n        this.coreService.removeLoadingScreen();\r\n        if (this.mode == \"clone\") {\r\n          this.coreService.showWarningToast(\"Similar Record Already Exists\");\r\n        } else {\r\n          this.coreService.showWarningToast(\"Duplicate Set As Option Found\");\r\n        }\r\n        isDuplicateApplicableOnFound = true;\r\n      }\r\n    }\r\n    return isDuplicateApplicableOnFound;\r\n  }\r\n  checkDuplicateSetAs(): boolean {\r\n    let isDuplicateSetAsFound = false;\r\n    let currCritMap = this.applyCriteriaFormattedData[0][\"criteriaMap\"];\r\n    let amtSlabPresent = false;\r\n    let dateSlabPresent = false;\r\n\r\n    let activeData = this.applyCriteriaFormattedData.filter(\r\n      (d) => d[\"isActive\"] == \"Y\"\r\n    );\r\n\r\n    if (currCritMap.indexOf(\"from:\") >= 0) {\r\n      amtSlabPresent = true;\r\n    }\r\n\r\n    if (currCritMap.indexOf(\"trnStartDate=\") >= 0) {\r\n      dateSlabPresent = true;\r\n    }\r\n\r\n    if (amtSlabPresent || dateSlabPresent) {\r\n      let docTypeObj = {};\r\n      if (amtSlabPresent && dateSlabPresent) {\r\n        activeData.forEach((dataD) => {\r\n          if (\r\n            docTypeObj[`${dataD[\"dateFrom\"]}_${dataD[\"lcyAmountFrom\"]}`] &&\r\n            docTypeObj[`${dataD[\"dateFrom\"]}_${dataD[\"lcyAmountFrom\"]}`].length\r\n          ) {\r\n            docTypeObj[`${dataD[\"dateFrom\"]}_${dataD[\"lcyAmountFrom\"]}`].push(\r\n              dataD[\"setAs\"]\r\n            );\r\n          } else {\r\n            docTypeObj[`${dataD[\"dateFrom\"]}_${dataD[\"lcyAmountFrom\"]}`] = [\r\n              dataD[\"setAs\"],\r\n            ];\r\n          }\r\n        });\r\n      } else {\r\n        if (amtSlabPresent) {\r\n          activeData.forEach((data) => {\r\n            if (\r\n              docTypeObj[data[\"lcyAmountFrom\"]] &&\r\n              docTypeObj[data[\"lcyAmountFrom\"]].length\r\n            ) {\r\n              docTypeObj[data[\"lcyAmountFrom\"]].push(data[\"setAs\"]);\r\n            } else {\r\n              docTypeObj[data[\"lcyAmountFrom\"]] = [data[\"setAs\"]];\r\n            }\r\n          });\r\n        } else if (dateSlabPresent) {\r\n          activeData.forEach((data) => {\r\n            if (\r\n              docTypeObj[data[\"dateFrom\"]] &&\r\n              docTypeObj[data[\"dateFrom\"]].length\r\n            ) {\r\n              docTypeObj[data[\"dateFrom\"]].push(data[\"setAs\"]);\r\n            } else {\r\n              docTypeObj[data[\"dateFrom\"]] = [data[\"setAs\"]];\r\n            }\r\n          });\r\n        }\r\n      }\r\n      console.log(\"::doctypeobj\", docTypeObj);\r\n      Object.values(docTypeObj).forEach((docTypeArr: any) => {\r\n        if (new Set(docTypeArr).size !== docTypeArr.length) {\r\n          this.coreService.removeLoadingScreen();\r\n          this.coreService.showWarningToast(\r\n            \"Duplicate set as option found for a particular Amount or Date !\"\r\n          );\r\n          isDuplicateSetAsFound = true;\r\n        }\r\n      });\r\n    } else {\r\n      let docTypeArr = activeData.map((data) => {\r\n        return data[\"setAs\"];\r\n      });\r\n      if (new Set(docTypeArr).size !== docTypeArr.length) {\r\n        this.coreService.removeLoadingScreen();\r\n        if (this.mode == \"clone\") {\r\n          this.coreService.showWarningToast(\"Similar Record Already Exists\");\r\n        } else {\r\n          this.coreService.showWarningToast(\"Duplicate Set As Option Found\");\r\n        }\r\n        isDuplicateSetAsFound = true;\r\n      }\r\n    }\r\n    return isDuplicateSetAsFound;\r\n  }\r\n\r\n  reset() {\r\n    if (this.mode == \"edit\") {\r\n      this.coreService.setSidebarBtnFixedStyle(false);\r\n      this.confirmationService.confirm({\r\n        message: \"Are you sure, you want to clear applied changes ?\",\r\n        key: \"resetChargeDataConfirmation\",\r\n        accept: () => {\r\n          this.coreService.displayLoadingScreen();\r\n          // this.getCriteriaMasterData();\r\n          // this.getAllTemplates();\r\n          this.applyCriteriaFormattedData = [];\r\n          this.appliedCriteriaCriteriaMap = null;\r\n          this.appliedCriteriaIsDuplicate = null;\r\n          this.chargeDescription = \"\";\r\n          this.setCriteriaSharedComponent.resetSetCriteria();\r\n          this.setHeaderSidebarBtn();\r\n          // this.coreService.setHeaderStickyStyle(true);\r\n          // this.coreService.setSidebarBtnFixedStyle(true);\r\n        },\r\n        reject: () => {\r\n          this.confirmationService.close;\r\n          this.setHeaderSidebarBtn();\r\n        },\r\n      });\r\n    } else if (this.mode == \"clone\") {\r\n      this.coreService.setSidebarBtnFixedStyle(false);\r\n      this.confirmationService.confirm({\r\n        message: \"Are you sure, you want to clear applied changes ?\",\r\n        key: \"resetChargeDataConfirmation\",\r\n        accept: () => {\r\n          this.coreService.displayLoadingScreen();\r\n          this.getCriteriaMasterData();\r\n          this.getAllTemplates();\r\n          this.coreService.setHeaderStickyStyle(true);\r\n          this.coreService.setSidebarBtnFixedStyle(true);\r\n        },\r\n        reject: () => {\r\n          this.confirmationService.close;\r\n          this.setHeaderSidebarBtn();\r\n        },\r\n      });\r\n    } else {\r\n      this.coreService.setSidebarBtnFixedStyle(false);\r\n      this.coreService.setHeaderStickyStyle(false);\r\n      this.confirmationService.confirm({\r\n        message: \"Are you sure, you want to clear all the fields ?\",\r\n        key: \"resetChargeDataConfirmation\",\r\n        accept: () => {\r\n          this.applyCriteriaFormattedData = [];\r\n          this.appliedCriteriaCriteriaMap = null;\r\n          this.appliedCriteriaIsDuplicate = null;\r\n          this.chargeDescription = \"\";\r\n\r\n          this.setCriteriaSharedComponent.resetSetCriteria();\r\n          this.setHeaderSidebarBtn();\r\n          // this.appCtrl.reset();\r\n          // this.moduleCtrl.reset();\r\n          // this.moduleCtrl.disable();\r\n          // this.showContent = false;\r\n          // this.appModuleDataPresent = false;\r\n        },\r\n        reject: () => {\r\n          this.confirmationService.close;\r\n          this.setHeaderSidebarBtn();\r\n        },\r\n      });\r\n    }\r\n  }\r\n\r\n  confirmStatus(e: any, data: any) {\r\n    e.preventDefault();\r\n    let type = \"\";\r\n    let reqStatus = \"\";\r\n    if (e.target.checked) {\r\n      reqStatus = \"Y\";\r\n      type = \"Activate\";\r\n    } else {\r\n      reqStatus = \"N\";\r\n      type = \"Deactivate\";\r\n    }\r\n    this.coreService.setSidebarBtnFixedStyle(false);\r\n    this.coreService.setHeaderStickyStyle(false);\r\n    let completeMsg = \"\";\r\n    completeMsg =\r\n      `<img src=\"../../../assets/warning.svg\"><br/><br/>` +\r\n      `Do you wish to ` +\r\n      type +\r\n      ` the charge Record?`;\r\n    this.confirmationService.confirm({\r\n      message: completeMsg,\r\n      key: \"activeDeactiveStatus\",\r\n      accept: () => {\r\n        data[\"isActive\"] = reqStatus;\r\n        this.setHeaderSidebarBtn();\r\n        console.log(\"accepting\", reqStatus);\r\n      },\r\n      reject: () => {\r\n        this.confirmationService.close;\r\n        this.setHeaderSidebarBtn();\r\n        console.log(\"reject\");\r\n      },\r\n    });\r\n  }\r\n\r\n  setHeaderSidebarBtn() {\r\n    this.coreService.displayLoadingScreen();\r\n    setTimeout(() => {\r\n      this.coreService.setHeaderStickyStyle(true);\r\n      this.coreService.setSidebarBtnFixedStyle(true);\r\n    }, 500);\r\n    setTimeout(() => {\r\n      this.coreService.removeLoadingScreen();\r\n    }, 1000);\r\n  }\r\n\r\n  isMandatoryCol(heading: any) {\r\n    return heading.includes(\"*\") ? true : false;\r\n  }\r\n\r\n  getColumns(colData: any) {\r\n    return this.criteriaDataService.getAppliedCriteriaTableColumns(colData);\r\n  }\r\n  selectedColumn(selectCol: any, value: any, index: any) {\r\n    console.log(selectCol, value, index);\r\n    if (selectCol == \"setAs\") {\r\n      if (selectCol == \"setAs\" && value[\"code\"] == \"Percentage\") {\r\n        this.applyCriteriaFormattedData[index][\"charge\"] = 0;\r\n        this.applyCriteriaFormattedData[index][\"invalidChargeAmount\"] = true;\r\n      } else {\r\n        if (Number(this.applyCriteriaFormattedData[index].lcyAmountFrom)) {\r\n          this.applyCriteriaFormattedData[index][\"charge\"] = Number(\r\n            this.applyCriteriaFormattedData[index].lcyAmountFrom\r\n          );\r\n        } else {\r\n          if (this.applyCriteriaFormattedData[index].lcyAmount) {\r\n            let lcyAmountNum =\r\n              this.applyCriteriaFormattedData[index].lcyAmount.split(\" \")[3];\r\n            let lcyAmountOpr =\r\n              this.applyCriteriaFormattedData[index].lcyAmount.split(\" \")[2];\r\n            if (lcyAmountOpr == \">=\") {\r\n              console.log(lcyAmountNum);\r\n              this.applyCriteriaFormattedData[index][\"charge\"] =\r\n                Number(lcyAmountNum);\r\n            } else if (lcyAmountOpr == \">\") {\r\n              this.applyCriteriaFormattedData[index][\"charge\"] =\r\n                Number(lcyAmountNum) + 1;\r\n            } else if (lcyAmountOpr == \"=\") {\r\n              this.applyCriteriaFormattedData[index][\"charge\"] =\r\n                Number(lcyAmountNum);\r\n            } else {\r\n              this.applyCriteriaFormattedData[index][\"charge\"] = 0;\r\n            }\r\n          } else {\r\n            this.applyCriteriaFormattedData[index][\"charge\"] = 0;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    this.applyCriteriaFormattedData[index][selectCol] = value.codeName;\r\n  }\r\n\r\n  changeValueInput(\r\n    selectCol: any,\r\n    inputCol: any,\r\n    event: any,\r\n    index: any,\r\n    valueInputElm: any\r\n  ) {\r\n    console.log(\r\n      selectCol,\r\n      inputCol,\r\n      event,\r\n      this.applyCriteriaFormattedData[index]\r\n    );\r\n    this.applyCriteriaFormattedData[index][\"invalidChargeAmount\"] = false;\r\n    let max = 1000000;\r\n    let min = 0;\r\n\r\n    if (this.applyCriteriaFormattedData[index][selectCol] == \"Percentage\") {\r\n      max = 100;\r\n    } else if (this.applyCriteriaFormattedData[index][selectCol] == \"Amount\") {\r\n      if (this.applyCriteriaFormattedData[index].lcyAmount?.length) {\r\n        let lcyAmountNum =\r\n          this.applyCriteriaFormattedData[index].lcyAmount.split(\" \")[3];\r\n        let lcyAmountOpr =\r\n          this.applyCriteriaFormattedData[index].lcyAmount.split(\" \")[2];\r\n        if (\r\n          Number(this.applyCriteriaFormattedData[index].lcyAmountFrom) > 0 &&\r\n          Number(this.applyCriteriaFormattedData[index].lcyAmountTo) > 0\r\n        ) {\r\n          min = Number(this.applyCriteriaFormattedData[index].lcyAmountFrom);\r\n          max = Number(this.applyCriteriaFormattedData[index].lcyAmountTo);\r\n        } else if (lcyAmountOpr == \"=\") {\r\n          min = Number(lcyAmountNum);\r\n          max = Number(lcyAmountNum);\r\n        } else if (lcyAmountOpr == \">=\") {\r\n          min = Number(lcyAmountNum);\r\n          max = 1000000;\r\n        } else if (lcyAmountOpr == \">\") {\r\n          min = Number(lcyAmountNum) + 1;\r\n          max = 1000000;\r\n        } else if (lcyAmountOpr == \"<=\") {\r\n          min = 0;\r\n          max = Number(lcyAmountNum);\r\n        } else if (lcyAmountOpr == \"<\") {\r\n          min = 0;\r\n          max = Number(lcyAmountNum) - 1;\r\n        } else {\r\n          max = 1000000;\r\n        }\r\n      } else if (\r\n        this.applyCriteriaFormattedData[index].lcyAmountFrom?.length ||\r\n        this.applyCriteriaFormattedData[index].lcyAmountTo?.length\r\n      ) {\r\n        min = Number(this.applyCriteriaFormattedData[index].lcyAmountFrom);\r\n        max = Number(this.applyCriteriaFormattedData[index].lcyAmountTo);\r\n      }\r\n    }\r\n\r\n    let isDisplayError = false;\r\n    if (event.value == 0) {\r\n      isDisplayError = true;\r\n      this.applyCriteriaFormattedData[index][\"invalidChargeAmount\"] = true;\r\n      return false;\r\n    } else if (event.value < min || event.value > max) {\r\n      isDisplayError = true;\r\n      this.applyCriteriaFormattedData[index][\"invalidChargeAmount\"] = true;\r\n      this.coreService.showWarningToast(\r\n        \"Please enter charge between \" + min + \" to \" + max\r\n      );\r\n      if (event.value <= max && event.value >= min) {\r\n        this.applyCriteriaFormattedData[index][inputCol] = event.value;\r\n        this.applyCriteriaFormattedData[index][\"invalidChargeAmount\"] = false;\r\n      } else if (event.value > max) {\r\n        let lastValueEntered = valueInputElm.lastValue;\r\n        valueInputElm.input.nativeElement.value = lastValueEntered;\r\n        this.applyCriteriaFormattedData[index][\"invalidChargeAmount\"] = false;\r\n      } else if (event.value < min) {\r\n      }\r\n      return false;\r\n    }\r\n  }\r\n\r\n  checkOperation(operation: any, index: any, selectRow: any, fieldName: any) {\r\n    if (operation == \"delete\") {\r\n      this.delete(index);\r\n    } else if (operation == \"clone\") {\r\n      this.clone(index, selectRow, fieldName);\r\n    }\r\n  }\r\n\r\n  clone(index: any, selectRow: any, fieldName: any) {\r\n    let clonedRow = {\r\n      ...selectRow,\r\n    };\r\n    clonedRow[fieldName] = \"clone,delete\";\r\n    clonedRow[\"linked\"] = \"N\";\r\n    clonedRow[\"isActive\"] = \"Y\";\r\n    this.applyCriteriaFormattedData.splice(index + 1, 0, clonedRow);\r\n  }\r\n  delete(index: any) {\r\n    this.applyCriteriaFormattedData.splice(index, 1);\r\n  }\r\n}\r\n","<div class=\"visible-main-section\">\r\n  <div class=\"details-page-card\">\r\n    <div class=\"d-flex mx-3\" style=\"justify-content: space-between\">\r\n      <div class=\"col-12\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-7 col-lg-7 col-sm-12 col-xs-12\">\r\n            <p class=\"description-text\">\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                width=\"41\"\r\n                height=\"35\"\r\n                viewBox=\"0 0 41 41\"\r\n              >\r\n                <g\r\n                  id=\"Group_2248\"\r\n                  data-name=\"Group 2248\"\r\n                  transform=\"translate(-341 -138)\"\r\n                >\r\n                  <circle\r\n                    id=\"Ellipse_130\"\r\n                    data-name=\"Ellipse 130\"\r\n                    cx=\"20.5\"\r\n                    cy=\"20.5\"\r\n                    r=\"20.5\"\r\n                    transform=\"translate(341 138)\"\r\n                    [attr.fill]=\"primaryColor\"\r\n                  />\r\n                  <path\r\n                    id=\"_52_Note_Basic_Description\"\r\n                    data-name=\"52  Note, Basic, Description\"\r\n                    d=\"M17.054,9.537H9.52a.753.753,0,0,1-.753-.753V5.016a.753.753,0,0,1,.753-.753h.851a3.014,3.014,0,0,1,5.831,0h.851a.753.753,0,0,1,.753.753V8.783A.753.753,0,0,1,17.054,9.537ZM10.274,8.03H16.3V5.77h-.753a.753.753,0,0,1-.753-.753,1.507,1.507,0,0,0-3.014,0,.753.753,0,0,1-.753.753h-.753Zm11.3,12.808V7.277a2.26,2.26,0,0,0-2.26-2.26h-.753V6.523h.753a.753.753,0,0,1,.753.753V20.837a.753.753,0,0,1-.753.753H7.26a.753.753,0,0,1-.753-.753V7.277a.753.753,0,0,1,.753-.753h.753V5.016H7.26A2.26,2.26,0,0,0,5,7.277V20.837A2.26,2.26,0,0,0,7.26,23.1H19.314A2.26,2.26,0,0,0,21.574,20.837ZM17.808,11.8H8.767V13.3h9.041Zm0,3.014H8.767v1.507h9.041Zm0,3.014H8.767v1.507h9.041Z\"\r\n                    transform=\"translate(348.213 145.945)\"\r\n                    fill=\"#fff\"\r\n                  />\r\n                </g>\r\n              </svg>\r\n              Enables users to configure charge related settings.\r\n            </p>\r\n          </div>\r\n          <div class=\"col-md-5 col-lg-5 col-sm-12 col-xs-12\">\r\n            <div class=\"row\">\r\n              <div class=\"buttons-section\">\r\n                <button\r\n                  pButton\r\n                  pRipple\r\n                  [disabled]=\"\r\n                    !applyCriteriaFormattedData?.length || deactivated\r\n                  \"\r\n                  type=\"button\"\r\n                  label=\"Save\"\r\n                  class=\"p-button-raised\"\r\n                  (click)=\"saveAddNewCharge('save')\"\r\n                ></button>\r\n                <button\r\n                  pButton\r\n                  pRipple\r\n                  type=\"button\"\r\n                  [disabled]=\"!applyCriteriaFormattedData.length || deactivated\"\r\n                  label=\"Save & Add New\"\r\n                  class=\"p-button-raised\"\r\n                  (click)=\"saveAddNewCharge('saveAndAddNew')\"\r\n                ></button>\r\n                <button\r\n                  pButton\r\n                  pRipple\r\n                  type=\"button\"\r\n                  label=\"Reset\"\r\n                  class=\"p-button-warning\"\r\n                  (click)=\"reset()\"\r\n                  [disabled]=\"deactivated\"\r\n                ></button>\r\n                <button\r\n                  *ngIf=\"mode == 'edit'\"\r\n                  pButton\r\n                  pRipple\r\n                  type=\"button\"\r\n                  label=\"{{ deactivated ? 'Activate' : 'Deactivate' }}\"\r\n                  class=\"p-button-raised\"\r\n                  (click)=\"onActive()\"\r\n                ></button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div [formGroup]=\"selectAppModule\" class=\"select-module-application m-2\">\r\n      <div class=\"col-12\">\r\n        <div class=\"row\">\r\n          <div class=\"d-flex field col-md-4 col-lg-4 col-sm-12 col-xs-12 md-4\">\r\n            <label\r\n              class=\"detail-page-section-heading col-sm-3 col-xs-12\"\r\n              for=\"application\"\r\n              >Application</label\r\n            >\r\n            <p-dropdown\r\n              name=\"application\"\r\n              inputId=\"application\"\r\n              [options]=\"searchApplicationOptions\"\r\n              placeholder=\"Select\"\r\n              optionLabel=\"name\"\r\n              formControlName=\"applications\"\r\n              (onChange)=\"onAppValueChange()\"\r\n            >\r\n              <ng-template let-options pTemplate=\"item\">\r\n                <div class=\"truncate-text\">\r\n                  <div>{{ options.name }}</div>\r\n                </div>\r\n              </ng-template></p-dropdown\r\n            >\r\n          </div>\r\n          <div class=\"d-flex field col-md-4 col-lg-4 col-sm-12 col-xs-12 md-4\">\r\n            <label\r\n              class=\"detail-page-section-heading col-sm-3 col-xs-12 small\"\r\n              for=\"module\"\r\n              >Module</label\r\n            >\r\n            <p-dropdown\r\n              name=\"module\"\r\n              inputId=\"module\"\r\n              [options]=\"searchModuleOptions\"\r\n              placeholder=\"Select\"\r\n              optionLabel=\"name\"\r\n              formControlName=\"modules\"\r\n              (onChange)=\"searchAppModule()\"\r\n            >\r\n              <ng-template let-options pTemplate=\"item\">\r\n                <div class=\"truncate-text\">\r\n                  <div>{{ options.name }}</div>\r\n                </div>\r\n              </ng-template></p-dropdown\r\n            >\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div\r\n      *ngIf=\"appModuleDataPresent && showContent\"\r\n      class=\"d-flex m-3 tax-code-desc-section\"\r\n    >\r\n      <div class=\"col-12\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-4 col-lg-4 col-sm-12 col-xs-12\">\r\n            <div\r\n              class=\"taxCode\"\r\n              [pTooltip]=\"\r\n                this.mode == 'add'\r\n                  ? 'Charge Code is automatically generated, It may get changed in saving process.'\r\n                  : ''\r\n              \"\r\n            >\r\n              <p>Charge Code</p>\r\n              <input type=\"text\" pInputText [(ngModel)]=\"chargeCode\" disabled />\r\n            </div>\r\n          </div>\r\n          <div class=\"col-md-8 col-lg-8 col-sm-12 col-xs-12\">\r\n            <div class=\"taxDesc\">\r\n              <p style=\"position: relative\">\r\n                Charge Description <span class=\"description red-star\">*</span>\r\n              </p>\r\n              <input\r\n                type=\"text\"\r\n                pInputText\r\n                [(ngModel)]=\"chargeDescription\"\r\n                maxlength=\"500\"\r\n                placeholder=\"Max 500 characters\"\r\n                [disabled]=\"deactivated\"\r\n                (keypress)=\"onKeyPress($event)\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <app-set-criteria\r\n      *ngIf=\"appModuleDataPresent && showContent\"\r\n      #setCriteriaSharedComponent\r\n      [criteriaMasterData]=\"criteriaMasterData\"\r\n      [fieldDisplayData]=\"fieldDisplayData\"\r\n      [cmCriteriaDataDetails]=\"cmCriteriaDataDetails\"\r\n      [criteriaDataDetailsJson]=\"criteriaDataDetailsJson\"\r\n      [cmCriteriaSlabType]=\"cmCriteriaSlabType\"\r\n      [independantCriteriaArr]=\"independantCriteriaArr\"\r\n      [cmCriteriaMandatory]=\"cmCriteriaMandatory\"\r\n      [cmCriteriaDependency]=\"cmCriteriaDependency\"\r\n      [criteriaMapDdlOptions]=\"criteriaMapDdlOptions\"\r\n      [correspondentDdlOptions]=\"correspondentDdlOptions\"\r\n      [criteriaEqualsDdlOptions]=\"criteriaEqualsDdlOptions\"\r\n      [criteriaTemplatesDdlOptions]=\"criteriaTemplatesDdlOptions\"\r\n      [savingCriteriaTemplateError]=\"savingCriteriaTemplateError\"\r\n      [criteriaText]=\"criteriaText\"\r\n      [criteriaCodeText]=\"criteriaCodeText\"\r\n      [inactiveData]=\"inactiveData\"\r\n      [deactivated]=\"deactivated\"\r\n      (postDataCriteria)=\"applyCriteria($event)\"\r\n      (saveCriteriaAsTemplate)=\"saveCriteriaAsTemplate($event)\"\r\n      (getCorrespondentValues)=\"\r\n        getCorrespondentValues(\r\n          $event.fieldName,\r\n          $event.displayName,\r\n          $event.criteriaCodeText\r\n        )\r\n      \"\r\n      [setCriteriaName]=\"setCriteriaName\"\r\n    ></app-set-criteria>\r\n  </div>\r\n  <div class=\"details-page-card mt-2\" *ngIf=\"applyCriteriaFormattedData.length\">\r\n    <div class=\"details-page-card-content mt-1\">\r\n      <div class=\"criteria-bar\">\r\n        <p class=\"setCriteria detail-page-section-heading\">\r\n          Applicable Charges\r\n          <img\r\n            height=\"15px\"\r\n            src=\"../assets/Icon-info.svg\"\r\n            alt=\"\"\r\n            pTooltip=\"On selected criteria charges below charges will be applied.\"\r\n          />\r\n        </p>\r\n      </div>\r\n      <div class=\"mt-1 addnewroute-table\">\r\n        <div class=\"ptable\">\r\n          <p-card class=\"p-col-12\" *ngIf=\"!applyCriteriaResponse\">\r\n            {{ \"noDataMsg\" }}\r\n          </p-card>\r\n          <div class=\"appliedCriteriaDataTable\">\r\n            <p-table\r\n              #dt\r\n              [value]=\"applyCriteriaFormattedData\"\r\n              [rowHover]=\"true\"\r\n              [scrollable]=\"true\"\r\n              scrollHeight=\"315px\"\r\n            >\r\n              <ng-template pTemplate=\"header\">\r\n                <tr>\r\n                  <th\r\n                    *ngFor=\"let col of applyCriteriaDataTableColumns\"\r\n                    style=\"min-width: 120px\"\r\n                    [ngStyle]=\"{\r\n                      width: col.field == 'isActive' ? '120px' : ''\r\n                    }\"\r\n                    alignFrozen=\"right\"\r\n                    pFrozenColumn\r\n                    [frozen]=\"col['frozen']\"\r\n                  >\r\n                    {{ col.header }}\r\n                    <span *ngIf=\"isMandatoryCol(col.header)\" class=\"red-star\"\r\n                      >*</span\r\n                    >\r\n                  </th>\r\n                </tr>\r\n              </ng-template>\r\n              <ng-template pTemplate=\"body\" let-rowData let-rowIndex=\"rowIndex\">\r\n                <tr>\r\n                  <td\r\n                    *ngFor=\"\r\n                      let col of applyCriteriaDataTableColumns;\r\n                      index as i\r\n                    \"\r\n                    alignFrozen=\"right\"\r\n                    pFrozenColumn\r\n                    [frozen]=\"col['frozen']\"\r\n                  >\r\n                    <div\r\n                      *ngIf=\"col['fieldType'] == 'dropdown'\"\r\n                      class=\"appliedCriteriaSelect\"\r\n                    >\r\n                    <p-dropdown\r\n                    [options]=\"rowData[col.field + 'Option']\"\r\n                    optionLabel=\"codeName\"\r\n                    appendTo=\"body\"\r\n                    [placeholder]=\"\r\n                          rowData[col['field']] &&\r\n                          rowData[col['field']] != 'null'\r\n                            ? rowData[col['field']]\r\n                            : 'Select'\r\n                        \"\r\n                        (onChange)=\"\r\n                          selectedColumn(col['field'], $event.value, rowIndex)\r\n                        \"\r\n                    [disabled]=\"\r\n                      rowData['linked'] == 'Y' ||\r\n                      rowData['isActive'] == 'N' ||\r\n                      deactivated\r\n                    \"\r\n                    [pTooltip]=\"rowData[col['field']]\"\r\n                    ><ng-template let-options pTemplate=\"item\">\r\n                      <div class=\"truncate-text\">\r\n                        <div>{{ options.codeName }}</div>\r\n                      </div>\r\n                    </ng-template>\r\n                                    </p-dropdown>\r\n                    </div>\r\n                    <div\r\n                      *ngIf=\"col['fieldType'] == 'input'\"\r\n                      [pTooltip]=\"col['info'] ? col['info'] : ''\"\r\n                      class=\"appliedCriteriaInput\"\r\n                    >\r\n                      <p-inputNumber\r\n                        #valInp\r\n                        [min]=\"0\"\r\n                        [(ngModel)]=\"rowData[col['field']]\"\r\n                        [useGrouping]=\"false\"\r\n                        mode=\"decimal\"\r\n                        [maxFractionDigits]=\"1\"\r\n                        (onInput)=\"\r\n                          changeValueInput(\r\n                            applyCriteriaDataTableColumns[i - 1]['field'],\r\n                            col['field'],\r\n                            $event,\r\n                            rowIndex,\r\n                            valInp\r\n                          )\r\n                        \"\r\n                        [disabled]=\"\r\n                          rowData['linked'] == 'Y' ||\r\n                          rowData['isActive'] == 'N' ||\r\n                          deactivated\r\n                        \"\r\n                      ></p-inputNumber>\r\n                    </div>\r\n                    <div\r\n                      *ngIf=\"col['fieldType'] == 'text'\"\r\n                      [pTooltip]=\"col['info'] ? col['info'] : ''\"\r\n                    >\r\n                      <input\r\n                        [(ngModel)]=\"rowData[col.field]\"\r\n                        type=\"text\"\r\n                        pInputText\r\n                        [disabled]=\"true\"\r\n                      />\r\n                    </div>\r\n                    <div\r\n                      *ngIf=\"col['fieldType'] == 'button'\"\r\n                      class=\"appliedCriteriaButton\"\r\n                    >\r\n                      <ng-container\r\n                        *ngFor=\"let btn of rowData[col['field']]?.split(',')\"\r\n                      >\r\n                        <button\r\n                          pButton\r\n                          type=\"button\"\r\n                          [icon]=\"'pi pi-' + (btn == 'delete' ? 'trash' : btn)\"\r\n                          (click)=\"\r\n                            checkOperation(btn, rowIndex, rowData, col['field'])\r\n                          \"\r\n                          class=\"operation-btns mr-2\"\r\n                          [disabled]=\"deactivated\"\r\n                        ></button>\r\n                      </ng-container>\r\n                    </div>\r\n                    <div\r\n                      *ngIf=\"col.field == 'isActive'\"\r\n                      style=\"border: none; text-align: left\"\r\n                    >\r\n                      <label class=\"switch\" style=\"border: none\">\r\n                        <input\r\n                          #statusInp\r\n                          [value]=\"rowData[col['field']]\"\r\n                          type=\"checkbox\"\r\n                          (click)=\"confirmStatus($event, rowData)\"\r\n                          [checked]=\"\r\n                            rowData[col['field']] == 'Y' ? true : false\r\n                          \"\r\n                          [disabled]=\"rowData['linked'] == 'Y' || deactivated\"\r\n                        />\r\n                        <span\r\n                          class=\"slider round\"\r\n                          [ngClass]=\"{ disabled: deactivated }\"\r\n                        ></span>\r\n                      </label>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              </ng-template>\r\n\r\n              <ng-template pTemplate=\"emptymessage\">\r\n                <tr>\r\n                  <td [attr.colspan]=\"applyCriteriaDataTableColumns.length\">\r\n                    No Data found.\r\n                  </td>\r\n                </tr>\r\n              </ng-template>\r\n            </p-table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div\r\n  class=\"NorecordFound\"\r\n  *ngIf=\"\r\n    !showContent && appModuleDataPresent && !applyCriteriaFormattedData.length\r\n  \"\r\n>\r\n  <div class=\"row\">\r\n    <div class=\"col-12\"><img src=\"assets/noRecordFound.svg\" /></div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col-12\">\r\n      <p>No Record Found.</p>\r\n    </div>\r\n  </div>\r\n</div>\r\n<p-confirmDialog\r\n  key=\"chargeSettingLinkedWarning\"\r\n  class=\"linked-confirm confirm-popup\"\r\n  #cd\r\n  icon=\"pi pi-exclamation-triangle\"\r\n  [closable]=\"false\"\r\n>\r\n  <p-footer>\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-check\"\r\n      label=\"Ok\"\r\n      (click)=\"cd.accept()\"\r\n    ></button>\r\n  </p-footer>\r\n</p-confirmDialog>\r\n\r\n<p-confirmDialog\r\n  key=\"resetChargeDataConfirmation\"\r\n  class=\"confirm-popup\"\r\n  #cd2\r\n  icon=\"pi pi-exclamation-triangle\"\r\n  [closable]=\"false\"\r\n>\r\n  <p-footer>\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-check\"\r\n      label=\"Yes\"\r\n      (click)=\"cd2.accept()\"\r\n    ></button>\r\n\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-times\"\r\n      label=\"Cancel\"\r\n      (click)=\"cd2.reject()\"\r\n    ></button>\r\n  </p-footer>\r\n</p-confirmDialog>\r\n\r\n<p-confirmDialog\r\n  key=\"activeDeactiveStatus\"\r\n  class=\"status-confirm confirm-popup\"\r\n  #cd3\r\n  [closable]=\"false\"\r\n>\r\n  <p-footer>\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-check\"\r\n      label=\"Yes\"\r\n      (click)=\"cd3.accept()\"\r\n    ></button>\r\n\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-times\"\r\n      label=\"No\"\r\n      (click)=\"cd3.reject()\"\r\n    ></button>\r\n  </p-footer>\r\n</p-confirmDialog>\r\n<p-confirmDialog\r\n  key=\"activeDeactiveStatusCharge\"\r\n  class=\"status-confirm confirm-popup\"\r\n  #cd4\r\n  [closable]=\"false\"\r\n>\r\n  <p-footer>\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-check\"\r\n      label=\"Yes\"\r\n      (click)=\"cd4.accept()\"\r\n    ></button>\r\n\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-times\"\r\n      label=\"No\"\r\n      (click)=\"cd4.reject()\"\r\n    ></button>\r\n  </p-footer>\r\n</p-confirmDialog>\r\n","import { Component, OnInit, ViewChild } from \"@angular/core\";\r\nimport {\r\n  UntypedFormBuilder,\r\n  UntypedFormControl,\r\n  Validators,\r\n} from \"@angular/forms\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { ConfirmationService, MessageService } from \"primeng/api\";\r\nimport { ConfirmDialog } from \"primeng/confirmdialog\";\r\nimport { CoreService } from \"src/app/core.service\";\r\nimport { SetCriteriaService } from \"src/app/shared/components/set-criteria/set-criteria.service\";\r\nimport { ChargeServiceService } from \"../charge-service.service\";\r\nimport { forkJoin } from \"rxjs\";\r\nimport { map, take } from \"rxjs/operators\";\r\nimport { MultiSelect } from \"primeng/multiselect\";\r\n\r\nimport _lodashClone from \"lodash-es/cloneDeep\";\r\n\r\n@Component({\r\n  selector: \"app-charge-listing\",\r\n  templateUrl: \"./charge-listing.component.html\",\r\n  styleUrls: [\"./charge-listing.component.scss\"],\r\n})\r\nexport class ChargeListingComponent implements OnInit {\r\n  formName = \"Charge Settings\";\r\n  applicationName = \"Web Application\";\r\n  chargeListingData: any[];\r\n\r\n  objectKeys = Object.keys;\r\n  @ViewChild(\"cd\") cd: ConfirmDialog;\r\n\r\n  showNoDataFound: boolean = false;\r\n\r\n  cols: any[] = [\r\n    { field: \"chargeCode\", header: \"Charge Code\", width: \"12%\" },\r\n    { field: \"chargeCodeDesc\", header: \"Charge Description\", width: \"25%\" },\r\n    { field: \"criteriaMap\", header: \"Criteria\", width: \"48%\" },\r\n    { field: \"status\", header: \"Status\", width: \"7%\" },\r\n    { field: \"operation\", header: \"Operations\", width: \"8%\" },\r\n  ];\r\n\r\n  showchargeCodeOptions: boolean = false;\r\n  showchargeCodeDescOptions: boolean = false;\r\n  showcriteriaMapOptions: boolean = false;\r\n  showstatusOptions: boolean = false;\r\n\r\n  chargeCode = [];\r\n  chargeCodeDesc = [];\r\n  criteriaMap = [];\r\n  status = [];\r\n\r\n  userData: any = {};\r\n  selectedFilterchargeCode: any[] = [];\r\n  selectedFilterchargeCodeDesc: any[] = [];\r\n  selectedFiltercriteriaMap: any[] = [];\r\n  selectedFilterstatus: any[] = [];\r\n  chargeListingApiData: any = {};\r\n  loading: boolean = true;\r\n\r\n  selectAppModule: any;\r\n  searchApplicationOptions: any[] = [];\r\n  searchModuleOptions: any[] = [];\r\n\r\n  noDataMsg: string = \"Charge Setting Data Not Available\";\r\n\r\n  linkedChargeCode: any = [];\r\n\r\n  fieldDisplayData = {};\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private coreService: CoreService,\r\n    private route: ActivatedRoute,\r\n    private chargeService: ChargeServiceService,\r\n    private setCriteriaService: SetCriteriaService,\r\n    private confirmationService: ConfirmationService,\r\n    private messageService: MessageService,\r\n    private fb: UntypedFormBuilder\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.coreService.displayLoadingScreen();\r\n\r\n    const translationKey = \"Home.Settings\";\r\n\r\n    // Update translation\r\n    this.coreService\r\n      .translate(translationKey)\r\n      .then((translatedTitle: string) => {\r\n        this.coreService.setPageTitle(translatedTitle);\r\n      });\r\n\r\n    this.route.data.subscribe((data) => {\r\n      this.coreService.setBreadCrumbMenu(Object.values(data));\r\n    });\r\n\r\n    this.chargeService.applicationName = null;\r\n    this.chargeService.moduleName = null;\r\n\r\n    this.userData = JSON.parse(localStorage.getItem(\"userData\"));\r\n\r\n    this.setSelectAppModule();\r\n\r\n    // getting app-mod from localstorage\r\n\r\n    this.searchApplicationOptions = JSON.parse(\r\n      localStorage.getItem(\"appAccess\")\r\n    );\r\n    this.searchModuleOptions = JSON.parse(localStorage.getItem(\"modAccess\"));\r\n    let defAppMod = JSON.parse(localStorage.getItem(\"defAppModule\"));\r\n    let currAppMod = JSON.parse(sessionStorage.getItem(\"charge\"));\r\n\r\n    let defApp = null;\r\n    let defMod = null;\r\n\r\n    if (currAppMod) {\r\n      console.log(currAppMod);\r\n      defApp = this.searchApplicationOptions.filter(\r\n        (opt) => opt.code == currAppMod.applicationName.code\r\n      )[0];\r\n      defMod = this.searchModuleOptions.filter(\r\n        (opt) => opt.code == currAppMod.moduleName.code\r\n      )[0];\r\n    } else {\r\n      if (defAppMod) {\r\n        defApp = JSON.parse(localStorage.getItem(\"applicationName\"));\r\n        defMod = JSON.parse(localStorage.getItem(\"moduleName\"));\r\n      }\r\n    }\r\n\r\n    if (defApp) {\r\n      this.appCtrl.patchValue(defApp);\r\n    }\r\n    if (defMod) {\r\n      this.moduleCtrl.patchValue(defMod);\r\n    }\r\n    if (this.appCtrl.value && this.moduleCtrl.value) {\r\n      this.searchAppModule();\r\n    }\r\n\r\n    // getting app-mod from localstorage ends\r\n  }\r\n\r\n  setSelectAppModule() {\r\n    this.selectAppModule = this.fb.group({\r\n      applications: new UntypedFormControl({ value: \"\", disabled: false }, [\r\n        Validators.required,\r\n      ]),\r\n      modules: new UntypedFormControl({ value: \"\", disabled: false }, [\r\n        Validators.required,\r\n      ]),\r\n    });\r\n  }\r\n\r\n  get appCtrl() {\r\n    return this.selectAppModule.get(\"applications\");\r\n  }\r\n  get moduleCtrl() {\r\n    return this.selectAppModule.get(\"modules\");\r\n  }\r\n\r\n  searchAppModule() {\r\n    let currAppMod = {\r\n      applicationName: this.appCtrl.value,\r\n      moduleName: this.moduleCtrl.value,\r\n    };\r\n    sessionStorage.setItem(\"charge\", JSON.stringify(currAppMod));\r\n    this.getDecodedDataForListing(\r\n      this.userData.userId,\r\n      this.appCtrl.value.code,\r\n      this.moduleCtrl.value.code\r\n    );\r\n  }\r\n  getDecodedDataForListing(userId: any, appValue: any, moduleValue: any) {\r\n    this.coreService.displayLoadingScreen();\r\n    forkJoin({\r\n      criteriaMasterData: this.chargeService.getCriteriaMasterData(\r\n        this.userData.userId,\r\n        this.formName,\r\n        appValue,\r\n        moduleValue\r\n      ),\r\n      chargeSettingListingData: this.chargeService.getChargeCodeData(\r\n        userId,\r\n        this.formName,\r\n        appValue,\r\n        moduleValue\r\n      ),\r\n    })\r\n      .pipe(\r\n        take(1),\r\n        map((response) => {\r\n          let criteriaMasterJson = _lodashClone(response.criteriaMasterData);\r\n          delete criteriaMasterJson[\"fieldDisplay\"];\r\n          this.fieldDisplayData = response.criteriaMasterData[\"fieldDisplay\"];\r\n          const criteriaMasterData = criteriaMasterJson;\r\n          const chargeSettingListingData = response.chargeSettingListingData;\r\n\r\n          if (chargeSettingListingData[\"data\"]) {\r\n            this.chargeListingApiData = chargeSettingListingData;\r\n            this.chargeListingApiData.data.forEach((charge) => {\r\n              let beforeSplit = charge.criteriaMap.split(\"&&&&\")[0];\r\n              const sections = charge.criteriaMap.split(\"&&&&\");\r\n              let amounts = \"\";\r\n              let dates = \"\";\r\n              let afterSplit = \"\";\r\n\r\n              // Process each section\r\n              sections.forEach((section) => {\r\n                if (section.includes(\"from\") && section.includes(\"to\")) {\r\n                  // Extract the amounts\r\n                  const amountsArray = section\r\n                    .split(\"#\")\r\n                    .map((amountSection) => {\r\n                      const [from, to] = amountSection\r\n                        .split(\"::\")\r\n                        .map((part) => part.split(\":\")[1]);\r\n                      return `Between ${from} - ${to}`;\r\n                    });\r\n                  amounts = amountsArray.join(\" & \");\r\n                } else if (\r\n                  section.startsWith(\"trnStartDate\") &&\r\n                  section.includes(\"trnEndDate\")\r\n                ) {\r\n                  // Extract the dates\r\n                  const dateSections = section.split(\"#\").map((dateSection) => {\r\n                    const [startDate, endDate] = dateSection\r\n                      .split(\"::\")\r\n                      .map((part) => part.split(\"=\")[1]);\r\n                    return `Between ${startDate} - ${endDate}`;\r\n                  });\r\n                  dates = dateSections.join(\" & \");\r\n                }\r\n              });\r\n\r\n              if (amounts.length && dates.length) {\r\n                afterSplit += `Amount (${amounts}), Date (${dates})`;\r\n              } else if (amounts.length) {\r\n                afterSplit += `Amount (${amounts})`;\r\n              } else if (dates.length) {\r\n                afterSplit += `Date (${dates})`;\r\n              }\r\n\r\n              if (beforeSplit.length) {\r\n                let criteriaCodeText = this.setCriteriaService.setCriteriaMap({\r\n                  criteriaMap: beforeSplit,\r\n                });\r\n                charge.criteriaMap = (\r\n                  this.setCriteriaService.decodeFormattedCriteria(\r\n                    criteriaCodeText,\r\n                    criteriaMasterData,\r\n                    this.fieldDisplayData\r\n                  ) as []\r\n                ).join(\", \");\r\n                if (afterSplit?.length) {\r\n                  charge.criteriaMap = charge.criteriaMap + \", \" + afterSplit;\r\n                }\r\n              } else {\r\n                if (afterSplit?.length) {\r\n                  charge.criteriaMap = afterSplit;\r\n                }\r\n              }\r\n            });\r\n            this.chargeListingData = [...this.chargeListingApiData.data];\r\n            this.showNoDataFound = false;\r\n            this.linkedChargeCode = [\r\n              ...this.chargeListingApiData.linkedChargeCode,\r\n            ];\r\n            this.chargeCode = this.chargeListingApiData.chargeCode.map(\r\n              (code) => {\r\n                return { label: code, value: code };\r\n              }\r\n            );\r\n            this.chargeCodeDesc = this.chargeListingApiData.chargeCodeDesc.map(\r\n              (code) => {\r\n                return { label: code, value: code };\r\n              }\r\n            );\r\n            this.criteriaMap = this.chargeListingApiData.criteriaMap.map(\r\n              (code) => {\r\n                return { label: code, value: code };\r\n              }\r\n            );\r\n            this.status = this.chargeListingApiData.status.map((code) => {\r\n              return { label: code, value: code };\r\n            });\r\n          } else {\r\n            if (chargeSettingListingData[\"msg\"]) {\r\n              this.coreService.showWarningToast(\r\n                chargeSettingListingData[\"msg\"]\r\n              );\r\n            }\r\n            this.showNoDataFound = true;\r\n            this.chargeListingData = [];\r\n          }\r\n          return chargeSettingListingData;\r\n        })\r\n      )\r\n      .subscribe(\r\n        (res) => {\r\n          this.coreService.removeLoadingScreen();\r\n          this.loading = false;\r\n          if (\r\n            res[\"status\"] &&\r\n            typeof res[\"status\"] == \"string\" &&\r\n            (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n          ) {\r\n            this.showNoDataFound = true;\r\n            if (res[\"error\"]) {\r\n              this.coreService.showWarningToast(res[\"error\"]);\r\n            } else {\r\n              this.coreService.showWarningToast(\"Some error in fetching data\");\r\n            }\r\n          } else {\r\n            if (!res[\"data\"]) {\r\n              this.showNoDataFound = true;\r\n            }\r\n          }\r\n        },\r\n        (err) => {\r\n          this.coreService.removeLoadingScreen();\r\n          this.chargeListingData = null;\r\n          this.showNoDataFound = true;\r\n          this.loading = false;\r\n          console.log(\"Error in getting charge seting list data\", err);\r\n          this.coreService.showWarningToast(\r\n            \"Some Error in getting charge seting list data\"\r\n          );\r\n        }\r\n      );\r\n  }\r\n\r\n  viewChargeSetting(data: any) {\r\n    this.chargeService.applicationName = this.appCtrl.value.code;\r\n    this.chargeService.moduleName = this.moduleCtrl.value.code;\r\n    this.router.navigate([\r\n      \"navbar\",\r\n      \"charge-settings\",\r\n      \"add-charge\",\r\n      data.chargeCode,\r\n      \"edit\",\r\n    ]);\r\n    this.chargeService.setData(data);\r\n  }\r\n\r\n  isLinked(id: any) {\r\n    return this.linkedChargeCode.includes(id);\r\n  }\r\n\r\n  confirmStatus(e: any, data: any) {\r\n    e.preventDefault();\r\n    let type = \"\";\r\n    let reqStatus = \"\";\r\n    if (e.target.checked) {\r\n      reqStatus = \"Active\";\r\n      type = \"Activate\";\r\n    } else {\r\n      reqStatus = \"Inactive\";\r\n      type = \"Deactivate\";\r\n    }\r\n    this.coreService.setSidebarBtnFixedStyle(false);\r\n    this.coreService.setHeaderStickyStyle(false);\r\n    let completeMsg = \"\";\r\n    let isLinkedMsg = `Active Transactions Exist. </br>`;\r\n    if (\r\n      reqStatus == \"Inactive\" &&\r\n      this.linkedChargeCode.includes(data[\"chargeCode\"])\r\n    ) {\r\n      completeMsg =\r\n        `<img src=\"../../../assets/warning.svg\"><br/><br/>` +\r\n        isLinkedMsg +\r\n        `Do you wish to ` +\r\n        type +\r\n        ` the Charge Record: ${data[\"chargeCode\"]}?`;\r\n    } else {\r\n      completeMsg =\r\n        `<img src=\"../../../assets/warning.svg\"><br/><br/>` +\r\n        `Do you wish to ` +\r\n        type +\r\n        ` the Charge Record: ${data[\"chargeCode\"]}?`;\r\n    }\r\n    this.confirmationService.confirm({\r\n      message: completeMsg,\r\n      key: \"activeDeactiveStatus\",\r\n      accept: () => {\r\n        this.updateStatus(e, reqStatus, data);\r\n        this.setHeaderSidebarBtn(true);\r\n      },\r\n      reject: () => {\r\n        this.confirmationService.close;\r\n        this.setHeaderSidebarBtn(false);\r\n      },\r\n    });\r\n  }\r\n\r\n  setHeaderSidebarBtn(accept: boolean) {\r\n    this.coreService.displayLoadingScreen();\r\n    setTimeout(() => {\r\n      this.coreService.setHeaderStickyStyle(true);\r\n      this.coreService.setSidebarBtnFixedStyle(true);\r\n    }, 500);\r\n    if (!accept) {\r\n      setTimeout(() => {\r\n        this.coreService.removeLoadingScreen();\r\n      }, 1000);\r\n    }\r\n  }\r\n\r\n  updateStatus(e: any, reqStatus: any, data: any) {\r\n    this.coreService.displayLoadingScreen();\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"userId\", this.userData.userId);\r\n    formData.append(\"chargeCode\", data[\"chargeCode\"]);\r\n    formData.append(\"status\", reqStatus);\r\n    formData.append(\"applications\", this.appCtrl.value.code);\r\n    formData.append(\"moduleName\", this.moduleCtrl.value.code);\r\n    formData.append(\"form\", this.formName);\r\n    this.updateChargeCodeStatus(formData, e.target, data);\r\n  }\r\n\r\n  updateChargeCodeStatus(formData: any, sliderElm: any, chargeData: any) {\r\n    this.chargeService.updateChargeSettingsStatus(formData).subscribe(\r\n      (res) => {\r\n        let message = \"\";\r\n        if (res[\"error\"] == \"true\") {\r\n          this.coreService.removeLoadingScreen();\r\n          message = `Kindly deactivate the Charge code: ${res[\"msg\"]} ( ${chargeData[\"criteriaMap\"]} ) to activate the current record.`;\r\n          this.coreService.showWarningToast(message);\r\n        } else {\r\n          if (res[\"msg\"]) {\r\n            message = res[\"msg\"];\r\n            sliderElm.checked = sliderElm!.checked;\r\n            this.getDecodedDataForListing(\r\n              this.userData.userId,\r\n              this.appCtrl.value.code,\r\n              this.moduleCtrl.value.code\r\n            );\r\n            this.coreService.showSuccessToast(message);\r\n          } else {\r\n            this.coreService.removeLoadingScreen();\r\n            message = \"Error in fetching data, Please try again later\";\r\n            this.coreService.showWarningToast(message);\r\n          }\r\n        }\r\n      },\r\n      (err) => {\r\n        console.log(err);\r\n        this.coreService.removeLoadingScreen();\r\n      }\r\n    );\r\n  }\r\n\r\n  cloneCharge(data: any) {\r\n    this.chargeService.applicationName = this.appCtrl.value.code;\r\n    this.chargeService.moduleName = this.moduleCtrl.value.code;\r\n    this.router.navigate([\r\n      \"navbar\",\r\n      \"charge-settings\",\r\n      \"add-charge\",\r\n      data.chargeCode,\r\n      \"clone\",\r\n    ]);\r\n  }\r\n\r\n  addNewChargePage() {\r\n    this.router.navigate([\"navbar\", \"charge-settings\", \"add-charge\"]);\r\n  }\r\n\r\n  toggleFilterVisibility(field) {\r\n    this[`show${field}Options`] = !this[`show${field}Options`];\r\n  }\r\n\r\n  hideFilterVisibility(field) {\r\n    this[`show${field}Options`] = false;\r\n  }\r\n\r\n  getSelectedFilterArr(field: any) {\r\n    return this[`selectedFilter${field}`];\r\n  }\r\n\r\n  setSelectedFilter(ms: MultiSelect, field: any) {\r\n    this[`selectedFilter${field}`] = ms.value;\r\n  }\r\n\r\n  fieldFilterVisible(field: any) {\r\n    return this[`show${field}Options`];\r\n  }\r\n\r\n  fieldFilterOptions(field: any): [] {\r\n    return this[field];\r\n  }\r\n\r\n  copyToClipboard(text: string) {\r\n    this.coreService.copyToClipboard(text);\r\n  }\r\n}\r\n","<div class=\"visible-main-section\">\r\n    <div class=\"pagetitle\">\r\n      <div class=\"infoicon\">\r\n        <i class=\"pi pi-info-circle\"></i>\r\n        List of charges.\r\n      </div>\r\n      <div class=\"addnew\">\r\n        <button\r\n          pButton\r\n          pRipple\r\n          type=\"button\"\r\n          label=\"Add New Charge\"\r\n          class=\"p-button-raised\"\r\n          (click)=\"addNewChargePage()\"\r\n        ></button>\r\n      </div>\r\n    </div>\r\n    <div class=\"app-form-search\">\r\n      <div [formGroup]=\"selectAppModule\" class=\"select-module-application m-2\">\r\n        <div class=\"col-12\">\r\n          <div class=\"row\">\r\n            <div class=\"d-flex field col-md-4 col-lg-4 col-sm-12 col-xs-12 md-4\">\r\n              <label\r\n                class=\"detail-page-section-heading col-sm-3 col-xs-12\"\r\n                for=\"application\"\r\n                >Application</label\r\n              >\r\n              <p-dropdown\r\n                name=\"application\"\r\n                inputId=\"application\"\r\n                [options]=\"searchApplicationOptions\"\r\n                placeholder=\"Select\"\r\n                optionLabel=\"name\"\r\n                formControlName=\"applications\"\r\n              >\r\n                <ng-template let-options pTemplate=\"item\">\r\n                  <div class=\"truncate-text\">\r\n                    <div>{{ options.name }}</div>\r\n                  </div>\r\n                </ng-template></p-dropdown\r\n              >\r\n            </div>\r\n            <div class=\"d-flex field col-md-4 col-lg-4 col-sm-12 col-xs-12 md-4\">\r\n              <label\r\n                class=\"detail-page-section-heading small col-sm-3 col-xs-12\"\r\n                for=\"module\"\r\n                >Module</label\r\n              >\r\n              <p-dropdown\r\n                name=\"module\"\r\n                inputId=\"module\"\r\n                [options]=\"searchModuleOptions\"\r\n                placeholder=\"Select\"\r\n                optionLabel=\"name\"\r\n                formControlName=\"modules\"\r\n              >\r\n                <ng-template let-options pTemplate=\"item\">\r\n                  <div class=\"truncate-text\">\r\n                    <div>{{ options.name }}</div>\r\n                  </div>\r\n                </ng-template></p-dropdown\r\n              >\r\n            </div>\r\n            <div class=\"addnew field col-md-2 col-lg-2 col-sm-4 col-xs-4 md-2\">\r\n              <button\r\n                pButton\r\n                pRipple\r\n                type=\"button\"\r\n                (click)=\"searchAppModule()\"\r\n                label=\"Apply\"\r\n                class=\"p-button-raised\"\r\n                [disabled]=\"selectAppModule.invalid\"\r\n              ></button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"ptable\" *ngIf=\"chargeListingData && chargeListingData.length\">\r\n      <p-table\r\n        #dt\r\n        [columns]=\"cols\"\r\n        [value]=\"chargeListingData\"\r\n        [paginator]=\"true\"\r\n        [rows]=\"10\"\r\n        [loading]=\"loading\"\r\n        [resizableColumns]=\"true\"\r\n        columnResizeMode=\"fit\"\r\n        [rowHover]=\"true\"\r\n      >\r\n        <ng-template pTemplate=\"header\" let-columns>\r\n          <tr>\r\n            <th\r\n              *ngFor=\"let col of columns; let c = index\"\r\n              pReorderableColumn\r\n              [pSortableColumn]=\"col.field\"\r\n              pResizableColumn\r\n              [style.width]=\"col.width\"\r\n            >\r\n              {{ col.header }}\r\n              <div\r\n                *ngIf=\"c == 0 || col.field == 'status'\"\r\n                (click)=\"$event.stopPropagation()\"\r\n                class=\"filter-icon\"\r\n              >\r\n                <i\r\n                  [ngStyle]=\"{\r\n                    color: getSelectedFilterArr(col.field).length\r\n                      ? 'var(--primary-color)'\r\n                      : 'rgb(105 105 105)',\r\n                    fontSize: '11px'\r\n                  }\"\r\n                  class=\"pi pi-filter-fill\"\r\n                  (click)=\"toggleFilterVisibility(col.field)\"\r\n                ></i>\r\n                <p-multiSelect\r\n                  #ms\r\n                  [options]=\"fieldFilterOptions(col.field)\"\r\n                  [filter]=\"true\"\r\n                  [displaySelectedLabel]=\"false\"\r\n                  [overlayVisible]=\"fieldFilterVisible(col.field)\"\r\n                  [defaultLabel]=\"'Search'\"\r\n                  [appendTo]=\"'body'\"\r\n                  [autoWidth]=\"false\"\r\n                  (onChange)=\"\r\n                    dt.filter($event.value, col.field, 'in');\r\n                    setSelectedFilter(ms, col.field)\r\n                  \"\r\n                  (onPanelHide)=\"hideFilterVisibility(col.field)\"\r\n                >\r\n                </p-multiSelect>\r\n              </div>\r\n            </th>\r\n          </tr>\r\n          <tr class=\"search-row\">\r\n            <th *ngFor=\"let col of cols\" [style.width]=\"col.width\">\r\n              <span\r\n                style=\"width: 100%\"\r\n                class=\"p-input-icon-left\"\r\n                *ngIf=\"col.field != 'status' && col.field != 'operation'\"\r\n              >\r\n                <i class=\"pi pi-search\"></i>\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"p-inputtext table-search\"\r\n                  placeholder=\"Search\"\r\n                  (input)=\"dt.filter($event.target.value, col.field, 'contains')\"\r\n                />\r\n              </span>\r\n            </th>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template\r\n          pTemplate=\"body\"\r\n          let-rowData\r\n          let-columns=\"columns\"\r\n          let-index=\"rowIndex\"\r\n        >\r\n          <tr [pReorderableRow]=\"index\">\r\n            <ng-container *ngFor=\"let col of columns; let i = index\">\r\n              <td *ngIf=\"col.field != 'status' && col.field != 'operation'\">\r\n                <div\r\n                  *ngIf=\"!(i == 0 || i == 2 || i == 1)\"\r\n                  style=\"display: inline-block\"\r\n                >\r\n                  {{ rowData[col[\"field\"]] }}\r\n                </div>\r\n                <a\r\n                  *ngIf=\"i == 0\"\r\n                  style=\"text-decoration: underline !important\"\r\n                  [ngStyle]=\"{\r\n                    color: isLinked(rowData[col['field']])\r\n                      ? '#f89406'\r\n                      : 'var(--primary-color)',\r\n                    fontSize: '11px',\r\n                    cursor: 'pointer'\r\n                  }\"\r\n                  [pTooltip]=\"'Active Transactions Exist.'\"\r\n                  [tooltipDisabled]=\"!isLinked(rowData[col['field']])\"\r\n                  tabindex=\"0\"\r\n                  (keyup.Space)= \"viewChargeSetting(rowData)\"\r\n                  (click)=\"viewChargeSetting(rowData)\"\r\n                  >{{ rowData[col[\"field\"]] }}</a\r\n                >\r\n                <span\r\n                  *ngIf=\"i == 1\"\r\n                  [pTooltip]=\"\r\n                    rowData[col['field']].length > 30 ? rowData[col['field']] : ''\r\n                  \"\r\n                  tooltipPosition=\"bottom\"\r\n                >\r\n                  {{\r\n                    rowData[col[\"field\"]].length > 30\r\n                      ? rowData[col[\"field\"]].substring(0, 30) + \"..\"\r\n                      : rowData[col[\"field\"]]\r\n                  }}</span\r\n                >\r\n                <span\r\n                  *ngIf=\"i == 2\"\r\n                  [pTooltip]=\"\r\n                    rowData[col['field']].length > 80 ? rowData[col['field']] : ''\r\n                  \"\r\n                  tooltipPosition=\"bottom\"\r\n                  (mouseenter)=\"rowData['isHovered'] = true\"\r\n                  (mouseleave)=\"rowData['isHovered'] = false\"\r\n                >\r\n                  {{\r\n                    rowData[col[\"field\"]].length > 80\r\n                      ? rowData[\"isHovered\"]\r\n                        ? rowData[col[\"field\"]].substring(0, 75) + \"..\"\r\n                        : rowData[col[\"field\"]].substring(0, 80) + \"..\"\r\n                      : rowData[col[\"field\"]]\r\n                  }}<a\r\n                    style=\"cursor: pointer\"\r\n                    *ngIf=\"\r\n                      rowData['isHovered'] && rowData[col['field']].length > 80\r\n                    \"\r\n                    (click)=\"copyToClipboard(rowData[col['field']])\"\r\n                    >COPY</a\r\n                  ></span\r\n                >\r\n              </td>\r\n  \r\n              <td\r\n                *ngIf=\"col.field == 'status'\"\r\n                style=\"border: none; text-align: center\"\r\n              >\r\n                <label class=\"switch\" tabindex=\"0\"\r\n                (keyup.Space)= \"statusInp.click()\">\r\n                  <input\r\n                    #statusInp\r\n                    [value]=\"rowData[col['field']]\"\r\n                    type=\"checkbox\"\r\n                    (click)=\"confirmStatus($event, rowData)\"\r\n                    [checked]=\"\r\n                      rowData[col['field']] == 'Active' ||\r\n                      rowData[col['field']] == 'A'\r\n                        ? true\r\n                        : false\r\n                    \"\r\n                  />\r\n                  <span class=\"slider round\"></span>\r\n                </label>\r\n              </td>\r\n              <td\r\n                *ngIf=\"col.field == 'operation'\"\r\n                style=\"border: none; text-align: center\"\r\n              >\r\n                <span class=\"image-text\">\r\n                  <button\r\n                    pButton\r\n                    type=\"button\"\r\n                    icon=\"pi pi-clone\"\r\n                    class=\"operation-btns mr-2\"\r\n                    [disabled]=\"rowData['status'] == 'Inactive'\"\r\n                    (click)=\"cloneCharge(rowData)\"\r\n                  ></button>\r\n                </span>\r\n              </td>\r\n            </ng-container>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"emptymessage\">\r\n          <tr>\r\n            <td [attr.colspan]=\"cols.length\">No Data Found.</td>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"paginatorleft\" let-state>\r\n          {{ state.page * state.rows + 1 }} -\r\n          {{\r\n            state.rows * (state.page + 1) > state.totalRecords\r\n              ? state.totalRecords\r\n              : state.rows * (state.page + 1)\r\n          }}\r\n          of {{ state.totalRecords }}\r\n        </ng-template>\r\n      </p-table>\r\n    </div>\r\n  </div>\r\n  <div class=\"NorecordFound\" *ngIf=\"!chargeListingData?.length && showNoDataFound\">\r\n    <div class=\"row\">\r\n      <div class=\"col-12\"><img src=\"assets/noRecordFound.svg\" /></div>\r\n    </div>\r\n    <div class=\"row\">\r\n      <div class=\"col-12\">\r\n        <p>\"No Record Found.Click Add New Charge To Add Record\"</p>\r\n        <button\r\n          pButton\r\n          pRipple\r\n          type=\"button\"\r\n          label=\"Add New Charge\"\r\n          class=\"p-button-raised\"\r\n          (click)=\"addNewChargePage()\"\r\n        ></button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <p-confirmDialog\r\n    key=\"activeDeactiveStatus\"\r\n    class=\"status-confirm confirm-popup\"\r\n    #cd\r\n    [closable]=\"false\"\r\n  >\r\n    <p-footer>\r\n      <button\r\n        type=\"button\"\r\n        pButton\r\n        icon=\"pi pi-check\"\r\n        label=\"Yes\"\r\n        (click)=\"cd.accept()\"\r\n      ></button>\r\n  \r\n      <button\r\n        type=\"button\"\r\n        pButton\r\n        icon=\"pi pi-times\"\r\n        label=\"No\"\r\n        (click)=\"cd.reject()\"\r\n      ></button>\r\n    </p-footer>\r\n  </p-confirmDialog>\r\n  \r\n","import { HttpClient, HttpHeaders } from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { Observable } from \"rxjs\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class ChargeServiceService {\r\n  constructor(private http: HttpClient) {}\r\n\r\n  applicationName: any = null;\r\n  moduleName: any = null;\r\n\r\n  private statusDataForEditForm: any = undefined;\r\n\r\n  setData(data: any) {\r\n    this.statusDataForEditForm = data;\r\n  }\r\n\r\n  getData(): any {\r\n    return this.statusDataForEditForm;\r\n  }\r\n\r\n  // COMMON SERVICES\r\n  getChargeSettingAppModuleList() {\r\n    return this.http.get(\r\n      `/appControl/applicationSettingsController/criteriaTypes`\r\n    );\r\n  }\r\n\r\n  getCriteriaMasterData(\r\n    userId: any,\r\n    formName: any,\r\n    appName: any,\r\n    moduleName: any\r\n  ) {\r\n    return this.http.get(\r\n      `/appControl/formRulesController/getCriteriaMasterData`,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"userId\", userId)\r\n          .set(\"form\", formName)\r\n          .set(\"applications\", String(appName))\r\n          .set(\"moduleName\", String(moduleName)),\r\n      }\r\n    );\r\n  }\r\n\r\n  getCorrespondentValuesData(\r\n    formName: any,\r\n    appName: any,\r\n    criteriaMap: any,\r\n    fieldName: any,\r\n    displayName: any,\r\n    moduleName: any\r\n  ) {\r\n    return this.http.get(`/appControl/formRulesController/getCriteriaData`, {\r\n      headers: new HttpHeaders()\r\n        .set(\"form\", formName)\r\n        .set(\"applications\", String(appName))\r\n        .set(\"criteriaMap\", criteriaMap)\r\n        .set(\"fieldName\", fieldName)\r\n        .set(\"displayName\", displayName)\r\n        .set(\"moduleName\", String(moduleName)),\r\n    });\r\n  }\r\n\r\n  currentCriteriaSaveAsTemplate(data: any): Observable<any> {\r\n    return this.http.post(\r\n      `appControl/formRulesController/saveFormRuleCriteria`,\r\n      data\r\n    );\r\n  }\r\n\r\n  getAllCriteriaTemplates(\r\n    id: string,\r\n    appName: any,\r\n    moduleName: any,\r\n    formName: any\r\n  ): Observable<any> {\r\n    return this.http.get(\r\n      `appControl/formRulesController/getExistingFormRuleList\r\n      `,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"userId\", id)\r\n          .set(\"applications\", String(appName))\r\n          .set(\"moduleName\", String(moduleName))\r\n          .set(\"form\", formName),\r\n      }\r\n    );\r\n  }\r\n  // COMMON SERVICES END\r\n\r\n  getChargeCodeData(id: string, formName: any, appName: any, moduleName: any) {\r\n    return this.http.get(\r\n      `/appControl/chargeSettingController/getChargeCodeList`,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"userId\", id)\r\n          .set(\"applications\", String(appName))\r\n          .set(\"moduleName\", String(moduleName))\r\n          .set(\"form\", formName),\r\n      }\r\n    );\r\n  }\r\n\r\n  updateChargeSettingsStatus(data: any) {\r\n    return this.http.post(\r\n      `/appControl/chargeSettingController/updateChargeSettingsStatus`,\r\n      data\r\n    );\r\n  }\r\n\r\n  getChargeSettingForEdit(\r\n    chargeCode: any,\r\n    operation: any,\r\n    appName: any,\r\n    moduleName: any,\r\n    formName: any\r\n  ) {\r\n    return this.http.get(\r\n      `/appControl/chargeSettingController/getChargeSettingCriteriaForEdit`,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"chargeCode\", chargeCode)\r\n          .set(\"operation\", operation),\r\n      }\r\n    );\r\n  }\r\n\r\n  getAddChargeSettingsCriteriaData(\r\n    appName: any,\r\n    moduleName: any,\r\n    formName: any\r\n  ) {\r\n    return this.http.get(\r\n      `/appControl/chargeSettingController/addChargeSettings`,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"applications\", String(appName))\r\n          .set(\"moduleName\", String(moduleName))\r\n          .set(\"form\", formName),\r\n      }\r\n    );\r\n  }\r\n\r\n  postChargeCriteriaSearch(data: any) {\r\n    return this.http.post(\r\n      `/appControl/chargeSettingController/applyCriteriaSearch`,\r\n      data\r\n    );\r\n  }\r\n\r\n  addNewCharge(\r\n    data,\r\n    appName: any,\r\n    moduleName: any,\r\n    formName: any\r\n  ): Observable<any> {\r\n    return this.http.post(\r\n      `/appControl/chargeSettingController/addCriteriaDetails`,\r\n      data,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"applications\", String(appName))\r\n          .set(\"moduleName\", String(moduleName))\r\n          .set(\"form\", formName),\r\n      }\r\n    );\r\n  }\r\n\r\n  updateChargeSetting(\r\n    userId,\r\n    data,\r\n    appName: any,\r\n    moduleName: any,\r\n    formName: any\r\n  ): Observable<any> {\r\n    return this.http.put(\r\n      `/appControl/chargeSettingController/updateChargeSettingsCriteria`,\r\n      data,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"userId\", userId)\r\n          .set(\"applications\", String(appName))\r\n          .set(\"moduleName\", String(moduleName))\r\n          .set(\"form\", formName),\r\n      }\r\n    );\r\n  }\r\n}\r\n","import { Component, OnInit } from \"@angular/core\";\r\nimport {\r\n  FormBuilder,\r\n  FormControl,\r\n  FormGroup,\r\n  UntypedFormGroup,\r\n  Validators,\r\n} from \"@angular/forms\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { CoreService } from \"src/app/core.service\";\r\nimport { CompanySettingsServiceService } from \"../company-settings-service.service\";\r\nimport { element } from \"protractor\";\r\nimport { ConfirmationService } from \"primeng/api\";\r\n\r\n@Component({\r\n  selector: \"app-company-details\",\r\n  templateUrl: \"./company-details.component.html\",\r\n  styleUrls: [\"./company-details.component.scss\"],\r\n})\r\nexport class CompanyDetailsComponent implements OnInit {\r\n  companyForm: FormGroup;\r\n  companyFormN: any = {\r\n    clientCode: \"CMX000091\",\r\n    licenseCountry: \"In\",\r\n    status: \"A\",\r\n    companySettings: {\r\n      companyName: \"\",\r\n      buildingNumber: \"\",\r\n      blockNumber: \"\",\r\n      streetName: \"\",\r\n      pinCode: \"\",\r\n      timeZone: \"\",\r\n      emailId: \"\",\r\n      mobileNumber: \"\",\r\n      phoneNumber: \"\",\r\n      companyLogo: \"\",\r\n      companyLogoName: \"\",\r\n      country: \"\",\r\n      baseCurrency: \"\",\r\n      primaryBaseCurrency: \"\",\r\n      crossCurrency: \"\",\r\n      numberFormat: \"\",\r\n      dateFormat: \"\",\r\n      primaryLanguage: \"\",\r\n      themes: \"\",\r\n    },\r\n    remittanceSettings: {\r\n      requiredDualCounter: \"\",\r\n      prefixForRemittanceRefNo: \"\",\r\n      correspondentRouting: \"\",\r\n      autoRoutingTypeCode: \"\",\r\n      showRateViewInRemittance: \"\",\r\n      allowNewCustomerAdditionFromRemittance: \"\",\r\n      allowCustomerProfileEditFromRemittance: \"\",\r\n      allowBeneficiaryProfileEditFromRemittance: \"\",\r\n      allowSpecialRateRequestFromRemittance: \"\",\r\n      allowBufferInRateToTeller: \"\",\r\n      allowOnAccountFacility: \"\",\r\n      allowSpecialDiscountRate: \"\",\r\n      allowCreditFacility: \"\",\r\n    },\r\n    accountsSettings: {\r\n      prefixForBankVoucherNumber: \"\",\r\n      prefixForCashVoucherNumber: \"\",\r\n      accounting: \"\",\r\n    },\r\n    forexSettings: {\r\n      prefixForForexRefNo: \"\",\r\n    },\r\n    incomingSettings: {\r\n      prefixForIncomingRefNo: \"\",\r\n    },\r\n    loginSettings: {\r\n      captchaRequired: \"\",\r\n      passwordPolicy: \"\",\r\n    },\r\n  };\r\n\r\n  requiredFields = [\r\n    {\r\n      label: \"Company Name\",\r\n      val: \"companyName\",\r\n    },\r\n    {\r\n      label: \"Country\",\r\n      val: \"country\",\r\n    },\r\n  ];\r\n\r\n  objectKeys = Object.keys;\r\n\r\n  deactivated: boolean = false;\r\n  toggleCollapsed: boolean = true;\r\n  mode = \"add\";\r\n\r\n  selectedBaseCurrencies: any[];\r\n  selectedcountry: any[];\r\n  selectedTimeZone: \"\";\r\n  selectedPrimaryBaseCurrency: \"\";\r\n  selectCrossCurrency: any[];\r\n  selectNumberFormat: \"\";\r\n  selectDateFormat: \"\";\r\n  selectPrimaryLanguage: \"\";\r\n  selectThemes: \"\";\r\n  selectRequiredDualCounter: \"\";\r\n  selectAccounting: \"\";\r\n  selectCaptchaRequired: \"\";\r\n  selectPasswordPolicy: \"\";\r\n  companyLogoName: \"\";\r\n  companyLogoNameStore: \"\";\r\n\r\n  countryOptions: any = [];\r\n  baseCurrencyOptions: any = [];\r\n  primaryBaseCurrencyOptions: any = [];\r\n  crossCurrencyOptions: any = [];\r\n  numberFormatOptions: any = [];\r\n  dateFormatOptions: any = [];\r\n  primaryLanguageOptions: any = [];\r\n  themeOptions: any = [];\r\n  accountingOptions: any = [];\r\n  timeZoneOptions: any = [];\r\n  requiredDualCounterOptions: any = [];\r\n  setPasswordPolicyOptions: any = [];\r\n  captchaRequiredOptions: any = [];\r\n  autoRoutingOptions: any = [];\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private coreService: CoreService,\r\n    private confirmationService: ConfirmationService,\r\n    private formBuilder: FormBuilder,\r\n    private compamnyService: CompanySettingsServiceService\r\n  ) {}\r\n\r\n  apiData: any = [];\r\n  newValues: any = [];\r\n  fileBase64Data: any;\r\n  userId = \"\";\r\n\r\n  ngOnInit(): void {\r\n    this.coreService.displayLoadingScreen();\r\n    const translationKey = \"Home.Settings\";\r\n    this.coreService\r\n      .translate(translationKey)\r\n      .then((translatedTitle: string) => {\r\n        this.coreService.setPageTitle(translatedTitle);\r\n      });\r\n    this.userId = JSON.parse(localStorage.getItem(\"userData\"))[\"userId\"];\r\n\r\n    this.route.data.subscribe((data) => {\r\n      this.coreService.setBreadCrumbMenu(Object.values(data));\r\n    });\r\n\r\n    this.getDropdownOptions();\r\n    this.getCompanySettingsData();\r\n  }\r\n\r\n  updatePrimaryBaseCurrencyOptions(selectedBaseCurrencies: any[]) {\r\n    // console.log(\"pri\", selectedBaseCurrencies);\r\n    this.companyFormN.companySettings.baseCurrency = selectedBaseCurrencies;\r\n    this.primaryBaseCurrencyOptions = selectedBaseCurrencies;\r\n  }\r\n\r\n  expandAll() {\r\n    this.toggleCollapsed = !this.toggleCollapsed;\r\n  }\r\n\r\n  onChange(section, type, field, event) {\r\n    console.log(\"event\", event.target.value);\r\n    if (section == \"basicDeatil\") {\r\n      this.companyFormN[\"companySettings\"][field] = event && event.target.value;\r\n    }\r\n    if (section == \"remittanceSettings\") {\r\n      this.companyFormN[\"remittanceSettings\"][field] =\r\n        event && event.target.value;\r\n    }\r\n    if (section == \"loginSettings\") {\r\n      this.companyFormN[\"loginSettings\"][field] = event && event.target.value;\r\n    }\r\n  }\r\n\r\n  mapCodeToItem(code: string, options: any[]): any {\r\n    console.log(\r\n      \"them\",\r\n      options.find((item) => item.code === code)\r\n    );\r\n    return options.find((item) => item.code === code);\r\n  }\r\n\r\n  getCompanySettingsData() {\r\n    this.compamnyService.getCompanySettings().subscribe(\r\n      (res) => {\r\n        if (\r\n          res[\"status\"] &&\r\n          typeof res[\"status\"] == \"string\" &&\r\n          (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n        ) {\r\n          if (res[\"error\"]) {\r\n            this.coreService.showWarningToast(res[\"error\"]);\r\n          } else {\r\n            this.coreService.showWarningToast(\r\n              \"Something went wrong, Please try again later\"\r\n            );\r\n          }\r\n        } else {\r\n          if (res[\"status\"] == \"200\") {\r\n            this.coreService.removeLoadingScreen();\r\n            console.log(\"data\", res[\"data\"]);\r\n            this.companyFormN = res[\"data\"];\r\n            this.mode = \"edit\";\r\n            this.companyLogoName =\r\n              res[\"data\"][\"companySettings\"][\"companyLogoName\"];\r\n            if (res[\"data\"][\"companySettings\"][\"country\"]) {\r\n              const countryCode = res[\"data\"][\"companySettings\"][\"country\"];\r\n              this.selectedcountry = this.countryOptions.filter((option) => {\r\n                return countryCode.split(\",\").includes(option.code);\r\n              });\r\n            }\r\n            if (res[\"data\"][\"companySettings\"][\"baseCurrency\"]) {\r\n              const countryCode =\r\n                res[\"data\"][\"companySettings\"][\"baseCurrency\"];\r\n              this.selectedBaseCurrencies = this.baseCurrencyOptions.filter(\r\n                (option) => {\r\n                  return countryCode.split(\",\").includes(option.code);\r\n                }\r\n              );\r\n              this.updatePrimaryBaseCurrencyOptions(\r\n                this.selectedBaseCurrencies\r\n              );\r\n            }\r\n            if (res[\"data\"][\"companySettings\"][\"crossCurrency\"]) {\r\n              const countryCode =\r\n                res[\"data\"][\"companySettings\"][\"crossCurrency\"];\r\n              this.selectCrossCurrency = this.crossCurrencyOptions.filter(\r\n                (option) => {\r\n                  return countryCode.split(\",\").includes(option.code);\r\n                }\r\n              );\r\n            }\r\n            if (res[\"data\"][\"companySettings\"][\"primaryBaseCurrency\"]) {\r\n              const baseCurrencyCode =\r\n                res[\"data\"][\"companySettings\"][\"primaryBaseCurrency\"];\r\n              this.selectedPrimaryBaseCurrency = this.mapCodeToItem(\r\n                baseCurrencyCode,\r\n                this.baseCurrencyOptions\r\n              );\r\n            }\r\n            if (res[\"data\"][\"companySettings\"][\"timeZone\"]) {\r\n              const timeZoneCode = res[\"data\"][\"companySettings\"][\"timeZone\"];\r\n              this.selectedTimeZone = this.mapCodeToItem(\r\n                timeZoneCode,\r\n                this.timeZoneOptions\r\n              );\r\n            }\r\n            if (res[\"data\"][\"companySettings\"][\"numberFormat\"]) {\r\n              const numberFormatCode =\r\n                res[\"data\"][\"companySettings\"][\"numberFormat\"];\r\n              this.selectNumberFormat = this.mapCodeToItem(\r\n                numberFormatCode,\r\n                this.numberFormatOptions\r\n              );\r\n            }\r\n            if (res[\"data\"][\"companySettings\"][\"dateFormat\"]) {\r\n              const numberFormatCode =\r\n                res[\"data\"][\"companySettings\"][\"dateFormat\"];\r\n              this.selectDateFormat = this.mapCodeToItem(\r\n                numberFormatCode,\r\n                this.dateFormatOptions\r\n              );\r\n            }\r\n            if (res[\"data\"][\"companySettings\"][\"primaryLanguage\"]) {\r\n              const numberFormatCode =\r\n                res[\"data\"][\"companySettings\"][\"primaryLanguage\"];\r\n              this.selectPrimaryLanguage = this.mapCodeToItem(\r\n                numberFormatCode,\r\n                this.primaryLanguageOptions\r\n              );\r\n            }\r\n            if (res[\"data\"][\"companySettings\"][\"themes\"]) {\r\n              const themesCode = res[\"data\"][\"companySettings\"][\"themes\"];\r\n              this.selectThemes = this.mapCodeToItem(\r\n                String(themesCode),\r\n                this.themeOptions\r\n              );\r\n              console.log(\"theme\", this.selectThemes);\r\n              console.log(\"theme\", themesCode);\r\n              console.log(\"theme\", this.themeOptions);\r\n            }\r\n            if (res[\"data\"][\"accountsSettings\"][\"accounting\"]) {\r\n              const numberFormatCode =\r\n                res[\"data\"][\"accountsSettings\"][\"accounting\"];\r\n              this.selectAccounting = this.mapCodeToItem(\r\n                numberFormatCode,\r\n                this.accountingOptions\r\n              );\r\n            }\r\n            if (\r\n              res[\"data\"][\"remittanceSettings\"][\"requiredDualCounter\"] === \"Y\"\r\n            ) {\r\n              const requiredDualCounterCode = \"1\";\r\n              this.selectRequiredDualCounter = this.mapCodeToItem(\r\n                requiredDualCounterCode,\r\n                this.requiredDualCounterOptions\r\n              );\r\n            } else {\r\n              const requiredDualCounterCode = \"2\";\r\n              this.selectRequiredDualCounter = this.mapCodeToItem(\r\n                requiredDualCounterCode,\r\n                this.requiredDualCounterOptions\r\n              );\r\n            }\r\n            if (res[\"data\"][\"loginSettings\"][\"captchaRequired\"] === \"Y\") {\r\n              const requiredDualCounterCode = \"1\";\r\n              this.selectCaptchaRequired = this.mapCodeToItem(\r\n                requiredDualCounterCode,\r\n                this.captchaRequiredOptions\r\n              );\r\n            } else {\r\n              const requiredDualCounterCode = \"2\";\r\n              this.selectCaptchaRequired = this.mapCodeToItem(\r\n                requiredDualCounterCode,\r\n                this.captchaRequiredOptions\r\n              );\r\n            }\r\n            if (res[\"data\"][\"loginSettings\"][\"passwordPolicy\"] === \"Y\") {\r\n              const requiredDualCounterCode = \"1\";\r\n              this.selectPasswordPolicy = this.mapCodeToItem(\r\n                requiredDualCounterCode,\r\n                this.setPasswordPolicyOptions\r\n              );\r\n            } else {\r\n              const requiredDualCounterCode = \"2\";\r\n              this.selectPasswordPolicy = this.mapCodeToItem(\r\n                requiredDualCounterCode,\r\n                this.setPasswordPolicyOptions\r\n              );\r\n            }\r\n          }\r\n        }\r\n      },\r\n      (err) => {\r\n        this.coreService.removeLoadingScreen();\r\n        console.log(\"error in getting\", err);\r\n        this.coreService.showWarningToast(\r\n          \"Something went wrong, Please try again later\"\r\n        );\r\n      }\r\n    );\r\n  }\r\n\r\n  checkValidation() {\r\n    // let msgList = [\"Company Name\", \"Country\"];\r\n    // if (\r\n    //   this.companyFormN[\"companySettings\"].companyName == \"\" ||\r\n    //   this.companyFormN[\"companySettings\"].companyName == null ||\r\n    //   this.companyFormN[\"companySettings\"].companyName == undefined\r\n    // ) {\r\n    //   console.log(\"ente in checj\");\r\n    //   this.coreService.showWarningToast(\r\n    //     \"Please Enter required Fields:\" + msgList\r\n    //   );\r\n    // }\r\n  }\r\n\r\n  setUploadBtnStyle(set: boolean, btn: any) {\r\n    if (set) {\r\n      if (btn) {\r\n        btn.style.border = \"1px solid #4759e4\";\r\n      }\r\n    } else {\r\n      btn.style.border = \"none\";\r\n    }\r\n  }\r\n\r\n  onFileSelected(event: any): void {\r\n    const fileInput = event.target;\r\n    const file = fileInput.files[0];\r\n    console.log(\"fileInput\", fileInput);\r\n    console.log(\"file\", file);\r\n    console.log(\"file\", this.companyLogoName);\r\n    this.companyLogoNameStore = file[\"name\"];\r\n    this.companyLogoName = file[\"name\"];\r\n    if (file) {\r\n      const reader = new FileReader();\r\n\r\n      reader.onloadend = () => {\r\n        const base64Data = reader.result as string;\r\n        this.fileBase64Data = base64Data;\r\n      };\r\n\r\n      reader.readAsDataURL(file);\r\n    }\r\n  }\r\n\r\n  upperCaseSpaceFormat(value: string): string {\r\n    // Trim extra spaces and convert to uppercase\r\n    return value.trim().toUpperCase().replace(/\\s+/g, \" \");\r\n  }\r\n\r\n  isValidEmailFormat(emails: string): boolean {\r\n    const emailAddresses = emails.split(\";\").map((email) => email.trim());\r\n    const invalidEmails = emailAddresses.filter(\r\n      (email) => !this.isValidEmail(email)\r\n    );\r\n    return invalidEmails.length === 0;\r\n  }\r\n\r\n  isValidEmail(email: string): boolean {\r\n    // Regular expression for email validation\r\n    const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/;\r\n    return emailRegex.test(email);\r\n  }\r\n\r\n  onSubmit() {\r\n    this.coreService.displayLoadingScreen();\r\n    console.log(\"enter in click\", this.companyFormN);\r\n    // this.checkValidation();\r\n    let companyNameMissing = false;\r\n    let countryMissing = false;\r\n    let houseNumberMissing = false;\r\n    let blockNumberMissing = false;\r\n    let streetNameMissing = false;\r\n    let timeZoneMissing = false;\r\n    let baseCurrencyMissing = false;\r\n    let primaryBaseCurrencyMissing = false;\r\n    let crossCurrencyMissing = false;\r\n    let primaryLanguageMissing = false;\r\n    let accountingMissing = false;\r\n    let captchaRequiredMissing = false;\r\n    let setPasswordPolicyMissing = false;\r\n\r\n    this.newValues = {};\r\n\r\n    for (const key in this.companyFormN) {\r\n      if (this.companyFormN.hasOwnProperty(key)) {\r\n        if (\r\n          typeof this.companyFormN[key] === \"object\" &&\r\n          this.companyFormN[key] !== null\r\n        ) {\r\n          this.newValues[key] = { ...this.companyFormN[key] };\r\n        } else {\r\n          this.newValues[key] = this.companyFormN[key];\r\n        }\r\n      }\r\n    }\r\n\r\n    this.newValues = { ...this.companyFormN };\r\n    if (this.companyFormN.hasOwnProperty(\"companySettings\")) {\r\n      this.newValues[\"companySettings\"][\"companyLogo\"] = this.fileBase64Data;\r\n      if (this.selectedcountry) {\r\n        this.newValues[\"companySettings\"][\"country\"] = this.selectedcountry\r\n          .map((country) => country.code)\r\n          .join(\",\");\r\n      }\r\n      if (this.selectedBaseCurrencies) {\r\n        this.newValues[\"companySettings\"][\"baseCurrency\"] =\r\n          this.selectedBaseCurrencies.map((country) => country.code).join(\",\");\r\n      }\r\n      if (this.selectCrossCurrency) {\r\n        this.newValues[\"companySettings\"][\"crossCurrency\"] =\r\n          this.selectCrossCurrency.map((country) => country.code).join(\",\");\r\n      }\r\n      if (this.selectedPrimaryBaseCurrency) {\r\n        this.newValues[\"companySettings\"][\"primaryBaseCurrency\"] =\r\n          this.selectedPrimaryBaseCurrency[\"code\"];\r\n      }\r\n      if (this.selectedTimeZone) {\r\n        this.newValues[\"companySettings\"][\"timeZone\"] =\r\n          this.selectedTimeZone[\"code\"];\r\n      }\r\n      if (this.selectPrimaryLanguage) {\r\n        this.newValues[\"companySettings\"][\"primaryLanguage\"] =\r\n          this.selectPrimaryLanguage[\"code\"];\r\n      }\r\n      if (this.selectThemes) {\r\n        this.newValues[\"companySettings\"][\"themes\"] = this.selectThemes[\"code\"];\r\n      }\r\n      if (this.selectNumberFormat) {\r\n        this.newValues[\"companySettings\"][\"numberFormat\"] =\r\n          this.selectNumberFormat[\"code\"];\r\n      }\r\n      if (this.selectDateFormat) {\r\n        this.newValues[\"companySettings\"][\"dateFormat\"] =\r\n          this.selectDateFormat[\"code\"];\r\n      }\r\n      if (this.selectAccounting) {\r\n        this.newValues[\"accountsSettings\"][\"accounting\"] =\r\n          this.selectAccounting[\"code\"];\r\n      }\r\n      if (this.companyLogoName) {\r\n        this.newValues[\"companySettings\"][\"companyLogoName\"] =\r\n          this.companyLogoName;\r\n      }\r\n\r\n      // this.newValues[\"remittanceSettings\"][\"requiredDualCounter\"] =\r\n      //   this.selectRequiredDualCounter[\"name\"];\r\n      // this.newValues[\"loginSettings\"][\"captchaRequired\"] =\r\n      //   this.selectCaptchaRequired[\"name\"];\r\n      // this.newValues[\"loginSettings\"][\"passwordPolicy\"] =\r\n      //   this.selectPasswordPolicy[\"name\"];\r\n      if (this.selectRequiredDualCounter[\"name\"] === \"YES\") {\r\n        this.newValues[\"remittanceSettings\"][\"requiredDualCounter\"] = \"Y\";\r\n      } else {\r\n        this.newValues[\"remittanceSettings\"][\"requiredDualCounter\"] = \"N\";\r\n      }\r\n      if (this.selectCaptchaRequired[\"name\"] === \"YES\") {\r\n        this.newValues[\"loginSettings\"][\"captchaRequired\"] = \"Y\";\r\n      } else {\r\n        this.newValues[\"loginSettings\"][\"captchaRequired\"] = \"N\";\r\n      }\r\n      if (this.selectPasswordPolicy[\"name\"] === \"YES\") {\r\n        this.newValues[\"loginSettings\"][\"passwordPolicy\"] = \"Y\";\r\n      } else {\r\n        this.newValues[\"loginSettings\"][\"passwordPolicy\"] = \"N\";\r\n      }\r\n\r\n      this.newValues[\"companySettings\"][\"companyName\"] =\r\n        this.upperCaseSpaceFormat(\r\n          this.newValues[\"companySettings\"][\"companyName\"]\r\n        );\r\n      this.newValues[\"companySettings\"][\"buildingNumber\"] =\r\n        this.upperCaseSpaceFormat(\r\n          this.newValues[\"companySettings\"][\"buildingNumber\"]\r\n        );\r\n      this.newValues[\"companySettings\"][\"blockNumber\"] =\r\n        this.upperCaseSpaceFormat(\r\n          this.newValues[\"companySettings\"][\"blockNumber\"]\r\n        );\r\n      this.newValues[\"companySettings\"][\"streetName\"] =\r\n        this.upperCaseSpaceFormat(\r\n          this.newValues[\"companySettings\"][\"streetName\"]\r\n        );\r\n\r\n      if (\r\n        !this.newValues[\"companySettings\"][\"companyName\"] ||\r\n        this.newValues[\"companySettings\"][\"companyName\"] === \"\"\r\n      ) {\r\n        companyNameMissing = true;\r\n      }\r\n      if (\r\n        !this.newValues[\"companySettings\"][\"country\"] ||\r\n        this.newValues[\"companySettings\"][\"country\"] === \"\"\r\n      ) {\r\n        countryMissing = true;\r\n      }\r\n      if (\r\n        !this.newValues[\"companySettings\"][\"timeZone\"] ||\r\n        this.newValues[\"companySettings\"][\"timeZone\"] === \"\"\r\n      ) {\r\n        timeZoneMissing = true;\r\n      }\r\n      if (\r\n        !this.newValues[\"companySettings\"][\"streetName\"] ||\r\n        this.newValues[\"companySettings\"][\"streetName\"] === \"\"\r\n      ) {\r\n        streetNameMissing = true;\r\n      }\r\n      if (\r\n        !this.newValues[\"companySettings\"][\"blockNumber\"] ||\r\n        this.newValues[\"companySettings\"][\"blockNumber\"] === \"\"\r\n      ) {\r\n        blockNumberMissing = true;\r\n      }\r\n      if (\r\n        !this.newValues[\"companySettings\"][\"buildingNumber\"] ||\r\n        this.newValues[\"companySettings\"][\"buildingNumber\"] === \"\"\r\n      ) {\r\n        houseNumberMissing = true;\r\n      }\r\n      if (\r\n        !this.newValues[\"companySettings\"][\"baseCurrency\"] ||\r\n        this.newValues[\"companySettings\"][\"baseCurrency\"] === \"\"\r\n      ) {\r\n        baseCurrencyMissing = true;\r\n      }\r\n      if (\r\n        !this.newValues[\"companySettings\"][\"primaryBaseCurrency\"] ||\r\n        this.newValues[\"companySettings\"][\"primaryBaseCurrency\"] === \"\"\r\n      ) {\r\n        primaryBaseCurrencyMissing = true;\r\n      }\r\n      if (\r\n        !this.newValues[\"companySettings\"][\"crossCurrency\"] ||\r\n        this.newValues[\"companySettings\"][\"crossCurrency\"] === \"\"\r\n      ) {\r\n        crossCurrencyMissing = true;\r\n      }\r\n      if (\r\n        !this.newValues[\"companySettings\"][\"primaryLanguage\"] ||\r\n        this.newValues[\"companySettings\"][\"primaryLanguage\"] === \"\"\r\n      ) {\r\n        primaryLanguageMissing = true;\r\n      }\r\n      if (\r\n        !this.newValues[\"accountsSettings\"][\"accounting\"] ||\r\n        this.newValues[\"accountsSettings\"][\"accounting\"] === \"\"\r\n      ) {\r\n        accountingMissing = true;\r\n      }\r\n      if (\r\n        !this.newValues[\"loginSettings\"][\"captchaRequired\"] ||\r\n        this.newValues[\"loginSettings\"][\"captchaRequired\"] === \"\"\r\n      ) {\r\n        captchaRequiredMissing = true;\r\n      }\r\n      if (\r\n        !this.newValues[\"loginSettings\"][\"passwordPolicy\"] ||\r\n        this.newValues[\"loginSettings\"][\"passwordPolicy\"] === \"\"\r\n      ) {\r\n        setPasswordPolicyMissing = true;\r\n      }\r\n    }\r\n\r\n    console.log(\"save\", this.newValues);\r\n    if (!this.isValidEmailFormat(this.companyFormN.companySettings.emailId)) {\r\n      this.coreService.removeLoadingScreen();\r\n      this.coreService.showWarningToast(\"Please enter a valid email format.\");\r\n      return; // Stop execution here if email format is invalid\r\n    } else if (companyNameMissing) {\r\n      this.coreService.removeLoadingScreen();\r\n      this.coreService.showWarningToast(\"Please fill the Company Name.\");\r\n    } else if (countryMissing) {\r\n      this.coreService.removeLoadingScreen();\r\n      this.coreService.showWarningToast(\"Please select the Country.\");\r\n    } else if (houseNumberMissing) {\r\n      this.coreService.removeLoadingScreen();\r\n      this.coreService.showWarningToast(\r\n        \"Please fill the House/Buiding Number.\"\r\n      );\r\n    } else if (blockNumberMissing) {\r\n      this.coreService.removeLoadingScreen();\r\n      this.coreService.showWarningToast(\"Please fill the Block Number.\");\r\n    } else if (streetNameMissing) {\r\n      this.coreService.removeLoadingScreen();\r\n      this.coreService.showWarningToast(\"Please fill the Street Name.\");\r\n    } else if (timeZoneMissing) {\r\n      this.coreService.removeLoadingScreen();\r\n      this.coreService.showWarningToast(\"Please select the Time Zone.\");\r\n    } else if (baseCurrencyMissing) {\r\n      this.coreService.removeLoadingScreen();\r\n      this.coreService.showWarningToast(\"Please select the Base Currency.\");\r\n    } else if (primaryBaseCurrencyMissing) {\r\n      this.coreService.removeLoadingScreen();\r\n      this.coreService.showWarningToast(\r\n        \"Please select the Primary Base Currency.\"\r\n      );\r\n    } else if (crossCurrencyMissing) {\r\n      this.coreService.removeLoadingScreen();\r\n      this.coreService.showWarningToast(\"Please select the Cross Currency.\");\r\n    } else if (primaryLanguageMissing) {\r\n      this.coreService.removeLoadingScreen();\r\n      this.coreService.showWarningToast(\"Please select the Primary Language.\");\r\n    } else if (accountingMissing) {\r\n      this.coreService.removeLoadingScreen();\r\n      this.coreService.showWarningToast(\"Please select the Accounting.\");\r\n    } else if (captchaRequiredMissing) {\r\n      this.coreService.removeLoadingScreen();\r\n      this.coreService.showWarningToast(\"Please select the Captcha Required.\");\r\n    } else if (setPasswordPolicyMissing) {\r\n      this.coreService.removeLoadingScreen();\r\n      this.coreService.showWarningToast(\r\n        \"Please select the Set Password Policy.\"\r\n      );\r\n    } else {\r\n      let service;\r\n      if (this.mode == \"edit\") {\r\n        let data = this.newValues;\r\n\r\n        service = this.compamnyService.updateCompanySettings(data, this.userId);\r\n        console.log(\"::\", data);\r\n      } else {\r\n        let data = this.newValues;\r\n        console.log(\"saveeee\", data);\r\n        service = this.compamnyService.saveCompanySettings(data, this.userId);\r\n      }\r\n\r\n      if (service) {\r\n        service.subscribe(\r\n          (res) => {\r\n            if (\r\n              res[\"status\"] &&\r\n              typeof res[\"status\"] == \"string\" &&\r\n              (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n            ) {\r\n              if (res[\"error\"]) {\r\n                this.coreService.showWarningToast(res[\"error\"]);\r\n              } else {\r\n                this.coreService.showWarningToast(\r\n                  \"Something went wrong, Please try again later\"\r\n                );\r\n              }\r\n            } else {\r\n              if (res[\"msg\"]) {\r\n                this.coreService.showSuccessToast(res.msg);\r\n                this.coreService.removeLoadingScreen();\r\n                this.getCompanySettingsData();\r\n              }\r\n            }\r\n          },\r\n          (err) => {\r\n            this.coreService.removeLoadingScreen();\r\n            console.log(\"error in save\", err);\r\n            this.coreService.showWarningToast(\r\n              \"Something went wrong, Please try again later\"\r\n            );\r\n          }\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  setHeaderSidebarBtn() {\r\n    this.coreService.displayLoadingScreen();\r\n    setTimeout(() => {\r\n      this.coreService.setHeaderStickyStyle(true);\r\n      this.coreService.setSidebarBtnFixedStyle(true);\r\n    }, 500);\r\n    setTimeout(() => {\r\n      this.coreService.removeLoadingScreen();\r\n    }, 1000);\r\n  }\r\n\r\n  onReset() {\r\n    this.coreService.setSidebarBtnFixedStyle(false);\r\n    this.confirmationService.confirm({\r\n      message: \"Are you sure, you want to clear applied changes ?\",\r\n      key: \"resetCompanySettingsConfirmation\",\r\n      accept: () => {\r\n        this.setHeaderSidebarBtn();\r\n        this.companyFormN = {\r\n          clientCode: \"CMX000091\",\r\n          licenseCountry: \"In\",\r\n          status: \"A\",\r\n          companySettings: {\r\n            companyName: \"\",\r\n            buildingNumber: \"\",\r\n            blockNumber: \"\",\r\n            streetName: \"\",\r\n            pinCode: \"\",\r\n            timeZone: \"\",\r\n            emailId: \"\",\r\n            mobileNumber: \"\",\r\n            phoneNumber: \"\",\r\n            companyLogo: \"\",\r\n            companyLogoName: \"\",\r\n            country: \"\",\r\n            baseCurrency: \"\",\r\n            primaryBaseCurrency: \"\",\r\n            crossCurrency: \"\",\r\n            numberFormat: \"\",\r\n            dateFormat: \"\",\r\n            primaryLanguage: \"\",\r\n            themes: \"\",\r\n          },\r\n          remittanceSettings: {\r\n            requiredDualCounter: \"\",\r\n            prefixForRemittanceRefNo: \"\",\r\n            correspondentRouting: \"\",\r\n            autoRoutingTypeCode: \"\",\r\n            showRateViewInRemittance: \"\",\r\n            allowNewCustomerAdditionFromRemittance: \"\",\r\n            allowCustomerProfileEditFromRemittance: \"\",\r\n            allowBeneficiaryProfileEditFromRemittance: \"\",\r\n            allowSpecialRateRequestFromRemittance: \"\",\r\n            allowBufferInRateToTeller: \"\",\r\n            allowOnAccountFacility: \"\",\r\n            allowSpecialDiscountRate: \"\",\r\n            allowCreditFacility: \"\",\r\n          },\r\n          accountsSettings: {\r\n            prefixForBankVoucherNumber: \"\",\r\n            prefixForCashVoucherNumber: \"\",\r\n            accounting: \"\",\r\n          },\r\n          forexSettings: {\r\n            prefixForForexRefNo: \"\",\r\n          },\r\n          incomingSettings: {\r\n            prefixForIncomingRefNo: \"\",\r\n          },\r\n          loginSettings: {\r\n            captchaRequired: \"\",\r\n            passwordPolicy: \"\",\r\n          },\r\n        };\r\n        this.selectedcountry = [];\r\n        this.selectedBaseCurrencies = [];\r\n        this.selectCrossCurrency = [];\r\n        this.selectedPrimaryBaseCurrency = \"\";\r\n        this.selectPrimaryLanguage = \"\";\r\n        this.selectThemes = \"\";\r\n        this.selectNumberFormat = \"\";\r\n        this.selectDateFormat = \"\";\r\n        this.selectAccounting = \"\";\r\n        this.selectedTimeZone = \"\";\r\n        this.selectCaptchaRequired = \"\";\r\n        this.selectPasswordPolicy = \"\";\r\n        this.autoRoutingOptions = [];\r\n      },\r\n      reject: () => {\r\n        this.confirmationService.close;\r\n        this.setHeaderSidebarBtn();\r\n      },\r\n    });\r\n  }\r\n\r\n  getDropdownOptions() {\r\n    //1\r\n    this.compamnyService.getAccountingMasterData().subscribe(\r\n      (res) => {\r\n        this.accountingOptions = res[\"data\"][\"accounting\"].map((data) => {\r\n          return {\r\n            name: data.codeName,\r\n            code: data.code,\r\n          };\r\n        });\r\n      },\r\n      (err) => {\r\n        this.coreService.showWarningToast(\r\n          \"Some error while fetching doc data, Try again in sometime\"\r\n        );\r\n      }\r\n    );\r\n    //2\r\n    this.compamnyService.getAuthenticationTypeMasterData().subscribe(\r\n      (res) => {},\r\n      (err) => {\r\n        this.coreService.showWarningToast(\r\n          \"Some error while fetching doc data, Try again in sometime\"\r\n        );\r\n      }\r\n    );\r\n    //3\r\n    this.compamnyService.getDateFormatMasterData().subscribe(\r\n      (res) => {\r\n        this.dateFormatOptions = res[\"data\"][\"dateFormat\"].map((data) => {\r\n          return {\r\n            name: data.codeName,\r\n            code: data.code,\r\n          };\r\n        });\r\n      },\r\n      (err) => {\r\n        this.coreService.showWarningToast(\r\n          \"Some error while fetching doc data, Try again in sometime\"\r\n        );\r\n      }\r\n    );\r\n    //4\r\n    this.compamnyService.getNumberFormatMasterData().subscribe(\r\n      (res) => {\r\n        this.numberFormatOptions = res[\"data\"][\"numberFormat\"].map((data) => {\r\n          return {\r\n            name: data.codeName,\r\n            code: data.code,\r\n          };\r\n        });\r\n      },\r\n      (err) => {\r\n        this.coreService.showWarningToast(\r\n          \"Some error while fetching doc data, Try again in sometime\"\r\n        );\r\n      }\r\n    );\r\n    //5\r\n    this.compamnyService.getAutoRoutingTypeMasterData().subscribe(\r\n      (res) => {\r\n        this.autoRoutingOptions = res[\"data\"][\"autoRouting\"];\r\n      },\r\n      (err) => {\r\n        this.coreService.showWarningToast(\r\n          \"Some error while fetching doc data, Try again in sometime\"\r\n        );\r\n      }\r\n    );\r\n    //6\r\n    this.compamnyService.getSystemCurrencyMasterData().subscribe(\r\n      (res) => {\r\n        this.baseCurrencyOptions = res[\"data\"][\"baseCurrency\"].map((data) => {\r\n          return {\r\n            name: data.currency,\r\n            code: data.code,\r\n          };\r\n        });\r\n        this.crossCurrencyOptions = res[\"data\"][\"crossCurrency\"].map((data) => {\r\n          return {\r\n            name: data.currency,\r\n            code: data.code,\r\n          };\r\n        });\r\n      },\r\n      (err) => {\r\n        this.coreService.showWarningToast(\r\n          \"Some error while fetching doc data, Try again in sometime\"\r\n        );\r\n      }\r\n    );\r\n    //7\r\n    this.compamnyService.getSystemLanguageMasterData().subscribe(\r\n      (res) => {\r\n        this.primaryLanguageOptions = res[\"data\"][\"primaryLanguage\"].map(\r\n          (data) => {\r\n            return {\r\n              name: data.languageName,\r\n              code: data.code,\r\n            };\r\n          }\r\n        );\r\n      },\r\n      (err) => {\r\n        this.coreService.showWarningToast(\r\n          \"Some error while fetching doc data, Try again in sometime\"\r\n        );\r\n      }\r\n    );\r\n    //8\r\n    this.compamnyService.getYesNoMasterData().subscribe(\r\n      (res) => {\r\n        this.requiredDualCounterOptions = res[\"data\"][\r\n          \"requiredDualCounter\"\r\n        ].map((data) => {\r\n          return {\r\n            name: data.codeName,\r\n            code: data.code,\r\n          };\r\n        });\r\n        this.setPasswordPolicyOptions = res[\"data\"][\"setPasswordPolicy\"].map(\r\n          (data) => {\r\n            return {\r\n              name: data.codeName,\r\n              code: data.code,\r\n            };\r\n          }\r\n        );\r\n        this.captchaRequiredOptions = res[\"data\"][\"captchaRequired\"].map(\r\n          (data) => {\r\n            return {\r\n              name: data.codeName,\r\n              code: data.code,\r\n            };\r\n          }\r\n        );\r\n      },\r\n      (err) => {\r\n        this.coreService.showWarningToast(\r\n          \"Some error while fetching doc data, Try again in sometime\"\r\n        );\r\n      }\r\n    );\r\n    //9\r\n    this.compamnyService.getSystemCountryMasterData().subscribe(\r\n      (res) => {\r\n        this.countryOptions = res[\"data\"][\"country\"].map((data) => {\r\n          return {\r\n            name: data.country,\r\n            code: data.code,\r\n          };\r\n        });\r\n        this.timeZoneOptions = res[\"data\"][\"country\"].map((data) => {\r\n          return {\r\n            name: data.timeZone,\r\n            code: data.code,\r\n          };\r\n        });\r\n      },\r\n      (err) => {\r\n        this.coreService.showWarningToast(\r\n          \"Some error while fetching doc data, Try again in sometime\"\r\n        );\r\n      }\r\n    );\r\n    //10\r\n    this.compamnyService.getSystemThemeMasterData().subscribe(\r\n      (res) => {\r\n        this.themeOptions = res[\"data\"][\"theme\"].map((data) => {\r\n          return {\r\n            name: data.codeName,\r\n            code: data.code,\r\n          };\r\n        });\r\n      },\r\n      (err) => {\r\n        this.coreService.showWarningToast(\r\n          \"Some error while fetching doc data, Try again in sometime\"\r\n        );\r\n      }\r\n    );\r\n    //11\r\n    this.compamnyService.getPasswordSpecialCharacterMasterData().subscribe(\r\n      (res) => {},\r\n      (err) => {\r\n        this.coreService.showWarningToast(\r\n          \"Some error while fetching doc data, Try again in sometime\"\r\n        );\r\n      }\r\n    );\r\n  }\r\n}\r\n","<div\r\n          class=\"custom-form\"\r\n          \r\n        >\r\n        <div class=\"row\">\r\n          <div class=\"col-xs-12 col-sm-6 col-md-12 col-lg-12 \">\r\n\r\n            <div class=\"expandAll right\">\r\n              <p>\r\n                Fields marked with <span class=\"required\">*</span> are mandatory \r\n              </p>\r\n              <button\r\n              pButton\r\n              pRipple\r\n              type=\"button\"\r\n              label=\"Expand All\"\r\n              class=\"p-button-raised\"\r\n              (click)=\"expandAll()\"\r\n              [disabled]=\"deactivated\"\r\n            ></button>\r\n            </div>\r\n          </div>\r\n          <ng-container>\r\n            <p-panel header=\"Basic Details\" [toggleable]=\"true\" [collapsed]=\"toggleCollapsed\">\r\n              <div class=\"row\">\r\n                <ng-container>\r\n                  <div class=\"'col-xs-12 col-sm-6 col-md-4 col-lg-2 p-2 fieldForm'\">\r\n                    <label> Company Name </label><span class=\"required\">*</span> \r\n                    <img\r\n                    height=\"15px\"\r\n                    src=\"../assets/Icon-info.svg\"\r\n                    alt=\"\"\r\n                    [pTooltip]=\"'Legal Name of your company'\"\r\n                  />\r\n                    <input type=\"text\" class=\"block\" pInputText [(ngModel)]=\"companyFormN.companySettings.companyName\"\r\n                     (change)=\"onChange('basicDetails', 'text','companyName', $event)\" [ngStyle]=\"{\r\n                      paddingLeft: '', \r\n                      paddingRight: ''\r\n                    }\" />\r\n                      \r\n                  </div>\r\n                  <div class=\"'col-xs-12 col-sm-6 col-md-4 col-lg-2 p-2 fieldForm'                        \">\r\n                    <label>\r\n                      Country\r\n                    </label><span class=\"required\">*</span>\r\n                    <img\r\n                    height=\"15px\"\r\n                    src=\"../assets/Icon-info.svg\"\r\n                    alt=\"\"\r\n                    [pTooltip]=\"'Country of Operation / Head Office of your company'\"\r\n                  />\r\n                      <p-multiSelect class=\"block\" \r\n                 [options]=\"countryOptions\" \r\n                 placeholder=\"Type to search\" \r\n                 optionLabel=\"name\" \r\n                 [appendTo]=\"'body'\"\r\n                 [filter]=\"true\" \r\n                 filterBy=\"name\" \r\n                 [virtualScroll]=\"true\" \r\n                 [virtualScrollItemSize]=\"35\"\r\n                 panelStyleClass=\"formFields-dropdown\"\r\n                 [(ngModel)]=\"selectedcountry\"> <!-- Bind selected values to a variable -->\r\n    <ng-template let-options pTemplate=\"item\">\r\n      <div class=\"truncate-text\">\r\n        <div>{{ options.name }}</div>\r\n      </div>\r\n    </ng-template>\r\n  </p-multiSelect>\r\n                  </div>\r\n                 \r\n                  <div class=\"'col-xs-12 col-sm-6 col-md-4 col-lg-2 p-2 fieldForm'\">\r\n                    <label> House/Building Number </label><span class=\"required\">*</span>\r\n                    <input type=\"text\" class=\"block\" pInputText [(ngModel)]=\"companyFormN.companySettings.buildingNumber\"\r\n                     (change)=\"onChange('basicDetails', 'text','buildingNumber', $event)\" [ngStyle]=\"{\r\n                      paddingLeft: '', \r\n                      paddingRight: ''\r\n                    }\" />\r\n                      \r\n                  </div>\r\n                  <div class=\"'col-xs-12 col-sm-6 col-md-4 col-lg-2 p-2 fieldForm'\">\r\n                    <label> Block Number </label><span class=\"required\">*</span>\r\n                    <input type=\"text\" class=\"block\" pInputText [(ngModel)]=\"companyFormN.companySettings.blockNumber\"\r\n                     (change)=\"onChange('basicDetails', 'text','blockNumber', $event)\" [ngStyle]=\"{\r\n                      paddingLeft: '', \r\n                      paddingRight: ''\r\n                    }\" />\r\n                      \r\n                  </div>\r\n                  <div class=\"'col-xs-12 col-sm-6 col-md-4 col-lg-2 p-2 fieldForm'                        \">\r\n                    <label>\r\n                      Street Name\r\n                    </label><span class=\"required\">*</span>\r\n                    <input type=\"text\" class=\"block\" pInputText [(ngModel)]=\"companyFormN.companySettings.streetName\"\r\n                    (change)=\"onChange('basicDetails', 'text','pinCode', $event)\" [ngStyle]=\"{\r\n                     paddingLeft: '', \r\n                     paddingRight: ''\r\n                   }\" />\r\n                  </div>\r\n                  <div class=\"'col-xs-12 col-sm-6 col-md-4 col-lg-2 p-2 fieldForm'\">\r\n                    <label> Pin Code/Zip Code </label>\r\n                    <p-inputNumber class=\"contactNumber\" mode=\"decimal\" inputId=\"withoutgrouping\" [useGrouping]=\"false\"\r\n                    [(ngModel)]=\"companyFormN.companySettings.pinCode\"\r\n                     (change)=\"onChange('basicDetails', 'text','pinCode', $event)\">\r\n                    </p-inputNumber>\r\n                  </div>\r\n                  <div class=\"'col-xs-12 col-sm-6 col-md-4 col-lg-2 p-2 fieldForm'                        \">\r\n                    <label>\r\n                      Time Zone\r\n                    </label><span class=\"required\">*</span>\r\n                    <p-dropdown class=\"block\" placeholder=\"select\"  [options]=\"timeZoneOptions\" optionLabel=\"name\" [appendTo]=\"'body'\" \r\n                    [(ngModel)]=\"selectedTimeZone\"\r\n                      [filter]=\"true\" filterBy=\"name\" [virtualScroll]=\"true\" [virtualScrollItemSize]=\"35\"\r\n                      panelStyleClass=\"formFields-dropdown\" >\r\n                      <ng-template let-options pTemplate=\"item\">\r\n                        <div class=\"truncate-text\">\r\n                          <div>{{ options.name }}</div>\r\n                        </div>\r\n                      </ng-template></p-dropdown>\r\n                  </div>\r\n                  <div class=\"'col-xs-12 col-sm-6 col-md-4 col-lg-2 p-2 fieldForm'\">\r\n                    <label> Email </label>\r\n                    <img\r\n                    height=\"15px\"\r\n                    src=\"../assets/Icon-info.svg\"\r\n                    alt=\"\"\r\n                    [pTooltip]=\"'Official email address of your company’s administrator. Enter multiple address using semi-colon ( ; )'\"\r\n                  />\r\n                    <input type=\"text\" class=\"block\" pInputText [(ngModel)]=\"companyFormN.companySettings.emailId\"\r\n                     (change)=\"onChange('basicDetails', 'text','emailId', $event)\"\r\n                     [ngModelOptions]=\"{updateOn: 'blur'}\" \r\n                     [ngStyle]=\"{\r\n                      paddingLeft: '', \r\n                      paddingRight: ''\r\n                    }\" />\r\n                      \r\n                  </div>\r\n                  <div class=\"'col-xs-12 col-sm-6 col-md-4 col-lg-2 p-2 fieldForm'\">\r\n                    <label> Mobile Number </label>\r\n                    <img\r\n                    height=\"15px\"\r\n                    src=\"../assets/Icon-info.svg\"\r\n                    alt=\"\"\r\n                    [pTooltip]=\"'Official mobile number of your company. Enter multiple number using semi-colon ( ; )'\"\r\n                  />\r\n           <p-inputNumber class=\"contactNumber\" mode=\"decimal\" inputId=\"withoutgrouping\" [useGrouping]=\"false\"\r\n           [(ngModel)]=\"companyFormN.companySettings.mobileNumber\"\r\n           (change)=\"onChange('basicDetails', 'text','mobileNumber', $event)\">\r\n           </p-inputNumber>     \r\n                  </div>\r\n                  <div class=\"'col-xs-12 col-sm-6 col-md-4 col-lg-2 p-2 fieldForm'\">\r\n                    <label> Phone Number </label>\r\n                    <img\r\n                    height=\"15px\"\r\n                    src=\"../assets/Icon-info.svg\"\r\n                    alt=\"\"\r\n                    [pTooltip]=\"'Official phone number of your company. Enter multiple (number) using semi-colon ( ; )'\"\r\n                  />\r\n                    <p-inputNumber class=\"contactNumber\" mode=\"decimal\" inputId=\"withoutgrouping\" [useGrouping]=\"false\"\r\n                    [(ngModel)]=\"companyFormN.companySettings.phoneNumber\"\r\n                     (change)=\"onChange('basicDetails', 'text','phoneNumber', $event)\">\r\n                    </p-inputNumber>      \r\n                  </div>\r\n                  <div class=\"'col-xs-12 col-sm-6 col-md-4 col-lg-2 p-2 fieldForm'\">\r\n                    <label> Company Logo </label>\r\n                    <img\r\n                      height=\"15px\"\r\n                      src=\"../assets/Icon-info.svg\"\r\n                      alt=\"\"\r\n                      [pTooltip]=\"'Upload your Company’s logo to display on CASMEX'\"\r\n                    />\r\n                    <div class=\"file-upload\">\r\n                      <div #inpSelect class=\"file-upload-select\" (click)=\"inpFile.click()\">\r\n                        <div class=\"file-select-name\">\r\n                          <input type=\"text\" [(ngModel)]=\"companyLogoName\" />\r\n                        </div>\r\n                        <div class=\"file-select-button\">\r\n                          <i class=\"pi pi-upload\"></i>\r\n                        </div>\r\n                        <input\r\n                          #inpFile\r\n                          onclick=\"this.value=null;\"\r\n                          (focus)=\"setUploadBtnStyle(true, inpSelect)\"\r\n                          (blur)=\"setUploadBtnStyle(false, inpSelect)\"\r\n                          (change)=\"onFileSelected($event)\"\r\n                          type=\"file\"\r\n                          name=\"file-upload-input\"\r\n                          id=\"file-upload-input\"\r\n                          [accept]=\"'.png, .jpg'\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </ng-container>\r\n              </div>\r\n            </p-panel>\r\n            <p-panel header=\"Operational Details\" [toggleable]=\"true\" [collapsed]=\"toggleCollapsed\">\r\n              <div class=\"row\">\r\n                <ng-container>\r\n                  <div class=\"'col-xs-12 col-sm-6 col-md-4 col-lg-2 p-2 fieldForm'\">\r\n                    <label> Base Currency </label><span class=\"required\">*</span>\r\n                    <img\r\n                    height=\"15px\"\r\n                    src=\"../assets/Icon-info.svg\"\r\n                    alt=\"\"\r\n                    [pTooltip]=\"'Select applicable base currency/s for your company. Multiple selection allowed from the drop-down'\"\r\n                  />\r\n                    <p-multiSelect class=\"block\" \r\n                    [options]=\"baseCurrencyOptions\" \r\n                    placeholder=\"Type to search\" \r\n                    optionLabel=\"name\" \r\n                    [appendTo]=\"'body'\"\r\n                    [filter]=\"true\" \r\n                    filterBy=\"name\" \r\n                    [virtualScroll]=\"true\" \r\n                    [virtualScrollItemSize]=\"35\"\r\n                    panelStyleClass=\"formFields-dropdown\"\r\n                    [(ngModel)]=\"selectedBaseCurrencies\"\r\n                    (onChange)=\"updatePrimaryBaseCurrencyOptions($event.value)\"> \r\n       <ng-template let-options pTemplate=\"item\">\r\n         <div class=\"truncate-text\">\r\n           <div>{{ options.name }}</div>\r\n         </div>\r\n       </ng-template>\r\n     </p-multiSelect>\r\n                      \r\n                  </div>\r\n                  <div class=\"'col-xs-12 col-sm-6 col-md-4 col-lg-2 p-2 fieldForm'                        \">\r\n                    <label>\r\n                      Primary Base Currency\r\n                    </label><span class=\"required\">*</span>\r\n                    <img\r\n                    height=\"15px\"\r\n                    src=\"../assets/Icon-info.svg\"\r\n                    alt=\"\"\r\n                    [pTooltip]=\"'Select primary base currency from the selected base currencies'\"\r\n                  />\r\n                   \r\n     <p-dropdown class=\"block\" placeholder=\"Type to search\"  [options]=\"primaryBaseCurrencyOptions\" optionLabel=\"name\" [appendTo]=\"'body'\"\r\n     [filter]=\"true\" filterBy=\"name\" [virtualScroll]=\"true\" [virtualScrollItemSize]=\"35\"\r\n     [(ngModel)]=\"selectedPrimaryBaseCurrency\"\r\n     panelStyleClass=\"formFields-dropdown\">\r\n     <ng-template let-options pTemplate=\"item\">\r\n       <div class=\"truncate-text\">\r\n         <div>{{ options.name }}</div>\r\n       </div>\r\n     </ng-template></p-dropdown>\r\n                  </div>\r\n                 \r\n                  <div class=\"'col-xs-12 col-sm-6 col-md-4 col-lg-2 p-2 fieldForm'\">\r\n                    <label> Cross Currency </label><span class=\"required\">*</span>\r\n                    <img\r\n                    height=\"15px\"\r\n                    src=\"../assets/Icon-info.svg\"\r\n                    alt=\"\"\r\n                    [pTooltip]=\"'Select applicable cross currency for settlement. Multiple selection allowed from the drop-down'\"\r\n                  />\r\n                    <p-multiSelect class=\"block\" \r\n                    [options]=\"crossCurrencyOptions\" \r\n                    placeholder=\"Type to search\" \r\n                    optionLabel=\"name\" \r\n                    [appendTo]=\"'body'\"\r\n                    [filter]=\"true\" \r\n                    filterBy=\"name\" \r\n                    [virtualScroll]=\"true\" \r\n                    [virtualScrollItemSize]=\"35\"\r\n                    panelStyleClass=\"formFields-dropdown\"\r\n                    [(ngModel)]=\"selectCrossCurrency\"> <!-- Bind selected values to a variable -->\r\n       <ng-template let-options pTemplate=\"item\">\r\n         <div class=\"truncate-text\">\r\n           <div>{{ options.name }}</div>\r\n         </div>\r\n       </ng-template>\r\n     </p-multiSelect>\r\n                      \r\n                  </div>\r\n                  <div class=\"'col-xs-12 col-sm-6 col-md-4 col-lg-2 p-2 fieldForm'\">\r\n                    <label> Number Format </label>\r\n                    <img\r\n                    height=\"15px\"\r\n                    src=\"../assets/Icon-info.svg\"\r\n                    alt=\"\"\r\n                    [pTooltip]=\"'Select the number format in which amount will be displayed in all fields'\"\r\n                  />\r\n                    <p-dropdown class=\"block\" placeholder=\"select\"  [options]=\"numberFormatOptions\" optionLabel=\"name\" [appendTo]=\"'body'\"\r\n                    [filter]=\"true\" filterBy=\"name\" [virtualScroll]=\"true\" [virtualScrollItemSize]=\"35\"\r\n                    [(ngModel)]=\"selectNumberFormat\"\r\n                    panelStyleClass=\"formFields-dropdown\">\r\n                    <ng-template let-options pTemplate=\"item\">\r\n                      <div class=\"truncate-text\">\r\n                        <div>{{ options.name }}</div>\r\n                      </div>\r\n                    </ng-template></p-dropdown>\r\n                      \r\n                  </div>\r\n                  <div class=\"'col-xs-12 col-sm-6 col-md-4 col-lg-2 p-2 fieldForm'                        \">\r\n                    <label>\r\n                      Date Dormat\r\n                    </label>\r\n                    <img\r\n                    height=\"15px\"\r\n                    src=\"../assets/Icon-info.svg\"\r\n                    alt=\"\"\r\n                    [pTooltip]=\"'Select the date format in which date will be displayed in all fields'\"\r\n                  />\r\n                    <p-dropdown class=\"block\" placeholder=\"select\"  [options]=\"dateFormatOptions\" optionLabel=\"name\" [appendTo]=\"'body'\"\r\n                      [filter]=\"true\" filterBy=\"name\" [virtualScroll]=\"true\" [virtualScrollItemSize]=\"35\"\r\n                      [(ngModel)]=\"selectDateFormat\"\r\n                    (change)=\"onChange('basicDetails', 'text','dateFormat', $event)\"\r\n                      panelStyleClass=\"formFields-dropdown\">\r\n                      <ng-template let-options pTemplate=\"item\">\r\n                        <div class=\"truncate-text\">\r\n                          <div>{{ options.name }}</div>\r\n                        </div>\r\n                      </ng-template></p-dropdown>\r\n                  </div>\r\n                 \r\n                </ng-container>\r\n              </div>\r\n            </p-panel>\r\n            <p-panel header=\"Appearance Settings\" [toggleable]=\"true\" [collapsed]=\"toggleCollapsed\">\r\n              <div class=\"row\">\r\n                <ng-container>\r\n                  <div class=\"'col-xs-12 col-sm-6 col-md-4 col-lg-2 p-2 fieldForm'\">\r\n                    <label> Primary Language </label><span class=\"required\">*</span>\r\n                    <img\r\n                    height=\"15px\"\r\n                    src=\"../assets/Icon-info.svg\"\r\n                    alt=\"\"\r\n                    [pTooltip]=\"'Select the primary language in which system will be used'\"\r\n                  />\r\n                    <p-dropdown class=\"block\" placeholder=\"select\"  [options]=\"primaryLanguageOptions\"  optionLabel=\"name\" [appendTo]=\"'body'\"\r\n                      [filter]=\"true\" filterBy=\"name\" [virtualScroll]=\"true\" [virtualScrollItemSize]=\"35\"\r\n                      [(ngModel)]=\"selectPrimaryLanguage\"\r\n                      panelStyleClass=\"formFields-dropdown\">\r\n                      <ng-template let-options pTemplate=\"item\">\r\n                        <div class=\"truncate-text\">\r\n                          <div>{{ options.name }}</div>\r\n                        </div>\r\n                      </ng-template></p-dropdown>\r\n                      \r\n                  </div>\r\n                  <div class=\"'col-xs-12 col-sm-6 col-md-4 col-lg-2 p-2 fieldForm'                        \">\r\n                    <label>\r\n                      Theme\r\n                    </label>\r\n                    <img\r\n                    height=\"15px\"\r\n                    src=\"../assets/Icon-info.svg\"\r\n                    alt=\"\"\r\n                    [pTooltip]=\"'Select the theme in which the system features will be displayed'\"\r\n                  />\r\n                    <p-dropdown class=\"block\" [options]=\"themeOptions\" placeholder=\"select\" optionLabel=\"name\" [appendTo]=\"'body'\"\r\n                      [filter]=\"true\" filterBy=\"name\" [virtualScroll]=\"true\" [virtualScrollItemSize]=\"35\"\r\n                      [(ngModel)]=\"selectThemes\"\r\n                      panelStyleClass=\"formFields-dropdown\">\r\n                      <ng-template let-options pTemplate=\"item\">\r\n                        <div class=\"truncate-text\">\r\n                          <div>{{ options.name }}</div>\r\n                        </div>\r\n                      </ng-template></p-dropdown>\r\n                  </div>\r\n                 \r\n                 \r\n                </ng-container>\r\n              </div>\r\n            </p-panel>\r\n          </ng-container>\r\n        </div>\r\n          <p-panel\r\n              header=\"Remittance Settings\"\r\n              [toggleable]=\"true\"\r\n              [collapsed]=\"toggleCollapsed\"\r\n            >\r\n            <div class=\"row\">\r\n              <ng-container>\r\n                <div class=\"'col-xs-12 col-sm-6 col-md-4 col-lg-2 p-2 fieldForm'\">\r\n                  <label> Required Dual Counter </label>\r\n                  <img\r\n                  height=\"15px\"\r\n                  src=\"../assets/Icon-info.svg\"\r\n                  alt=\"\"\r\n                  [pTooltip]=\"'Select Yes if Teller and Cashier are different person else select NO'\"\r\n                />\r\n                  <p-dropdown class=\"block\" [options]=\"requiredDualCounterOptions\" [(ngModel)]=\"selectRequiredDualCounter\" placeholder=\"Type to search\" optionLabel=\"name\" [appendTo]=\"'body'\"\r\n                    [filter]=\"true\" filterBy=\"name\" [virtualScroll]=\"true\" [virtualScrollItemSize]=\"35\"\r\n                    panelStyleClass=\"formFields-dropdown\">\r\n                    <ng-template let-options pTemplate=\"item\">\r\n                      <div class=\"truncate-text\">\r\n                        <div>{{ options.name }}</div>\r\n                      </div>\r\n                    </ng-template></p-dropdown>\r\n                </div>\r\n                <div class=\"'col-xs-12 col-sm-6 col-md-4 col-lg-2 p-2 fieldForm'\">\r\n                  <label> Prefix for Remittence ref. No. </label>\r\n                  <input type=\"text\" class=\"block\" pInputText [(ngModel)]=\"companyFormN.remittanceSettings.prefixForRemittanceRefNo\"\r\n                   (change)=\"onChange('remittanceSettings', 'text','prefixForRemittanceRefNo', $event)\" [ngStyle]=\"{\r\n                    paddingLeft: '', \r\n                    paddingRight: ''\r\n                  }\" />\r\n                    \r\n                </div>\r\n                <div class=\"'col-xs-12 col-sm-6 col-md-4 col-lg-4 p-2 fieldForm'\">\r\n                  <label> Correspondent Routing </label>\r\n                  <img\r\n                  height=\"15px\"\r\n                  src=\"../assets/Icon-info.svg\"\r\n                  alt=\"\"\r\n                  [pTooltip]=\"'Select the default Correspondent routing to be adopted by the system'\"\r\n                />\r\n                  <div class=\"correspondentRadio\">\r\n                    <p-radioButton name=\"group\" value=\"Manual selection by the user\" [(ngModel)]=\"companyFormN.remittanceSettings.correspondentRouting\"></p-radioButton>\r\n                    <label for=\"option1\">Manual selection by the user</label>\r\n                  <!-- </div>\r\n                  \r\n                  <div> -->\r\n                    <p-radioButton name=\"group\" value=\"Auto selection by the system\" [(ngModel)]=\"companyFormN.remittanceSettings.correspondentRouting\"></p-radioButton>\r\n                    <label for=\"option2\">Auto selection by the system</label>\r\n                  </div>                    \r\n                </div>\r\n                <div class=\"'col-xs-12 col-sm-6 col-md-4 col-lg-4 p-2 fieldForm'\" *ngIf=\"companyFormN.remittanceSettings.correspondentRouting === 'Auto selection by the system'\">\r\n                  <div class=\"radiobtn\">\r\n                    <div>\r\n                      <div *ngFor=\"let routingOption of autoRoutingOptions\">\r\n                        <p-radioButton\r\n                          name=\"group\"\r\n                          [value]=\"routingOption.code\"\r\n                          [(ngModel)]=\"companyFormN.remittanceSettings.autoRoutingTypeCode\"\r\n                        ></p-radioButton>\r\n                        <label [for]=\"'option' + routingOption.code\">{{ routingOption.codeName }}</label>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                                     \r\n                </div>\r\n              </ng-container>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n              <h6>Remittence Features</h6>\r\n              <div class=\"row remittenceFeature\">\r\n                <div class=\"col-sm-6 left\">\r\n                  <label> 1. Show rate view in Remittence </label>\r\n                </div>\r\n                <div class=\"col-sm-6 right\">\r\n                  <div>\r\n                    <p-radioButton name=\"group\" value=\"Y\" [(ngModel)]=\"companyFormN.remittanceSettings.showRateViewInRemittance\"></p-radioButton>\r\n                    <label for=\"option1\">Yes</label>\r\n                    <p-radioButton name=\"group\" value=\"N\" [(ngModel)]=\"companyFormN.remittanceSettings.showRateViewInRemittance\"></p-radioButton>\r\n                    <label for=\"option2\">No</label>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"row remittenceFeature\">\r\n                <div class=\"col-sm-6 left\">\r\n                  <label> 2. Allow new customer addition from Remittance </label>\r\n                </div>\r\n                <div class=\"col-sm-6 right\">\r\n                  <div>\r\n                    <p-radioButton name=\"group\" value=\"Y\" [(ngModel)]=\"companyFormN.remittanceSettings.allowNewCustomerAdditionFromRemittance\"></p-radioButton>\r\n                    <label for=\"option1\">Yes</label>\r\n                    <p-radioButton name=\"group\" value=\"N\" [(ngModel)]=\"companyFormN.remittanceSettings.allowNewCustomerAdditionFromRemittance\"></p-radioButton>\r\n                    <label for=\"option2\">No</label>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"row remittenceFeature\">\r\n                <div class=\"col-sm-6 left\">\r\n                  <label> 3. Allow customer profile edit from Remittance </label>\r\n                </div>\r\n                <div class=\"col-sm-6 right\">\r\n                  <div>\r\n                    <p-radioButton name=\"group\" value=\"Y\" [(ngModel)]=\"companyFormN.remittanceSettings.allowCustomerProfileEditFromRemittance\"></p-radioButton>\r\n                    <label for=\"option1\">Yes</label>\r\n                    <p-radioButton name=\"group\" value=\"N\" [(ngModel)]=\"companyFormN.remittanceSettings.allowCustomerProfileEditFromRemittance\"></p-radioButton>\r\n                    <label for=\"option2\">No</label>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"row remittenceFeature\">\r\n                <div class=\"col-sm-6 left\">\r\n                  <label> 4. Allow beneficiary profile edit from Remittance </label>\r\n                </div>\r\n                <div class=\"col-sm-6 right\">\r\n                  <div>\r\n                    <p-radioButton name=\"group\" value=\"Y\" [(ngModel)]=\"companyFormN.remittanceSettings.allowBeneficiaryProfileEditFromRemittance\"></p-radioButton>\r\n                    <label for=\"option1\">Yes</label>\r\n                    <p-radioButton name=\"group\" value=\"N\" [(ngModel)]=\"companyFormN.remittanceSettings.allowBeneficiaryProfileEditFromRemittance\"></p-radioButton>\r\n                    <label for=\"option2\">No</label>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"row remittenceFeature\">\r\n                <div class=\"col-sm-6 left\">\r\n                  <label> 5. Allow Special Rate request from Remittance </label>\r\n                </div>\r\n                <div class=\"col-sm-6 right\">\r\n                  <div>\r\n                    <p-radioButton name=\"group\" value=\"Y\" [(ngModel)]=\"companyFormN.remittanceSettings.allowSpecialRateRequestFromRemittance\"></p-radioButton>\r\n                    <label for=\"option1\">Yes</label>\r\n                    <p-radioButton name=\"group\" value=\"N\" [(ngModel)]=\"companyFormN.remittanceSettings.allowSpecialRateRequestFromRemittance\"></p-radioButton>\r\n                    <label for=\"option2\">No</label>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"row remittenceFeature\">\r\n                <div class=\"col-sm-6 left\">\r\n                  <label> 6. Allow Buffer in rate to teller </label>\r\n                </div>\r\n                <div class=\"col-sm-6 right\">\r\n                  <div>\r\n                    <p-radioButton name=\"group\" value=\"Y\" [(ngModel)]=\"companyFormN.remittanceSettings.allowBufferInRateToTeller\"></p-radioButton>\r\n                    <label for=\"option1\">Yes</label>\r\n                    <p-radioButton name=\"group\" value=\"N\" [(ngModel)]=\"companyFormN.remittanceSettings.allowBufferInRateToTeller\"></p-radioButton>\r\n                    <label for=\"option2\">No</label>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"row remittenceFeature\">\r\n                <div class=\"col-sm-6 left\">\r\n                  <label> 7. Allow Special Discount Rate </label>\r\n                </div>\r\n                <div class=\"col-sm-6 right\">\r\n                  <div>\r\n                    <p-radioButton name=\"group\" value=\"Y\" [(ngModel)]=\"companyFormN.remittanceSettings.allowSpecialDiscountRate\"></p-radioButton>\r\n                    <label for=\"option1\">Yes</label>\r\n                    <p-radioButton name=\"group\" value=\"N\" [(ngModel)]=\"companyFormN.remittanceSettings.allowSpecialDiscountRate\"></p-radioButton>\r\n                    <label for=\"option2\">No</label>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"row remittenceFeature\">\r\n                <div class=\"col-sm-6 left\">\r\n                  <label> 8. Allow On Account facility </label>\r\n                </div>\r\n                <div class=\"col-sm-6 right\">\r\n                  <div>\r\n                    <p-radioButton name=\"group\" value=\"Y\" [(ngModel)]=\"companyFormN.remittanceSettings.allowOnAccountFacility\"></p-radioButton>\r\n                    <label for=\"option1\">Yes</label>\r\n                    <p-radioButton name=\"group\" value=\"N\" [(ngModel)]=\"companyFormN.remittanceSettings.allowOnAccountFacility\"></p-radioButton>\r\n                    <label for=\"option2\">No</label>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"row remittenceFeature\">\r\n                <div class=\"col-sm-6 left\">\r\n                  <label> 9. Allow Credit facility </label>\r\n                </div>\r\n                <div class=\"col-sm-6 right\">\r\n                  <div>\r\n                    <p-radioButton name=\"group\" value=\"Y\" [(ngModel)]=\"companyFormN.remittanceSettings.allowCreditFacility\"></p-radioButton>\r\n                    <label for=\"option1\">Yes</label>\r\n                    <p-radioButton name=\"group\" value=\"N\" [(ngModel)]=\"companyFormN.remittanceSettings.allowCreditFacility\"></p-radioButton>\r\n                    <label for=\"option2\">No</label>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            </p-panel>\r\n            <p-panel header=\"Forex Settings\" [toggleable]=\"true\" [collapsed]=\"toggleCollapsed\">\r\n              <div class=\"row\">\r\n                <ng-container>\r\n                  <div class=\"'col-xs-12 col-sm-6 col-md-4 col-lg-2 p-2 fieldForm'\">\r\n                    <label> Prefix for Forex Ref No. </label>\r\n                    <input type=\"text\" class=\"block\" pInputText [(ngModel)]=\"companyFormN.forexSettings.prefixForForexRefNo\"\r\n                     (change)=\"onChange('forexSettings', 'text','prefixForForexRefNo', $event)\" [ngStyle]=\"{\r\n                      paddingLeft: '', \r\n                      paddingRight: ''\r\n                    }\" />\r\n                      \r\n                  </div>\r\n                 \r\n                 \r\n                </ng-container>\r\n              </div>\r\n            </p-panel>\r\n           \r\n            <p-panel header=\"Incoming Settings\" [toggleable]=\"true\" [collapsed]=\"toggleCollapsed\">\r\n              <div class=\"row\">\r\n                <ng-container>\r\n                  <div class=\"'col-xs-12 col-sm-6 col-md-4 col-lg-2 p-2 fieldForm'\">\r\n                    <label> Prefix for Incoming Ref No. </label>\r\n                    <input type=\"text\" class=\"block\" pInputText [(ngModel)]=\"companyFormN.incomingSettings.prefixForIncomingRefNo\"\r\n                     (change)=\"onChange('incomingSettings', 'text','prefixForIncomingRefNo', $event)\" [ngStyle]=\"{\r\n                      paddingLeft: '', \r\n                      paddingRight: ''\r\n                    }\" />\r\n                      \r\n                  </div>\r\n                </ng-container>\r\n              </div>\r\n            </p-panel>\r\n            <p-panel header=\"Account Settings\" [toggleable]=\"true\" [collapsed]=\"toggleCollapsed\">\r\n              <div class=\"row\">\r\n                <ng-container>\r\n                  <div class=\"'col-xs-12 col-sm-6 col-md-4 col-lg-2 p-2 fieldForm'\">\r\n                    <label> Prefix for Bank Voucher No. </label>\r\n                    <input type=\"text\" class=\"block\" pInputText [(ngModel)]=\"companyFormN.accountsSettings.prefixForBankVoucherNumber\"\r\n                     (change)=\"onChange('accountsSettings', 'text','prefixForBankVoucherNumber', $event)\" [ngStyle]=\"{\r\n                      paddingLeft: '', \r\n                      paddingRight: ''\r\n                    }\" />\r\n                      \r\n                  </div>\r\n                  <div class=\"'col-xs-12 col-sm-6 col-md-4 col-lg-2 p-2 fieldForm'\">\r\n                    <label> Prefix for Cash Voucher No. </label>\r\n                    <input type=\"text\" class=\"block\" pInputText [(ngModel)]=\"companyFormN.accountsSettings.prefixForCashVoucherNumber\"\r\n                     (change)=\"onChange('accountsSettings', 'text','prefixForCashVoucherNumber', $event)\" [ngStyle]=\"{\r\n                      paddingLeft: '', \r\n                      paddingRight: ''\r\n                    }\" />\r\n                      \r\n                  </div>\r\n                  <div class=\"'col-xs-12 col-sm-6 col-md-4 col-lg-2 p-2 fieldForm'                        \">\r\n                    <label>\r\n                      Accounting\r\n                    </label><span class=\"required\">*</span>\r\n                    <p-dropdown class=\"block\" placeholder=\"select\"  [options]=\"accountingOptions\" optionLabel=\"name\" [appendTo]=\"'body'\"\r\n                      [filter]=\"true\" filterBy=\"name\" [virtualScroll]=\"true\" [virtualScrollItemSize]=\"35\"\r\n                      [(ngModel)]=\"selectAccounting\"\r\n                      panelStyleClass=\"formFields-dropdown\">\r\n                      <ng-template let-options pTemplate=\"item\">\r\n                        <div class=\"truncate-text\">\r\n                          <div>{{ options.name }}</div>\r\n                        </div>\r\n                      </ng-template></p-dropdown>\r\n                  </div>\r\n                </ng-container>\r\n              </div>\r\n            </p-panel>\r\n            <p-panel header=\"Login Settings\" [toggleable]=\"true\" [collapsed]=\"toggleCollapsed\">\r\n              <div class=\"row\">\r\n                <ng-container>\r\n                  <div class=\"'col-xs-12 col-sm-6 col-md-4 col-lg-2 p-2 fieldForm'                        \">\r\n                    <label>\r\n                      Captcha Required at login\r\n                    </label><span class=\"required\">*</span>\r\n                    <p-dropdown class=\"block\" placeholder=\"select\"  [options]=\"captchaRequiredOptions\" optionLabel=\"name\" [appendTo]=\"'body'\"\r\n                      [filter]=\"true\" filterBy=\"name\" [virtualScroll]=\"true\" [virtualScrollItemSize]=\"35\"\r\n                      [(ngModel)]=\"selectCaptchaRequired\"\r\n                      panelStyleClass=\"formFields-dropdown\">\r\n                      <ng-template let-options pTemplate=\"item\">\r\n                        <div class=\"truncate-text\">\r\n                          <div>{{ options.name }}</div>\r\n                        </div>\r\n                      </ng-template></p-dropdown>\r\n                  </div>\r\n                  <div class=\"'col-xs-12 col-sm-6 col-md-4 col-lg-2 p-2 fieldForm'                        \">\r\n                    <label>\r\n                      Set Password Policy\r\n                    </label><span class=\"required\">*</span>\r\n                    <p-dropdown class=\"block\" placeholder=\"select\"  [options]=\"setPasswordPolicyOptions\" optionLabel=\"name\" [appendTo]=\"'body'\"\r\n                      [filter]=\"true\" filterBy=\"name\" [virtualScroll]=\"true\" [virtualScrollItemSize]=\"35\"\r\n                      [(ngModel)]=\"selectPasswordPolicy\"\r\n                      panelStyleClass=\"formFields-dropdown\">\r\n                      <ng-template let-options pTemplate=\"item\">\r\n                        <div class=\"truncate-text\">\r\n                          <div>{{ options.name }}</div>\r\n                        </div>\r\n                      </ng-template></p-dropdown>\r\n                  </div>\r\n                  <div class=\"row\" *ngIf=\"companyFormN.loginSettings.passwordPolicy && companyFormN.loginSettings.passwordPolicy.name === 'YES'\">\r\n                    <div class=\"row loginFeature\">\r\n                      <div class=\"col-sm-6 left p-0\">\r\n                        <div class=\"loginLeft\">\r\n\r\n                          <label> 1. Allow Forceful Password change for first time logged in user </label>\r\n                          <div class=\"loginLeftRadio\">\r\n                            <p-radioButton name=\"group\" value=\"Y\" [(ngModel)]=\"companyFormN.loginSettings.passwordChangeFirstLogin\"></p-radioButton>\r\n                            <label for=\"option1\">Yes</label>\r\n                            <p-radioButton name=\"group\" value=\"N\" [(ngModel)]=\"companyFormN.loginSettings.passwordChangeFirstLogin\"></p-radioButton>\r\n                            <label for=\"option2\">No</label>\r\n                          </div>\r\n                        </div>\r\n                        <div class=\"loginLeft1\">\r\n\r\n                          <label>2. Set password age (in Months)</label>\r\n                          <img\r\n                          height=\"15px\"\r\n                          src=\"../assets/Icon-info.svg\"\r\n                          alt=\"\"\r\n                          [pTooltip]=\"'Select the time frame in months after which password will automatically expire'\"\r\n                        />\r\n                          <div class=\"'col-xs-12 col-sm-6 col-md-8 col-lg-8 p-2 fieldForm'\">\r\n                            <input type=\"text\" class=\"block\" pInputText [(ngModel)]=\"companyFormN.loginSettings.passwordAge\"\r\n                             (change)=\"onChange('loginSettings', 'text','passwordAge', $event)\" [ngStyle]=\"{\r\n                              paddingLeft: '', \r\n                              paddingRight: ''\r\n                            }\" />\r\n                              \r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"col-sm-6 right p-0\">\r\n                        <div class=\"loginRight\">\r\n\r\n                          <label> 3. Do not allow new password same as previous old passwords (count) </label>\r\n                          <div class=\"'col-xs-12 col-sm-6 col-md-8 col-lg-8 p-2 fieldForm'\">\r\n                            <input type=\"text\" class=\"block\" pInputText [(ngModel)]=\"companyFormN.loginSettings.previousPasswordCount\"\r\n                             (change)=\"onChange('loginSettings', 'text','previousPasswordCount', $event)\" [ngStyle]=\"{\r\n                              paddingLeft: '', \r\n                              paddingRight: ''\r\n                            }\" />\r\n                              \r\n                          </div>\r\n                        </div>\r\n                        <div class=\"loginRight1\">\r\n\r\n                          <label> 4. Account lockout threshold invalid logins (Count) </label>\r\n                          <img\r\n                          height=\"15px\"\r\n                          src=\"../assets/Icon-info.svg\"\r\n                          alt=\"\"\r\n                          [pTooltip]=\"'Select the count after which user account will be blocked after unsuccessful login attempts '\"\r\n                        />\r\n                          <div class=\"'col-xs-12 col-sm-6 col-md-8 col-lg-8 p-2 fieldForm'\">\r\n                            <input type=\"text\" class=\"block\" pInputText [(ngModel)]=\"companyFormN.loginSettings.lockAccountThreshold\"\r\n                             (change)=\"onChange('loginSettings', 'text','lockAccountThreshold', $event)\" [ngStyle]=\"{\r\n                              paddingLeft: '', \r\n                              paddingRight: ''\r\n                            }\" />\r\n                              \r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"row loginFeature1\">\r\n                      <div class=\"loginPassCom\">\r\n\r\n                        <label> 5. Password Complexity </label>\r\n                        <img\r\n                        height=\"15px\"\r\n                        src=\"../assets/Icon-info.svg\"\r\n                        alt=\"\"\r\n                        [pTooltip]=\"'Select the mandatory features required while user is creating a password'\"\r\n                      />\r\n                      </div>\r\n                      <div class=\"row pr-0\">\r\n\r\n                        <div class=\"col-sm-12 col-lg-2 left\">\r\n                          <label> A. Allowed Length </label>\r\n                        </div>\r\n                        <div class=\"col-sm-12 col-lg-10 right pr-0\">\r\n                          <div class=\"row loginPComRight\">\r\n                            <ng-container>\r\n\r\n                              <div class=\"'col-xs-12 col-sm-6 col-md-8 col-lg-2 p-2 fieldForm'\">\r\n                                <label> Min.Length </label>\r\n                                <input type=\"text\" class=\"block\" pInputText [(ngModel)]=\"companyFormN.loginSettings.allowedLengthMin\"\r\n                                 (change)=\"onChange('loginSettings', 'text','allowedLengthMin', $event)\" [ngStyle]=\"{\r\n                                  paddingLeft: '', \r\n                                  paddingRight: ''\r\n                                }\" />\r\n                                  \r\n                              </div>\r\n                              <div class=\"'col-xs-12 col-sm-6 col-md-8 col-lg-2 p-2 fieldForm'\">\r\n                                <label> Max.Length </label>\r\n                                <input type=\"text\" class=\"block\" pInputText [(ngModel)]=\"companyFormN.loginSettings.allowedLengthMax\"\r\n                                 (change)=\"onChange('loginSettings', 'text','allowedLengthMax', $event)\" [ngStyle]=\"{\r\n                                  paddingLeft: '', \r\n                                  paddingRight: ''\r\n                                }\" />\r\n                                  \r\n                              </div>\r\n                            </ng-container>\r\n                          </div>\r\n                          \r\n                        </div>\r\n                      </div>\r\n                      <div class=\"row pr-0\">\r\n\r\n                        <div class=\"col-sm-12 col-lg-2 left\">\r\n                          <label> B. Allowed Capital Letter </label>\r\n                        </div>\r\n                        <div class=\"col-sm-12 col-lg-10 right pr-0\">\r\n                          <div class=\"row loginPComRight\">\r\n                            <ng-container>\r\n                              <div class=\"'col-xs-12 col-sm-6 col-md-8 col-lg-2 p-2 fieldForm' loginRadio\">\r\n                                <p-radioButton name=\"group\" value=\"Y\" [(ngModel)]=\"companyFormN.loginSettings.upperRequired\"></p-radioButton>\r\n                                <label for=\"option1\">Yes</label>\r\n                                <p-radioButton name=\"group\" value=\"N\" [(ngModel)]=\"companyFormN.loginSettings.upperRequired\"></p-radioButton>\r\n                                <label for=\"option2\">No</label>\r\n                              </div>\r\n                              <div class=\"'col-xs-12 col-sm-6 col-md-8 col-lg-2 p-2 fieldForm'\">\r\n                                <label> Min.Length </label>\r\n                                <input type=\"text\" class=\"block\" pInputText [(ngModel)]=\"companyFormN.loginSettings.upperMinLength\"\r\n                                 (change)=\"onChange('loginSettings', 'text','upperMinLength', $event)\" [ngStyle]=\"{\r\n                                  paddingLeft: '', \r\n                                  paddingRight: ''\r\n                                }\" />\r\n                                  \r\n                              </div>\r\n                              <div class=\"'col-xs-12 col-sm-6 col-md-8 col-lg-2 p-2 fieldForm'\">\r\n                                <label> Max.Length </label>\r\n                                <input type=\"text\" class=\"block\" pInputText [(ngModel)]=\"companyFormN.loginSettings.upperMaxLength\"\r\n                                 (change)=\"onChange('loginSettings', 'text','upperMaxLength', $event)\" [ngStyle]=\"{\r\n                                  paddingLeft: '', \r\n                                  paddingRight: ''\r\n                                }\" />\r\n                                  \r\n                              </div>\r\n                            </ng-container>\r\n                          </div>\r\n                          \r\n                        </div>\r\n                      </div>\r\n                      <div class=\"row pr-0\">\r\n\r\n                        <div class=\"col-sm-12 col-lg-2 left\">\r\n                          <label> C. Allowed Small Letter </label>\r\n                        </div>\r\n                        <div class=\"col-sm-12 col-lg-10 right pr-0\">\r\n                          <div class=\"row loginPComRight\">\r\n                            <ng-container>\r\n                              <div class=\"'col-xs-12 col-sm-6 col-md-8 col-lg-2 p-2 fieldForm' loginRadio\">\r\n                                <p-radioButton name=\"group\" value=\"Y\" [(ngModel)]=\"companyFormN.loginSettings.lowerRequired\"></p-radioButton>\r\n                                <label for=\"option1\">Yes</label>\r\n                                <p-radioButton name=\"group\" value=\"N\" [(ngModel)]=\"companyFormN.loginSettings.lowerRequired\"></p-radioButton>\r\n                                <label for=\"option2\">No</label>\r\n                              </div>\r\n                              <div class=\"'col-xs-12 col-sm-6 col-md-8 col-lg-2 p-2 fieldForm'\">\r\n                                <label> Min.Length </label>\r\n                                <input type=\"text\" class=\"block\" pInputText [(ngModel)]=\"companyFormN.loginSettings.lowerMinLength\"\r\n                                 (change)=\"onChange('loginSettings', 'text','lowerMinLength', $event)\" [ngStyle]=\"{\r\n                                  paddingLeft: '', \r\n                                  paddingRight: ''\r\n                                }\" />\r\n                                  \r\n                              </div>\r\n                              <div class=\"'col-xs-12 col-sm-6 col-md-8 col-lg-2 p-2 fieldForm'\">\r\n                                <label> Max.Length </label>\r\n                                <input type=\"text\" class=\"block\" pInputText [(ngModel)]=\"companyFormN.loginSettings.lowerMaxLength\"\r\n                                 (change)=\"onChange('loginSettings', 'text','lowerMaxLength', $event)\" [ngStyle]=\"{\r\n                                  paddingLeft: '', \r\n                                  paddingRight: ''\r\n                                }\" />\r\n                                  \r\n                              </div>\r\n                            </ng-container>\r\n                          </div>\r\n                          \r\n                        </div>\r\n                      </div>\r\n                      <div class=\"row pr-0\">\r\n\r\n                        <div class=\"col-sm-12 col-lg-2 left\">\r\n                          <label> D. Allowed Special Character </label>\r\n                        </div>\r\n                        <div class=\"col-sm-12 col-lg-10 right pr-0\">\r\n                          <div class=\"row loginPComRight\">\r\n                            <ng-container>\r\n                              <div class=\"'col-xs-12 col-sm-6 col-md-8 col-lg-2 p-2 fieldForm' loginRadio\">\r\n                                <p-radioButton name=\"group\" value=\"Y\" [(ngModel)]=\"companyFormN.loginSettings.upperRequired\"></p-radioButton>\r\n                                <label for=\"option1\">Yes</label>\r\n                                <p-radioButton name=\"group\" value=\"N\" [(ngModel)]=\"companyFormN.loginSettings.upperRequired\"></p-radioButton>\r\n                                <label for=\"option2\">No</label>\r\n                              </div>\r\n                              <div class=\"'col-xs-12 col-sm-6 col-md-8 col-lg-2 p-2 fieldForm'\">\r\n                                <label> Min.Length </label>\r\n                                <input type=\"text\" class=\"block\" pInputText [(ngModel)]=\"companyFormN.loginSettings.specialCharacterMinLength\"\r\n                                 (change)=\"onChange('loginSettings', 'text','specialCharacterMinLength', $event)\" [ngStyle]=\"{\r\n                                  paddingLeft: '', \r\n                                  paddingRight: ''\r\n                                }\" />\r\n                                  \r\n                              </div>\r\n                              <div class=\"'col-xs-12 col-sm-6 col-md-8 col-lg-2 p-2 fieldForm'\">\r\n                                <label> Max.Length </label>\r\n                                <input type=\"text\" class=\"block\" pInputText [(ngModel)]=\"companyFormN.loginSettings.specialCharacterMaxLength\"\r\n                                 (change)=\"onChange('loginSettings', 'text','specialCharacterMaxLength', $event)\" [ngStyle]=\"{\r\n                                  paddingLeft: '', \r\n                                  paddingRight: ''\r\n                                }\" />\r\n                                  \r\n                              </div>\r\n                            </ng-container>\r\n                          </div>\r\n                          \r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                 \r\n                  </div>\r\n                </ng-container>\r\n              </div>\r\n            </p-panel>\r\n          <div class=\"form-group btn-grp buttons-section\">\r\n            <button\r\n              pButton\r\n              pRipple\r\n              type=\"button\"\r\n              label=\"Save\"\r\n              class=\"p-button-raised\"\r\n              (click)=\"onSubmit()\"\r\n              [disabled]=\"deactivated\"\r\n            ></button>\r\n            <button\r\n              pButton\r\n              pRipple\r\n              type=\"button\"\r\n              label=\"Reset\"\r\n              class=\"p-button-warning\"\r\n              (click)=\"onReset()\"\r\n              [disabled]=\"deactivated\"\r\n            ></button>\r\n            <!-- <button\r\n              *ngIf=\"mode == 'edit'\"\r\n              pButton\r\n              pRipple\r\n              type=\"button\"\r\n              label=\"{{ deactivated ? 'Activate' : 'Deactivate' }}\"\r\n              class=\"p-button-raised\"\r\n              (click)=\"onActive(data)\"\r\n            ></button> -->\r\n          </div>\r\n        </div>\r\n        <p-confirmDialog\r\n        key=\"resetCompanySettingsConfirmation\"\r\n        class=\"confirm-popup\"\r\n        #cd2\r\n        icon=\"pi pi-exclamation-triangle\"\r\n        [closable]=\"false\"\r\n      >\r\n        <p-footer>\r\n          <button\r\n            type=\"button\"\r\n            pButton\r\n            icon=\"pi pi-check\"\r\n            label=\"Yes\"\r\n            (click)=\"cd2.accept()\"\r\n          ></button>\r\n      \r\n          <button\r\n            type=\"button\"\r\n            pButton\r\n            icon=\"pi pi-times\"\r\n            label=\"Cancel\"\r\n            (click)=\"cd2.reject()\"\r\n          ></button>\r\n        </p-footer>\r\n      </p-confirmDialog>","import { HttpClient, HttpHeaders } from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { Observable } from \"rxjs\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class CompanySettingsServiceService {\r\n  constructor(private http: HttpClient) {}\r\n  getAccountingMasterData() {\r\n    return this.http.get(\r\n      `/appControl/masterSettingsController/getAccountingMasterData`\r\n    );\r\n  }\r\n  getAuthenticationTypeMasterData() {\r\n    return this.http.get(\r\n      `/appControl/masterSettingsController/getAuthenticationTypeMasterData`\r\n    );\r\n  }\r\n  getDateFormatMasterData() {\r\n    return this.http.get(\r\n      `/appControl/masterSettingsController/getDateFormatMasterData`\r\n    );\r\n  }\r\n  getNumberFormatMasterData() {\r\n    return this.http.get(\r\n      `/appControl/masterSettingsController/getNumberFormatMasterData`\r\n    );\r\n  }\r\n  getAutoRoutingTypeMasterData() {\r\n    return this.http.get(\r\n      `/appControl/masterSettingsController/getAutoRoutingTypeMasterData`\r\n    );\r\n  }\r\n  getSystemCurrencyMasterData() {\r\n    return this.http.get(\r\n      `/appControl/masterSettingsController/getSystemCurrencyMasterData`\r\n    );\r\n  }\r\n  getSystemLanguageMasterData() {\r\n    return this.http.get(\r\n      `/appControl/masterSettingsController/getSystemLanguageMasterData`\r\n    );\r\n  }\r\n  getYesNoMasterData() {\r\n    return this.http.get(\r\n      `/appControl/masterSettingsController/getYesNoMasterData`\r\n    );\r\n  }\r\n  getSystemCountryMasterData() {\r\n    return this.http.get(\r\n      `/appControl/masterSettingsController/getSystemCountryMasterData`\r\n    );\r\n  }\r\n  getSystemThemeMasterData() {\r\n    return this.http.get(\r\n      `/appControl/masterSettingsController/getSystemThemeMasterData`\r\n    );\r\n  }\r\n  getPasswordSpecialCharacterMasterData() {\r\n    return this.http.get(\r\n      `/appControl/masterSettingsController/getPasswordSpecialCharacterMasterData`\r\n    );\r\n  }\r\n  getCompanySettings() {\r\n    return this.http.get(\r\n      `/appControl/companySettingController/getCompanySettings/CMX000091`\r\n    );\r\n  }\r\n  saveCompanySettings(data, userId: any): Observable<any> {\r\n    return this.http.post(\r\n      `/appControl/companySettingController/saveCompanySettings`,\r\n      data,\r\n      {\r\n        headers: new HttpHeaders().set(\"userId\", userId),\r\n      }\r\n    );\r\n  }\r\n  updateCompanySettings(data, userId: any): Observable<any> {\r\n    return this.http.put(\r\n      `/appControl/companySettingController/updateCompanySettings`,\r\n      data,\r\n      {\r\n        headers: new HttpHeaders().set(\"userId\", userId),\r\n      }\r\n    );\r\n  }\r\n}\r\n","import { DOCUMENT } from \"@angular/common\";\r\nimport { Inject, Injectable } from \"@angular/core\";\r\nimport { TranslateService } from \"@ngx-translate/core\";\r\nimport { ClipboardService } from \"ngx-clipboard\";\r\nimport { MessageService } from \"primeng/api\";\r\nimport { BehaviorSubject, Observable, Subject } from \"rxjs\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class CoreService {\r\n  breadcrumbsItems = [\r\n    { label: \"Home\", routerLink: \"/navbar\" },\r\n    { label: \"Settings\", routerLink: \"/navbar\" },\r\n    { label: \"Bank Routing Settings\", routerLink: \"bank-routing\" },\r\n  ];\r\n\r\n  constructor(\r\n    @Inject(DOCUMENT) private document: Document,\r\n    private messageService: MessageService,\r\n    private clipboardService: ClipboardService,\r\n    private translateService: TranslateService\r\n  ) {}\r\n\r\n  showSuccessToast(description: any) {\r\n    this.messageService.clear();\r\n    this.messageService.add({\r\n      severity: \"success\",\r\n      summary: \"Success\",\r\n      detail: description,\r\n    });\r\n  }\r\n  showWarningToast(description: any) {\r\n    this.messageService.clear();\r\n    this.messageService.add({\r\n      severity: \"warn\",\r\n      summary: \"Warning\",\r\n      detail: description,\r\n    });\r\n  }\r\n\r\n  switchTheme(theme: string) {\r\n    let themeLink = this.document.getElementById(\r\n      \"app-theme\"\r\n    ) as HTMLLinkElement;\r\n\r\n    if (themeLink) {\r\n      themeLink.href = theme + \".css\";\r\n    }\r\n\r\n    // % For Light Theme\r\n    // if (theme.includes(\"amber\") || theme.includes(\"pink\")) {\r\n    //   this.document\r\n    //     .querySelectorAll(\".sidebar-content .p-menuitem-icon\")\r\n    //     .forEach((icons) => {\r\n    //       (icons as HTMLElement).style.filter = \"invert(0%)\";\r\n    //     });\r\n    // } else {\r\n    //   this.document\r\n    //     .querySelectorAll(\".sidebar-content .p-menuitem-icon\")\r\n    //     .forEach((icons) => {\r\n    //       (icons as HTMLElement).style.filter = \"invert(100%)\";\r\n    //     });\r\n    // }\r\n    // % For Light Theme End\r\n  }\r\n\r\n  userActionsObs = new BehaviorSubject<any>([\r\n    { name: \"Profile\" },\r\n    { name: \"Logout\" },\r\n  ]);\r\n\r\n  $loadingScreen = new BehaviorSubject<boolean>(false);\r\n  displayLoadingScreen() {\r\n    this.$loadingScreen.next(true);\r\n  }\r\n  removeLoadingScreen() {\r\n    this.$loadingScreen.next(false);\r\n  }\r\n\r\n  $breadCrumbMenu = new BehaviorSubject<any[]>(this.breadcrumbsItems);\r\n\r\n  getBreadCrumbMenu() {\r\n    return this.$breadCrumbMenu;\r\n  }\r\n  setBreadCrumbMenu(val: any) {\r\n    this.$breadCrumbMenu.next(val);\r\n  }\r\n\r\n  $breadCrumbMenuFromInternalPages = new Subject<any[]>();\r\n\r\n  setBreadCrumbMenuFromInternalPages(breadCrumbMenuFromInternalPages: any) {\r\n    this.$breadCrumbMenuFromInternalPages.next(breadCrumbMenuFromInternalPages);\r\n  }\r\n  getBreadCrumbMenuFromInternalPages(): Observable<any> {\r\n    return this.$breadCrumbMenuFromInternalPages.asObservable();\r\n  }\r\n\r\n  $headerSticky = new BehaviorSubject<boolean>(false);\r\n  $sidebarBtnFixed = new BehaviorSubject<boolean>(true);\r\n  setHeaderStickyStyle(val: any) {\r\n    this.$headerSticky.next(val);\r\n  }\r\n  setSidebarBtnFixedStyle(val: any) {\r\n    this.$sidebarBtnFixed.next(val);\r\n  }\r\n\r\n  copyToClipboard(text: string) {\r\n    this.clipboardService.copy(text);\r\n  }\r\n\r\n  private pageTitleSubject = new BehaviorSubject<string>(\"\");\r\n  pageTitle$ = this.pageTitleSubject.asObservable();\r\n\r\n  setPageTitle(title: string) {\r\n    this.pageTitleSubject.next(title);\r\n  }\r\n\r\n  translate(key: string): Promise<string> {\r\n    return this.translateService.get(key).toPromise();\r\n  }\r\n\r\n  setLanguage(language: string) {\r\n    this.translateService.use(language);\r\n  }\r\n\r\n  onLangChange() {\r\n    return this.translateService.onLangChange;\r\n  }\r\n\r\n  $sidebarMenu = new BehaviorSubject<any[]>([]);\r\n\r\n  getsidebarMenu() {\r\n    return this.$sidebarMenu;\r\n  }\r\n  setsidebarMenu(val: any) {\r\n    this.$sidebarMenu.next(val);\r\n  }\r\n}\r\n","import { DatePipe } from \"@angular/common\";\r\nimport { Component, InjectionToken, OnInit } from \"@angular/core\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { CoreService } from \"src/app/core.service\";\r\nimport { CriteriaSettingsService } from \"../criteria-settings.service\";\r\nimport { MultiSelect } from \"primeng/multiselect\";\r\n\r\n@Component({\r\n  selector: \"app-criteria-listing\",\r\n  templateUrl: \"./criteria-listing.component.html\",\r\n  styleUrls: [\"./criteria-listing.component.scss\"],\r\n})\r\nexport class CriteriaListingComponent implements OnInit {\r\n  noDataMsg: string = \"Criteria Setting Data Not Available\";\r\n\r\n  criteriaSettingApiData: any;\r\n  criteriaSettingData: any[] = [];\r\n\r\n  showNoDataFound: boolean = false;\r\n\r\n  showapplicationsOptions: boolean = false;\r\n  showmoduleNameOptions: boolean = false;\r\n  showformOptions: boolean = false;\r\n  showtotalCriteraiFieldOptions: boolean = false;\r\n  showtotalDisplayFieldsOptions: boolean = false;\r\n  showtotalListFieldsOptions: boolean = false;\r\n  showcreatedDateOptions: boolean = false;\r\n  showcreatedByOptions: boolean = false;\r\n\r\n  objectKeys = Object.keys;\r\n\r\n  applications: any[];\r\n  moduleName: any[];\r\n  form: any[];\r\n  totalCriteraiField: any[];\r\n  totalDisplayField: any = [];\r\n  totalListField: any = [];\r\n  createdDate: any[];\r\n  createdBy: any[];\r\n\r\n  clickforview = false;\r\n  criteriaDataArrayView = [];\r\n\r\n  selectedFilterapplications: any[] = [];\r\n  selectedFiltermoduleName: any[] = [];\r\n  selectedFilterform: any[] = [];\r\n  selectedFiltertotalCriteraiField: any[] = [];\r\n  selectedFiltertotalDisplayField: any[] = [];\r\n  selectedFiltertotalListField: any[] = [];\r\n  selectedFiltercreatedDate: any[] = [];\r\n  selectedFiltercreatedBy: any[] = [];\r\n\r\n  cols: any[] = [\r\n    { field: \"applications\", header: \"Applications\", width: \"15%\" },\r\n    { field: \"moduleName\", header: \"Module\", width: \"15%\" },\r\n    { field: \"form\", header: \"Form\", width: \"15%\" },\r\n    {\r\n      field: \"totalCriteraiField\",\r\n      header: \"Total Criteria Fields\",\r\n      width: \"15%\",\r\n    },\r\n    { field: \"totalListField\", header: \"Total List Fields\", width: \"15%\" },\r\n    { field: \"createdDate\", header: \"Created Date\", width: \"15%\" },\r\n    { field: \"createdBy\", header: \"Created By\", width: \"15%\" },\r\n    { field: \"operations\", header: \"Operations\", width: \"10%\" },\r\n  ];\r\n\r\n  loading = true;\r\n  constructor(\r\n    private router: Router,\r\n    private coreService: CoreService,\r\n    private route: ActivatedRoute,\r\n    private datePipe: DatePipe,\r\n    private criterisSettingsService: CriteriaSettingsService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.coreService.displayLoadingScreen();\r\n\r\n    const translationKey = \"Home.Application Settings\";\r\n    this.coreService\r\n      .translate(translationKey)\r\n      .then((translatedTitle: string) => {\r\n        this.coreService.setPageTitle(translatedTitle);\r\n      });\r\n\r\n    this.route.data.subscribe((data) => {\r\n      this.coreService.setBreadCrumbMenu(Object.values(data));\r\n    });\r\n\r\n    this.criterisSettingsService\r\n      .getCriteriaSettingListing()\r\n      .subscribe(\r\n        (res) => {\r\n          if (\r\n            res[\"status\"] &&\r\n            typeof res[\"status\"] == \"string\" &&\r\n            (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n          ) {\r\n            if (res[\"error\"]) {\r\n              this.coreService.showWarningToast(res[\"error\"]);\r\n            } else {\r\n              this.coreService.showWarningToast(res[\"msg\"]);\r\n            }\r\n          } else {\r\n            if (!res[\"msg\"]) {\r\n              this.criteriaSettingApiData = res;\r\n              this.criteriaSettingData = res[\"data\"];\r\n              this.showNoDataFound = false;\r\n              this.formatApiData();\r\n              this.setFilterOptions();\r\n            } else {\r\n              this.coreService.showWarningToast(res[\"msg\"]);\r\n              this.criteriaSettingData = [];\r\n              this.showNoDataFound = true;\r\n            }\r\n          }\r\n        },\r\n        (err) => {\r\n          console.log(\"Error in criterisSettingListing\", err);\r\n          this.showNoDataFound = true;\r\n        }\r\n      )\r\n      .add(() => {\r\n        this.loading = false;\r\n        this.coreService.removeLoadingScreen();\r\n      });\r\n  }\r\n\r\n  formatApiData() {\r\n    this.criteriaSettingData.forEach((criteria) => {\r\n      criteria[\"totalListField\"] = \"7\";\r\n      criteria[\"totalCriteraiField\"] = `${criteria[\"totalCriteraiField\"]}`;\r\n      criteria[\"createdDate\"] = this.datePipe.transform(\r\n        criteria[\"createdDate\"]\r\n      );\r\n    });\r\n    this.loading = false;\r\n  }\r\n\r\n  setFilterOptions() {\r\n    this.applications = this.criteriaSettingApiData.applications.map((code) => {\r\n      return { label: code, value: code };\r\n    });\r\n    this.form = this.criteriaSettingApiData.form.map((code) => {\r\n      return { label: code, value: code };\r\n    });\r\n    this.moduleName = this.criteriaSettingApiData.moduleName.map((code) => {\r\n      return { label: code, value: code };\r\n    });\r\n    this.totalCriteraiField = this.criteriaSettingApiData[\r\n      \"totalCriteraiField\"\r\n    ].map((code) => {\r\n      return { label: code, value: code };\r\n    });\r\n    this.totalListField = [{ label: \"7\", value: \"7\" }];\r\n    let createdDatesApi = this.criteriaSettingApiData.createdDate.map(\r\n      (code) => {\r\n        let formatDate = this.datePipe.transform(code);\r\n        return formatDate;\r\n      }\r\n    );\r\n    this.createdDate = [...new Set(createdDatesApi.map((v) => v))].map(\r\n      (value) => {\r\n        return { label: value, value: value };\r\n      }\r\n    );\r\n    this.createdBy = this.criteriaSettingApiData.createdBy.map((code) => {\r\n      return { label: code, value: code };\r\n    });\r\n  }\r\n  openClickForView(data) {\r\n    this.criteriaDataArrayView = data.cmCriteriaDataDetails;\r\n    this.criteriaDataArrayView[\"applications\"] = data[\"applications\"];\r\n    this.criteriaDataArrayView[\"form\"] = data[\"form\"];\r\n    this.coreService.setHeaderStickyStyle(false);\r\n    this.coreService.setSidebarBtnFixedStyle(false);\r\n    this.clickforview = true;\r\n  }\r\n  openClickForClone(data: any, type: any) {\r\n    this.router.navigate([\r\n      \"navbar\",\r\n      \"criteria-settings\",\r\n      \"add-criteria-settings\",\r\n      data.id,\r\n      type,\r\n    ]);\r\n  }\r\n\r\n  closeDialog() {\r\n    this.coreService.displayLoadingScreen();\r\n    setTimeout(() => {\r\n      this.coreService.setHeaderStickyStyle(true);\r\n      this.coreService.setSidebarBtnFixedStyle(true);\r\n    }, 500);\r\n    setTimeout(() => {\r\n      this.coreService.removeLoadingScreen();\r\n    }, 1000);\r\n  }\r\n\r\n  toggleFilterVisibility(field) {\r\n    this[`show${field}Options`] = !this[`show${field}Options`];\r\n  }\r\n\r\n  hideFilterVisibility(field) {\r\n    this[`show${field}Options`] = false;\r\n  }\r\n\r\n  getSelectedFilterArr(field: any) {\r\n    return this[`selectedFilter${field}`];\r\n  }\r\n\r\n  setSelectedFilter(ms: MultiSelect, field: any) {\r\n    this[`selectedFilter${field}`] = ms.value;\r\n  }\r\n\r\n  fieldFilterVisible(field: any) {\r\n    return this[`show${field}Options`];\r\n  }\r\n\r\n  fieldFilterOptions(field: any): [] {\r\n    return this[field];\r\n  }\r\n}\r\n","<div class=\"visible-main-section\" *ngIf=\"criteriaSettingData.length\">\r\n  <div class=\"pagetitle\">\r\n    <div class=\"infoicon\">\r\n      <i class=\"pi pi-info-circle\"></i>\r\n      List of criteria's created for forms.\r\n    </div>\r\n    <div class=\"addnew\">\r\n      <button\r\n        pButton\r\n        pRipple\r\n        type=\"button\"\r\n        label=\"Add New Criteria\"\r\n        class=\"p-button-raised\"\r\n        routerLink=\"add-criteria-settings/add\"\r\n      ></button>\r\n    </div>\r\n  </div>\r\n  <div class=\"ptable\">\r\n    <p-card class=\"p-col-12\" *ngIf=\"!criteriaSettingData\">\r\n      {{ noDataMsg }}\r\n    </p-card>\r\n    <p-table\r\n      #dt\r\n      [columns]=\"cols\"\r\n      [value]=\"criteriaSettingData\"\r\n      [paginator]=\"true\"\r\n      [rows]=\"10\"\r\n      [resizableColumns]=\"true\"\r\n      columnResizeMode=\"fit\"\r\n      [rowHover]=\"true\"\r\n    >\r\n      <ng-template pTemplate=\"header\" let-columns>\r\n        <tr>\r\n          <th\r\n            *ngFor=\"let col of columns; let i = index\"\r\n            pReorderableColumn\r\n            [pSortableColumn]=\"col.field\"\r\n            pResizableColumn\r\n            [style.width]=\"col.width\"\r\n          >\r\n            {{ col.header }}\r\n            <div\r\n              *ngIf=\"!(i + 1 == columns.length)\"\r\n              (click)=\"$event.stopPropagation()\"\r\n              class=\"filter-icon\"\r\n            >\r\n              <i\r\n                [ngStyle]=\"{\r\n                  color: getSelectedFilterArr(col.field).length\r\n                    ? 'var(--primary-color)'\r\n                    : 'rgb(105 105 105)',\r\n                  fontSize: '11px'\r\n                }\"\r\n                class=\"pi pi-filter-fill\"\r\n                (click)=\"toggleFilterVisibility(col.field)\"\r\n              ></i>\r\n              <p-multiSelect\r\n                #ms\r\n                [options]=\"fieldFilterOptions(col.field)\"\r\n                [filter]=\"true\"\r\n                [displaySelectedLabel]=\"false\"\r\n                [overlayVisible]=\"fieldFilterVisible(col.field)\"\r\n                [defaultLabel]=\"'Search'\"\r\n                [appendTo]=\"'body'\"\r\n                [autoWidth]=\"false\"\r\n                (onChange)=\"\r\n                  dt.filter($event.value, col.field, 'in');\r\n                  setSelectedFilter(ms, col.field)\r\n                \"\r\n                (onPanelHide)=\"hideFilterVisibility(col.field)\"\r\n              >\r\n              </p-multiSelect>\r\n            </div>\r\n          </th>\r\n        </tr>\r\n\r\n        <tr class=\"search-row\">\r\n          <th *ngFor=\"let col of cols; let i = index\">\r\n            <span\r\n              *ngIf=\"!(i + 1 == columns.length)\"\r\n              class=\"p-input-icon-left\"\r\n              [style.width]=\"'120px'\"\r\n            >\r\n              <i class=\"pi pi-search\"></i>\r\n              <input\r\n                type=\"text\"\r\n                class=\"p-inputtext table-search\"\r\n                placeholder=\"Search\"\r\n                (input)=\"dt.filter($event.target.value, col.field, 'contains')\"\r\n              />\r\n            </span>\r\n          </th>\r\n        </tr>\r\n      </ng-template>\r\n      <ng-template\r\n        pTemplate=\"body\"\r\n        let-rowData\r\n        let-columns=\"columns\"\r\n        let-index=\"rowIndex\"\r\n      >\r\n        <tr [pReorderableRow]=\"index\" >\r\n          <ng-container *ngFor=\"let col of columns; let i = index\">\r\n            <td *ngIf=\"i + 1 < columns.length\" style=\"border: none;cursor: pointer;\" (click)=\"openClickForClone(rowData, 'edit')\">\r\n              {{ rowData[col[\"field\"]] }}\r\n            </td>\r\n            <td\r\n              *ngIf=\"i + 1 == columns.length\"\r\n              style=\"border: none; text-align: center\"\r\n            >\r\n              <span class=\"image-text\">\r\n                <button\r\n                  pButton\r\n                  type=\"button\"\r\n                  icon=\"pi pi-clone\"\r\n                  class=\"operation-btns mr-2\"\r\n                  (click)=\"openClickForClone(rowData, 'clone')\"\r\n                ></button>\r\n                <button\r\n                  pButton\r\n                  type=\"button\"\r\n                  icon=\"pi pi-eye\"\r\n                  class=\"operation-btns\"\r\n                  (click)=\"openClickForView(rowData)\"\r\n                ></button>\r\n              </span>\r\n            </td>\r\n          </ng-container>\r\n        </tr>\r\n      </ng-template>\r\n      <ng-template pTemplate=\"emptymessage\">\r\n        <tr>\r\n          <td [attr.colspan]=\"cols.length\">No Data found.</td>\r\n        </tr>\r\n      </ng-template>\r\n      <ng-template pTemplate=\"paginatorleft\" let-state>\r\n        {{ state.page * state.rows + 1 }} -\r\n        {{\r\n          state.rows * (state.page + 1) > state.totalRecords\r\n            ? state.totalRecords\r\n            : state.rows * (state.page + 1)\r\n        }}\r\n        of {{ state.totalRecords }}\r\n      </ng-template>\r\n    </p-table>\r\n  </div>\r\n</div>\r\n<div class=\"NorecordFound\" *ngIf=\"!criteriaSettingData.length && showNoDataFound\">\r\n  <div class=\"row\">\r\n    <div class=\"col-12\"><img src=\"assets/noRecordFound.svg\" /></div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col-12\">\r\n      <p>\r\n        \"No Record Found.Click Add New Criteria To Add Record\" \r\n      </p>\r\n       <button\r\n        pButton\r\n        pRipple\r\n        type=\"button\"\r\n        label=\"Add New Criteria\"\r\n        class=\"p-button-raised\"\r\n        routerLink=\"add-criteria-settings/add\"\r\n      ></button>\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n<div>\r\n  <p-dialog\r\n    [(visible)]=\"clickforview\"\r\n    [modal]=\"true\"\r\n    [style]=\"{ width: '70vw', left: '50px' }\"\r\n    (onHide)=\"closeDialog()\"\r\n  >\r\n    <ng-template pTemplate=\"header\">\r\n      <div class=\"application-header\">\r\n        Application: {{ criteriaDataArrayView[\"applications\"] }} | Form:\r\n        {{ criteriaDataArrayView[\"form\"] }}\r\n      </div>\r\n    </ng-template>\r\n    <p-table\r\n      [value]=\"criteriaDataArrayView\"\r\n      class=\"criteria-view-table\"\r\n      [rowHover]=\"true\"\r\n      [style]=\"{ width: '100%' }\"\r\n    >\r\n      <ng-template pTemplate=\"header\">\r\n        <tr>\r\n          <th>Field Name</th>\r\n          <th>Display Name</th>\r\n          <th>Field Type</th>\r\n          <th>Operator</th>\r\n          <th>Criteria Priority</th>\r\n        </tr>\r\n      </ng-template>\r\n      <ng-template pTemplate=\"body\" let-product>\r\n        <tr>\r\n          <td>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"{{ product.fieldName }}\"\r\n              [disabled]=\"true\"\r\n            />\r\n          </td>\r\n          <td>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"{{ product.displayName }}\"\r\n              [disabled]=\"true\"\r\n            />\r\n          </td>\r\n          <td>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"{{ product.fieldType }}\"\r\n              [disabled]=\"true\"\r\n            />\r\n          </td>\r\n          <td>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"{{ product.operations }}\"\r\n              [disabled]=\"true\"\r\n              style=\"width: 200px\"\r\n            />\r\n          </td>\r\n          <td>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"{{ product.orderID }}\"\r\n              [disabled]=\"true\"\r\n              style=\"text-align: center; width: 90px;\"\r\n            />\r\n          </td>\r\n        </tr>\r\n      </ng-template>\r\n    </p-table>\r\n  </p-dialog>\r\n</div>\r\n","import { Component, OnInit } from \"@angular/core\";\r\nimport {\r\n  UntypedFormBuilder,\r\n  UntypedFormControl,\r\n  Validators,\r\n} from \"@angular/forms\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { ConfirmationService } from \"primeng/api\";\r\nimport { Observable, forkJoin } from \"rxjs\";\r\nimport { map, take } from \"rxjs/operators\";\r\nimport { CoreService } from \"src/app/core.service\";\r\nimport { CriteriaSettingsService } from \"../criteria-settings.service\";\r\n\r\n@Component({\r\n  selector: \"app-criteria-settings-detail\",\r\n  templateUrl: \"./criteria-settings-detail.component.html\",\r\n  styleUrls: [\"./criteria-settings-detail.component.scss\"],\r\n  providers: [ConfirmationService],\r\n})\r\nexport class CriteriaSettingsDetailComponent implements OnInit {\r\n  primaryColor = \"var(--primary-color)\";\r\n\r\n  selectAppForm: any;\r\n  selectFields: any[] = [];\r\n  duplicateCriteria = false;\r\n  restoreSelectFields: any[] = [];\r\n\r\n  selectedFields: any[] = [];\r\n\r\n  criteriaApplicationOptions: any[] = [];\r\n  criteriaFormsOptions: any[] = [];\r\n  criteriaModuleOptions: any[] = [];\r\n\r\n  criteriaOperatorsOptions: any[] = [];\r\n\r\n  isFieldsQueriesData: boolean = false;\r\n  fieldsQueriesData: any = [];\r\n\r\n  invalidForSave = false;\r\n\r\n  userData: any;\r\n\r\n  criteriaId = \"\";\r\n  criteriaSettingtable = [];\r\n  criteriaSettingDetails: any = {};\r\n  orderIDArray: any = [];\r\n  criteriaSettingtableopt: [];\r\n\r\n  params: any;\r\n  isCloneMode = false;\r\n  criteriaDependancyOptions = [];\r\n  mode = \"add\";\r\n  criteriaTypeOp: any;\r\n\r\n  cols: any[] = [\r\n    {\r\n      field: \"fieldName\",\r\n      header: \"Field Name\",\r\n      width: \"20%\",\r\n      isMandatory: false,\r\n    },\r\n    {\r\n      field: \"displayName\",\r\n      header: \"Display Name\",\r\n      width: \"20%\",\r\n      isMandatory: false,\r\n    },\r\n    { field: \"operator\", header: \"Operator \", width: \"20%\", isMandatory: true },\r\n    {\r\n      field: \"criteriaPriority\",\r\n      header: \"Criteria Priority\",\r\n      width: \"15%\",\r\n      isMandatory: true,\r\n    },\r\n    {\r\n      field: \"isMandatory\",\r\n      header: \"Is Mandatory\",\r\n      width: \"15%\",\r\n      isMandatory: false,\r\n    },\r\n    {\r\n      field: \"dependency\",\r\n      header: \"Dependency\",\r\n      width: \"10%\",\r\n      isMandatory: true,\r\n    },\r\n  ];\r\n\r\n  state$: Observable<any>;\r\n\r\n  constructor(\r\n    private confirmationService: ConfirmationService,\r\n    private fb: UntypedFormBuilder,\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private criteriaSettingsService: CriteriaSettingsService,\r\n    private coreService: CoreService,\r\n    private activatedRoute: ActivatedRoute\r\n  ) {\r\n    this.state$ = this.route.paramMap.pipe(map(() => window.history.state));\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.params = this.activatedRoute.snapshot.params;\r\n    this.mode = this.activatedRoute.snapshot.routeConfig.path.substring(\r\n      this.activatedRoute.snapshot.routeConfig.path.lastIndexOf(\"/\") + 1\r\n    );\r\n    this.coreService.displayLoadingScreen();\r\n    this.userData = JSON.parse(localStorage.getItem(\"userData\"));\r\n    this.route.data.subscribe((data) => {\r\n      this.coreService.setBreadCrumbMenu(Object.values(data));\r\n    });\r\n    this.setSelectAppForm();\r\n\r\n    this.mode == \"edit\" && this.appCtrl.disable() && this.formCtrl.disable();\r\n    if (this.mode == \"clone\") {\r\n      this.formCtrl.enable();\r\n      this.moduleCtrl.enable();\r\n    }\r\n\r\n    // !\r\n    this.criteriaApplicationOptions = JSON.parse(\r\n      localStorage.getItem(\"appAccess\")\r\n    );\r\n    this.criteriaModuleOptions = JSON.parse(localStorage.getItem(\"modAccess\"));\r\n\r\n    let defAppMod = JSON.parse(localStorage.getItem(\"defAppModule\"));\r\n    let defApp = null;\r\n    let defMod = null;\r\n    if (defAppMod) {\r\n      defApp = JSON.parse(localStorage.getItem(\"applicationName\"));\r\n      defMod = JSON.parse(localStorage.getItem(\"moduleName\"));\r\n    }\r\n\r\n    if (defApp) {\r\n      this.appCtrl.patchValue(defApp);\r\n    }\r\n    if (defMod) {\r\n      this.moduleCtrl.patchValue(defMod);\r\n      this.moduleCtrl.enable();\r\n      this.formCtrl.enable();\r\n    }\r\n\r\n    // !\r\n\r\n    this.criteriaSettingsService\r\n      .getCriteriaAppFormsList()\r\n      .pipe(take(1))\r\n      .subscribe(\r\n        (res) => {\r\n          if (\r\n            res[\"status\"] &&\r\n            typeof res[\"status\"] == \"string\" &&\r\n            (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n          ) {\r\n            if (res[\"error\"]) {\r\n              this.coreService.showWarningToast(res[\"error\"]);\r\n            } else {\r\n              this.coreService.showWarningToast(res[\"msg\"]);\r\n            }\r\n          } else {\r\n            if (res[\"data\"]) {\r\n              this.criteriaFormsOptions = res[\"data\"][\r\n                \"cmCriteriaFormsMaster\"\r\n              ].map((app) => {\r\n                return { name: app.criteriaForms, code: app.criteriaForms };\r\n              });\r\n              this.criteriaOperatorsOptions = res[\"data\"][\r\n                \"systemOperatorsMaster\"\r\n              ].map((app) => {\r\n                return { name: app.codeName, code: app.codeName };\r\n              });\r\n              const params = this.activatedRoute.snapshot.params;\r\n              if (params && params.id) {\r\n                this.isCloneMode = true;\r\n                this.setCloneCriteriaData(params.id);\r\n                this.criteriaId = params.id;\r\n              }\r\n            } else if (res[\"msg\"]) {\r\n              this.coreService.showWarningToast(res[\"msg\"]);\r\n              this.appCtrl.disable();\r\n              this.formCtrl.disable();\r\n            }\r\n          }\r\n        },\r\n        (err) => {\r\n          this.appCtrl.disable();\r\n          this.formCtrl.disable();\r\n          console.log(\"Error in Criteria App Form List\", err);\r\n        }\r\n      )\r\n      .add(() => {\r\n        if (!(this.params && this.params.id)) {\r\n          this.coreService.removeLoadingScreen();\r\n        }\r\n      });\r\n  }\r\n\r\n  setSelectAppForm() {\r\n    this.selectAppForm = this.fb.group({\r\n      applications: new UntypedFormControl({ value: \"\", disabled: false }, [\r\n        Validators.required,\r\n      ]),\r\n      forms: new UntypedFormControl({ value: \"\", disabled: true }, [\r\n        Validators.required,\r\n      ]),\r\n      modules: new UntypedFormControl({ value: \"\", disabled: true }, [\r\n        Validators.required,\r\n      ]),\r\n    });\r\n  }\r\n\r\n  get appCtrl() {\r\n    return this.selectAppForm.get(\"applications\");\r\n  }\r\n  get moduleCtrl() {\r\n    return this.selectAppForm.get(\"modules\");\r\n  }\r\n  get formCtrl() {\r\n    return this.selectAppForm.get(\"forms\");\r\n  }\r\n\r\n  onAppChange(e: any) {\r\n    if (!this.isCloneMode) {\r\n      this.criteriaSettingtable = [];\r\n      this.selectedFields = [];\r\n      this.formCtrl.reset();\r\n      this.selectFields = [];\r\n      this.moduleCtrl.reset();\r\n    }\r\n    this.moduleCtrl.enable();\r\n  }\r\n\r\n  onModuleChange() {\r\n    if (!this.isCloneMode) {\r\n      this.formCtrl.reset();\r\n      this.criteriaSettingtable = [];\r\n      this.selectedFields = [];\r\n      this.selectFields = [];\r\n    }\r\n    this.formCtrl.enable();\r\n  }\r\n\r\n  onFormChange(e: any) {\r\n    this.executeQueries();\r\n  }\r\n\r\n  executeQueries() {\r\n    if (this.mode == \"add\") {\r\n      this.coreService.displayLoadingScreen();\r\n      this.selectFields = [];\r\n      this.selectedFields = [];\r\n      this.criteriaSettingtable = [];\r\n      this.criteriaSettingsService\r\n        .getCriteriaFieldsExecuteQueries()\r\n        .pipe(take(1))\r\n        .subscribe(\r\n          (res) => {\r\n            if (\r\n              res[\"status\"] &&\r\n              typeof res[\"status\"] == \"string\" &&\r\n              (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n            ) {\r\n              if (res[\"error\"]) {\r\n                this.coreService.showWarningToast(res[\"error\"]);\r\n              } else {\r\n                this.coreService.showWarningToast(res[\"msg\"]);\r\n              }\r\n            } else {\r\n              if (res[\"data\"]) {\r\n                this.isFieldsQueriesData = true;\r\n                this.fieldsQueriesData =\r\n                  res[\"data\"][\"cmCriteriaOperationsMasters\"];\r\n                this.selectFields = [...this.fieldsQueriesData];\r\n                this.restoreSelectFields = [...this.fieldsQueriesData];\r\n                this.selectFields.forEach((item) => {\r\n                  item[\"operationOption\"] = this.criteriaOperatorsOptions.map(\r\n                    (x) => {\r\n                      return { label: x.name, code: x.name };\r\n                    }\r\n                  );\r\n                  item[\"orderID\"] = \"\";\r\n                  item[\"operations\"] = \"\";\r\n                  item[\"iSMandatory\"] =\r\n                    item[\"iSMandatory\"] == \"yes\" ? true : false;\r\n                  item[\"dependencyOptions\"] = item.dependency\r\n                    ?.split(\",\")\r\n                    .map((x) => {\r\n                      return { label: x, code: x };\r\n                    });\r\n                  item[\"dependency\"] = \"\";\r\n                });\r\n              } else if (res[\"msg\"]) {\r\n                this.isFieldsQueriesData = false;\r\n                this.coreService.showWarningToast(res[\"msg\"]);\r\n              }\r\n            }\r\n          },\r\n          (err) => {\r\n            console.log(\"error in getting fields queries\", err);\r\n          }\r\n        )\r\n        .add(() => {\r\n          this.coreService.removeLoadingScreen();\r\n        });\r\n    }\r\n  }\r\n\r\n  executeBtnClick() {\r\n    this.selectedFields.forEach((item) => {\r\n      if (!item[\"operationOption\"]) {\r\n        item[\"operationOption\"] = this.criteriaOperatorsOptions.map((x) => {\r\n          return { label: x.name, code: x.name };\r\n        });\r\n        let index = this.criteriaSettingtable.findIndex(\r\n          (x) => x.fieldName == item.fieldName\r\n        );\r\n        if (index == -1) {\r\n          item[\"operations\"] = \"\";\r\n        } else {\r\n          item[\"operations\"] = this.criteriaSettingtable[index][\"operations\"];\r\n        }\r\n      }\r\n      if (!item[\"dependencyOptions\"]) {\r\n        if (item.dependency) {\r\n          item[\"dependencyOptions\"] = item[\"dependency\"]\r\n            ? item[\"dependency\"].split(\",\").map((opt) => {\r\n                return { label: opt, value: opt };\r\n              })\r\n            : [];\r\n        } else {\r\n          item[\"dependency\"] = \"\";\r\n          item[\"dependencyOptions\"] = [];\r\n        }\r\n\r\n        let index = this.criteriaSettingtable.findIndex(\r\n          (x) => x.fieldName == item.fieldName\r\n        );\r\n        if (index == -1) {\r\n          item[\"dependency\"] = \"\";\r\n        } else {\r\n          item[\"dependency\"] = this.criteriaSettingtable[index][\"dependency\"];\r\n        }\r\n      }\r\n      let index = this.criteriaSettingtable.findIndex(\r\n        (x) => x.fieldName == item.fieldName\r\n      );\r\n      if (index == -1) {\r\n        item[\"iSMandatory\"] = item[\"iSMandatory\"] == \"yes\" ? true : false;\r\n      } else {\r\n        item[\"iSMandatory\"] = this.criteriaSettingtable[index][\"iSMandatory\"];\r\n      }\r\n      if (index == -1) {\r\n        item[\"orderID\"] = \"\";\r\n      } else {\r\n        item[\"orderID\"] = this.criteriaSettingtable[index][\"orderID\"];\r\n      }\r\n    });\r\n    this.criteriaSettingtable = [...this.selectedFields];\r\n    this.orderIDArray = [];\r\n  }\r\n\r\n  checkCriteriaDuplication(action) {\r\n    this.coreService.displayLoadingScreen();\r\n    this.criteriaSettingsService\r\n      .getCriteriaSettingListing()\r\n      .pipe(take(1))\r\n      .subscribe(\r\n        (res) => {\r\n          if (\r\n            res[\"status\"] &&\r\n            typeof res[\"status\"] == \"string\" &&\r\n            (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n          ) {\r\n            if (res[\"error\"]) {\r\n              this.coreService.showWarningToast(res[\"error\"]);\r\n            } else {\r\n              this.coreService.showWarningToast(res[\"msg\"]);\r\n            }\r\n          } else {\r\n            if (res[\"appForm\"] && res[\"appForm\"].length) {\r\n              this.duplicateCriteria = false;\r\n              res[\"appForm\"].forEach((appForm) => {\r\n                let app = appForm.split(\":\")[0];\r\n                let form = appForm.split(\":\")[1];\r\n                let module = appForm.split(\":\")[2];\r\n                if (\r\n                  this.appCtrl.value.code == app &&\r\n                  this.formCtrl.value.code == form &&\r\n                  this.moduleCtrl.value.code == module &&\r\n                  !this.duplicateCriteria\r\n                ) {\r\n                  this.duplicateCriteria = true;\r\n                  this.confirmationService.confirm({\r\n                    message: `Criteria for this Application <b>(${this.appCtrl.value.name})</b>, Module <b>(${this.moduleCtrl.value.name})</b> & Form <b>(${this.formCtrl.value.name})</b> already exists, Do you want to update it?`,\r\n                    accept: () => {\r\n                      this.saveCriteriaFields(action);\r\n                    },\r\n                    reject: () => {\r\n                      this.coreService.showWarningToast(\r\n                        \"Criteria saving revoked\"\r\n                      );\r\n                    },\r\n                  });\r\n                }\r\n              });\r\n              if (!this.duplicateCriteria) {\r\n                this.saveCriteriaFields(action);\r\n              }\r\n            } else {\r\n              this.saveCriteriaFields(action);\r\n            }\r\n          }\r\n        },\r\n        (err) => {\r\n          console.log(\r\n            \"error in getting criteria list for checking duplication\",\r\n            err\r\n          );\r\n        }\r\n      )\r\n      .add(() => {\r\n        this.coreService.removeLoadingScreen();\r\n      });\r\n  }\r\n\r\n  saveCriteriaFields(action: any) {\r\n    this.coreService.displayLoadingScreen();\r\n    let data = {\r\n      form: this.formCtrl.value.code,\r\n      applications: this.appCtrl.value.code,\r\n      moduleName: this.moduleCtrl.value.code,\r\n      createdBy: null,\r\n      createdByID: this.userData.userId,\r\n      status: \"A\",\r\n      cmCriteriaDataDetails: [],\r\n    };\r\n    this.criteriaSettingtable.forEach((criteria) => {\r\n      let operations = [];\r\n      let dependency = [];\r\n      criteria[\"operations\"].forEach((op) => {\r\n        operations.push(op[\"label\"]);\r\n      });\r\n      if (criteria.dependency && criteria.dependency.length) {\r\n        criteria[\"dependency\"].forEach((op) => {\r\n          dependency.push(op[\"label\"]);\r\n        });\r\n      }\r\n\r\n      let criteriaDetails = {\r\n        criteriaType: criteria[\"criteriaType\"],\r\n        fieldName: criteria[\"fieldName\"],\r\n        displayName: criteria[\"displayName\"],\r\n        fieldType: criteria[\"fieldType\"],\r\n        operations: operations.join(\",\"),\r\n        iSMandatory: criteria[\"iSMandatory\"] ? \"yes\" : \"no\",\r\n        orderID: criteria[\"orderID\"],\r\n        dependency: dependency.length ? dependency.join(\",\") : null,\r\n      };\r\n      data[\"cmCriteriaDataDetails\"].push(criteriaDetails);\r\n    });\r\n\r\n    this.criteriaSettingsService.postCriteriaFieldsToSave(data).subscribe(\r\n      (res) => {\r\n        if (\r\n          res[\"status\"] &&\r\n          typeof res[\"status\"] == \"string\" &&\r\n          (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n        ) {\r\n          if (res[\"error\"]) {\r\n            this.coreService.showWarningToast(res[\"error\"]);\r\n          } else {\r\n            this.coreService.showWarningToast(res[\"msg\"]);\r\n          }\r\n        } else {\r\n          if (res[\"msg\"]) {\r\n            if (this.mode == \"clone\") {\r\n              if (this.duplicateCriteria) {\r\n                this.coreService.showSuccessToast(\r\n                  \"Criteria Details updated Sucessfully.\"\r\n                );\r\n              } else {\r\n                this.coreService.showSuccessToast(\r\n                  \"Criteria Clone created Sucessfully.\"\r\n                );\r\n              }\r\n            }\r\n            if (this.mode == \"add\") {\r\n              if (this.duplicateCriteria) {\r\n                this.coreService.showSuccessToast(\r\n                  \"Criteria Details updated Sucessfully.\"\r\n                );\r\n              } else {\r\n                this.coreService.showSuccessToast(\r\n                  \"New criteria added Sucessfully.\"\r\n                );\r\n              }\r\n            }\r\n\r\n            if (this.mode == \"edit\") {\r\n              this.coreService.showSuccessToast(\r\n                \"Criteria Details updated Sucessfully.\"\r\n              );\r\n            }\r\n            if (action == \"save\") {\r\n              this.router.navigate([`navbar/criteria-settings`]);\r\n            } else if (action == \"saveAddNew\") {\r\n              this.router.navigate([\r\n                `navbar/criteria-settings/add-criteria-settings/add`,\r\n              ]);\r\n            }\r\n          }\r\n        }\r\n      },\r\n      (err) => {\r\n        console.log(\"Error in saving criteria\", err);\r\n      }\r\n    );\r\n  }\r\n\r\n  criteriaPriorityValidation(event, field) {\r\n    let orderID = Number(event.target.value);\r\n    if (orderID > this.criteriaSettingtable.length) {\r\n      let msg =\r\n        \"Please enter priority \" +\r\n        (this.criteriaSettingtable.length == 1\r\n          ? \"as 1 only\"\r\n          : \"between 1 to \" + this.criteriaSettingtable.length);\r\n      this.coreService.showWarningToast(msg);\r\n      this.invalidForSave = true;\r\n    } else {\r\n      let index = this.orderIDArray.indexOf(orderID);\r\n      if (orderID <= 0) {\r\n        this.coreService.showWarningToast(\r\n          \"Priority is required and should be atleast 1\"\r\n        );\r\n        this.orderIDArray[this.criteriaSettingtable.indexOf(field)] = orderID;\r\n        this.invalidForSave = true;\r\n      } else {\r\n        if (index == -1 || this.criteriaSettingtable.indexOf(field) == index) {\r\n          orderID > 0 &&\r\n            (this.orderIDArray[this.criteriaSettingtable.indexOf(field)] =\r\n              orderID);\r\n          this.invalidForSave = false;\r\n        } else {\r\n          this.coreService.showWarningToast(\r\n            \"Entered priority is already exist please try with different.\"\r\n          );\r\n          this.invalidForSave = true;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  bindSelectedOperations(values, rowIndex) {\r\n    let selectedOp: any = [];\r\n    selectedOp = [...values.map((x) => x.code)].join(\",\");\r\n  }\r\n\r\n  saveCriteriaSettings(action) {\r\n    let emptyOperation = false;\r\n    let emptyPriority = false;\r\n    let emptydependency = false;\r\n    let validGreaterthanPriority = false;\r\n    this.criteriaSettingtable.forEach((element) => {\r\n      if (element.operations == \"\") {\r\n        emptyOperation = true;\r\n      }\r\n      if (element.orderID > this.criteriaSettingtable.length) {\r\n        validGreaterthanPriority = true;\r\n      }\r\n      if (element.orderID == 0 || element.orderID < 0) {\r\n        emptyPriority = true;\r\n      }\r\n      if (element.dependencyOptions.length && element.dependency.length == 0) {\r\n        emptydependency = true;\r\n      }\r\n    });\r\n    if (emptyOperation) {\r\n      this.coreService.showWarningToast(\"Please select operation.\");\r\n    } else if (emptyPriority) {\r\n      this.coreService.showWarningToast(\"Priority is required.\");\r\n    } else if (validGreaterthanPriority) {\r\n      let msg =\r\n        \"Please enter priority \" +\r\n        (this.criteriaSettingtable.length == 1\r\n          ? \"as 1 only\"\r\n          : \"between 1 to \" + this.criteriaSettingtable.length);\r\n      this.coreService.showWarningToast(msg);\r\n    } else if (emptydependency) {\r\n      this.coreService.showWarningToast(\"Dependency is required.\");\r\n    } else {\r\n      if (this.mode == \"edit\") {\r\n        this.saveCriteriaFields(action);\r\n      } else {\r\n        this.checkCriteriaDuplication(action);\r\n      }\r\n    }\r\n  }\r\n\r\n  setCloneCriteriaData(criteriaId: any) {\r\n    forkJoin({\r\n      cloneCriteriaData:\r\n        this.criteriaSettingsService.getCriteriaCloneData(criteriaId),\r\n      criteriaFieldsData:\r\n        this.criteriaSettingsService.getCriteriaFieldsExecuteQueries(),\r\n    })\r\n      .pipe(\r\n        take(1),\r\n        map((response) => {\r\n          if (\r\n            response.cloneCriteriaData[\"data\"] &&\r\n            response.cloneCriteriaData[\"data\"][\"cloneCriteria\"]\r\n          ) {\r\n            const cloneCriteriaData =\r\n              response.cloneCriteriaData[\"data\"][\"cloneCriteria\"];\r\n            const criteriaFieldsData =\r\n              response.criteriaFieldsData[\"data\"][\r\n                \"cmCriteriaOperationsMasters\"\r\n              ];\r\n            cloneCriteriaData[\"cmCriteriaDataDetails\"].forEach(\r\n              (cloneD: any) => {\r\n                this.orderIDArray.push(cloneD.orderID);\r\n                cloneD[\"operationOption\"] = this.criteriaOperatorsOptions.map(\r\n                  (x) => {\r\n                    return { label: x.name, code: x.name };\r\n                  }\r\n                );\r\n                let selectedOpt = cloneD[\"operations\"].split(\",\");\r\n                cloneD[\"operations\"] = selectedOpt.map((opt) => {\r\n                  return { label: opt, code: opt };\r\n                });\r\n                cloneD[\"iSMandatory\"] =\r\n                  cloneD[\"iSMandatory\"] == \"yes\" ? true : false;\r\n                cloneD[\"dependencyOptions\"] = [];\r\n                let data = criteriaFieldsData.find(\r\n                  (fieldD) => fieldD[\"fieldName\"] == cloneD[\"fieldName\"]\r\n                );\r\n                if (data && data[\"dependency\"]) {\r\n                  cloneD[\"dependencyOptions\"] = /[,]/.test(data[\"dependency\"])\r\n                    ? data[\"dependency\"].split(\",\").map((x) => {\r\n                        return { label: x, value: x };\r\n                      })\r\n                    : [\r\n                        {\r\n                          label: data[\"dependency\"],\r\n                          value: data[\"dependency\"],\r\n                        },\r\n                      ];\r\n                }\r\n\r\n                if (cloneD.dependency) {\r\n                  let selectedDep = /[,]/.test(data[\"dependency\"])\r\n                    ? cloneD[\"dependency\"].split(\",\")\r\n                    : [cloneD[\"dependency\"]];\r\n                  cloneD[\"dependency\"] = selectedDep.map((opt) => {\r\n                    return { label: opt, value: opt };\r\n                  });\r\n                }\r\n              }\r\n            );\r\n            this.isFieldsQueriesData = true;\r\n            this.fieldsQueriesData = [...criteriaFieldsData];\r\n\r\n            this.selectedFields = criteriaFieldsData.filter((crit) => {\r\n              return cloneCriteriaData[\"cmCriteriaDataDetails\"].find(\r\n                (cloneCrit) => {\r\n                  return cloneCrit[\"fieldName\"] == crit[\"fieldName\"];\r\n                }\r\n              );\r\n            });\r\n            this.selectFields = criteriaFieldsData.filter(\r\n              (el) => !this.selectedFields.includes(el)\r\n            );\r\n            return cloneCriteriaData;\r\n          } else {\r\n            if (response.cloneCriteriaData[\"msg\"]) {\r\n              return response.cloneCriteriaData;\r\n            }\r\n          }\r\n        })\r\n      )\r\n      .subscribe(\r\n        (res) => {\r\n          if (res[\"status\"]) {\r\n            if (\r\n              typeof res[\"status\"] == \"string\" &&\r\n              (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n            ) {\r\n              console.log(\"df\", res);\r\n              if (res[\"error\"]) {\r\n                this.coreService.showWarningToast(res[\"error\"]);\r\n              } else {\r\n                this.coreService.showWarningToast(res[\"msg\"]);\r\n              }\r\n            } else {\r\n              this.criteriaSettingtable = res[\"cmCriteriaDataDetails\"];\r\n              this.criteriaSettingtable.forEach((item, i) => {\r\n                item[\"operations\"] = this.criteriaSettingtable[i][\"operations\"];\r\n                item[\"dependency\"] = this.criteriaSettingtable[i][\"dependency\"];\r\n                item[\"iSMandatory\"] =\r\n                  this.criteriaSettingtable[i][\"iSMandatory\"];\r\n              });\r\n\r\n              const appValue = this.criteriaApplicationOptions.find(\r\n                (value) => value.code === res[\"applications\"]\r\n              );\r\n              this.appCtrl.setValue(appValue);\r\n              const formValue = this.criteriaFormsOptions.find(\r\n                (value) => value.code === res[\"form\"]\r\n              );\r\n              this.formCtrl.setValue(formValue);\r\n              const moduleValue = this.criteriaModuleOptions.find(\r\n                (value) => value.code === res[\"moduleName\"]\r\n              );\r\n              this.moduleCtrl.setValue(moduleValue);\r\n            }\r\n          } else if (res[\"msg\"]) {\r\n            this.coreService.showWarningToast(res[\"msg\"]);\r\n            return;\r\n          }\r\n        },\r\n        (err) => {\r\n          this.coreService.showWarningToast(\r\n            \"Error in fetching data, Please try again later\"\r\n          );\r\n        }\r\n      )\r\n      .add(() => {\r\n        if (this.params && this.params.id) {\r\n          this.coreService.removeLoadingScreen();\r\n        }\r\n      });\r\n  }\r\n\r\n  reset() {\r\n    if (this.mode == \"edit\" || this.mode == \"clone\") {\r\n      this.appCtrl.enable();\r\n    }\r\n    this.isFieldsQueriesData = false;\r\n    this.criteriaSettingtable = [];\r\n    this.selectFields = [];\r\n    this.selectedFields = [];\r\n    // this.appCtrl.reset();\r\n    // this.formCtrl.reset();\r\n    // this.formCtrl.disable();\r\n    // this.moduleCtrl.reset();\r\n    // this.moduleCtrl.disable();\r\n  }\r\n}\r\n","<div class=\"visible-main-section\">\r\n  <div class=\"details-page-card\">\r\n    <div class=\"d-flex mx-3\" style=\"justify-content: space-between\">\r\n      <div class=\"col-12\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-8 col-lg-8 col-sm-12 col-xs-12\">\r\n            <div class=\"row\">\r\n              <div class=\"col-1\">\r\n\r\n                <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              width=\"41\"\r\n              height=\"35\"\r\n              viewBox=\"0 0 41 41\"\r\n            >\r\n              <g\r\n                id=\"Group_2248\"\r\n                data-name=\"Group 2248\"\r\n                transform=\"translate(-341 -138)\"\r\n              >\r\n                <circle\r\n                  id=\"Ellipse_130\"\r\n                  data-name=\"Ellipse 130\"\r\n                  cx=\"20.5\"\r\n                  cy=\"20.5\"\r\n                  r=\"20.5\"\r\n                  transform=\"translate(341 138)\"\r\n                  [attr.fill]=\"primaryColor\"\r\n                />\r\n                <path\r\n                  id=\"_52_Note_Basic_Description\"\r\n                  data-name=\"52  Note, Basic, Description\"\r\n                  d=\"M17.054,9.537H9.52a.753.753,0,0,1-.753-.753V5.016a.753.753,0,0,1,.753-.753h.851a3.014,3.014,0,0,1,5.831,0h.851a.753.753,0,0,1,.753.753V8.783A.753.753,0,0,1,17.054,9.537ZM10.274,8.03H16.3V5.77h-.753a.753.753,0,0,1-.753-.753,1.507,1.507,0,0,0-3.014,0,.753.753,0,0,1-.753.753h-.753Zm11.3,12.808V7.277a2.26,2.26,0,0,0-2.26-2.26h-.753V6.523h.753a.753.753,0,0,1,.753.753V20.837a.753.753,0,0,1-.753.753H7.26a.753.753,0,0,1-.753-.753V7.277a.753.753,0,0,1,.753-.753h.753V5.016H7.26A2.26,2.26,0,0,0,5,7.277V20.837A2.26,2.26,0,0,0,7.26,23.1H19.314A2.26,2.26,0,0,0,21.574,20.837ZM17.808,11.8H8.767V13.3h9.041Zm0,3.014H8.767v1.507h9.041Zm0,3.014H8.767v1.507h9.041Z\"\r\n                  transform=\"translate(348.213 145.945)\"\r\n                  fill=\"#fff\"\r\n                />\r\n              </g>\r\n            </svg>\r\n              </div>\r\n              <div class=\"col\">\r\n\r\n                <p class=\"description-text\">\r\n                  \r\n                  Criteria are parameters or fields that are used to select or return a\r\n                  resultant value based on selected form...\r\n                </p>\r\n              </div>\r\n            </div>\r\n    </div>\r\n    <div class=\"col-md-4 col-lg-4 col-sm-12 col-xs-12\">\r\n  <div class=\"row\">\r\n      <div class=\"buttons-section\">\r\n          <button\r\n          pButton\r\n          pRipple\r\n          type=\"button\"\r\n          [disabled]=\"invalidForSave || !criteriaSettingtable.length\"\r\n          label=\"Save\"\r\n          (click)=\"saveCriteriaSettings('save')\"\r\n          class=\"p-button-raised\"\r\n        ></button>\r\n        <button\r\n          pButton\r\n          pRipple\r\n          type=\"button\"\r\n          [disabled]=\"invalidForSave || !criteriaSettingtable.length\"\r\n          label=\"Save & Add New\"\r\n          (click)=\"saveCriteriaSettings('saveAddNew')\"\r\n          class=\"p-button-raised\"\r\n        ></button>\r\n        <button\r\n          pButton\r\n          pRipple\r\n          type=\"button\"\r\n          [disabled]=\"false\"\r\n          label=\"Clear\"\r\n          class=\"p-button-warning\"\r\n          (click)=\"reset()\"\r\n        ></button>\r\n    </div>\r\n  </div>\r\n</div>\r\n</div>\r\n</div>\r\n</div>\r\n    <div [formGroup]=\"selectAppForm\" class=\"select-form-application m-2\">\r\n      <div class=\"col-12\">\r\n        <div class=\"row\">\r\n      <div class=\"d-flex field col-md-4 col-lg-4 col-sm-12 col-xs-12 md-3\">\r\n        <label class=\"detail-page-section-heading col-sm-3 col-xs-12 pr-8\" for=\"application\"\r\n          >Application</label\r\n        >\r\n        <p-dropdown\r\n          name=\"application\"\r\n          inputId=\"application\"\r\n          class=\"smartSearch\"\r\n          [options]=\"criteriaApplicationOptions\"\r\n          placeholder=\"Select\"\r\n          optionLabel=\"name\"\r\n          formControlName=\"applications\"\r\n          (onChange)=\"onAppChange($event)\"\r\n        >\r\n        <ng-template let-options pTemplate=\"item\">\r\n          <div class=\"truncate-text\">\r\n            <div >{{ options.name}}</div>\r\n          </div>\r\n        </ng-template></p-dropdown>\r\n      </div>\r\n      <div class=\"d-flex field col-md-4 col-lg-4 col-sm-12 col-xs-12 md-3\">\r\n        <label class=\"detail-page-section-heading col-sm-3 col-xs-12 small\" for=\"module\">Module</label>\r\n        <p-dropdown\r\n          name=\"module\"\r\n          inputId=\"module\"\r\n          class=\"smartSearch\"\r\n          [options]=\"criteriaModuleOptions\"\r\n          placeholder=\"Select\"\r\n          optionLabel=\"name\"\r\n          formControlName=\"modules\"\r\n          (onChange)=\"onModuleChange()\"\r\n        >\r\n        <ng-template let-options pTemplate=\"item\">\r\n          <div class=\"truncate-text\">\r\n            <div >{{ options.name}}</div>\r\n          </div>\r\n        </ng-template></p-dropdown>\r\n      </div>\r\n      <div class=\"d-flex field col-md-4 col-lg-4 col-sm-12 col-xs-12 md-4\">\r\n        <label class=\"detail-page-section-heading col-sm-3 col-xs-12 smallForm\" for=\"form\">Form</label>\r\n        <p-dropdown\r\n          name=\"form\"\r\n          inputId=\"form\"\r\n          class=\"smartSearch\"\r\n          [options]=\"criteriaFormsOptions\"\r\n          placeholder=\"Select\"\r\n          optionLabel=\"name\"\r\n          formControlName=\"forms\"\r\n          (onChange)=\"executeQueries()\"\r\n        >\r\n        <ng-template let-options pTemplate=\"item\">\r\n          <div class=\"truncate-text\">\r\n            <div >{{ options.name}}</div>\r\n          </div>\r\n        </ng-template></p-dropdown>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n    <div class=\"drag-criteria-fields m-3\">\r\n      <div class=\"d-flex mb-2\">\r\n        <div class=\"detail-page-section-heading list-heading w-50\">\r\n          Select Fields\r\n        </div>\r\n        <div\r\n          class=\"detail-page-section-heading list-heading w-50\"\r\n          style=\"margin-left: 6rem\"\r\n        >\r\n          Selected Fields\r\n        </div>\r\n      </div>\r\n      <p-pickList\r\n        [source]=\"selectFields\"\r\n        [target]=\"selectedFields\"\r\n        [showSourceControls]=\"false\"\r\n        [showTargetControls]=\"false\"\r\n        [dragdrop]=\"true\"\r\n      >\r\n        <ng-template let-field pTemplate=\"item\">\r\n          <div class=\"field-item\">\r\n            {{ field.displayName }}\r\n          </div>\r\n        </ng-template>\r\n      </p-pickList>\r\n    </div>\r\n    <div\r\n      class=\"form-app-heading-execute-btn d-flex mx-3\"\r\n      style=\"justify-content: flex-end\"\r\n    >\r\n      <button\r\n        pButton\r\n        pRipple\r\n        type=\"button\"\r\n        [disabled]=\"!selectedFields.length\"\r\n        label=\"Execute\"\r\n        class=\"p-button-raised\"\r\n        (click)=\"executeBtnClick()\"\r\n      ></button>\r\n    </div>\r\n\r\n    <div class=\"application-table\">\r\n      <div class=\"application-header\" *ngIf=\"criteriaSettingtable.length\">\r\n        Application: {{ appCtrl.value && appCtrl.value.name }} | Module:\r\n        {{ moduleCtrl.value && moduleCtrl.value.name }} | Form:\r\n        {{ formCtrl.value && formCtrl.value.name }}\r\n      </div>\r\n      <div class=\"application-ptable\" *ngIf=\"criteriaSettingtable.length\">\r\n        <p-table\r\n          #dt\r\n          [value]=\"criteriaSettingtable\"\r\n          class=\"criteria-view-table\"\r\n          [rowHover]=\"true\"\r\n          [scrollable]=\"true\"\r\n          scrollHeight=\"375px\"\r\n          [style]=\"{ width: '100%' }\"\r\n        >\r\n          <ng-template pTemplate=\"header\">\r\n            <tr>\r\n              <th\r\n                *ngFor=\"let col of cols; let i = index\"\r\n                [style.width]=\"col.width\"\r\n              >\r\n                {{ col.header\r\n                }}<span class=\"red-star\" *ngIf=\"col.isMandatory\">*</span>\r\n              </th>\r\n            </tr>\r\n            <tr class=\"search-row\">\r\n              <th *ngFor=\"let col of cols; let i = index\">\r\n                <span\r\n                  *ngIf=\"col.field == 'fieldName' || col.field == 'displayName'\"\r\n                  class=\"p-input-icon-left\"\r\n                  [style.width]=\"'120px'\"\r\n                >\r\n                  <i class=\"pi pi-search\"></i>\r\n                  <input\r\n                    type=\"text\"\r\n                    class=\"p-inputtext table-search\"\r\n                    placeholder=\"Search\"\r\n                    (input)=\"\r\n                      dt.filter($event.target.value, col.field, 'contains')\r\n                    \"\r\n                  />\r\n                </span>\r\n              </th>\r\n            </tr>\r\n          </ng-template>\r\n          <ng-template\r\n            pTemplate=\"body\"\r\n            let-product\r\n            let-col=\"settingsCol\"\r\n            let-rowIndex=\"rowIndex\"\r\n          >\r\n            <tr>\r\n              <td>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"{{ product.fieldName }}\"\r\n                  [disabled]=\"true\"\r\n                />\r\n              </td>\r\n              <td>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"{{ product.displayName }}\"\r\n                  [disabled]=\"true\"\r\n                />\r\n              </td>\r\n              <td>\r\n                <p-multiSelect\r\n                  id=\"operationsmulti\"\r\n                  [options]=\"product.operationOption\"\r\n                  [(ngModel)]=\"product.operations\"\r\n                  defaultLabel=\"Select\"\r\n                  [showHeader]=\"false\"\r\n                  (onChange)=\"\r\n                    bindSelectedOperations(product.operations, rowIndex)\r\n                  \"\r\n                  optionLabel=\"label\"\r\n                  [maxSelectedLabels]=\"5\"\r\n                  [appendTo]=\"'body'\"\r\n                ></p-multiSelect>\r\n              </td>\r\n              <td>\r\n                <input\r\n                  type=\"number\"\r\n                  min=\"1\"\r\n                  [value]=\"product.orderID\"\r\n                  [(ngModel)]=\"product.orderID\"\r\n                  placeholder=\"{{ product.orderID }}\"\r\n                  [disabled]=\"false\"\r\n                  (blur)=\"criteriaPriorityValidation($event, product)\"\r\n                  style=\"\r\n                    width: 90px;\r\n                    margin-left: 10px;\r\n                    background-color: #f4f6fa;\r\n                  \"\r\n                />\r\n              </td>\r\n              <td style=\"text-align: center\">\r\n                <input\r\n                  #box\r\n                  type=\"checkbox\"\r\n                  style=\"width: 20px\"\r\n                  [ngStyle]=\"{\r\n                    accentColor: box.checked ? 'var(--primary-color)' : '#fff'\r\n                  }\"\r\n                  [value]=\"product.iSMandatory\"\r\n                  [(ngModel)]=\"product.iSMandatory\"\r\n                />\r\n              </td>\r\n              <td>\r\n                <p-multiSelect\r\n                  id=\"dependencymulti\"\r\n                  [options]=\"product.dependencyOptions\"\r\n                  [(ngModel)]=\"product.dependency\"\r\n                  defaultLabel=\"Select\"\r\n                  [showHeader]=\"false\"\r\n                  optionLabel=\"label\"\r\n                  [maxSelectedLabels]=\"5\"\r\n                  [appendTo]=\"'body'\"\r\n                ></p-multiSelect>\r\n              </td>\r\n            </tr>\r\n          </ng-template>\r\n          <ng-template pTemplate=\"emptymessage\">\r\n            <tr>\r\n              <td [attr.colspan]=\"cols.length\">No Data found.</td>\r\n            </tr>\r\n          </ng-template>\r\n        </p-table>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</div>\r\n<p-confirmDialog\r\n  header=\"Confirmation\"\r\n  icon=\"pi pi-exclamation-triangle\"\r\n  [appendTo]=\"'body'\"\r\n></p-confirmDialog>\r\n","import { HttpClient } from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class CriteriaSettingsService {\r\n  constructor(private http: HttpClient) {}\r\n\r\n  getCriteriaSettingListing() {\r\n    return this.http.get(\r\n      `/appControl/applicationSettingsController/getListOfCriteria`\r\n    );\r\n  }\r\n\r\n  getCriteriaAppFormsList() {\r\n    return this.http.get(\r\n      `/appControl/applicationSettingsController/criteriaTypes`\r\n    );\r\n  }\r\n\r\n  getCriteriaFieldsExecuteQueries() {\r\n    return this.http.get(\r\n      `/appControl/applicationSettingsController/executeQueries`\r\n    );\r\n  }\r\n\r\n  getCriteriaCloneData(criteriaId: any) {\r\n    return this.http.get(\r\n      `/appControl/applicationSettingsController/getCriteriaClone/${criteriaId}`\r\n    );\r\n  }\r\n  postCriteriaFieldsToSave(data: any) {\r\n    return this.http.post(\r\n      `/appControl/applicationSettingsController/saveCriteria`,\r\n      data\r\n    );\r\n  }\r\n}\r\n","import { Component, OnDestroy, OnInit } from \"@angular/core\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { CoreService } from \"src/app/core.service\";\r\n\r\n@Component({\r\n  selector: \"app-add-customer\",\r\n  templateUrl: \"./add-customer.component.html\",\r\n  styleUrls: [\"./add-customer.component.scss\"],\r\n})\r\nexport class AddCustomerComponent implements OnInit {\r\n  constructor(\r\n    private coreService: CoreService,\r\n    private activatedRoute: ActivatedRoute,\r\n    private router: Router\r\n  ) {\r\n    console.log(\";:HI\");\r\n  }\r\n\r\n  clog = console.log;\r\n\r\n  activeTabIndex: any = \"0\";\r\n  previousTabIndex: any = \"0\";\r\n\r\n  relatedPartyInParent: any = \"C\";\r\n\r\n  existingCustomerMissingDocCaseId: any = null;\r\n\r\n  isNormalCustomer: any = true;\r\n\r\n  newAddedCustAsParty = null;\r\n\r\n  editRelatedPartyId: any = null;\r\n\r\n  editFromPartyTable: any = false;\r\n\r\n  userId = null;\r\n\r\n  mode = \"add\";\r\n  custId = null;\r\n  custType = \"IND\";\r\n\r\n  newAddedCustAsPartyFn(data: any) {\r\n    console.log(\";::\", data);\r\n    this.newAddedCustAsParty = data;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.coreService.displayLoadingScreen();\r\n    this.activatedRoute.data.subscribe((data) => {\r\n      this.coreService.setBreadCrumbMenu(Object.values(data));\r\n    });\r\n    this.userId = JSON.parse(localStorage.getItem(\"userData\"))[\"userId\"];\r\n\r\n    const params = this.activatedRoute.snapshot.params;\r\n    console.log(params);\r\n    if (params && params.type) {\r\n      this.custType = params.type;\r\n      if (this.custType == \"COR\") {\r\n        this.activeTabIndex = 1;\r\n        this.previousTabIndex = 1;\r\n      } else {\r\n        this.activeTabIndex = 0;\r\n      }\r\n    }\r\n    if (params && params.id) {\r\n      this.mode = this.activatedRoute.snapshot.routeConfig.path.substring(\r\n        this.activatedRoute.snapshot.routeConfig.path.lastIndexOf(\"/\") + 1\r\n      );\r\n      this.custId = params.id;\r\n    }\r\n  }\r\n\r\n  handleChange(event: any) {\r\n    console.log(event);\r\n    this.activeTabIndex = event.index;\r\n    if (this.activeTabIndex != this.previousTabIndex) {\r\n      this.previousTabIndex = this.activeTabIndex;\r\n    }\r\n    if (this.activeTabIndex != 0) {\r\n      this.custType = \"COR\";\r\n      this.router.navigate([\r\n        \"navbar\",\r\n        \"customer-profile\",\r\n        \"addnewcustomer\",\r\n        \"COR\",\r\n      ]);\r\n\r\n    } else {\r\n      this.custType = \"IND\";\r\n      this.router.navigate([\r\n        \"navbar\",\r\n        \"customer-profile\",\r\n        \"addnewcustomer\",\r\n        \"IND\",\r\n      ]);\r\n    }\r\n  }\r\n}\r\n","<div class=\"row visible-main-section\">\r\n  <ng-container *ngIf=\"relatedPartyInParent != 'C'\">\r\n    <div class=\"infoicon my-3\">\r\n      <i class=\"pi pi-info-circle\"></i>\r\n      <span\r\n        *ngIf=\"\r\n          relatedPartyInParent && existingCustomerMissingDocCaseId;\r\n          else cust_relatedParty_case\r\n        \"\r\n        class=\"font-medium\"\r\n      >\r\n        Edit Existing Customer as Party\r\n      </span>\r\n\r\n      <ng-template #cust_relatedParty_case>\r\n        <span\r\n          class=\"font-medium\"\r\n          *ngIf=\"editRelatedPartyId; else add_custParty_case\"\r\n          >Edit Customer as Party</span\r\n        >\r\n        <ng-template #add_custParty_case>\r\n          <span class=\"font-medium\">Add new Customer as Party</span>\r\n        </ng-template>\r\n      </ng-template>\r\n    </div>\r\n  </ng-container>\r\n\r\n  <div class=\"col-12\">\r\n    <p-tabView\r\n      (onChange)=\"handleChange($event)\"\r\n      [(activeIndex)]=\"activeTabIndex\"\r\n      [hidden]=\"relatedPartyInParent != 'C'\"\r\n    >\r\n      <p-tabPanel [disabled]=\"mode == 'edit' && custType == 'COR'\">\r\n        <ng-template pTemplate=\"header\">\r\n          <span\r\n            [pTooltip]=\"\r\n              custType == 'COR'\r\n                ? 'Make sure to save current customer data before leaving !'\r\n                : ''\r\n            \"\r\n            tooltipPosition=\"right\"\r\n            >Individual</span\r\n          >\r\n        </ng-template>\r\n        <ng-template pTemplate=\"content\">\r\n          <app-customer-form\r\n            *ngIf=\"custType == 'IND'\"\r\n            [userId]=\"userId\"\r\n            [mode]=\"mode\"\r\n            [custType]=\"custType\"\r\n            [custId]=\"custId\"\r\n            [relatedParty]=\"relatedPartyInParent\"\r\n            [newAddedCustAsParty]=\"newAddedCustAsParty\"\r\n            (showFormForRelatedParty)=\"relatedPartyInParent = $event\"\r\n            (existingCustomerMissingDocCaseId)=\"\r\n              existingCustomerMissingDocCaseId = $event; isNormalCustomer = true\r\n            \"\r\n            (editRelatedPartyId)=\"\r\n              editRelatedPartyId = $event; isNormalCustomer = false\r\n            \"\r\n            (onEditFromPartyTable)=\"editFromPartyTable = $event\"\r\n          ></app-customer-form>\r\n        </ng-template>\r\n      </p-tabPanel>\r\n      <p-tabPanel [disabled]=\"mode == 'edit' && custType == 'IND'\">\r\n        <ng-template pTemplate=\"header\">\r\n          <span\r\n            [pTooltip]=\"\r\n              custType == 'IND'\r\n                ? 'Make sure to save current customer data before leaving !'\r\n                : ''\r\n            \"\r\n            tooltipPosition=\"right\"\r\n            >Corporate</span\r\n          >\r\n        </ng-template>\r\n        <ng-template pTemplate=\"content\">\r\n          <app-customer-form\r\n            *ngIf=\"custType == 'COR'\"\r\n            [userId]=\"userId\"\r\n            [mode]=\"mode\"\r\n            [custType]=\"custType\"\r\n            [custId]=\"custId\"\r\n            [relatedParty]=\"relatedPartyInParent\"\r\n            [newAddedCustAsParty]=\"newAddedCustAsParty\"\r\n            (showFormForRelatedParty)=\"relatedPartyInParent = $event\"\r\n            (existingCustomerMissingDocCaseId)=\"\r\n              existingCustomerMissingDocCaseId = $event; isNormalCustomer = true\r\n            \"\r\n            (editRelatedPartyId)=\"\r\n              editRelatedPartyId = $event; isNormalCustomer = false\r\n            \"\r\n            (onEditFromPartyTable)=\"editFromPartyTable = $event\"\r\n          ></app-customer-form>\r\n        </ng-template>\r\n      </p-tabPanel>\r\n    </p-tabView>\r\n    <app-customer-form\r\n      *ngIf=\"\r\n        relatedPartyInParent != 'C' &&\r\n        !existingCustomerMissingDocCaseId &&\r\n        !editRelatedPartyId\r\n      \"\r\n      [userId]=\"userId\"\r\n      [mode]=\"'add'\"\r\n      [custType]=\"'IND'\"\r\n      [custId]=\"null\"\r\n      [relatedParty]=\"relatedPartyInParent\"\r\n      [isNormalCustomer]=\"null\"\r\n      (showFormForRelatedParty)=\"relatedPartyInParent = $event\"\r\n      (existingCustomerMissingDocCaseId)=\"\r\n        existingCustomerMissingDocCaseId = $event; isNormalCustomer = null\r\n      \"\r\n      (onNewlyAddedCustomerAsPartyDetails)=\"newAddedCustAsPartyFn($event)\"\r\n    ></app-customer-form>\r\n    <app-customer-form\r\n      *ngIf=\"\r\n        relatedPartyInParent != 'C' &&\r\n        !existingCustomerMissingDocCaseId &&\r\n        editRelatedPartyId\r\n      \"\r\n      [userId]=\"userId\"\r\n      [mode]=\"'edit'\"\r\n      [custType]=\"'IND'\"\r\n      [custId]=\"editRelatedPartyId\"\r\n      [relatedParty]=\"relatedPartyInParent\"\r\n      [isNormalCustomer]=\"isNormalCustomer\"\r\n      [originalCustomerType]=\"custType\"\r\n      [originalCustomerCode]=\"custId\"\r\n      [editRelatedPartyId]=\"editRelatedPartyId\"\r\n      [editFromPartyTable]=\"editFromPartyTable\"\r\n      (showFormForRelatedParty)=\"relatedPartyInParent = $event\"\r\n      (onNewlyAddedCustomerAsPartyDetails)=\"newAddedCustAsPartyFn($event)\"\r\n    ></app-customer-form>\r\n    <app-customer-form\r\n      *ngIf=\"relatedPartyInParent != 'C' && existingCustomerMissingDocCaseId\"\r\n      [userId]=\"userId\"\r\n      [mode]=\"'edit'\"\r\n      [custType]=\"'IND'\"\r\n      [custId]=\"existingCustomerMissingDocCaseId\"\r\n      [originalCustomerType]=\"custType\"\r\n      [originalCustomerCode]=\"custId\"\r\n      [relatedParty]=\"relatedPartyInParent\"\r\n      [isNormalCustomer]=\"isNormalCustomer\"\r\n      [editFromPartyTable]=\"editFromPartyTable\"\r\n      (showFormForRelatedParty)=\"relatedPartyInParent = $event\"\r\n      (existingCustomerMissingDocCaseId)=\"\r\n        existingCustomerMissingDocCaseId = $event; isNormalCustomer = null\r\n      \"\r\n    ></app-customer-form>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit, ViewChild } from \"@angular/core\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { CoreService } from \"../core.service\";\r\nimport { CustomerProfileService } from \"./customer-profile.service\";\r\nimport { MultiSelect } from \"primeng/multiselect\";\r\nimport { ConfirmDialog } from \"primeng/confirmdialog\";\r\nimport { ConfirmationService } from \"primeng/api\";\r\nimport { Observable, forkJoin } from \"rxjs\";\r\nimport { HttpClient, HttpHeaders } from \"@angular/common/http\";\r\n\r\n@Component({\r\n  selector: \"app-customer-profile\",\r\n  templateUrl: \"./customer-profile.component.html\",\r\n  styleUrls: [\"./customer-profile.component.scss\"],\r\n})\r\nexport class CustomerProfileComponent implements OnInit {\r\n  showcustomerCodeOptions: boolean = false;\r\n  showfullNameOptions: boolean = false;\r\n  shownationalityOptions: boolean = false;\r\n  showmobileNumberOptions: boolean = false;\r\n  showidTypeOptions: boolean = false;\r\n  showidNumberOptions: boolean = false;\r\n  showbeneficiaryCountOptions: boolean = false;\r\n  showstatusOptions: boolean = false;\r\n  deactivated: boolean = false;\r\n  showAddCustomer: boolean = false;\r\n\r\n  customerCode = [];\r\n  fullName = [];\r\n  nationality = [];\r\n  mobileNumber = [];\r\n  idType = [];\r\n  idNumber = [];\r\n  beneficiaryCount = [];\r\n  status = [];\r\n\r\n  userData: any = {};\r\n  selectedFiltercustomerCode: any[] = [];\r\n  selectedFilterfullName: any[] = [];\r\n  selectedFilternationality: any[] = [];\r\n  selectedFiltermobileNumber: any[] = [];\r\n  selectedFilteridType: any[] = [];\r\n  selectedFilteridNumber: any[] = [];\r\n  selectedFilterbeneficiaryCount: any[] = [];\r\n  selectedFilterstatus: any[] = [];\r\n\r\n  loading: boolean = true;\r\n\r\n  noDataMsg: string = \"Form Rule Data Not Available\";\r\n\r\n  showTable = false;\r\n\r\n  objectKeys = Object.keys;\r\n  @ViewChild(\"cd\") cd: ConfirmDialog;\r\n\r\n  showNoDataFound: boolean = false;\r\n\r\n  formName = null;\r\n  applicationName = JSON.parse(localStorage.getItem(\"applicationName\"));\r\n  moduleName = JSON.parse(localStorage.getItem(\"moduleName\"));\r\n  pageNumber = 1;\r\n  pageSize = 10;\r\n  totalPages = 5;\r\n  totalRecords = 0;\r\n  sortBy = \"id\";\r\n  orderBy = \"DESC\";\r\n\r\n  linkedFormRuleCode: any = [];\r\n  constructor(\r\n    private router: Router,\r\n    private coreService: CoreService,\r\n    private route: ActivatedRoute,\r\n    private confirmationService: ConfirmationService,\r\n    private customerService: CustomerProfileService,\r\n    private http: HttpClient\r\n  ) {}\r\n\r\n  showAddBtn = \"benef\";\r\n  customerType = \"\";\r\n  customerFieldType = \"\";\r\n  criteriaTypechange = \"\";\r\n  type = \"Individual\";\r\n\r\n  criteriaType: any = \"text\";\r\n\r\n  customerData: any = [];\r\n  userTypeOptions = [\r\n    { name: \"Individual\", code: \"Individual\" },\r\n    { name: \"Corporate\", code: \"Corporate\" },\r\n  ];\r\n\r\n  searchCriteriaApiData = [];\r\n\r\n  searchCriteriaOptions = [];\r\n  searchCriteria = [];\r\n  currentCriteriaKey = \"\";\r\n  currentCriteriaValue = \"\";\r\n  currentCriteria = \"\";\r\n\r\n  currentCriteriaMapKey = \"\";\r\n  searchCriteriaMap = [];\r\n  currentCriteriaMap = \"\";\r\n  criteriaMap = \"NA\";\r\n\r\n  columns: any[] = [\r\n    {\r\n      field: \"customerCode\",\r\n      header: \"Customer Code\",\r\n      width: \"10%\",\r\n      searchWidth: \"120px\",\r\n    },\r\n    {\r\n      field: \"fullName\",\r\n      header: \"Customer Full Name\",\r\n      width: \"36%\",\r\n      searchWidth: \"100%\",\r\n    },\r\n    // { field: \"nationality\", header: \"Nationality\" },\r\n    {\r\n      field: \"mobileNumber\",\r\n      header: \"Mobile Number\",\r\n      width: \"10%\",\r\n      searchWidth: \"120px\",\r\n    },\r\n    { field: \"idType\", header: \"ID Type\", width: \"8%\", searchWidth: \"120px\" },\r\n    {\r\n      field: \"idNumber\",\r\n      header: \"ID Number\",\r\n      width: \"8%\",\r\n      searchWidth: \"120px\",\r\n    },\r\n    {\r\n      field: \"beneficiaryCount\",\r\n      header: \"Total Benf\",\r\n      width: \"7%\",\r\n      searchWidth: \"85px\",\r\n    },\r\n    {\r\n      field: \"addBenificiary\",\r\n      header: \"Add Benf\",\r\n      width: \"7%\",\r\n    },\r\n    {\r\n      field: \"pastTxns\",\r\n      header: \"Past Txns\",\r\n      width: \"7%\",\r\n    },\r\n    {\r\n      field: \"status\",\r\n      header: \"Profile Status\",\r\n      width: \"7%\",\r\n    },\r\n  ];\r\n\r\n  sortOrder: any = {\r\n    customerCode: 0,\r\n    fullName: 0,\r\n    nationality: 0,\r\n    mobileNumber: 0,\r\n    idType: 0,\r\n    idNumber: 0,\r\n    beneficiaryCount: 0,\r\n    status: 0,\r\n  };\r\n  copySortOrder: any = {\r\n    customerCode: 0,\r\n    fullName: 0,\r\n    nationality: 0,\r\n    mobileNumber: 0,\r\n    idType: 0,\r\n    idNumber: 0,\r\n    beneficiaryCount: 0,\r\n    status: 0,\r\n  };\r\n\r\n  documentSettingData: any[] = [];\r\n\r\n  primaryId = \"NA\";\r\n\r\n  searchField = \"Customer Code\";\r\n\r\n  // totalRecords = 55;\r\n  customerTableLoading = false;\r\n  globalSearch = true;\r\n\r\n  docIdOptions: any[] = [];\r\n  docIdSelected: any = {};\r\n\r\n  ngOnInit(): void {\r\n    this.coreService.displayLoadingScreen();\r\n\r\n    const translationKey = \"Home.Customer\";\r\n    this.coreService\r\n      .translate(translationKey)\r\n      .then((translatedTitle: string) => {\r\n        this.coreService.setPageTitle(translatedTitle);\r\n      });\r\n\r\n    this.route.data.subscribe((data) => {\r\n      this.coreService.setBreadCrumbMenu(Object.values(data));\r\n    });\r\n    const params = this.route.snapshot.params;\r\n    if (params) {\r\n      this.showAddBtn = this.route.snapshot.routeConfig.path.substring(\r\n        this.route.snapshot.routeConfig.path.lastIndexOf(\"/\")\r\n      );\r\n      console.log(\"showadd\", this.showAddBtn);\r\n      if (this.showAddBtn == \"beneficiary-profile\") {\r\n        this.showAddCustomer = true;\r\n      } else {\r\n        this.showAddCustomer = false;\r\n      }\r\n    }\r\n    this.userData = JSON.parse(localStorage.getItem(\"userData\"));\r\n    this.formName = \"Customer Profile\";\r\n    this.getApiDataForsearchCriteria();\r\n    // this.getCustomerListData(this.criteriaMap);\r\n    this.currentCriteriaMapKey = \"id = \";\r\n    this.currentCriteriaKey = \"Customer Code = \";\r\n  }\r\n\r\n  getDocSettingData() {\r\n    this.http\r\n      .get(`appControl/documentSettingsController/getDocumentSetting`, {\r\n        headers: new HttpHeaders()\r\n          .set(\"criteriaMap\", \"Country = IN;Form = Customer Profile\")\r\n          .set(\"form\", \"Document Settings\")\r\n          .set(\"moduleName\", \"Remittance\")\r\n          .set(\"applications\", \"Casmex Core\"),\r\n      })\r\n      .subscribe(\r\n        (res) => {\r\n          console.log(\"DOC DATA\", res);\r\n          if (res[\"TaxSettingData\"]) {\r\n            this.documentSettingData = res[\"TaxSettingData\"];\r\n          } else {\r\n            this.currentCriteria = \"\";\r\n            this.currentCriteriaMapKey = \"\";\r\n          }\r\n          if (this.documentSettingData.length) {\r\n            this.docIdOptions = [];\r\n            this.documentSettingData.forEach((doc) => {\r\n              let isPrime = doc.IsDefault == \"true\" ? true : false;\r\n              let docId = {\r\n                name: doc[\"Document\"],\r\n                code: `documentType = ${doc[\"Document\"]}`,\r\n                isPrime: isPrime,\r\n              };\r\n              this.docIdOptions.push(docId);\r\n              if (isPrime) {\r\n                if (this.criteriaType == \"SQL\") {\r\n                  this.currentCriteriaValue = `${docId.name}`;\r\n                  this.currentCriteria = `ID Type = ${docId.name}`;\r\n                  this.currentCriteriaMapKey = `documentType = ${docId.name}`;\r\n                  console.log(\r\n                    \"currentCriteriaValue\",\r\n                    this.currentCriteriaValue\r\n                  );\r\n                  console.log(\"currentCriteria\", this.currentCriteria);\r\n                  console.log(\r\n                    \"currentCriteriaMapKey\",\r\n                    this.currentCriteriaMapKey\r\n                  );\r\n                }\r\n              }\r\n            });\r\n          }\r\n        },\r\n        (err) => {\r\n          this.coreService.showWarningToast(\r\n            \"Some error while fetching doc data, Try again in sometime\"\r\n          );\r\n        }\r\n      );\r\n  }\r\n\r\n  onDocIdChange(e: any) {\r\n    console.log(e);\r\n\r\n    if (e.value && e.value?.split(\" = \")[1]) {\r\n      this.criteriaMap = e.value;\r\n      this.currentCriteria = `ID Type = ${e.value.split(\" = \")[1]}`;\r\n      this.currentCriteriaMapKey = `documentType = ${e.value.split(\" = \")[1]}`;\r\n    }\r\n  }\r\n\r\n  // resetSortIcons() {\r\n  //   const allSortIcons = document.querySelectorAll(\".sort-icon\");\r\n  //   if (allSortIcons.length) {\r\n  //     allSortIcons.forEach((icon) => {\r\n  //       icon.classList.add(\"pi-sort-alt\");\r\n  //       icon.classList.remove(\"pi-sort-amount-up\");\r\n  //       icon.classList.remove(\"pi-sort-amount-down\");\r\n  //     });\r\n  //   }\r\n  // }\r\n\r\n  // customSort(e: any, field: any) {\r\n  //   // this.resetSortIcons();\r\n  //   const sortIconField = e.target?.firstElementChild\r\n  //     ? e.target?.firstElementChild\r\n  //     : e.target;\r\n  //   if (field && field in this.sortOrder && sortIconField) {\r\n  //     if (this.sortOrder[field] == 0) {\r\n  //       this.sortOrder[field] = 1;\r\n  //       sortIconField.classList.remove(\"pi-sort-alt\");\r\n  //       sortIconField.classList.remove(\"pi-sort-amount-up\");\r\n  //       sortIconField.classList.add(\"pi-sort-amount-down\");\r\n  //     } else if (this.sortOrder[field] == 1) {\r\n  //       this.sortOrder[field] = -1;\r\n  //       sortIconField.classList.remove(\"pi-sort-alt\");\r\n  //       sortIconField.classList.remove(\"pi-sort-amount-down\");\r\n  //       sortIconField.classList.add(\"pi-sort-amount-up\");\r\n  //     } else {\r\n  //       this.sortOrder[field] = 1;\r\n  //       sortIconField.classList.remove(\"pi-sort-alt\");\r\n  //       sortIconField.classList.remove(\"pi-sort-amount-up\");\r\n  //       sortIconField.classList.add(\"pi-sort-amount-down\");\r\n  //     }\r\n  //     switch (field) {\r\n  //       case \"customerCode\":\r\n  //       case \"mobileNumber\":\r\n  //       case \"idNumber\":\r\n  //       case \"beneficiaryCount\":\r\n  //         (this.customerData as Array<any>)?.sort((a, b) => {\r\n  //           if (this.sortOrder[field] >= 0) {\r\n  //             return b[field] - a[field];\r\n  //           } else {\r\n  //             return a[field] - b[field];\r\n  //           }\r\n  //         });\r\n  //         break;\r\n\r\n  //       default:\r\n  //         (this.customerData as Array<any>)?.sort((a, b) => {\r\n  //           const strA = a[field].toUpperCase();\r\n  //           const strB = b[field].toUpperCase();\r\n  //           if (this.sortOrder[field] >= 0) {\r\n  //             if (strA < strB) {\r\n  //               return 1;\r\n  //             }\r\n  //             if (strA > strB) {\r\n  //               return -1;\r\n  //             }\r\n  //             return 0;\r\n  //           } else {\r\n  //             if (strB < strA) {\r\n  //               return 1;\r\n  //             }\r\n  //             if (strB > strA) {\r\n  //               return -1;\r\n  //             }\r\n  //             return 0;\r\n  //           }\r\n  //         });\r\n  //         break;\r\n  //     }\r\n  //   }\r\n  // }\r\n\r\n  loadCustomers(e: any) {\r\n    // this.resetSortIcons();\r\n    if (!this.globalSearch) {\r\n      this.pageNumber = e.first ? e.first / this.pageSize + 1 : 1;\r\n      console.log(\r\n        \"::event, pageSize, pageNumber\",\r\n        e,\r\n        this.pageSize,\r\n        this.pageNumber\r\n      );\r\n      let updatedCriteriaMap = this.criteriaMap;\r\n      if (e.rows) {\r\n        this.pageSize = e.rows;\r\n      }\r\n      if (e.sortField) {\r\n        if (e.sortOrder == 1) {\r\n          this.orderBy = \"DESC\";\r\n        } else {\r\n          this.orderBy = \"ASC\";\r\n        }\r\n        switch (e.sortField) {\r\n          case \"customerCode\":\r\n            this.sortBy = \"id\";\r\n            break;\r\n          case \"fullName\":\r\n            if (this.customerType && this.customerType == \"Corporate\") {\r\n              this.sortBy = \"nameOfTheCorporate\";\r\n            } else {\r\n              this.sortBy = \"fullName\";\r\n            }\r\n            break;\r\n          case \"nationality\":\r\n            this.sortBy = \"nationalityPersonalDetails\";\r\n            break;\r\n          case \"mobileNumber\":\r\n            this.sortBy = \"contactMobileNumber\";\r\n            break;\r\n          case \"idType\":\r\n            this.sortBy = \"documentType\";\r\n            break;\r\n          case \"idNumber\":\r\n            this.sortBy = \"idNumber\";\r\n            break;\r\n          case \"beneficiaryCount\":\r\n            this.sortBy = \"beneficiaryCount\";\r\n            break;\r\n          case \"status\":\r\n            this.sortBy = \"status\";\r\n            break;\r\n\r\n          default:\r\n            this.sortBy = \"id\";\r\n            break;\r\n        }\r\n      } else {\r\n        this.sortBy = \"id\";\r\n        this.orderBy = \"DESC\";\r\n      }\r\n      if (e.filters && Object.keys(e.filters).length > 0) {\r\n        let filterCrtMap = \"\";\r\n        for (const prop in e.filters) {\r\n          switch (prop) {\r\n            case \"customerCode\":\r\n              filterCrtMap = `id = ${e.filters[prop][\"value\"]}`;\r\n              break;\r\n            case \"fullName\":\r\n              if (this.customerType && this.customerType == \"Corporate\") {\r\n                filterCrtMap = `nameOfTheCorporate = ${e.filters[prop][\"value\"]}`;\r\n              } else {\r\n                filterCrtMap = `fullName = ${e.filters[prop][\"value\"]}`;\r\n              }\r\n              break;\r\n            case \"nationality\":\r\n              filterCrtMap = `nationalityPersonalDetails = ${e.filters[prop][\"value\"]}`;\r\n              break;\r\n            case \"mobileNumber\":\r\n              filterCrtMap = `contactMobileNumber = ${e.filters[prop][\"value\"]}`;\r\n              break;\r\n            case \"idType\":\r\n              filterCrtMap = `documentType = ${e.filters[prop][\"value\"]}`;\r\n              break;\r\n            case \"idNumber\":\r\n              filterCrtMap = `idNumber = ${e.filters[prop][\"value\"]}`;\r\n              break;\r\n            case \"beneficiaryCount\":\r\n              filterCrtMap = `beneficiaryCount = ${e.filters[prop][\"value\"]}`;\r\n              break;\r\n\r\n            default:\r\n              filterCrtMap = \"\";\r\n              break;\r\n          }\r\n          if (updatedCriteriaMap?.length && updatedCriteriaMap != \"NA\") {\r\n            if (filterCrtMap?.length) {\r\n              updatedCriteriaMap += `;${filterCrtMap}`;\r\n            }\r\n          } else {\r\n            updatedCriteriaMap = filterCrtMap;\r\n          }\r\n        }\r\n        console.log(\"updatedCriteriaMap\", updatedCriteriaMap);\r\n        this.getCustomerListData(updatedCriteriaMap);\r\n      } else {\r\n        this.getCustomerListData(this.criteriaMap);\r\n      }\r\n    }\r\n    this.sortBy = \"id\";\r\n    this.orderBy = \"DESC\";\r\n    this.globalSearch = false;\r\n  }\r\n\r\n  getApiDataForsearchCriteria() {\r\n    this.coreService.displayLoadingScreen();\r\n    this.customerService\r\n      .getDataForsearchCriteria(\r\n        this.userData[\"userId\"],\r\n        this.applicationName[\"code\"],\r\n        this.moduleName[\"code\"],\r\n        this.formName\r\n      )\r\n      .subscribe(\r\n        (res) => {\r\n          this.coreService.removeLoadingScreen();\r\n          this.searchCriteriaApiData = res[\"data\"];\r\n          this.searchCriteriaOptions = this.searchCriteriaApiData.map(\r\n            (data) => {\r\n              return {\r\n                name: data.displayName,\r\n                code: data.fieldName,\r\n              };\r\n            }\r\n          );\r\n          this.searchCriteriaOptions.unshift(\r\n            ...[{ name: \"Customer Code\", code: \"id\" }]\r\n          );\r\n        },\r\n        (err) => {\r\n          this.coreService.removeLoadingScreen();\r\n          this.coreService.showWarningToast(\"Error in fething data\");\r\n        }\r\n      );\r\n  }\r\n  onUserTypeChange(value: any) {\r\n    this.formName = \"Customer Profile\";\r\n    console.log(\"type\", value);\r\n    if (value == \"Corporate\") {\r\n      console.log(\"colums\", this.columns);\r\n      this.columns.forEach((column) => {\r\n        if (column.field === \"fullName\") {\r\n          column.header = \"Corporate Name\";\r\n        }\r\n      });\r\n    } else {\r\n      this.columns.forEach((column) => {\r\n        if (column.field === \"fullName\") {\r\n          column.header = \"Customer Full Name\";\r\n        }\r\n      });\r\n    }\r\n    this.type = value;\r\n    this.criteriaMap = \"NA\";\r\n    this.searchCriteria = [];\r\n    this.currentCriteriaValue = null;\r\n    this.currentCriteriaKey = \"Customer Code = \";\r\n    this.currentCriteriaMapKey = \"id = \";\r\n    this.searchCriteriaMap = [];\r\n    this.getApiDataForsearchCriteria();\r\n    this.showTable = false;\r\n    this.globalSearch = true;\r\n    // this.getCustomerListData(this.criteriaMap);\r\n    this.customerFieldType = null;\r\n    this.criteriaType = \"text\";\r\n  }\r\n\r\n  onCriteriaChange(value: any) {\r\n    this.criteriaTypechange = value;\r\n    this.currentCriteriaValue = null;\r\n    this.currentCriteriaKey = `${\r\n      this.searchCriteriaOptions.filter((opt) => {\r\n        return opt.code == value;\r\n      })[0][\"name\"]\r\n    } = `;\r\n    this.currentCriteriaMapKey = `${\r\n      this.searchCriteriaOptions.filter((opt) => {\r\n        return opt.code == value;\r\n      })[0][\"code\"]\r\n    } = `;\r\n    this.criteriaType = this.searchCriteriaApiData.filter((opt) => {\r\n      return opt.fieldName == value;\r\n    })[0]\r\n      ? this.searchCriteriaApiData.filter((opt) => {\r\n          return opt.fieldName == value;\r\n        })[0].criteriaType\r\n      : \"text\";\r\n    this.getDocSettingData();\r\n    setTimeout(() => {\r\n      if (this.criteriaType == \"SQL\") {\r\n        this.searchCustomerMap(this.customerType);\r\n      }\r\n    }, 1000);\r\n  }\r\n  ondeletecriteria(i: any, criteria: any) {\r\n    this.searchCriteria.splice(i, 1);\r\n    this.searchCriteriaMap.splice(i, 1);\r\n    this.currentCriteriaValue = null;\r\n    this.criteriaMap =\r\n      this.searchCriteriaMap.length > 1\r\n        ? this.searchCriteriaMap.join(\";\")\r\n        : this.searchCriteriaMap.length == 1\r\n        ? this.searchCriteriaMap[0]\r\n        : \"NA\";\r\n    this.globalSearch = true;\r\n    this.showTable = false;\r\n    this.showNoDataFound = false;\r\n    if (this.searchCriteria.length) {\r\n      this.getCustomerListData(this.criteriaMap);\r\n    } else if (this.criteriaType == \"SQL\") {\r\n      this.customerFieldType = null;\r\n    }\r\n  }\r\n  searchCustomerMap(type: any) {\r\n    console.log(\"currentkey\", this.currentCriteriaMapKey);\r\n    console.log(\"search\", this.searchCriteriaMap);\r\n    console.log(\"criteriaType\", this.criteriaType);\r\n    console.log(\"currentCriteriaValue\", this.currentCriteriaValue);\r\n    console.log(\"currentCriteria\", this.currentCriteria);\r\n    if (\r\n      !this.currentCriteriaValue == null ||\r\n      this.currentCriteriaValue?.trim().length\r\n    ) {\r\n      if (\r\n        this.searchCriteriaMap.filter((crt) => {\r\n          return (\r\n            crt.split(\" = \")[0] == this.currentCriteriaMapKey.split(\" = \")[0]\r\n          );\r\n        }).length > 0\r\n      ) {\r\n        this.coreService.showWarningToast(\r\n          \"This search criteria is already exists, delete it first.\"\r\n        );\r\n      } else {\r\n        if (this.criteriaType == \"SQL\") {\r\n          if (this.currentCriteria && this.currentCriteria.length > 0) {\r\n            this.searchCriteria.push(this.currentCriteria);\r\n            this.searchCriteriaMap.push(this.currentCriteriaMapKey);\r\n            this.criteriaMap = this.searchCriteriaMap.join(\";\");\r\n            console.log(\"criteriaMapSQL\", this.criteriaMap);\r\n          } else {\r\n            this.coreService.showWarningToast(\"Please enter the search value\");\r\n            return;\r\n          }\r\n        }\r\n        //  else if (\r\n        //   this.currentCriteriaValue == null &&\r\n        //   this.currentCriteriaValue == \"\"\r\n        // ) {\r\n        //   this.showTable = false;\r\n        //   this.coreService.showWarningToast(\"Please enter the search value\");\r\n        // }\r\n        else if (\r\n          (typeof this.currentCriteriaValue == \"string\" &&\r\n            this.currentCriteriaValue?.trim().length) ||\r\n          this.currentCriteriaValue\r\n        ) {\r\n          if (this.criteriaType == \"date\") {\r\n            let criteriaData = new Date(\r\n              this.currentCriteriaValue\r\n            ).toLocaleDateString(\"en-GB\");\r\n            console.log(\"criteriaData\", criteriaData);\r\n            this.currentCriteria = this.currentCriteriaKey + criteriaData;\r\n            this.searchCriteria.push(this.currentCriteria);\r\n\r\n            this.currentCriteriaMap = this.currentCriteriaMapKey + criteriaData;\r\n            this.searchCriteriaMap.push(this.currentCriteriaMap);\r\n            this.criteriaMap = this.searchCriteriaMap.join(\";\");\r\n          } else {\r\n            this.currentCriteria =\r\n              this.currentCriteriaKey + this.currentCriteriaValue;\r\n            this.searchCriteria.push(this.currentCriteria);\r\n\r\n            this.currentCriteriaMap =\r\n              this.currentCriteriaMapKey + this.currentCriteriaValue;\r\n            this.searchCriteriaMap.push(this.currentCriteriaMap);\r\n            this.criteriaMap = this.searchCriteriaMap.join(\";\");\r\n          }\r\n        }\r\n        this.globalSearch = true;\r\n        this.showTable = false;\r\n        this.getCustomerListData(this.criteriaMap);\r\n        if (!(this.criteriaType == \"SQL\")) {\r\n          this.currentCriteriaValue = null;\r\n        }\r\n        // this.customerFieldType = null;\r\n        // this.currentCriteriaKey = \"Customer Code = \";\r\n        // this.currentCriteriaMapKey = \"id = \";\r\n      }\r\n    } else {\r\n      this.coreService.showWarningToast(\"Please enter the search value\");\r\n      return;\r\n    }\r\n  }\r\n\r\n  getCustomerListData(criteriaMap: any) {\r\n    this.coreService.displayLoadingScreen();\r\n    let service: Observable<any>;\r\n\r\n    console.log(\r\n      \"::header\",\r\n      this.userData[\"userId\"],\r\n      criteriaMap,\r\n      `${this.pageNumber}`,\r\n      `${this.pageSize}`,\r\n      this.type,\r\n      this.sortBy,\r\n      this.orderBy\r\n    );\r\n    service = this.customerService.getCustomerCorporateData(\r\n      this.userData[\"userId\"],\r\n      criteriaMap,\r\n      `${this.pageNumber}`,\r\n      `${this.pageSize}`,\r\n      this.type,\r\n      this.sortBy,\r\n      this.orderBy\r\n    );\r\n\r\n    service.subscribe(\r\n      (res) => {\r\n        this.coreService.removeLoadingScreen();\r\n        if (res[\"status\"] == \"200\") {\r\n          if (res[\"error\"]) {\r\n            this.showTable = false;\r\n            this.coreService.showWarningToast(res[\"error\"]);\r\n            this.customerData = [];\r\n          } else {\r\n            if (!res.data?.CmCorporateCustomerDetails.length) {\r\n              this.showTable = false;\r\n              this.showNoDataFound = true;\r\n            } else {\r\n              this.showTable = true;\r\n            }\r\n            this.customerData = res.data?.CmCorporateCustomerDetails;\r\n            this.totalPages = res.data?.TotalPages;\r\n            this.totalRecords = res.data?.TotalCount;\r\n            // this.totalRecords = res.data.PaginationDetails.totalCount;\r\n            // this.customerCode = res.customerCode?.map((code) => {\r\n            //   if (code) return { label: code, value: code };\r\n            // });\r\n            // this.fullName = res.customerFullName?.map((code) => {\r\n            //   if (code) return { label: code, value: code };\r\n            // });\r\n            // this.nationality = res.nationality?.map((code) => {\r\n            //   if (code) return { label: code, value: code };\r\n            // });\r\n            // this.mobileNumber = res.mobileNumber?.map((code) => {\r\n            //   if (code) return { label: code, value: code };\r\n            // });\r\n            // this.idType = res.idType?.map((code) => {\r\n            //   if (code) return { label: code, value: code };\r\n            // });\r\n            // this.idNumber = res.idNumber?.map((code) => {\r\n            //   if (code) return { label: code, value: code };\r\n            // });\r\n          }\r\n        } else {\r\n          this.showTable = false;\r\n        }\r\n      },\r\n      (err) => {\r\n        this.coreService.removeLoadingScreen();\r\n        // this.coreService.showWarningToast(\"Error in fething data\");\r\n        this.showTable = false;\r\n      }\r\n    );\r\n  }\r\n  addNewCustomer(type: any) {\r\n    this.router.navigate([\r\n      \"navbar\",\r\n      \"customer-profile\",\r\n      \"addnewcustomer\",\r\n      type,\r\n    ]);\r\n  }\r\n  addNewBeneficiary(rowData: any, type: any) {\r\n    this.router.navigate([\r\n      \"navbar\",\r\n      \"beneficiary-profile\",\r\n      \"addnewbeneficiary\",\r\n      type,\r\n      rowData.customerCode,\r\n      rowData.fullName,\r\n      \"add\",\r\n    ]);\r\n  }\r\n\r\n  confirmStatus(e: any, data: any, cusType: any) {\r\n    e.preventDefault();\r\n    let type = \"\";\r\n    let reqStatus = \"\";\r\n    if (e.target.checked) {\r\n      reqStatus = \"Active\";\r\n      type = \"Activate\";\r\n    } else {\r\n      reqStatus = \"Inactive\";\r\n      type = \"Deactivate\";\r\n    }\r\n    this.coreService.setSidebarBtnFixedStyle(false);\r\n    this.coreService.setHeaderStickyStyle(false);\r\n    let completeMsg = \"\";\r\n    completeMsg =\r\n      `<img src=\"../../../assets/warning.svg\"><br/><br/>` +\r\n      `Do you wish to ` +\r\n      type +\r\n      ` the Customer Record: ${data[\"customerCode\"]}?`;\r\n\r\n    this.confirmationService.confirm({\r\n      message: completeMsg,\r\n      key: \"activeDeactiveStatus\",\r\n      accept: () => {\r\n        this.updateStatus(e, reqStatus, data, cusType);\r\n        this.setHeaderSidebarBtn(true);\r\n      },\r\n      reject: () => {\r\n        this.confirmationService.close;\r\n        this.setHeaderSidebarBtn(false);\r\n      },\r\n    });\r\n  }\r\n\r\n  confirmBeneficiaryStatus(e: any, data: any, cusType: any) {\r\n    e.preventDefault();\r\n    let type = \"\";\r\n    let reqStatus = \"\";\r\n    if (e.target.checked) {\r\n      reqStatus = \"Active\";\r\n      type = \"activate\";\r\n    } else {\r\n      reqStatus = \"Inactive\";\r\n      type = \"deactivate\";\r\n    }\r\n    this.coreService.setSidebarBtnFixedStyle(false);\r\n    this.coreService.setHeaderStickyStyle(false);\r\n    let completeMsg = \"\";\r\n    completeMsg =\r\n      `<img src=\"../../../assets/warning.svg\"><br/><br/>` +\r\n      `Do you wish to ` +\r\n      type +\r\n      ` the Beneficiary Record: ${data[\"id\"]}?`;\r\n\r\n    this.confirmationService.confirm({\r\n      message: completeMsg,\r\n      key: \"activeDeactiveStatus\",\r\n      accept: () => {\r\n        this.updateBeneStatus(e, reqStatus, data, cusType);\r\n        this.setHeaderSidebarBtn(true);\r\n      },\r\n      reject: () => {\r\n        this.confirmationService.close;\r\n        this.setHeaderSidebarBtn(false);\r\n      },\r\n    });\r\n  }\r\n\r\n  updateBeneStatus(e: any, reqStatus: any, data: any, cusType: any) {\r\n    this.coreService.displayLoadingScreen();\r\n    this.updateBeneficiaryStatus(\r\n      data[\"id\"],\r\n      reqStatus,\r\n      e.target,\r\n      data,\r\n      cusType\r\n    );\r\n  }\r\n  updateBeneficiaryStatus(\r\n    cusId: any,\r\n    status: any,\r\n    sliderElm: any,\r\n    ruleData: any,\r\n    cusType: any\r\n  ) {\r\n    let service: Observable<any>;\r\n    // if (cusType == \"Corporate\") {\r\n    service = this.customerService.updateBeneficiaryStatusApi(\r\n      this.userData[\"userId\"],\r\n      status,\r\n      cusId.toString(),\r\n      cusType\r\n    );\r\n    // } else {\r\n    //   service = this.customerService.updateCustomerIndividualStatus(\r\n    //     this.userData[\"userId\"],\r\n    //     status,\r\n    //     cusId.toString()\r\n    //   );\r\n    // }\r\n    service.subscribe(\r\n      (res) => {\r\n        if (res[\"status\"] == \"200\") {\r\n          sliderElm.checked = !sliderElm.checked;\r\n          this.searchCustomerMap(this.customerType);\r\n          this.coreService.showSuccessToast(res[\"data\"]);\r\n          this.coreService.removeLoadingScreen();\r\n        } else {\r\n          this.coreService.removeLoadingScreen();\r\n          this.coreService.showWarningToast(res[\"msg\"]);\r\n        }\r\n      },\r\n      (err) => {\r\n        console.log(err);\r\n        this.coreService.removeLoadingScreen();\r\n      }\r\n    );\r\n  }\r\n  updateStatus(e: any, reqStatus: any, data: any, cusType: any) {\r\n    this.coreService.displayLoadingScreen();\r\n    this.updateCustomerStatus(\r\n      data[\"customerCode\"],\r\n      reqStatus,\r\n      e.target,\r\n      data,\r\n      cusType\r\n    );\r\n  }\r\n\r\n  updateCustomerStatus(\r\n    cusId: any,\r\n    status: any,\r\n    sliderElm: any,\r\n    ruleData: any,\r\n    cusType: any\r\n  ) {\r\n    console.log(\"ruleData\", ruleData);\r\n    let service: Observable<any>;\r\n    service = this.customerService.updateCustomerCorporateStatus(\r\n      this.userData[\"userId\"],\r\n      status,\r\n      cusId.toString(),\r\n      cusType\r\n    );\r\n    service.subscribe(\r\n      (res) => {\r\n        if (res[\"status\"] == \"200\") {\r\n          sliderElm.checked = !sliderElm.checked;\r\n          this.searchCustomerMap(this.customerType);\r\n          this.coreService.showSuccessToast(res[\"data\"]);\r\n          if (!sliderElm.checked) {\r\n            ruleData.status = \"Inactive\";\r\n          } else {\r\n            ruleData.status = \"Active\";\r\n          }\r\n          this.coreService.removeLoadingScreen();\r\n        } else {\r\n          this.coreService.removeLoadingScreen();\r\n          this.coreService.showWarningToast(res[\"msg\"]);\r\n        }\r\n      },\r\n      (err) => {\r\n        console.log(err);\r\n        this.coreService.removeLoadingScreen();\r\n      }\r\n    );\r\n  }\r\n  setHeaderSidebarBtn(accept: boolean) {\r\n    this.coreService.displayLoadingScreen();\r\n    setTimeout(() => {\r\n      this.coreService.setHeaderStickyStyle(true);\r\n      this.coreService.setSidebarBtnFixedStyle(true);\r\n    }, 500);\r\n    if (!accept) {\r\n      setTimeout(() => {\r\n        this.coreService.removeLoadingScreen();\r\n      }, 1000);\r\n    }\r\n  }\r\n\r\n  editCustomer(rowData: any, type: any) {\r\n    this.router.navigate([\r\n      \"navbar\",\r\n      \"customer-profile\",\r\n      \"addnewcustomer\",\r\n      type,\r\n      rowData.customerCode,\r\n      \"edit\",\r\n    ]);\r\n  }\r\n  editbeneficiary(beneData: any, rowData: any) {\r\n    console.log(\"rowdata\", rowData);\r\n    let custype = beneData.customerType == \"Individual\" ? \"IND\" : \"COR\";\r\n    this.router.navigate([\r\n      \"navbar\",\r\n      \"beneficiary-profile\",\r\n      \"addnewbeneficiary\",\r\n      custype,\r\n      rowData.customerCode,\r\n      rowData.fullName,\r\n      beneData.id,\r\n      \"edit\",\r\n    ]);\r\n  }\r\n  beneficiaryListData(expanded, rowData: any, customerType) {\r\n    console.log(\"status\", rowData);\r\n    if (expanded == false) {\r\n      this.http\r\n        .get(\r\n          `/appControl/beneficiaryProfileController/getBeneficiaryProfileList`,\r\n          {\r\n            headers: new HttpHeaders()\r\n              .set(\"customerType\", customerType)\r\n              .set(\"customerId\", String(rowData.customerCode)),\r\n          }\r\n        )\r\n        .subscribe(\r\n          (res) => {\r\n            if (res[\"msg\"]) {\r\n              this.noDataMsg = res[\"msg\"];\r\n              this.coreService.removeLoadingScreen();\r\n            } else {\r\n              let inputData = {};\r\n              inputData = res;\r\n              inputData[\"data\"]?.forEach((obj) => {\r\n                const decodedDetails = {\r\n                  \"Benf Bank\": obj.bankName || \"\",\r\n                  \"Benf Branch\": obj.bankBranch || \"\",\r\n                  \"Benf A/C number\": obj.bankAccountNumber || \"\",\r\n                };\r\n\r\n                // Create a formatted string\r\n                const newFormattedDetails = Object.keys(decodedDetails)\r\n                  .map((key) => `${key}: ${decodedDetails[key]}`)\r\n                  .join(\"  \");\r\n                obj.serviceDetails = newFormattedDetails;\r\n                // this.decodeServiceDetails(obj);\r\n                console.log(\"benefdecode\", obj.serviceDetails);\r\n              });\r\n              console.log(\"benefdecode\", inputData);\r\n              this.customerData.forEach((element) => {\r\n                if (element[\"customerCode\"] == rowData.customerCode) {\r\n                  element[\"orders\"] = inputData[\"data\"];\r\n                }\r\n              });\r\n            }\r\n          },\r\n          (err) => {\r\n            console.log(\"err\", err);\r\n            this.coreService.showWarningToast(\r\n              \"Some error while fetching data, Try again in sometime\"\r\n            );\r\n            this.coreService.removeLoadingScreen();\r\n          }\r\n        );\r\n    }\r\n  }\r\n  toggleFilterVisibility(field) {\r\n    this[`show${field}Options`] = !this[`show${field}Options`];\r\n  }\r\n\r\n  hideFilterVisibility(field) {\r\n    this[`show${field}Options`] = false;\r\n  }\r\n\r\n  getSelectedFilterArr(field: any) {\r\n    return this[`selectedFilter${field}`];\r\n  }\r\n\r\n  setSelectedFilter(ms: MultiSelect, field: any) {\r\n    this[`selectedFilter${field}`] = ms.value;\r\n  }\r\n\r\n  fieldFilterVisible(field: any) {\r\n    return this[`show${field}Options`];\r\n  }\r\n\r\n  fieldFilterOptions(field: any): [] {\r\n    return this[field];\r\n  }\r\n\r\n  clearCriteria() {\r\n    this.criteriaMap = \"NA\";\r\n    this.searchCriteria = [];\r\n    this.currentCriteriaValue = null;\r\n    this.currentCriteriaKey = \"Customer Code = \";\r\n    this.currentCriteriaMapKey = \"id = \";\r\n    this.searchCriteriaMap = [];\r\n    this.getApiDataForsearchCriteria();\r\n    this.globalSearch = true;\r\n    this.showTable = false;\r\n    this.customerFieldType = null;\r\n    this.criteriaType = \"text\";\r\n  }\r\n\r\n  searchByEnter(e: any) {\r\n    if (this.customerType) {\r\n      this.searchCustomerMap(this.customerType);\r\n    } else {\r\n      this.coreService.showWarningToast(\"Please select customer type\");\r\n    }\r\n  }\r\n}\r\n","<div class=\"visible-main-section\">\r\n  <div class=\"pagetitle\">\r\n    <div class=\"col-12\">\r\n      <div class=\"row mt-3\">\r\n        <div\r\n          class=\"col-md-9 col-lg-10 col-sm-12 col-xs-12 mt-2 flex-align-center\"\r\n        >\r\n          <div class=\"row\">\r\n            <div\r\n              class=\"col-md-9 col-lg-9 col-sm-12 col-xs-12 inline-flex searchInBtn\"\r\n            >\r\n              <p-dropdown\r\n                class=\"colorInput\"\r\n                [options]=\"userTypeOptions\"\r\n                [(ngModel)]=\"customerType\"\r\n                (onChange)=\"onUserTypeChange($event.value)\"\r\n                optionValue=\"code\"\r\n                optionLabel=\"name\"\r\n                class=\"firstdropdown\"\r\n                [style]=\"{ maxWidth: '128px' }\"\r\n              ></p-dropdown>\r\n              <!-- </div>\r\n              <div class=\"col-md-7 col-lg-7 col-sm-12 col-xs-12\"> -->\r\n              <div class=\"input-group\">\r\n                <p-dropdown\r\n                  [options]=\"searchCriteriaOptions\"\r\n                  [(ngModel)]=\"customerFieldType\"\r\n                  (onChange)=\"onCriteriaChange($event.value)\"\r\n                  optionLabel=\"name\"\r\n                  optionValue=\"code\"\r\n                  [placeholder]=\"searchField\"\r\n                  class=\"primarydropdown\"\r\n                  [panelStyle]=\"{ maxWidth: '128px' }\"\r\n                >\r\n                  <ng-template let-options pTemplate=\"item\">\r\n                    <div class=\"truncate-text\">\r\n                      <div>{{ options.name }}</div>\r\n                    </div>\r\n                  </ng-template></p-dropdown\r\n                >\r\n                <div\r\n                  class=\"p-input-icon-right\"\r\n                  (keyup.enter)=\"searchByEnter($event)\"\r\n                >\r\n                  <ng-container [ngSwitch]=\"criteriaType\">\r\n                    <input\r\n                      *ngSwitchCase=\"'SQL'\"\r\n                      class=\"searchBox\"\r\n                      type=\"text\"\r\n                      pInputText\r\n                      [(ngModel)]=\"currentCriteriaValue\"\r\n                      placeholder=\"Search\"\r\n                      [readonly]=\"true\"\r\n                    />\r\n                    <!-- <p-dropdown\r\n                      *ngSwitchCase=\"'SQL'\"\r\n                      [options]=\"docIdOptions\"\r\n                      [(ngModel)]=\"docIdSelected.code\"\r\n                      (onChange)=\"onDocIdChange($event)\"\r\n                      optionLabel=\"name\"\r\n                      optionValue=\"code\"\r\n                      [placeholder]=\"'Select'\"\r\n                      class=\"primarydropdown docId-dropdown\"\r\n                      [style]=\"{ width: '100%' }\"\r\n                    >\r\n                      <ng-template let-options pTemplate=\"item\">\r\n                        <div class=\"truncate-text\">\r\n                          <div\r\n                            [pTooltip]=\"options.isPrime ? 'Primary ID' : ''\"\r\n                            [ngStyle]=\"{\r\n                              'text-decoration': options.isPrime\r\n                                ? 'underline'\r\n                                : '',\r\n                              'text-underline-offset': options.isPrime\r\n                                ? '2px'\r\n                                : '',\r\n                              'text-decoration-thickness': options.isPrime\r\n                                ? '2px'\r\n                                : '',\r\n                              'text-decoration-color': options.isPrime\r\n                                ? '#f9b70e'\r\n                                : ''\r\n                            }\"\r\n                          >\r\n                            {{ options.name }}\r\n                          </div>\r\n                        </div>\r\n                      </ng-template></p-dropdown\r\n                    > -->\r\n                    <input\r\n                      *ngSwitchCase=\"'text'\"\r\n                      class=\"searchBox\"\r\n                      type=\"text\"\r\n                      pInputText\r\n                      [(ngModel)]=\"currentCriteriaValue\"\r\n                      placeholder=\"Search\"\r\n                    />\r\n\r\n                    <p-inputNumber\r\n                      *ngSwitchCase=\"'number'\"\r\n                      class=\"block searchBox\"\r\n                      [(ngModel)]=\"currentCriteriaValue\"\r\n                      mode=\"decimal\"\r\n                      [useGrouping]=\"false\"\r\n                      placeholder=\"Search\"\r\n                    >\r\n                    </p-inputNumber>\r\n                    <p-calendar\r\n                      class=\"searchBox\"\r\n                      *ngSwitchCase=\"'date'\"\r\n                      placeholder=\"DD/MM/YYYY\"\r\n                      dateFormat=\"dd/mm/yy\"\r\n                      [(ngModel)]=\"currentCriteriaValue\"\r\n                      [readonlyInput]=\"false\"\r\n                      [appendTo]=\"'body'\"\r\n                      appDateMask\r\n                    ></p-calendar>\r\n                    <i *ngIf=\"criteriaType != 'SQL'\" class=\"pi pi-search\"></i>\r\n                  </ng-container>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-md-3 col-lg-3 col-sm-6 col-xs-6 pl-0 ml-0 buttonsearch\">\r\n              <button\r\n                pButton\r\n                pRipple\r\n                type=\"button\"\r\n                (click)=\"searchCustomerMap(customerType)\"\r\n                label=\"Search\"\r\n                class=\"search-btn ml-2 headerbtn\"\r\n                [disabled]=\"!customerType\"\r\n              ></button>\r\n              <button\r\n                pButton\r\n                pRipple\r\n                type=\"button\"\r\n                (click)=\"clearCriteria()\"\r\n                label=\"Clear\"\r\n                class=\"p-button-warning search-btn ml-2 mt-lg-0 headerbtn\"\r\n              ></button>\r\n              <!-- </div> -->\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-md-3 col-lg-2 col-sm-4 col-xs-4 mt-2 headerbtn\">\r\n          <button\r\n            pButton\r\n            pRipple\r\n            type=\"button\"\r\n            label=\"Add Customer\"\r\n            class=\"p-button-raised search-btn ml-4\"\r\n            [hidden]=\"showAddCustomer\"\r\n            (click)=\"\r\n              addNewCustomer(customerType == 'Corporate' ? 'COR' : 'IND')\r\n            \"\r\n          ></button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"customerCriteria\">\r\n    <div class=\"row\" *ngIf=\"searchCriteria.length\">\r\n      <div class=\"col-10\">\r\n        You have searched on\r\n        <span\r\n          *ngFor=\"let criteria of searchCriteria; let i = index\"\r\n          class=\"customerMapConditions\"\r\n        >\r\n          {{ criteria }}\r\n          <span\r\n            role=\"button\"\r\n            style=\"padding: 0px 0px 0px 8px; margin-bottom: 10px\"\r\n            (click)=\"ondeletecriteria(i, criteria)\"\r\n          >\r\n            <svg\r\n              style=\"margin-bottom: 4px\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              width=\"12.6\"\r\n              height=\"12.6\"\r\n              fill=\"#dc3545\"\r\n              class=\"bi bi-x-circle\"\r\n              viewBox=\"0 0 16 16\"\r\n            >\r\n              <path\r\n                d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"\r\n              />\r\n              <path\r\n                d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"\r\n              />\r\n            </svg>\r\n          </span>\r\n        </span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"ptable\" *ngIf=\"showTable || !globalSearch\">\r\n    <p-table\r\n      #dt\r\n      [columns]=\"columns\"\r\n      [value]=\"customerData\"\r\n      dataKey=\"customerCode\"\r\n      [lazy]=\"true\"\r\n      (onLazyLoad)=\"loadCustomers($event)\"\r\n      [totalRecords]=\"totalRecords\"\r\n      [paginator]=\"true\"\r\n      [rows]=\"pageSize\"\r\n      [resizableColumns]=\"true\"\r\n      columnResizeMode=\"fit\"\r\n      [rowHover]=\"true\"\r\n      [loading]=\"customerTableLoading\"\r\n      [rowsPerPageOptions]=\"totalRecords <= 10 ? null : [10, 20, 50, 100]\"\r\n      rowExpandMode=\"single\"\r\n    >\r\n      <ng-template pTemplate=\"header\" let-columns>\r\n        <tr>\r\n          <th\r\n            *ngFor=\"let col of columns; let c = index\"\r\n            pResizableColumn\r\n            [style.width]=\"col.width\"\r\n            [pSortableColumn]=\"col.field\"\r\n            [pSortableColumnDisabled]=\"\r\n              col.field == 'addBenificiary' || col.field == 'pastTxns'\r\n            \"\r\n          >\r\n            <!-- <div\r\n              style=\"cursor: pointer\"\r\n              *ngIf=\"!(col.field == 'addBenificiary')\"\r\n              (click)=\"customSort($event, col.field)\"\r\n            >\r\n              {{ col.header }}\r\n              <i\r\n                class=\"sort-icon pi pi-sort-alt\"\r\n                *ngIf=\"!(col.field == 'addBenificiary')\"\r\n              ></i>\r\n            </div>\r\n            <div *ngIf=\"col.field == 'addBenificiary'\">\r\n              {{ col.header }}\r\n            </div> -->\r\n            {{ col.header }}\r\n            <p-sortIcon\r\n              *ngIf=\"\r\n                !(col.field == 'addBenificiary' || col.field == 'pastTxns')\r\n              \"\r\n              [field]=\"col.field\"\r\n            ></p-sortIcon>\r\n            <!-- <div\r\n              *ngIf=\"c < columns.length - 3 && c != 0\"\r\n              (click)=\"$event.stopPropagation()\"\r\n              class=\"filter-icon\"\r\n            >\r\n              <i\r\n                [ngStyle]=\"{\r\n                  color: getSelectedFilterArr(col.field).length\r\n                    ? 'var(--primary-color)'\r\n                    : 'rgb(105 105 105)',\r\n                  fontSize: '11px'\r\n                }\"\r\n                class=\"pi pi-filter-fill\"\r\n                (click)=\"toggleFilterVisibility(col.field)\"\r\n              ></i>\r\n              <p-multiSelect\r\n                #ms\r\n                [options]=\"fieldFilterOptions(col.field)\"\r\n                [filter]=\"true\"\r\n                [displaySelectedLabel]=\"false\"\r\n                [overlayVisible]=\"fieldFilterVisible(col.field)\"\r\n                [defaultLabel]=\"'Search'\"\r\n                [appendTo]=\"'body'\"\r\n                [autoWidth]=\"false\"\r\n                (onChange)=\"\r\n                  dt.filter($event.value, col.field, 'in');\r\n                  setSelectedFilter(ms, col.field)\r\n                \"\r\n                (onPanelHide)=\"hideFilterVisibility(col.field)\"\r\n              >\r\n              </p-multiSelect>\r\n            </div> -->\r\n          </th>\r\n        </tr>\r\n        <tr class=\"search-row\">\r\n          <th *ngFor=\"let col of columns; let c = index\">\r\n            <span\r\n              class=\"p-input-icon-left\"\r\n              *ngIf=\"c < columns.length - 3\"\r\n              [style.width]=\"col.searchWidth\"\r\n            >\r\n              <i class=\"pi pi-search\"></i>\r\n              <input\r\n                type=\"text\"\r\n                class=\"p-inputtext table-search\"\r\n                placeholder=\"Search\"\r\n                (input)=\"dt.filter($event.target.value, col.field, 'contains')\"\r\n              />\r\n            </span>\r\n          </th>\r\n        </tr>\r\n      </ng-template>\r\n      <ng-template\r\n        pTemplate=\"body\"\r\n        let-rowData\r\n        let-columns=\"columns\"\r\n        let-index=\"rowIndex\"\r\n        let-expanded=\"expanded\"\r\n      >\r\n        <tr [pReorderableRow]=\"index\">\r\n          <ng-container *ngFor=\"let col of columns; let i = index\">\r\n            <td *ngIf=\"i < columns.length - (columns.length == 9 ? 3 : 3)\">\r\n              <div *ngIf=\"!(i == 0)\" style=\"display: inline-block\">\r\n                {{ rowData[col[\"field\"]] }}\r\n              </div>\r\n              <div *ngIf=\"i == 0\">\r\n                <button\r\n                  type=\"button\"\r\n                  (click)=\"beneficiaryListData(expanded, rowData, customerType)\"\r\n                  style=\"height: 2rem; width: 2rem\"\r\n                  pButton\r\n                  pRipple\r\n                  [pRowToggler]=\"rowData\"\r\n                  class=\"p-button-text p-button-rounded p-button-plain\"\r\n                  [icon]=\"\r\n                    expanded ? 'pi pi-chevron-down' : 'pi pi-chevron-right'\r\n                  \"\r\n                ></button>\r\n                <a\r\n                  style=\"text-decoration: underline !important\"\r\n                  [ngStyle]=\"{\r\n                    position: 'relative',\r\n                    top: '-6px',\r\n                    color: 'var(--primary-color)',\r\n                    fontSize: '11px',\r\n                    cursor: 'pointer'\r\n                  }\"\r\n                  (click)=\"\r\n                    editCustomer(\r\n                      rowData,\r\n                      customerType == 'Corporate' ? 'COR' : 'IND'\r\n                    )\r\n                  \"\r\n                  >{{ rowData[col[\"field\"]] }}</a\r\n                >\r\n              </div>\r\n            </td>\r\n            <td\r\n              *ngIf=\"col.field == 'addBenificiary'\"\r\n              style=\"border: none; text-align: center\"\r\n            >\r\n              <span class=\"image-text\">\r\n                <button\r\n                  pButton\r\n                  type=\"button\"\r\n                  icon=\"pi pi-plus\"\r\n                  class=\"operation-btns mr-2 btnround\"\r\n                  (click)=\"\r\n                    addNewBeneficiary(\r\n                      rowData,\r\n                      customerType == 'Individual' ? 'IND' : 'COR'\r\n                    )\r\n                  \"\r\n                  [disabled]=\"rowData.status == 'Inactive'\"\r\n                ></button>\r\n              </span>\r\n            </td>\r\n            <td\r\n              *ngIf=\"col.field == 'pastTxns'\"\r\n              style=\"border: none; text-align: center\"\r\n            >\r\n              <span class=\"image-text\">\r\n                <button\r\n                  pButton\r\n                  type=\"button\"\r\n                  icon=\"pi pi-eye\"\r\n                  class=\"operation-btns mr-2 btnround\"\r\n                ></button>\r\n              </span>\r\n            </td>\r\n            <td\r\n              *ngIf=\"col.field == 'status'\"\r\n              style=\"border: none; text-align: center\"\r\n            >\r\n              <label class=\"switch\" style=\"border: none\">\r\n                <input\r\n                  #statusInp\r\n                  [value]=\"rowData[col['field']]\"\r\n                  type=\"checkbox\"\r\n                  (click)=\"confirmStatus($event, rowData, customerType)\"\r\n                  [checked]=\"\r\n                    rowData[col['field']] == 'Active' ||\r\n                    rowData[col['field']] == 'A'\r\n                      ? true\r\n                      : false\r\n                  \"\r\n                />\r\n                <span class=\"slider round\"></span>\r\n              </label>\r\n            </td>\r\n          </ng-container>\r\n        </tr>\r\n      </ng-template>\r\n      <ng-template pTemplate=\"rowexpansion\" let-rowData>\r\n        <tr>\r\n          <td colspan=\"10\">\r\n            <div class=\"p-p-3\" style=\"padding: 20px; background: #e2e3ed\">\r\n              <p-table\r\n                [value]=\"rowData.orders\"\r\n                dataKey=\"id\"\r\n                [rows]=\"3\"\r\n                columnResizeMode=\"expand\"\r\n                [resizableColumns]=\"true\"\r\n                columnResizeMode=\"fit\"\r\n                [rowHover]=\"true\"\r\n                [scrollable]=\"true\"\r\n                scrollHeight=\"220px\"\r\n              >\r\n                <ng-template pTemplate=\"header\">\r\n                  <tr>\r\n                    <th pSortableColumn=\"id\">Benf Code</th>\r\n                    <th pSortableColumn=\"fullName\">Benf. Name</th>\r\n                    <th pSortableColumn=\"contactMobileNumber\">Mobile No</th>\r\n                    <th pSortableColumn=\"documentIdNumber\">ID No</th>\r\n                    <th pSortableColumn=\"contactCountry\">Country</th>\r\n                    <th pSortableColumn=\"serviceCurrency\">Currency</th>\r\n                    <th pSortableColumn=\"serviceCategory\">Service Category</th>\r\n                    <th pSortableColumn=\"bankAccountType\">Service Type</th>\r\n                    <th pSortableColumn=\"serviceDetails\">Service Details</th>\r\n                    <th>PastTxns</th>\r\n                    <th>Status</th>\r\n                  </tr>\r\n                </ng-template>\r\n                <ng-template pTemplate=\"body\" let-order>\r\n                  <tr>\r\n                    <td>{{ order.id }}</td>\r\n                    <td>\r\n                      <a\r\n                        style=\"text-decoration: none !important\"\r\n                        [ngStyle]=\"{\r\n                          color: 'var(--primary-color)',\r\n                          fontSize: '11px',\r\n                          cursor: 'pointer'\r\n                        }\"\r\n                        [ngClass]=\"{ disabled: rowData.status == 'Inactive' }\"\r\n                        (click)=\"\r\n                          !(rowData.status == 'Inactive') &&\r\n                            editbeneficiary(order, rowData)\r\n                        \"\r\n                        >{{ order.fullName }}</a\r\n                      >\r\n                    </td>\r\n                    <td>{{ order.contactMobileNumber }}</td>\r\n                    <td>{{ order.documentIdNumber }}</td>\r\n                    <td>{{ order.contactCountry }}</td>\r\n                    <td>{{ order.serviceCurrency }}</td>\r\n                    <td>{{ order.serviceCategory }}</td>\r\n                    <td>NA</td>\r\n                    <td>\r\n                      <div\r\n                        *ngFor=\"let detail of order.serviceDetails.split('  ')\"\r\n                      >\r\n                        {{ detail }}<br />\r\n                      </div>\r\n                    </td>\r\n                    <td>\r\n                      <span class=\"image-text\">\r\n                        <button\r\n                          pButton\r\n                          type=\"button\"\r\n                          icon=\"pi pi-eye\"\r\n                          class=\"operation-btns mr-2\"\r\n                          [disabled]=\"rowData && rowData.status == 'Inactive'\"\r\n                        ></button>\r\n                      </span>\r\n                    </td>\r\n                    <td>\r\n                      <label class=\"switch\" style=\"border: none\">\r\n                        <input\r\n                          #statusInp\r\n                          (click)=\"\r\n                            confirmBeneficiaryStatus(\r\n                              $event,\r\n                              order,\r\n                              customerType\r\n                            )\r\n                          \"\r\n                          [checked]=\"\r\n                            order['status'] == 'Active' ||\r\n                            order['status'] == 'A'\r\n                              ? true\r\n                              : false\r\n                          \"\r\n                          type=\"checkbox\"\r\n                          [disabled]=\"rowData && rowData.status == 'Inactive'\"\r\n                        />\r\n                        <span\r\n                          class=\"slider round\"\r\n                          [ngClass]=\"{\r\n                            disabled: rowData && rowData.status == 'Inactive'\r\n                          }\"\r\n                        ></span>\r\n                      </label>\r\n                    </td>\r\n                  </tr>\r\n                </ng-template>\r\n                <ng-template pTemplate=\"emptymessage\">\r\n                  <tr>\r\n                    <td colspan=\"11\">\r\n                      There are no Beneficiaries for current customer.\r\n                    </td>\r\n                  </tr>\r\n                </ng-template>\r\n              </p-table>\r\n            </div>\r\n          </td>\r\n        </tr>\r\n      </ng-template>\r\n      <ng-template pTemplate=\"emptymessage\">\r\n        <tr>\r\n          <td [attr.colspan]=\"columns.length\">No Data found.</td>\r\n        </tr>\r\n      </ng-template>\r\n      <ng-template pTemplate=\"paginatorleft\" let-state\r\n        >Showing {{ customerData.length ? state.page * state.rows + 1 : 0 }} -\r\n        {{\r\n          state.rows * (state.page + 1) > state.totalRecords\r\n            ? state.totalRecords\r\n            : state.rows * (state.page + 1)\r\n        }}\r\n        of {{ state.totalRecords }} Customers\r\n      </ng-template>\r\n    </p-table>\r\n  </div>\r\n</div>\r\n<div class=\"NorecordFound\" *ngIf=\"!customerData?.length && showNoDataFound\">\r\n  <div class=\"row\">\r\n    <div class=\"col-12\"><img src=\"assets/NoRecord.PNG\" /></div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col-12\">\r\n      <p>\"No Record Found.Please try again with different criteria\"</p>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class=\"NorecordFound\" *ngIf=\"!showTable && globalSearch && !showNoDataFound\">\r\n  <div class=\"row\">\r\n    <div class=\"col-12\"><img src=\"assets/searchCriteria.PNG\" /></div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col-12\">\r\n      <p>Select search criteria to find a customer details.</p>\r\n    </div>\r\n  </div>\r\n</div>\r\n<p-confirmDialog\r\n  key=\"activeDeactiveStatus\"\r\n  class=\"status-confirm confirm-popup\"\r\n  #cd\r\n  [closable]=\"false\"\r\n>\r\n  <p-footer>\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-check\"\r\n      label=\"Yes\"\r\n      (click)=\"cd.accept()\"\r\n    ></button>\r\n\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-times\"\r\n      label=\"No\"\r\n      (click)=\"cd.reject()\"\r\n    ></button>\r\n  </p-footer>\r\n</p-confirmDialog>\r\n","import { HttpClient, HttpHeaders } from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { Observable, forkJoin, throwError } from \"rxjs\";\r\nimport { catchError } from \"rxjs/operators\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class CustomerProfileService {\r\n  applicationName = JSON.parse(localStorage.getItem(\"applicationName\"));\r\n  moduleName = JSON.parse(localStorage.getItem(\"moduleName\"));\r\n\r\n  constructor(private http: HttpClient) {}\r\n  // getCustomerIndividualData(\r\n  //   id: string,\r\n  //   criteriaMap: any,\r\n  //   pageNumber: any,\r\n  //   pageSize: any\r\n  // ) {\r\n  //   return this.http.get(\r\n  //     `/appControl/individualCustomerController/getIndividualCustomerDetailsList`,\r\n  //     {\r\n  //       headers: new HttpHeaders()\r\n  //         .set(\"userId\", id)\r\n  //         .set(\"criteriaMap\", criteriaMap)\r\n  //         .set(\"pageNumber\", pageNumber)\r\n  //         .set(\"pageSize\", pageSize),\r\n  //     }\r\n  //   );\r\n  // }\r\n\r\n  getCustomerCorporateData(\r\n    id: string,\r\n    criteriaMap: any,\r\n    pageNumber: any,\r\n    pageSize: any,\r\n    custType: any,\r\n    sortBy: any,\r\n    orderBy: any\r\n  ) {\r\n    return this.http.get(\r\n      `/appControl/corporateCustomerController/getCorporateCustomerDetailsList`,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"userId\", id)\r\n          .set(\"criteriaMap\", criteriaMap)\r\n          .set(\"pageNumber\", pageNumber)\r\n          .set(\"pageSize\", pageSize)\r\n          .set(\"sortBy\", sortBy)\r\n          .set(\"orderBy\", orderBy)\r\n          .set(\"customerType\", custType),\r\n      }\r\n    );\r\n  }\r\n  getDataForsearchCriteria(\r\n    id: string,\r\n    appName: any,\r\n    moduleName: any,\r\n    formName: any\r\n  ) {\r\n    return this.http.get(\r\n      `/appControl/corporateCustomerController/getCustomerSearchSetting`,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"userId\", id)\r\n          .set(\"applicationName\", String(appName))\r\n          .set(\"moduleName\", String(moduleName))\r\n          .set(\"formName\", formName),\r\n      }\r\n    );\r\n  }\r\n  // updateCustomerIndividualStatus(userId: any, status: any, id: any) {\r\n  //   return this.http.get(\r\n  //     `/appControl/individualCustomerController/updateIndividualStatus`,\r\n  //     {\r\n  //       headers: new HttpHeaders()\r\n  //         .set(\"userId\", userId)\r\n  //         .set(\"status\", status)\r\n  //         .set(\"id\", id),\r\n  //     }\r\n  //   );\r\n  // }\r\n\r\n  // getCustomerMaster() {\r\n  //   return this.http.get(\r\n  //     `/appControl/corporateCustomerController/getCustomerProfileMasterData`\r\n  //   );\r\n  // }\r\n\r\n  // ! calling two api for customer master data\r\n  getCustomerMasterDataFromAppControlAndRemittance(): Observable<any[]> {\r\n    // Define API endpoints\r\n    const appControlUrl =\r\n      \"/appControl/formRulesController/getCustomerProfileMasterDataAppControl\";\r\n    const remittanceUrl =\r\n      \"/remittance/corporateCustomerController/getCustomerProfileMasterDataRemittance\";\r\n\r\n    // Make HTTP requests to both APIs\r\n    const appControlUrlRequest = this.http.get(appControlUrl);\r\n    const remittanceUrlRequest = this.http.get(remittanceUrl);\r\n\r\n    // Combine requests using forkJoin\r\n    return forkJoin([appControlUrlRequest, remittanceUrlRequest]).pipe(\r\n      catchError((error) => {\r\n        // Handle errors if any API request fails\r\n        console.error(\"Customer Master Data request failed:\", error);\r\n        return throwError(\"API request failed\");\r\n      })\r\n    );\r\n  }\r\n  // ! calling two api for customer master data ends\r\n\r\n  updateCustomerCorporateStatus(\r\n    userId: any,\r\n    status: any,\r\n    id: any,\r\n    custType: any\r\n  ) {\r\n    return this.http.get(\r\n      `/appControl/corporateCustomerController/updateCorporateStatus`,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"userId\", userId)\r\n          .set(\"status\", status)\r\n          .set(\"id\", id)\r\n          .set(\"customerType\", custType),\r\n      }\r\n    );\r\n  }\r\n  updateBeneficiaryStatusApi(userId: any, status: any, id: any, custType: any) {\r\n    return this.http.get(\r\n      `/appControl/beneficiaryProfileController/updateBeneficiaryProfileStatus`,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"userId\", userId)\r\n          .set(\"status\", status)\r\n          .set(\"id\", id)\r\n          .set(\"customerType\", custType),\r\n      }\r\n    );\r\n  }\r\n\r\n  getCausingCriteriaFields(\r\n    id: string,\r\n    appName: any,\r\n    moduleName: any,\r\n    formName: any\r\n  ) {\r\n    return this.http.get(\r\n      `/appControl/commonUtilController/getLoyaltyProgramCriteriaFields`,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"userId\", id)\r\n          .set(\"applications\", String(appName))\r\n          .set(\"moduleName\", String(moduleName))\r\n          .set(\"form\", formName),\r\n      }\r\n    );\r\n  }\r\n}\r\n","import { Component, OnInit } from \"@angular/core\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { CoreService } from \"src/app/core.service\";\r\nimport { CustomisedMessagesServiceService } from \"../customised-messages-service.service\";\r\nimport { DomSanitizer, SafeResourceUrl } from \"@angular/platform-browser\";\r\nimport { element } from \"protractor\";\r\nimport { ConfirmationService } from \"primeng/api\";\r\n\r\n@Component({\r\n  selector: \"app-customised-details\",\r\n  templateUrl: \"./customised-details.component.html\",\r\n  styleUrls: [\"./customised-details.component.scss\"],\r\n})\r\nexport class CustomisedDetailsComponent implements OnInit {\r\n  primaryColor = \"var(--primary-color)\";\r\n  deactivated: boolean = false;\r\n  editDeactivated: boolean = false;\r\n  mode = \"add\";\r\n  messageCode = \"\";\r\n  messageType = \"\";\r\n  messageTypeSelected = \"\";\r\n  messageTypeOptions: any = [];\r\n  messageLanguage = \"\";\r\n  messageLanguageOptions: any = [];\r\n  messageHeader = \"\";\r\n  messageDescription = \"\";\r\n  messageTypeChangeValue = \"\";\r\n\r\n  messageLanguageStatus = \"\";\r\n\r\n  userData: any = {};\r\n\r\n  messageRows: any[] = [\r\n    {\r\n      messageLanguage: \"\",\r\n      messageHeader: \"\",\r\n      messageDescription: \"\",\r\n      status: \"A\",\r\n    },\r\n  ];\r\n\r\n  newValues: any[] = [];\r\n  dataformsg: any[] = [];\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private coreService: CoreService,\r\n    private route: ActivatedRoute,\r\n    private customisedMsgService: CustomisedMessagesServiceService,\r\n    private sanitizer: DomSanitizer,\r\n    private confirmationService: ConfirmationService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.coreService.displayLoadingScreen();\r\n    const translationKey = \"Home.Settings\";\r\n    this.coreService\r\n      .translate(translationKey)\r\n      .then((translatedTitle: string) => {\r\n        this.coreService.setPageTitle(translatedTitle);\r\n      });\r\n\r\n    this.route.data.subscribe((data) => {\r\n      this.coreService.setBreadCrumbMenu(Object.values(data));\r\n    });\r\n\r\n    this.userData = JSON.parse(localStorage.getItem(\"userData\"));\r\n\r\n    const params = this.route.snapshot.params;\r\n    if (params && params.id) {\r\n      this.mode = this.route.snapshot.routeConfig.path.substring(\r\n        this.route.snapshot.routeConfig.path.lastIndexOf(\"/\") + 1\r\n      );\r\n      this.messageCode = params.id;\r\n    }\r\n\r\n    console.log(\"111\", this.messageTypeOptions, this.messageLanguageOptions);\r\n\r\n    this.getCustomisedDetails();\r\n  }\r\n\r\n  getCustomisedDetails() {\r\n    if (this.mode == \"add\") {\r\n      this.coreService.displayLoadingScreen();\r\n    }\r\n    this.customisedMsgService.getCustomisedDetailsData().subscribe(\r\n      (res) => {\r\n        this.coreService.removeLoadingScreen();\r\n        if (res[\"status\"] == \"200\") {\r\n          if (res[\"error\"]) {\r\n            this.coreService.showWarningToast(res[\"error\"]);\r\n            // this.dataformsg = ;\r\n          } else {\r\n            this.dataformsg = res[\"data\"];\r\n            console.log(this.dataformsg);\r\n            this.messageTypeOptions = this.dataformsg[\"systemMessageTypes\"].map(\r\n              (option) => {\r\n                return {\r\n                  code: option.code,\r\n                  name: option.codeName,\r\n                  icons: option.icons,\r\n                };\r\n              }\r\n            );\r\n            this.messageLanguageOptions = this.dataformsg[\r\n              \"systemLanguages\"\r\n            ].map((option) => {\r\n              return { code: option.code, name: option.codeName };\r\n            });\r\n            if (this.mode == \"edit\") {\r\n              this.getMessageForEditApi();\r\n            }\r\n          }\r\n        }\r\n      },\r\n      (err) => {\r\n        this.coreService.removeLoadingScreen();\r\n        this.coreService.showWarningToast(\"Error in fething data\");\r\n      }\r\n    );\r\n  }\r\n\r\n  getMessageForEditApi() {\r\n    this.coreService.displayLoadingScreen();\r\n    this.customisedMsgService.getMessageDataForEdit(this.messageCode).subscribe(\r\n      (res) => {\r\n        if (res[\"status\"] == \"200\") {\r\n          this.coreService.removeLoadingScreen();\r\n          if (res[\"error\"]) {\r\n            this.coreService.showWarningToast(res[\"error\"]);\r\n            // this.dataformsg = ;\r\n          } else {\r\n            console.log(res);\r\n            console.log(res, this.messageTypeOptions);\r\n            this.messageCode = res[\"messageCode\"];\r\n            // this.messageType = res[\"messageType\"];\r\n            if (res[\"messageType\"]) {\r\n              // this.messageType = res[\"messageType\"];\r\n              const messageTypeValue = this.messageTypeOptions.find(\r\n                (option) => option.name === res[\"messageType\"]\r\n              );\r\n              console.log(\"IcomessageTypeChangeValue\", messageTypeValue);\r\n              this.messageTypeChangeValue = messageTypeValue.name;\r\n              this.messageType = messageTypeValue.code;\r\n              console.log(\r\n                \"IcomessageTypeChangeValue\",\r\n                this.messageTypeChangeValue\r\n              );\r\n            }\r\n            console.log(\"messageType\", this.messageType);\r\n            this.messageRows = [];\r\n\r\n            if (res[\"messageDetails\"] && res[\"messageDetails\"].length > 0) {\r\n              // Assuming there can be multiple message details\r\n              res[\"messageDetails\"].forEach((detail) => {\r\n                this.messageRows.push({\r\n                  id: detail[\"id\"],\r\n                  messageLanguage: detail[\"languages\"],\r\n                  messageHeader: detail[\"messageHeader\"],\r\n                  messageDescription: detail[\"messageDescription\"],\r\n                  status: detail[\"status\"],\r\n                });\r\n                this.messageLanguageStatus = detail[\"languages\"];\r\n                if (detail[\"status\"] == \"D\") {\r\n                  this.deactivated = true;\r\n                  this.editDeactivated = false;\r\n                } else {\r\n                  this.deactivated = false;\r\n                  this.editDeactivated = true;\r\n                }\r\n              });\r\n            }\r\n            this.coreService.removeLoadingScreen();\r\n          }\r\n        }\r\n      },\r\n      (err) => {\r\n        this.coreService.removeLoadingScreen();\r\n        this.coreService.showWarningToast(\"Error in fething data\");\r\n      }\r\n    );\r\n  }\r\n\r\n  onMessageTypeChange(value: any) {\r\n    this.coreService.displayLoadingScreen();\r\n    console.log(\"value\", value);\r\n    const messageTypeValue = this.messageTypeOptions.find(\r\n      (option) => option.code === value\r\n    );\r\n    console.log(\"Icons:\", messageTypeValue);\r\n    // if (messageTypeValue && messageTypeValue.name) {\r\n    //   return `${messageTypeValue.name}`;\r\n    // }\r\n    this.messageTypeChangeValue = messageTypeValue.name;\r\n    this.getCustomisedCode(messageTypeValue.name);\r\n  }\r\n\r\n  getIconSrc(codeName: string): string {\r\n    // console.log(\"CodeName:\", codeName, this.messageTypeOptions);\r\n\r\n    const messageType = this.messageTypeOptions.find(\r\n      (option) => option.name === codeName\r\n    );\r\n\r\n    // console.log(\"MessageType:\", messageType);\r\n\r\n    if (messageType && messageType.icons) {\r\n      // console.log(\"Icons:\", messageType.icons);\r\n      return `data:image/png;base64,${messageType.icons}`;\r\n    } else {\r\n      console.log(\"Icons not found\");\r\n      return \"\"; // or provide a default icon source\r\n    }\r\n  }\r\n  getIconSrcSelected(code: string): string {\r\n    console.log(\"Code:\", code, this.messageTypeOptions);\r\n    console.log(\"Code:\", code, this.messageType);\r\n\r\n    const messageType = this.messageTypeOptions.find(\r\n      (option) => option.code === code\r\n    );\r\n    console.log(\"MessageType:\", messageType);\r\n\r\n    if (messageType && messageType.icons) {\r\n      console.log(\"Icons:\", messageType.icons);\r\n      this.messageTypeSelected = messageType.name;\r\n      console.log(\"Icons not found\", this.messageTypeSelected);\r\n      return `data:image/png;base64,${messageType.icons}`;\r\n    } else {\r\n      console.log(\"Icons not found\");\r\n      return \"\"; // or provide a default icon source\r\n    }\r\n  }\r\n\r\n  getCustomisedCode(messageTypeValue: any) {\r\n    this.customisedMsgService.getCustomisedCodeData(messageTypeValue).subscribe(\r\n      (res) => {\r\n        this.coreService.removeLoadingScreen();\r\n        if (res[\"status\"] == \"200\") {\r\n          if (res[\"error\"]) {\r\n            this.coreService.showWarningToast(res[\"error\"]);\r\n            // this.dataformsg = ;\r\n          } else {\r\n            // this.customisedMessagesListData = res[\"data\"];\r\n            console.log(res);\r\n            this.messageCode = res[\"data\"][\"code\"];\r\n          }\r\n        }\r\n      },\r\n      (err) => {\r\n        this.coreService.removeLoadingScreen();\r\n        this.coreService.showWarningToast(\"Error in fething data\");\r\n      }\r\n    );\r\n  }\r\n  saveAddNewMessage(action: any) {\r\n    this.coreService.displayLoadingScreen();\r\n    console.log(action);\r\n    let messageHeaderMissing = false;\r\n    let messageLanguageMissing = false;\r\n    let messageTypeMissing = false;\r\n    let messageDescriptionMissing = false;\r\n    console.log(\"adsa\", this.messageRows);\r\n    console.log(\"messageTypeChangeValue\", this.messageTypeChangeValue);\r\n    console.log(\"messageType\", this.messageType);\r\n\r\n    if (this.mode == \"edit\") {\r\n      this.newValues = this.messageRows.map((row) => {\r\n        return {\r\n          id: row.id,\r\n          messageCode: this.messageCode,\r\n          messageType: this.messageTypeChangeValue,\r\n          messageHeader: row.messageHeader\r\n            .replace(/\\s+/g, \" \")\r\n            .trim()\r\n            .toUpperCase(),\r\n          messageDescription: row.messageDescription\r\n            .replace(/\\s+/g, \" \")\r\n            .trim()\r\n            .toUpperCase(),\r\n          languages: row.messageLanguage,\r\n          status: row.status,\r\n        };\r\n      });\r\n      console.log(this.newValues);\r\n    } else {\r\n      console.log(\"messageTypeChangeValue\", this.messageTypeChangeValue);\r\n      this.newValues = this.messageRows.map((row) => {\r\n        return {\r\n          messageCode: this.messageCode,\r\n          messageType: this.messageTypeChangeValue,\r\n          messageHeader: row.messageHeader\r\n            .replace(/\\s+/g, \" \")\r\n            .trim()\r\n            .toUpperCase(),\r\n          messageDescription: row.messageDescription\r\n            .replace(/\\s+/g, \" \")\r\n            .trim()\r\n            .toUpperCase(),\r\n          languages: row.messageLanguage,\r\n          status: \"A\",\r\n        };\r\n      });\r\n    }\r\n    this.newValues.forEach((element) => {\r\n      console.log(element);\r\n      if (!element[\"messageType\"] || element[\"messageType\"] == \"null\") {\r\n        messageTypeMissing = true;\r\n      }\r\n      if (!element[\"languages\"] || element[\"languages\"] == \"null\") {\r\n        messageLanguageMissing = true;\r\n      }\r\n      if (!element[\"messageHeader\"]) {\r\n        messageHeaderMissing = true;\r\n      }\r\n      if (!element[\"messageDescription\"]) {\r\n        messageDescriptionMissing = true;\r\n      }\r\n    });\r\n\r\n    if (messageTypeMissing) {\r\n      this.coreService.removeLoadingScreen();\r\n      this.coreService.showWarningToast(\"Please Select Message Type.\");\r\n    } else if (messageLanguageMissing) {\r\n      this.coreService.removeLoadingScreen();\r\n      this.coreService.showWarningToast(\"Please Select language.\");\r\n    } else if (messageDescriptionMissing) {\r\n      this.coreService.removeLoadingScreen();\r\n      this.coreService.showWarningToast(\"Please Fill Message Description.\");\r\n    } else if (messageHeaderMissing) {\r\n      this.coreService.removeLoadingScreen();\r\n      this.coreService.showWarningToast(\"Please Fill Message Header.\");\r\n    } else if (this.messageRows.length >= 1) {\r\n      const messageLanguages = this.messageRows.map(\r\n        (row) => row.messageLanguage\r\n      );\r\n      const uniqueMessageLanguages = new Set(messageLanguages);\r\n      console.log(uniqueMessageLanguages);\r\n      if (messageLanguages.length != uniqueMessageLanguages.size) {\r\n        this.coreService.removeLoadingScreen();\r\n        this.coreService.showWarningToast(\r\n          \"Same Message Languages are not allowed.\"\r\n        );\r\n        return;\r\n      } else {\r\n        console.log(\"Rows to save:\", this.newValues);\r\n        let service;\r\n        if (this.mode == \"edit\") {\r\n          let data = this.newValues;\r\n          service = this.customisedMsgService.updateMessage(\r\n            data,\r\n            this.userData.userId\r\n          );\r\n        } else {\r\n          console.log(this.newValues);\r\n          let data = this.newValues;\r\n          service = this.customisedMsgService.addNewMessage(\r\n            data,\r\n            this.userData.userId\r\n          );\r\n        }\r\n        if (service) {\r\n          service.subscribe(\r\n            (res) => {\r\n              if (\r\n                res[\"status\"] &&\r\n                typeof res[\"status\"] == \"string\" &&\r\n                (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n              ) {\r\n                if (res[\"error\"]) {\r\n                  this.coreService.showWarningToast(res[\"error\"]);\r\n                } else {\r\n                  this.coreService.showWarningToast(\r\n                    \"Something went wrong, Please try again later\"\r\n                  );\r\n                }\r\n              } else {\r\n                if (res[\"msg\"]) {\r\n                  this.coreService.showSuccessToast(res.msg);\r\n                  if (action == \"save\") {\r\n                    // this.showAddnewModal = false;\r\n                    // this.getMasterListData(this.formName);\r\n                    this.router.navigate([`navbar/customised-messages`]);\r\n                    this.setHeaderSidebarBtn();\r\n                  } else if (action == \"saveAndAddNew\") {\r\n                    this.getCustomisedDetails();\r\n                    this.messageType = \"\";\r\n                    this.messageCode = \"\";\r\n                    this.messageRows = [\r\n                      {\r\n                        messageLanguage: \"\",\r\n                        messageHeader: \"\",\r\n                        messageDescription: \"\",\r\n                      },\r\n                    ];\r\n                  }\r\n                } else if (res[\"error\"]) {\r\n                  this.coreService.showWarningToast(res[\"error\"]);\r\n                  this.coreService.removeLoadingScreen();\r\n                }\r\n              }\r\n            },\r\n            (err) => {\r\n              this.coreService.removeLoadingScreen();\r\n              console.log(\"error in saveAddNew\", err);\r\n              this.coreService.showWarningToast(\r\n                \"Something went wrong, Please try again later\"\r\n              );\r\n            }\r\n          );\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  activeMsgRows() {\r\n    return this.messageRows.filter((msg) => msg.status == \"A\");\r\n  }\r\n\r\n  deleteMsg(index: number, value: any) {\r\n    console.log(\"delete\", this.messageRows);\r\n    if (this.mode == \"edit\") {\r\n      if (this.messageRows[index].id) {\r\n        this.messageRows[index].status = \"Deleted\";\r\n      }\r\n    } else {\r\n      this.messageRows.splice(index, 1);\r\n    }\r\n  }\r\n  reset() {\r\n    this.coreService.setSidebarBtnFixedStyle(false);\r\n    this.coreService.setHeaderStickyStyle(false);\r\n    this.confirmationService.confirm({\r\n      message: \"Are you sure, you want to clear all the fields ?\",\r\n      key: \"resetMessageConfirmation\",\r\n      accept: () => {\r\n        this.messageRows = [];\r\n        this.getCustomisedDetails();\r\n        this.messageType = \"\";\r\n        this.messageCode = \"\";\r\n        this.messageRows = [\r\n          {\r\n            messageLanguage: \"\",\r\n            messageHeader: \"\",\r\n            messageDescription: \"\",\r\n          },\r\n        ];\r\n      },\r\n      reject: () => {\r\n        this.confirmationService.close;\r\n        this.setHeaderSidebarBtn();\r\n      },\r\n    });\r\n  }\r\n\r\n  editDisableModel() {\r\n    this.editDeactivated = !this.editDeactivated;\r\n  }\r\n  addMsg() {\r\n    this.messageRows.push({\r\n      messageLanguage: \"\",\r\n      messageHeader: \"\",\r\n      messageDescription: \"\",\r\n      status: \"A\",\r\n    });\r\n    console.log(\"message\", this.messageRows);\r\n  }\r\n\r\n  setHeaderSidebarBtn() {\r\n    this.coreService.displayLoadingScreen();\r\n    setTimeout(() => {\r\n      this.coreService.setHeaderStickyStyle(true);\r\n      this.coreService.setSidebarBtnFixedStyle(true);\r\n    }, 500);\r\n    setTimeout(() => {\r\n      this.coreService.removeLoadingScreen();\r\n    }, 1000);\r\n  }\r\n\r\n  onActive(data: any) {\r\n    this.confirmMessageEditStatus();\r\n  }\r\n  confirmMessageEditStatus() {\r\n    let type = \"\";\r\n    let reqStatus = \"\";\r\n    if (this.deactivated == true) {\r\n      reqStatus = \"A\";\r\n      type = \"Activate\";\r\n    } else {\r\n      reqStatus = \"D\";\r\n      type = \"Deactivate\";\r\n    }\r\n    this.coreService.setSidebarBtnFixedStyle(false);\r\n    this.coreService.setHeaderStickyStyle(false);\r\n    let completeMsg = \"\";\r\n    completeMsg =\r\n      `<img src=\"../../../assets/warning.svg\"><br/><br/>` +\r\n      `Do you wish to ` +\r\n      type +\r\n      ` the Message Record: ${this.messageCode}?`;\r\n\r\n    this.confirmationService.confirm({\r\n      message: completeMsg,\r\n      key: \"activeDeactiveStatusMessage\",\r\n      accept: () => {\r\n        this.updateStatus(reqStatus);\r\n        this.setHeaderSidebarBtn();\r\n      },\r\n      reject: () => {\r\n        this.confirmationService.close;\r\n        this.setHeaderSidebarBtn();\r\n      },\r\n    });\r\n  }\r\n  updateStatus(reqStatus: any) {\r\n    this.coreService.displayLoadingScreen();\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"messageCode\", this.messageCode);\r\n    formData.append(\"status\", reqStatus);\r\n    formData.append(\"languages\", this.messageLanguageStatus);\r\n    this.updateMessageStatus(formData);\r\n  }\r\n\r\n  updateMessageStatus(formData: any) {\r\n    this.customisedMsgService.updateCustomisedListStatus(formData).subscribe(\r\n      (res) => {\r\n        if (\r\n          res[\"status\"] &&\r\n          typeof res[\"status\"] == \"string\" &&\r\n          (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n        ) {\r\n          if (res[\"error\"]) {\r\n            this.coreService.showWarningToast(res[\"error\"]);\r\n          } else {\r\n            this.coreService.showWarningToast(\"Some error in fetching data\");\r\n          }\r\n        } else {\r\n          let message = \"\";\r\n          if (res[\"error\"] == \"true\") {\r\n            this.coreService.removeLoadingScreen();\r\n            this.coreService.showWarningToast(message);\r\n          } else {\r\n            if (res[\"data\"]) {\r\n              message = res[\"data\"];\r\n              this.deactivated = !this.deactivated;\r\n              this.editDeactivated = !this.editDeactivated;\r\n              this.coreService.showSuccessToast(message);\r\n            } else {\r\n              this.coreService.removeLoadingScreen();\r\n              message = \"Error in fetching data, Please try again later\";\r\n              this.coreService.showWarningToast(message);\r\n            }\r\n          }\r\n        }\r\n      },\r\n      (err) => {\r\n        console.log(\"Error in updateBankRouteStatus\", err);\r\n        this.coreService.removeLoadingScreen();\r\n      }\r\n    );\r\n  }\r\n}\r\n","<div class=\"visible-main-section\">\r\n    <div class=\"details-page-card\">\r\n      <div class=\"d-flex mx-3\" style=\"justify-content: space-between\">\r\n        <div class=\"col-12\">\r\n          <div class=\"row\">\r\n            <div class=\"col-md-7 col-lg-7 col-sm-12 col-xs-12\">\r\n              <p class=\"description-text\">\r\n                <svg\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  width=\"41\"\r\n                  height=\"35\"\r\n                  viewBox=\"0 0 41 41\"\r\n                >\r\n                  <g\r\n                    id=\"Group_2248\"\r\n                    data-name=\"Group 2248\"\r\n                    transform=\"translate(-341 -138)\"\r\n                  >\r\n                    <circle\r\n                      id=\"Ellipse_130\"\r\n                      data-name=\"Ellipse 130\"\r\n                      cx=\"20.5\"\r\n                      cy=\"20.5\"\r\n                      r=\"20.5\"\r\n                      transform=\"translate(341 138)\"\r\n                      [attr.fill]=\"primaryColor\"\r\n                    />\r\n                    <path\r\n                      id=\"_52_Note_Basic_Description\"\r\n                      data-name=\"52  Note, Basic, Description\"\r\n                      d=\"M17.054,9.537H9.52a.753.753,0,0,1-.753-.753V5.016a.753.753,0,0,1,.753-.753h.851a3.014,3.014,0,0,1,5.831,0h.851a.753.753,0,0,1,.753.753V8.783A.753.753,0,0,1,17.054,9.537ZM10.274,8.03H16.3V5.77h-.753a.753.753,0,0,1-.753-.753,1.507,1.507,0,0,0-3.014,0,.753.753,0,0,1-.753.753h-.753Zm11.3,12.808V7.277a2.26,2.26,0,0,0-2.26-2.26h-.753V6.523h.753a.753.753,0,0,1,.753.753V20.837a.753.753,0,0,1-.753.753H7.26a.753.753,0,0,1-.753-.753V7.277a.753.753,0,0,1,.753-.753h.753V5.016H7.26A2.26,2.26,0,0,0,5,7.277V20.837A2.26,2.26,0,0,0,7.26,23.1H19.314A2.26,2.26,0,0,0,21.574,20.837ZM17.808,11.8H8.767V13.3h9.041Zm0,3.014H8.767v1.507h9.041Zm0,3.014H8.767v1.507h9.041Z\"\r\n                      transform=\"translate(348.213 145.945)\"\r\n                      fill=\"#fff\"\r\n                    />\r\n                  </g>\r\n                </svg>\r\n                Enables users to configure Customised Messages related settings.\r\n              </p>\r\n            </div>\r\n            <div class=\"col-md-5 col-lg-5 col-sm-12 col-xs-12\">\r\n              <div class=\"row\">\r\n                <div class=\"buttons-section\">\r\n                    <button\r\n                    pButton\r\n                    pRipple\r\n                    *ngIf=\"mode == 'edit'\"\r\n                    type=\"button\"\r\n                    label=\"Edit\"\r\n                    class=\"p-button-warning search-btn \"\r\n                    (click)=\"editDisableModel()\"\r\n                    style=\"padding: 6px 16px;\"\r\n                    [disabled]=\"deactivated\"\r\n                  ></button>\r\n                  <button\r\n                    pButton\r\n                    pRipple\r\n                    type=\"button\"\r\n                    label=\"Save\"\r\n                    class=\"p-button-raised\"\r\n                    (click)=\"saveAddNewMessage('save')\"\r\n                    [disabled]=\"deactivated || editDeactivated\"\r\n                  ></button>\r\n                  <button\r\n                    pButton\r\n                    pRipple\r\n                    *ngIf=\"mode == 'add'\"\r\n                    type=\"button\"\r\n                    label=\"Save & Add New\"\r\n                    class=\"p-button-raised\"\r\n                    (click)=\"saveAddNewMessage('saveAndAddNew')\"\r\n                    [disabled]=\"deactivated\"\r\n                  ></button>\r\n                  <button\r\n                    pButton\r\n                    pRipple\r\n                    *ngIf=\"mode == 'add'\"\r\n                    type=\"button\"\r\n                    label=\"Reset\"\r\n                    class=\"p-button-warning\"\r\n                    (click)=\"reset()\"\r\n                    [disabled]=\"deactivated\"\r\n                  ></button>\r\n                  <button\r\n                    *ngIf=\"mode == 'edit'\"\r\n                    pButton\r\n                    pRipple\r\n                    type=\"button\"\r\n                    label=\"{{ deactivated ? 'Activate' : 'Deactivate' }}\"\r\n                    class=\"p-button-raised\"\r\n                    (click)=\"onActive()\"\r\n                  ></button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n    </div>\r\n    <div\r\n    class=\"d-flex m-3 tax-code-desc-section\"\r\n  >\r\n    <div class=\"col-12\">\r\n      <div class=\"row d-flex\">\r\n        <div class=\"col-md-3 col-lg-3 col-sm-12 col-xs-12\">\r\n            <div class=\"taxCode\">\r\n              <p style=\"position: relative\">\r\n                  Message Type <span class=\"description red-star\">*</span>\r\n              </p>\r\n              <p-dropdown\r\n                name=\"application\"\r\n                inputId=\"application\"\r\n                [options]=\"messageTypeOptions\"\r\n                (onChange)=\"onMessageTypeChange($event.value)\"\r\n                [(ngModel)]=\"messageType\"\r\n                placeholder=\"Select\"\r\n                optionValue=\"code\"\r\n                optionLabel=\"name\"\r\n                [disabled]=\"deactivated || editDeactivated\"\r\n              >\r\n              <!-- <ng-template pTemplate=\"selectedItem\">\r\n                <div class=\"country-item country-item-value\" *ngIf=\"messageType\">\r\n                  <img [src]=\"getIconSrcSelected(messageType)\" alt=\"Icon\" width=\"20\" height=\"20\">\r\n                  <div>{{ messageTypeSelected }}</div>\r\n                </div>\r\n              </ng-template> -->\r\n              <ng-template let-options pTemplate=\"item\">\r\n                <div class=\"truncate-text\">\r\n                  <div>\r\n                    <!-- Display the dynamic icon based on codeName -->\r\n                    <img [src]=\"getIconSrc(options.name)\" alt=\"Icon\" width=\"20\" height=\"20\">\r\n                    {{ options.name }}\r\n                  </div>\r\n                </div>\r\n              </ng-template></p-dropdown\r\n              >\r\n            </div>\r\n          </div>\r\n        <div class=\"col-md-3 col-lg-3 col-sm-12 col-xs-12\">\r\n          <div\r\n            class=\"messageCode\"\r\n            [pTooltip]=\"\r\n              this.mode == 'add'\r\n                ? 'Message Code is automatically generated, It may get changed in saving process.'\r\n                : ''\r\n            \"\r\n          >\r\n            <p style=\"position: relative\">\r\n              Message Code \r\n            </p>\r\n            <input\r\n              type=\"text\"\r\n              pInputText\r\n              [(ngModel)]=\"messageCode\"\r\n              disabled\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>  \r\n \r\n    <div\r\n    class=\"d-flex m-3  tax-code-desc-section\" *ngFor=\"let row of activeMsgRows(); let i = index\"\r\n  >\r\n    <div class=\"col-12\">\r\n      <div class=\"row d-flex pt-2\" >\r\n        <div class=\"col-md-3 col-lg-3 col-sm-12 col-xs-12\">\r\n            <div class=\"taxCode\">\r\n              <p style=\"position: relative\">\r\n                  Message Language \r\n              </p>\r\n              <p-dropdown\r\n                name=\"application\"\r\n                inputId=\"application\"\r\n                [options]=\"messageLanguageOptions\"\r\n                [(ngModel)]=\"row.messageLanguage\"\r\n                placeholder=\"Select\"\r\n                optionValue=\"code\"\r\n                optionLabel=\"name\"\r\n                [disabled]=\"deactivated || editDeactivated\"\r\n              >\r\n                <ng-template let-options pTemplate=\"item\">\r\n                  <div class=\"truncate-text\">\r\n                    <div>{{ options.name }}</div>\r\n                  </div>\r\n                </ng-template></p-dropdown\r\n              >\r\n            </div>\r\n          </div>\r\n          <div class=\"col-md-3 col-lg-3 col-sm-12 col-xs-12\">\r\n            <div class=\"messageCode\">\r\n              <p style=\"position: relative\">Message Header </p>\r\n              <input\r\n                type=\"text\"\r\n                pInputText\r\n                maxlength=\"200\"\r\n                placeholder=\"Max 200 characters\"\r\n                [disabled]=\"deactivated || editDeactivated\"\r\n                [(ngModel)]=\"row.messageHeader\"\r\n              />\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"col-md-3 col-lg-3 col-sm-12 col-xs-12\">\r\n            <div class=\"messageCode\">\r\n              <p style=\"position: relative\">Message Description</p>\r\n              <input\r\n                type=\"text\"\r\n                pInputText\r\n                maxlength=\"500\"\r\n                placeholder=\"Max 500 characters\"\r\n                [disabled]=\"deactivated || editDeactivated\"\r\n                [(ngModel)]=\"row.messageDescription\"\r\n              />\r\n            </div>\r\n          </div>\r\n        <div class=\"col-md-3 col-lg-3 col-sm-12 col-xs-12\" *ngIf=\"!(i == 0)\">\r\n            <button\r\n            #addCriteriaBtn\r\n            pButton\r\n            pRipple\r\n            style=\" margin-top: 27px;font-size: 1.75rem;height: 33px;\"\r\n            type=\"button\"\r\n            label=\"-\"\r\n            class=\"p-button-primary\"\r\n            (click)=\"deleteMsg(i,$event)\"\r\n            [disabled]=\"deactivated || editDeactivated\"\r\n          ></button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    </div>\r\n    <div\r\n    class=\"d-flex m-3 tax-code-desc-section\"\r\n  >\r\n    <div class=\"col-12\">\r\n      <div class=\"row d-flex mt-2\">\r\n        <div class=\"col-md-3 col-lg-3 col-sm-12 col-xs-12 d-flex\">\r\n            \r\n            <button\r\n            #addCriteriaBtn\r\n            pButton\r\n            pRipple\r\n            style=\"margin-left: 30px;font-size: 1.5rem;height: 33px;\"\r\n            type=\"button\"\r\n            label=\"+\"\r\n            class=\"p-button-primary\"\r\n            [disabled]=\"deactivated || editDeactivated\"\r\n            (click)=\"addMsg()\"\r\n            \r\n          ></button>\r\n          <p style=\"margin-top: 7px;padding-left: 10px;\">\r\n            Add More Language\r\n          </p>\r\n          </div>\r\n        \r\n      </div>\r\n    </div>\r\n    </div>\r\n  </div>  \r\n      </div>\r\n      <p-confirmDialog\r\n  key=\"resetMessageConfirmation\"\r\n  class=\"confirm-popup\"\r\n  #cd2\r\n  icon=\"pi pi-exclamation-triangle\"\r\n  [closable]=\"false\"\r\n>\r\n  <p-footer>\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-check\"\r\n      label=\"Yes\"\r\n      (click)=\"cd2.accept()\"\r\n    ></button>\r\n\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-times\"\r\n      label=\"Cancel\"\r\n      (click)=\"cd2.reject()\"\r\n    ></button>\r\n  </p-footer>\r\n</p-confirmDialog>\r\n      <p-confirmDialog\r\n      key=\"activeDeactiveStatusMessage\"\r\n      class=\"status-confirm confirm-popup\"\r\n      #cd4\r\n      [closable]=\"false\"\r\n    >\r\n      <p-footer>\r\n        <button\r\n          type=\"button\"\r\n          pButton\r\n          icon=\"pi pi-check\"\r\n          label=\"Yes\"\r\n          (click)=\"cd4.accept()\"\r\n        ></button>\r\n    \r\n        <button\r\n          type=\"button\"\r\n          pButton\r\n          icon=\"pi pi-times\"\r\n          label=\"No\"\r\n          (click)=\"cd4.reject()\"\r\n        ></button>\r\n      </p-footer>\r\n    </p-confirmDialog>","import { Component, OnInit } from \"@angular/core\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { ConfirmationService } from \"primeng/api\";\r\nimport { CoreService } from \"src/app/core.service\";\r\nimport { MasterServiceService } from \"src/app/master/master-service.service\";\r\nimport { CustomisedMessagesServiceService } from \"../customised-messages-service.service\";\r\n\r\n@Component({\r\n  selector: \"app-customised-listing\",\r\n  templateUrl: \"./customised-listing.component.html\",\r\n  styleUrls: [\"./customised-listing.component.scss\"],\r\n})\r\nexport class CustomisedListingComponent implements OnInit {\r\n  userData: any = {};\r\n  customisedlist: any = {\r\n    data: [\r\n      {\r\n        id: 0,\r\n        userID: null,\r\n        messageCode: \"SUCC0001\",\r\n        messageType: \"success\",\r\n        messageDescription: \"applied fields saved successfully\",\r\n        messageHeader: \"success\",\r\n        status: \"Active\",\r\n      },\r\n      {\r\n        id: 0,\r\n        userID: null,\r\n        messageCode: \"WARG0002\",\r\n        messageType: \"warning\",\r\n        messageDescription: \"please fill the required fields\",\r\n        messageHeader: \"warning\",\r\n        status: \"Active\",\r\n      },\r\n      {\r\n        id: 0,\r\n        userID: null,\r\n        messageCode: \"FAIL0003\",\r\n        messageType: \"fail\",\r\n        messageDescription: \"applied fields failed to save \",\r\n        messageHeader: \"fail\",\r\n        status: \"Active\",\r\n      },\r\n      {\r\n        id: 0,\r\n        userID: null,\r\n        messageCode: \"ERR0003\",\r\n        messageType: \"error\",\r\n        messageDescription: \"Error while saving\",\r\n        messageHeader: \"error\",\r\n        status: \"Active\",\r\n      },\r\n    ],\r\n  };\r\n\r\n  customisedMessagesListData: any = [];\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private coreService: CoreService,\r\n    private route: ActivatedRoute,\r\n    private customisedMsgService: CustomisedMessagesServiceService,\r\n    private confirmationService: ConfirmationService\r\n  ) {}\r\n\r\n  cols: any[] = [\r\n    { field: \"messageCode\", header: \"Message Code\", width: \"12%\" },\r\n    { field: \"messageType\", header: \"Message Type\", width: \"13%\" },\r\n    { field: \"messageHeader\", header: \"Message Header\", width: \"20%\" },\r\n    {\r\n      field: \"messageDescription\",\r\n      header: \"Message Description\",\r\n      width: \"35%\",\r\n    },\r\n    { field: \"status\", header: \"Status\", width: \"10%\" },\r\n    { field: \"action\", header: \"Action\", width: \"10%\" },\r\n  ];\r\n  customisedMessagesTableLoading = false;\r\n\r\n  pageNumber = 1;\r\n  pageSize = 50;\r\n\r\n  ngOnInit(): void {\r\n    this.coreService.displayLoadingScreen();\r\n\r\n    const translationKey = \"Home.Settings\";\r\n    // this.customisedMessagesListData = this.customisedlist.data;\r\n    console.log(this.customisedMessagesListData);\r\n\r\n    // Update translation\r\n    this.coreService\r\n      .translate(translationKey)\r\n      .then((translatedTitle: string) => {\r\n        this.coreService.setPageTitle(translatedTitle);\r\n      });\r\n\r\n    this.route.data.subscribe((data) => {\r\n      this.coreService.setBreadCrumbMenu(Object.values(data));\r\n    });\r\n\r\n    this.userData = JSON.parse(localStorage.getItem(\"userData\"));\r\n    this.coreService.removeLoadingScreen();\r\n\r\n    this.getCustomisedMsgList();\r\n  }\r\n\r\n  getCustomisedMsgList() {\r\n    console.log(\"ada\");\r\n    this.coreService.displayLoadingScreen();\r\n    this.customisedMsgService.getCustomisedListData().subscribe(\r\n      (res) => {\r\n        this.coreService.removeLoadingScreen();\r\n        if (res[\"status\"] == \"200\") {\r\n          if (res[\"error\"]) {\r\n            this.coreService.showWarningToast(res[\"error\"]);\r\n            this.customisedMessagesListData = [];\r\n          } else {\r\n            this.customisedMessagesListData = res[\"data\"];\r\n            console.log(this.customisedMessagesListData, res);\r\n            // this.totalRecords = res.data.PaginationDetails.totalCount;\r\n            // this.customerCode = res.customerCode?.map((code) => {\r\n            //   if (code) return { label: code, value: code };\r\n            // });\r\n            // this.fullName = res.customerFullName?.map((code) => {\r\n            //   if (code) return { label: code, value: code };\r\n            // });\r\n            // this.nationality = res.nationality?.map((code) => {\r\n            //   if (code) return { label: code, value: code };\r\n            // });\r\n            // this.mobileNumber = res.mobileNumber?.map((code) => {\r\n            //   if (code) return { label: code, value: code };\r\n            // });\r\n            // this.idType = res.idType?.map((code) => {\r\n            //   if (code) return { label: code, value: code };\r\n            // });\r\n            // this.idNumber = res.idNumber?.map((code) => {\r\n            //   if (code) return { label: code, value: code };\r\n            // });\r\n            // if (this.customisedMessagesListData) {\r\n            //   this.customisedMessagesListData.forEach((data) => {\r\n            //     data[\"promotionDetails\"] = data[\"promotionDetails\"]\r\n            //       .split(\"#\")\r\n            //       .join(\"\\n\");\r\n            //   });\r\n            // }\r\n          }\r\n        }\r\n      },\r\n      (err) => {\r\n        this.coreService.removeLoadingScreen();\r\n        this.coreService.showWarningToast(\"Error in fething data\");\r\n      }\r\n    );\r\n  }\r\n\r\n  addNewMessage() {\r\n    this.router.navigate([\"navbar\", \"customised-messages\", \"add-messages\"]);\r\n  }\r\n\r\n  openClickForEdit(data: any) {\r\n    this.router.navigate([\r\n      \"navbar\",\r\n      \"customised-messages\",\r\n      \"add-messages\",\r\n      data.messageCode,\r\n      \"edit\",\r\n    ]);\r\n  }\r\n\r\n  confirmStatus(e: any, data: any) {\r\n    console.log(data, e);\r\n    e.preventDefault();\r\n    let type = \"\";\r\n    let reqStatus = \"\";\r\n    if (e.target.checked) {\r\n      reqStatus = \"A\";\r\n      type = \"Activate\";\r\n    } else {\r\n      reqStatus = \"D\";\r\n      type = \"Deactivate\";\r\n    }\r\n    this.coreService.setSidebarBtnFixedStyle(false);\r\n    this.coreService.setHeaderStickyStyle(false);\r\n    let completeMsg = \"\";\r\n    completeMsg =\r\n      `<img src=\"../../../assets/warning.svg\"><br/><br/>` +\r\n      `Do you wish to ` +\r\n      type +\r\n      ` the Message Record: ${data[\"messageCode\"]}?`;\r\n    let formName = \"\";\r\n    this.confirmationService.confirm({\r\n      message: completeMsg,\r\n      key: \"activeDeactiveStatus\",\r\n      accept: () => {\r\n        this.updateStatus(e, reqStatus, data);\r\n        this.setHeaderSidebarBtn(true);\r\n      },\r\n      reject: () => {\r\n        this.confirmationService.close;\r\n        this.setHeaderSidebarBtn(false);\r\n      },\r\n    });\r\n  }\r\n\r\n  setHeaderSidebarBtn(accept: boolean) {\r\n    this.coreService.displayLoadingScreen();\r\n    setTimeout(() => {\r\n      this.coreService.setHeaderStickyStyle(true);\r\n      this.coreService.setSidebarBtnFixedStyle(true);\r\n    }, 500);\r\n    if (!accept) {\r\n      setTimeout(() => {\r\n        this.coreService.removeLoadingScreen();\r\n      }, 1000);\r\n    }\r\n  }\r\n\r\n  updateStatus(e: any, reqStatus: any, data: any) {\r\n    this.coreService.displayLoadingScreen();\r\n    const formData = new FormData();\r\n    formData.append(\"messageCode\", data[\"messageCode\"]);\r\n    formData.append(\"status\", reqStatus);\r\n    formData.append(\"languages\", data[\"languages\"]);\r\n    // const newValues = [\r\n    //   {\r\n    //     messageCode: data[\"messageCode\"],\r\n    //     status: reqStatus,\r\n    //   },\r\n    // ];\r\n    this.updateMessageCodeStatus(reqStatus, e.target, formData);\r\n  }\r\n\r\n  updateMessageCodeStatus(reqStatus: any, sliderElm: any, formData) {\r\n    console.log(formData, reqStatus);\r\n\r\n    this.customisedMsgService.updateCustomisedListStatus(formData).subscribe(\r\n      (res) => {\r\n        let message = \"\";\r\n        if (res[\"data\"]) {\r\n          message = res[\"data\"];\r\n          sliderElm.checked = sliderElm!.checked;\r\n          this.coreService.showSuccessToast(message);\r\n          this.getCustomisedMsgList();\r\n          // this.coreService.removeLoadingScreen();\r\n        } else {\r\n          this.coreService.removeLoadingScreen();\r\n          message = \"Error in fetching data, Please try again later\";\r\n          this.coreService.showWarningToast(message);\r\n        }\r\n      },\r\n      (err) => {\r\n        console.log(err);\r\n        this.coreService.removeLoadingScreen();\r\n      }\r\n    );\r\n  }\r\n}\r\n","<div class=\"visible-main-section\">\r\n    <div class=\"pagetitle\">\r\n      <div class=\"infoicon\">\r\n        <i class=\"pi pi-info-circle\"></i>\r\n        List of Customised Messages.\r\n      </div>\r\n      <div class=\"addnew\">\r\n        <button\r\n          pButton\r\n          pRipple\r\n          type=\"button\"\r\n          label=\"Add New Message\"\r\n          class=\"p-button-raised\"\r\n          (click)=\"addNewMessage()\"\r\n        ></button>\r\n      </div>\r\n    </div>\r\n\r\n<div class=\"ptable\">\r\n    <p-table\r\n      #dt\r\n      [columns]=\"cols\"\r\n      [value]=\"customisedMessagesListData\"\r\n      dataKey=\"customerCode\"\r\n      [resizableColumns]=\"true\"\r\n      columnResizeMode=\"fit\"\r\n      [rowHover]=\"true\"\r\n      [paginator]=\"true\"\r\n  [rows]=\"10\"\r\n      [loading]=\"customisedMessagesTableLoading\"\r\n    >\r\n      <ng-template pTemplate=\"header\" let-columns>\r\n        <tr>\r\n          <th\r\n            *ngFor=\"let col of columns; let c = index\"\r\n            pReorderableColumn\r\n            [pSortableColumn]=\"col.field\"\r\n            pResizableColumn\r\n            [style.width]=\"col.width\"\r\n          >\r\n            {{ col.header }}\r\n           \r\n          </th>\r\n        </tr>\r\n        <tr class=\"search-row\">\r\n          <th *ngFor=\"let col of cols\" [style.width]=\"col.width\">\r\n            <span style=\"width: 100%;\" class=\"p-input-icon-left\" *ngIf=\"col.field != 'status' && col.field != 'action'\">\r\n              <i class=\"pi pi-search\"></i>\r\n              <input\r\n                type=\"text\"\r\n                class=\"p-inputtext table-search\"\r\n                placeholder=\"Search\"\r\n                (input)=\"dt.filter($event.target.value, col.field, 'contains')\"\r\n              />\r\n            </span>\r\n          </th>\r\n        </tr>\r\n      </ng-template>\r\n      <ng-template\r\n        pTemplate=\"body\"\r\n        let-rowData\r\n        let-columns=\"columns\"\r\n        let-index=\"rowIndex\"\r\n      >\r\n        <tr [pReorderableRow]=\"index\">\r\n          <ng-container *ngFor=\"let col of columns; let i = index\">\r\n            <td *ngIf=\"col.field != 'status'&& col.field != 'action'\"  style=\"cursor: pointer;\">\r\n              <div\r\n              *ngIf=\"!(i == 0  || i == 2 || i == 3)\"\r\n                style=\"display: inline-block;cursor: pointer;\"\r\n              >\r\n                {{ rowData[col[\"field\"]] }}\r\n               \r\n              </div>\r\n              <span\r\n                *ngIf=\"i == 2\"\r\n                [pTooltip]=\"\r\n                  rowData[col['field']].length > 30 ? rowData[col['field']] : ''\r\n                \"\r\n                tooltipPosition=\"bottom\"\r\n              >\r\n                {{\r\n                  rowData[col[\"field\"]].length > 30\r\n                    ? rowData[col[\"field\"]].substring(0, 30) + \"..\"\r\n                    : rowData[col[\"field\"]]\r\n                }}</span\r\n              >\r\n              <span\r\n                *ngIf=\"i == 3\"\r\n                [pTooltip]=\"\r\n                  rowData[col['field']].length > 40 ? rowData[col['field']] : ''\r\n                \"\r\n                tooltipPosition=\"bottom\"\r\n              >\r\n                {{\r\n                  rowData[col[\"field\"]].length > 40\r\n                    ? rowData[col[\"field\"]].substring(0, 40) + \"..\"\r\n                    : rowData[col[\"field\"]]\r\n                }}</span\r\n              >\r\n              <div *ngIf=\"i == 0\">\r\n                <a\r\n                style=\"text-decoration: underline !important;cursor: pointer;color: var(--primary-color)\"\r\n                (click)=\"openClickForEdit(rowData)\"\r\n                >{{ rowData[col[\"field\"]] }}</a\r\n              >\r\n              \r\n            </div>\r\n            </td>\r\n            <td\r\n          *ngIf=\"col.field == 'status'\"\r\n          style=\"border: none;\"\r\n        >\r\n          <label class=\"switch\" style=\"border: none\">\r\n            <input\r\n              #statusInp\r\n              [value]=\"rowData[col['field']]\"\r\n              type=\"checkbox\"\r\n              (click)=\"confirmStatus($event, rowData)\"\r\n              [checked]=\"\r\n                rowData[col['field']] == 'Active' ||\r\n                rowData[col['field']] == 'A'\r\n                  ? true\r\n                  : false\r\n              \"\r\n            />\r\n            <span class=\"slider round\"></span>\r\n          </label>\r\n        </td>\r\n        <td\r\n              *ngIf=\"col.field == 'action'\"\r\n              style=\"border: none;\"\r\n            >\r\n              <span class=\"image-text\">\r\n                <button\r\n                  pButton\r\n                  type=\"button\"\r\n                  icon=\"pi pi-trash\"\r\n                  class=\"operation-btns mr-2\"\r\n                  [disabled]=\"rowData['status'] == 'Inactive'\"\r\n                  (click)=\"cloneTax(rowData)\"\r\n                ></button>\r\n              </span>\r\n            </td>\r\n          </ng-container>\r\n        </tr>\r\n      </ng-template>\r\n      <ng-template pTemplate=\"emptymessage\">\r\n        <tr>\r\n          <td [attr.colspan]=\"cols.length\">No Data Found.</td>\r\n        </tr>\r\n      </ng-template>\r\n      <ng-template pTemplate=\"paginatorleft\" let-state>\r\n        {{ state.page * state.rows + 1 }} -\r\n        {{\r\n          state.rows * (state.page + 1) > state.totalRecords\r\n            ? state.totalRecords\r\n            : state.rows * (state.page + 1)\r\n        }}\r\n        of {{ state.totalRecords }}\r\n      </ng-template>\r\n    </p-table>\r\n  </div>\r\n  <p-confirmDialog\r\n  key=\"activeDeactiveStatus\"\r\n  class=\"status-confirm confirm-popup\"\r\n  #cd\r\n  [closable]=\"false\"\r\n>\r\n  <p-footer>\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-check\"\r\n      label=\"Yes\"\r\n      (click)=\"cd.accept()\"\r\n    ></button>\r\n\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-times\"\r\n      label=\"No\"\r\n      (click)=\"cd.reject()\"\r\n    ></button>\r\n  </p-footer>\r\n</p-confirmDialog>","import { HttpClient, HttpHeaders } from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { Observable } from \"rxjs\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class CustomisedMessagesServiceService {\r\n  constructor(private http: HttpClient) {}\r\n  getCustomisedListData() {\r\n    return this.http.get(`/appControl/customMessageController/getMessagesList`);\r\n  }\r\n  getCustomisedDetailsData() {\r\n    return this.http.get(\r\n      `/appControl/customMessageController/getSystemMessageDetails`\r\n    );\r\n  }\r\n  getCustomisedCodeData(messageType: any) {\r\n    return this.http.get(`/appControl/customMessageController/getMessageCode`, {\r\n      headers: new HttpHeaders().set(\"messageType\", messageType),\r\n    });\r\n  }\r\n  getMessageDataForEdit(messageCode: any) {\r\n    return this.http.get(\r\n      `/appControl/customMessageController/getCustomMessagesDetails`,\r\n      {\r\n        headers: new HttpHeaders().set(\"messageCode\", messageCode),\r\n      }\r\n    );\r\n  }\r\n  updateCustomisedListStatus(data: any) {\r\n    return this.http.post(\r\n      `/appControl/customMessageController/updateStatus`,\r\n      data\r\n    );\r\n  }\r\n\r\n  addNewMessage(data, userId: any): Observable<any> {\r\n    return this.http.post(\r\n      `/appControl/customMessageController/saveCustomMessages`,\r\n      data,\r\n      {\r\n        headers: new HttpHeaders().set(\"userId\", userId),\r\n      }\r\n    );\r\n  }\r\n  updateMessage(data, userId: any): Observable<any> {\r\n    return this.http.put(\r\n      `/appControl/customMessageController/updateCustomMessages`,\r\n      data,\r\n      {\r\n        headers: new HttpHeaders().set(\"userId\", userId),\r\n      }\r\n    );\r\n  }\r\n}\r\n","import { AfterViewInit, Directive } from \"@angular/core\";\r\nimport { Calendar } from \"primeng/calendar\";\r\nimport Inputmask from \"inputmask\";\r\n\r\n@Directive({\r\n  selector: \"[appDateMask]\",\r\n})\r\nexport class DateMaskDirective implements AfterViewInit {\r\n  constructor(private primeCalendar: Calendar) {}\r\n\r\n  ngAfterViewInit() {\r\n    new Inputmask(this.getDateMask()).mask(this.getHTMLInput());\r\n  }\r\n\r\n  getHTMLInput(): HTMLInputElement {\r\n    return this.primeCalendar.el.nativeElement.querySelector(\"input\");\r\n  }\r\n\r\n  getDateMask(): string {\r\n    if (this.primeCalendar.showTime) {\r\n      return \"99/99/9999  99:99\";\r\n    } else {\r\n      return \"99/99/9999\";\r\n    }\r\n  }\r\n}\r\n","import { ChangeDetectorRef, Component, OnInit, ViewChild } from \"@angular/core\";\r\nimport {\r\n  UntypedFormBuilder,\r\n  UntypedFormControl,\r\n  Validators,\r\n} from \"@angular/forms\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { ConfirmationService, MessageService } from \"primeng/api\";\r\nimport { DialogService } from \"primeng/dynamicdialog\";\r\nimport { CoreService } from \"src/app/core.service\";\r\nimport { DocumentSettingsService } from \"../document-settings.service\";\r\nimport { forkJoin } from \"rxjs\";\r\nimport { map, take } from \"rxjs/operators\";\r\nimport { CriteriaDataService } from \"src/app/shared/services/criteria-data.service\";\r\nimport { SetCriteriaComponent } from \"src/app/shared/components/set-criteria/set-criteria.component\";\r\nimport { SetCriteriaService } from \"src/app/shared/components/set-criteria/set-criteria.service\";\r\n\r\nimport _lodashClone from \"lodash-es/cloneDeep\";\r\n\r\n@Component({\r\n  selector: \"app-document-details\",\r\n  templateUrl: \"./document-details.component.html\",\r\n  styleUrls: [\"./document-details.component.scss\"],\r\n  providers: [DialogService, MessageService],\r\n})\r\nexport class DocumentDetailsComponent implements OnInit {\r\n  @ViewChild(SetCriteriaComponent)\r\n  setCriteriaSharedComponent!: SetCriteriaComponent;\r\n\r\n  primaryColor = \"var(--primary-color)\";\r\n\r\n  userId = \"\";\r\n  documentID = \"\";\r\n  mode = \"add\";\r\n  formName = \"Document Settings\";\r\n\r\n  documentCode = \"No Data\";\r\n  documentDesc = \"\";\r\n\r\n  statusData: any = [];\r\n  deactivated: boolean = false;\r\n\r\n  criteriaMasterData: any = {};\r\n  criteriaDataDetailsJson: any = {};\r\n  cmCriteriaMandatory = [];\r\n  cmCriteriaDependency: any = {};\r\n  cmCriteriaDataDetails: any = [];\r\n  independantCriteriaArr: any = [];\r\n  cmCriteriaSlabType: any = { Slab: \"LCY Amount\", date: \"Transaction Date\" };\r\n  criteriaTemplatesDdlOptions: any = [];\r\n  criteriaMapDdlOptions = [];\r\n  criteriaEqualsDdlOptions = [];\r\n  correspondentDdlOptions = [];\r\n\r\n  criteriaText: any[] = [];\r\n  criteriaCodeText: any[] = [];\r\n\r\n  savingCriteriaTemplateError = null;\r\n\r\n  inactiveData: boolean = false;\r\n  isApplyCriteriaClicked: boolean = false;\r\n\r\n  selectAppModule: any;\r\n  searchApplicationOptions: any[] = [];\r\n  searchModuleOptions: any[] = [];\r\n\r\n  formattedMasterData: any = [];\r\n\r\n  appModuleDataPresent: boolean = false;\r\n  showContent: boolean = false;\r\n\r\n  documentOption: any[] = [];\r\n  documentNoTypeOption: any[] = [];\r\n\r\n  primaryDocSelected: boolean = false;\r\n\r\n  applyCriteriaDataTableColumns: any[] = [];\r\n  columnsCopy: any[] = [\r\n    {\r\n      field: \"document\",\r\n      header: \"Document\",\r\n      fieldType: \"dropdown\",\r\n      frozen: false,\r\n      info: null,\r\n    },\r\n    {\r\n      field: \"documentNoType\",\r\n      header: \"Document No. Type\",\r\n      fieldType: \"dropdown\",\r\n      frozen: false,\r\n      info: null,\r\n    },\r\n\r\n    {\r\n      field: \"lengthMinMax\",\r\n      header: \"Length (Min / Max)\",\r\n\r\n      fieldType: \"input\",\r\n      frozen: false,\r\n      info: \"Format should be Min digit/Max digit\",\r\n    },\r\n    {\r\n      field: \"gracePeriodDays\",\r\n      header: \"Grace Period (Day)\",\r\n\r\n      fieldType: \"input\",\r\n      frozen: false,\r\n      info: \"Numeric field\",\r\n    },\r\n    {\r\n      field: \"expireAlertDays\",\r\n      header: \"Expiry Date Alert (Day)\",\r\n      fieldType: \"input\",\r\n      frozen: false,\r\n      info: \"Numeric field (1-100)\",\r\n    },\r\n    {\r\n      field: \"isMandatory\",\r\n      header: \"Is Mandatory\",\r\n\r\n      fieldType: \"checkbox\",\r\n      frozen: false,\r\n      info: null,\r\n    },\r\n    {\r\n      field: \"isDefault\",\r\n      header: \"Is Primary Document\",\r\n\r\n      fieldType: \"checkbox\",\r\n      frozen: false,\r\n      info: null,\r\n    },\r\n    {\r\n      field: \"issueCountry\",\r\n      header: \"Issue Country\",\r\n      fieldType: \"checkbox\",\r\n      frozen: false,\r\n      info: null,\r\n    },\r\n    {\r\n      field: \"frontSide\",\r\n      header: \"Front Side\",\r\n      fieldType: \"checkbox\",\r\n      frozen: false,\r\n      info: null,\r\n    },\r\n    {\r\n      field: \"backSide\",\r\n      header: \"Back Side\",\r\n\r\n      fieldType: \"checkbox\",\r\n      frozen: false,\r\n      info: null,\r\n    },\r\n    {\r\n      field: \"bypassImage\",\r\n      header: \"Bypass Image\",\r\n\r\n      fieldType: \"checkbox\",\r\n      frozen: false,\r\n      info: null,\r\n    },\r\n    {\r\n      field: \"isActive\",\r\n      header: \"Status\",\r\n      frozen: false,\r\n      info: null,\r\n    },\r\n    {\r\n      field: \"action\",\r\n      header: \"Action\",\r\n\r\n      fieldType: \"button\",\r\n      frozen: true,\r\n      info: null,\r\n    },\r\n  ];\r\n\r\n  applyCriteriaFormattedData: any[] = [];\r\n  appliedCriteriaCriteriaMap: any = null;\r\n  appliedCriteriaIsDuplicate: any = null;\r\n\r\n  applyCriteriaResponse: any[] = [];\r\n  editDocResponse: any[] = [];\r\n\r\n  isLcyFieldPresent = false;\r\n\r\n  isDocSettingLinked: boolean = false;\r\n\r\n  fieldDisplayData = {};\r\n\r\n  setCriteriaName = \"documents\";\r\n\r\n  constructor(\r\n    private fb: UntypedFormBuilder,\r\n    private activatedRoute: ActivatedRoute,\r\n    public dialogService: DialogService,\r\n    public messageService: MessageService,\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private coreService: CoreService,\r\n    private confirmationService: ConfirmationService,\r\n    private documentService: DocumentSettingsService,\r\n    private criteriaDataService: CriteriaDataService,\r\n    private setCriteriaService: SetCriteriaService,\r\n    private cdr: ChangeDetectorRef\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.coreService.displayLoadingScreen();\r\n    this.mode = \"add\";\r\n    this.route.data.subscribe((data) => {\r\n      this.coreService.setBreadCrumbMenu(Object.values(data));\r\n    });\r\n    this.setSelectAppModule();\r\n    this.userId = JSON.parse(localStorage.getItem(\"userData\"))[\"userId\"];\r\n    const params = this.activatedRoute.snapshot.params;\r\n    if (params && params.id) {\r\n      this.mode = this.activatedRoute.snapshot.routeConfig.path.substring(\r\n        this.activatedRoute.snapshot.routeConfig.path.lastIndexOf(\"/\") + 1\r\n      );\r\n      this.documentID = params.id;\r\n    }\r\n\r\n    //\r\n    this.searchApplicationOptions = JSON.parse(\r\n      localStorage.getItem(\"appAccess\")\r\n    );\r\n    this.searchModuleOptions = JSON.parse(localStorage.getItem(\"modAccess\"));\r\n    let defAppMod = JSON.parse(localStorage.getItem(\"defAppModule\"));\r\n    let currAppMod = JSON.parse(sessionStorage.getItem(\"doc\"));\r\n\r\n    let defApp = null;\r\n    let defMod = null;\r\n\r\n    if (currAppMod) {\r\n      console.log(currAppMod);\r\n      defApp = this.searchApplicationOptions.filter(\r\n        (opt) => opt.code == currAppMod.applicationName.code\r\n      )[0];\r\n      defMod = this.searchModuleOptions.filter(\r\n        (opt) => opt.code == currAppMod.moduleName.code\r\n      )[0];\r\n    } else {\r\n      if (defAppMod) {\r\n        defApp = JSON.parse(localStorage.getItem(\"applicationName\"));\r\n        defMod = JSON.parse(localStorage.getItem(\"moduleName\"));\r\n      }\r\n    }\r\n\r\n    if (defApp) {\r\n      this.appCtrl.patchValue(defApp);\r\n    }\r\n    if (defMod) {\r\n      this.moduleCtrl.patchValue(defMod);\r\n    }\r\n    if (this.appCtrl.value && this.moduleCtrl.value) {\r\n      this.moduleCtrl.enable();\r\n      this.searchAppModule();\r\n      this.appModuleDataPresent = true;\r\n      if (this.mode != \"add\") {\r\n        this.appCtrl.disable();\r\n        this.moduleCtrl.disable();\r\n      }\r\n    } else {\r\n      if (this.mode != \"add\") {\r\n        this.router.navigate([`navbar/document-settings`]);\r\n      } else {\r\n        this.coreService.removeLoadingScreen();\r\n      }\r\n    }\r\n    //\r\n\r\n    this.statusData = this.documentService.getData();\r\n    console.log(\"status\", this.statusData);\r\n    if (this.statusData && this.statusData[\"status\"] == \"Inactive\") {\r\n      this.deactivated = true;\r\n    }\r\n  }\r\n\r\n  applyCriteria(postDataCriteria: FormData) {\r\n    postDataCriteria.append(\"docSettingsCode\", this.documentCode);\r\n    postDataCriteria.append(\"operation\", this.mode);\r\n    postDataCriteria.append(\"applications\", this.appCtrl.value.code);\r\n    postDataCriteria.append(\"form\", this.formName);\r\n    postDataCriteria.append(\"moduleName\", this.moduleCtrl.value.code);\r\n    this.isApplyCriteriaClicked = true;\r\n    if (this.isDocSettingLinked && this.mode != \"clone\") {\r\n      this.coreService.setSidebarBtnFixedStyle(false);\r\n      this.coreService.setHeaderStickyStyle(false);\r\n      this.confirmationService.confirm({\r\n        message: `You can not edit the current criteria, as it is already used in transaction.<br/> Kindly disable the current record and add new.`,\r\n        key: \"documentSettingLinkedWarning\",\r\n        accept: () => {\r\n          this.coreService.displayLoadingScreen();\r\n          setTimeout(() => {\r\n            this.coreService.setHeaderStickyStyle(true);\r\n            this.coreService.setSidebarBtnFixedStyle(true);\r\n          }, 500);\r\n          setTimeout(() => {\r\n            this.coreService.removeLoadingScreen();\r\n          }, 1000);\r\n        },\r\n      });\r\n    } else {\r\n      this.applyCriteriaApi(postDataCriteria);\r\n    }\r\n  }\r\n\r\n  getDocSettingForEditApi(docId: any, mode: any) {\r\n    this.applyCriteriaFormattedData = [];\r\n    this.applyCriteriaDataTableColumns = [];\r\n\r\n    this.applyCriteriaDataTableColumns = JSON.parse(\r\n      JSON.stringify(this.columnsCopy)\r\n    );\r\n\r\n    // APICALL\r\n    this.documentService\r\n      .getDocumentForEdit(\r\n        docId,\r\n        mode,\r\n        this.documentService.applicationName,\r\n        this.documentService.moduleName,\r\n        this.formName\r\n      )\r\n      .subscribe((res) => {\r\n        if (\r\n          res[\"status\"] &&\r\n          typeof res[\"status\"] == \"string\" &&\r\n          (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n        ) {\r\n          this.coreService.removeLoadingScreen();\r\n          this.showContent = false;\r\n          if (res[\"error\"]) {\r\n            this.coreService.showWarningToast(res[\"error\"]);\r\n          } else {\r\n            this.coreService.showWarningToast(\"Some error in fetching data\");\r\n          }\r\n        } else {\r\n          if (res[\"data\"]) {\r\n            this.showContent = true;\r\n            this.editDocResponse = JSON.parse(JSON.stringify(res));\r\n\r\n            this.documentCode = res[\"documentSettingsCode\"];\r\n            if (res[\"documentSettingsDesc\"]) {\r\n              this.documentDesc = res[\"documentSettingsDesc\"];\r\n            }\r\n            this.isDocSettingLinked = !res[\"criteriaUpdate\"];\r\n            this.appliedCriteriaCriteriaMap = res[\"criteriaMap\"];\r\n\r\n            // let reqData =\r\n            //   this.criteriaDataService.decodeCriteriaMapIntoTableFields(res);\r\n\r\n            this.criteriaCodeText = this.setCriteriaService.setCriteriaMap(res);\r\n\r\n            this.criteriaText = this.setCriteriaService.decodeFormattedCriteria(\r\n              this.criteriaCodeText,\r\n              this.criteriaMasterData,\r\n              this.fieldDisplayData\r\n            );\r\n\r\n            this.documentOption = res[\"documentOption\"].map((docOption) => {\r\n              return { code: docOption.dtmCode, name: docOption.dtmName };\r\n            });\r\n            this.documentNoTypeOption = res[\"documentNoTypeOption\"].map(\r\n              (docOption) => {\r\n                return { code: docOption, name: docOption };\r\n              }\r\n            );\r\n\r\n            let amtSlabPresent = false;\r\n            let dateSlabPresent = false;\r\n\r\n            if (res[\"criteriaMap\"].indexOf(\"from:\") >= 0) {\r\n              amtSlabPresent = true;\r\n            }\r\n\r\n            if (res[\"criteriaMap\"].indexOf(\"trnStartDate=\") >= 0) {\r\n              dateSlabPresent = true;\r\n            }\r\n\r\n            if (amtSlabPresent && dateSlabPresent) {\r\n              this.applyCriteriaDataTableColumns.splice(-13, 0, {\r\n                field: \"dateFrom\",\r\n                header: \"Date From\",\r\n                fieldType: \"text\",\r\n              });\r\n              this.applyCriteriaDataTableColumns.splice(-13, 0, {\r\n                field: \"dateTo\",\r\n                header: \"Date To\",\r\n                fieldType: \"text\",\r\n              });\r\n              this.applyCriteriaDataTableColumns.splice(-13, 0, {\r\n                field: \"lcyAmountFrom\",\r\n                header: \"Amount From\",\r\n                fieldType: \"text\",\r\n              });\r\n              this.applyCriteriaDataTableColumns.splice(-13, 0, {\r\n                field: \"lcyAmountTo\",\r\n                header: \"Amount To\",\r\n                fieldType: \"text\",\r\n              });\r\n\r\n              this.applyCriteriaFormattedData = [];\r\n            } else {\r\n              if (amtSlabPresent) {\r\n                this.applyCriteriaDataTableColumns.splice(-13, 0, {\r\n                  field: \"lcyAmountFrom\",\r\n                  header: \"Amount From\",\r\n                  fieldType: \"text\",\r\n                });\r\n                this.applyCriteriaDataTableColumns.splice(-13, 0, {\r\n                  field: \"lcyAmountTo\",\r\n                  header: \"Amount To\",\r\n                  fieldType: \"text\",\r\n                });\r\n                this.applyCriteriaFormattedData = [];\r\n              } else if (dateSlabPresent) {\r\n                this.applyCriteriaDataTableColumns.splice(-13, 0, {\r\n                  field: \"dateFrom\",\r\n                  header: \"Date From\",\r\n                  fieldType: \"text\",\r\n                });\r\n                this.applyCriteriaDataTableColumns.splice(-13, 0, {\r\n                  field: \"dateTo\",\r\n                  header: \"Date To\",\r\n                  fieldType: \"text\",\r\n                });\r\n                this.applyCriteriaFormattedData = [];\r\n              } else if (!amtSlabPresent && !dateSlabPresent) {\r\n                this.applyCriteriaFormattedData = [];\r\n              }\r\n            }\r\n            this.applyCriteriaFormattedData = res[\"data\"];\r\n            this.applyCriteriaFormattedData.forEach((data) => {\r\n              let mapSplit = data[\"criteriaMapSplit\"];\r\n\r\n              let criteriaMapFirstSplit = null;\r\n              let criteriaMapSecSplit = null;\r\n              let criteriaMapThirdSplit = null;\r\n\r\n              if (mapSplit && mapSplit.includes(\"&&&&\")) {\r\n                if (mapSplit.split(\"&&&&\").length == 3) {\r\n                  criteriaMapFirstSplit = mapSplit.split(\"&&&&\")[0];\r\n                  criteriaMapSecSplit = mapSplit.split(\"&&&&\")[1];\r\n                  criteriaMapThirdSplit = mapSplit.split(\"&&&&\")[2];\r\n\r\n                  if (criteriaMapSecSplit.includes(\"from:\")) {\r\n                    data[\"lcyAmountFrom\"] = criteriaMapSecSplit\r\n                      .split(\"::\")[0]\r\n                      .split(\":\")[1];\r\n                    data[\"lcyAmountTo\"] = criteriaMapSecSplit\r\n                      .split(\"::\")[1]\r\n                      .split(\":\")[1];\r\n                  }\r\n\r\n                  if (criteriaMapThirdSplit.includes(\"trnStartDate=\")) {\r\n                    data[\"dateFrom\"] = criteriaMapThirdSplit\r\n                      .split(\"::\")[0]\r\n                      .split(\"=\")[1];\r\n                    data[\"dateTo\"] = criteriaMapThirdSplit\r\n                      .split(\"::\")[1]\r\n                      .split(\"=\")[1];\r\n                  }\r\n                } else if (mapSplit.split(\"&&&&\").length == 2) {\r\n                  criteriaMapFirstSplit = mapSplit.split(\"&&&&\")[0];\r\n                  criteriaMapSecSplit = mapSplit.split(\"&&&&\")[1];\r\n\r\n                  if (criteriaMapSecSplit.includes(\"from:\")) {\r\n                    data[\"lcyAmountFrom\"] = criteriaMapSecSplit\r\n                      .split(\"::\")[0]\r\n                      .split(\":\")[1];\r\n                    data[\"lcyAmountTo\"] = criteriaMapSecSplit\r\n                      .split(\"::\")[1]\r\n                      .split(\":\")[1];\r\n                  } else if (criteriaMapSecSplit.includes(\"trnStartDate=\")) {\r\n                    data[\"dateFrom\"] = criteriaMapSecSplit\r\n                      .split(\"::\")[0]\r\n                      .split(\"=\")[1];\r\n                    data[\"dateTo\"] = criteriaMapSecSplit\r\n                      .split(\"::\")[1]\r\n                      .split(\"=\")[1];\r\n                  }\r\n                }\r\n              } else {\r\n              }\r\n            });\r\n\r\n            // % old-\r\n\r\n            // if (res[\"criteriaMap\"].indexOf(\"&&&&\") >= 0) {\r\n            //   this.isLcyFieldPresent = true;\r\n            // }\r\n\r\n            // if (!this.isLcyFieldPresent) {\r\n            //   this.applyCriteriaFormattedData = res[\"data\"];\r\n            // } else {\r\n            //   if (res[\"criteriaMap\"].indexOf(\"LCY Amount\") >= 0) {\r\n            //     this.applyCriteriaDataTableColumns.splice(-13, 0, {\r\n            //       field: \"lcyAmount\",\r\n            //       header: \"LCY Amount\",\r\n            //       fieldType: \"text\",\r\n            //     });\r\n            //     this.applyCriteriaFormattedData = res[\"data\"];\r\n            //     this.applyCriteriaFormattedData.forEach((data) => {\r\n            //       let split = data[\"criteriaMapSplit\"];\r\n            //       data[\"lcyAmount\"] = split.includes(\"&&&&\")\r\n            //         ? split.split(\"&&&&\").pop()\r\n            //         : split;\r\n            //       data[\"criteriaMapSplit\"] = split.includes(\"&&&&\")\r\n            //         ? split.split(\"&&&&\").pop()\r\n            //         : split;\r\n            //     });\r\n            //   } else if (res[\"criteriaMap\"].indexOf(\"from\") >= 0) {\r\n            //     this.applyCriteriaDataTableColumns.splice(-13, 0, {\r\n            //       field: \"lcyAmountFrom\",\r\n            //       header: \"Amount From\",\r\n            //       fieldType: \"text\",\r\n            //     });\r\n            //     this.applyCriteriaDataTableColumns.splice(-13, 0, {\r\n            //       field: \"lcyAmountTo\",\r\n            //       header: \"Amount To\",\r\n            //       fieldType: \"text\",\r\n            //     });\r\n            //     this.applyCriteriaFormattedData = res[\"data\"];\r\n            //     this.applyCriteriaFormattedData.forEach((data) => {\r\n            //       let split = data[\"criteriaMapSplit\"];\r\n            //       data[\"lcyAmountFrom\"] = split.includes(\"&&&&\")\r\n            //         ? split.split(\"&&&&\").pop().split(\"::\")[0].split(\":\")[1]\r\n            //         : split.split(\"::\")[0].split(\":\")[1];\r\n            //       data[\"lcyAmountTo\"] = split.includes(\"&&&&\")\r\n            //         ? split.split(\"&&&&\").pop().split(\"::\")[1].split(\":\")[1]\r\n            //         : split.split(\"::\")[1].split(\":\")[1];\r\n\r\n            //       data[\"criteriaMapSplit\"] = split.includes(\"&&&&\")\r\n            //         ? split.split(\"&&&&\").pop()\r\n            //         : split;\r\n            //     });\r\n            //   }\r\n            // }\r\n\r\n            this.applyCriteriaFormattedData.forEach((data) => {\r\n              delete data.id;\r\n              data[\"documentOption\"] = this.documentOption;\r\n              data[\"documentNoTypeOption\"] = this.documentNoTypeOption;\r\n              data[\"action\"] = res[\"action\"];\r\n              data[\"invalidLength\"] = false;\r\n              data[\"invalidGraceDays\"] = false;\r\n              data[\"invalidExpiryAlertDays\"] = false;\r\n              data[\"status\"] = \"Active\";\r\n            });\r\n\r\n            console.log(\"::\", this.applyCriteriaFormattedData);\r\n\r\n            this.coreService.showSuccessToast(\r\n              `Document data fetched Successfully`\r\n            );\r\n            this.coreService.removeLoadingScreen();\r\n          } else {\r\n            this.applyCriteriaFormattedData = [];\r\n            this.appliedCriteriaCriteriaMap = null;\r\n            this.appliedCriteriaIsDuplicate = null;\r\n            this.applyCriteriaDataTableColumns = [];\r\n            this.coreService.showWarningToast(\r\n              \"No active data found for this Document.\"\r\n            );\r\n            this.coreService.removeLoadingScreen();\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n  onActive(data: any) {\r\n    this.confirmDocumentEditStatus();\r\n  }\r\n  confirmDocumentEditStatus() {\r\n    let type = \"\";\r\n    let reqStatus = \"\";\r\n    if (this.deactivated == true) {\r\n      reqStatus = \"Active\";\r\n      type = \"activate\";\r\n    } else {\r\n      reqStatus = \"Inactive\";\r\n      type = \"deactivate\";\r\n    }\r\n    this.coreService.setSidebarBtnFixedStyle(false);\r\n    this.coreService.setHeaderStickyStyle(false);\r\n    let completeMsg = \"\";\r\n    completeMsg =\r\n      `<img src=\"../../../assets/warning.svg\"><br/><br/>` +\r\n      `Do you wish to ` +\r\n      type +\r\n      ` the Document Record: ${this.documentCode}?`;\r\n\r\n    this.confirmationService.confirm({\r\n      message: completeMsg,\r\n      key: \"activeDeactiveStatusDocument\",\r\n      accept: () => {\r\n        this.updateStatus(reqStatus);\r\n        this.setHeaderSidebarBtn();\r\n      },\r\n      reject: () => {\r\n        this.confirmationService.close;\r\n        this.setHeaderSidebarBtn();\r\n      },\r\n    });\r\n  }\r\n  updateStatus(reqStatus: any) {\r\n    this.coreService.displayLoadingScreen();\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"userId\", this.userId);\r\n    formData.append(\"documentSettingsCode\", this.documentCode);\r\n    formData.append(\"status\", reqStatus);\r\n    formData.append(\"applications\", this.appCtrl.value.code);\r\n    formData.append(\"moduleName\", this.moduleCtrl.value.code);\r\n    formData.append(\"form\", this.formName);\r\n    this.updateDocumentRouteStatus(formData);\r\n  }\r\n\r\n  updateDocumentRouteStatus(formData: any) {\r\n    this.documentService.updateDocumentStatus(formData).subscribe(\r\n      (res) => {\r\n        if (\r\n          res[\"status\"] &&\r\n          typeof res[\"status\"] == \"string\" &&\r\n          (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n        ) {\r\n          if (res[\"error\"]) {\r\n            this.coreService.showWarningToast(res[\"error\"]);\r\n          } else {\r\n            this.coreService.showWarningToast(\"Some error in fetching data\");\r\n          }\r\n        } else {\r\n          let message = \"\";\r\n          if (res[\"error\"] == \"true\") {\r\n            this.coreService.removeLoadingScreen();\r\n            this.coreService.showWarningToast(message);\r\n          } else {\r\n            if (res[\"msg\"]) {\r\n              message = res[\"msg\"];\r\n              this.deactivated = !this.deactivated;\r\n              this.coreService.showSuccessToast(message);\r\n            } else {\r\n              this.coreService.removeLoadingScreen();\r\n              message = \"Error in fetching data, Please try again later\";\r\n              this.coreService.showWarningToast(message);\r\n            }\r\n          }\r\n        }\r\n      },\r\n      (err) => {\r\n        console.log(\"Error in updateBankRouteStatus\", err);\r\n        this.coreService.removeLoadingScreen();\r\n      }\r\n    );\r\n  }\r\n\r\n  applyCriteriaApi(formData: any) {\r\n    this.applyCriteriaFormattedData = [];\r\n    this.applyCriteriaDataTableColumns = [];\r\n    this.coreService.displayLoadingScreen();\r\n\r\n    this.applyCriteriaDataTableColumns = JSON.parse(\r\n      JSON.stringify(this.columnsCopy)\r\n    );\r\n\r\n    // APICALL\r\n    this.documentService.applyCriteriaSearch(formData).subscribe(\r\n      (res) => {\r\n        if (\r\n          res[\"status\"] &&\r\n          typeof res[\"status\"] == \"string\" &&\r\n          (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n        ) {\r\n          this.coreService.removeLoadingScreen();\r\n          if (res[\"error\"]) {\r\n            this.coreService.showWarningToast(res[\"error\"]);\r\n          } else {\r\n            this.coreService.showWarningToast(\"Some error in fetching data\");\r\n          }\r\n        } else {\r\n          this.coreService.removeLoadingScreen();\r\n\r\n          if (res[\"msg\"] && res[\"msg\"] == \"No search criteria available.\") {\r\n            this.applyCriteriaFormattedData = [];\r\n            this.appliedCriteriaCriteriaMap = null;\r\n            this.appliedCriteriaIsDuplicate = null;\r\n            this.applyCriteriaDataTableColumns = [];\r\n            this.coreService.showWarningToast(res[\"msg\"]);\r\n            return;\r\n          }\r\n\r\n          if (!res[\"duplicate\"]) {\r\n            this.applyCriteriaResponse = JSON.parse(JSON.stringify(res));\r\n            this.appliedCriteriaCriteriaMap = res[\"criteriaMap\"];\r\n            this.appliedCriteriaIsDuplicate = res[\"duplicate\"];\r\n            let reqData =\r\n              this.criteriaDataService.decodeCriteriaMapIntoTableFields(res);\r\n\r\n            let crtfields = this.setCriteriaService.decodeFormattedCriteria(\r\n              reqData.critMap,\r\n              this.criteriaMasterData,\r\n              this.fieldDisplayData\r\n            );\r\n            this.documentOption = res[\"data\"].documentOption.map(\r\n              (docOption) => {\r\n                return { code: docOption.dtmCode, name: docOption.dtmName };\r\n              }\r\n            );\r\n            this.documentNoTypeOption = res[\"data\"].documentNoTypeOption.map(\r\n              (docOption) => {\r\n                return { code: docOption, name: docOption };\r\n              }\r\n            );\r\n\r\n            let amtSlabPresent = false;\r\n            let dateSlabPresent = false;\r\n\r\n            let baseCriteriaMap = res[\"criteriaMap\"].split(\"&&&&\")[0];\r\n\r\n            if (res[\"criteriaMap\"].indexOf(\"from:\") >= 0) {\r\n              amtSlabPresent = true;\r\n            }\r\n\r\n            if (res[\"criteriaMap\"].indexOf(\"trnStartDate=\") >= 0) {\r\n              dateSlabPresent = true;\r\n            }\r\n\r\n            if (amtSlabPresent && dateSlabPresent) {\r\n              this.applyCriteriaDataTableColumns.splice(-13, 0, {\r\n                field: \"dateFrom\",\r\n                header: \"Date From\",\r\n                fieldType: \"text\",\r\n              });\r\n              this.applyCriteriaDataTableColumns.splice(-13, 0, {\r\n                field: \"dateTo\",\r\n                header: \"Date To\",\r\n                fieldType: \"text\",\r\n              });\r\n              this.applyCriteriaDataTableColumns.splice(-13, 0, {\r\n                field: \"lcyAmountFrom\",\r\n                header: \"Amount From\",\r\n                fieldType: \"text\",\r\n              });\r\n              this.applyCriteriaDataTableColumns.splice(-13, 0, {\r\n                field: \"lcyAmountTo\",\r\n                header: \"Amount To\",\r\n                fieldType: \"text\",\r\n              });\r\n\r\n              this.applyCriteriaFormattedData = [];\r\n\r\n              let dateSlabFields = reqData.dateSlabArr;\r\n              let lcySlabFields = reqData.lcySlabArr;\r\n\r\n              dateSlabFields.forEach((fieldDate) => {\r\n                console.log(lcySlabFields);\r\n                lcySlabFields.forEach((fieldAmt) => {\r\n                  let apiData = JSON.parse(\r\n                    JSON.stringify(res[\"data\"].DocumentSettings)\r\n                  );\r\n                  console.log(fieldAmt);\r\n                  apiData[\"dateFrom\"] = fieldDate.trnStartDate;\r\n                  apiData[\"dateTo\"] = fieldDate.trnEndDate;\r\n                  apiData[\"lcyAmountFrom\"] = fieldAmt.from;\r\n                  apiData[\"lcyAmountTo\"] = fieldAmt.to;\r\n\r\n                  apiData[\r\n                    \"criteriaMapSplit\"\r\n                  ] = `${baseCriteriaMap}&&&&from:${fieldAmt[\"from\"]}::to:${fieldAmt[\"to\"]}&&&&trnStartDate=${fieldDate[\"trnStartDate\"]}::trnEndDate=${fieldDate[\"trnEndDate\"]}`;\r\n                  this.applyCriteriaFormattedData.push(apiData);\r\n                });\r\n              });\r\n            } else {\r\n              if (amtSlabPresent) {\r\n                let lcySlabFields = reqData.lcySlabArr;\r\n                this.applyCriteriaDataTableColumns.splice(-13, 0, {\r\n                  field: \"lcyAmountFrom\",\r\n                  header: \"Amount From\",\r\n                  fieldType: \"text\",\r\n                });\r\n                this.applyCriteriaDataTableColumns.splice(-13, 0, {\r\n                  field: \"lcyAmountTo\",\r\n                  header: \"Amount To\",\r\n                  fieldType: \"text\",\r\n                });\r\n                this.applyCriteriaFormattedData = [];\r\n                lcySlabFields.forEach((field) => {\r\n                  let apiData = JSON.parse(\r\n                    JSON.stringify(res[\"data\"].DocumentSettings)\r\n                  );\r\n                  apiData[\"lcyAmountFrom\"] = field.from;\r\n                  apiData[\"lcyAmountTo\"] = field.to;\r\n                  apiData[\r\n                    \"criteriaMapSplit\"\r\n                  ] = `${baseCriteriaMap}&&&&from:${field[\"from\"]}::to:${field[\"to\"]}`;\r\n                  this.applyCriteriaFormattedData.push(apiData);\r\n                });\r\n              } else if (dateSlabPresent) {\r\n                let dateSlabFields = reqData.dateSlabArr;\r\n                this.applyCriteriaDataTableColumns.splice(-13, 0, {\r\n                  field: \"dateFrom\",\r\n                  header: \"Date From\",\r\n                  fieldType: \"text\",\r\n                });\r\n                this.applyCriteriaDataTableColumns.splice(-13, 0, {\r\n                  field: \"dateTo\",\r\n                  header: \"Date To\",\r\n                  fieldType: \"text\",\r\n                });\r\n                this.applyCriteriaFormattedData = [];\r\n                dateSlabFields.forEach((field) => {\r\n                  let apiData = JSON.parse(\r\n                    JSON.stringify(res[\"data\"].DocumentSettings)\r\n                  );\r\n                  apiData[\"dateFrom\"] = field.trnStartDate;\r\n                  apiData[\"dateTo\"] = field.trnEndDate;\r\n                  apiData[\r\n                    \"criteriaMapSplit\"\r\n                  ] = `${baseCriteriaMap}&&&&trnStartDate=${field[\"trnStartDate\"]}::trnEndDate=${field[\"trnEndDate\"]}`;\r\n                  this.applyCriteriaFormattedData.push(apiData);\r\n                });\r\n              } else if (!amtSlabPresent && !dateSlabPresent) {\r\n                this.applyCriteriaFormattedData = [\r\n                  res[\"data\"].DocumentSettings,\r\n                ];\r\n                this.applyCriteriaFormattedData.forEach((data) => {\r\n                  data[\"criteriaMapSplit\"] = baseCriteriaMap;\r\n                });\r\n              }\r\n            }\r\n\r\n            // %---old\r\n\r\n            // if (res[\"criteriaMap\"].includes(\"&&&&\")) {\r\n            //   if (res[\"criteriaMap\"].split(\"&&&&\").length == 3) {\r\n            //   } else if (res[\"criteriaMap\"].split(\"&&&&\").length == 2) {\r\n            //   }\r\n            // } else {\r\n            //   this.applyCriteriaFormattedData = [res[\"data\"].DocumentSettings];\r\n            //   this.applyCriteriaFormattedData.forEach((data) => {\r\n            //     data[\"criteriaMapSplit\"] = null;\r\n            //   });\r\n            //   console.log(this.applyCriteriaFormattedData);\r\n            // }\r\n\r\n            // if (res[\"criteriaMap\"].indexOf(\"&&&&\") >= 0) {\r\n            //   this.isLcyFieldPresent = true;\r\n            // } else {\r\n            //   this.isLcyFieldPresent = false;\r\n            // }\r\n\r\n            // if (!this.isLcyFieldPresent) {\r\n            //   this.applyCriteriaFormattedData = [res[\"data\"].DocumentSettings];\r\n            //   this.applyCriteriaFormattedData.forEach((data) => {\r\n            //     data[\"criteriaMapSplit\"] = null;\r\n            //   });\r\n            //   console.log(this.applyCriteriaFormattedData);\r\n            // } else {\r\n            //   if (res[\"criteriaMap\"].indexOf(\"LCY Amount\") >= 0) {\r\n            //     let lcyOprFields = crtfields.filter((crt) => {\r\n            //       return crt.includes(\"LCY Amount\");\r\n            //     });\r\n            //     this.applyCriteriaDataTableColumns.splice(-13, 0, {\r\n            //       field: \"lcyAmount\",\r\n            //       header: \"LCY Amount\",\r\n            //       fieldType: \"text\",\r\n            //     });\r\n            //     this.applyCriteriaFormattedData = [];\r\n            //     lcyOprFields.forEach((field) => {\r\n            //       let apiData = JSON.parse(\r\n            //         JSON.stringify(res[\"data\"].DocumentSettings)\r\n            //       );\r\n            //       apiData[\"lcyAmount\"] = field;\r\n            //       apiData[\"criteriaMapSplit\"] = field;\r\n            //       this.applyCriteriaFormattedData.push(apiData);\r\n            //     });\r\n            //   } else if (res[\"criteriaMap\"].indexOf(\"from\") >= 0) {\r\n            //     let lcySlabFields = reqData.lcySlabArr;\r\n            //     this.applyCriteriaDataTableColumns.splice(-13, 0, {\r\n            //       field: \"lcyAmountFrom\",\r\n            //       header: \"Amount From\",\r\n            //       fieldType: \"text\",\r\n            //     });\r\n            //     this.applyCriteriaDataTableColumns.splice(-13, 0, {\r\n            //       field: \"lcyAmountTo\",\r\n            //       header: \"Amount To\",\r\n            //       fieldType: \"text\",\r\n            //     });\r\n            //     this.applyCriteriaFormattedData = [];\r\n            //     lcySlabFields.forEach((field) => {\r\n            //       let apiData = JSON.parse(\r\n            //         JSON.stringify(res[\"data\"].DocumentSettings)\r\n            //       );\r\n            //       apiData[\"lcyAmountFrom\"] = field.from;\r\n            //       apiData[\"lcyAmountTo\"] = field.to;\r\n            //       apiData[\r\n            //         \"criteriaMapSplit\"\r\n            //       ] = `from:${field[\"from\"]}::to:${field[\"to\"]}`;\r\n            //       this.applyCriteriaFormattedData.push(apiData);\r\n            //     });\r\n            //   }\r\n            // }\r\n\r\n            this.applyCriteriaFormattedData.forEach((data) => {\r\n              delete data.id;\r\n              data[\"documentOption\"] = this.documentOption;\r\n              data[\"documentNoTypeOption\"] = this.documentNoTypeOption;\r\n              data[\"action\"] = res[\"data\"].action;\r\n              data[\"criteriaMap\"] = this.appliedCriteriaCriteriaMap;\r\n              data[\"invalidLength\"] = false;\r\n              data[\"invalidGraceDays\"] = false;\r\n              data[\"invalidExpiryAlertDays\"] = false;\r\n              data[\"status\"] = \"Active\";\r\n              data[\"userID\"] = this.userId;\r\n              data[\"documentCode\"] = this.documentCode;\r\n            });\r\n            // this.setSelectedOptions();\r\n\r\n            console.log(\"::\", this.applyCriteriaFormattedData);\r\n            // console.log(\"::\", this.applyCriteriaDataTableColumns);\r\n\r\n            this.coreService.showSuccessToast(`Criteria Applied Successfully`);\r\n            this.coreService.removeLoadingScreen();\r\n          } else {\r\n            this.applyCriteriaFormattedData = [];\r\n            this.appliedCriteriaCriteriaMap = null;\r\n            this.appliedCriteriaIsDuplicate = null;\r\n            this.applyCriteriaDataTableColumns = [];\r\n            this.coreService.showWarningToast(\r\n              \"Applied criteria already exists.\"\r\n            );\r\n          }\r\n        }\r\n      },\r\n      (err) => {\r\n        this.coreService.removeLoadingScreen();\r\n        console.log(\"error in Doc Setting Apply API\", err);\r\n        this.coreService.showWarningToast(\"Some error in fetching data\");\r\n      }\r\n    );\r\n  }\r\n\r\n  setSelectAppModule() {\r\n    this.selectAppModule = this.fb.group({\r\n      applications: new UntypedFormControl({ value: \"\", disabled: false }, [\r\n        Validators.required,\r\n      ]),\r\n      modules: new UntypedFormControl({ value: \"\", disabled: true }, [\r\n        Validators.required,\r\n      ]),\r\n    });\r\n  }\r\n\r\n  get appCtrl() {\r\n    return this.selectAppModule.get(\"applications\");\r\n  }\r\n  get moduleCtrl() {\r\n    return this.selectAppModule.get(\"modules\");\r\n  }\r\n\r\n  onAppValueChange() {\r\n    this.showContent = false;\r\n    this.appModuleDataPresent = false;\r\n    this.moduleCtrl.reset();\r\n    this.moduleCtrl.enable();\r\n  }\r\n\r\n  searchAppModule() {\r\n    this.applyCriteriaFormattedData = [];\r\n    this.criteriaText = [];\r\n    this.criteriaCodeText = [];\r\n    this.appModuleDataPresent = true;\r\n    this.showContent = false;\r\n    this.getCriteriaMasterData();\r\n    this.getAllTemplates();\r\n  }\r\n\r\n  checkBoxUpdate(e: any, field: any, rowIndex: any, rowData: any) {\r\n    console.log(e.returnValue, field, rowData);\r\n\r\n    if (field == \"isDefault\") {\r\n      if (e.returnValue == true) {\r\n        this.applyCriteriaFormattedData.forEach((data, i) => {\r\n          if (i != rowIndex) {\r\n            data[field] = false;\r\n          }\r\n        });\r\n      }\r\n    } else if (field == \"bypassImage\") {\r\n      if (e.returnValue) {\r\n        rowData[\"frontSide\"] = false;\r\n        rowData[\"backSide\"] = false;\r\n        this.cdr.detectChanges();\r\n      } else {\r\n        rowData[\"frontSide\"] = true;\r\n        rowData[\"backSide\"] = true;\r\n      }\r\n    }\r\n  }\r\n\r\n  selectedColumn(selectCol: any, value: any, index: any) {\r\n    this.applyCriteriaFormattedData[index][selectCol] = value.name;\r\n\r\n    console.log(this.applyCriteriaFormattedData[index]);\r\n  }\r\n\r\n  checkOperation(operation: any, index: any, selectRow: any, fieldName: any) {\r\n    if (operation == \"delete\") {\r\n      this.delete(index);\r\n    } else if (operation == \"clone\") {\r\n      this.clone(index, selectRow, fieldName);\r\n    }\r\n  }\r\n  clone(index: any, selectRow: any, fieldName: any) {\r\n    let clonedRow = {\r\n      ...selectRow,\r\n    };\r\n    clonedRow[fieldName] = \"clone,delete\";\r\n    clonedRow[\"linked\"] = \"N\";\r\n    clonedRow[\"isActive\"] = \"Y\";\r\n    clonedRow[\"isDefault\"] = false;\r\n    this.applyCriteriaFormattedData.splice(index + 1, 0, clonedRow);\r\n  }\r\n  delete(index: any) {\r\n    this.applyCriteriaFormattedData.splice(index, 1);\r\n  }\r\n\r\n  formatValidation(e: any, field: any, inp: any, rowIndex: any) {\r\n    if (field == \"lengthMinMax\") {\r\n      const pattern = /^(\\d+)\\/(\\d+)$/;\r\n      if (e.length) {\r\n        const match = e.match(pattern);\r\n        if (match) {\r\n          const min = parseInt(match[1]);\r\n          const max = parseInt(match[2]);\r\n          if (min <= max) {\r\n            inp.classList.remove(\"inputError\");\r\n            this.applyCriteriaFormattedData[rowIndex][\"invalidLength\"] = false;\r\n          } else {\r\n            inp.classList.add(\"inputError\");\r\n            this.applyCriteriaFormattedData[rowIndex][\"invalidLength\"] = true;\r\n          }\r\n        } else {\r\n          inp.classList.add(\"inputError\");\r\n          this.applyCriteriaFormattedData[rowIndex][\"invalidLength\"] = true;\r\n        }\r\n      } else {\r\n        inp.classList.remove(\"inputError\");\r\n        this.applyCriteriaFormattedData[rowIndex][\"invalidLength\"] = false;\r\n      }\r\n    } else if (field == \"gracePeriodDays\") {\r\n      const pattern = /^\\d+$/;\r\n      if (e.length) {\r\n        const match = e.match(pattern);\r\n        if (match) {\r\n          inp.classList.remove(\"inputError\");\r\n          this.applyCriteriaFormattedData[rowIndex][\"invalidGraceDays\"] = false;\r\n        } else {\r\n          inp.classList.add(\"inputError\");\r\n          this.applyCriteriaFormattedData[rowIndex][\"invalidGraceDays\"] = true;\r\n        }\r\n      } else {\r\n        inp.classList.remove(\"inputError\");\r\n        this.applyCriteriaFormattedData[rowIndex][\"invalidGraceDays\"] = false;\r\n      }\r\n    } else if (field == \"expireAlertDays\") {\r\n      const pattern = /^\\d+$/;\r\n      if (e.length) {\r\n        const match = e.match(pattern);\r\n        if (match) {\r\n          if (Number(e) > 100 || Number(e) < 1) {\r\n            inp.classList.add(\"inputError\");\r\n            this.applyCriteriaFormattedData[rowIndex][\r\n              \"invalidExpiryAlertDays\"\r\n            ] = true;\r\n          } else {\r\n            inp.classList.remove(\"inputError\");\r\n            this.applyCriteriaFormattedData[rowIndex][\r\n              \"invalidExpiryAlertDays\"\r\n            ] = false;\r\n          }\r\n        } else {\r\n          inp.classList.add(\"inputError\");\r\n          this.applyCriteriaFormattedData[rowIndex][\"invalidExpiryAlertDays\"] =\r\n            true;\r\n        }\r\n      } else {\r\n        inp.classList.remove(\"inputError\");\r\n        this.applyCriteriaFormattedData[rowIndex][\"invalidExpiryAlertDays\"] =\r\n          false;\r\n      }\r\n    }\r\n  }\r\n\r\n  getCriteriaMasterData() {\r\n    if (this.mode == \"add\") {\r\n      this.coreService.displayLoadingScreen();\r\n    }\r\n    forkJoin({\r\n      criteriaMasterData: this.documentService.getCriteriaMasterData(\r\n        this.userId,\r\n        this.formName,\r\n        this.appCtrl.value.code,\r\n        this.moduleCtrl.value.code\r\n      ),\r\n      addBankRouteCriteriaData: this.documentService.getAddDocumentCriteriaData(\r\n        this.userId,\r\n        this.formName,\r\n        this.appCtrl.value.code,\r\n        this.moduleCtrl.value.code\r\n      ),\r\n    })\r\n      .pipe(\r\n        take(1),\r\n        map((response) => {\r\n          if (\r\n            response.addBankRouteCriteriaData[\"data\"] &&\r\n            Object.keys(response.addBankRouteCriteriaData[\"data\"]).length == 0\r\n          ) {\r\n            return {\r\n              msg: \"No Criteria Found for Selected Application & Module.\",\r\n            };\r\n          } else {\r\n            this.formatMasterData(response.criteriaMasterData);\r\n            let criteriaMasterJson = _lodashClone(response.criteriaMasterData);\r\n            delete criteriaMasterJson[\"fieldDisplay\"];\r\n            this.fieldDisplayData = response.criteriaMasterData[\"fieldDisplay\"];\r\n            const criteriaMasterData = criteriaMasterJson;\r\n            this.criteriaDataDetailsJson = response.addBankRouteCriteriaData;\r\n            this.criteriaDataDetailsJson.data.listCriteria.cmCriteriaDataDetails.forEach(\r\n              (data) => {\r\n                if (data[\"criteriaType\"] == \"Slab\") {\r\n                  this.cmCriteriaSlabType[\"Slab\"] = data[\"fieldName\"];\r\n                }\r\n                if (data[\"criteriaType\"] == \"date\") {\r\n                  this.cmCriteriaSlabType[\"date\"] = data[\"fieldName\"];\r\n                }\r\n              }\r\n            );\r\n\r\n            if (this.mode == \"add\") {\r\n              this.documentCode =\r\n                this.criteriaDataDetailsJson.data.documentCode;\r\n              this.documentID = this.documentCode;\r\n              this.documentDesc =\r\n                this.criteriaDataDetailsJson.data.documentDesc;\r\n            }\r\n\r\n            this.cmCriteriaDataDetails = [\r\n              ...this.criteriaDataDetailsJson.data.listCriteria\r\n                .cmCriteriaDataDetails,\r\n            ];\r\n\r\n            this.cmCriteriaMandatory =\r\n              this.criteriaDataDetailsJson.data.mandatory\r\n                .replace(/[\"|\\[|\\]]/g, \"\")\r\n                .split(\", \");\r\n\r\n            this.cmCriteriaDependency =\r\n              this.criteriaDataDetailsJson.data.dependance;\r\n\r\n            let criteriaDependencyTreeData =\r\n              this.criteriaDataService.setDependencyTree(\r\n                this.criteriaDataDetailsJson,\r\n                this.cmCriteriaDataDetails,\r\n                criteriaMasterData,\r\n                this.cmCriteriaMandatory,\r\n                this.cmCriteriaDependency,\r\n                this.cmCriteriaSlabType\r\n              );\r\n\r\n            this.criteriaMapDdlOptions =\r\n              criteriaDependencyTreeData[\"criteriaMapDdlOptions\"];\r\n            this.independantCriteriaArr =\r\n              criteriaDependencyTreeData[\"independantCriteriaArr\"];\r\n            return criteriaMasterData;\r\n          }\r\n        })\r\n      )\r\n      .subscribe(\r\n        (res) => {\r\n          if (!res[\"msg\"]) {\r\n            if (\r\n              res[\"status\"] &&\r\n              typeof res[\"status\"] == \"string\" &&\r\n              (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n            ) {\r\n              this.coreService.removeLoadingScreen();\r\n              this.showContent = false;\r\n              if (res[\"error\"]) {\r\n                this.coreService.showWarningToast(res[\"error\"]);\r\n              } else {\r\n                this.coreService.showWarningToast(\r\n                  \"Some error in fetching data\"\r\n                );\r\n              }\r\n            } else {\r\n              this.criteriaMasterData = res;\r\n              if (this.mode == \"edit\") {\r\n                if (\r\n                  !(\r\n                    this.documentService.applicationName ||\r\n                    this.documentService.moduleName\r\n                  )\r\n                ) {\r\n                  this.appModuleDataPresent = false;\r\n                  this.showContent = false;\r\n                  this.router.navigate([`navbar/document-settings`]);\r\n                } else {\r\n                  this.getDocSettingForEditApi(this.documentID, \"edit\");\r\n                }\r\n              } else if (this.mode == \"clone\") {\r\n                if (\r\n                  !(\r\n                    this.documentService.applicationName ||\r\n                    this.documentService.moduleName\r\n                  )\r\n                ) {\r\n                  this.appModuleDataPresent = false;\r\n                  this.showContent = false;\r\n                  this.router.navigate([`navbar/document-settings`]);\r\n                } else {\r\n                  this.getDocSettingForEditApi(this.documentID, \"clone\");\r\n                }\r\n              } else {\r\n                this.showContent = true;\r\n                this.coreService.removeLoadingScreen();\r\n              }\r\n            }\r\n          } else if (res[\"msg\"]) {\r\n            this.coreService.showWarningToast(res[\"msg\"]);\r\n            this.coreService.removeLoadingScreen();\r\n            return;\r\n          }\r\n        },\r\n        (err) => {\r\n          this.showContent = false;\r\n          this.coreService.removeLoadingScreen();\r\n          console.log(\"Error in Initiating dropdown values\", err);\r\n          this.coreService.showWarningToast(\"Some error in fetching data\");\r\n        }\r\n      );\r\n  }\r\n\r\n  formatMasterData(masterData: any) {\r\n    const formattedMasterData = [].concat.apply([], Object.values(masterData));\r\n    this.formattedMasterData = formattedMasterData;\r\n  }\r\n\r\n  resetCriteriaDropdowns() {\r\n    this.setCriteriaSharedComponent.resetCriteriaDropdowns();\r\n  }\r\n\r\n  getCorrespondentValues(\r\n    fieldName: any,\r\n    displayName: any,\r\n    criteriaCodeText: any\r\n  ) {\r\n    let criteriaMapValue = criteriaCodeText.join(\";\");\r\n\r\n    this.coreService.displayLoadingScreen();\r\n    this.documentService\r\n      .getCorrespondentValuesData(\r\n        this.formName,\r\n        this.appCtrl.value.code,\r\n        criteriaMapValue,\r\n        fieldName,\r\n        displayName,\r\n        this.moduleCtrl.value.code\r\n      )\r\n      .subscribe(\r\n        (res) => {\r\n          if (\r\n            res[\"status\"] &&\r\n            typeof res[\"status\"] == \"string\" &&\r\n            (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n          ) {\r\n            this.coreService.removeLoadingScreen();\r\n            if (res[\"error\"]) {\r\n              this.coreService.showWarningToast(res[\"error\"]);\r\n            } else {\r\n              this.coreService.showWarningToast(\"Some error in fetching data\");\r\n            }\r\n          } else {\r\n            this.coreService.removeLoadingScreen();\r\n            if (res[fieldName]) {\r\n              this.setCriteriaSharedComponent.valueCtrl.enable();\r\n              this.setCriteriaSharedComponent.hideValuesDropdown = false;\r\n              this.setCriteriaSharedComponent.showValueInput = false;\r\n\r\n              this.correspondentDdlOptions = res[fieldName].map((val) => {\r\n                return { name: val[\"codeName\"], code: val[\"code\"] };\r\n              });\r\n            } else {\r\n              if (res[\"message\"]) {\r\n                this.coreService.showWarningToast(res[\"message\"]);\r\n                this.resetCriteriaDropdowns();\r\n              } else {\r\n                this.coreService.showWarningToast(\"Criteria Map is not proper\");\r\n                this.resetCriteriaDropdowns();\r\n              }\r\n            }\r\n          }\r\n        },\r\n        (err) => {\r\n          this.coreService.removeLoadingScreen();\r\n          console.log(\"Error in getting values\", err);\r\n          this.resetCriteriaDropdowns();\r\n          this.coreService.showWarningToast(\"Some error in fetching data\");\r\n        }\r\n      );\r\n  }\r\n\r\n  getAllTemplates() {\r\n    this.documentService\r\n      .getAllCriteriaTemplates(\r\n        this.userId,\r\n        this.appCtrl.value.code,\r\n        this.moduleCtrl.value.code,\r\n        this.formName\r\n      )\r\n      .subscribe(\r\n        (res) => {\r\n          if (\r\n            res[\"status\"] &&\r\n            typeof res[\"status\"] == \"string\" &&\r\n            (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n          ) {\r\n            if (res[\"error\"]) {\r\n              this.coreService.showWarningToast(res[\"error\"]);\r\n            } else {\r\n              this.coreService.showWarningToast(\r\n                \"Some error in saving template\"\r\n              );\r\n            }\r\n          } else {\r\n            if (res[\"data\"] && res.data.length) {\r\n              this.criteriaTemplatesDdlOptions = res.data;\r\n              this.criteriaTemplatesDdlOptions.forEach((val) => {\r\n                val[\"name\"] = val[\"criteriaName\"];\r\n                val[\"code\"] = val[\"criteriaName\"];\r\n              });\r\n            } else {\r\n              console.log(res.msg);\r\n            }\r\n          }\r\n        },\r\n        (err) => {\r\n          console.log(\":: Error in getting template list\", err);\r\n          this.coreService.showWarningToast(\r\n            \"Some error in getting template list\"\r\n          );\r\n        }\r\n      );\r\n  }\r\n\r\n  saveCriteriaAsTemplate(templateFormData: any) {\r\n    templateFormData.append(\"applications\", this.appCtrl.value.code);\r\n    templateFormData.append(\"form\", this.formName);\r\n    templateFormData.append(\"moduleName\", this.moduleCtrl.value.code);\r\n    this.coreService.displayLoadingScreen();\r\n    this.documentService\r\n      .currentCriteriaSaveAsTemplate(templateFormData)\r\n      .subscribe(\r\n        (res) => {\r\n          if (\r\n            res[\"status\"] &&\r\n            typeof res[\"status\"] == \"string\" &&\r\n            (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n          ) {\r\n            this.coreService.removeLoadingScreen();\r\n            if (res[\"error\"]) {\r\n              this.coreService.showWarningToast(res[\"error\"]);\r\n            } else {\r\n              this.coreService.showWarningToast(\r\n                \"Some error in saving template\"\r\n              );\r\n            }\r\n          } else {\r\n            this.coreService.removeLoadingScreen();\r\n            if (res.msg == \"Criteria Template already exists.\") {\r\n              // this.savingCriteriaTemplateError =\r\n              //   \"Criteria Template already exists.\";\r\n              this.savingCriteriaTemplateError = true;\r\n              console.log(this.savingCriteriaTemplateError);\r\n            } else {\r\n              this.savingCriteriaTemplateError = false;\r\n              this.setCriteriaSharedComponent.selectedTemplate =\r\n                this.setCriteriaSharedComponent.criteriaName;\r\n              this.coreService.showSuccessToast(res.msg);\r\n              this.setCriteriaSharedComponent.saveTemplateDialogOpen = false;\r\n              this.setCriteriaSharedComponent.criteriaName = \"\";\r\n              this.getAllTemplates();\r\n            }\r\n          }\r\n        },\r\n        (err) => {\r\n          this.coreService.removeLoadingScreen();\r\n          console.log(\":: Error in saving criteria template\", err);\r\n          this.coreService.showWarningToast(\"Some error in saving template\");\r\n        }\r\n      );\r\n  }\r\n\r\n  saveAddNewDocument(action) {\r\n    console.log(\r\n      \"::payloaddata\",\r\n      JSON.stringify(this.applyCriteriaFormattedData, null, 2)\r\n    );\r\n    if (\r\n      this.setCriteriaSharedComponent.getCurrentCriteriaMap() !=\r\n      this.appliedCriteriaCriteriaMap\r\n    ) {\r\n      this.coreService.showWarningToast(\r\n        \"Recent changes in Criteria map has not been applied, Saving last applied data\"\r\n      );\r\n    }\r\n\r\n    if (\r\n      this.mode != \"clone\" ||\r\n      (this.mode == \"clone\" && this.isApplyCriteriaClicked)\r\n    ) {\r\n      this.coreService.displayLoadingScreen();\r\n      let isRequiredFields = false;\r\n      let invalidGraceDays = false;\r\n      let invalidExpiryAlertDays = false;\r\n      let invalidLength = false;\r\n      let docMissing = false;\r\n      let primaryDocNos = 0;\r\n\r\n      this.applyCriteriaFormattedData.forEach((data) => {\r\n        if (data[\"isActive\"] == \"N\") {\r\n          data[\"documentDesc\"] = this.documentDesc.toUpperCase()\r\n            ? this.documentDesc.replace(/\\s/g, \"\").length\r\n              ? this.documentDesc.toUpperCase()\r\n              : null\r\n            : null;\r\n          // if (data[\"tax\"] == \"null\" || data[\"tax\"] == null) {\r\n          //   data[\"tax\"] = \"\";\r\n\r\n          // }\r\n        }\r\n      });\r\n\r\n      let activeData = this.applyCriteriaFormattedData.filter(\r\n        (d) => d[\"isActive\"] == \"Y\"\r\n      );\r\n      activeData.forEach((element) => {\r\n        if (element[\"isDefault\"]) {\r\n          primaryDocNos++;\r\n        }\r\n        if (element[\"invalidLength\"]) {\r\n          invalidLength = true;\r\n        }\r\n        if (element[\"invalidGraceDays\"]) {\r\n          invalidGraceDays = true;\r\n        }\r\n        if (element[\"invalidExpiryAlertDays\"]) {\r\n          invalidExpiryAlertDays = true;\r\n        }\r\n        element[\"documentDesc\"] = this.documentDesc\r\n          ? this.documentDesc.replace(/\\s/g, \"\").length\r\n            ? this.documentDesc.toUpperCase()\r\n            : null\r\n          : null;\r\n        if (!element[\"documentDesc\"] || element[\"documentDesc\"] == \"null\") {\r\n          isRequiredFields = true;\r\n        }\r\n        if (!element[\"document\"]) {\r\n          docMissing = true;\r\n        }\r\n      });\r\n\r\n      if (isRequiredFields) {\r\n        this.coreService.removeLoadingScreen();\r\n        this.coreService.showWarningToast(\"Please Fill required fields.\");\r\n      } else if (docMissing) {\r\n        this.coreService.removeLoadingScreen();\r\n        this.coreService.showWarningToast(\"Please Select Document.\");\r\n      } else if (invalidLength) {\r\n        this.coreService.removeLoadingScreen();\r\n        this.coreService.showWarningToast(\"Please Enter Valid Min/Max Length.\");\r\n      } else if (invalidGraceDays) {\r\n        this.coreService.removeLoadingScreen();\r\n        this.coreService.showWarningToast(\"Please Enter Valid Grace Days.\");\r\n      } else if (invalidExpiryAlertDays) {\r\n        this.coreService.removeLoadingScreen();\r\n        this.coreService.showWarningToast(\r\n          \"Please Enter Valid Expiry Alert Days.\"\r\n        );\r\n      } else if (primaryDocNos > 1) {\r\n        this.coreService.removeLoadingScreen();\r\n        this.coreService.showWarningToast(\r\n          \"More than 1 Primary document selected.\"\r\n        );\r\n      } else {\r\n        if (this.checkDuplicateDocuments()) {\r\n          return;\r\n        } else {\r\n          let service;\r\n          // this.decodeSelectedOptions();\r\n          if (this.mode == \"edit\") {\r\n            service = this.documentService.updateDocument(\r\n              this.userId,\r\n              this.applyCriteriaFormattedData,\r\n              this.appCtrl.value.code,\r\n              this.moduleCtrl.value.code,\r\n              this.formName,\r\n              this.mode\r\n            );\r\n          } else {\r\n            service = this.documentService.saveNewDocument(\r\n              this.userId,\r\n              this.applyCriteriaFormattedData,\r\n              this.appCtrl.value.code,\r\n              this.moduleCtrl.value.code,\r\n              this.formName,\r\n              this.mode\r\n            );\r\n          }\r\n          if (service) {\r\n            service.subscribe(\r\n              (res) => {\r\n                console.log(res);\r\n                if (\r\n                  res[\"status\"] &&\r\n                  typeof res[\"status\"] == \"string\" &&\r\n                  (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n                ) {\r\n                  if (res[\"error\"]) {\r\n                    this.coreService.showWarningToast(res[\"error\"]);\r\n                  } else {\r\n                    this.coreService.showWarningToast(res[\"msg\"]);\r\n                  }\r\n                } else {\r\n                  if (res[\"msg\"]) {\r\n                    this.coreService.showSuccessToast(res.msg);\r\n                    if (action == \"save\") {\r\n                      this.router.navigate([`navbar/document-settings`]);\r\n                    } else if (action == \"saveAndAddNew\") {\r\n                      this.documentService.applicationName = null;\r\n                      this.documentService.moduleName = null;\r\n                      this.router.navigate([\r\n                        `navbar/document-settings/add-document`,\r\n                      ]);\r\n                    }\r\n                  }\r\n                }\r\n              },\r\n              (err) => {\r\n                this.coreService.removeLoadingScreen();\r\n                console.log(\"error in savingDocument\", err);\r\n              }\r\n            );\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      this.coreService.showWarningToast(\"Applied criteria already exists.\");\r\n    }\r\n  }\r\n\r\n  checkDuplicateDocuments() {\r\n    let isDuplicateDocFound = false;\r\n    let currCritMap = this.applyCriteriaFormattedData[0][\"criteriaMap\"];\r\n    let amtSlabPresent = false;\r\n    let dateSlabPresent = false;\r\n\r\n    let activeData = this.applyCriteriaFormattedData.filter(\r\n      (d) => d[\"isActive\"] == \"Y\"\r\n    );\r\n    if (currCritMap.indexOf(\"from:\") >= 0) {\r\n      amtSlabPresent = true;\r\n    }\r\n\r\n    if (currCritMap.indexOf(\"trnStartDate=\") >= 0) {\r\n      dateSlabPresent = true;\r\n    }\r\n\r\n    if (amtSlabPresent || dateSlabPresent) {\r\n      let docTypeObj = {};\r\n      if (amtSlabPresent && dateSlabPresent) {\r\n        activeData.forEach((dataD) => {\r\n          if (\r\n            docTypeObj[`${dataD[\"dateFrom\"]}_${dataD[\"lcyAmountFrom\"]}`] &&\r\n            docTypeObj[`${dataD[\"dateFrom\"]}_${dataD[\"lcyAmountFrom\"]}`].length\r\n          ) {\r\n            docTypeObj[`${dataD[\"dateFrom\"]}_${dataD[\"lcyAmountFrom\"]}`].push(\r\n              dataD[\"document\"]\r\n            );\r\n          } else {\r\n            docTypeObj[`${dataD[\"dateFrom\"]}_${dataD[\"lcyAmountFrom\"]}`] = [\r\n              dataD[\"document\"],\r\n            ];\r\n          }\r\n        });\r\n      } else {\r\n        if (amtSlabPresent) {\r\n          activeData.forEach((data) => {\r\n            if (\r\n              docTypeObj[data[\"lcyAmountFrom\"]] &&\r\n              docTypeObj[data[\"lcyAmountFrom\"]].length\r\n            ) {\r\n              docTypeObj[data[\"lcyAmountFrom\"]].push(data[\"document\"]);\r\n            } else {\r\n              docTypeObj[data[\"lcyAmountFrom\"]] = [data[\"document\"]];\r\n            }\r\n          });\r\n        } else if (dateSlabPresent) {\r\n          activeData.forEach((data) => {\r\n            if (\r\n              docTypeObj[data[\"dateFrom\"]] &&\r\n              docTypeObj[data[\"dateFrom\"]].length\r\n            ) {\r\n              docTypeObj[data[\"dateFrom\"]].push(data[\"document\"]);\r\n            } else {\r\n              docTypeObj[data[\"dateFrom\"]] = [data[\"document\"]];\r\n            }\r\n          });\r\n        }\r\n      }\r\n      console.log(\"::doctypeobj\", docTypeObj);\r\n      Object.values(docTypeObj).forEach((docTypeArr: any) => {\r\n        if (new Set(docTypeArr).size !== docTypeArr.length) {\r\n          this.coreService.removeLoadingScreen();\r\n          this.coreService.showWarningToast(\r\n            \"Duplicate document found for a particular Amount or Date !\"\r\n          );\r\n          isDuplicateDocFound = true;\r\n        }\r\n      });\r\n    } else {\r\n      let docTypeArr = activeData.map((data) => {\r\n        return data[\"document\"];\r\n      });\r\n      if (new Set(docTypeArr).size !== docTypeArr.length) {\r\n        this.coreService.removeLoadingScreen();\r\n        this.coreService.showWarningToast(\"Duplicate document found !\");\r\n        isDuplicateDocFound = true;\r\n      }\r\n    }\r\n\r\n    return isDuplicateDocFound;\r\n  }\r\n\r\n  // setSelectedOptions() {\r\n  //   this.applyCriteriaFormattedData.forEach((data) => {\r\n  //     if (data[\"document\"]) {\r\n  //       data[\"document\"] = this.documentOption.filter(\r\n  //         (option) => option[\"code\"] == data[\"document\"]\r\n  //       )[0][\"name\"];\r\n  //     }\r\n\r\n  //     if (data[\"documentNoType\"]) {\r\n  //       data[\"documentNoType\"] = this.documentNoTypeOption.filter(\r\n  //         (option) => option[\"code\"] == data[\"documentNoType\"]\r\n  //       )[0][\"name\"];\r\n  //     }\r\n  //   });\r\n  // }\r\n\r\n  // decodeSelectedOptions() {\r\n  //   this.applyCriteriaFormattedData.forEach((data) => {\r\n  //     data[\"document\"] = data[\"documentOption\"].filter(\r\n  //       (option) => option[\"name\"] == data[\"document\"]\r\n  //     )[0][\"code\"];\r\n  //     data[\"documentNoType\"] = data[\"documentNoTypeOption\"].filter(\r\n  //       (option) => option[\"name\"] == data[\"documentNoType\"]\r\n  //     )[0][\"code\"];\r\n  //   });\r\n  // }\r\n\r\n  confirmStatus(e: any, data: any) {\r\n    e.preventDefault();\r\n    let type = \"\";\r\n    let reqStatus = \"\";\r\n    if (e.target.checked) {\r\n      reqStatus = \"Y\";\r\n      type = \"activate\";\r\n    } else {\r\n      reqStatus = \"N\";\r\n      type = \"deactivate\";\r\n    }\r\n    this.coreService.setSidebarBtnFixedStyle(false);\r\n    this.coreService.setHeaderStickyStyle(false);\r\n    let completeMsg = \"\";\r\n    completeMsg =\r\n      `<img src=\"../../../assets/warning.svg\"><br/><br/>` +\r\n      `Do you wish to ` +\r\n      type +\r\n      ` the Document Record?`;\r\n    this.confirmationService.confirm({\r\n      message: completeMsg,\r\n      key: \"activeDeactiveStatus\",\r\n      accept: () => {\r\n        data[\"isActive\"] = reqStatus;\r\n        this.setHeaderSidebarBtn();\r\n        console.log(\"accepting\", reqStatus);\r\n      },\r\n      reject: () => {\r\n        this.confirmationService.close;\r\n        this.setHeaderSidebarBtn();\r\n        console.log(\"reject\");\r\n      },\r\n    });\r\n  }\r\n\r\n  setHeaderSidebarBtn() {\r\n    this.coreService.displayLoadingScreen();\r\n    setTimeout(() => {\r\n      this.coreService.setHeaderStickyStyle(true);\r\n      this.coreService.setSidebarBtnFixedStyle(true);\r\n    }, 500);\r\n    setTimeout(() => {\r\n      this.coreService.removeLoadingScreen();\r\n    }, 1000);\r\n  }\r\n\r\n  reset() {\r\n    if (this.mode == \"edit\" || this.mode == \"clone\") {\r\n      this.coreService.setSidebarBtnFixedStyle(false);\r\n      this.confirmationService.confirm({\r\n        message: \"Are you sure, you want to clear applied changes ?\",\r\n        key: \"resetDocumentDataConfirmation\",\r\n        accept: () => {\r\n          this.coreService.displayLoadingScreen();\r\n          // this.getCriteriaMasterData();\r\n          // this.getAllTemplates();\r\n          // this.coreService.setHeaderStickyStyle(true);\r\n          // this.coreService.setSidebarBtnFixedStyle(true);\r\n          this.applyCriteriaFormattedData = [];\r\n          this.appliedCriteriaCriteriaMap = null;\r\n          this.appliedCriteriaIsDuplicate = null;\r\n          this.documentDesc = \"\";\r\n\r\n          this.setCriteriaSharedComponent.resetSetCriteria();\r\n          this.setHeaderSidebarBtn();\r\n        },\r\n        reject: () => {\r\n          this.confirmationService.close;\r\n          this.setHeaderSidebarBtn();\r\n        },\r\n      });\r\n    } else {\r\n      this.coreService.setSidebarBtnFixedStyle(false);\r\n      this.coreService.setHeaderStickyStyle(false);\r\n      this.confirmationService.confirm({\r\n        message: \"Are you sure, you want to clear all the fields ?\",\r\n        key: \"resetDocumentDataConfirmation\",\r\n        accept: () => {\r\n          this.applyCriteriaFormattedData = [];\r\n          this.appliedCriteriaCriteriaMap = null;\r\n          this.appliedCriteriaIsDuplicate = null;\r\n          this.documentDesc = \"\";\r\n\r\n          this.setCriteriaSharedComponent.resetSetCriteria();\r\n          this.setHeaderSidebarBtn();\r\n          // this.appCtrl.reset();\r\n          // this.moduleCtrl.reset();\r\n          // this.moduleCtrl.disable();\r\n          // this.showContent = false;\r\n          // this.appModuleDataPresent = false;\r\n        },\r\n        reject: () => {\r\n          this.confirmationService.close;\r\n          this.setHeaderSidebarBtn();\r\n        },\r\n      });\r\n    }\r\n  }\r\n}\r\n","<div class=\"visible-main-section\">\r\n  <div class=\"details-page-card\">\r\n    <div class=\"d-flex mx-3\" style=\"justify-content: space-between\">\r\n      <div class=\"col-12\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-7 col-lg-7 col-sm-12 col-xs-12\">\r\n            <p class=\"description-text\">\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                width=\"41\"\r\n                height=\"35\"\r\n                viewBox=\"0 0 41 41\"\r\n              >\r\n                <g\r\n                  id=\"Group_2248\"\r\n                  data-name=\"Group 2248\"\r\n                  transform=\"translate(-341 -138)\"\r\n                >\r\n                  <circle\r\n                    id=\"Ellipse_130\"\r\n                    data-name=\"Ellipse 130\"\r\n                    cx=\"20.5\"\r\n                    cy=\"20.5\"\r\n                    r=\"20.5\"\r\n                    transform=\"translate(341 138)\"\r\n                    [attr.fill]=\"primaryColor\"\r\n                  />\r\n                  <path\r\n                    id=\"_52_Note_Basic_Description\"\r\n                    data-name=\"52  Note, Basic, Description\"\r\n                    d=\"M17.054,9.537H9.52a.753.753,0,0,1-.753-.753V5.016a.753.753,0,0,1,.753-.753h.851a3.014,3.014,0,0,1,5.831,0h.851a.753.753,0,0,1,.753.753V8.783A.753.753,0,0,1,17.054,9.537ZM10.274,8.03H16.3V5.77h-.753a.753.753,0,0,1-.753-.753,1.507,1.507,0,0,0-3.014,0,.753.753,0,0,1-.753.753h-.753Zm11.3,12.808V7.277a2.26,2.26,0,0,0-2.26-2.26h-.753V6.523h.753a.753.753,0,0,1,.753.753V20.837a.753.753,0,0,1-.753.753H7.26a.753.753,0,0,1-.753-.753V7.277a.753.753,0,0,1,.753-.753h.753V5.016H7.26A2.26,2.26,0,0,0,5,7.277V20.837A2.26,2.26,0,0,0,7.26,23.1H19.314A2.26,2.26,0,0,0,21.574,20.837ZM17.808,11.8H8.767V13.3h9.041Zm0,3.014H8.767v1.507h9.041Zm0,3.014H8.767v1.507h9.041Z\"\r\n                    transform=\"translate(348.213 145.945)\"\r\n                    fill=\"#fff\"\r\n                  />\r\n                </g>\r\n              </svg>\r\n              Enables users to configure document related settings.\r\n            </p>\r\n          </div>\r\n          <div class=\"col-md-5 col-lg-5 col-sm-12 col-xs-12\">\r\n            <div class=\"row\">\r\n              <div class=\"buttons-section\">\r\n                <button\r\n                  pButton\r\n                  pRipple\r\n                  [disabled]=\"\r\n                    !applyCriteriaFormattedData ||\r\n                    !applyCriteriaFormattedData.length ||\r\n                    deactivated\r\n                  \"\r\n                  type=\"button\"\r\n                  label=\"Save\"\r\n                  class=\"p-button-raised\"\r\n                  (click)=\"saveAddNewDocument('save')\"\r\n                ></button>\r\n                <!-- <button\r\n          pButton\r\n          pRipple\r\n          type=\"button\"\r\n          [disabled]=\"\r\n            !applyCriteriaFormattedData.length ||\r\n            !applyCriteriaFormattedData.length\r\n          \"\r\n          label=\"Save & Add New\"\r\n          class=\"p-button-raised\"\r\n          (click)=\"saveAddNewDocument('saveAndAddNew')\"\r\n        ></button> -->\r\n\r\n                <button\r\n                  pButton\r\n                  pRipple\r\n                  type=\"button\"\r\n                  label=\"Reset\"\r\n                  class=\"p-button-warning\"\r\n                  (click)=\"reset()\"\r\n                  [disabled]=\"deactivated\"\r\n                ></button>\r\n                <button\r\n                  *ngIf=\"mode == 'edit'\"\r\n                  pButton\r\n                  pRipple\r\n                  type=\"button\"\r\n                  label=\"{{ deactivated ? 'Activate' : 'Deactivate' }}\"\r\n                  class=\"p-button-raised\"\r\n                  (click)=\"onActive()\"\r\n                ></button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div [formGroup]=\"selectAppModule\" class=\"select-module-application m-2\">\r\n      <div class=\"col-12\">\r\n        <div class=\"row\">\r\n          <div class=\"d-flex field col-md-4 col-lg-4 col-sm-12 col-xs-12 md-4\">\r\n            <label\r\n              class=\"detail-page-section-heading col-sm-3 col-xs-12\"\r\n              for=\"application\"\r\n              >Application</label\r\n            >\r\n            <p-dropdown\r\n              name=\"application\"\r\n              inputId=\"application\"\r\n              [options]=\"searchApplicationOptions\"\r\n              placeholder=\"Select\"\r\n              optionLabel=\"name\"\r\n              formControlName=\"applications\"\r\n              (onChange)=\"onAppValueChange()\"\r\n            >\r\n              <ng-template let-options pTemplate=\"item\">\r\n                <div class=\"truncate-text\">\r\n                  <div>{{ options.name }}</div>\r\n                </div>\r\n              </ng-template></p-dropdown\r\n            >\r\n          </div>\r\n          <div class=\"d-flex field col-md-4 col-lg-4 col-sm-12 col-xs-12 md-4\">\r\n            <label\r\n              class=\"detail-page-section-heading col-sm-3 col-xs-12 small\"\r\n              for=\"module\"\r\n              >Module</label\r\n            >\r\n            <p-dropdown\r\n              name=\"module\"\r\n              inputId=\"module\"\r\n              [options]=\"searchModuleOptions\"\r\n              placeholder=\"Select\"\r\n              optionLabel=\"name\"\r\n              formControlName=\"modules\"\r\n              (onChange)=\"searchAppModule()\"\r\n            >\r\n              <ng-template let-options pTemplate=\"item\">\r\n                <div class=\"truncate-text\">\r\n                  <div>{{ options.name }}</div>\r\n                </div>\r\n              </ng-template></p-dropdown\r\n            >\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div\r\n      *ngIf=\"appModuleDataPresent && showContent\"\r\n      class=\"d-flex m-3 document-code-desc-section\"\r\n    >\r\n      <div class=\"col-12\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-4 col-lg-4 col-sm-12 col-xs-12\">\r\n            <div\r\n              class=\"documentCode\"\r\n              [pTooltip]=\"\r\n                this.mode == 'add'\r\n                  ? 'Document Code is automatically generated, It may get changed in saving process.'\r\n                  : ''\r\n              \"\r\n            >\r\n              <p>Document Code</p>\r\n              <input\r\n                type=\"text\"\r\n                pInputText\r\n                [(ngModel)]=\"documentCode\"\r\n                disabled\r\n              />\r\n            </div>\r\n          </div>\r\n          <div class=\"col-md-8 col-lg-8 col-sm-12 col-xs-12\">\r\n            <div class=\"documentDesc\">\r\n              <p style=\"position: relative\">\r\n                Document Description <span class=\"description red-star\">*</span>\r\n              </p>\r\n              <input\r\n                type=\"text\"\r\n                pInputText\r\n                [(ngModel)]=\"documentDesc\"\r\n                maxlength=\"100\"\r\n                placeholder=\"Max 100 characters\"\r\n                [disabled]=\"deactivated\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <app-set-criteria\r\n      *ngIf=\"appModuleDataPresent && showContent\"\r\n      #setCriteriaSharedComponent\r\n      [criteriaMasterData]=\"criteriaMasterData\"\r\n      [fieldDisplayData]=\"fieldDisplayData\"\r\n      [cmCriteriaDataDetails]=\"cmCriteriaDataDetails\"\r\n      [criteriaDataDetailsJson]=\"criteriaDataDetailsJson\"\r\n      [cmCriteriaSlabType]=\"cmCriteriaSlabType\"\r\n      [independantCriteriaArr]=\"independantCriteriaArr\"\r\n      [cmCriteriaMandatory]=\"cmCriteriaMandatory\"\r\n      [cmCriteriaDependency]=\"cmCriteriaDependency\"\r\n      [criteriaMapDdlOptions]=\"criteriaMapDdlOptions\"\r\n      [correspondentDdlOptions]=\"correspondentDdlOptions\"\r\n      [criteriaEqualsDdlOptions]=\"criteriaEqualsDdlOptions\"\r\n      [criteriaTemplatesDdlOptions]=\"criteriaTemplatesDdlOptions\"\r\n      [savingCriteriaTemplateError]=\"savingCriteriaTemplateError\"\r\n      [criteriaText]=\"criteriaText\"\r\n      [criteriaCodeText]=\"criteriaCodeText\"\r\n      [inactiveData]=\"inactiveData\"\r\n      [deactivated]=\"deactivated\"\r\n      (postDataCriteria)=\"applyCriteria($event)\"\r\n      (saveCriteriaAsTemplate)=\"saveCriteriaAsTemplate($event)\"\r\n      (getCorrespondentValues)=\"\r\n        getCorrespondentValues(\r\n          $event.fieldName,\r\n          $event.displayName,\r\n          $event.criteriaCodeText\r\n        )\r\n      \"\r\n      [setCriteriaName]=\"setCriteriaName\"\r\n    ></app-set-criteria>\r\n  </div>\r\n  <div class=\"details-page-card mt-2\" *ngIf=\"applyCriteriaFormattedData.length\">\r\n    <div class=\"details-page-card-content mt-1\">\r\n      <div class=\"criteria-bar\">\r\n        <p class=\"setCriteria detail-page-section-heading\">\r\n          Applicable Documents\r\n          <img\r\n            height=\"15px\"\r\n            src=\"../assets/Icon-info.svg\"\r\n            alt=\"\"\r\n            pTooltip=\"On selected criteria documents below documents will be applied.\"\r\n          />\r\n        </p>\r\n      </div>\r\n      <div class=\"mt-1 addnewroute-table\">\r\n        <div class=\"ptable\">\r\n          <p-card class=\"p-col-12\" *ngIf=\"!applyCriteriaResponse\">\r\n            {{ \"noDataMsg\" }}\r\n          </p-card>\r\n          <div class=\"appliedCriteriaDataTable\">\r\n            <p-table\r\n              [value]=\"applyCriteriaFormattedData\"\r\n              [scrollable]=\"true\"\r\n              scrollHeight=\"400px\"\r\n            >\r\n              <ng-template pTemplate=\"header\">\r\n                <tr>\r\n                  <th\r\n                    *ngFor=\"let col of applyCriteriaDataTableColumns\"\r\n                    style=\"min-width: 120px\"\r\n                    alignFrozen=\"right\"\r\n                    pFrozenColumn\r\n                    [frozen]=\"col['frozen']\"\r\n                  >\r\n                    {{ col.header }}\r\n                    <img\r\n                      *ngIf=\"col.field == 'isDefault'\"\r\n                      style=\"\r\n                        filter: invert(56%) sepia(77%) saturate(6313%)\r\n                          hue-rotate(223deg) brightness(88%) contrast(105%);\r\n                        margin-bottom: 4px;\r\n                      \"\r\n                      height=\"13px\"\r\n                      src=\"../assets/Icon-info.svg\"\r\n                      alt=\"\"\r\n                      pTooltip=\"Only one Primary Document allowed.\"\r\n                    />\r\n                  </th>\r\n                </tr>\r\n              </ng-template>\r\n\r\n              <ng-template pTemplate=\"body\" let-rowData let-rowIndex=\"rowIndex\">\r\n                <tr>\r\n                  <td\r\n                    *ngFor=\"let col of applyCriteriaDataTableColumns\"\r\n                    alignFrozen=\"right\"\r\n                    pFrozenColumn\r\n                    [frozen]=\"col['frozen']\"\r\n                  >\r\n                    <div\r\n                      *ngIf=\"col['fieldType'] == 'dropdown'\"\r\n                      class=\"appliedCriteriaSelect\"\r\n                    >\r\n                      <p-dropdown\r\n                        [options]=\"rowData[col.field + 'Option']\"\r\n                        optionLabel=\"name\"\r\n                        appendTo=\"body\"\r\n                        [placeholder]=\"\r\n                          rowData[col['field']] &&\r\n                          rowData[col['field']] != 'null'\r\n                            ? rowData[col['field']]\r\n                            : 'Select'\r\n                        \"\r\n                        (onChange)=\"\r\n                          selectedColumn(col['field'], $event.value, rowIndex)\r\n                        \"\r\n                        [disabled]=\"\r\n                          rowData['linked'] == 'Y' ||\r\n                          rowData['isActive'] == 'N' ||\r\n                          deactivated\r\n                        \"\r\n                        ><ng-template let-options pTemplate=\"item\">\r\n                          <div class=\"truncate-text\">\r\n                            <div>{{ options.name }}</div>\r\n                          </div>\r\n                        </ng-template>\r\n                      </p-dropdown>\r\n                    </div>\r\n                    <div\r\n                      *ngIf=\"col['fieldType'] == 'checkbox'\"\r\n                      style=\"text-align: center\"\r\n                    >\r\n                      <!-- <p-checkbox\r\n                        [(ngModel)]=\"rowData[col.field]\"\r\n                        [binary]=\"true\"\r\n                        [disabled]=\"rowData['linked'] == 'Y' || deactivated || rowData['isActive'] == 'N'\"\r\n                       (ngModelChange)=\"\r\n                          checkBoxUpdate($event, col.field, rowIndex,rowData)\r\n                        \"\r\n                      ></p-checkbox> -->\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        [(ngModel)]=\"rowData[col.field]\"\r\n                        (change)=\"\r\n                          checkBoxUpdate($event, col.field, rowIndex, rowData)\r\n                        \"\r\n                        [disabled]=\"\r\n                          rowData['linked'] == 'Y' ||\r\n                          deactivated ||\r\n                          rowData['isActive'] == 'N' ||\r\n                          ((col.field == 'frontSide' ||\r\n                            col.field == 'backSide') &&\r\n                            rowData['bypassImage'])\r\n                        \"\r\n                      />\r\n                    </div>\r\n                    <div\r\n                      *ngIf=\"col['fieldType'] == 'input'\"\r\n                      [pTooltip]=\"col['info'] ? col['info'] : ''\"\r\n                    >\r\n                      <input\r\n                        #inp\r\n                        [(ngModel)]=\"rowData[col.field]\"\r\n                        type=\"text\"\r\n                        pInputText\r\n                        (ngModelChange)=\"\r\n                          formatValidation($event, col.field, inp, rowIndex)\r\n                        \"\r\n                        [disabled]=\"\r\n                          rowData['linked'] == 'Y' ||\r\n                          rowData['isActive'] == 'N' ||\r\n                          deactivated\r\n                        \"\r\n                      />\r\n                    </div>\r\n                    <div\r\n                      *ngIf=\"col['fieldType'] == 'text'\"\r\n                      [pTooltip]=\"col['info'] ? col['info'] : ''\"\r\n                    >\r\n                      <input\r\n                        [(ngModel)]=\"rowData[col.field]\"\r\n                        type=\"text\"\r\n                        pInputText\r\n                        [disabled]=\"true\"\r\n                      />\r\n                    </div>\r\n                    <div\r\n                      *ngIf=\"col['fieldType'] == 'button'\"\r\n                      class=\"appliedCriteriaButton\"\r\n                    >\r\n                      <ng-container\r\n                        *ngFor=\"let btn of rowData[col['field']].split(',')\"\r\n                      >\r\n                        <button\r\n                          pButton\r\n                          type=\"button\"\r\n                          [icon]=\"'pi pi-' + (btn == 'delete' ? 'trash' : btn)\"\r\n                          (click)=\"\r\n                            checkOperation(btn, rowIndex, rowData, col['field'])\r\n                          \"\r\n                          class=\"operation-btns mr-2\"\r\n                          [disabled]=\"deactivated\"\r\n                        ></button>\r\n                      </ng-container>\r\n                    </div>\r\n                    <div\r\n                      *ngIf=\"col.field == 'isActive'\"\r\n                      style=\"border: none; text-align: left\"\r\n                    >\r\n                      <label class=\"switch\" style=\"border: none\">\r\n                        <input\r\n                          #statusInp\r\n                          [value]=\"rowData[col['field']]\"\r\n                          type=\"checkbox\"\r\n                          (click)=\"confirmStatus($event, rowData)\"\r\n                          [checked]=\"\r\n                            rowData[col['field']] == 'Y' ? true : false\r\n                          \"\r\n                          [disabled]=\"rowData['linked'] == 'Y' || deactivated\"\r\n                        />\r\n                        <span\r\n                          class=\"slider round\"\r\n                          [ngClass]=\"{ disabled: deactivated }\"\r\n                        ></span>\r\n                      </label>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              </ng-template>\r\n            </p-table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div\r\n  class=\"NorecordFound\"\r\n  *ngIf=\"\r\n    !showContent && appModuleDataPresent && !applyCriteriaFormattedData.length\r\n  \"\r\n>\r\n  <div class=\"row\">\r\n    <div class=\"col-12\"><img src=\"assets/noRecordFound.svg\" /></div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col-12\">\r\n      <p>No Record Found.</p>\r\n    </div>\r\n  </div>\r\n</div>\r\n<p-confirmDialog\r\n  key=\"documentSettingLinkedWarning\"\r\n  class=\"linked-confirm confirm-popup\"\r\n  #cd\r\n  icon=\"pi pi-exclamation-triangle\"\r\n  [closable]=\"false\"\r\n>\r\n  <p-footer>\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-check\"\r\n      label=\"Ok\"\r\n      (click)=\"cd.accept()\"\r\n    ></button>\r\n  </p-footer>\r\n</p-confirmDialog>\r\n\r\n<p-confirmDialog\r\n  key=\"resetDocumentDataConfirmation\"\r\n  class=\"confirm-popup\"\r\n  #cd2\r\n  icon=\"pi pi-exclamation-triangle\"\r\n  [closable]=\"false\"\r\n>\r\n  <p-footer>\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-check\"\r\n      label=\"Yes\"\r\n      (click)=\"cd2.accept()\"\r\n    ></button>\r\n\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-times\"\r\n      label=\"Cancel\"\r\n      (click)=\"cd2.reject()\"\r\n    ></button>\r\n  </p-footer>\r\n</p-confirmDialog>\r\n<p-confirmDialog\r\n  key=\"activeDeactiveStatus\"\r\n  class=\"status-confirm confirm-popup\"\r\n  #cd3\r\n  [closable]=\"false\"\r\n>\r\n  <p-footer>\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-check\"\r\n      label=\"Yes\"\r\n      (click)=\"cd3.accept()\"\r\n    ></button>\r\n\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-times\"\r\n      label=\"No\"\r\n      (click)=\"cd3.reject()\"\r\n    ></button>\r\n  </p-footer>\r\n</p-confirmDialog>\r\n<p-confirmDialog\r\n  key=\"activeDeactiveStatusDocument\"\r\n  class=\"status-confirm confirm-popup\"\r\n  #cd4\r\n  [closable]=\"false\"\r\n>\r\n  <p-footer>\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-check\"\r\n      label=\"Yes\"\r\n      (click)=\"cd4.accept()\"\r\n    ></button>\r\n\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-times\"\r\n      label=\"No\"\r\n      (click)=\"cd4.reject()\"\r\n    ></button>\r\n  </p-footer>\r\n</p-confirmDialog>\r\n","import { Component, OnInit, ViewChild } from \"@angular/core\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { CoreService } from \"src/app/core.service\";\r\nimport { DocumentSettingsService } from \"../document-settings.service\";\r\nimport { SetCriteriaService } from \"src/app/shared/components/set-criteria/set-criteria.service\";\r\nimport { ConfirmationService, MessageService } from \"primeng/api\";\r\nimport {\r\n  UntypedFormBuilder,\r\n  UntypedFormControl,\r\n  Validators,\r\n} from \"@angular/forms\";\r\nimport { ConfirmDialog } from \"primeng/confirmdialog\";\r\nimport { forkJoin } from \"rxjs\";\r\nimport { map, take } from \"rxjs/operators\";\r\nimport { MultiSelect } from \"primeng/multiselect\";\r\n\r\nimport _lodashClone from \"lodash-es/cloneDeep\";\r\n\r\n@Component({\r\n  selector: \"app-document-listing\",\r\n  templateUrl: \"./document-listing.component.html\",\r\n  styleUrls: [\"./document-listing.component.scss\"],\r\n})\r\nexport class DocumentListingComponent implements OnInit {\r\n  formName = \"Document Settings\";\r\n  docListingData: any[] = [];\r\n\r\n  objectKeys = Object.keys;\r\n  @ViewChild(\"cd\") cd: ConfirmDialog;\r\n\r\n  showNoDataFound: boolean = false;\r\n\r\n  cols: any[] = [\r\n    { field: \"documentCode\", header: \"Document Code\", width: \"10%\" },\r\n    { field: \"documentDesc\", header: \"Document Description\", width: \"20%\" },\r\n    { field: \"criteriaMap\", header: \"Criteria\", width: \"55%\" },\r\n    { field: \"status\", header: \"Status\", width: \"7%\" },\r\n    { field: \"operation\", header: \"Operations\", width: \"8%\" },\r\n  ];\r\n\r\n  showdocumentCodeOptions: boolean = false;\r\n  showdocumentDescOptions: boolean = false;\r\n  showcriteriaMapOptions: boolean = false;\r\n  showstatusOptions: boolean = false;\r\n\r\n  documentCode = [];\r\n  documentDesc = [];\r\n  criteriaMap = [];\r\n  status = [];\r\n\r\n  userData: any = {};\r\n  selectedFilterdocumentCode: any[] = [];\r\n  selectedFilterdocumentDesc: any[] = [];\r\n  selectedFiltercriteriaMap: any[] = [];\r\n  selectedFilterstatus: any[] = [];\r\n  docListingApiData: any = {};\r\n  loading: boolean = true;\r\n\r\n  selectAppModule: any;\r\n  searchApplicationOptions: any[] = [];\r\n  searchModuleOptions: any[] = [];\r\n\r\n  noDataMsg: string = \"doc Setting Data Not Available\";\r\n\r\n  linkeddocumentCode: any = [];\r\n\r\n  apiData = {};\r\n\r\n  fieldDisplayData = {};\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private coreService: CoreService,\r\n    private route: ActivatedRoute,\r\n    private documentService: DocumentSettingsService,\r\n    private setCriteriaService: SetCriteriaService,\r\n    private confirmationService: ConfirmationService,\r\n    private messageService: MessageService,\r\n    private fb: UntypedFormBuilder\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.coreService.displayLoadingScreen();\r\n\r\n    const translationKey = \"Home.Settings\";\r\n    this.coreService\r\n      .translate(translationKey)\r\n      .then((translatedTitle: string) => {\r\n        this.coreService.setPageTitle(translatedTitle);\r\n      });\r\n\r\n    this.route.data.subscribe((data) => {\r\n      this.coreService.setBreadCrumbMenu(Object.values(data));\r\n    });\r\n\r\n    this.documentService.applicationName = null;\r\n    this.documentService.moduleName = null;\r\n\r\n    this.userData = JSON.parse(localStorage.getItem(\"userData\"));\r\n\r\n    this.setSelectAppModule();\r\n\r\n    //\r\n    this.searchApplicationOptions = JSON.parse(\r\n      localStorage.getItem(\"appAccess\")\r\n    );\r\n    this.searchModuleOptions = JSON.parse(localStorage.getItem(\"modAccess\"));\r\n    let defAppMod = JSON.parse(localStorage.getItem(\"defAppModule\"));\r\n    let currAppMod = JSON.parse(sessionStorage.getItem(\"doc\"));\r\n\r\n    let defApp = null;\r\n    let defMod = null;\r\n\r\n    if (currAppMod) {\r\n      console.log(currAppMod);\r\n      defApp = this.searchApplicationOptions.filter(\r\n        (opt) => opt.code == currAppMod.applicationName.code\r\n      )[0];\r\n      defMod = this.searchModuleOptions.filter(\r\n        (opt) => opt.code == currAppMod.moduleName.code\r\n      )[0];\r\n    } else {\r\n      if (defAppMod) {\r\n        defApp = JSON.parse(localStorage.getItem(\"applicationName\"));\r\n        defMod = JSON.parse(localStorage.getItem(\"moduleName\"));\r\n      }\r\n    }\r\n\r\n    if (defApp) {\r\n      this.appCtrl.patchValue(defApp);\r\n    }\r\n    if (defMod) {\r\n      this.moduleCtrl.patchValue(defMod);\r\n    }\r\n    if (this.appCtrl.value && this.moduleCtrl.value) {\r\n      this.searchAppModule();\r\n    } else {\r\n      this.coreService.removeLoadingScreen();\r\n    }\r\n    //\r\n  }\r\n\r\n  setSelectAppModule() {\r\n    this.selectAppModule = this.fb.group({\r\n      applications: new UntypedFormControl({ value: \"\", disabled: false }, [\r\n        Validators.required,\r\n      ]),\r\n      modules: new UntypedFormControl({ value: \"\", disabled: false }, [\r\n        Validators.required,\r\n      ]),\r\n    });\r\n  }\r\n\r\n  get appCtrl() {\r\n    return this.selectAppModule.get(\"applications\");\r\n  }\r\n  get moduleCtrl() {\r\n    return this.selectAppModule.get(\"modules\");\r\n  }\r\n\r\n  searchAppModule() {\r\n    let currAppMod = {\r\n      applicationName: this.appCtrl.value,\r\n      moduleName: this.moduleCtrl.value,\r\n    };\r\n    sessionStorage.setItem(\"doc\", JSON.stringify(currAppMod));\r\n    this.getDecodedDataForListing(\r\n      this.userData.userId,\r\n      this.appCtrl.value.code,\r\n      this.moduleCtrl.value.code\r\n    );\r\n  }\r\n  getDecodedDataForListing(userId: any, appValue: any, moduleValue: any) {\r\n    this.coreService.displayLoadingScreen();\r\n\r\n    forkJoin({\r\n      criteriaMasterData: this.documentService.getCriteriaMasterData(\r\n        userId,\r\n        this.formName,\r\n        appValue,\r\n        moduleValue\r\n      ),\r\n      docSettingListingData: this.documentService.getDocumentListData(\r\n        userId,\r\n        this.formName,\r\n        appValue,\r\n        moduleValue\r\n      ),\r\n    })\r\n      .pipe(\r\n        take(1),\r\n        map((response) => {\r\n          let criteriaMasterJson = _lodashClone(response.criteriaMasterData);\r\n          delete criteriaMasterJson[\"fieldDisplay\"];\r\n          this.fieldDisplayData = response.criteriaMasterData[\"fieldDisplay\"];\r\n          const criteriaMasterData = criteriaMasterJson;\r\n          const docSettingListingData = response.docSettingListingData;\r\n\r\n          if (docSettingListingData[\"data\"]) {\r\n            this.docListingApiData = docSettingListingData;\r\n            this.docListingApiData.data.forEach((doc) => {\r\n              let beforeSplit = doc.criteriaMap.split(\"&&&&\")[0];\r\n\r\n              const sections = doc.criteriaMap.split(\"&&&&\");\r\n\r\n              // Initialize variables to store the formatted data\r\n              let criteria = {};\r\n              let amounts = \"\";\r\n              let dates = \"\";\r\n              let afterSplit = \"\";\r\n\r\n              // Process each section\r\n              sections.forEach((section) => {\r\n                // if (section.includes(\"=\")) {\r\n                //   // Split section into key and value\r\n                //   const [key, value] = section\r\n                //     .split(\"=\")\r\n                //     .map((str) => str.trim());\r\n\r\n                //   // Store the criteria in the object\r\n                //   criteria[key] = value;\r\n                // }\r\n                if (section.includes(\"from\") && section.includes(\"to\")) {\r\n                  // Extract the amounts\r\n                  const amountsArray = section\r\n                    .split(\"#\")\r\n                    .map((amountSection) => {\r\n                      const [from, to] = amountSection\r\n                        .split(\"::\")\r\n                        .map((part) => part.split(\":\")[1]);\r\n                      return `Between ${from} - ${to}`;\r\n                    });\r\n                  amounts = amountsArray.join(\" & \");\r\n                } else if (\r\n                  section.startsWith(\"trnStartDate\") &&\r\n                  section.includes(\"trnEndDate\")\r\n                ) {\r\n                  // Extract the dates\r\n                  const dateSections = section.split(\"#\").map((dateSection) => {\r\n                    const [startDate, endDate] = dateSection\r\n                      .split(\"::\")\r\n                      .map((part) => part.split(\"=\")[1]);\r\n                    return `Between ${startDate} - ${endDate}`;\r\n                  });\r\n                  dates = dateSections.join(\" & \");\r\n                }\r\n              });\r\n\r\n              if (amounts.length && dates.length) {\r\n                afterSplit += `Amount (${amounts}), Date (${dates})`;\r\n              } else if (amounts.length) {\r\n                afterSplit += `Amount (${amounts})`;\r\n              } else if (dates.length) {\r\n                afterSplit += `Date (${dates})`;\r\n              }\r\n              // tax.criteriaMap = output;\r\n              console.log(\"555\", afterSplit);\r\n\r\n              // console.log(\"444\", formattedCriteria);\r\n              if (beforeSplit.length) {\r\n                let criteriaCodeText = this.setCriteriaService.setCriteriaMap({\r\n                  criteriaMap: beforeSplit,\r\n                });\r\n                doc.criteriaMap = (\r\n                  this.setCriteriaService.decodeFormattedCriteria(\r\n                    criteriaCodeText,\r\n                    criteriaMasterData,\r\n                    this.fieldDisplayData\r\n                  ) as []\r\n                ).join(\", \");\r\n                if (afterSplit?.length) {\r\n                  doc.criteriaMap = doc.criteriaMap + \", \" + afterSplit;\r\n                }\r\n              } else {\r\n                if (afterSplit?.length) {\r\n                  doc.criteriaMap = afterSplit;\r\n                }\r\n              }\r\n            });\r\n            this.docListingData = [...this.docListingApiData.data];\r\n            this.showNoDataFound = false;\r\n            this.linkeddocumentCode = [\r\n              ...this.docListingApiData.linkedDocumentCode,\r\n            ];\r\n            this.documentCode = this.docListingApiData.documentCode.map(\r\n              (code) => {\r\n                return { label: code, value: code };\r\n              }\r\n            );\r\n            this.documentDesc = this.docListingApiData.documentDesc.map(\r\n              (code) => {\r\n                return { label: code, value: code };\r\n              }\r\n            );\r\n            this.criteriaMap = this.docListingApiData.criteriaMap.map(\r\n              (code) => {\r\n                return { label: code, value: code };\r\n              }\r\n            );\r\n            this.status = this.docListingApiData.status.map((code) => {\r\n              return { label: code, value: code };\r\n            });\r\n          } else {\r\n            if (docSettingListingData[\"msg\"]) {\r\n              this.coreService.showWarningToast(docSettingListingData[\"msg\"]);\r\n            }\r\n            this.showNoDataFound = true;\r\n            this.docListingData = [];\r\n          }\r\n          return docSettingListingData;\r\n        })\r\n      )\r\n      .subscribe(\r\n        (res) => {\r\n          this.coreService.removeLoadingScreen();\r\n          this.loading = false;\r\n          if (\r\n            res[\"status\"] &&\r\n            typeof res[\"status\"] == \"string\" &&\r\n            (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n          ) {\r\n            this.showNoDataFound = true;\r\n            if (res[\"error\"]) {\r\n              this.coreService.showWarningToast(res[\"error\"]);\r\n            } else {\r\n              this.coreService.showWarningToast(\"Some error in fetching data\");\r\n            }\r\n          } else {\r\n            if (!res[\"data\"]) {\r\n              this.showNoDataFound = true;\r\n            }\r\n          }\r\n        },\r\n        (err) => {\r\n          this.coreService.removeLoadingScreen();\r\n          this.docListingData = [];\r\n          this.showNoDataFound = true;\r\n          this.loading = false;\r\n          console.log(\"Error in getting doc seting list data\", err);\r\n          this.coreService.showWarningToast(\r\n            \"Some Error in getting doc seting list data\"\r\n          );\r\n        }\r\n      );\r\n  }\r\n\r\n  viewDocDetails(data: any) {\r\n    this.documentService.applicationName = this.appCtrl.value.code;\r\n    this.documentService.moduleName = this.moduleCtrl.value.code;\r\n    this.router.navigate([\r\n      \"navbar\",\r\n      \"document-settings\",\r\n      \"add-document\",\r\n      data.documentCode,\r\n      \"edit\",\r\n    ]);\r\n    this.documentService.setData(data);\r\n  }\r\n\r\n  isLinked(id: any) {\r\n    return this.linkeddocumentCode.includes(id);\r\n  }\r\n\r\n  confirmStatus(e: any, data: any) {\r\n    e.preventDefault();\r\n    let type = \"\";\r\n    let reqStatus = \"\";\r\n    if (e.target.checked) {\r\n      reqStatus = \"Active\";\r\n      type = \"activate\";\r\n    } else {\r\n      reqStatus = \"Inactive\";\r\n      type = \"deactivate\";\r\n    }\r\n    this.coreService.setSidebarBtnFixedStyle(false);\r\n    this.coreService.setHeaderStickyStyle(false);\r\n    let completeMsg = \"\";\r\n    let isLinkedMsg = `Active Transactions Exist. </br>`;\r\n    if (\r\n      reqStatus == \"Inactive\" &&\r\n      this.linkeddocumentCode.includes(data[\"documentCode\"])\r\n    ) {\r\n      completeMsg =\r\n        `<img src=\"../../../assets/warning.svg\"><br/><br/>` +\r\n        isLinkedMsg +\r\n        `Do you wish to ` +\r\n        type +\r\n        ` the doc Record: ${data[\"documentCode\"]}?`;\r\n    } else {\r\n      completeMsg =\r\n        `<img src=\"../../../assets/warning.svg\"><br/><br/>` +\r\n        `Do you wish to ` +\r\n        type +\r\n        ` the doc Record: ${data[\"documentCode\"]}?`;\r\n    }\r\n    this.confirmationService.confirm({\r\n      message: completeMsg,\r\n      key: \"activeDeactiveStatus\",\r\n      accept: () => {\r\n        this.updateStatus(e, reqStatus, data);\r\n        this.setHeaderSidebarBtn(true);\r\n      },\r\n      reject: () => {\r\n        this.confirmationService.close;\r\n        this.setHeaderSidebarBtn(false);\r\n      },\r\n    });\r\n  }\r\n\r\n  updateStatus(e: any, reqStatus: any, data: any) {\r\n    this.coreService.displayLoadingScreen();\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"userId\", this.userData.userId);\r\n    formData.append(\"documentSettingsCode\", data[\"documentCode\"]);\r\n    formData.append(\"status\", reqStatus);\r\n    formData.append(\"applications\", this.appCtrl.value.code);\r\n    formData.append(\"moduleName\", this.moduleCtrl.value.code);\r\n    formData.append(\"form\", this.formName);\r\n    this.updateDocSettingStatus(formData, e.target, data);\r\n  }\r\n\r\n  updateDocSettingStatus(formData: any, sliderElm: any, docData: any) {\r\n    this.documentService.updateDocumentStatus(formData).subscribe(\r\n      (res) => {\r\n        let message = \"\";\r\n        if (res[\"error\"] == \"true\") {\r\n          this.coreService.removeLoadingScreen();\r\n          message = `Kindly deactivate the Document setting code: ${res[\"msg\"]} ( ${docData[\"criteriaMap\"]} ) to activate the current record.`;\r\n          this.coreService.showWarningToast(message);\r\n        } else {\r\n          if (res[\"msg\"]) {\r\n            message = res[\"msg\"];\r\n            sliderElm.checked = sliderElm!.checked;\r\n            this.getDecodedDataForListing(\r\n              this.userData.userId,\r\n              this.appCtrl.value.code,\r\n              this.moduleCtrl.value.code\r\n            );\r\n            this.coreService.showSuccessToast(message);\r\n          } else {\r\n            this.coreService.removeLoadingScreen();\r\n            message = \"Error in fetching data, Please try again later\";\r\n            this.coreService.showWarningToast(message);\r\n          }\r\n        }\r\n      },\r\n      (err) => {\r\n        console.log(err);\r\n        this.coreService.removeLoadingScreen();\r\n      }\r\n    );\r\n  }\r\n\r\n  cloneDoc(data: any) {\r\n    this.documentService.applicationName = this.appCtrl.value.code;\r\n    this.documentService.moduleName = this.moduleCtrl.value.code;\r\n    this.router.navigate([\r\n      \"navbar\",\r\n      \"document-settings\",\r\n      \"add-document\",\r\n      data.documentCode,\r\n      \"clone\",\r\n    ]);\r\n  }\r\n\r\n  addNewDocPage() {\r\n    this.router.navigate([\"navbar\", \"document-settings\", \"add-document\"]);\r\n  }\r\n\r\n  setHeaderSidebarBtn(accept: boolean) {\r\n    this.coreService.displayLoadingScreen();\r\n    setTimeout(() => {\r\n      this.coreService.setHeaderStickyStyle(true);\r\n      this.coreService.setSidebarBtnFixedStyle(true);\r\n    }, 500);\r\n    if (!accept) {\r\n      setTimeout(() => {\r\n        this.coreService.removeLoadingScreen();\r\n      }, 1000);\r\n    }\r\n  }\r\n\r\n  toggleFilterVisibility(field) {\r\n    this[`show${field}Options`] = !this[`show${field}Options`];\r\n  }\r\n\r\n  hideFilterVisibility(field) {\r\n    this[`show${field}Options`] = false;\r\n  }\r\n\r\n  getSelectedFilterArr(field: any) {\r\n    return this[`selectedFilter${field}`];\r\n  }\r\n\r\n  setSelectedFilter(ms: MultiSelect, field: any) {\r\n    this[`selectedFilter${field}`] = ms.value;\r\n  }\r\n\r\n  fieldFilterVisible(field: any) {\r\n    return this[`show${field}Options`];\r\n  }\r\n\r\n  fieldFilterOptions(field: any): [] {\r\n    return this[field];\r\n  }\r\n\r\n  copyToClipboard(text: string) {\r\n    this.coreService.copyToClipboard(text);\r\n  }\r\n}\r\n","<div class=\"visible-main-section\">\r\n  <div class=\"pagetitle\">\r\n    <div class=\"infoicon\">\r\n      <i class=\"pi pi-info-circle\"></i>\r\n      List of documents.\r\n    </div>\r\n    <div class=\"addnew\">\r\n      <button\r\n        pButton\r\n        pRipple\r\n        type=\"button\"\r\n        label=\"Add Document Settings\"\r\n        class=\"p-button-raised\"\r\n        (click)=\"addNewDocPage()\"\r\n      ></button>\r\n    </div>\r\n  </div>\r\n  <div class=\"app-form-search\">\r\n    <div [formGroup]=\"selectAppModule\" class=\"select-module-application m-2\">\r\n      <div class=\"col-12\">\r\n        <div class=\"row\">\r\n          <div class=\"d-flex field col-md-4 col-lg-4 col-sm-12 col-xs-12 md-4\">\r\n            <label\r\n              class=\"detail-page-section-heading col-sm-3 col-xs-12\"\r\n              for=\"application\"\r\n              >Application</label\r\n            >\r\n            <p-dropdown\r\n              name=\"application\"\r\n              inputId=\"application\"\r\n              [options]=\"searchApplicationOptions\"\r\n              placeholder=\"Select\"\r\n              optionLabel=\"name\"\r\n              formControlName=\"applications\"\r\n            >\r\n              <ng-template let-options pTemplate=\"item\">\r\n                <div class=\"truncate-text\">\r\n                  <div>{{ options.name }}</div>\r\n                </div>\r\n              </ng-template></p-dropdown\r\n            >\r\n          </div>\r\n          <div class=\"d-flex field col-md-4 col-lg-4 col-sm-12 col-xs-12 md-4\">\r\n            <label\r\n              class=\"detail-page-section-heading small col-sm-3 col-xs-12\"\r\n              for=\"module\"\r\n              >Module</label\r\n            >\r\n            <p-dropdown\r\n              name=\"module\"\r\n              inputId=\"module\"\r\n              [options]=\"searchModuleOptions\"\r\n              placeholder=\"Select\"\r\n              optionLabel=\"name\"\r\n              formControlName=\"modules\"\r\n            >\r\n              <ng-template let-options pTemplate=\"item\">\r\n                <div class=\"truncate-text\">\r\n                  <div>{{ options.name }}</div>\r\n                </div>\r\n              </ng-template></p-dropdown\r\n            >\r\n          </div>\r\n          <div class=\"addnew field col-md-2 col-lg-2 col-sm-4 col-xs-4 md-2\">\r\n            <button\r\n              pButton\r\n              pRipple\r\n              type=\"button\"\r\n              (click)=\"searchAppModule()\"\r\n              label=\"Apply\"\r\n              class=\"p-button-raised\"\r\n              [disabled]=\"selectAppModule.invalid\"\r\n            ></button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"ptable\" *ngIf=\"docListingData && docListingData.length\">\r\n    <p-table\r\n      #dt\r\n      [columns]=\"cols\"\r\n      [value]=\"docListingData\"\r\n      [paginator]=\"true\"\r\n      [rows]=\"10\"\r\n      [loading]=\"loading\"\r\n      [resizableColumns]=\"true\"\r\n      columnResizeMode=\"fit\"\r\n      [rowHover]=\"true\"\r\n    >\r\n      <ng-template pTemplate=\"header\" let-columns>\r\n        <tr>\r\n          <th\r\n            *ngFor=\"let col of columns; let c = index\"\r\n            pReorderableColumn\r\n            [pSortableColumn]=\"col.field\"\r\n            pResizableColumn\r\n            [style.width]=\"col.width\"\r\n          >\r\n            {{ col.header }}\r\n            <div\r\n              *ngIf=\"c == 0 || col.field == 'status'\"\r\n              (click)=\"$event.stopPropagation()\"\r\n              class=\"filter-icon\"\r\n            >\r\n              <i\r\n                [ngStyle]=\"{\r\n                  color: getSelectedFilterArr(col.field).length\r\n                    ? 'var(--primary-color)'\r\n                    : 'rgb(105 105 105)',\r\n                  fontSize: '11px'\r\n                }\"\r\n                class=\"pi pi-filter-fill\"\r\n                (click)=\"toggleFilterVisibility(col.field)\"\r\n              ></i>\r\n              <p-multiSelect\r\n                #ms\r\n                [options]=\"fieldFilterOptions(col.field)\"\r\n                [filter]=\"true\"\r\n                [displaySelectedLabel]=\"false\"\r\n                [overlayVisible]=\"fieldFilterVisible(col.field)\"\r\n                [defaultLabel]=\"'Search'\"\r\n                [appendTo]=\"'body'\"\r\n                [autoWidth]=\"false\"\r\n                (onChange)=\"\r\n                  dt.filter($event.value, col.field, 'in');\r\n                  setSelectedFilter(ms, col.field)\r\n                \"\r\n                (onPanelHide)=\"hideFilterVisibility(col.field)\"\r\n              >\r\n              </p-multiSelect>\r\n            </div>\r\n          </th>\r\n        </tr>\r\n        <tr class=\"search-row\">\r\n          <th *ngFor=\"let col of cols\" [style.width]=\"col.width\">\r\n            <span\r\n              style=\"width: 100%\"\r\n              class=\"p-input-icon-left\"\r\n              *ngIf=\"col.field != 'status' && col.field != 'operation'\"\r\n            >\r\n              <i class=\"pi pi-search\"></i>\r\n              <input\r\n                type=\"text\"\r\n                class=\"p-inputtext table-search\"\r\n                placeholder=\"Search\"\r\n                (input)=\"dt.filter($event.target.value, col.field, 'contains')\"\r\n              />\r\n            </span>\r\n          </th>\r\n        </tr>\r\n      </ng-template>\r\n      <ng-template\r\n        pTemplate=\"body\"\r\n        let-rowData\r\n        let-columns=\"columns\"\r\n        let-index=\"rowIndex\"\r\n      >\r\n        <tr [pReorderableRow]=\"index\">\r\n          <ng-container *ngFor=\"let col of columns; let i = index\">\r\n            <td *ngIf=\"col.field != 'status' && col.field != 'operation'\">\r\n              <div\r\n                *ngIf=\"!(i == 0 || i == 2 || i == 1)\"\r\n                style=\"display: inline-block\"\r\n              >\r\n                {{ rowData[col[\"field\"]] }}\r\n              </div>\r\n              <a\r\n                *ngIf=\"i == 0\"\r\n                style=\"text-decoration: underline !important\"\r\n                [ngStyle]=\"{\r\n                  color: isLinked(rowData[col['field']])\r\n                    ? '#f89406'\r\n                    : 'var(--primary-color)',\r\n                  fontSize: '11px',\r\n                  cursor: 'pointer'\r\n                }\"\r\n                [pTooltip]=\"'Active Transactions Exist.'\"\r\n                [tooltipDisabled]=\"!isLinked(rowData[col['field']])\"\r\n                tabindex=\"0\"\r\n                (keyup.Space)= \"viewDocDetails(rowData)\"\r\n                (click)=\"viewDocDetails(rowData)\"\r\n                >{{ rowData[col[\"field\"]] }}</a\r\n              >\r\n              <span\r\n                *ngIf=\"i == 1\"\r\n                [pTooltip]=\"\r\n                  rowData[col['field']].length > 30 ? rowData[col['field']] : ''\r\n                \"\r\n                tooltipPosition=\"bottom\"\r\n              >\r\n                {{\r\n                  rowData[col[\"field\"]].length > 30\r\n                    ? rowData[col[\"field\"]].substring(0, 30) + \"..\"\r\n                    : rowData[col[\"field\"]]\r\n                }}</span\r\n              >\r\n              <span\r\n                *ngIf=\"i == 2\"\r\n                [pTooltip]=\"\r\n                  rowData[col['field']].length > 80 ? rowData[col['field']] : ''\r\n                \"\r\n                tooltipPosition=\"bottom\"\r\n                (mouseenter)=\"rowData['isHovered'] = true\"\r\n                (mouseleave)=\"rowData['isHovered'] = false\"\r\n              >\r\n                {{\r\n                  rowData[col[\"field\"]].length > 80\r\n                    ? rowData[\"isHovered\"]\r\n                      ? rowData[col[\"field\"]].substring(0, 75) + \"..\"\r\n                      : rowData[col[\"field\"]].substring(0, 80) + \"..\"\r\n                    : rowData[col[\"field\"]]\r\n                }}<a\r\n                  style=\"cursor: pointer\"\r\n                  *ngIf=\"\r\n                    rowData['isHovered'] && rowData[col['field']].length > 80\r\n                  \"\r\n                  (click)=\"copyToClipboard(rowData[col['field']])\"\r\n                  >COPY</a\r\n                ></span\r\n              >\r\n            </td>\r\n\r\n            <td\r\n              *ngIf=\"col.field == 'status'\"\r\n              style=\"border: none; text-align: center\"\r\n            >\r\n              <label class=\"switch\" tabindex=\"0\"\r\n              (keyup.Space)= \"statusInp.click()\">\r\n                <input\r\n                  #statusInp\r\n                  [value]=\"rowData[col['field']]\"\r\n                  type=\"checkbox\"\r\n                  (click)=\"confirmStatus($event, rowData)\"\r\n                  [checked]=\"\r\n                    rowData[col['field']] == 'Active' ||\r\n                    rowData[col['field']] == 'A'\r\n                      ? true\r\n                      : false\r\n                  \"\r\n                />\r\n                <span class=\"slider round\"></span>\r\n              </label>\r\n            </td>\r\n            <td\r\n              *ngIf=\"col.field == 'operation'\"\r\n              style=\"border: none; text-align: center\"\r\n            >\r\n              <span class=\"image-text\">\r\n                <button\r\n                  pButton\r\n                  type=\"button\"\r\n                  icon=\"pi pi-clone\"\r\n                  class=\"operation-btns mr-2\"\r\n                  [disabled]=\"rowData['status'] == 'Inactive'\"\r\n                  (click)=\"cloneDoc(rowData)\"\r\n                ></button>\r\n              </span>\r\n            </td>\r\n          </ng-container>\r\n        </tr>\r\n      </ng-template>\r\n      <ng-template pTemplate=\"emptymessage\">\r\n        <tr>\r\n          <td [attr.colspan]=\"cols.length\">No Data found.</td>\r\n        </tr>\r\n      </ng-template>\r\n      <ng-template pTemplate=\"paginatorleft\" let-state>\r\n        {{ state.page * state.rows + 1 }} -\r\n        {{\r\n          state.rows * (state.page + 1) > state.totalRecords\r\n            ? state.totalRecords\r\n            : state.rows * (state.page + 1)\r\n        }}\r\n        of {{ state.totalRecords }}\r\n      </ng-template>\r\n    </p-table>\r\n  </div>\r\n</div>\r\n<div class=\"NorecordFound\" *ngIf=\"!docListingData?.length && showNoDataFound\">\r\n  <div class=\"row\">\r\n    <div class=\"col-12\"><img src=\"assets/noRecordFound.svg\" /></div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col-12\">\r\n      <p>No Record Found. Click Add Document Setting To Add Record</p>\r\n      <button\r\n        pButton\r\n        pRipple\r\n        type=\"button\"\r\n        label=\"Add Document Settings\"\r\n        class=\"p-button-raised\"\r\n        (click)=\"addNewDocPage()\"\r\n      ></button>\r\n    </div>\r\n  </div>\r\n</div>\r\n<p-confirmDialog\r\n  key=\"activeDeactiveStatus\"\r\n  class=\"status-confirm confirm-popup\"\r\n  #cd\r\n  [closable]=\"false\"\r\n>\r\n  <p-footer>\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-check\"\r\n      label=\"Yes\"\r\n      (click)=\"cd.accept()\"\r\n    ></button>\r\n\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-times\"\r\n      label=\"No\"\r\n      (click)=\"cd.reject()\"\r\n    ></button>\r\n  </p-footer>\r\n</p-confirmDialog>\r\n","import { HttpClient, HttpHeaders } from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { Observable } from \"rxjs\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class DocumentSettingsService {\r\n  constructor(private http: HttpClient) {}\r\n  applicationName: any = null;\r\n  moduleName: any = null;\r\n\r\n  private statusDataForEditForm: any = undefined;\r\n\r\n  setData(data: any) {\r\n    this.statusDataForEditForm = data;\r\n  }\r\n\r\n  getData(): any {\r\n    return this.statusDataForEditForm;\r\n  }\r\n  // COMMON SERVICES\r\n  getAppModuleList() {\r\n    return this.http.get(\r\n      `/appControl/applicationSettingsController/criteriaTypes`\r\n    );\r\n  }\r\n\r\n  getCriteriaMasterData(\r\n    userId: any,\r\n    formName: any,\r\n    appName: any,\r\n    moduleName: any\r\n  ) {\r\n    return this.http.get(\r\n      `/appControl/formRulesController/getCriteriaMasterData`,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"userId\", userId)\r\n          .set(\"form\", formName)\r\n          .set(\"applications\", String(appName))\r\n          .set(\"moduleName\", String(moduleName)),\r\n      }\r\n    );\r\n  }\r\n\r\n  getCorrespondentValuesData(\r\n    formName: any,\r\n    appName: any,\r\n    criteriaMap: any,\r\n    fieldName: any,\r\n    displayName: any,\r\n    moduleName: any\r\n  ) {\r\n    return this.http.get(`/appControl/formRulesController/getCriteriaData`, {\r\n      headers: new HttpHeaders()\r\n        .set(\"form\", formName)\r\n        .set(\"applications\", String(appName))\r\n        .set(\"criteriaMap\", criteriaMap)\r\n        .set(\"fieldName\", fieldName)\r\n        .set(\"displayName\", displayName)\r\n        .set(\"moduleName\", String(moduleName)),\r\n    });\r\n  }\r\n\r\n  currentCriteriaSaveAsTemplate(data: any): Observable<any> {\r\n    return this.http.post(\r\n      `appControl/formRulesController/saveFormRuleCriteria`,\r\n      data\r\n    );\r\n  }\r\n\r\n  getAllCriteriaTemplates(\r\n    id: string,\r\n    appName: any,\r\n    moduleName: any,\r\n    formName: any\r\n  ): Observable<any> {\r\n    return this.http.get(\r\n      `appControl/formRulesController/getExistingFormRuleList\r\n      `,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"userId\", id)\r\n          .set(\"applications\", String(appName))\r\n          .set(\"moduleName\", String(moduleName))\r\n          .set(\"form\", formName),\r\n      }\r\n    );\r\n  }\r\n\r\n  // COMMON SERVICES END\r\n\r\n  getDocumentListData(\r\n    id: string,\r\n    formName: any,\r\n    appName: any,\r\n    moduleName: any\r\n  ) {\r\n    return this.http.get(\r\n      `/appControl/documentSettingsController/getDocumentSettingsList`,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"userId\", id)\r\n          .set(\"applications\", String(appName))\r\n          .set(\"moduleName\", String(moduleName))\r\n          .set(\"form\", formName),\r\n      }\r\n    );\r\n  }\r\n\r\n  getAddDocumentCriteriaData(\r\n    userId: any,\r\n    formName: any,\r\n    appName: any,\r\n    moduleName: any\r\n  ) {\r\n    return this.http.get(\r\n      `/appControl/documentSettingsController/addDocSettings`,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"userId\", userId)\r\n          .set(\"applications\", String(appName))\r\n          .set(\"moduleName\", String(moduleName))\r\n          .set(\"form\", formName),\r\n      }\r\n    );\r\n  }\r\n\r\n  applyCriteriaSearch(data: any) {\r\n    return this.http.post(\r\n      `/appControl/documentSettingsController/applyCriteriaSearch`,\r\n      data\r\n    );\r\n  }\r\n\r\n  getDocumentForEdit(\r\n    docCode: any,\r\n    operation: any,\r\n    appName: any,\r\n    moduleName: any,\r\n    formName: any\r\n  ) {\r\n    return this.http.get(\r\n      `appControl/documentSettingsController/getDocumentSettingsForEdit`,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"documentSettingsCode\", docCode)\r\n          .set(\"operation\", operation)\r\n          .set(\"applications\", String(appName))\r\n          .set(\"moduleName\", String(moduleName))\r\n          .set(\"form\", formName),\r\n      }\r\n    );\r\n  }\r\n\r\n  updateDocumentStatus(data: any) {\r\n    return this.http.post(\r\n      `appControl/documentSettingsController/updateDocumentSettingsStatus`,\r\n      data\r\n    );\r\n  }\r\n\r\n  saveNewDocument(\r\n    userId: any,\r\n    data: any,\r\n    appName: any,\r\n    moduleName: any,\r\n    formName: any,\r\n    operation: any\r\n  ): Observable<any> {\r\n    return this.http.post(\r\n      `/appControl/documentSettingsController/saveDocumentSetting`,\r\n      data,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"userId\", userId)\r\n          .set(\"applications\", String(appName))\r\n          .set(\"moduleName\", String(moduleName))\r\n          .set(\"form\", formName)\r\n          .set(\"operation\", operation),\r\n      }\r\n    );\r\n  }\r\n\r\n  updateDocument(\r\n    userId: any,\r\n    data: any,\r\n    appName: any,\r\n    moduleName: any,\r\n    formName: any,\r\n    operation: any\r\n  ): Observable<any> {\r\n    return this.http.post(\r\n      `appControl/documentSettingsController/updateDocumentSetting`,\r\n      data,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"userId\", userId)\r\n          .set(\"applications\", String(appName))\r\n          .set(\"moduleName\", String(moduleName))\r\n          .set(\"form\", formName)\r\n          .set(\"operation\", operation),\r\n      }\r\n    );\r\n  }\r\n}\r\n","import { Component, OnInit, ViewChild } from \"@angular/core\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { ConfirmationService, MessageService, TreeNode } from \"primeng/api\";\r\nimport { DialogService } from \"primeng/dynamicdialog\";\r\nimport { CoreService } from \"src/app/core.service\";\r\nimport { SetCriteriaService } from \"src/app/shared/components/set-criteria/set-criteria.service\";\r\nimport { FormRuleService } from \"../form-rule.service\";\r\nimport { CriteriaDataService } from \"src/app/shared/services/criteria-data.service\";\r\nimport { SetCriteriaComponent } from \"src/app/shared/components/set-criteria/set-criteria.component\";\r\nimport { forkJoin } from \"rxjs\";\r\nimport { map, take } from \"rxjs/operators\";\r\nimport { TreeTable } from \"primeng/treetable\";\r\nimport {\r\n  UntypedFormBuilder,\r\n  UntypedFormControl,\r\n  Validators,\r\n} from \"@angular/forms\";\r\n\r\nimport _lodashClone from \"lodash-es/cloneDeep\";\r\n\r\n@Component({\r\n  selector: \"app-add-new-form-rule\",\r\n  templateUrl: \"./add-new-form-rule.component.html\",\r\n  styleUrls: [\"./add-new-form-rule.component.scss\"],\r\n  providers: [DialogService, MessageService],\r\n})\r\nexport class AddNewFormRuleComponent implements OnInit {\r\n  primaryColor = \"var(--primary-color)\";\r\n  @ViewChild(\"treeTable\") treeTable: TreeTable;\r\n\r\n  validLengthRegex: RegExp = /^[^<>*!]+$/;\r\n\r\n  userId = \"\";\r\n  ruleID = \"\";\r\n  mode = \"add\";\r\n  // formName = \"Form Rules\";\r\n\r\n  formRuleCode = \"No Data\";\r\n  ruleDescription = \"\";\r\n\r\n  statusData: any = [];\r\n  deactivated: boolean = false;\r\n\r\n  isFromRulesLinked: boolean = false;\r\n\r\n  appliedCriteriaDataOrg: any = [];\r\n  appliedCriteriaCriteriaMap: any = null;\r\n  appliedCriteriaIsDuplicate: any = null;\r\n\r\n  editFromRulesApiData: any = [];\r\n\r\n  criteriaMasterData: any = {};\r\n  criteriaDataDetailsJson: any = {};\r\n  cmCriteriaMandatory = [];\r\n  cmCriteriaDependency: any = {};\r\n  cmCriteriaDataDetails: any = [];\r\n  independantCriteriaArr: any = [];\r\n  cmCriteriaSlabType: any = { Slab: \"LCY Amount\", date: \"Transaction Date\" };\r\n  criteriaTemplatesDdlOptions: any = [];\r\n  criteriaMapDdlOptions = [];\r\n  criteriaEqualsDdlOptions = [];\r\n  correspondentDdlOptions = [];\r\n\r\n  criteriaText: any[] = [];\r\n  criteriaCodeText: any[] = [];\r\n\r\n  savingCriteriaTemplateError = null;\r\n\r\n  inactiveData: boolean = false;\r\n  isApplyCriteriaClicked: boolean = false;\r\n  4;\r\n\r\n  isLcyAmount: boolean = false;\r\n  isLcySlab: boolean = false;\r\n\r\n  formRulesData: any = [];\r\n\r\n  applyCriteriaFormattedData: any[] = [];\r\n\r\n  applyCriteriaDataTableColumns: any[] = [];\r\n\r\n  ttLoading = false;\r\n\r\n  cols: any[] = [\r\n    {\r\n      field: \"fieldId\",\r\n      header: \"Field Name\",\r\n      type: \"string\",\r\n      width: \"225px\",\r\n      info: null,\r\n    },\r\n    {\r\n      field: \"fieldDisplayName\",\r\n      header: \"Field Label\",\r\n      type: \"input\",\r\n      width: \"150px\",\r\n      info: null,\r\n    },\r\n    {\r\n      field: \"isMandatory\",\r\n      header: \"Is Mandatory\",\r\n      type: \"checkbox\",\r\n      width: \"80px\",\r\n      info: null,\r\n    },\r\n    {\r\n      field: \"isEnable\",\r\n      header: \"Is Enable\",\r\n      type: \"checkbox\",\r\n      width: \"80px\",\r\n      info: null,\r\n    },\r\n    {\r\n      field: \"isVisible\",\r\n      header: \"Is Visible\",\r\n      type: \"checkbox\",\r\n      width: \"80px\",\r\n      info: null,\r\n    },\r\n    {\r\n      field: \"checkDuplicate\",\r\n      header: \"Check Duplicate\",\r\n      type: \"checkbox\",\r\n      width: \"80px\",\r\n      info: null,\r\n    },\r\n    {\r\n      field: \"displayInNewLine\",\r\n      header: \"Show in newline\",\r\n      type: \"checkbox\",\r\n      width: \"80px\",\r\n      info: null,\r\n    },\r\n    {\r\n      field: \"regex\",\r\n      header: \"Regex\",\r\n      type: \"input\",\r\n      width: \"120px\",\r\n      info: null,\r\n    },\r\n\r\n    {\r\n      field: \"regexMessage\",\r\n      header: \"Regex Message\",\r\n      type: \"input\",\r\n      width: \"120px\",\r\n      info: null,\r\n    },\r\n    {\r\n      field: \"prefix\",\r\n      header: \"Prefix\",\r\n      type: \"input\",\r\n      width: \"80px\",\r\n      info: null,\r\n    },\r\n    {\r\n      field: \"suffix\",\r\n      header: \"Suffix\",\r\n      type: \"input\",\r\n      width: \"80px\",\r\n      info: null,\r\n    },\r\n    // {\r\n    //   field: \"validLength\",\r\n    //   header: \"Min/Max Length\",\r\n    //   type: \"input\",\r\n    //   width: \"80px\",\r\n    //   info: null\r\n    // },\r\n    {\r\n      field: \"minLength\",\r\n      header: \"Min Length\",\r\n      type: \"input\",\r\n      width: \"60px\",\r\n      info: null,\r\n    },\r\n    {\r\n      field: \"maxLength\",\r\n      header: \"Max Length\",\r\n      type: \"input\",\r\n      width: \"60px\",\r\n      info: null,\r\n    },\r\n    {\r\n      field: \"defaultValue\",\r\n      header: \"Default Value\",\r\n      type: \"input\",\r\n      width: \"210px\",\r\n      info: null,\r\n    },\r\n    {\r\n      field: \"setOptions\",\r\n      header: \"Set Options\",\r\n      type: \"dropdownMulti\",\r\n      width: \"210px\",\r\n      info: null,\r\n    },\r\n    {\r\n      field: \"validValues\",\r\n      header: \"Valid Values\",\r\n      type: \"chips\",\r\n      width: \"200px\",\r\n      info: \"Multiple values are allowed, seprate them using , comma.\",\r\n    },\r\n    {\r\n      field: \"displayValidValuesOnHover\",\r\n      header: \"Show Valid Values\",\r\n      type: \"checkbox\",\r\n      width: \"100px\",\r\n      info: \"Tick this, if user is allowed to see valid values on hover.\",\r\n    },\r\n    {\r\n      field: \"warning\",\r\n      header: \"Warning\",\r\n      type: \"checkbox\",\r\n      width: \"100px\",\r\n      info: null,\r\n    },\r\n    {\r\n      field: \"warningMessageCode\",\r\n      header: \"Warning Code\",\r\n      type: \"dropdownSingle\",\r\n      width: \"210px\",\r\n      info: null,\r\n    },\r\n    {\r\n      field: \"block\",\r\n      header: \"Block\",\r\n      type: \"checkbox\",\r\n      width: \"100px\",\r\n      info: null,\r\n    },\r\n    {\r\n      field: \"blockMessageCode\",\r\n      header: \"Block Code\",\r\n      type: \"dropdownSingle\",\r\n      width: \"210px\",\r\n      info: null,\r\n    },\r\n    {\r\n      field: \"masking\",\r\n      header: \"Masking\",\r\n      type: \"input\",\r\n      width: \"100px\",\r\n      info: null,\r\n    },\r\n  ];\r\n\r\n  defCols = this.cols.map((col) => col.field);\r\n\r\n  defValueInpTooltip = \"\";\r\n  minMaxInpTooltip = \"\";\r\n\r\n  applyCriteriaResponse: any = {};\r\n\r\n  selectedNodes: TreeNode[] = [];\r\n  maxlengthDefaultValue = 0;\r\n\r\n  appliedCriteriaDataCols = [];\r\n  appliedCriteriaData: any = [];\r\n\r\n  appliedCriteriaDatajson: any = {};\r\n\r\n  selectAppModule: any;\r\n  searchApplicationOptions: any[] = [];\r\n  searchModuleOptions: any[] = [];\r\n  searchFormOptions: any[] = [];\r\n\r\n  appModuleDataPresent: boolean = false;\r\n  showContent: boolean = false;\r\n\r\n  customMsgMaster = {\r\n    block: [\r\n      {\r\n        code: \"ERR-001\",\r\n        codeName: \"ERR-001\",\r\n      },\r\n      {\r\n        code: \"ERR-002\",\r\n        codeName: \"ERR-002\",\r\n      },\r\n    ],\r\n    warning: [\r\n      {\r\n        code: \"WARN-001\",\r\n        codeName: \"WARN-001\",\r\n      },\r\n      {\r\n        code: \"WARN-002\",\r\n        codeName: \"WARN-002\",\r\n      },\r\n    ],\r\n  };\r\n\r\n  formFieldsMaster = {};\r\n\r\n  fieldDisplayData = {};\r\n\r\n  setCriteriaName = \"forms\";\r\n\r\n  constructor(\r\n    private activatedRoute: ActivatedRoute,\r\n    public dialogService: DialogService,\r\n    public messageService: MessageService,\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private coreService: CoreService,\r\n    private confirmationService: ConfirmationService,\r\n    private setCriteriaService: SetCriteriaService,\r\n    private formRuleService: FormRuleService,\r\n    private criteriaDataService: CriteriaDataService,\r\n    private fb: UntypedFormBuilder\r\n  ) {}\r\n\r\n  @ViewChild(SetCriteriaComponent)\r\n  setCriteriaSharedComponent!: SetCriteriaComponent;\r\n\r\n  ngOnInit(): void {\r\n    this.coreService.displayLoadingScreen();\r\n    this.mode = \"add\";\r\n    this.route.data.subscribe((data) => {\r\n      this.coreService.setBreadCrumbMenu(Object.values(data));\r\n    });\r\n    this.setSelectAppModule();\r\n    this.userId = JSON.parse(localStorage.getItem(\"userData\"))[\"userId\"];\r\n    const params = this.activatedRoute.snapshot.params;\r\n    if (params && params.id) {\r\n      this.mode = this.activatedRoute.snapshot.routeConfig.path.substring(\r\n        this.activatedRoute.snapshot.routeConfig.path.lastIndexOf(\"/\") + 1\r\n      );\r\n      this.ruleID = params.id;\r\n    }\r\n\r\n    // !\r\n\r\n    this.searchApplicationOptions = JSON.parse(\r\n      localStorage.getItem(\"appAccess\")\r\n    );\r\n    this.searchModuleOptions = JSON.parse(localStorage.getItem(\"modAccess\"));\r\n\r\n    let defAppMod = JSON.parse(localStorage.getItem(\"defAppModule\"));\r\n    let currAppMod = JSON.parse(sessionStorage.getItem(\"form\"));\r\n\r\n    let defApp = null;\r\n    let defMod = null;\r\n\r\n    if (currAppMod) {\r\n      console.log(currAppMod);\r\n      defApp = this.searchApplicationOptions.filter(\r\n        (opt) => opt.code == currAppMod.applicationName.code\r\n      )[0];\r\n      defMod = this.searchModuleOptions.filter(\r\n        (opt) => opt.code == currAppMod.moduleName.code\r\n      )[0];\r\n    } else {\r\n      if (defAppMod) {\r\n        defApp = JSON.parse(localStorage.getItem(\"applicationName\"));\r\n        defMod = JSON.parse(localStorage.getItem(\"moduleName\"));\r\n      }\r\n    }\r\n\r\n    if (defApp) {\r\n      this.appCtrl.patchValue(defApp);\r\n    }\r\n    if (defMod) {\r\n      this.moduleCtrl.patchValue(defMod);\r\n    }\r\n\r\n    this.formRuleService.getFormRulesAppModuleList().subscribe(\r\n      (res) => {\r\n        if (\r\n          res[\"status\"] &&\r\n          typeof res[\"status\"] == \"string\" &&\r\n          (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n        ) {\r\n          this.coreService.removeLoadingScreen();\r\n          if (res[\"error\"]) {\r\n            this.coreService.showWarningToast(res[\"error\"]);\r\n          } else {\r\n            this.coreService.showWarningToast(\"Some error in fetching data\");\r\n          }\r\n        } else {\r\n          if (!res[\"msg\"]) {\r\n            this.searchFormOptions = res[\"data\"][\"cmCriteriaFormsMaster\"]\r\n              .filter((form) => {\r\n                return form.criteriaForms.includes(\"_Form Rules\");\r\n              })\r\n              .map((form) => {\r\n                return { name: form.criteriaForms, code: form.criteriaForms };\r\n              });\r\n\r\n            let defForm = null;\r\n\r\n            if (currAppMod) {\r\n              defForm = this.searchFormOptions.filter(\r\n                (opt) => opt.code == currAppMod.formName.code\r\n              )[0];\r\n            }\r\n\r\n            if (defForm) {\r\n              this.formCtrl.patchValue(defForm);\r\n            }\r\n\r\n            if (this.mode != \"add\") {\r\n              if (\r\n                this.appCtrl.value &&\r\n                this.moduleCtrl.value &&\r\n                this.formCtrl.value\r\n              ) {\r\n                this.appCtrl.disable();\r\n                this.moduleCtrl.disable();\r\n                this.formCtrl.disable();\r\n                this.searchAppModule();\r\n                this.appModuleDataPresent = true;\r\n              } else {\r\n                this.router.navigate([`navbar/form-rules`]);\r\n              }\r\n            } else {\r\n              this.moduleCtrl.enable();\r\n              this.formCtrl.enable();\r\n              if (\r\n                this.appCtrl.value &&\r\n                this.moduleCtrl.value &&\r\n                this.formCtrl.value\r\n              ) {\r\n                this.searchAppModule();\r\n              } else {\r\n                this.coreService.removeLoadingScreen();\r\n              }\r\n            }\r\n          } else {\r\n            this.coreService.removeLoadingScreen();\r\n          }\r\n        }\r\n      },\r\n      (err) => {\r\n        this.coreService.removeLoadingScreen();\r\n        this.coreService.showWarningToast(\"Some error in fetching data\");\r\n      }\r\n    );\r\n    this.statusData = this.formRuleService.getData();\r\n    console.log(\"status\", this.statusData);\r\n    if (this.statusData && this.statusData[\"status\"] == \"Inactive\") {\r\n      this.deactivated = true;\r\n    }\r\n  }\r\n\r\n  check(key: any) {\r\n    console.log(key);\r\n    console.log(this.applyCriteriaFormattedData);\r\n  }\r\n\r\n  setSelectAppModule() {\r\n    this.selectAppModule = this.fb.group({\r\n      applications: new UntypedFormControl({ value: \"\", disabled: false }, [\r\n        Validators.required,\r\n      ]),\r\n      modules: new UntypedFormControl({ value: \"\", disabled: true }, [\r\n        Validators.required,\r\n      ]),\r\n      forms: new UntypedFormControl({ value: \"\", disabled: true }, [\r\n        Validators.required,\r\n      ]),\r\n    });\r\n  }\r\n\r\n  get appCtrl() {\r\n    return this.selectAppModule.get(\"applications\");\r\n  }\r\n  get moduleCtrl() {\r\n    return this.selectAppModule.get(\"modules\");\r\n  }\r\n  get formCtrl() {\r\n    return this.selectAppModule.get(\"forms\");\r\n  }\r\n\r\n  onAppValueChange() {\r\n    this.showContent = false;\r\n    this.appModuleDataPresent = false;\r\n    this.moduleCtrl.reset();\r\n    this.formCtrl.reset();\r\n    this.moduleCtrl.enable();\r\n  }\r\n  onModValueChange() {\r\n    this.showContent = false;\r\n    this.appModuleDataPresent = false;\r\n    this.formCtrl.reset();\r\n    this.formCtrl.enable();\r\n  }\r\n\r\n  searchAppModule() {\r\n    this.applyCriteriaFormattedData = [];\r\n    this.criteriaText = [];\r\n    this.criteriaCodeText = [];\r\n    this.appModuleDataPresent = true;\r\n    this.showContent = false;\r\n    this.getCriteriaMasterData();\r\n    // this.getFormFieldsMasterData();\r\n    this.getCustomerMasterDataFromAppControlAndRemittance();\r\n    this.getAllTemplates();\r\n  }\r\n\r\n  getVirtualOptions(apiKey: any) {\r\n    return [{ code: \"1\", name: \"One\" }];\r\n  }\r\n\r\n  getFieldTypeName(fieldType: any) {\r\n    if (fieldType == \"dropdownSingle\" || fieldType == \"dropdownMulti\") {\r\n      return \"Dropdown\";\r\n    } else {\r\n      return fieldType;\r\n    }\r\n  }\r\n\r\n  getFormRulesForEditApi(formRuleCode: any, operation: any) {\r\n    let simpleData = false;\r\n    this.appliedCriteriaData = [];\r\n    this.appliedCriteriaDataCols = [];\r\n    this.formRuleService\r\n      .getFormRuleForEdit(\r\n        formRuleCode,\r\n        operation,\r\n        this.formRuleService.applicationName,\r\n        this.formRuleService.moduleName,\r\n        this.formRuleService.formName\r\n      )\r\n      .subscribe(\r\n        (res) => {\r\n          if (\r\n            res[\"status\"] &&\r\n            typeof res[\"status\"] == \"string\" &&\r\n            (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n          ) {\r\n            this.coreService.removeLoadingScreen();\r\n            this.showContent = false;\r\n            if (res[\"error\"]) {\r\n              this.coreService.showWarningToast(res[\"error\"]);\r\n            } else {\r\n              this.coreService.showWarningToast(\"Some error in fetching data\");\r\n            }\r\n          } else {\r\n            if (!res[\"msg\"]) {\r\n              this.coreService.removeLoadingScreen();\r\n              this.appModuleDataPresent = true;\r\n              this.editFromRulesApiData = JSON.parse(this.stringify(res));\r\n\r\n              this.appliedCriteriaCriteriaMap = res[\"criteriaMap\"];\r\n\r\n              this.formRuleCode = this.editFromRulesApiData[\"formRuleCode\"];\r\n              if (this.editFromRulesApiData[\"formRuleDesc\"]) {\r\n                this.ruleDescription =\r\n                  this.editFromRulesApiData[\"formRuleDesc\"];\r\n              }\r\n              this.isFromRulesLinked =\r\n                !this.editFromRulesApiData[\"criteriaUpdate\"];\r\n\r\n              let reqData =\r\n                this.criteriaDataService.decodeCriteriaMapIntoTableFields(\r\n                  this.editFromRulesApiData\r\n                );\r\n\r\n              this.criteriaCodeText = this.setCriteriaService.setCriteriaMap(\r\n                this.editFromRulesApiData\r\n              );\r\n\r\n              this.criteriaText =\r\n                this.setCriteriaService.decodeFormattedCriteria(\r\n                  reqData.critMap,\r\n                  this.criteriaMasterData,\r\n                  this.fieldDisplayData\r\n                );\r\n              console.log(\"criteriaText\", this.criteriaText);\r\n              this.applyCriteriaDataTableColumns = [];\r\n              this.applyCriteriaFormattedData = [];\r\n\r\n              let lcyOprFields = [];\r\n              let isLcyOprFieldPresent = false;\r\n              let lcyOprFieldInserted = false;\r\n              let lcySlabFieldInserted = false;\r\n\r\n              this.applyCriteriaDataTableColumns = [...this.cols];\r\n\r\n              console.log(this.applyCriteriaDataTableColumns);\r\n\r\n              let completeData = [];\r\n              let amtSlabPresent = false;\r\n              let dateSlabPresent = false;\r\n\r\n              if (res[\"criteriaMap\"].indexOf(\"from:\") >= 0) {\r\n                amtSlabPresent = true;\r\n              }\r\n\r\n              if (res[\"criteriaMap\"].indexOf(\"trnStartDate=\") >= 0) {\r\n                dateSlabPresent = true;\r\n              }\r\n\r\n              if (amtSlabPresent && dateSlabPresent) {\r\n                res[\"data\"][\"dataOperation\"].forEach((data) => {\r\n                  Object.values(data).forEach((subData) => {\r\n                    (subData as any[]).forEach((d) => {\r\n                      d[\"data\"][\"key\"] = d[\"data\"][\"criteriaMapSplit\"]\r\n                        .split(\"&&&&\")\r\n                        .slice(1)\r\n                        .join(\"&&&&\");\r\n                    });\r\n                  });\r\n                });\r\n                this.applyCriteriaDataTableColumns.splice(-8, 0, {\r\n                  field: \"dateFrom\",\r\n                  header: \"Date From\",\r\n                  type: \"text\",\r\n                });\r\n                this.applyCriteriaDataTableColumns.splice(-8, 0, {\r\n                  field: \"dateTo\",\r\n                  header: \"Date To\",\r\n                  type: \"text\",\r\n                });\r\n                this.applyCriteriaDataTableColumns.splice(-8, 0, {\r\n                  field: \"lcyAmountFrom\",\r\n                  header: \"Amount From\",\r\n                  type: \"text\",\r\n                });\r\n                this.applyCriteriaDataTableColumns.splice(-8, 0, {\r\n                  field: \"lcyAmountTo\",\r\n                  header: \"Amount To\",\r\n                  type: \"text\",\r\n                });\r\n              } else {\r\n                if (amtSlabPresent) {\r\n                  res[\"data\"][\"dataOperation\"].forEach((data) => {\r\n                    Object.values(data).forEach((subData) => {\r\n                      (subData as any[]).forEach((d) => {\r\n                        d[\"data\"][\"key\"] =\r\n                          d[\"data\"][\"criteriaMapSplit\"].split(\"&&&&\")[1];\r\n                      });\r\n                    });\r\n                  });\r\n                  this.applyCriteriaDataTableColumns.splice(-8, 0, {\r\n                    field: \"lcyAmountFrom\",\r\n                    header: \"Amount From\",\r\n                    type: \"text\",\r\n                  });\r\n                  this.applyCriteriaDataTableColumns.splice(-8, 0, {\r\n                    field: \"lcyAmountTo\",\r\n                    header: \"Amount To\",\r\n                    type: \"text\",\r\n                  });\r\n                } else if (dateSlabPresent) {\r\n                  res[\"data\"][\"dataOperation\"].forEach((data) => {\r\n                    Object.values(data).forEach((subData) => {\r\n                      (subData as any[]).forEach((d) => {\r\n                        d[\"data\"][\"key\"] =\r\n                          d[\"data\"][\"criteriaMapSplit\"].split(\"&&&&\")[1];\r\n                      });\r\n                    });\r\n                  });\r\n                  this.applyCriteriaDataTableColumns.splice(-8, 0, {\r\n                    field: \"dateFrom\",\r\n                    header: \"Date From\",\r\n                    type: \"text\",\r\n                  });\r\n                  this.applyCriteriaDataTableColumns.splice(-8, 0, {\r\n                    field: \"dateTo\",\r\n                    header: \"Date To\",\r\n                    type: \"text\",\r\n                  });\r\n                } else if (!amtSlabPresent && !dateSlabPresent) {\r\n                  Object.keys(res[\"labelData\"][\"label\"]).forEach((k, i) => {\r\n                    let formattedRowData = {\r\n                      data: {\r\n                        fieldId: res[\"labelData\"][\"label\"][k],\r\n                        key: i,\r\n                      },\r\n                      expanded: true,\r\n                      leaf: false,\r\n                      children: [],\r\n                    };\r\n\r\n                    let formattedChilds =\r\n                      res[\"data\"][\"dataOperation\"][0][\r\n                        res[\"labelData\"][\"label\"][k]\r\n                      ];\r\n\r\n                    formattedChilds.forEach((child) => {\r\n                      child[\"leaf\"] = true;\r\n                      if (child[\"data\"][\"ruleSelected\"] == \"Yes\") {\r\n                        child[\"partialSelected\"] = false;\r\n                        this.selectedNodes.push(child);\r\n                      }\r\n                    });\r\n\r\n                    formattedRowData[\"children\"] = formattedChilds;\r\n                    completeData.push(formattedRowData);\r\n                  });\r\n                }\r\n              }\r\n\r\n              this.applyCriteriaDataTableColumns.forEach((col) => {\r\n                res[\"data\"][\"dataOperation\"].forEach((data) => {\r\n                  Object.values(data).forEach((subData) => {\r\n                    (subData as any[]).forEach((d) => {\r\n                      if (\r\n                        col[\"field\"] == \"setOptions\" ||\r\n                        col[\"field\"] == \"defaultValue\" ||\r\n                        col[\"field\"] == \"validValues\" ||\r\n                        col[\"field\"] == \"blockMessageCode\" ||\r\n                        col[\"field\"] == \"warningMessageCode\"\r\n                      ) {\r\n                        if (d[\"data\"][col[\"field\"]]) {\r\n                          d[\"data\"][col[\"field\"]] = JSON.parse(\r\n                            d[\"data\"][col[\"field\"]]\r\n                          );\r\n                        }\r\n                      }\r\n                      if (\r\n                        d[\"data\"][col[\"field\"]] == \"Yes\" ||\r\n                        d[\"data\"][col[\"field\"]] == \"True\"\r\n                      ) {\r\n                        d[\"data\"][col[\"field\"]] = true;\r\n                      }\r\n                      if (\r\n                        d[\"data\"][col[\"field\"]] == \"No\" ||\r\n                        d[\"data\"][col[\"field\"]] == \"False\"\r\n                      ) {\r\n                        d[\"data\"][col[\"field\"]] = false;\r\n                      }\r\n                      if (d[\"data\"][col[\"field\"]] == \"null\") {\r\n                        d[\"data\"][col[\"field\"]] = \"\";\r\n                      }\r\n                      if (col[\"value\"]) {\r\n                        d[\"data\"][col[\"field\"]] = col[\"value\"];\r\n                      }\r\n                    });\r\n                  });\r\n                });\r\n              });\r\n\r\n              if (amtSlabPresent || dateSlabPresent) {\r\n                if (amtSlabPresent && dateSlabPresent) {\r\n                  reqData.dateSlabArr.forEach((slabD, di) => {\r\n                    reqData.lcySlabArr.forEach((slabA, ai) => {\r\n                      Object.keys(res[\"labelData\"][\"label\"]).forEach((k) => {\r\n                        let formattedRowData = {\r\n                          data: {\r\n                            fieldId: res[\"labelData\"][\"label\"][k],\r\n                            key: ai,\r\n                          },\r\n                          expanded: true,\r\n                          leaf: false,\r\n                          children: [],\r\n                        };\r\n                        let formattedChilds = res[\"data\"][\"dataOperation\"][0][\r\n                          res[\"labelData\"][\"label\"][k]\r\n                        ].filter((child) => {\r\n                          return (\r\n                            child[\"data\"][\"key\"] ==\r\n                            `from:${slabA[\"from\"]}::to:${slabA[\"to\"]}&&&&trnStartDate=${slabD[\"trnStartDate\"]}::trnEndDate=${slabD[\"trnEndDate\"]}`\r\n                          );\r\n                        });\r\n                        formattedChilds.forEach((child) => {\r\n                          child[\"data\"][\"dateFrom\"] = slabD[\"trnStartDate\"];\r\n                          child[\"data\"][\"dateTo\"] = slabD[\"trnEndDate\"];\r\n                          child[\"data\"][\"lcyAmountFrom\"] = slabA[\"from\"];\r\n                          child[\"data\"][\"lcyAmountTo\"] = slabA[\"to\"];\r\n                          child[\"leaf\"] = true;\r\n                          if (child[\"data\"][\"ruleSelected\"] == \"Yes\") {\r\n                            child[\"partialSelected\"] = false;\r\n                            this.selectedNodes.push(child);\r\n                          }\r\n                        });\r\n\r\n                        console.log(formattedChilds);\r\n                        formattedRowData[\"children\"] = formattedChilds;\r\n                        completeData.push(formattedRowData);\r\n                      });\r\n                    });\r\n                  });\r\n                } else {\r\n                  if (amtSlabPresent) {\r\n                    reqData.lcySlabArr.forEach((slab, i) => {\r\n                      Object.keys(res[\"labelData\"][\"label\"]).forEach((k) => {\r\n                        let formattedRowData = {\r\n                          data: {\r\n                            fieldId: res[\"labelData\"][\"label\"][k],\r\n                            key: i,\r\n                          },\r\n                          expanded: true,\r\n                          leaf: false,\r\n                          children: [],\r\n                        };\r\n                        let formattedChilds = res[\"data\"][\"dataOperation\"][0][\r\n                          res[\"labelData\"][\"label\"][k]\r\n                        ].filter(\r\n                          (child) =>\r\n                            child[\"data\"][\"key\"] ==\r\n                            `from:${slab[\"from\"]}::to:${slab[\"to\"]}`\r\n                        );\r\n                        formattedChilds.forEach((child) => {\r\n                          child[\"data\"][\"lcyAmountFrom\"] = slab[\"from\"];\r\n                          child[\"data\"][\"lcyAmountTo\"] = slab[\"to\"];\r\n                          child[\"leaf\"] = true;\r\n                          if (child[\"data\"][\"ruleSelected\"] == \"Yes\") {\r\n                            child[\"partialSelected\"] = false;\r\n                            this.selectedNodes.push(child);\r\n                          }\r\n                        });\r\n\r\n                        formattedRowData[\"children\"] = formattedChilds;\r\n                        completeData.push(formattedRowData);\r\n                      });\r\n                    });\r\n                  } else if (dateSlabPresent) {\r\n                    reqData.dateSlabArr.forEach((slab, i) => {\r\n                      Object.keys(res[\"labelData\"][\"label\"]).forEach((k) => {\r\n                        let formattedRowData = {\r\n                          data: {\r\n                            fieldId: res[\"labelData\"][\"label\"][k],\r\n                            key: i,\r\n                          },\r\n                          expanded: true,\r\n                          leaf: false,\r\n                          children: [],\r\n                        };\r\n                        let formattedChilds = res[\"data\"][\"dataOperation\"][0][\r\n                          res[\"labelData\"][\"label\"][k]\r\n                        ].filter(\r\n                          (child) =>\r\n                            child[\"data\"][\"key\"] ==\r\n                            `trnStartDate=${slab[\"trnStartDate\"]}::trnEndDate=${slab[\"trnEndDate\"]}`\r\n                        );\r\n                        formattedChilds.forEach((child) => {\r\n                          child[\"data\"][\"dateFrom\"] = slab[\"trnStartDate\"];\r\n                          child[\"data\"][\"dateTo\"] = slab[\"trnEndDate\"];\r\n                          child[\"leaf\"] = true;\r\n                          if (child[\"data\"][\"ruleSelected\"] == \"Yes\") {\r\n                            child[\"partialSelected\"] = false;\r\n                            this.selectedNodes.push(child);\r\n                          }\r\n                        });\r\n\r\n                        formattedRowData[\"children\"] = formattedChilds;\r\n                        completeData.push(formattedRowData);\r\n                      });\r\n                    });\r\n                  }\r\n                }\r\n              } else {\r\n              }\r\n\r\n              console.log(\"::\", completeData);\r\n              console.log(\"::\", this.applyCriteriaDataTableColumns);\r\n\r\n              this.applyCriteriaFormattedData = [...completeData];\r\n              this.showContent = true;\r\n            } else {\r\n              this.coreService.showWarningToast(res[\"msg\"]);\r\n              this.showContent = false;\r\n              if (res[\"msg\"].includes(\"No active\")) {\r\n                this.inactiveData = true;\r\n                this.setCriteriaSharedComponent.criteriaCtrl.disable();\r\n              }\r\n              this.appliedCriteriaData = [];\r\n              this.appliedCriteriaDataCols = [];\r\n            }\r\n          }\r\n        },\r\n        (err) => {\r\n          this.showContent = false;\r\n          this.coreService.removeLoadingScreen();\r\n          console.log(\"Error in getTaxSettingForEditApi\", err);\r\n        }\r\n      );\r\n  }\r\n\r\n  onActive(data: any) {\r\n    this.confirmFormEditStatus();\r\n  }\r\n  confirmFormEditStatus() {\r\n    let type = \"\";\r\n    let reqStatus = \"\";\r\n    if (this.deactivated == true) {\r\n      reqStatus = \"Active\";\r\n      type = \"activate\";\r\n    } else {\r\n      reqStatus = \"Inactive\";\r\n      type = \"deactivate\";\r\n    }\r\n    this.coreService.setSidebarBtnFixedStyle(false);\r\n    this.coreService.setHeaderStickyStyle(false);\r\n    let completeMsg = \"\";\r\n    completeMsg =\r\n      `<img src=\"../../../assets/warning.svg\"><br/><br/>` +\r\n      `Do you wish to ` +\r\n      type +\r\n      ` the Form Rule Record: ${this.formRuleCode}?`;\r\n\r\n    this.confirmationService.confirm({\r\n      message: completeMsg,\r\n      key: \"activeDeactiveStatusForm\",\r\n      accept: () => {\r\n        this.updateStatus(reqStatus);\r\n        this.setHeaderSidebarBtn();\r\n      },\r\n      reject: () => {\r\n        this.confirmationService.close;\r\n        this.setHeaderSidebarBtn();\r\n      },\r\n    });\r\n  }\r\n  updateStatus(reqStatus: any) {\r\n    this.coreService.displayLoadingScreen();\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"userId\", this.userId);\r\n    formData.append(\"formRuleCode\", this.formRuleCode);\r\n    formData.append(\"status\", reqStatus);\r\n    formData.append(\"applications\", this.appCtrl.value.code);\r\n    formData.append(\"moduleName\", this.moduleCtrl.value.code);\r\n    formData.append(\"form\", this.formCtrl.value.code);\r\n    this.updateFormStatus(formData);\r\n  }\r\n\r\n  updateFormStatus(formData: any) {\r\n    this.formRuleService.updateFormRuleStatus(formData).subscribe(\r\n      (res) => {\r\n        if (\r\n          res[\"status\"] &&\r\n          typeof res[\"status\"] == \"string\" &&\r\n          (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n        ) {\r\n          if (res[\"error\"]) {\r\n            this.coreService.showWarningToast(res[\"error\"]);\r\n          } else {\r\n            this.coreService.showWarningToast(\"Some error in fetching data\");\r\n          }\r\n        } else {\r\n          let message = \"\";\r\n          if (res[\"error\"] == \"true\") {\r\n            this.coreService.removeLoadingScreen();\r\n            this.coreService.showWarningToast(message);\r\n          } else {\r\n            if (res[\"msg\"]) {\r\n              message = res[\"msg\"];\r\n              this.deactivated = !this.deactivated;\r\n              this.coreService.showSuccessToast(message);\r\n            } else {\r\n              this.coreService.removeLoadingScreen();\r\n              message = \"Error in fetching data, Please try again later\";\r\n              this.coreService.showWarningToast(message);\r\n            }\r\n          }\r\n        }\r\n      },\r\n      (err) => {\r\n        console.log(\"Error in updateFormRuleStatus\", err);\r\n        this.coreService.removeLoadingScreen();\r\n      }\r\n    );\r\n  }\r\n\r\n  onNodeSelect(event) {\r\n    if (event.node) {\r\n      event[\"node\"][\"partialSelected\"] = false;\r\n    }\r\n  }\r\n  onNodeUnSelect(event) {\r\n    delete event[\"node\"][\"partialSelected\"];\r\n    if (event[\"node\"][\"children\"] && event[\"node\"][\"children\"].length > 0) {\r\n      event[\"node\"][\"children\"].forEach((child) => {\r\n        if (child.hasOwnProperty(\"partialSelected\")) {\r\n          delete child[\"partialSelected\"];\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  getCustomerMasterDataFromAppControlAndRemittance() {\r\n    this.formFieldsMaster = {};\r\n    this.formRuleService\r\n      .getCustomerMasterDataFromAppControlAndRemittance()\r\n      .subscribe(\r\n        (responses: any[]) => {\r\n          // Handle successful responses\r\n          console.log(\"Response from API 1:\", responses[0]);\r\n          console.log(\"Response from API 2:\", responses[1]);\r\n          this.formFieldsMaster = {\r\n            ...responses[0][\"data\"],\r\n            ...responses[1][\"data\"],\r\n          };\r\n          // salaryDateMaster\r\n          for (let i = 1; i <= 30; i++) {\r\n            this.formFieldsMaster[\"salaryDateEmpDetails\"].push({\r\n              code: `${i}`,\r\n              codeName: `${i}`,\r\n            });\r\n          }\r\n          console.log(this.formFieldsMaster);\r\n        },\r\n        (error) => {\r\n          console.error(\"Error:\", error);\r\n        }\r\n      );\r\n  }\r\n\r\n  // getFormFieldsMasterData() {\r\n  //   this.formRuleService\r\n  //     .formFieldsMasterData(this.formCtrl.value.code)\r\n  //     .subscribe(\r\n  //       (res) => {\r\n  //         if (\r\n  //           res[\"status\"] &&\r\n  //           typeof res[\"status\"] == \"string\" &&\r\n  //           (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n  //         ) {\r\n  //           if (res[\"error\"]) {\r\n  //             this.coreService.showWarningToast(res[\"error\"]);\r\n  //           } else {\r\n  //             this.coreService.showWarningToast(\"Some error in fetching Data\");\r\n  //           }\r\n  //           this.formFieldsMaster = [];\r\n  //         } else {\r\n  //           console.log(\":::mastee\", res);\r\n  //           this.formFieldsMaster = res[\"data\"];\r\n  //         }\r\n  //       },\r\n  //       (err) => {\r\n  //         console.log(\"Error in getFormFieldsMasterData\", err);\r\n  //         this.formFieldsMaster = [];\r\n  //       }\r\n  //     );\r\n  // }\r\n\r\n  getCriteriaMasterData() {\r\n    this.coreService.displayLoadingScreen();\r\n    forkJoin({\r\n      criteriaMasterData: this.formRuleService.getCriteriaMasterData(\r\n        this.userId,\r\n        this.formCtrl.value.code,\r\n        this.appCtrl.value.code,\r\n        this.moduleCtrl.value.code\r\n      ),\r\n      addFormRuleCriteriaData: this.formRuleService.getAddFormRuleCriteriaData(\r\n        this.userId,\r\n        this.formCtrl.value.code,\r\n        this.appCtrl.value.code,\r\n        this.moduleCtrl.value.code\r\n      ),\r\n    })\r\n      .pipe(\r\n        take(1),\r\n        map((response) => {\r\n          if (\r\n            response.addFormRuleCriteriaData[\"data\"] &&\r\n            Object.keys(response.addFormRuleCriteriaData[\"data\"]).length == 0\r\n          ) {\r\n            return {\r\n              msg: \"No Criteria Found for Selected Application & Module.\",\r\n            };\r\n          } else if (\r\n            !response.addFormRuleCriteriaData[\"data\"] &&\r\n            response.addFormRuleCriteriaData[\"msg\"]\r\n          ) {\r\n            return {\r\n              msg: response.addFormRuleCriteriaData[\"msg\"],\r\n            };\r\n          } else {\r\n            let criteriaMasterJson = _lodashClone(response.criteriaMasterData);\r\n            delete criteriaMasterJson[\"fieldDisplay\"];\r\n            this.fieldDisplayData = response.criteriaMasterData[\"fieldDisplay\"];\r\n            const criteriaMasterData = criteriaMasterJson;\r\n            this.criteriaDataDetailsJson = response.addFormRuleCriteriaData;\r\n            this.criteriaDataDetailsJson.data.listCriteria.cmCriteriaDataDetails.forEach(\r\n              (data) => {\r\n                if (data[\"criteriaType\"] == \"Slab\") {\r\n                  this.cmCriteriaSlabType[\"Slab\"] = data[\"fieldId\"];\r\n                }\r\n                if (data[\"criteriaType\"] == \"date\") {\r\n                  this.cmCriteriaSlabType[\"date\"] = data[\"fieldId\"];\r\n                }\r\n              }\r\n            );\r\n\r\n            if (this.mode == \"add\") {\r\n              this.formRuleCode =\r\n                this.criteriaDataDetailsJson.data.formRuleCode;\r\n              this.ruleID = this.formRuleCode;\r\n              this.ruleDescription =\r\n                this.criteriaDataDetailsJson.data.formRuleDesc;\r\n            }\r\n\r\n            this.cmCriteriaDataDetails = [\r\n              ...this.criteriaDataDetailsJson.data.listCriteria\r\n                .cmCriteriaDataDetails,\r\n            ];\r\n\r\n            this.cmCriteriaMandatory =\r\n              this.criteriaDataDetailsJson.data.mandatory\r\n                .replace(/[\"|\\[|\\]]/g, \"\")\r\n                .split(\", \");\r\n\r\n            this.cmCriteriaDependency =\r\n              this.criteriaDataDetailsJson.data.dependance;\r\n\r\n            let criteriaDependencyTreeData =\r\n              this.criteriaDataService.setDependencyTree(\r\n                this.criteriaDataDetailsJson,\r\n                this.cmCriteriaDataDetails,\r\n                criteriaMasterData,\r\n                this.cmCriteriaMandatory,\r\n                this.cmCriteriaDependency,\r\n                this.cmCriteriaSlabType\r\n              );\r\n\r\n            this.criteriaMapDdlOptions =\r\n              criteriaDependencyTreeData[\"criteriaMapDdlOptions\"];\r\n            this.independantCriteriaArr =\r\n              criteriaDependencyTreeData[\"independantCriteriaArr\"];\r\n            return criteriaMasterData;\r\n          }\r\n        })\r\n      )\r\n      .subscribe(\r\n        (res) => {\r\n          if (!res[\"msg\"]) {\r\n            if (\r\n              res[\"status\"] &&\r\n              typeof res[\"status\"] == \"string\" &&\r\n              (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n            ) {\r\n              this.coreService.removeLoadingScreen();\r\n              this.showContent = false;\r\n              if (res[\"error\"]) {\r\n                this.coreService.showWarningToast(res[\"error\"]);\r\n              } else {\r\n                this.coreService.showWarningToast(\r\n                  \"Some error in fetching data\"\r\n                );\r\n              }\r\n            } else {\r\n              this.criteriaMasterData = res;\r\n              if (this.mode == \"edit\") {\r\n                if (\r\n                  !(\r\n                    this.formRuleService.applicationName ||\r\n                    this.formRuleService.moduleName ||\r\n                    this.formRuleService.formName\r\n                  )\r\n                ) {\r\n                  this.appModuleDataPresent = false;\r\n                  this.showContent = false;\r\n                  this.router.navigate([`navbar/form-rules`]);\r\n                } else {\r\n                  this.getFormRulesForEditApi(this.ruleID, \"edit\");\r\n                }\r\n              } else if (this.mode == \"clone\") {\r\n                if (\r\n                  !(\r\n                    this.formRuleService.applicationName ||\r\n                    this.formRuleService.moduleName ||\r\n                    this.formRuleService.formName\r\n                  )\r\n                ) {\r\n                  this.appModuleDataPresent = false;\r\n                  this.showContent = false;\r\n                  this.router.navigate([`navbar/form-rules`]);\r\n                } else {\r\n                  this.getFormRulesForEditApi(this.ruleID, \"clone\");\r\n                }\r\n              } else {\r\n                this.showContent = true;\r\n                this.coreService.removeLoadingScreen();\r\n              }\r\n            }\r\n          } else if (res[\"msg\"]) {\r\n            this.coreService.showWarningToast(res[\"msg\"]);\r\n            this.coreService.removeLoadingScreen();\r\n            return;\r\n          }\r\n        },\r\n        (err) => {\r\n          this.showContent = false;\r\n          this.coreService.removeLoadingScreen();\r\n          console.log(\"Error in Initiating dropdown values\", err);\r\n          this.coreService.showWarningToast(\"Some error in fetching data\");\r\n        }\r\n      );\r\n  }\r\n\r\n  getCorrespondentValues(\r\n    fieldId: any,\r\n    displayName: any,\r\n    criteriaCodeText: any\r\n  ) {\r\n    let criteriaMapValue = criteriaCodeText.join(\";\");\r\n\r\n    this.coreService.displayLoadingScreen();\r\n    this.formRuleService\r\n      .getCorrespondentValuesData(\r\n        this.formCtrl.value.code,\r\n        this.appCtrl.value.code,\r\n        criteriaMapValue,\r\n        fieldId,\r\n        displayName,\r\n        this.moduleCtrl.value.code\r\n      )\r\n      .subscribe(\r\n        (res) => {\r\n          if (\r\n            res[\"status\"] &&\r\n            typeof res[\"status\"] == \"string\" &&\r\n            (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n          ) {\r\n            this.coreService.removeLoadingScreen();\r\n            if (res[\"error\"]) {\r\n              this.coreService.showWarningToast(res[\"error\"]);\r\n            } else {\r\n              this.coreService.showWarningToast(\"Some error in fetching data\");\r\n            }\r\n          } else {\r\n            this.coreService.removeLoadingScreen();\r\n            if (res[fieldId]) {\r\n              this.setCriteriaSharedComponent.valueCtrl.enable();\r\n              this.setCriteriaSharedComponent.hideValuesDropdown = false;\r\n              this.setCriteriaSharedComponent.showValueInput = false;\r\n\r\n              this.correspondentDdlOptions = res[fieldId].map((val) => {\r\n                return { name: val[\"codeName\"], code: val[\"code\"] };\r\n              });\r\n            } else {\r\n              if (res[\"message\"]) {\r\n                this.coreService.showWarningToast(res[\"message\"]);\r\n                this.resetCriteriaDropdowns();\r\n              } else {\r\n                this.coreService.showWarningToast(\"Criteria Map is not proper\");\r\n                this.resetCriteriaDropdowns();\r\n              }\r\n            }\r\n          }\r\n        },\r\n        (err) => {\r\n          this.coreService.removeLoadingScreen();\r\n          console.log(\"Error in getting values\", err);\r\n          this.resetCriteriaDropdowns();\r\n          this.coreService.showWarningToast(\"Some error in fetching data\");\r\n        }\r\n      );\r\n  }\r\n\r\n  resetCriteriaDropdowns() {\r\n    this.setCriteriaSharedComponent.resetCriteriaDropdowns();\r\n  }\r\n\r\n  applyCriteria(postDataCriteria: FormData) {\r\n    postDataCriteria.append(\"formRuleCode\", this.ruleID);\r\n    postDataCriteria.append(\"operation\", this.mode);\r\n    postDataCriteria.append(\"applications\", this.appCtrl.value.code);\r\n    postDataCriteria.append(\"form\", this.formCtrl.value.code);\r\n    postDataCriteria.append(\"moduleName\", this.moduleCtrl.value.code);\r\n    this.isApplyCriteriaClicked = true;\r\n    if (this.isFromRulesLinked && this.mode != \"clone\") {\r\n      this.coreService.setSidebarBtnFixedStyle(false);\r\n      this.coreService.setHeaderStickyStyle(false);\r\n      this.confirmationService.confirm({\r\n        message: `You can not edit the current criteria, as it is already used in transaction.<br/> Kindly disable the current record and add new.`,\r\n        key: \"formRulesLinkedWarning\",\r\n        accept: () => {\r\n          this.coreService.displayLoadingScreen();\r\n          setTimeout(() => {\r\n            this.coreService.setHeaderStickyStyle(true);\r\n            this.coreService.setSidebarBtnFixedStyle(true);\r\n          }, 500);\r\n          setTimeout(() => {\r\n            this.coreService.removeLoadingScreen();\r\n          }, 1000);\r\n        },\r\n      });\r\n    } else {\r\n      this.formRuleCriteriaSearchApi(postDataCriteria);\r\n    }\r\n  }\r\n\r\n  formRuleCriteriaSearchApi(formData: any) {\r\n    this.appliedCriteriaData = [];\r\n    this.appliedCriteriaDataCols = [];\r\n    this.coreService.displayLoadingScreen();\r\n    this.formRuleService\r\n      .postFormRuleSearch(formData)\r\n      .subscribe(\r\n        (res) => {\r\n          if (\r\n            res[\"status\"] &&\r\n            typeof res[\"status\"] == \"string\" &&\r\n            (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n          ) {\r\n            if (res[\"error\"]) {\r\n              this.coreService.showWarningToast(res[\"error\"]);\r\n            } else {\r\n              this.coreService.showWarningToast(\"Some error in fetching data\");\r\n            }\r\n          } else {\r\n            this.applyCriteriaResponse = JSON.parse(JSON.stringify(res));\r\n            if (!res[\"msg\"]) {\r\n              if (!res[\"duplicate\"]) {\r\n                this.appliedCriteriaCriteriaMap = res[\"criteriaMap\"];\r\n                let reqData =\r\n                  this.criteriaDataService.decodeCriteriaMapIntoTableFields(\r\n                    res\r\n                  );\r\n\r\n                let crtfields = this.setCriteriaService.decodeFormattedCriteria(\r\n                  reqData.critMap,\r\n                  this.criteriaMasterData,\r\n                  this.fieldDisplayData\r\n                );\r\n\r\n                this.applyCriteriaDataTableColumns = [];\r\n\r\n                let lcyOprFields = [];\r\n                let isLcyOprFieldPresent = false;\r\n                let lcyOprFieldInserted = false;\r\n                let lcySlabFieldInserted = false;\r\n\r\n                this.applyCriteriaDataTableColumns = [...this.cols];\r\n                this.appliedCriteriaIsDuplicate = res[\"duplicate\"];\r\n\r\n                let completeData = [];\r\n                Object.keys(res[\"labelData\"][\"label\"]).forEach((k) => {\r\n                  let formattedRowData = {\r\n                    data: {\r\n                      fieldId: res[\"labelData\"][\"label\"][k],\r\n                    },\r\n                    expanded: true,\r\n                    leaf: false,\r\n                    children: [],\r\n                  };\r\n\r\n                  res[\"data\"][k].forEach((detail) => {\r\n                    let childRow = { data: {} };\r\n                    this.applyCriteriaDataTableColumns.forEach((col) => {\r\n                      if (\r\n                        detail[col[\"field\"]] == \"True\" ||\r\n                        detail[col[\"field\"]] == \"Yes\"\r\n                      ) {\r\n                        detail[col[\"field\"]] = true;\r\n                      }\r\n                      if (\r\n                        detail[col[\"field\"]] == \"False\" ||\r\n                        detail[col[\"field\"]] == \"No\"\r\n                      ) {\r\n                        detail[col[\"field\"]] = false;\r\n                      }\r\n                      childRow[\"data\"][col[\"field\"]] = detail[col[\"field\"]];\r\n                    });\r\n                    Object.keys(childRow.data).forEach((field) => {\r\n                      if (childRow.data[field] === undefined) {\r\n                        this.applyCriteriaDataTableColumns.forEach((col) => {\r\n                          if (field == col[\"field\"]) {\r\n                            childRow.data[field] = col[\"value\"];\r\n                          }\r\n                        });\r\n                      }\r\n                    });\r\n                    childRow[\"data\"][\"fieldDisplayOrder\"] =\r\n                      detail[\"fieldDisplayOrder\"];\r\n                    childRow[\"data\"][\"displaySection\"] =\r\n                      detail[\"displaySection\"];\r\n                    childRow[\"data\"][\"displaySectionOrder\"] =\r\n                      detail[\"displaySectionOrder\"];\r\n                    childRow[\"data\"][\"fieldType\"] = detail[\"fieldType\"];\r\n                    childRow[\"data\"][\"fieldDisplayName\"] =\r\n                      detail[\"fieldDisplayName\"];\r\n                    childRow[\"data\"][\"apiKey\"] = detail[\"apiKey\"];\r\n                    childRow[\"data\"][\"obscure\"] = detail[\"obscure\"];\r\n                    childRow[\"data\"][\"multiSelect\"] = detail[\"multiSelect\"];\r\n                    childRow[\"data\"][\"minDate\"] = detail[\"minDate\"];\r\n                    childRow[\"data\"][\"maxDate\"] = detail[\"maxDate\"];\r\n                    childRow[\"data\"][\"initialDate\"] = detail[\"initialDate\"];\r\n\r\n                    childRow[\"leaf\"] = true;\r\n\r\n                    formattedRowData[\"children\"].push(childRow);\r\n                  });\r\n                  completeData.push(formattedRowData);\r\n                });\r\n\r\n                let amtSlabPresent = false;\r\n                let dateSlabPresent = false;\r\n\r\n                let baseCriteriaMap = res[\"criteriaMap\"].split(\"&&&&\")[0];\r\n\r\n                if (res[\"criteriaMap\"].indexOf(\"from:\") >= 0) {\r\n                  amtSlabPresent = true;\r\n                }\r\n\r\n                if (res[\"criteriaMap\"].indexOf(\"trnStartDate=\") >= 0) {\r\n                  dateSlabPresent = true;\r\n                }\r\n\r\n                if (amtSlabPresent && dateSlabPresent) {\r\n                  this.applyCriteriaDataTableColumns.splice(-8, 0, {\r\n                    field: \"dateFrom\",\r\n                    header: \"Date From\",\r\n                    type: \"text\",\r\n                  });\r\n                  this.applyCriteriaDataTableColumns.splice(-8, 0, {\r\n                    field: \"dateTo\",\r\n                    header: \"Date To\",\r\n                    type: \"text\",\r\n                  });\r\n                  this.applyCriteriaDataTableColumns.splice(-8, 0, {\r\n                    field: \"lcyAmountFrom\",\r\n                    header: \"Amount From\",\r\n                    type: \"text\",\r\n                  });\r\n                  this.applyCriteriaDataTableColumns.splice(-8, 0, {\r\n                    field: \"lcyAmountTo\",\r\n                    header: \"Amount To\",\r\n                    type: \"text\",\r\n                  });\r\n\r\n                  this.applyCriteriaFormattedData = [];\r\n\r\n                  let dateSlabFields = reqData.dateSlabArr;\r\n                  let lcySlabFields = reqData.lcySlabArr;\r\n\r\n                  dateSlabFields.forEach((fieldDate) => {\r\n                    lcySlabFields.forEach((fieldAmt, i) => {\r\n                      let copy = JSON.parse(JSON.stringify(completeData));\r\n                      copy.forEach((row) => {\r\n                        row[\"data\"][\"key\"] = i;\r\n                        row[\"children\"].forEach((child) => {\r\n                          child[\"data\"][\"lcyAmountFrom\"] = fieldAmt.from;\r\n                          child[\"data\"][\"lcyAmountTo\"] = fieldAmt.to;\r\n                          child[\"data\"][\"dateFrom\"] = fieldDate.trnStartDate;\r\n                          child[\"data\"][\"dateTo\"] = fieldDate.trnEndDate;\r\n                          child[\"data\"][\r\n                            \"criteriaMapSplit\"\r\n                          ] = `${baseCriteriaMap}&&&&from:${fieldAmt[\"from\"]}::to:${fieldAmt[\"to\"]}&&&&trnStartDate=${fieldDate[\"trnStartDate\"]}::trnEndDate=${fieldDate[\"trnEndDate\"]}`;\r\n                        });\r\n                      });\r\n                      this.applyCriteriaFormattedData.push(...copy);\r\n                    });\r\n                  });\r\n                } else {\r\n                  if (amtSlabPresent) {\r\n                    let lcySlabFields = reqData.lcySlabArr;\r\n                    this.applyCriteriaDataTableColumns.splice(-8, 0, {\r\n                      field: \"lcyAmountFrom\",\r\n                      header: \"Amount From\",\r\n                      type: \"text\",\r\n                    });\r\n                    this.applyCriteriaDataTableColumns.splice(-8, 0, {\r\n                      field: \"lcyAmountTo\",\r\n                      header: \"Amount To\",\r\n                      type: \"text\",\r\n                    });\r\n                    this.applyCriteriaFormattedData = [];\r\n                    lcySlabFields.forEach((slab, i) => {\r\n                      let copy = JSON.parse(JSON.stringify(completeData));\r\n                      copy.forEach((row) => {\r\n                        row[\"data\"][\"key\"] = i;\r\n                        row[\"children\"].forEach((child) => {\r\n                          child[\"data\"][\"lcyAmountFrom\"] = slab[\"from\"];\r\n                          child[\"data\"][\"lcyAmountTo\"] = slab[\"to\"];\r\n                          child[\"data\"][\r\n                            \"criteriaMapSplit\"\r\n                          ] = `${baseCriteriaMap}&&&&from:${slab[\"from\"]}::to:${slab[\"to\"]}`;\r\n                        });\r\n                      });\r\n\r\n                      this.applyCriteriaFormattedData.push(...copy);\r\n                    });\r\n                  } else if (dateSlabPresent) {\r\n                    let dateSlabFields = reqData.dateSlabArr;\r\n                    this.applyCriteriaDataTableColumns.splice(-8, 0, {\r\n                      field: \"dateFrom\",\r\n                      header: \"Date From\",\r\n                      type: \"text\",\r\n                    });\r\n                    this.applyCriteriaDataTableColumns.splice(-8, 0, {\r\n                      field: \"dateTo\",\r\n                      header: \"Date To\",\r\n                      type: \"text\",\r\n                    });\r\n                    this.applyCriteriaFormattedData = [];\r\n                    dateSlabFields.forEach((slab, i) => {\r\n                      let copy = JSON.parse(JSON.stringify(completeData));\r\n                      copy.forEach((row) => {\r\n                        row[\"data\"][\"key\"] = i;\r\n                        row[\"children\"].forEach((child) => {\r\n                          child[\"data\"][\"dateFrom\"] = slab[\"trnStartDate\"];\r\n                          child[\"data\"][\"dateTo\"] = slab[\"trnEndDate\"];\r\n                          child[\"data\"][\r\n                            \"criteriaMapSplit\"\r\n                          ] = `${baseCriteriaMap}&&&&trnStartDate=${slab[\"trnStartDate\"]}::trnEndDate=${slab[\"trnEndDate\"]}`;\r\n                        });\r\n                      });\r\n\r\n                      this.applyCriteriaFormattedData.push(...copy);\r\n                    });\r\n                  } else if (!amtSlabPresent && !dateSlabPresent) {\r\n                    this.applyCriteriaFormattedData = [...completeData];\r\n                    this.applyCriteriaFormattedData.forEach((row, i) => {\r\n                      row[\"data\"][\"key\"] = i;\r\n                      row[\"children\"].forEach((child) => {\r\n                        child[\"data\"][\"criteriaMapSplit\"] = baseCriteriaMap;\r\n                      });\r\n                    });\r\n                  }\r\n                }\r\n\r\n                console.log(\"::\", this.applyCriteriaFormattedData);\r\n                console.log(\"::\", this.applyCriteriaDataTableColumns);\r\n\r\n                this.coreService.showSuccessToast(\r\n                  `Criteria Applied Successfully`\r\n                );\r\n              } else {\r\n                this.applyCriteriaFormattedData = [];\r\n                this.appliedCriteriaCriteriaMap = null;\r\n                this.appliedCriteriaIsDuplicate = null;\r\n                this.applyCriteriaDataTableColumns = [];\r\n                this.coreService.showWarningToast(\r\n                  \"Applied criteria already exists.\"\r\n                );\r\n              }\r\n            } else {\r\n              if (res[\"msg\"] && res[\"msg\"] == \"No search criteria available.\") {\r\n                this.applyCriteriaFormattedData = [];\r\n                this.appliedCriteriaCriteriaMap = null;\r\n                this.appliedCriteriaIsDuplicate = null;\r\n                this.applyCriteriaDataTableColumns = [];\r\n                this.coreService.showWarningToast(res[\"msg\"]);\r\n                return;\r\n              }\r\n            }\r\n          }\r\n        },\r\n        (err) => {\r\n          this.coreService.showWarningToast(\r\n            \"Some error in fetching applied criteria data, please try again\"\r\n          );\r\n          console.log(\"error in FormRuleCriteriaSearchApi\", err);\r\n        }\r\n      )\r\n      .add(() => {\r\n        setTimeout(() => {\r\n          this.coreService.removeLoadingScreen();\r\n        }, 250);\r\n      });\r\n  }\r\n\r\n  setStyle(col: any, i: any) {\r\n    let padLeft = i == 0 ? \"8px !important\" : \"\";\r\n    let width = col.type == \"lcyOpr\" ? \"120px !important\" : \"\";\r\n\r\n    return `padding-left : ${padLeft};`;\r\n  }\r\n\r\n  saveCriteriaAsTemplate(templateFormData: any) {\r\n    templateFormData.append(\"applications\", this.appCtrl.value.code);\r\n    templateFormData.append(\"form\", this.formCtrl.value.code);\r\n    templateFormData.append(\"moduleName\", this.moduleCtrl.value.code);\r\n    this.coreService.displayLoadingScreen();\r\n    this.formRuleService\r\n      .currentCriteriaSaveAsTemplate(templateFormData)\r\n      .subscribe(\r\n        (res) => {\r\n          if (\r\n            res[\"status\"] &&\r\n            typeof res[\"status\"] == \"string\" &&\r\n            (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n          ) {\r\n            this.coreService.removeLoadingScreen();\r\n            if (res[\"error\"]) {\r\n              this.coreService.showWarningToast(res[\"error\"]);\r\n            } else {\r\n              this.coreService.showWarningToast(\r\n                \"Some error in saving template\"\r\n              );\r\n            }\r\n          } else {\r\n            this.coreService.removeLoadingScreen();\r\n            if (res.msg == \"Criteria Template already exists.\") {\r\n              // this.savingCriteriaTemplateError =\r\n              //   \"Criteria Template already exists.\";\r\n              this.savingCriteriaTemplateError = true;\r\n              console.log(this.savingCriteriaTemplateError);\r\n            } else {\r\n              this.savingCriteriaTemplateError = false;\r\n              this.setCriteriaSharedComponent.selectedTemplate =\r\n                this.setCriteriaSharedComponent.criteriaName;\r\n              this.coreService.showSuccessToast(res.msg);\r\n              this.setCriteriaSharedComponent.saveTemplateDialogOpen = false;\r\n              this.setCriteriaSharedComponent.criteriaName = \"\";\r\n              this.getAllTemplates();\r\n            }\r\n          }\r\n        },\r\n        (err) => {\r\n          this.coreService.removeLoadingScreen();\r\n          console.log(\":: Error in saving criteria template\", err);\r\n          this.coreService.showWarningToast(\"Some error in saving template\");\r\n        }\r\n      );\r\n  }\r\n\r\n  getAllTemplates() {\r\n    this.criteriaTemplatesDdlOptions = [];\r\n    this.formRuleService\r\n      .getAllCriteriaTemplates(\r\n        this.userId,\r\n        this.appCtrl.value.code,\r\n        this.moduleCtrl.value.code,\r\n        this.formCtrl.value.code\r\n      )\r\n      .subscribe(\r\n        (res) => {\r\n          if (\r\n            res[\"status\"] &&\r\n            typeof res[\"status\"] == \"string\" &&\r\n            (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n          ) {\r\n            if (res[\"error\"]) {\r\n              this.coreService.showWarningToast(res[\"error\"]);\r\n            } else {\r\n              this.coreService.showWarningToast(\r\n                \"Some error in saving template\"\r\n              );\r\n            }\r\n          } else {\r\n            if (res.data && res.data.length) {\r\n              this.criteriaTemplatesDdlOptions = res.data;\r\n              this.criteriaTemplatesDdlOptions.forEach((val) => {\r\n                val[\"name\"] = val[\"criteriaName\"];\r\n                val[\"code\"] = val[\"criteriaName\"];\r\n              });\r\n            } else {\r\n              console.log(res.msg);\r\n            }\r\n          }\r\n        },\r\n        (err) => {\r\n          console.log(\":: Error in getting template list\", err);\r\n          this.coreService.showWarningToast(\r\n            \"Some error in getting template list\"\r\n          );\r\n        }\r\n      );\r\n  }\r\n\r\n  saveAddNewRule(action) {\r\n    if (\r\n      this.setCriteriaSharedComponent.getCurrentCriteriaMap() !=\r\n      this.appliedCriteriaCriteriaMap\r\n    ) {\r\n      this.coreService.showWarningToast(\r\n        \"Recent changes in Criteria map has not been applied, Saving last applied data\"\r\n      );\r\n    }\r\n\r\n    let isRequiredFields = false;\r\n    let invalidDefValue = false;\r\n    let invalidMaxLengthValue = false;\r\n\r\n    let payloadData;\r\n\r\n    if (this.applyCriteriaResponse[\"data\"]) {\r\n      payloadData = JSON.parse(this.stringify(this.applyCriteriaResponse));\r\n    } else if (this.editFromRulesApiData[\"data\"]) {\r\n      payloadData = JSON.parse(this.stringify(this.editFromRulesApiData));\r\n      payloadData[\"duplicate\"] = this.appliedCriteriaIsDuplicate;\r\n    }\r\n\r\n    console.log(\":::\", this.applyCriteriaFormattedData);\r\n    let copyApplyCriteriaFormattedData = _lodashClone(\r\n      this.applyCriteriaFormattedData\r\n    );\r\n\r\n    let finalObj = {};\r\n    Object.keys(payloadData[\"labelData\"][\"label\"]).forEach((k) => {\r\n      let fieldArr = [];\r\n      let fieldObjArr = copyApplyCriteriaFormattedData.filter((tableData) => {\r\n        return tableData[\"data\"][\"fieldId\"] == k;\r\n      });\r\n      fieldObjArr.forEach((data) => {\r\n        fieldArr.push(...data[\"children\"]);\r\n      });\r\n\r\n      fieldArr.forEach((child) => {\r\n        delete child[\"parent\"];\r\n        // console.log(child, child[\"partialSelected\"]);\r\n        if (\r\n          child[\"partialSelected\"] == false ||\r\n          child[\"partialSelected\"] == \"N\"\r\n        ) {\r\n          child[\"data\"][\"ruleSelected\"] = \"Yes\";\r\n        } else {\r\n          child[\"data\"][\"ruleSelected\"] = \"No\";\r\n        }\r\n        if (child[\"data\"][\"isValidMaxLength\"] == false) {\r\n          invalidMaxLengthValue = true;\r\n        }\r\n        if (child[\"data\"][\"isValidDefValue\"] == false) {\r\n          invalidDefValue = true;\r\n        }\r\n\r\n        //setting True Yes\r\n\r\n        Object.keys(child[\"data\"]).forEach((fieldParam) => {\r\n          if (child[\"data\"][fieldParam] == undefined) {\r\n            child[\"data\"][fieldParam] = null;\r\n          }\r\n          switch (fieldParam) {\r\n            case \"isMandatory\":\r\n            case \"isEnable\":\r\n            case \"isVisible\":\r\n            case \"displayInNewLine\":\r\n              if (\r\n                child[\"data\"][fieldParam] == true ||\r\n                child[\"data\"][fieldParam] == \"True\"\r\n              ) {\r\n                child[\"data\"][fieldParam] = \"True\";\r\n              } else {\r\n                child[\"data\"][fieldParam] = \"False\";\r\n              }\r\n              break;\r\n            case \"block\":\r\n            case \"warning\":\r\n            case \"checkDuplicate\":\r\n            case \"displayValidValuesOnHover\":\r\n              if (\r\n                child[\"data\"][fieldParam] == true ||\r\n                child[\"data\"][fieldParam] == \"Yes\"\r\n              ) {\r\n                child[\"data\"][fieldParam] = \"Yes\";\r\n              } else {\r\n                child[\"data\"][fieldParam] = \"No\";\r\n              }\r\n              break;\r\n          }\r\n        });\r\n      });\r\n\r\n      finalObj[k] = fieldArr;\r\n    });\r\n\r\n    if (\r\n      !this.ruleDescription ||\r\n      this.ruleDescription.replace(/\\s+/g, \"\").length == 0\r\n    ) {\r\n      isRequiredFields = true;\r\n    }\r\n\r\n    if (isRequiredFields) {\r\n      this.coreService.removeLoadingScreen();\r\n      this.coreService.showWarningToast(\"Please Fill required fields.\");\r\n    } else if (invalidMaxLengthValue) {\r\n      this.coreService.removeLoadingScreen();\r\n      this.coreService.showWarningToast(\"Max Length fields are invalid.\");\r\n    } else if (invalidDefValue) {\r\n      this.coreService.removeLoadingScreen();\r\n      this.coreService.showWarningToast(\"Default values fields are invalid.\");\r\n    } else {\r\n      payloadData.data = {};\r\n\r\n      payloadData[\"data\"][\"dataOperation\"] = [finalObj];\r\n      payloadData[\"formRuleCode\"] = this.formRuleCode;\r\n      payloadData[\"formRuleDesc\"] = this.ruleDescription\r\n        ? this.ruleDescription\r\n        : \"\";\r\n      payloadData[\"userId\"] = this.userId;\r\n      // let str = this.stringify(payloadData);\r\n      // str = str.replace(/true/g, '\"Y\"');\r\n      // str = str.replace(/false/g, '\"N\"');\r\n      // payloadData = JSON.parse(str);\r\n      // let copyPayload = JSON.parse(this.stringify(payloadData));\r\n      // if (copyPayload[\"duplicate\"] == \"N\") {\r\n      //   payloadData[\"duplicate\"] = false;\r\n      // } else if (copyPayload[\"duplicate\"] == \"Y\") {\r\n      //   payloadData[\"duplicate\"] = true;\r\n      // }\r\n\r\n      console.log(payloadData);\r\n      if (\r\n        this.mode != \"clone\" ||\r\n        (this.mode == \"clone\" && this.isApplyCriteriaClicked)\r\n      ) {\r\n        this.coreService.displayLoadingScreen();\r\n        let service;\r\n        if (this.mode == \"edit\") {\r\n          service = this.formRuleService.updateFormRule(\r\n            this.userId,\r\n            payloadData,\r\n            this.appCtrl.value.code,\r\n            this.moduleCtrl.value.code,\r\n            this.formCtrl.value.code\r\n          );\r\n        } else {\r\n          service = this.formRuleService.addNewFormRule(\r\n            payloadData,\r\n            this.appCtrl.value.code,\r\n            this.moduleCtrl.value.code,\r\n            this.formCtrl.value.code\r\n          );\r\n        }\r\n        // Object.keys(payloadData[\"labelData\"][\"label\"]).forEach((k) => {\r\n        //   payloadData[\"data\"][\"dataOperation\"][0][\r\n        //     payloadData[\"labelData\"][\"label\"][k]\r\n        //   ].forEach((fieldRow) => {\r\n        //     for (const key in fieldRow.data) {\r\n        //       if (fieldRow.data.hasOwnProperty(key)) {\r\n        //         const value = fieldRow.data[key];\r\n\r\n        //         if (\r\n        //           value !== null &&\r\n        //           value !== undefined &&\r\n        //           typeof value !== \"boolean\"\r\n        //         ) {\r\n        //           fieldRow.data[key] =\r\n        //             typeof value === \"object\" ? JSON.stringify(value) : value;\r\n        //         } else {\r\n        //           fieldRow.data[key] = value;\r\n        //         }\r\n        //       }\r\n        //     }\r\n        //   });\r\n\r\n        //   console.log(\r\n        //     \":::\",\r\n        //     payloadData[\"data\"][\"dataOperation\"][0][\r\n        //       payloadData[\"labelData\"][\"label\"][k]\r\n        //     ]\r\n        //   );\r\n        // });\r\n        console.log(\":::PAYLOAD\", JSON.stringify(payloadData, null, 2));\r\n        if (service) {\r\n          service.subscribe(\r\n            (res) => {\r\n              if (\r\n                res[\"status\"] &&\r\n                typeof res[\"status\"] == \"string\" &&\r\n                (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n              ) {\r\n                if (res[\"error\"]) {\r\n                  this.coreService.showWarningToast(res[\"error\"]);\r\n                } else {\r\n                  this.coreService.showWarningToast(res[\"msg\"]);\r\n                }\r\n              } else {\r\n                if (res[\"msg\"]) {\r\n                  this.coreService.showSuccessToast(res.msg);\r\n                  if (action == \"save\") {\r\n                    this.router.navigate([`navbar/form-rules`]);\r\n                  } else if (action == \"saveAndAddNew\") {\r\n                    this.formRuleService.applicationName = null;\r\n                    this.formRuleService.moduleName = null;\r\n                    this.formRuleService.formName = null;\r\n                    this.router.navigate([`navbar/form-rules/addnewformrule`]);\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            (err) => {\r\n              this.coreService.removeLoadingScreen();\r\n              console.log(\"error in saveAddNewFormRule\", err);\r\n            }\r\n          );\r\n        }\r\n      } else {\r\n        this.coreService.showWarningToast(\"Applied criteria already exists.\");\r\n      }\r\n    }\r\n  }\r\n\r\n  stringify(obj) {\r\n    let cache = [];\r\n    let str = JSON.stringify(obj, function (key, value) {\r\n      if (typeof value === \"object\" && value !== null) {\r\n        if (cache.indexOf(value) !== -1) {\r\n          return;\r\n        }\r\n        cache.push(value);\r\n      }\r\n      return value;\r\n    });\r\n    cache = null; // reset the cache\r\n    return str;\r\n  }\r\n\r\n  reset() {\r\n    if (this.mode == \"edit\") {\r\n      this.coreService.setSidebarBtnFixedStyle(false);\r\n      this.confirmationService.confirm({\r\n        message: \"Are you sure, you want to clear applied changes ?\",\r\n        key: \"resetFormDataConfirmation\",\r\n        accept: () => {\r\n          this.coreService.displayLoadingScreen();\r\n          // this.getCriteriaMasterData();\r\n          // this.getAllTemplates();\r\n          // this.coreService.setHeaderStickyStyle(true);\r\n          // this.coreService.setSidebarBtnFixedStyle(true);\r\n          this.applyCriteriaFormattedData = [];\r\n          this.appliedCriteriaCriteriaMap = null;\r\n          this.appliedCriteriaIsDuplicate = null;\r\n          this.ruleDescription = \"\";\r\n\r\n          this.setCriteriaSharedComponent.resetSetCriteria();\r\n          this.setHeaderSidebarBtn();\r\n        },\r\n        reject: () => {\r\n          this.confirmationService.close;\r\n          this.setHeaderSidebarBtn();\r\n        },\r\n      });\r\n    } else if (this.mode == \"clone\") {\r\n      this.coreService.setSidebarBtnFixedStyle(false);\r\n      this.confirmationService.confirm({\r\n        message: \"Are you sure, you want to clear applied changes ?\",\r\n        key: \"resetFormDataConfirmation\",\r\n        accept: () => {\r\n          this.coreService.displayLoadingScreen();\r\n          this.getCriteriaMasterData();\r\n          this.getAllTemplates();\r\n          this.coreService.setHeaderStickyStyle(true);\r\n          this.coreService.setSidebarBtnFixedStyle(true);\r\n        },\r\n        reject: () => {\r\n          this.confirmationService.close;\r\n          this.setHeaderSidebarBtn();\r\n        },\r\n      });\r\n    } else {\r\n      this.coreService.setSidebarBtnFixedStyle(false);\r\n      this.coreService.setHeaderStickyStyle(false);\r\n      this.confirmationService.confirm({\r\n        message: \"Are you sure, you want to clear all the fields ?\",\r\n        key: \"resetFormDataConfirmation\",\r\n        accept: () => {\r\n          this.applyCriteriaFormattedData = [];\r\n          this.appliedCriteriaCriteriaMap = null;\r\n          this.appliedCriteriaIsDuplicate = null;\r\n          this.ruleDescription = \"\";\r\n\r\n          this.setCriteriaSharedComponent.resetSetCriteria();\r\n          this.setHeaderSidebarBtn();\r\n          // this.appCtrl.reset();\r\n          // this.moduleCtrl.reset();\r\n          // this.moduleCtrl.disable();\r\n          // this.formCtrl.reset();\r\n          // this.formCtrl.disable();\r\n          // this.showContent = false;\r\n          // this.appModuleDataPresent = false;\r\n        },\r\n        reject: () => {\r\n          this.confirmationService.close;\r\n          this.setHeaderSidebarBtn();\r\n        },\r\n      });\r\n    }\r\n  }\r\n\r\n  setHeaderSidebarBtn() {\r\n    this.coreService.displayLoadingScreen();\r\n    setTimeout(() => {\r\n      this.coreService.setHeaderStickyStyle(true);\r\n      this.coreService.setSidebarBtnFixedStyle(true);\r\n    }, 500);\r\n    setTimeout(() => {\r\n      this.coreService.removeLoadingScreen();\r\n    }, 1000);\r\n  }\r\n\r\n  setSelectedOptions() {\r\n    this.appliedCriteriaData.forEach((data) => {\r\n      if (data[\"taxType\"]) {\r\n        data[\"taxType\"] = data[\"taxTypeOption\"].filter(\r\n          (option) => option[\"code\"] == data[\"taxType\"]\r\n        )[0][\"codeName\"];\r\n      }\r\n\r\n      if (data[\"setAs\"]) {\r\n        data[\"setAs\"] = data[\"setAsOption\"].filter(\r\n          (option) => option[\"code\"] == data[\"setAs\"]\r\n        )[0][\"codeName\"];\r\n      }\r\n    });\r\n  }\r\n  decodeSelectedOptions() {\r\n    this.appliedCriteriaData.forEach((data) => {\r\n      data[\"taxType\"] = data[\"taxTypeOption\"].filter(\r\n        (option) => option[\"codeName\"] == data[\"taxType\"]\r\n      )[0][\"code\"];\r\n      data[\"setAs\"] = data[\"setAsOption\"].filter(\r\n        (option) => option[\"codeName\"] == data[\"setAs\"]\r\n      )[0][\"code\"];\r\n    });\r\n  }\r\n\r\n  minValidation(e: any, rowData: any, minInp: any, maxInpVal: any) {\r\n    rowData[\"maxLength\"] = null;\r\n    rowData[\"defaultValue\"] = null;\r\n    rowData[\"isValidDefValue\"] = true;\r\n    // rowData[\"minLength\"] = e;\r\n  }\r\n  maxValidation(e: any, rowData: any, maxInp: any, minInpVal: any) {\r\n    rowData[\"isValidMaxLength\"] = null;\r\n    rowData[\"defaultValue\"] = null;\r\n    rowData[\"isValidDefValue\"] = true;\r\n    if (minInpVal && e) {\r\n      if (minInpVal > e) {\r\n        maxInp.classList.add(\"inputError\");\r\n        rowData[\"isValidMaxLength\"] = false;\r\n        this.minMaxInpTooltip = \"Max length should be greater than Min length\";\r\n      } else {\r\n        maxInp.classList.remove(\"inputError\");\r\n        rowData[\"isValidMaxLength\"] = true;\r\n      }\r\n    }\r\n  }\r\n\r\n  // minMaxValidation(\r\n  //   e: any,\r\n  //   rowData: any,\r\n  //   validLengthInp: any,\r\n  //   defaultValueCol: any\r\n  // ) {\r\n  //   const pattern = /^(\\d+)-(\\d+)$/;\r\n  //   rowData[\"isValidLength\"] = null;\r\n\r\n  //   rowData[defaultValueCol] = \"\";\r\n  //   const defValueInp = validLengthInp\r\n  //     .closest(\"td\")\r\n  //     .nextSibling.nextSibling.querySelector(\"input\");\r\n  //   defValueInp.classList.remove(\"inputError\");\r\n\r\n  //   if (e.length == 0) {\r\n  //     this.minMaxInpTooltip = \"\";\r\n  //     validLengthInp.classList.remove(\"inputError\");\r\n  //     rowData[\"isValidLength\"] = null;\r\n  //     return;\r\n  //   }\r\n\r\n  //   const match = e.match(pattern);\r\n  //   if (match) {\r\n  //     const lesserNumber = parseInt(match[1]);\r\n  //     const bigNumber = parseInt(match[2]);\r\n\r\n  //     if (bigNumber > lesserNumber) {\r\n  //       this.minMaxInpTooltip = \"\";\r\n  //       validLengthInp.classList.remove(\"inputError\");\r\n  //       rowData[\"isValidLength\"] = true;\r\n  //     } else {\r\n  //       this.minMaxInpTooltip = \"{min-length} should be less than {max-length}\";\r\n  //       rowData[\"isValidLength\"] = false;\r\n  //       validLengthInp.classList.add(\"inputError\");\r\n  //     }\r\n  //   } else {\r\n  //     this.minMaxInpTooltip =\r\n  //       \"Please enter only number in this format: {min-length}-{max-length}\";\r\n\r\n  //     validLengthInp.classList.add(\"inputError\");\r\n  //     rowData[\"isValidLength\"] = false;\r\n  //   }\r\n\r\n  //   if (rowData[\"isValidLength\"] == false) {\r\n  //     this.defValueInpTooltip = \"Please set min max length correctly\";\r\n  //   } else {\r\n  //     this.defValueInpTooltip = \"\";\r\n  //   }\r\n  // }\r\n\r\n  toggleCheckbox(e: any, rowData: any, field: any) {\r\n    if (field == \"isMandatory\") {\r\n      if (e.returnValue) {\r\n        rowData[\"isVisible\"] = true;\r\n        rowData[\"isEnable\"] = true;\r\n      } else {\r\n        rowData[\"isVisible\"] = false;\r\n        rowData[\"isEnable\"] = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  defValueValidation(\r\n    e: any,\r\n    rowData: any,\r\n    defValueInp: any,\r\n    minInpVal: any,\r\n    maxInpVal: any\r\n  ) {\r\n    rowData[\"isValidDefValue\"] = true;\r\n    if (e) {\r\n      if (minInpVal && !(e.length >= minInpVal)) {\r\n        rowData[\"isValidDefValue\"] = false;\r\n        this.defValueInpTooltip =\r\n          \"Default value length is less than specified Min length\";\r\n      } else if (maxInpVal && !(e.length <= maxInpVal)) {\r\n        rowData[\"isValidDefValue\"] = false;\r\n        this.defValueInpTooltip =\r\n          \"Default value length is greater than specified Max length\";\r\n      } else {\r\n        rowData[\"isValidDefValue\"] = true;\r\n        this.defValueInpTooltip = \"\";\r\n      }\r\n    }\r\n  }\r\n\r\n  resetDefValueInp(defValueInp: any) {\r\n    console.log(\"reset\", defValueInp);\r\n  }\r\n\r\n  // defaultValueValidation(\r\n  //   e: any,\r\n  //   rowData: any,\r\n  //   defValueInp: any,\r\n  //   minMaxCol: any\r\n  // ) {\r\n  //   rowData[\"isValidDefValue\"] = null;\r\n  //   if (e.length == 0) {\r\n  //     rowData[\"isValidDefValue\"] = null;\r\n  //     defValueInp.classList.remove(\"inputError\");\r\n  //     return;\r\n  //   } else {\r\n  //     if (rowData[minMaxCol]) {\r\n  //       const min = rowData[minMaxCol].split(\"-\")[0];\r\n  //       const max = rowData[minMaxCol].split(\"-\")[1];\r\n  //       if (e.length > max || e.length < min) {\r\n  //         rowData[\"isValidDefValue\"] = false;\r\n  //         defValueInp.classList.add(\"inputError\");\r\n  //       } else {\r\n  //         rowData[\"isValidDefValue\"] = true;\r\n  //         defValueInp.classList.remove(\"inputError\");\r\n  //       }\r\n  //     } else {\r\n  //       rowData[\"isValidDefValue\"] = true;\r\n  //       defValueInp.classList.remove(\"inputError\");\r\n  //     }\r\n\r\n  //     if (rowData[\"isValidDefValue\"] == false) {\r\n  //       this.defValueInpTooltip = \"Default value is not in specified range\";\r\n  //     } else {\r\n  //       this.defValueInpTooltip = \"\";\r\n  //     }\r\n  //   }\r\n  // }\r\n\r\n  onChange(controlId, rule) {\r\n    let minmax = rule.minFieldLengthMaxLength.split(\"-\");\r\n    let min = minmax[0];\r\n    let max = minmax[1];\r\n    let index = this.formRulesData.findIndex((x) => x.fieldId == rule.fieldId);\r\n    if (controlId == \"defaultValues\") {\r\n      this.formRulesData[index].maxlengthDefaultValue = Number(max);\r\n    }\r\n  }\r\n\r\n  isMandatoryCol(heading: any) {\r\n    return heading.includes(\"*\") ? true : false;\r\n  }\r\n\r\n  getColumns(colData: any) {\r\n    return this.criteriaDataService.getAppliedCriteriaTableColumns(colData);\r\n  }\r\n  selectedColumn(selectCol: any, value: any, index: any) {\r\n    if (selectCol == \"setAsOption\") {\r\n      if (selectCol == \"setAsOption\" && value[\"code\"] == \"Percentage\") {\r\n        this.appliedCriteriaData[index][\"tax\"] = 0;\r\n      } else {\r\n        if (Number(this.appliedCriteriaData[index].lcyAmountFrom)) {\r\n          this.appliedCriteriaData[index][\"tax\"] = Number(\r\n            this.appliedCriteriaData[index].lcyAmountFrom\r\n          );\r\n        } else {\r\n          if (this.appliedCriteriaData[index].lcyAmount) {\r\n            let lcyAmountNum =\r\n              this.appliedCriteriaData[index].lcyAmount.split(\" \")[3];\r\n            let lcyAmountOpr =\r\n              this.appliedCriteriaData[index].lcyAmount.split(\" \")[2];\r\n            if (lcyAmountOpr == \">=\") {\r\n              this.appliedCriteriaData[index][\"tax\"] = Number(lcyAmountNum);\r\n            } else if (lcyAmountOpr == \">\") {\r\n              this.appliedCriteriaData[index][\"tax\"] = Number(lcyAmountNum) + 1;\r\n            } else if (lcyAmountOpr == \"=\") {\r\n              this.appliedCriteriaData[index][\"tax\"] = Number(lcyAmountNum);\r\n            } else {\r\n              this.appliedCriteriaData[index][\"tax\"] = 0;\r\n            }\r\n          } else {\r\n            this.appliedCriteriaData[index][\"tax\"] = 0;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    this.appliedCriteriaData[index][selectCol.split(\"Option\")[0]] =\r\n      value.codeName;\r\n  }\r\n\r\n  changeValueInput(\r\n    selectCol: any,\r\n    inputCol: any,\r\n    event: any,\r\n    index: any,\r\n    valueInputElm: any\r\n  ) {\r\n    this.appliedCriteriaData[index][\"invalidTaxAmount\"] = false;\r\n    let max = 0;\r\n    let min = 0;\r\n    let lcyAmountEqualTo =\r\n      this.appliedCriteriaData[index].lcyAmount &&\r\n      this.appliedCriteriaData[index].lcyAmount.substring(\r\n        this.appliedCriteriaData[index].lcyAmount.indexOf(\"=\") + 1\r\n      );\r\n    let lcyAmountGreaterThan =\r\n      this.appliedCriteriaData[index].lcyAmount &&\r\n      this.appliedCriteriaData[index].lcyAmount.substring(\r\n        this.appliedCriteriaData[index].lcyAmount.indexOf(\">\") + 1\r\n      );\r\n    if (\r\n      this.appliedCriteriaData[index][selectCol.split(\"Option\")[0]] ==\r\n      \"Percentage\"\r\n    ) {\r\n      max = 100;\r\n    } else if (\r\n      this.appliedCriteriaData[index][selectCol.split(\"Option\")[0]] == \"Amount\"\r\n    ) {\r\n      if (\r\n        Number(this.appliedCriteriaData[index].lcyAmountFrom) > 0 &&\r\n        Number(this.appliedCriteriaData[index].lcyAmountTo) > 0\r\n      ) {\r\n        min = Number(this.appliedCriteriaData[index].lcyAmountFrom);\r\n        max = Number(this.appliedCriteriaData[index].lcyAmountTo);\r\n      } else if (Number(lcyAmountEqualTo) > 0) {\r\n        min = Number(lcyAmountEqualTo);\r\n        max = Number(lcyAmountEqualTo);\r\n      } else if (Number(lcyAmountGreaterThan) > 0) {\r\n        min = Number(lcyAmountGreaterThan);\r\n        max = 1000000;\r\n      } else {\r\n        max = 1000000;\r\n      }\r\n    }\r\n\r\n    if (event.value <= max) {\r\n      this.appliedCriteriaData[index][inputCol] = event.value;\r\n    } else {\r\n      let lastValueEntered = valueInputElm.lastValue;\r\n      valueInputElm.input.nativeElement.value = lastValueEntered;\r\n    }\r\n    let isDisplayError = false;\r\n    if (event.value < min || event.value > max) {\r\n      isDisplayError = true;\r\n      this.appliedCriteriaData[index][\"invalidTaxAmount\"] = true;\r\n      this.coreService.showWarningToast(\r\n        \"Please enter tax between \" + min + \" to \" + max\r\n      );\r\n      return false;\r\n    }\r\n  }\r\n\r\n  TaxValidation() {}\r\n\r\n  checkOperation(operation: any, index: any, selectRow: any, fieldId: any) {\r\n    if (operation == \"delete\") {\r\n      this.delete(index);\r\n    } else if (operation == \"clone\") {\r\n      this.clone(index, selectRow, fieldId);\r\n    }\r\n  }\r\n\r\n  clone(index: any, selectRow: any, fieldId: any) {\r\n    let clonedRow = {\r\n      ...selectRow,\r\n    };\r\n    clonedRow[fieldId] = \"clone,delete\";\r\n    this.appliedCriteriaData.splice(index + 1, 0, clonedRow);\r\n  }\r\n  delete(index: any) {\r\n    this.appliedCriteriaData.splice(index, 1);\r\n  }\r\n}\r\n","<div class=\"visible-main-section\">\r\n  <div class=\"details-page-card\">\r\n    <div class=\"d-flex mx-3\" style=\"justify-content: space-between\">\r\n      <div class=\"col-12\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-7 col-lg-7 col-sm-12 col-xs-12\">\r\n            <p class=\"description-text\">\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                width=\"41\"\r\n                height=\"35\"\r\n                viewBox=\"0 0 41 41\"\r\n              >\r\n                <g\r\n                  id=\"Group_2248\"\r\n                  data-name=\"Group 2248\"\r\n                  transform=\"translate(-341 -138)\"\r\n                >\r\n                  <circle\r\n                    id=\"Ellipse_130\"\r\n                    data-name=\"Ellipse 130\"\r\n                    cx=\"20.5\"\r\n                    cy=\"20.5\"\r\n                    r=\"20.5\"\r\n                    transform=\"translate(341 138)\"\r\n                    [attr.fill]=\"primaryColor\"\r\n                  />\r\n                  <path\r\n                    id=\"_52_Note_Basic_Description\"\r\n                    data-name=\"52  Note, Basic, Description\"\r\n                    d=\"M17.054,9.537H9.52a.753.753,0,0,1-.753-.753V5.016a.753.753,0,0,1,.753-.753h.851a3.014,3.014,0,0,1,5.831,0h.851a.753.753,0,0,1,.753.753V8.783A.753.753,0,0,1,17.054,9.537ZM10.274,8.03H16.3V5.77h-.753a.753.753,0,0,1-.753-.753,1.507,1.507,0,0,0-3.014,0,.753.753,0,0,1-.753.753h-.753Zm11.3,12.808V7.277a2.26,2.26,0,0,0-2.26-2.26h-.753V6.523h.753a.753.753,0,0,1,.753.753V20.837a.753.753,0,0,1-.753.753H7.26a.753.753,0,0,1-.753-.753V7.277a.753.753,0,0,1,.753-.753h.753V5.016H7.26A2.26,2.26,0,0,0,5,7.277V20.837A2.26,2.26,0,0,0,7.26,23.1H19.314A2.26,2.26,0,0,0,21.574,20.837ZM17.808,11.8H8.767V13.3h9.041Zm0,3.014H8.767v1.507h9.041Zm0,3.014H8.767v1.507h9.041Z\"\r\n                    transform=\"translate(348.213 145.945)\"\r\n                    fill=\"#fff\"\r\n                  />\r\n                </g>\r\n              </svg>\r\n              Enables users to configure form related settings.\r\n            </p>\r\n          </div>\r\n          <div class=\"col-md-5 col-lg-5 col-sm-12 col-xs-12\">\r\n            <div class=\"row\">\r\n              <div class=\"buttons-section\">\r\n                <button\r\n                  pButton\r\n                  pRipple\r\n                  [disabled]=\"\r\n                    !applyCriteriaFormattedData ||\r\n                    !applyCriteriaFormattedData.length ||\r\n                    deactivated\r\n                  \"\r\n                  type=\"button\"\r\n                  label=\"Save\"\r\n                  class=\"p-button-raised\"\r\n                  (click)=\"saveAddNewRule('save')\"\r\n                ></button>\r\n                <button\r\n                  pButton\r\n                  pRipple\r\n                  type=\"button\"\r\n                  [disabled]=\"\r\n                    !applyCriteriaFormattedData ||\r\n                    !applyCriteriaFormattedData.length ||\r\n                    deactivated\r\n                  \"\r\n                  label=\"Save & Add New\"\r\n                  class=\"p-button-raised\"\r\n                  (click)=\"saveAddNewRule('saveAndAddNew')\"\r\n                ></button>\r\n                <button\r\n                  pButton\r\n                  pRipple\r\n                  type=\"button\"\r\n                  label=\"Reset\"\r\n                  class=\"p-button-warning\"\r\n                  (click)=\"reset()\"\r\n                  [disabled]=\"deactivated\"\r\n                ></button>\r\n                <button\r\n                  *ngIf=\"mode == 'edit'\"\r\n                  pButton\r\n                  pRipple\r\n                  type=\"button\"\r\n                  label=\"{{ deactivated ? 'Activate' : 'Deactivate' }}\"\r\n                  class=\"p-button-raised\"\r\n                  (click)=\"onActive()\"\r\n                ></button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div [formGroup]=\"selectAppModule\" class=\"select-module-application m-2\">\r\n      <div class=\"col-12\">\r\n        <div class=\"row\">\r\n          <div\r\n            class=\"d-flex field col-md-4 col-lg-4 col-sm-12 col-xs-12 md-3 pr-0\"\r\n          >\r\n            <label\r\n              class=\"detail-page-section-heading col-sm-3 col-xs-12 pr-8\"\r\n              for=\"application\"\r\n              >Application</label\r\n            >\r\n            <p-dropdown\r\n              name=\"application\"\r\n              inputId=\"application\"\r\n              class=\"smartSearch\"\r\n              [options]=\"searchApplicationOptions\"\r\n              placeholder=\"Select\"\r\n              optionLabel=\"name\"\r\n              formControlName=\"applications\"\r\n              (onChange)=\"onAppValueChange()\"\r\n            >\r\n              <ng-template let-options pTemplate=\"item\">\r\n                <div class=\"truncate-text\">\r\n                  <div>{{ options.name }}</div>\r\n                </div>\r\n              </ng-template></p-dropdown\r\n            >\r\n          </div>\r\n          <div\r\n            class=\"d-flex field col-md-4 col-lg-4 col-sm-12 col-xs-12 md-3 pr-0 pl-0\"\r\n          >\r\n            <label\r\n              class=\"detail-page-section-heading col-sm-3 col-xs-12 small\"\r\n              for=\"module\"\r\n              >Module</label\r\n            >\r\n            <p-dropdown\r\n              name=\"module\"\r\n              inputId=\"module\"\r\n              class=\"smartSearch\"\r\n              [options]=\"searchModuleOptions\"\r\n              placeholder=\"Select\"\r\n              optionLabel=\"name\"\r\n              formControlName=\"modules\"\r\n              (onChange)=\"onModValueChange()\"\r\n            >\r\n              <ng-template let-options pTemplate=\"item\">\r\n                <div class=\"truncate-text\">\r\n                  <div>{{ options.name }}</div>\r\n                </div>\r\n              </ng-template></p-dropdown\r\n            >\r\n          </div>\r\n          <div\r\n            class=\"d-flex field col-md-4 col-lg-4 col-sm-12 col-xs-12 md-4 pl-0\"\r\n          >\r\n            <label\r\n              class=\"detail-page-section-heading col-sm-3 col-xs-12 smallForm\"\r\n              for=\"form\"\r\n              >Form</label\r\n            >\r\n            <p-dropdown\r\n              name=\"form\"\r\n              inputId=\"form\"\r\n              class=\"smartSearch\"\r\n              [options]=\"searchFormOptions\"\r\n              placeholder=\"Select\"\r\n              optionLabel=\"name\"\r\n              formControlName=\"forms\"\r\n              (onChange)=\"searchAppModule()\"\r\n              ><ng-template let-options pTemplate=\"item\">\r\n                <div class=\"truncate-text\">\r\n                  <div>{{ options.name }}</div>\r\n                </div>\r\n              </ng-template>\r\n            </p-dropdown>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div\r\n      *ngIf=\"appModuleDataPresent && showContent\"\r\n      class=\"d-flex m-3 rule-code-desc-section\"\r\n    >\r\n      <div\r\n        class=\"ruleCode\"\r\n        [pTooltip]=\"\r\n          this.mode == 'add'\r\n            ? 'Rule Code is automatically generated, It may get changed in saving process.'\r\n            : ''\r\n        \"\r\n      >\r\n        <p>Rule Code</p>\r\n        <input type=\"text\" pInputText [(ngModel)]=\"formRuleCode\" disabled />\r\n      </div>\r\n      <div class=\"ruleDesc\">\r\n        <p style=\"position: relative\">\r\n          Form Description <span class=\"description red-star\">*</span>\r\n        </p>\r\n        <input\r\n          type=\"text\"\r\n          pInputText\r\n          [(ngModel)]=\"ruleDescription\"\r\n          maxlength=\"100\"\r\n          placeholder=\"Max 100 characters\"\r\n          [disabled]=\"deactivated\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <app-set-criteria\r\n      *ngIf=\"appModuleDataPresent && showContent\"\r\n      #setCriteriaSharedComponent\r\n      [criteriaMasterData]=\"criteriaMasterData\"\r\n      [fieldDisplayData]=\"fieldDisplayData\"\r\n      [cmCriteriaDataDetails]=\"cmCriteriaDataDetails\"\r\n      [criteriaDataDetailsJson]=\"criteriaDataDetailsJson\"\r\n      [cmCriteriaSlabType]=\"cmCriteriaSlabType\"\r\n      [independantCriteriaArr]=\"independantCriteriaArr\"\r\n      [cmCriteriaMandatory]=\"cmCriteriaMandatory\"\r\n      [cmCriteriaDependency]=\"cmCriteriaDependency\"\r\n      [criteriaMapDdlOptions]=\"criteriaMapDdlOptions\"\r\n      [correspondentDdlOptions]=\"correspondentDdlOptions\"\r\n      [criteriaEqualsDdlOptions]=\"criteriaEqualsDdlOptions\"\r\n      [criteriaTemplatesDdlOptions]=\"criteriaTemplatesDdlOptions\"\r\n      [savingCriteriaTemplateError]=\"savingCriteriaTemplateError\"\r\n      [criteriaText]=\"criteriaText\"\r\n      [criteriaCodeText]=\"criteriaCodeText\"\r\n      [inactiveData]=\"inactiveData\"\r\n      [deactivated]=\"deactivated\"\r\n      (postDataCriteria)=\"applyCriteria($event)\"\r\n      (saveCriteriaAsTemplate)=\"saveCriteriaAsTemplate($event)\"\r\n      (getCorrespondentValues)=\"\r\n        getCorrespondentValues(\r\n          $event.fieldName,\r\n          $event.displayName,\r\n          $event.criteriaCodeText\r\n        )\r\n      \"\r\n      [setCriteriaName]=\"setCriteriaName\"\r\n    ></app-set-criteria>\r\n  </div>\r\n  <div class=\"details-page-card mt-2\" *ngIf=\"applyCriteriaFormattedData.length\">\r\n    <div class=\"details-page-card-content mt-1\">\r\n      <div class=\"criteria-bar\">\r\n        <p class=\"setCriteria detail-page-section-heading\">\r\n          Set Rules\r\n          <img\r\n            height=\"15px\"\r\n            src=\"../assets/Icon-info.svg\"\r\n            alt=\"\"\r\n            pTooltip=\"On selected criteria rules below rules will be applied.\"\r\n          />\r\n        </p>\r\n      </div>\r\n      <div class=\"mt-1 addnewroute-table\">\r\n        <div class=\"ptable\">\r\n          <div class=\"appliedCriteriaDataTable\">\r\n            <p-treeTable\r\n              #treeTable\r\n              [value]=\"applyCriteriaFormattedData\"\r\n              [columns]=\"applyCriteriaDataTableColumns\"\r\n              selectionMode=\"checkbox\"\r\n              [(selection)]=\"selectedNodes\"\r\n              (onNodeSelect)=\"onNodeSelect($event)\"\r\n              (onNodeUnselect)=\"onNodeUnSelect($event)\"\r\n              [scrollable]=\"true\"\r\n              scrollHeight=\"250px\"\r\n              [loading]=\"ttLoading\"\r\n            >\r\n              <ng-template pTemplate=\"colgroup\" let-columns>\r\n                <colgroup>\r\n                  <col *ngFor=\"let col of columns\" [style.width]=\"col.width\" />\r\n                </colgroup>\r\n              </ng-template>\r\n              <ng-template pTemplate=\"header\" let-columns>\r\n                <tr [ttRow]=\"rowNode\">\r\n                  <th *ngFor=\"let col of columns\">\r\n                    {{ col.header }}\r\n\r\n                    <span class=\"info-span\" *ngIf=\"col.info\"\r\n                      ><i\r\n                        class=\"pi pi-info-circle\"\r\n                        [pTooltip]=\"col.info\"\r\n                        tooltipPosition=\"top\"\r\n                      ></i\r\n                    ></span>\r\n                  </th>\r\n                </tr>\r\n                <tr class=\"search-row\">\r\n                  <th *ngFor=\"let col of columns; let i = index\">\r\n                    <span\r\n                      *ngIf=\"\r\n                        !defCols.includes(col.field) || col.field == 'fieldId'\r\n                      \"\r\n                      class=\"p-input-icon-left\"\r\n                      [style.width]=\"'95px'\"\r\n                      [style.maxWidth]=\"'100%'\"\r\n                    >\r\n                      <i class=\"pi pi-search\"></i>\r\n                      <input\r\n                        type=\"text\"\r\n                        class=\"p-inputtext table-search\"\r\n                        [disabled]=\"deactivated\"\r\n                        placeholder=\"Search\"\r\n                        (input)=\"\r\n                          treeTable.filter(\r\n                            $event.target.value,\r\n                            col.field,\r\n                            'contains'\r\n                          )\r\n                        \"\r\n                      />\r\n                    </span>\r\n                  </th>\r\n                </tr>\r\n              </ng-template>\r\n              <ng-template\r\n                pTemplate=\"body\"\r\n                let-rowNode\r\n                let-columns=\"columns\"\r\n                let-rowData=\"rowData\"\r\n              >\r\n                <tr\r\n                  [ngClass]=\"{\r\n                    groupHeading:\r\n                      rowData && !rowData.hasOwnProperty('fieldType'),\r\n                    dataColumn: rowData && rowData.hasOwnProperty('fieldType')\r\n                  }\"\r\n                >\r\n                  <td\r\n                    *ngFor=\"let col of columns; let i = index\"\r\n                    [pTooltip]=\"\r\n                      col.type == 'input' &&\r\n                      col.field == 'defaultValue' &&\r\n                      (rowData['isValidLength'] == false ||\r\n                        rowData['isValidDefValue'] == false)\r\n                        ? defValueInpTooltip\r\n                        : ''\r\n                    \"\r\n                    tooltipPosition=\"bottom\"\r\n                  >\r\n                    <p-treeTableCheckbox\r\n                      [value]=\"rowNode\"\r\n                      *ngIf=\"i == 0\"\r\n                      [ngClass]=\"{\r\n                        dataCheckbox:\r\n                          rowData && rowData.hasOwnProperty('fieldType')\r\n                      }\"\r\n                    ></p-treeTableCheckbox>\r\n\r\n                    <ng-container\r\n                      *ngIf=\"rowData && rowData.hasOwnProperty(col.field)\"\r\n                      [ngSwitch]=\"col.type\"\r\n                    >\r\n                      <ng-container *ngSwitchCase=\"'string'\">\r\n                        <div\r\n                          style=\"display: inline-block\"\r\n                          [title]=\"rowData[col.field]\"\r\n                        >\r\n                          {{\r\n                            rowData[col.field].slice(0, 24) +\r\n                              (rowData[col.field].length > 24 ? \"...\" : \"\")\r\n                          }}\r\n                        </div>\r\n                      </ng-container>\r\n                      <ng-container *ngSwitchCase=\"'text'\">\r\n                        <input\r\n                          type=\"text\"\r\n                          [(ngModel)]=\"rowData[col.field]\"\r\n                          disabled=\"true\"\r\n                        />\r\n                      </ng-container>\r\n                      <ng-container\r\n                        *ngSwitchCase=\"'input'\"\r\n                        [ngSwitch]=\"col.field\"\r\n                      >\r\n                        <ng-container *ngSwitchCase=\"'fieldDisplayName'\">\r\n                          <input type=\"text\" [(ngModel)]=\"rowData[col.field]\" />\r\n                        </ng-container>\r\n                        <ng-container\r\n                          *ngSwitchCase=\"'minLength'\"\r\n                          [ngSwitch]=\"true\"\r\n                        >\r\n                          <ng-container\r\n                            *ngSwitchCase=\"\r\n                              rowData['fieldType'] == 'text' ||\r\n                              rowData['fieldType'] == 'number'\r\n                            \"\r\n                          >\r\n                            <input\r\n                              #minInp\r\n                              type=\"number\"\r\n                              [(ngModel)]=\"rowData[col.field]\"\r\n                              (ngModelChange)=\"\r\n                                minValidation(\r\n                                  $event,\r\n                                  rowData,\r\n                                  minInp,\r\n                                  rowData['maxLength']\r\n                                )\r\n                              \"\r\n                              min=\"0\"\r\n                              max=\"999\"\r\n                            />\r\n                          </ng-container>\r\n                          <ng-container *ngSwitchDefault>\r\n                            <span\r\n                              class=\"not-applicable-value\"\r\n                              [pTooltip]=\"\r\n                                'Not applicable for ' +\r\n                                getFieldTypeName(rowData['fieldType']) +\r\n                                ' field'\r\n                              \"\r\n                              tooltipPosition=\"left\"\r\n                              >NA</span\r\n                            >\r\n                          </ng-container>\r\n                        </ng-container>\r\n                        <ng-container\r\n                          *ngSwitchCase=\"'maxLength'\"\r\n                          [ngSwitch]=\"true\"\r\n                        >\r\n                          <ng-container\r\n                            *ngSwitchCase=\"\r\n                              rowData['fieldType'] == 'text' ||\r\n                              rowData['fieldType'] == 'number'\r\n                            \"\r\n                          >\r\n                            <input\r\n                              #maxInp\r\n                              type=\"number\"\r\n                              [(ngModel)]=\"rowData[col.field]\"\r\n                              (ngModelChange)=\"\r\n                                maxValidation(\r\n                                  $event,\r\n                                  rowData,\r\n                                  maxInp,\r\n                                  rowData['minLength']\r\n                                )\r\n                              \"\r\n                              [pTooltip]=\"\r\n                                rowData['isValidMaxLength'] == false\r\n                                  ? minMaxInpTooltip\r\n                                  : ''\r\n                              \"\r\n                              tooltipPosition=\"bottom\"\r\n                              min=\"0\"\r\n                              max=\"999\"\r\n                            />\r\n                          </ng-container>\r\n                          <ng-container *ngSwitchDefault>\r\n                            <span\r\n                              class=\"not-applicable-value\"\r\n                              [pTooltip]=\"\r\n                                'Not applicable for ' +\r\n                                getFieldTypeName(rowData['fieldType']) +\r\n                                ' field'\r\n                              \"\r\n                              tooltipPosition=\"left\"\r\n                              >NA</span\r\n                            >\r\n                          </ng-container>\r\n                        </ng-container>\r\n                        <ng-container\r\n                          *ngSwitchCase=\"'validLength'\"\r\n                          [ngSwitch]=\"true\"\r\n                        >\r\n                          <ng-container\r\n                            *ngSwitchCase=\"\r\n                              rowData['fieldType'] == 'text' ||\r\n                              rowData['fieldType'] == 'number'\r\n                            \"\r\n                          >\r\n                            <input\r\n                              #validLengthInp\r\n                              *ngIf=\"col.field == 'validLength'\"\r\n                              type=\"text\"\r\n                              [disabled]=\"\r\n                                rowData['fieldType'] == 'date' || deactivated\r\n                              \"\r\n                              [pTooltip]=\"\r\n                                col.field == 'validLength' &&\r\n                                rowData['isValidLength'] == false\r\n                                  ? minMaxInpTooltip\r\n                                  : ''\r\n                              \"\r\n                              tooltipPosition=\"bottom\"\r\n                            />\r\n                          </ng-container>\r\n                          <ng-container *ngSwitchDefault>\r\n                            <span\r\n                              class=\"not-applicable-value\"\r\n                              [pTooltip]=\"\r\n                                'Not applicable for ' +\r\n                                getFieldTypeName(rowData['fieldType']) +\r\n                                ' field'\r\n                              \"\r\n                              tooltipPosition=\"left\"\r\n                              >NA</span\r\n                            >\r\n                          </ng-container>\r\n                        </ng-container>\r\n                        <ng-container\r\n                          *ngSwitchCase=\"'defaultValue'\"\r\n                          [ngSwitch]=\"true\"\r\n                        >\r\n                          <ng-container\r\n                            *ngSwitchCase=\"\r\n                              rowData['fieldType'] == 'text' ||\r\n                              rowData['fieldType'] == 'number' ||\r\n                              rowData['fieldType'] == 'date'\r\n                            \"\r\n                          >\r\n                            <input\r\n                              #defValueInp\r\n                              type=\"text\"\r\n                              class=\"default-Value-input\"\r\n                              [ngClass]=\"{\r\n                                inputError:\r\n                                  rowData['defaultValue'] &&\r\n                                  rowData['isValidDefValue'] == false\r\n                              }\"\r\n                              [(ngModel)]=\"rowData[col.field]\"\r\n                              [placeholder]=\"\r\n                                rowData[col.field]\r\n                                  ? rowData[col.field]\r\n                                  : rowData['fieldType'] == 'date'\r\n                                  ? 'DD/MM/YYYY'\r\n                                  : ''\r\n                              \"\r\n                              (ngModelChange)=\"\r\n                                defValueValidation(\r\n                                  $event,\r\n                                  rowData,\r\n                                  defValueInp,\r\n                                  rowData['minLength'],\r\n                                  rowData['maxLength']\r\n                                )\r\n                              \"\r\n                              [disabled]=\"\r\n                                rowData['isValidLength'] == false || deactivated\r\n                              \"\r\n                            />\r\n                          </ng-container>\r\n                          <ng-container\r\n                            *ngSwitchCase=\"\r\n                              rowData['fieldType'] == 'dropdownSingle'\r\n                            \"\r\n                          >\r\n                            <p-dropdown\r\n                              class=\"block smartSearch\"\r\n                              [options]=\"formFieldsMaster[rowData['apiKey']]\"\r\n                              [(ngModel)]=\"rowData[col.field]\"\r\n                              optionLabel=\"codeName\"\r\n                              [filter]=\"true\"\r\n                              filterBy=\"codeName\"\r\n                              placeholder=\"Select\"\r\n                              [virtualScroll]=\"true\"\r\n                              [virtualScrollItemSize]=\"35\"\r\n                            >\r\n                            </p-dropdown>\r\n                          </ng-container>\r\n                          <ng-container *ngSwitchDefault\r\n                            ><span\r\n                              class=\"not-applicable-value\"\r\n                              [pTooltip]=\"\r\n                                'Not applicable for ' +\r\n                                getFieldTypeName(rowData['fieldType']) +\r\n                                ' field'\r\n                              \"\r\n                              tooltipPosition=\"left\"\r\n                              >NA</span\r\n                            ></ng-container\r\n                          >\r\n                        </ng-container>\r\n                        <ng-container *ngSwitchDefault>\r\n                          <ng-container [ngSwitch]=\"true\">\r\n                            <ng-container\r\n                              *ngSwitchCase=\"\r\n                                rowData['fieldType'] == 'text' ||\r\n                                rowData['fieldType'] == 'number'\r\n                              \"\r\n                            >\r\n                              <input\r\n                                class=\"editable-input\"\r\n                                *ngIf=\"\r\n                                  col.field == 'regex' ||\r\n                                  col.field == 'regexMessage' ||\r\n                                  col.field == 'prefix' ||\r\n                                  col.field == 'suffix' ||\r\n                                  col.field == 'masking'\r\n                                \"\r\n                                type=\"text\"\r\n                                [(ngModel)]=\"rowData[col.field]\"\r\n                                [disabled]=\"\r\n                                  !(\r\n                                    rowData['fieldType'] == 'text' ||\r\n                                    rowData['fieldType'] == 'number'\r\n                                  )\r\n                                \"\r\n                              />\r\n                            </ng-container>\r\n                            <ng-container *ngSwitchDefault>\r\n                              <span\r\n                                class=\"not-applicable-value\"\r\n                                [pTooltip]=\"\r\n                                  'Not applicable for ' +\r\n                                  getFieldTypeName(rowData['fieldType']) +\r\n                                  ' field'\r\n                                \"\r\n                                tooltipPosition=\"left\"\r\n                                >NA</span\r\n                              >\r\n                            </ng-container>\r\n                          </ng-container>\r\n                        </ng-container>\r\n                      </ng-container>\r\n\r\n                      <ng-container\r\n                        *ngSwitchCase=\"'checkbox'\"\r\n                        [ngSwitch]=\"true\"\r\n                      >\r\n                        <ng-container\r\n                          *ngSwitchCase=\"\r\n                            col.field == 'displayValidValuesOnHover'\r\n                          \"\r\n                          [ngSwitch]=\"true\"\r\n                        >\r\n                          <ng-container\r\n                            *ngSwitchCase=\"\r\n                              rowData['fieldType'] == 'text' ||\r\n                              rowData['fieldType'] == 'date' ||\r\n                              rowData['fieldType'] == 'number'\r\n                            \"\r\n                          >\r\n                            <div style=\"text-align: center\">\r\n                              <input\r\n                                type=\"checkbox\"\r\n                                [(ngModel)]=\"rowData[col.field]\"\r\n                                [disabled]=\"deactivated\"\r\n                              />\r\n                            </div>\r\n                          </ng-container>\r\n                          <ng-container *ngSwitchDefault\r\n                            ><span\r\n                              class=\"not-applicable-value\"\r\n                              [pTooltip]=\"\r\n                                'Not applicable for ' +\r\n                                getFieldTypeName(rowData['fieldType']) +\r\n                                ' field'\r\n                              \"\r\n                              tooltipPosition=\"left\"\r\n                              >NA</span\r\n                            ></ng-container\r\n                          >\r\n                        </ng-container>\r\n                        <ng-container\r\n                          *ngSwitchCase=\"\r\n                            col.field == 'isMandatory' ||\r\n                            col.field == 'isEnable' ||\r\n                            col.field == 'isVisible' ||\r\n                            col.field == 'checkDuplicate' ||\r\n                            col.field == 'displayInNewLine' ||\r\n                            col.field == 'block' ||\r\n                            col.field == 'warning'\r\n                          \"\r\n                        >\r\n                          <div style=\"text-align: center\">\r\n                            <input\r\n                              type=\"checkbox\"\r\n                              [(ngModel)]=\"rowData[col.field]\"\r\n                              (change)=\"\r\n                                toggleCheckbox($event, rowData, col.field)\r\n                              \"\r\n                              [disabled]=\"\r\n                                ((col.field == 'isVisible' ||\r\n                                  col.field == 'isEnable') &&\r\n                                  rowData['isMandatory']) ||\r\n                                deactivated\r\n                              \"\r\n                            />\r\n                          </div>\r\n                        </ng-container>\r\n                      </ng-container>\r\n                      <ng-container\r\n                        *ngSwitchCase=\"'dropdownMulti'\"\r\n                        [ngSwitch]=\"true\"\r\n                      >\r\n                        <ng-container\r\n                          *ngSwitchCase=\"\r\n                            rowData['fieldType'] == 'dropdownSingle' ||\r\n                            rowData['fieldType'] == 'dropdownMulti'\r\n                          \"\r\n                        >\r\n                          <p-multiSelect\r\n                            [options]=\"formFieldsMaster[rowData['apiKey']]\"\r\n                            [showToggleAll]=\"false\"\r\n                            [(ngModel)]=\"rowData[col.field]\"\r\n                            optionLabel=\"codeName\"\r\n                            [filter]=\"true\"\r\n                            filterBy=\"codeName\"\r\n                            [virtualScroll]=\"true\"\r\n                            [virtualScrollItemSize]=\"35\"\r\n                            class=\"multiselect-custom-virtual-scroll\"\r\n                            placeholder=\"Select\"\r\n                            [appendTo]=\"'body'\"\r\n                            panelStyleClass=\"formRule-dropdown\"\r\n                            (ngModelChange)=\"check(rowData[col.field])\"\r\n                          >\r\n                          </p-multiSelect>\r\n                        </ng-container>\r\n                        <ng-container *ngSwitchDefault\r\n                          ><span\r\n                            class=\"not-applicable-value\"\r\n                            [pTooltip]=\"\r\n                              'Not applicable for ' +\r\n                              getFieldTypeName(rowData['fieldType']) +\r\n                              ' field'\r\n                            \"\r\n                            tooltipPosition=\"left\"\r\n                            >NA</span\r\n                          ></ng-container\r\n                        >\r\n                      </ng-container>\r\n                      <ng-container *ngSwitchCase=\"'chips'\" [ngSwitch]=\"true\">\r\n                        <ng-container\r\n                          *ngSwitchCase=\"\r\n                            rowData['fieldType'] == 'text' ||\r\n                            rowData['fieldType'] == 'date' ||\r\n                            rowData['fieldType'] == 'number'\r\n                          \"\r\n                        >\r\n                          <p-chips\r\n                            [(ngModel)]=\"rowData[col.field]\"\r\n                            separator=\",\"\r\n                            [placeholder]=\"\r\n                              rowData['fieldType'] == 'date'\r\n                                ? 'Hint: DD/MM/YYYY,DD/MM/YYYY'\r\n                                : rowData['fieldType'] == 'text'\r\n                                ? 'Hint: A,B,C'\r\n                                : 'Hint: 1,2,3'\r\n                            \"\r\n                          ></p-chips>\r\n                        </ng-container>\r\n                        <ng-container *ngSwitchDefault\r\n                          ><span\r\n                            class=\"not-applicable-value\"\r\n                            [pTooltip]=\"\r\n                              'Not applicable for ' +\r\n                              getFieldTypeName(rowData['fieldType']) +\r\n                              ' field'\r\n                            \"\r\n                            tooltipPosition=\"left\"\r\n                            >NA</span\r\n                          ></ng-container\r\n                        >\r\n                      </ng-container>\r\n                      <ng-container\r\n                        *ngSwitchCase=\"'dropdownSingle'\"\r\n                        [ngSwitch]=\"true\"\r\n                      >\r\n                        <ng-container\r\n                          *ngSwitchCase=\"\r\n                            col.field == 'warningMessageCode' ||\r\n                            col.field == 'blockMessageCode'\r\n                          \"\r\n                        >\r\n                          <p-dropdown\r\n                            class=\"block smartSearch\"\r\n                            [options]=\"\r\n                              customMsgMaster[col.field.split('MessageCode')[0]]\r\n                            \"\r\n                            [(ngModel)]=\"rowData[col.field]\"\r\n                            optionLabel=\"codeName\"\r\n                            placeholder=\"Select\"\r\n                          >\r\n                          </p-dropdown>\r\n                        </ng-container>\r\n                        <ng-container *ngSwitchDefault\r\n                          ><p-dropdown\r\n                            class=\"block smartSearch\"\r\n                            [options]=\"formFieldsMaster[rowData['apiKey']]\"\r\n                            [(ngModel)]=\"rowData[col.field]\"\r\n                            optionLabel=\"codeName\"\r\n                            placeholder=\"Select\"\r\n                            [virtualScroll]=\"true\"\r\n                            [virtualScrollItemSize]=\"35\"\r\n                          >\r\n                          </p-dropdown\r\n                        ></ng-container>\r\n                      </ng-container>\r\n                      <ng-container *ngSwitchDefault\r\n                        ><span class=\"not-applicable-value\"\r\n                          >NA</span\r\n                        ></ng-container\r\n                      >\r\n                    </ng-container>\r\n                  </td>\r\n                </tr>\r\n              </ng-template>\r\n            </p-treeTable>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div\r\n  class=\"NorecordFound\"\r\n  *ngIf=\"!showContent && appModuleDataPresent && !appliedCriteriaData.length\"\r\n>\r\n  <div class=\"row\">\r\n    <div class=\"col-12\"><img src=\"assets/noRecordFound.svg\" /></div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col-12\">\r\n      <p>No Record Found.</p>\r\n    </div>\r\n  </div>\r\n</div>\r\n<p-confirmDialog\r\n  key=\"formRulesLinkedWarning\"\r\n  class=\"linked-confirm confirm-popup\"\r\n  #cd\r\n  icon=\"pi pi-exclamation-triangle\"\r\n  [closable]=\"false\"\r\n>\r\n  <p-footer>\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-check\"\r\n      label=\"Ok\"\r\n      (click)=\"cd.accept()\"\r\n    ></button>\r\n  </p-footer>\r\n</p-confirmDialog>\r\n\r\n<p-confirmDialog\r\n  key=\"resetFormDataConfirmation\"\r\n  class=\"confirm-popup\"\r\n  #cd2\r\n  icon=\"pi pi-exclamation-triangle\"\r\n  [closable]=\"false\"\r\n>\r\n  <p-footer>\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-check\"\r\n      label=\"Yes\"\r\n      (click)=\"cd2.accept()\"\r\n    ></button>\r\n\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-times\"\r\n      label=\"Cancel\"\r\n      (click)=\"cd2.reject()\"\r\n    ></button>\r\n  </p-footer>\r\n</p-confirmDialog>\r\n<p-confirmDialog\r\n  key=\"activeDeactiveStatusForm\"\r\n  class=\"status-confirm confirm-popup\"\r\n  #cd4\r\n  [closable]=\"false\"\r\n>\r\n  <p-footer>\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-check\"\r\n      label=\"Yes\"\r\n      (click)=\"cd4.accept()\"\r\n    ></button>\r\n\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-times\"\r\n      label=\"No\"\r\n      (click)=\"cd4.reject()\"\r\n    ></button>\r\n  </p-footer>\r\n</p-confirmDialog>\r\n","import { Component, OnInit, ViewChild } from \"@angular/core\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { ConfirmationService, MessageService } from \"primeng/api\";\r\nimport { ConfirmDialog } from \"primeng/confirmdialog\";\r\nimport { CoreService } from \"src/app/core.service\";\r\nimport { FormRuleService } from \"../form-rule.service\";\r\nimport { MultiSelect } from \"primeng/multiselect\";\r\nimport { forkJoin } from \"rxjs\";\r\nimport { map, take } from \"rxjs/operators\";\r\nimport { SetCriteriaService } from \"src/app/shared/components/set-criteria/set-criteria.service\";\r\nimport {\r\n  UntypedFormBuilder,\r\n  UntypedFormControl,\r\n  Validators,\r\n} from \"@angular/forms\";\r\n\r\nimport _lodashClone from \"lodash-es/cloneDeep\";\r\n\r\n@Component({\r\n  selector: \"app-form-rule-listing\",\r\n  templateUrl: \"./form-rule-listing.component.html\",\r\n  styleUrls: [\"./form-rule-listing.component.scss\"],\r\n})\r\nexport class FormRuleListingComponent implements OnInit {\r\n  // formName = \"Form Rules\";\r\n\r\n  formRuleListingData: any = [];\r\n  formRuleData: any = [];\r\n\r\n  objectKeys = Object.keys;\r\n  @ViewChild(\"cd\") cd: ConfirmDialog;\r\n\r\n  showNoDataFound: boolean = false;\r\n\r\n  cols: any[] = [\r\n    { field: \"formRuleCode\", header: \"Rule Code\", width: \"10%\" },\r\n    { field: \"formRuleDescription\", header: \"Rule Description\", width: \"20%\" },\r\n    { field: \"criteriaMap\", header: \"Criteria\", width: \"55%\" },\r\n    { field: \"status\", header: \"Status\", width: \"7%\" },\r\n    { field: \"operation\", header: \"Operations\", width: \"8%\" },\r\n  ];\r\n\r\n  showformRuleCodeOptions: boolean = false;\r\n  showformRuleDescOptions: boolean = false;\r\n  showcriteriaMapOptions: boolean = false;\r\n  showstatusOptions: boolean = false;\r\n\r\n  formRuleCode = [];\r\n  formRuleDesc = [];\r\n  criteriaMap = [];\r\n  status = [];\r\n\r\n  userData: any = {};\r\n  selectedFilterformRuleCode: any[] = [];\r\n  selectedFilterformRuleDesc: any[] = [];\r\n  selectedFiltercriteriaMap: any[] = [];\r\n  selectedFilterstatus: any[] = [];\r\n\r\n  formruleListingApiData: any = {};\r\n  loading: boolean = true;\r\n\r\n  noDataMsg: string = \"Form Rule Data Not Available\";\r\n\r\n  linkedFormRuleCode: any = [];\r\n\r\n  selectAppModule: any;\r\n  searchApplicationOptions: any[] = [];\r\n  searchModuleOptions: any[] = [];\r\n  searchFormOptions: any[] = [];\r\n\r\n  fieldDisplayData = {};\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private coreService: CoreService,\r\n    private route: ActivatedRoute,\r\n    private formRuleService: FormRuleService,\r\n    private setCriteriaService: SetCriteriaService,\r\n    private confirmationService: ConfirmationService,\r\n    private fb: UntypedFormBuilder\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.coreService.displayLoadingScreen();\r\n    this.route.data.subscribe((data) => {\r\n      this.coreService.setBreadCrumbMenu(Object.values(data));\r\n    });\r\n    this.formRuleService.applicationName = null;\r\n    this.formRuleService.moduleName = null;\r\n    this.formRuleService.formName = null;\r\n    this.userData = JSON.parse(localStorage.getItem(\"userData\"));\r\n    this.setSelectAppModule();\r\n\r\n    // !\r\n    this.searchApplicationOptions = JSON.parse(\r\n      localStorage.getItem(\"appAccess\")\r\n    );\r\n    this.searchModuleOptions = JSON.parse(localStorage.getItem(\"modAccess\"));\r\n    let defAppMod = JSON.parse(localStorage.getItem(\"defAppModule\"));\r\n    let currAppMod = JSON.parse(sessionStorage.getItem(\"form\"));\r\n\r\n    let defApp = null;\r\n    let defMod = null;\r\n\r\n    if (currAppMod) {\r\n      console.log(currAppMod);\r\n      defApp = this.searchApplicationOptions.filter(\r\n        (opt) => opt.code == currAppMod.applicationName.code\r\n      )[0];\r\n      defMod = this.searchModuleOptions.filter(\r\n        (opt) => opt.code == currAppMod.moduleName.code\r\n      )[0];\r\n    } else {\r\n      if (defAppMod) {\r\n        defApp = JSON.parse(localStorage.getItem(\"applicationName\"));\r\n        defMod = JSON.parse(localStorage.getItem(\"moduleName\"));\r\n      }\r\n    }\r\n\r\n    if (defApp) {\r\n      this.appCtrl.patchValue(defApp);\r\n    }\r\n    if (defMod) {\r\n      this.moduleCtrl.patchValue(defMod);\r\n    }\r\n\r\n    if (this.appCtrl.value && this.moduleCtrl.value) {\r\n      this.formCtrl.enable();\r\n    }\r\n\r\n    this.formRuleService.getFormRulesAppModuleList().subscribe(\r\n      (res) => {\r\n        this.coreService.removeLoadingScreen();\r\n        if (\r\n          res[\"status\"] &&\r\n          typeof res[\"status\"] == \"string\" &&\r\n          (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n        ) {\r\n          if (res[\"error\"]) {\r\n            this.coreService.showWarningToast(res[\"error\"]);\r\n          } else {\r\n            this.coreService.showWarningToast(\"Some error in fetching data\");\r\n          }\r\n        } else {\r\n          if (!res[\"msg\"]) {\r\n            this.searchFormOptions = res[\"data\"][\"cmCriteriaFormsMaster\"]\r\n              .filter((form) => {\r\n                return form.criteriaForms.includes(\"_Form Rules\");\r\n              })\r\n              .map((form) => {\r\n                return { name: form.criteriaForms, code: form.criteriaForms };\r\n              });\r\n          } else {\r\n          }\r\n        }\r\n      },\r\n      (err) => {\r\n        this.coreService.removeLoadingScreen();\r\n        this.coreService.showWarningToast(\"Some error in fetching data\");\r\n      }\r\n    );\r\n  }\r\n\r\n  setSelectAppModule() {\r\n    this.selectAppModule = this.fb.group({\r\n      applications: new UntypedFormControl({ value: \"\", disabled: false }, [\r\n        Validators.required,\r\n      ]),\r\n      modules: new UntypedFormControl({ value: \"\", disabled: false }, [\r\n        Validators.required,\r\n      ]),\r\n      forms: new UntypedFormControl({ value: \"\", disabled: false }, [\r\n        Validators.required,\r\n      ]),\r\n    });\r\n  }\r\n\r\n  get appCtrl() {\r\n    return this.selectAppModule.get(\"applications\");\r\n  }\r\n  get moduleCtrl() {\r\n    return this.selectAppModule.get(\"modules\");\r\n  }\r\n  get formCtrl() {\r\n    return this.selectAppModule.get(\"forms\");\r\n  }\r\n\r\n  searchAppModule() {\r\n    let currAppMod = {\r\n      applicationName: this.appCtrl.value,\r\n      moduleName: this.moduleCtrl.value,\r\n      formName: this.formCtrl.value,\r\n    };\r\n    sessionStorage.setItem(\"form\", JSON.stringify(currAppMod));\r\n    this.getDecodedDataForListing(\r\n      this.userData.userId,\r\n      this.appCtrl.value.code,\r\n      this.moduleCtrl.value.code,\r\n      this.formCtrl.value.code\r\n    );\r\n  }\r\n\r\n  getDecodedDataForListing(\r\n    userId: any,\r\n    appValue: any,\r\n    moduleValue: any,\r\n    formValue: any\r\n  ) {\r\n    this.coreService.displayLoadingScreen();\r\n    forkJoin({\r\n      criteriaMasterData: this.formRuleService.getCriteriaMasterData(\r\n        userId,\r\n        formValue,\r\n        appValue,\r\n        moduleValue\r\n      ),\r\n      formRuleListingData: this.formRuleService.getRuleCodeData(\r\n        userId,\r\n        formValue,\r\n        appValue,\r\n        moduleValue\r\n      ),\r\n    })\r\n      .pipe(\r\n        take(1),\r\n        map((response) => {\r\n          let criteriaMasterJson = _lodashClone(response.criteriaMasterData);\r\n          delete criteriaMasterJson[\"fieldDisplay\"];\r\n          this.fieldDisplayData = response.criteriaMasterData[\"fieldDisplay\"];\r\n          const criteriaMasterData = criteriaMasterJson;\r\n          const formRuleListingData = response.formRuleListingData;\r\n\r\n          if (Object.keys(criteriaMasterData).length) {\r\n            if (formRuleListingData[\"data\"]) {\r\n              this.formruleListingApiData = formRuleListingData;\r\n              this.formruleListingApiData.data.forEach((rule) => {\r\n                let beforeSplit = rule.criteriaMap.split(\"&&&&\")[0];\r\n                const sections = rule.criteriaMap.split(\"&&&&\");\r\n                let criteria = {};\r\n                let amounts = \"\";\r\n                let dates = \"\";\r\n                let afterSplit = \"\";\r\n\r\n                // Process each section\r\n                sections.forEach((section) => {\r\n                  if (section.includes(\"from\") && section.includes(\"to\")) {\r\n                    const amountsArray = section\r\n                      .split(\"#\")\r\n                      .map((amountSection) => {\r\n                        const [from, to] = amountSection\r\n                          .split(\"::\")\r\n                          .map((part) => part.split(\":\")[1]);\r\n                        return `Between ${from} - ${to}`;\r\n                      });\r\n                    amounts = amountsArray.join(\" & \");\r\n                  } else if (\r\n                    section.startsWith(\"trnStartDate\") &&\r\n                    section.includes(\"trnEndDate\")\r\n                  ) {\r\n                    // Extract the dates\r\n                    const dateSections = section\r\n                      .split(\"#\")\r\n                      .map((dateSection) => {\r\n                        const [startDate, endDate] = dateSection\r\n                          .split(\"::\")\r\n                          .map((part) => part.split(\"=\")[1]);\r\n                        return `Between ${startDate} - ${endDate}`;\r\n                      });\r\n                    dates = dateSections.join(\" & \");\r\n                  }\r\n                });\r\n\r\n                if (amounts.length && dates.length) {\r\n                  afterSplit += `Amount (${amounts}), Date (${dates})`;\r\n                } else if (amounts.length) {\r\n                  afterSplit += `Amount (${amounts})`;\r\n                } else if (dates.length) {\r\n                  afterSplit += `Date (${dates})`;\r\n                }\r\n                console.log(\"555\", afterSplit);\r\n\r\n                if (beforeSplit.length) {\r\n                  let criteriaCodeText = this.setCriteriaService.setCriteriaMap(\r\n                    {\r\n                      criteriaMap: beforeSplit,\r\n                    }\r\n                  );\r\n                  rule.criteriaMap = (\r\n                    this.setCriteriaService.decodeFormattedCriteria(\r\n                      criteriaCodeText,\r\n                      criteriaMasterData,\r\n                      this.fieldDisplayData\r\n                    ) as []\r\n                  ).join(\", \");\r\n                  if (afterSplit?.length) {\r\n                    rule.criteriaMap = rule.criteriaMap + \", \" + afterSplit;\r\n                  }\r\n                } else {\r\n                  if (afterSplit?.length) {\r\n                    rule.criteriaMap = afterSplit;\r\n                  }\r\n                }\r\n              });\r\n              this.formRuleData = [...this.formruleListingApiData.data];\r\n              this.showNoDataFound = false;\r\n              this.linkedFormRuleCode = [\r\n                ...this.formruleListingApiData.linkedFormRuleCode,\r\n              ];\r\n              this.formRuleCode = this.formruleListingApiData.formRuleCode.map(\r\n                (code) => {\r\n                  return { label: code, value: code };\r\n                }\r\n              );\r\n              this.formRuleDesc = this.formruleListingApiData.formRuleDesc.map(\r\n                (code) => {\r\n                  return { label: code, value: code };\r\n                }\r\n              );\r\n              this.criteriaMap = this.formruleListingApiData.criteriaMap.map(\r\n                (criteriaMap) => {\r\n                  let criteriaCodeText = this.setCriteriaService.setCriteriaMap(\r\n                    {\r\n                      criteriaMap: criteriaMap.split(\"&&&&\")[0],\r\n                    }\r\n                  );\r\n                  let code = (\r\n                    this.setCriteriaService.decodeFormattedCriteria(\r\n                      criteriaCodeText,\r\n                      criteriaMasterData,\r\n                      this.fieldDisplayData\r\n                    ) as []\r\n                  ).join(\", \");\r\n                  return { label: code, value: code };\r\n                }\r\n              );\r\n              this.status = this.formruleListingApiData.status.map((code) => {\r\n                return { label: code, value: code };\r\n              });\r\n            } else {\r\n              if (formRuleListingData[\"msg\"]) {\r\n                this.coreService.showWarningToast(formRuleListingData[\"msg\"]);\r\n              }\r\n              this.showNoDataFound = true;\r\n              this.formRuleData = [];\r\n            }\r\n          }\r\n          return formRuleListingData;\r\n        })\r\n      )\r\n      .subscribe(\r\n        (res) => {\r\n          this.coreService.removeLoadingScreen();\r\n          this.loading = false;\r\n          if (\r\n            res[\"status\"] &&\r\n            typeof res[\"status\"] == \"string\" &&\r\n            (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n          ) {\r\n            this.showNoDataFound = true;\r\n            if (res[\"error\"]) {\r\n              this.coreService.showWarningToast(res[\"error\"]);\r\n            } else {\r\n              this.coreService.showWarningToast(\"Some error in fetching data\");\r\n            }\r\n          } else {\r\n            if (!res[\"data\"]) {\r\n              this.showNoDataFound = true;\r\n            }\r\n          }\r\n        },\r\n        (err) => {\r\n          this.coreService.removeLoadingScreen();\r\n          this.formRuleData = null;\r\n          this.loading = false;\r\n          this.showNoDataFound = true;\r\n          console.log(\"Error in getting form rule list data\", err);\r\n          this.coreService.showWarningToast(\r\n            \"Some Error in getting form rule list data\"\r\n          );\r\n        }\r\n      );\r\n  }\r\n\r\n  viewFormRules(data: any) {\r\n    this.formRuleService.applicationName = this.appCtrl.value.code;\r\n    this.formRuleService.moduleName = this.moduleCtrl.value.code;\r\n    this.formRuleService.formName = this.formCtrl.value.code;\r\n    this.router.navigate([\r\n      \"navbar\",\r\n      \"form-rules\",\r\n      \"addnewformrule\",\r\n      data.formRuleCode,\r\n      \"edit\",\r\n    ]);\r\n    this.formRuleService.setData(data);\r\n  }\r\n\r\n  isLinked(id: any) {\r\n    return this.linkedFormRuleCode.includes(id);\r\n  }\r\n\r\n  confirmStatus(e: any, data: any) {\r\n    e.preventDefault();\r\n    let type = \"\";\r\n    let reqStatus = \"\";\r\n    if (e.target.checked) {\r\n      reqStatus = \"Active\";\r\n      type = \"activate\";\r\n    } else {\r\n      reqStatus = \"Inactive\";\r\n      type = \"deactivate\";\r\n    }\r\n    this.coreService.setSidebarBtnFixedStyle(false);\r\n    this.coreService.setHeaderStickyStyle(false);\r\n    let completeMsg = \"\";\r\n    let isLinkedMsg = `Active Transactions Exist. </br>`;\r\n    if (\r\n      reqStatus == \"Inactive\" &&\r\n      this.linkedFormRuleCode.includes(data[\"formRuleCode\"])\r\n    ) {\r\n      completeMsg =\r\n        isLinkedMsg +\r\n        `Do you wish to ` +\r\n        type +\r\n        ` the Rule Record: ${data[\"formRuleCode\"]}?`;\r\n    } else {\r\n      completeMsg =\r\n        `<img src=\"../../../assets/warning.svg\"><br/><br/>` +\r\n        `Do you wish to ` +\r\n        type +\r\n        ` the Rule Record: ${data[\"formRuleCode\"]}?`;\r\n    }\r\n    this.confirmationService.confirm({\r\n      message: completeMsg,\r\n      key: \"activeDeactiveStatus\",\r\n      accept: () => {\r\n        this.updateStatus(e, reqStatus, data);\r\n        this.setHeaderSidebarBtn(true);\r\n      },\r\n      reject: () => {\r\n        this.confirmationService.close;\r\n        this.setHeaderSidebarBtn(false);\r\n      },\r\n    });\r\n  }\r\n\r\n  setHeaderSidebarBtn(accept: boolean) {\r\n    this.coreService.displayLoadingScreen();\r\n    setTimeout(() => {\r\n      this.coreService.setHeaderStickyStyle(true);\r\n      this.coreService.setSidebarBtnFixedStyle(true);\r\n    }, 500);\r\n    if (!accept) {\r\n      setTimeout(() => {\r\n        this.coreService.removeLoadingScreen();\r\n      }, 1000);\r\n    }\r\n  }\r\n\r\n  updateStatus(e: any, reqStatus: any, data: any) {\r\n    this.coreService.displayLoadingScreen();\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"userId\", this.userData.userId);\r\n    formData.append(\"formRuleCode\", data[\"formRuleCode\"]);\r\n    formData.append(\"status\", reqStatus);\r\n    formData.append(\"applications\", this.appCtrl.value.code);\r\n    formData.append(\"moduleName\", this.moduleCtrl.value.code);\r\n    formData.append(\"form\", this.formCtrl.value.code);\r\n    this.updateFormRuleStatus(formData, e.target, data);\r\n  }\r\n\r\n  updateFormRuleStatus(formData: any, sliderElm: any, ruleData: any) {\r\n    this.formRuleService.updateFormRuleStatus(formData).subscribe(\r\n      (res) => {\r\n        let message = \"\";\r\n        if (res[\"error\"] == \"true\") {\r\n          this.coreService.removeLoadingScreen();\r\n          message = `Kindly deactivate the Rule code: ${res[\"msg\"]} ( ${ruleData[\"criteriaMap\"]} ) to activate the current record.`;\r\n          this.coreService.showWarningToast(message);\r\n        } else {\r\n          if (res[\"msg\"]) {\r\n            message = res[\"msg\"];\r\n            sliderElm.checked = sliderElm!.checked;\r\n            this.getDecodedDataForListing(\r\n              this.userData.userId,\r\n              this.appCtrl.value.code,\r\n              this.moduleCtrl.value.code,\r\n              this.formCtrl.value.code\r\n            );\r\n            this.coreService.showSuccessToast(message);\r\n          } else {\r\n            this.coreService.removeLoadingScreen();\r\n            message = \"Erro in fetching data, Please try again later\";\r\n            this.coreService.showWarningToast(message);\r\n          }\r\n        }\r\n      },\r\n      (err) => {\r\n        console.log(err);\r\n        this.coreService.removeLoadingScreen();\r\n      }\r\n    );\r\n  }\r\n\r\n  cloneFormRule(data: any) {\r\n    this.formRuleService.applicationName = this.appCtrl.value.code;\r\n    this.formRuleService.moduleName = this.moduleCtrl.value.code;\r\n    this.formRuleService.formName = this.formCtrl.value.code;\r\n    this.router.navigate([\r\n      \"navbar\",\r\n      \"form-rules\",\r\n      \"addnewformrule\",\r\n      data.formRuleCode,\r\n      \"clone\",\r\n    ]);\r\n  }\r\n\r\n  addNewFormRule() {\r\n    this.router.navigate([\"navbar\", \"form-rules\", \"addnewformrule\"]);\r\n  }\r\n\r\n  toggleFilterVisibility(field) {\r\n    this[`show${field}Options`] = !this[`show${field}Options`];\r\n  }\r\n\r\n  hideFilterVisibility(field) {\r\n    this[`show${field}Options`] = false;\r\n  }\r\n\r\n  getSelectedFilterArr(field: any) {\r\n    return this[`selectedFilter${field}`];\r\n  }\r\n\r\n  setSelectedFilter(ms: MultiSelect, field: any) {\r\n    this[`selectedFilter${field}`] = ms.value;\r\n  }\r\n\r\n  fieldFilterVisible(field: any) {\r\n    return this[`show${field}Options`];\r\n  }\r\n\r\n  fieldFilterOptions(field: any): [] {\r\n    return this[field];\r\n  }\r\n\r\n  copyToClipboard(text: string) {\r\n    this.coreService.copyToClipboard(text);\r\n  }\r\n}\r\n","<div class=\"visible-main-section\">\r\n  <div class=\"pagetitle\">\r\n    <div class=\"infoicon\">\r\n      <i class=\"pi pi-info-circle\"></i>\r\n      List of form rules.\r\n    </div>\r\n    <div class=\"addnew\">\r\n      <button\r\n        pButton\r\n        pRipple\r\n        type=\"button\"\r\n        label=\"Add New Rule\"\r\n        class=\"p-button-raised\"\r\n        (click)=\"addNewFormRule()\"\r\n      ></button>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"app-form-search\">\r\n    <div [formGroup]=\"selectAppModule\" class=\"select-module-application m-2\">\r\n      <div class=\"col-12\">\r\n        <div class=\"row\">\r\n          <div class=\"d-flex field col-md-3 col-lg-3 col-sm-12 col-xs-12 md-3\">\r\n            <label\r\n              class=\"detail-page-section-heading col-sm-3 col-xs-12 pr-7\"\r\n              for=\"application\"\r\n              >Application</label\r\n            >\r\n            <p-dropdown\r\n              name=\"application\"\r\n              class=\"smartSearch\"\r\n              inputId=\"application\"\r\n              [options]=\"searchApplicationOptions\"\r\n              placeholder=\"Select\"\r\n              optionLabel=\"name\"\r\n              formControlName=\"applications\"\r\n            >\r\n              <ng-template let-options pTemplate=\"item\">\r\n                <div class=\"truncate-text\">\r\n                  <div>{{ options.name }}</div>\r\n                </div>\r\n              </ng-template></p-dropdown\r\n            >\r\n          </div>\r\n          <div class=\"d-flex field col-md-3 col-lg-3 col-sm-12 col-xs-12 md-3\">\r\n            <label\r\n              class=\"detail-page-section-heading col-sm-3 col-xs-12 small\"\r\n              for=\"module\"\r\n              >Module</label\r\n            >\r\n            <p-dropdown\r\n              name=\"module\"\r\n              inputId=\"module\"\r\n              class=\"smartSearch\"\r\n              [options]=\"searchModuleOptions\"\r\n              placeholder=\"Select\"\r\n              optionLabel=\"name\"\r\n              formControlName=\"modules\"\r\n            >\r\n              <ng-template let-options pTemplate=\"item\">\r\n                <div class=\"truncate-text\">\r\n                  <div>{{ options.name }}</div>\r\n                </div>\r\n              </ng-template></p-dropdown\r\n            >\r\n          </div>\r\n          <div class=\"d-flex field col-md-3 col-lg-3 col-sm-12 col-xs-12 md-4\">\r\n            <label\r\n              class=\"detail-page-section-heading col-sm-3 col-xs-12 smallForm\"\r\n              for=\"form\"\r\n              >Form</label\r\n            >\r\n            <p-dropdown\r\n              name=\"form\"\r\n              inputId=\"form\"\r\n              class=\"smartSearch\"\r\n              [options]=\"searchFormOptions\"\r\n              placeholder=\"Select\"\r\n              optionLabel=\"name\"\r\n              formControlName=\"forms\"\r\n              ><ng-template let-options pTemplate=\"item\">\r\n                <div class=\"truncate-text\">\r\n                  <div>{{ options.name }}</div>\r\n                </div>\r\n              </ng-template>\r\n            </p-dropdown>\r\n          </div>\r\n          <div\r\n            class=\"addnew field col-md-2 col-lg-2 col-sm-4 col-xs-4 md-2 pl-8\"\r\n          >\r\n            <button\r\n              pButton\r\n              pRipple\r\n              type=\"button\"\r\n              (click)=\"searchAppModule()\"\r\n              label=\"Apply\"\r\n              class=\"p-button-raised\"\r\n              [disabled]=\"selectAppModule.invalid\"\r\n            ></button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"ptable\" *ngIf=\"formRuleData && formRuleData?.length\">\r\n    <p-table\r\n      #dt\r\n      [columns]=\"cols\"\r\n      [value]=\"formRuleData\"\r\n      [paginator]=\"true\"\r\n      [rows]=\"10\"\r\n      [loading]=\"loading\"\r\n      [resizableColumns]=\"true\"\r\n      columnResizeMode=\"fit\"\r\n      [rowHover]=\"true\"\r\n    >\r\n      <ng-template pTemplate=\"header\" let-columns>\r\n        <tr>\r\n          <th\r\n            *ngFor=\"let col of columns; let c = index\"\r\n            pReorderableColumn\r\n            [pSortableColumn]=\"col.field\"\r\n            pResizableColumn\r\n            [style.width]=\"col.width\"\r\n          >\r\n            {{ col.header }}\r\n            <div\r\n              *ngIf=\"c == 0 || col.field == 'status'\"\r\n              (click)=\"$event.stopPropagation()\"\r\n              class=\"filter-icon\"\r\n            >\r\n              <i\r\n                [ngStyle]=\"{\r\n                  color: getSelectedFilterArr(col.field).length\r\n                    ? 'var(--primary-color)'\r\n                    : 'rgb(105 105 105)',\r\n                  fontSize: '11px'\r\n                }\"\r\n                class=\"pi pi-filter-fill\"\r\n                (click)=\"toggleFilterVisibility(col.field)\"\r\n              ></i>\r\n              <p-multiSelect\r\n                #ms\r\n                [options]=\"fieldFilterOptions(col.field)\"\r\n                [filter]=\"true\"\r\n                [displaySelectedLabel]=\"false\"\r\n                [overlayVisible]=\"fieldFilterVisible(col.field)\"\r\n                [defaultLabel]=\"'Search'\"\r\n                [appendTo]=\"'body'\"\r\n                [autoWidth]=\"false\"\r\n                (onChange)=\"\r\n                  dt.filter($event.value, col.field, 'in');\r\n                  setSelectedFilter(ms, col.field)\r\n                \"\r\n                (onPanelHide)=\"hideFilterVisibility(col.field)\"\r\n              >\r\n              </p-multiSelect>\r\n            </div>\r\n          </th>\r\n        </tr>\r\n        <tr class=\"search-row\">\r\n          <th *ngFor=\"let col of cols\" [style.width]=\"col.width\">\r\n            <span\r\n              style=\"width: 100%\"\r\n              class=\"p-input-icon-left\"\r\n              *ngIf=\"col.field != 'status' && col.field != 'operation'\"\r\n            >\r\n              <i class=\"pi pi-search\"></i>\r\n              <input\r\n                type=\"text\"\r\n                class=\"p-inputtext table-search\"\r\n                placeholder=\"Search\"\r\n                (input)=\"dt.filter($event.target.value, col.field, 'contains')\"\r\n              />\r\n            </span>\r\n          </th>\r\n        </tr>\r\n      </ng-template>\r\n      <ng-template\r\n        pTemplate=\"body\"\r\n        let-rowData\r\n        let-columns=\"columns\"\r\n        let-index=\"rowIndex\"\r\n      >\r\n        <tr [pReorderableRow]=\"index\">\r\n          <ng-container *ngFor=\"let col of columns; let i = index\">\r\n            <td *ngIf=\"col.field != 'status' && col.field != 'operation'\">\r\n              <div\r\n                *ngIf=\"!(i == 0 || i == 2 || i == 1)\"\r\n                style=\"display: inline-block\"\r\n              >\r\n                {{ rowData[col[\"field\"]] }}\r\n              </div>\r\n              <a\r\n                *ngIf=\"i == 0\"\r\n                style=\"text-decoration: underline !important\"\r\n                [ngStyle]=\"{\r\n                  color: isLinked(rowData[col['field']])\r\n                    ? '#f89406'\r\n                    : 'var(--primary-color)',\r\n                  fontSize: '11px',\r\n                  cursor: 'pointer'\r\n                }\"\r\n                [pTooltip]=\"'Active Transactions Exist.'\"\r\n                [tooltipDisabled]=\"!isLinked(rowData[col['field']])\"\r\n                tabindex=\"0\"\r\n                (keyup.Space)= \"viewFormRules(rowData)\"\r\n                (click)=\"viewFormRules(rowData)\"\r\n                >{{ rowData[col[\"field\"]] }}</a\r\n              >\r\n              <span\r\n                *ngIf=\"i == 1\"\r\n                [pTooltip]=\"\r\n                  rowData[col['field']].length > 30 ? rowData[col['field']] : ''\r\n                \"\r\n                tooltipPosition=\"bottom\"\r\n              >\r\n                {{\r\n                  rowData[col[\"field\"]].length > 30\r\n                    ? rowData[col[\"field\"]].substring(0, 30) + \"..\"\r\n                    : rowData[col[\"field\"]]\r\n                }}</span\r\n              >\r\n              <span\r\n                *ngIf=\"i == 2\"\r\n                [pTooltip]=\"\r\n                  rowData[col['field']].length > 80 ? rowData[col['field']] : ''\r\n                \"\r\n                tooltipPosition=\"bottom\"\r\n                (mouseenter)=\"rowData['isHovered'] = true\"\r\n                (mouseleave)=\"rowData['isHovered'] = false\"\r\n              >\r\n                {{\r\n                  rowData[col[\"field\"]].length > 80\r\n                    ? rowData[\"isHovered\"]\r\n                      ? rowData[col[\"field\"]].substring(0, 75) + \"..\"\r\n                      : rowData[col[\"field\"]].substring(0, 80) + \"..\"\r\n                    : rowData[col[\"field\"]]\r\n                }}<a\r\n                  style=\"cursor: pointer\"\r\n                  *ngIf=\"\r\n                    rowData['isHovered'] && rowData[col['field']].length > 80\r\n                  \"\r\n                  (click)=\"copyToClipboard(rowData[col['field']])\"\r\n                  >COPY</a\r\n                ></span\r\n              >\r\n            </td>\r\n\r\n            <td\r\n              *ngIf=\"col.field == 'status'\"\r\n              style=\"border: none; text-align: center\"\r\n            >\r\n              <label class=\"switch\" tabindex=\"0\"\r\n              (keyup.Space)= \"statusInp.click()\">\r\n                <input\r\n                  #statusInp\r\n                  [value]=\"rowData[col['field']]\"\r\n                  type=\"checkbox\"\r\n                  (click)=\"confirmStatus($event, rowData)\"\r\n                  [checked]=\"\r\n                    rowData[col['field']] == 'Active' ||\r\n                    rowData[col['field']] == 'A'\r\n                      ? true\r\n                      : false\r\n                  \"\r\n                />\r\n                <span class=\"slider round\"></span>\r\n              </label>\r\n            </td>\r\n            <td\r\n              *ngIf=\"col.field == 'operation'\"\r\n              style=\"border: none; text-align: center\"\r\n            >\r\n              <span class=\"image-text\">\r\n                <button\r\n                  pButton\r\n                  type=\"button\"\r\n                  icon=\"pi pi-clone\"\r\n                  class=\"operation-btns mr-2\"\r\n                  [disabled]=\"rowData['status'] == 'Inactive'\"\r\n                  (click)=\"cloneFormRule(rowData)\"\r\n                ></button>\r\n              </span>\r\n            </td>\r\n          </ng-container>\r\n        </tr>\r\n      </ng-template>\r\n      <ng-template pTemplate=\"emptymessage\">\r\n        <tr>\r\n          <td [attr.colspan]=\"cols.length\">No Data found.</td>\r\n        </tr>\r\n      </ng-template>\r\n      <ng-template pTemplate=\"paginatorleft\" let-state>\r\n        {{ state.page * state.rows + 1 }} -\r\n        {{\r\n          state.rows * (state.page + 1) > state.totalRecords\r\n            ? state.totalRecords\r\n            : state.rows * (state.page + 1)\r\n        }}\r\n        of {{ state.totalRecords }}\r\n      </ng-template>\r\n    </p-table>\r\n  </div>\r\n</div>\r\n<div class=\"NorecordFound\" *ngIf=\"!formRuleData?.length && showNoDataFound\">\r\n  <div class=\"row\">\r\n    <div class=\"col-12\"><img src=\"assets/noRecordFound.svg\" /></div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col-12\">\r\n      <p>\"No Record Found.Click Add New Rule To Add Record\"</p>\r\n      <button\r\n        pButton\r\n        pRipple\r\n        type=\"button\"\r\n        label=\"Add New Rule\"\r\n        class=\"p-button-raised\"\r\n        (click)=\"addNewFormRule()\"\r\n      ></button>\r\n    </div>\r\n  </div>\r\n</div>\r\n<p-confirmDialog\r\n  key=\"activeDeactiveStatus\"\r\n  class=\"status-confirm confirm-popup\"\r\n  #cd\r\n  [closable]=\"false\"\r\n>\r\n  <p-footer>\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-check\"\r\n      label=\"Yes\"\r\n      (click)=\"cd.accept()\"\r\n    ></button>\r\n\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-times\"\r\n      label=\"No\"\r\n      (click)=\"cd.reject()\"\r\n    ></button>\r\n  </p-footer>\r\n</p-confirmDialog>\r\n","import { HttpClient, HttpHeaders } from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { Observable, forkJoin, throwError } from \"rxjs\";\r\nimport { catchError } from \"rxjs/operators\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class FormRuleService {\r\n  constructor(private http: HttpClient) {}\r\n  applicationName: any = null;\r\n  moduleName: any = null;\r\n  formName: any = null;\r\n\r\n  private statusDataForEditForm: any = undefined;\r\n\r\n  setData(data: any) {\r\n    this.statusDataForEditForm = data;\r\n  }\r\n\r\n  getData(): any {\r\n    return this.statusDataForEditForm;\r\n  }\r\n\r\n  getRuleCodeData(id: string, formName: any, appName: any, moduleName: any) {\r\n    return this.http.get(`/appControl/formRulesController/getFormRuleList`, {\r\n      headers: new HttpHeaders()\r\n        .set(\"userId\", id)\r\n        .set(\"applications\", String(appName))\r\n        .set(\"moduleName\", String(moduleName))\r\n        .set(\"form\", formName),\r\n    });\r\n  }\r\n  updateFormRuleStatus(data: any) {\r\n    return this.http.post(\r\n      `/appControl/formRulesController/updateFormRuleStatus`,\r\n      data\r\n    );\r\n  }\r\n\r\n  getFormRulesAppModuleList() {\r\n    return this.http.get(\r\n      `/appControl/applicationSettingsController/criteriaTypes`\r\n    );\r\n  }\r\n\r\n  getFormRuleForEdit(\r\n    formRuleCode: any,\r\n    operation: any,\r\n    appName: any,\r\n    moduleName: any,\r\n    formName: any\r\n  ) {\r\n    return this.http.get(`/appControl/formRulesController/getFormRuleForEdit`, {\r\n      headers: new HttpHeaders()\r\n        .set(\"formRuleCode\", formRuleCode)\r\n        .set(\"operation\", operation)\r\n        .set(\"applications\", String(appName))\r\n        .set(\"moduleName\", String(moduleName))\r\n        .set(\"form\", formName),\r\n    });\r\n  }\r\n\r\n  getAddFormRuleCriteriaData(\r\n    userId: any,\r\n    formName: any,\r\n    appName: any,\r\n    moduleName: any\r\n  ) {\r\n    return this.http.get(`/appControl/formRulesController/addFormRules`, {\r\n      headers: new HttpHeaders()\r\n        .set(\"userId\", userId)\r\n        .set(\"applications\", String(appName))\r\n        .set(\"moduleName\", String(moduleName))\r\n        .set(\"form\", formName),\r\n    });\r\n  }\r\n\r\n  getCriteriaMasterData(\r\n    userId: any,\r\n    formName: any,\r\n    appName: any,\r\n    moduleName: any\r\n  ) {\r\n    return this.http.get(\r\n      `/appControl/formRulesController/getCriteriaMasterData`,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"userId\", userId)\r\n          .set(\"form\", formName)\r\n          .set(\"applications\", String(appName))\r\n          .set(\"moduleName\", String(moduleName)),\r\n      }\r\n    );\r\n  }\r\n\r\n  getCorrespondentValuesData(\r\n    formName: any,\r\n    appName: any,\r\n    criteriaMap: any,\r\n    fieldName: any,\r\n    displayName: any,\r\n    moduleName: any\r\n  ) {\r\n    return this.http.get(`/appControl/formRulesController/getCriteriaData`, {\r\n      headers: new HttpHeaders()\r\n        .set(\"form\", formName)\r\n        .set(\"applications\", String(appName))\r\n        .set(\"criteriaMap\", criteriaMap)\r\n        .set(\"fieldName\", fieldName)\r\n        .set(\"displayName\", displayName)\r\n        .set(\"moduleName\", String(moduleName)),\r\n    });\r\n  }\r\n\r\n  postFormRuleSearch(data: any) {\r\n    return this.http.post(\r\n      `/appControl/formRulesController/applyCriteriaSearch`,\r\n      data\r\n    );\r\n  }\r\n\r\n  currentCriteriaSaveAsTemplate(data: any): Observable<any> {\r\n    return this.http.post(\r\n      `appControl/formRulesController/saveFormRuleCriteria`,\r\n      data\r\n    );\r\n  }\r\n\r\n  getAllCriteriaTemplates(\r\n    id: string,\r\n    appName: any,\r\n    moduleName: any,\r\n    formName: any\r\n  ): Observable<any> {\r\n    return this.http.get(\r\n      `appControl/formRulesController/getExistingFormRuleList\r\n      `,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"userId\", id)\r\n          .set(\"applications\", String(appName))\r\n          .set(\"moduleName\", String(moduleName))\r\n          .set(\"form\", formName),\r\n      }\r\n    );\r\n  }\r\n\r\n  addNewFormRule(\r\n    data,\r\n    appName: any,\r\n    moduleName: any,\r\n    formName: any\r\n  ): Observable<any> {\r\n    return this.http.post(\r\n      `/appControl/formRulesController/addCriteriaDetails`,\r\n      data,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"applications\", String(appName))\r\n          .set(\"moduleName\", String(moduleName))\r\n          .set(\"form\", formName),\r\n      }\r\n    );\r\n  }\r\n\r\n  updateFormRule(\r\n    userId,\r\n    data,\r\n    appName: any,\r\n    moduleName: any,\r\n    formName: any\r\n  ): Observable<any> {\r\n    return this.http.put(\r\n      `/appControl/formRulesController/updateFormRule`,\r\n      data,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"userId\", userId)\r\n          .set(\"applications\", String(appName))\r\n          .set(\"moduleName\", String(moduleName))\r\n          .set(\"form\", formName),\r\n      }\r\n    );\r\n  }\r\n\r\n  // formFieldsMasterData(formType: any) {\r\n  //   if (formType == \"Customer Profile Beneficiary_Form Rules\") {\r\n  //     return this.http.get(\r\n  //       `/appControl/beneficiaryProfileController/getBeneficiaryProfileMaster`\r\n  //     );\r\n  //   } else {\r\n  //     return this.http.get(\r\n  //       `/appControl/corporateCustomerController/getCustomerProfileMasterData`\r\n  //     );\r\n  //   }\r\n  // }\r\n\r\n  // ! calling two api for customer master data\r\n  getCustomerMasterDataFromAppControlAndRemittance(): Observable<any[]> {\r\n    // Define API endpoints\r\n    const appControlUrl =\r\n      \"/appControl/formRulesController/getCustomerProfileMasterDataAppControl\";\r\n    const remittanceUrl =\r\n      \"/remittance/corporateCustomerController/getCustomerProfileMasterDataRemittance\";\r\n\r\n    // Make HTTP requests to both APIs\r\n    const appControlUrlRequest = this.http.get(appControlUrl);\r\n    const remittanceUrlRequest = this.http.get(remittanceUrl);\r\n\r\n    // Combine requests using forkJoin\r\n    return forkJoin([appControlUrlRequest, remittanceUrlRequest]).pipe(\r\n      catchError((error) => {\r\n        // Handle errors if any API request fails\r\n        console.error(\"Customer Master Data request failed:\", error);\r\n        return throwError(\"API request failed\");\r\n      })\r\n    );\r\n  }\r\n  // ! calling two api for customer master data ends\r\n}\r\n","import { Component, OnInit } from \"@angular/core\";\r\nimport { ActivatedRoute } from \"@angular/router\";\r\nimport { CoreService } from \"../../core.service\";\r\nimport { SetCriteriaService } from \"../../shared/components/set-criteria/set-criteria.service\";\r\nimport { HttpClient, HttpHeaders } from \"@angular/common/http\";\r\nimport {\r\n  UntypedFormBuilder,\r\n  UntypedFormControl,\r\n  Validators,\r\n} from \"@angular/forms\";\r\n\r\nimport _lodashClone from \"lodash-es/cloneDeep\";\r\n\r\n@Component({\r\n  selector: \"app-custom-fields\",\r\n  templateUrl: \"./custom-fields.component.html\",\r\n  styleUrls: [\"./custom-fields.component.scss\"],\r\n})\r\nexport class CustomFieldsComponent implements OnInit {\r\n  products: any = [];\r\n  tableData: any = [];\r\n  userData: any = {};\r\n  responseMessage = \"\";\r\n\r\n  criteriaMapDes = \"\";\r\n\r\n  newcriteriaMapCode = \"\";\r\n  masterData: any = [];\r\n  criteriaMapCodeArray: any = [];\r\n  criteriaCodeText: any[] = [];\r\n\r\n  selectAppModule: any;\r\n  searchApplicationOptions: any[] = [];\r\n  searchModuleOptions: any[] = [];\r\n\r\n  fieldDisplayData = {};\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private coreService: CoreService,\r\n    private setCriteriaService: SetCriteriaService,\r\n    private http: HttpClient,\r\n    private fb: UntypedFormBuilder\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.route.data.subscribe((data) => {\r\n      this.coreService.setBreadCrumbMenu(Object.values(data));\r\n    });\r\n    this.userData = JSON.parse(localStorage.getItem(\"userData\"));\r\n\r\n    this.setSelectAppModule();\r\n\r\n    this.searchApplicationOptions = JSON.parse(\r\n      localStorage.getItem(\"appAccess\")\r\n    );\r\n    this.searchModuleOptions = JSON.parse(localStorage.getItem(\"modAccess\"));\r\n    let defAppMod = JSON.parse(localStorage.getItem(\"defAppModule\"));\r\n    let currAppMod = JSON.parse(sessionStorage.getItem(\"tax\"));\r\n\r\n    let defApp = null;\r\n    let defMod = null;\r\n\r\n    if (currAppMod) {\r\n      console.log(currAppMod);\r\n      defApp = this.searchApplicationOptions.filter(\r\n        (opt) => opt.code == currAppMod.applicationName.code\r\n      )[0];\r\n      defMod = this.searchModuleOptions.filter(\r\n        (opt) => opt.code == currAppMod.moduleName.code\r\n      )[0];\r\n    } else {\r\n      if (defAppMod) {\r\n        defApp = JSON.parse(localStorage.getItem(\"applicationName\"));\r\n        defMod = JSON.parse(localStorage.getItem(\"moduleName\"));\r\n      }\r\n    }\r\n\r\n    if (defApp) {\r\n      this.appCtrl.patchValue(defApp);\r\n    }\r\n    if (defMod) {\r\n      this.moduleCtrl.patchValue(defMod);\r\n    }\r\n\r\n    this.getMasterData();\r\n  }\r\n  setSelectAppModule() {\r\n    this.selectAppModule = this.fb.group({\r\n      applications: new UntypedFormControl({ value: \"\", disabled: false }, [\r\n        Validators.required,\r\n      ]),\r\n      modules: new UntypedFormControl({ value: \"\", disabled: false }, [\r\n        Validators.required,\r\n      ]),\r\n    });\r\n  }\r\n\r\n  get appCtrl() {\r\n    return this.selectAppModule.get(\"applications\");\r\n  }\r\n  get moduleCtrl() {\r\n    return this.selectAppModule.get(\"modules\");\r\n  }\r\n  getMasterData() {\r\n    return this.http\r\n      .get(`appControl/formRulesController/getCriteriaMasterData`, {\r\n        headers: new HttpHeaders()\r\n          .set(\"userId\", String(this.userData.userId))\r\n          .set(\"form\", \"Tax Settings\")\r\n          .set(\"applications\", this.appCtrl.value.code)\r\n          .set(\"moduleName\", this.moduleCtrl.value.code),\r\n      })\r\n      .subscribe((res: any) => {\r\n        console.log(\"masterdata\", res);\r\n        let criteriaMasterJson = _lodashClone(res);\r\n        delete criteriaMasterJson[\"fieldDisplay\"];\r\n        this.fieldDisplayData = res[\"fieldDisplay\"];\r\n        this.masterData = criteriaMasterJson;\r\n      });\r\n  }\r\n  Apply() {\r\n    console.log(\"criteriaMapDes\", this.criteriaMapDes);\r\n    this.criteriaMapCodeArray = this.criteriaMapDes\r\n      ?.split(\"&&&&\")[0]\r\n      ?.split(\", \");\r\n    this.criteriaCodeText = this.setCriteriaService.setCriteriaMap({\r\n      criteriaMap: this.criteriaMapDes,\r\n    });\r\n    let decodedFormattedCriteriaArr = this.criteriaMapCodeArray.map((crt) => {\r\n      let formatCrt;\r\n      let opr;\r\n      if (crt.includes(\"!=\")) {\r\n        formatCrt = crt.replace(/[!=]/g, \"\");\r\n        opr = \"!=\";\r\n      } else if (crt.includes(\">=\")) {\r\n        formatCrt = crt.replace(/[>=]/g, \"\");\r\n        opr = \">=\";\r\n      } else if (crt.includes(\"<=\")) {\r\n        formatCrt = crt.replace(/[<=]/g, \"\");\r\n        opr = \"<=\";\r\n      } else if (crt.includes(\"<\")) {\r\n        formatCrt = crt.replace(/[<]/g, \"\");\r\n        opr = \"<\";\r\n      } else if (crt.includes(\">\")) {\r\n        formatCrt = crt.replace(/[>]/g, \"\");\r\n        opr = \">\";\r\n      } else {\r\n        formatCrt = crt.replace(/[=]/g, \"\");\r\n        opr = \"=\";\r\n      }\r\n      let key = formatCrt.split(\"  \")[0];\r\n      let val = formatCrt.split(\"  \")[1];\r\n      return { [key]: val };\r\n    });\r\n\r\n    let newCrtMap = this.criteriaMapDes;\r\n    decodedFormattedCriteriaArr.forEach((crt) => {\r\n      console.log(\"crt\", crt);\r\n      let copyCrtMap = newCrtMap;\r\n      let nameVal = (Object.values(crt)[0] as string).split(\"&&&&\")[0];\r\n      console.log(\"keys\", Object.keys(crt)[0]);\r\n      let filtercrt = this.masterData[Object.keys(crt)[0]?.trim()]?.filter(\r\n        (d) => {\r\n          return d.codeName == nameVal;\r\n        }\r\n      );\r\n      if (filtercrt?.length) {\r\n        let codeVal = filtercrt[0][\"code\"] as string;\r\n        newCrtMap = copyCrtMap.replace(nameVal, codeVal);\r\n      }\r\n    });\r\n    console.log(\"newCrtMap\", newCrtMap.split(\", \").join(\";\"));\r\n    this.newcriteriaMapCode = newCrtMap.split(\", \").join(\";\");\r\n    this.coreService.displayLoadingScreen();\r\n    this.http;\r\n    this.http\r\n      .get(`appControl/taxSettingCriteriaController/getTaxSetting`, {\r\n        headers: new HttpHeaders()\r\n          .set(\"criteriaMap\", this.newcriteriaMapCode)\r\n          .set(\"form\", \"Tax Settings\")\r\n          .set(\"applications\", this.appCtrl.value.code)\r\n          .set(\"moduleName\", this.moduleCtrl.value.code),\r\n      })\r\n      .subscribe(\r\n        (res: any) => {\r\n          this.coreService.removeLoadingScreen();\r\n          console.log(\"response \", res);\r\n          if (res.TaxSettingData && res.TaxSettingData.length) {\r\n            this.responseMessage = res.msg;\r\n            this.tableData = res.TaxSettingData;\r\n            this.tableData.forEach((tax) => {\r\n              let beforeSplit = tax.Criteria.split(\"&&&&\")[0];\r\n              const sections = tax.Criteria.split(\"&&&&\");\r\n              let amounts = \"\";\r\n              let dates = \"\";\r\n              let afterSplit = \"\";\r\n\r\n              // Process each section\r\n              sections.forEach((section) => {\r\n                if (section.includes(\"from\") && section.includes(\"to\")) {\r\n                  // Extract the amounts\r\n                  const amountsArray = section\r\n                    .split(\"#\")\r\n                    .map((amountSection) => {\r\n                      const [from, to] = amountSection\r\n                        .split(\"::\")\r\n                        .map((part) => part.split(\":\")[1]);\r\n                      return `Between ${from} - ${to}`;\r\n                    });\r\n                  amounts = amountsArray.join(\" & \");\r\n                } else if (\r\n                  section.startsWith(\"trnStartDate\") &&\r\n                  section.includes(\"trnEndDate\")\r\n                ) {\r\n                  // Extract the dates\r\n                  const dateSections = section.split(\"#\").map((dateSection) => {\r\n                    const [startDate, endDate] = dateSection\r\n                      .split(\"::\")\r\n                      .map((part) => part.split(\"=\")[1]);\r\n                    return `Between ${startDate} - ${endDate}`;\r\n                  });\r\n                  dates = dateSections.join(\" & \");\r\n                }\r\n              });\r\n\r\n              if (amounts.length && dates.length) {\r\n                afterSplit += `Amount (${amounts}), Date (${dates})`;\r\n              } else if (amounts.length) {\r\n                afterSplit += `Amount (${amounts})`;\r\n              } else if (dates.length) {\r\n                afterSplit += `Date (${dates})`;\r\n              }\r\n\r\n              if (beforeSplit.length) {\r\n                let criteriaCodeText = this.setCriteriaService.setCriteriaMap({\r\n                  criteriaMap: beforeSplit,\r\n                });\r\n                tax.Criteria = (\r\n                  this.setCriteriaService.decodeFormattedCriteria(\r\n                    criteriaCodeText,\r\n                    this.masterData,\r\n                    this.fieldDisplayData\r\n                  ) as []\r\n                ).join(\", \");\r\n                if (afterSplit?.length) {\r\n                  tax.Criteria = tax.Criteria + \", \" + afterSplit;\r\n                }\r\n              } else {\r\n                if (afterSplit?.length) {\r\n                  tax.Criteria = afterSplit;\r\n                }\r\n              }\r\n            });\r\n          } else {\r\n            this.tableData = [];\r\n            this.responseMessage = res.msg;\r\n            this.coreService.showWarningToast(res.msg);\r\n          }\r\n        },\r\n        (err) => {\r\n          this.coreService.removeLoadingScreen();\r\n          this.coreService.showWarningToast(\"Format is incorrect\");\r\n        }\r\n      );\r\n  }\r\n}\r\n","<div class=\"visible-main-section\">\r\n  <div class=\"details-page-card\">\r\n    <div [formGroup]=\"selectAppModule\" class=\"select-module-application m-2\">\r\n      <div class=\"col-12\">\r\n        <div class=\"row\">\r\n          <div class=\"d-flex field col-md-4 col-lg-4 col-sm-12 col-xs-12 md-4\">\r\n            <label\r\n              class=\"detail-page-section-heading col-sm-3 col-xs-12\"\r\n              for=\"application\"\r\n              >Application</label\r\n            >\r\n            <p-dropdown\r\n              name=\"application\"\r\n              inputId=\"application\"\r\n              [options]=\"searchApplicationOptions\"\r\n              placeholder=\"Select\"\r\n              optionLabel=\"name\"\r\n              formControlName=\"applications\"\r\n            ></p-dropdown>\r\n          </div>\r\n          <div class=\"d-flex field col-md-4 col-lg-4 col-sm-12 col-xs-12 md-4\">\r\n            <label\r\n              class=\"detail-page-section-heading col-sm-3 col-xs-12 small\"\r\n              for=\"module\"\r\n              >Module</label\r\n            >\r\n            <p-dropdown\r\n              name=\"module\"\r\n              inputId=\"module\"\r\n              [options]=\"searchModuleOptions\"\r\n              placeholder=\"Select\"\r\n              optionLabel=\"name\"\r\n              formControlName=\"modules\"\r\n            ></p-dropdown>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"ruleDesc m-2 col-12\">\r\n      <p style=\"position: relative\">\r\n        Criteria Map <span class=\"description red-star\">*</span>\r\n        <span class=\"sample-format\"\r\n          >(Sample API criteria format : Country = INDIA, Tax Type = GST, LCY\r\n          Amount = 2, Transaction Date = DD/MM/YYYY)</span\r\n        >\r\n      </p>\r\n      <input\r\n        type=\"text\"\r\n        pInputText\r\n        [(ngModel)]=\"criteriaMapDes\"\r\n        maxlength=\"1000\"\r\n        placeholder=\"Max 1000 characters\"\r\n      />\r\n\r\n      <button\r\n        pButton\r\n        pRipple\r\n        type=\"button\"\r\n        label=\"Apply\"\r\n        class=\"p-button-raised\"\r\n        (click)=\"Apply()\"\r\n      ></button>\r\n    </div>\r\n    <div\r\n      *ngIf=\"tableData && tableData.length\"\r\n      class=\"table-data m-2 col-12\"\r\n      style=\"margin-top: 10px\"\r\n    >\r\n      <p-table\r\n        #dt\r\n        [value]=\"tableData\"\r\n        [paginator]=\"true\"\r\n        [rows]=\"10\"\r\n        [resizableColumns]=\"true\"\r\n        columnResizeMode=\"fit\"\r\n        [rowHover]=\"true\"\r\n      >\r\n        <ng-template pTemplate=\"header\">\r\n          <tr>\r\n            <th>Tax Code</th>\r\n            <th>Tax Code Id</th>\r\n            <th>Searched For</th>\r\n            <th>Criteria</th>\r\n            <th>Set As</th>\r\n            <th>Tax</th>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"body\" let-product>\r\n          <tr>\r\n            <td>{{ product.TaxCode }}</td>\r\n            <td>{{ product.TaxCodeID }}</td>\r\n            <td>{{ criteriaMapDes }}</td>\r\n            <td>{{ product.Criteria }}</td>\r\n            <td>{{ product.setAS }}</td>\r\n            <td>{{ product.Tax }}</td>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"emptymessage\">\r\n          <tr>\r\n            <td colspan=\"5\">{{ responseMessage }}</td>\r\n          </tr>\r\n        </ng-template>\r\n      </p-table>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from \"@angular/core\";\r\nimport { CoreService } from \"../../core.service\";\r\nimport { ActivatedRoute } from \"@angular/router\";\r\nimport { HttpClient, HttpHeaders } from \"@angular/common/http\";\r\nimport { SetCriteriaService } from \"../../shared/components/set-criteria/set-criteria.service\";\r\nimport {\r\n  UntypedFormBuilder,\r\n  UntypedFormControl,\r\n  Validators,\r\n} from \"@angular/forms\";\r\n\r\nimport _lodashClone from \"lodash-es/cloneDeep\";\r\n\r\n@Component({\r\n  selector: \"app-custom-form\",\r\n  templateUrl: \"./custom-form.component.html\",\r\n  styleUrls: [\"./custom-form.component.scss\"],\r\n})\r\nexport class CustomFormComponent implements OnInit {\r\n  products: any = [];\r\n  tableData: any = [];\r\n  userData: any = {};\r\n  responseMessage = \"\";\r\n\r\n  criteriaMapDes = \"\";\r\n\r\n  newcriteriaMapCode = \"\";\r\n  masterData: any = [];\r\n  criteriaMapCodeArray: any = [];\r\n  criteriaCodeText: any[] = [];\r\n\r\n  selectAppModule: any;\r\n  searchApplicationOptions: any[] = [];\r\n  searchModuleOptions: any[] = [];\r\n\r\n  fieldDisplayData = {};\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private coreService: CoreService,\r\n    private http: HttpClient,\r\n    private setCriteriaService: SetCriteriaService,\r\n    private fb: UntypedFormBuilder\r\n  ) {}\r\n  ngOnInit(): void {\r\n    this.route.data.subscribe((data) => {\r\n      this.coreService.setBreadCrumbMenu(Object.values(data));\r\n    });\r\n    this.userData = JSON.parse(localStorage.getItem(\"userData\"));\r\n\r\n    this.setSelectAppModule();\r\n\r\n    this.searchApplicationOptions = JSON.parse(\r\n      localStorage.getItem(\"appAccess\")\r\n    );\r\n    this.searchModuleOptions = JSON.parse(localStorage.getItem(\"modAccess\"));\r\n    let defAppMod = JSON.parse(localStorage.getItem(\"defAppModule\"));\r\n\r\n    let defApp = null;\r\n    let defMod = null;\r\n\r\n    if (defAppMod) {\r\n      defApp = this.searchApplicationOptions.filter(\r\n        (opt) => opt.code == defAppMod.applicationName.code\r\n      )[0];\r\n      defMod = this.searchModuleOptions.filter(\r\n        (opt) => opt.code == \"Loyalty Programs\"\r\n      )[0];\r\n    }\r\n\r\n    if (defApp) {\r\n      this.appCtrl.patchValue(defApp);\r\n    }\r\n    if (defMod) {\r\n      this.moduleCtrl.patchValue(defMod);\r\n    }\r\n\r\n    this.getMasterData();\r\n  }\r\n\r\n  setSelectAppModule() {\r\n    this.selectAppModule = this.fb.group({\r\n      applications: new UntypedFormControl({ value: \"\", disabled: false }, [\r\n        Validators.required,\r\n      ]),\r\n      modules: new UntypedFormControl({ value: \"\", disabled: false }, [\r\n        Validators.required,\r\n      ]),\r\n    });\r\n  }\r\n\r\n  get appCtrl() {\r\n    return this.selectAppModule.get(\"applications\");\r\n  }\r\n  get moduleCtrl() {\r\n    return this.selectAppModule.get(\"modules\");\r\n  }\r\n\r\n  getMasterData() {\r\n    return this.http\r\n      .get(`appControl/formRulesController/getCriteriaMasterData`, {\r\n        headers: new HttpHeaders()\r\n          .set(\"userId\", String(this.userData.userId))\r\n          .set(\"form\", \"Loyalty Programs Manager\")\r\n          .set(\"applications\", this.appCtrl.value.code)\r\n          .set(\"moduleName\", this.moduleCtrl.value.code),\r\n      })\r\n      .subscribe((res: any) => {\r\n        console.log(\"masterdata\", res);\r\n        let criteriaMasterJson = _lodashClone(res);\r\n        delete criteriaMasterJson[\"fieldDisplay\"];\r\n        this.fieldDisplayData = res[\"fieldDisplay\"];\r\n        this.masterData = criteriaMasterJson;\r\n      });\r\n  }\r\n  Apply() {\r\n    console.log(\"criteriaMapDes\", this.criteriaMapDes);\r\n    this.criteriaMapCodeArray = this.criteriaMapDes\r\n      ?.split(\"&&&&\")[0]\r\n      ?.split(\", \");\r\n    this.criteriaCodeText = this.setCriteriaService.setCriteriaMap({\r\n      criteriaMap: this.criteriaMapDes,\r\n    });\r\n    let decodedFormattedCriteriaArr = this.criteriaMapCodeArray.map((crt) => {\r\n      let formatCrt;\r\n      let opr;\r\n      if (crt.includes(\"!=\")) {\r\n        formatCrt = crt.replace(/[!=]/g, \"\");\r\n        opr = \"!=\";\r\n      } else if (crt.includes(\">=\")) {\r\n        formatCrt = crt.replace(/[>=]/g, \"\");\r\n        opr = \">=\";\r\n      } else if (crt.includes(\"<=\")) {\r\n        formatCrt = crt.replace(/[<=]/g, \"\");\r\n        opr = \"<=\";\r\n      } else if (crt.includes(\"<\")) {\r\n        formatCrt = crt.replace(/[<]/g, \"\");\r\n        opr = \"<\";\r\n      } else if (crt.includes(\">\")) {\r\n        formatCrt = crt.replace(/[>]/g, \"\");\r\n        opr = \">\";\r\n      } else {\r\n        formatCrt = crt.replace(/[=]/g, \"\");\r\n        opr = \"=\";\r\n      }\r\n      let key = formatCrt.split(\"  \")[0];\r\n      let val = formatCrt.split(\"  \")[1];\r\n      return { [key]: val };\r\n    });\r\n\r\n    let newCrtMap = this.criteriaMapDes;\r\n    decodedFormattedCriteriaArr.forEach((crt) => {\r\n      console.log(\"crt\", crt);\r\n      let copyCrtMap = newCrtMap;\r\n      let nameVal = (Object.values(crt)[0] as string).split(\"&&&&\")[0];\r\n      console.log(\"keys\", Object.keys(crt)[0]);\r\n      let filtercrt = this.masterData[Object.keys(crt)[0]?.trim()]?.filter(\r\n        (d) => {\r\n          return d.codeName == nameVal;\r\n        }\r\n      );\r\n      if (filtercrt?.length) {\r\n        let codeVal = filtercrt[0][\"code\"] as string;\r\n        newCrtMap = copyCrtMap.replace(nameVal, codeVal);\r\n      }\r\n    });\r\n    console.log(\"newCrtMap\", newCrtMap.split(\", \").join(\";\"));\r\n    this.newcriteriaMapCode = newCrtMap.split(\", \").join(\";\");\r\n    this.coreService.displayLoadingScreen();\r\n    this.http;\r\n    this.http\r\n      .get(`appControl/loyaltyProgramController/getLoyaltySetting`, {\r\n        headers: new HttpHeaders()\r\n          .set(\"criteriaMap\", this.newcriteriaMapCode)\r\n          .set(\"form\", \"Loyalty Programs Manager\")\r\n          .set(\"applications\", this.appCtrl.value.code)\r\n          .set(\"moduleName\", this.moduleCtrl.value.code),\r\n      })\r\n      .subscribe(\r\n        (res: any) => {\r\n          this.coreService.removeLoadingScreen();\r\n          console.log(\"response \", res);\r\n          if (res.LoyaltySettingData && res.LoyaltySettingData.length) {\r\n            this.responseMessage = res.msg;\r\n            this.tableData = res.LoyaltySettingData;\r\n            this.tableData.forEach((tax) => {\r\n              let beforeSplit = tax.Criteria.split(\"&&&&\")[0];\r\n              const sections = tax.Criteria.split(\"&&&&\");\r\n              let amounts = \"\";\r\n              let dates = \"\";\r\n              let afterSplit = \"\";\r\n\r\n              // Process each section\r\n              sections.forEach((section) => {\r\n                if (section.includes(\"from\") && section.includes(\"to\")) {\r\n                  // Extract the amounts\r\n                  const amountsArray = section\r\n                    .split(\"#\")\r\n                    .map((amountSection) => {\r\n                      const [from, to] = amountSection\r\n                        .split(\"::\")\r\n                        .map((part) => part.split(\":\")[1]);\r\n                      return `Between ${from} - ${to}`;\r\n                    });\r\n                  amounts = amountsArray.join(\" & \");\r\n                } else if (\r\n                  section.startsWith(\"trnStartDate\") &&\r\n                  section.includes(\"trnEndDate\")\r\n                ) {\r\n                  // Extract the dates\r\n                  const dateSections = section.split(\"#\").map((dateSection) => {\r\n                    const [startDate, endDate] = dateSection\r\n                      .split(\"::\")\r\n                      .map((part) => part.split(\"=\")[1]);\r\n                    return `Between ${startDate} - ${endDate}`;\r\n                  });\r\n                  dates = dateSections.join(\" & \");\r\n                }\r\n              });\r\n\r\n              if (amounts.length && dates.length) {\r\n                afterSplit += `Amount (${amounts}), Date (${dates})`;\r\n              } else if (amounts.length) {\r\n                afterSplit += `Amount (${amounts})`;\r\n              } else if (dates.length) {\r\n                afterSplit += `Date (${dates})`;\r\n              }\r\n\r\n              if (beforeSplit.length) {\r\n                let criteriaCodeText = this.setCriteriaService.setCriteriaMap({\r\n                  criteriaMap: beforeSplit,\r\n                });\r\n                tax.Criteria = (\r\n                  this.setCriteriaService.decodeFormattedCriteria(\r\n                    criteriaCodeText,\r\n                    this.masterData,\r\n                    this.fieldDisplayData\r\n                  ) as []\r\n                ).join(\", \");\r\n                if (afterSplit?.length) {\r\n                  tax.Criteria = tax.Criteria + \", \" + afterSplit;\r\n                }\r\n              } else {\r\n                if (afterSplit?.length) {\r\n                  tax.Criteria = afterSplit;\r\n                }\r\n              }\r\n            });\r\n          } else {\r\n            this.tableData = [];\r\n            this.responseMessage = res.msg;\r\n            this.coreService.showWarningToast(res.msg);\r\n          }\r\n        },\r\n        (err) => {\r\n          this.coreService.removeLoadingScreen();\r\n          this.coreService.showWarningToast(\"Format is incorrect\");\r\n        }\r\n      );\r\n  }\r\n}\r\n","<div class=\"visible-main-section\">\r\n  <div class=\"details-page-card\">\r\n    <div [formGroup]=\"selectAppModule\" class=\"select-module-application m-2\">\r\n      <div class=\"col-12\">\r\n        <div class=\"row\">\r\n          <div class=\"d-flex field col-md-4 col-lg-4 col-sm-12 col-xs-12 md-4\">\r\n            <label\r\n              class=\"detail-page-section-heading col-sm-3 col-xs-12\"\r\n              for=\"application\"\r\n              >Application</label\r\n            >\r\n            <p-dropdown\r\n              name=\"application\"\r\n              inputId=\"application\"\r\n              [options]=\"searchApplicationOptions\"\r\n              placeholder=\"Select\"\r\n              optionLabel=\"name\"\r\n              formControlName=\"applications\"\r\n            ></p-dropdown>\r\n          </div>\r\n          <div class=\"d-flex field col-md-4 col-lg-4 col-sm-12 col-xs-12 md-4\">\r\n            <label\r\n              class=\"detail-page-section-heading col-sm-3 col-xs-12 small\"\r\n              for=\"module\"\r\n              >Module</label\r\n            >\r\n            <p-dropdown\r\n              name=\"module\"\r\n              inputId=\"module\"\r\n              [options]=\"searchModuleOptions\"\r\n              placeholder=\"Select\"\r\n              optionLabel=\"name\"\r\n              formControlName=\"modules\"\r\n            ></p-dropdown>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"ruleDesc m-2 col-12\">\r\n      <p style=\"position: relative\">\r\n        Criteria Map <span class=\"description red-star\">*</span>\r\n        <span class=\"sample-format\"\r\n          >(Sample API criteria format : Country = INDIA, Tax Type = GST, LCY\r\n          Amount = 2, Transaction Date = DD/MM/YYYY)</span\r\n        >\r\n      </p>\r\n      <input\r\n        type=\"text\"\r\n        pInputText\r\n        [(ngModel)]=\"criteriaMapDes\"\r\n        maxlength=\"1000\"\r\n        placeholder=\"Max 1000 characters\"\r\n      />\r\n\r\n      <button\r\n        pButton\r\n        pRipple\r\n        type=\"button\"\r\n        label=\"Apply\"\r\n        class=\"p-button-raised\"\r\n        (click)=\"Apply()\"\r\n      ></button>\r\n    </div>\r\n    <div\r\n      *ngIf=\"tableData && tableData.length\"\r\n      class=\"table-data m-2 col-12\"\r\n      style=\"margin-top: 10px\"\r\n    >\r\n      <p-table\r\n        #dt\r\n        [value]=\"tableData\"\r\n        [paginator]=\"true\"\r\n        [rows]=\"10\"\r\n        [resizableColumns]=\"true\"\r\n        columnResizeMode=\"fit\"\r\n        [rowHover]=\"true\"\r\n      >\r\n        <ng-template pTemplate=\"header\">\r\n          <tr>\r\n            <th>Program Code</th>\r\n            <th>Program Code Id</th>\r\n            <th>Searched For</th>\r\n            <th>Criteria</th>\r\n            <th>Program Type</th>\r\n            <th>Program Description</th>\r\n            <th>Promo Code</th>\r\n            <!-- <th>Promo Code Length</th> -->\r\n            <th>Rewards As</th>\r\n            <th>Loyalty Type</th>\r\n            <th>Loyalty Value</th>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"body\" let-product>\r\n          <tr>\r\n            <td>{{ product.ProgramCode }}</td>\r\n            <td>{{ product.ProgramCodeId }}</td>\r\n            <td>{{ criteriaMapDes }}</td>\r\n            <td>{{ product.Criteria }}</td>\r\n            <td>{{ product.ProgramType }}</td>\r\n            <td>{{ product.ProgramDescription }}</td>\r\n            <td>{{ product.PromoCode }}</td>\r\n            <!-- <td>{{ product.PromoCodeLength }}</td> -->\r\n            <td>{{ product[\"Rewards As\"] }}</td>\r\n            <td>{{ product.LoyaltyType }}</td>\r\n            <td>{{ product.LoyaltyValue }}</td>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"emptymessage\">\r\n          <tr>\r\n            <td colspan=\"10\">{{ responseMessage }}</td>\r\n          </tr>\r\n        </ng-template>\r\n      </p-table>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from \"@angular/core\";\r\nimport { ActivatedRoute } from \"@angular/router\";\r\nimport { CoreService } from \"../../core.service\";\r\nimport { SetCriteriaService } from \"../../shared/components/set-criteria/set-criteria.service\";\r\nimport { HttpClient, HttpHeaders } from \"@angular/common/http\";\r\nimport {\r\n  UntypedFormBuilder,\r\n  UntypedFormControl,\r\n  Validators,\r\n} from \"@angular/forms\";\r\n\r\nimport _lodashClone from \"lodash-es/cloneDeep\";\r\n\r\n@Component({\r\n  selector: \"app-get-doc-settings\",\r\n  templateUrl: \"./get-doc-settings.component.html\",\r\n  styleUrls: [\"./get-doc-settings.component.scss\"],\r\n})\r\nexport class GetDocSettingsComponent implements OnInit {\r\n  products: any = [];\r\n  tableData: any = [];\r\n  userData: any = {};\r\n  responseMessage = \"\";\r\n\r\n  criteriaMapDes = \"\";\r\n\r\n  newcriteriaMapCode = \"\";\r\n  masterData: any = [];\r\n  criteriaMapCodeArray: any = [];\r\n  criteriaCodeText: any[] = [];\r\n\r\n  selectAppModule: any;\r\n  searchApplicationOptions: any[] = [];\r\n  searchModuleOptions: any[] = [];\r\n\r\n  fieldDisplayData = {};\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private coreService: CoreService,\r\n    private setCriteriaService: SetCriteriaService,\r\n    private http: HttpClient,\r\n    private fb: UntypedFormBuilder\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.route.data.subscribe((data) => {\r\n      this.coreService.setBreadCrumbMenu(Object.values(data));\r\n    });\r\n    this.userData = JSON.parse(localStorage.getItem(\"userData\"));\r\n\r\n    this.setSelectAppModule();\r\n\r\n    this.searchApplicationOptions = JSON.parse(\r\n      localStorage.getItem(\"appAccess\")\r\n    );\r\n    this.searchModuleOptions = JSON.parse(localStorage.getItem(\"modAccess\"));\r\n    let defAppMod = JSON.parse(localStorage.getItem(\"defAppModule\"));\r\n    let currAppMod = JSON.parse(sessionStorage.getItem(\"doc\"));\r\n\r\n    let defApp = null;\r\n    let defMod = null;\r\n\r\n    if (currAppMod) {\r\n      console.log(currAppMod);\r\n      defApp = this.searchApplicationOptions.filter(\r\n        (opt) => opt.code == currAppMod.applicationName.code\r\n      )[0];\r\n      defMod = this.searchModuleOptions.filter(\r\n        (opt) => opt.code == currAppMod.moduleName.code\r\n      )[0];\r\n    } else {\r\n      if (defAppMod) {\r\n        defApp = JSON.parse(localStorage.getItem(\"applicationName\"));\r\n        defMod = JSON.parse(localStorage.getItem(\"moduleName\"));\r\n      }\r\n    }\r\n\r\n    if (defApp) {\r\n      this.appCtrl.patchValue(defApp);\r\n    }\r\n    if (defMod) {\r\n      this.moduleCtrl.patchValue(defMod);\r\n    }\r\n\r\n    this.getMasterData();\r\n  }\r\n\r\n  setSelectAppModule() {\r\n    this.selectAppModule = this.fb.group({\r\n      applications: new UntypedFormControl({ value: \"\", disabled: false }, [\r\n        Validators.required,\r\n      ]),\r\n      modules: new UntypedFormControl({ value: \"\", disabled: false }, [\r\n        Validators.required,\r\n      ]),\r\n    });\r\n  }\r\n\r\n  get appCtrl() {\r\n    return this.selectAppModule.get(\"applications\");\r\n  }\r\n  get moduleCtrl() {\r\n    return this.selectAppModule.get(\"modules\");\r\n  }\r\n\r\n  getMasterData() {\r\n    return this.http\r\n      .get(`appControl/formRulesController/getCriteriaMasterData`, {\r\n        headers: new HttpHeaders()\r\n          .set(\"userId\", String(this.userData.userId))\r\n          .set(\"form\", \"Document Settings\")\r\n          .set(\"applications\", this.appCtrl.value.code)\r\n          .set(\"moduleName\", this.moduleCtrl.value.code),\r\n      })\r\n      .subscribe((res: any) => {\r\n        console.log(\"masterdata\", res);\r\n        let criteriaMasterJson = _lodashClone(res);\r\n        delete criteriaMasterJson[\"fieldDisplay\"];\r\n        this.fieldDisplayData = res[\"fieldDisplay\"];\r\n        this.masterData = criteriaMasterJson;\r\n      });\r\n  }\r\n  Apply() {\r\n    console.log(\"criteriaMapDes\", this.criteriaMapDes);\r\n    this.criteriaMapCodeArray = this.criteriaMapDes\r\n      ?.split(\"&&&&\")[0]\r\n      ?.split(\", \");\r\n    this.criteriaCodeText = this.setCriteriaService.setCriteriaMap({\r\n      criteriaMap: this.criteriaMapDes,\r\n    });\r\n    let decodedFormattedCriteriaArr = this.criteriaMapCodeArray.map((crt) => {\r\n      let formatCrt;\r\n      let opr;\r\n      if (crt.includes(\"!=\")) {\r\n        formatCrt = crt.replace(/[!=]/g, \"\");\r\n        opr = \"!=\";\r\n      } else if (crt.includes(\">=\")) {\r\n        formatCrt = crt.replace(/[>=]/g, \"\");\r\n        opr = \">=\";\r\n      } else if (crt.includes(\"<=\")) {\r\n        formatCrt = crt.replace(/[<=]/g, \"\");\r\n        opr = \"<=\";\r\n      } else if (crt.includes(\"<\")) {\r\n        formatCrt = crt.replace(/[<]/g, \"\");\r\n        opr = \"<\";\r\n      } else if (crt.includes(\">\")) {\r\n        formatCrt = crt.replace(/[>]/g, \"\");\r\n        opr = \">\";\r\n      } else {\r\n        formatCrt = crt.replace(/[=]/g, \"\");\r\n        opr = \"=\";\r\n      }\r\n      let key = formatCrt.split(\"  \")[0];\r\n      let val = formatCrt.split(\"  \")[1];\r\n      return { [key]: val };\r\n    });\r\n\r\n    let newCrtMap = this.criteriaMapDes;\r\n    decodedFormattedCriteriaArr.forEach((crt) => {\r\n      console.log(\"crt\", crt);\r\n      let copyCrtMap = newCrtMap;\r\n      let nameVal = (Object.values(crt)[0] as string).split(\"&&&&\")[0];\r\n      console.log(\"keys\", Object.keys(crt)[0]);\r\n      let filtercrt = this.masterData[Object.keys(crt)[0]?.trim()]?.filter(\r\n        (d) => {\r\n          return d.codeName == nameVal;\r\n        }\r\n      );\r\n      if (filtercrt?.length) {\r\n        let codeVal = filtercrt[0][\"code\"] as string;\r\n        newCrtMap = copyCrtMap.replace(nameVal, codeVal);\r\n      }\r\n    });\r\n    console.log(\"newCrtMap\", newCrtMap.split(\", \").join(\";\"));\r\n    this.newcriteriaMapCode = newCrtMap.split(\", \").join(\";\");\r\n    this.coreService.displayLoadingScreen();\r\n    this.http;\r\n    this.http\r\n      .get(`appControl/documentSettingsController/getDocumentSetting`, {\r\n        headers: new HttpHeaders()\r\n          .set(\"criteriaMap\", this.newcriteriaMapCode)\r\n          .set(\"form\", \"Document Settings\")\r\n          .set(\"applications\", this.appCtrl.value.code)\r\n          .set(\"moduleName\", this.moduleCtrl.value.code),\r\n      })\r\n      .subscribe(\r\n        (res: any) => {\r\n          this.coreService.removeLoadingScreen();\r\n          console.log(\"response \", res);\r\n          if (res.TaxSettingData && res.TaxSettingData.length) {\r\n            this.responseMessage = res.msg;\r\n            this.tableData = res.TaxSettingData;\r\n            this.tableData.forEach((tax) => {\r\n              let beforeSplit = tax.CriteriaMap.split(\"&&&&\")[0];\r\n              const sections = tax.CriteriaMap.split(\"&&&&\");\r\n              let amounts = \"\";\r\n              let dates = \"\";\r\n              let afterSplit = \"\";\r\n\r\n              // Process each section\r\n              sections.forEach((section) => {\r\n                if (section.includes(\"from\") && section.includes(\"to\")) {\r\n                  // Extract the amounts\r\n                  const amountsArray = section\r\n                    .split(\"#\")\r\n                    .map((amountSection) => {\r\n                      const [from, to] = amountSection\r\n                        .split(\"::\")\r\n                        .map((part) => part.split(\":\")[1]);\r\n                      return `Between ${from} - ${to}`;\r\n                    });\r\n                  amounts = amountsArray.join(\" & \");\r\n                } else if (\r\n                  section.startsWith(\"trnStartDate\") &&\r\n                  section.includes(\"trnEndDate\")\r\n                ) {\r\n                  // Extract the dates\r\n                  const dateSections = section.split(\"#\").map((dateSection) => {\r\n                    const [startDate, endDate] = dateSection\r\n                      .split(\"::\")\r\n                      .map((part) => part.split(\"=\")[1]);\r\n                    return `Between ${startDate} - ${endDate}`;\r\n                  });\r\n                  dates = dateSections.join(\" & \");\r\n                }\r\n              });\r\n\r\n              if (amounts.length && dates.length) {\r\n                afterSplit += `Amount (${amounts}), Date (${dates})`;\r\n              } else if (amounts.length) {\r\n                afterSplit += `Amount (${amounts})`;\r\n              } else if (dates.length) {\r\n                afterSplit += `Date (${dates})`;\r\n              }\r\n\r\n              if (beforeSplit.length) {\r\n                let criteriaCodeText = this.setCriteriaService.setCriteriaMap({\r\n                  criteriaMap: beforeSplit,\r\n                });\r\n                tax.CriteriaMap = (\r\n                  this.setCriteriaService.decodeFormattedCriteria(\r\n                    criteriaCodeText,\r\n                    this.masterData,\r\n                    this.fieldDisplayData\r\n                  ) as []\r\n                ).join(\", \");\r\n                if (afterSplit?.length) {\r\n                  tax.CriteriaMap = tax.CriteriaMap + \", \" + afterSplit;\r\n                }\r\n              } else {\r\n                if (afterSplit?.length) {\r\n                  tax.CriteriaMap = afterSplit;\r\n                }\r\n              }\r\n            });\r\n          } else {\r\n            this.tableData = [];\r\n            this.responseMessage = res.msg;\r\n            this.coreService.showWarningToast(res.msg);\r\n          }\r\n        },\r\n        (err) => {\r\n          this.coreService.removeLoadingScreen();\r\n          this.coreService.showWarningToast(\"Format is incorrect\");\r\n        }\r\n      );\r\n  }\r\n}\r\n","<div class=\"visible-main-section\">\r\n  <div class=\"details-page-card\">\r\n    <div [formGroup]=\"selectAppModule\" class=\"select-module-application m-2\">\r\n      <div class=\"col-12\">\r\n        <div class=\"row\">\r\n          <div class=\"d-flex field col-md-4 col-lg-4 col-sm-12 col-xs-12 md-4\">\r\n            <label\r\n              class=\"detail-page-section-heading col-sm-3 col-xs-12\"\r\n              for=\"application\"\r\n              >Application</label\r\n            >\r\n            <p-dropdown\r\n              name=\"application\"\r\n              inputId=\"application\"\r\n              [options]=\"searchApplicationOptions\"\r\n              placeholder=\"Select\"\r\n              optionLabel=\"name\"\r\n              formControlName=\"applications\"\r\n            ></p-dropdown>\r\n          </div>\r\n          <div class=\"d-flex field col-md-4 col-lg-4 col-sm-12 col-xs-12 md-4\">\r\n            <label\r\n              class=\"detail-page-section-heading col-sm-3 col-xs-12 small\"\r\n              for=\"module\"\r\n              >Module</label\r\n            >\r\n            <p-dropdown\r\n              name=\"module\"\r\n              inputId=\"module\"\r\n              [options]=\"searchModuleOptions\"\r\n              placeholder=\"Select\"\r\n              optionLabel=\"name\"\r\n              formControlName=\"modules\"\r\n            ></p-dropdown>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"ruleDesc m-2 col-12\">\r\n      <p style=\"position: relative\">\r\n        Criteria Map <span class=\"description red-star\">*</span>\r\n        <span class=\"sample-format\"\r\n          >(Sample API criteria format : Country = INDIA, Tax Type = GST, LCY\r\n          Amount = 2, Transaction Date = DD/MM/YYYY)</span\r\n        >\r\n      </p>\r\n      <input\r\n        type=\"text\"\r\n        pInputText\r\n        [(ngModel)]=\"criteriaMapDes\"\r\n        maxlength=\"1000\"\r\n        placeholder=\"Max 1000 characters\"\r\n      />\r\n\r\n      <button\r\n        pButton\r\n        pRipple\r\n        type=\"button\"\r\n        label=\"Apply\"\r\n        class=\"p-button-raised\"\r\n        (click)=\"Apply()\"\r\n      ></button>\r\n    </div>\r\n    <div\r\n      *ngIf=\"tableData && tableData.length\"\r\n      class=\"table-data m-2 col-12\"\r\n      style=\"margin-top: 10px\"\r\n    >\r\n      <p-table\r\n        #dt\r\n        [value]=\"tableData\"\r\n        [paginator]=\"true\"\r\n        [rows]=\"10\"\r\n        [resizableColumns]=\"true\"\r\n        columnResizeMode=\"fit\"\r\n        [rowHover]=\"true\"\r\n      >\r\n        <ng-template pTemplate=\"header\">\r\n          <tr>\r\n            <th>Document</th>\r\n            <th>Document Id</th>\r\n            <th>Searched For</th>\r\n            <th>Criteria</th>\r\n            <th>Document No Type</th>\r\n            <th>Length (Min/Max)</th>\r\n            <th>Grace Period Days</th>\r\n            <th>Is Mandatory</th>\r\n            <th>Issue Country</th>\r\n            <th>FrontSide</th>\r\n            <th>BackSide</th>\r\n            <th>Is Default</th>\r\n            <th>Bypass Image</th>\r\n            <th>Expire Alert Days</th>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"body\" let-product>\r\n          <tr>\r\n            <td>{{ product.Document }}</td>\r\n            <td>{{ product.DocumentId }}</td>\r\n            <td>{{ criteriaMapDes }}</td>\r\n            <td>{{ product.Criteria }}</td>\r\n            <td>{{ product.DocumentNoType }}</td>\r\n            <td>{{ product.LengthMinMax }}</td>\r\n            <td>{{ product.GracePeriodDays }}</td>\r\n            <td>{{ product.IsMandatory }}</td>\r\n            <td>{{ product.IssueCountry }}</td>\r\n            <td>{{ product.FrontSide }}</td>\r\n            <td>{{ product.BackSide }}</td>\r\n            <td>{{ product.IsDefault }}</td>\r\n            <td>{{ product.BypassImage }}</td>\r\n            <td>{{ product.ExpireAlertDays }}</td>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"emptymessage\">\r\n          <tr>\r\n            <td colspan=\"13\">{{ responseMessage }}</td>\r\n          </tr>\r\n        </ng-template>\r\n      </p-table>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from \"@angular/core\";\r\nimport { ActivatedRoute } from \"@angular/router\";\r\nimport { CoreService } from \"../../core.service\";\r\nimport { SetCriteriaService } from \"../../shared/components/set-criteria/set-criteria.service\";\r\nimport { HttpClient, HttpHeaders } from \"@angular/common/http\";\r\nimport {\r\n  UntypedFormBuilder,\r\n  UntypedFormControl,\r\n  Validators,\r\n} from \"@angular/forms\";\r\n\r\nimport _lodashClone from \"lodash-es/cloneDeep\";\r\n\r\n@Component({\r\n  selector: \"app-group-settings\",\r\n  templateUrl: \"./group-settings.component.html\",\r\n  styleUrls: [\"./group-settings.component.scss\"],\r\n})\r\nexport class GroupSettingsComponent implements OnInit {\r\n  products: any = [];\r\n  tableData: any = [];\r\n  userData: any = {};\r\n  responseMessage = \"\";\r\n\r\n  criteriaMapDes = \"\";\r\n\r\n  newcriteriaMapCode = \"\";\r\n  masterData: any = [];\r\n  criteriaMapCodeArray: any = [];\r\n  criteriaCodeText: any[] = [];\r\n\r\n  selectAppModule: any;\r\n  searchApplicationOptions: any[] = [];\r\n  searchModuleOptions: any[] = [];\r\n\r\n  fieldDisplayData = {};\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private coreService: CoreService,\r\n    private setCriteriaService: SetCriteriaService,\r\n    private http: HttpClient,\r\n    private fb: UntypedFormBuilder\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.route.data.subscribe((data) => {\r\n      this.coreService.setBreadCrumbMenu(Object.values(data));\r\n    });\r\n    this.userData = JSON.parse(localStorage.getItem(\"userData\"));\r\n\r\n    this.setSelectAppModule();\r\n\r\n    this.searchApplicationOptions = JSON.parse(\r\n      localStorage.getItem(\"appAccess\")\r\n    );\r\n    this.searchModuleOptions = JSON.parse(localStorage.getItem(\"modAccess\"));\r\n    let defAppMod = JSON.parse(localStorage.getItem(\"defAppModule\"));\r\n    let currAppMod = JSON.parse(sessionStorage.getItem(\"bankRoute\"));\r\n\r\n    let defApp = null;\r\n    let defMod = null;\r\n\r\n    if (currAppMod) {\r\n      console.log(currAppMod);\r\n      defApp = this.searchApplicationOptions.filter(\r\n        (opt) => opt.code == currAppMod.applicationName.code\r\n      )[0];\r\n      defMod = this.searchModuleOptions.filter(\r\n        (opt) => opt.code == currAppMod.moduleName.code\r\n      )[0];\r\n    } else {\r\n      if (defAppMod) {\r\n        defApp = JSON.parse(localStorage.getItem(\"applicationName\"));\r\n        defMod = JSON.parse(localStorage.getItem(\"moduleName\"));\r\n      }\r\n    }\r\n\r\n    if (defApp) {\r\n      this.appCtrl.patchValue(defApp);\r\n    }\r\n    if (defMod) {\r\n      this.moduleCtrl.patchValue(defMod);\r\n    }\r\n\r\n    this.getMasterData();\r\n  }\r\n\r\n  setSelectAppModule() {\r\n    this.selectAppModule = this.fb.group({\r\n      applications: new UntypedFormControl({ value: \"\", disabled: false }, [\r\n        Validators.required,\r\n      ]),\r\n      modules: new UntypedFormControl({ value: \"\", disabled: false }, [\r\n        Validators.required,\r\n      ]),\r\n    });\r\n  }\r\n\r\n  get appCtrl() {\r\n    return this.selectAppModule.get(\"applications\");\r\n  }\r\n  get moduleCtrl() {\r\n    return this.selectAppModule.get(\"modules\");\r\n  }\r\n\r\n  getMasterData() {\r\n    return this.http\r\n      .get(`appControl/formRulesController/getCriteriaMasterData`, {\r\n        headers: new HttpHeaders()\r\n          .set(\"userId\", String(this.userData.userId))\r\n          .set(\"form\", \"Bank Routings\")\r\n          .set(\"applications\", this.appCtrl.value.code)\r\n          .set(\"moduleName\", this.moduleCtrl.value.code),\r\n      })\r\n      .subscribe((res: any) => {\r\n        console.log(\"masterdata\", res);\r\n        let criteriaMasterJson = _lodashClone(res);\r\n        delete criteriaMasterJson[\"fieldDisplay\"];\r\n        this.fieldDisplayData = res[\"fieldDisplay\"];\r\n        this.masterData = criteriaMasterJson;\r\n      });\r\n  }\r\n  Apply() {\r\n    console.log(\"criteriaMapDes\", this.criteriaMapDes);\r\n    this.criteriaMapCodeArray = this.criteriaMapDes\r\n      ?.split(\"&&&&\")[0]\r\n      ?.split(\", \");\r\n    this.criteriaCodeText = this.setCriteriaService.setCriteriaMap({\r\n      criteriaMap: this.criteriaMapDes,\r\n    });\r\n    let decodedFormattedCriteriaArr = this.criteriaMapCodeArray.map((crt) => {\r\n      let formatCrt;\r\n      let opr;\r\n      if (crt.includes(\"!=\")) {\r\n        formatCrt = crt.replace(/[!=]/g, \"\");\r\n        opr = \"!=\";\r\n      } else if (crt.includes(\">=\")) {\r\n        formatCrt = crt.replace(/[>=]/g, \"\");\r\n        opr = \">=\";\r\n      } else if (crt.includes(\"<=\")) {\r\n        formatCrt = crt.replace(/[<=]/g, \"\");\r\n        opr = \"<=\";\r\n      } else if (crt.includes(\"<\")) {\r\n        formatCrt = crt.replace(/[<]/g, \"\");\r\n        opr = \"<\";\r\n      } else if (crt.includes(\">\")) {\r\n        formatCrt = crt.replace(/[>]/g, \"\");\r\n        opr = \">\";\r\n      } else {\r\n        formatCrt = crt.replace(/[=]/g, \"\");\r\n        opr = \"=\";\r\n      }\r\n      let key = formatCrt.split(\"  \")[0];\r\n      let val = formatCrt.split(\"  \")[1];\r\n      return { [key]: val };\r\n    });\r\n\r\n    let newCrtMap = this.criteriaMapDes;\r\n    decodedFormattedCriteriaArr.forEach((crt) => {\r\n      console.log(\"crt\", crt);\r\n      let copyCrtMap = newCrtMap;\r\n      let nameVal = (Object.values(crt)[0] as string).split(\"&&&&\")[0];\r\n      console.log(\"keys\", Object.keys(crt)[0]);\r\n      let filtercrt = this.masterData[Object.keys(crt)[0]?.trim()]?.filter(\r\n        (d) => {\r\n          return d.codeName == nameVal;\r\n        }\r\n      );\r\n      if (filtercrt?.length) {\r\n        let codeVal = filtercrt[0][\"code\"] as string;\r\n        newCrtMap = copyCrtMap.replace(nameVal, codeVal);\r\n      }\r\n    });\r\n    console.log(\"newCrtMap\", newCrtMap.split(\", \").join(\";\"));\r\n    this.newcriteriaMapCode = newCrtMap.split(\", \").join(\";\");\r\n    this.coreService.displayLoadingScreen();\r\n    this.http;\r\n    this.http\r\n      .get(`appControl/banksRoutingController/getBankRouting`, {\r\n        headers: new HttpHeaders()\r\n          .set(\"criteriaMap\", this.newcriteriaMapCode)\r\n          .set(\"form\", \"Bank Routings\")\r\n          .set(\"applications\", this.appCtrl.value.code)\r\n          .set(\"moduleName\", this.moduleCtrl.value.code),\r\n      })\r\n      .subscribe(\r\n        (res: any) => {\r\n          this.coreService.removeLoadingScreen();\r\n          console.log(\"response \", res);\r\n          if (res.RouteData && res.RouteData.length) {\r\n            this.responseMessage = res.msg;\r\n            this.tableData = res.RouteData;\r\n            this.tableData.forEach((tax) => {\r\n              let beforeSplit = tax.Criteria.split(\"&&&&\")[0];\r\n              const sections = tax.Criteria.split(\"&&&&\");\r\n              let amounts = \"\";\r\n              let dates = \"\";\r\n              let afterSplit = \"\";\r\n\r\n              // Process each section\r\n              sections.forEach((section) => {\r\n                if (section.includes(\"from\") && section.includes(\"to\")) {\r\n                  // Extract the amounts\r\n                  const amountsArray = section\r\n                    .split(\"#\")\r\n                    .map((amountSection) => {\r\n                      const [from, to] = amountSection\r\n                        .split(\"::\")\r\n                        .map((part) => part.split(\":\")[1]);\r\n                      return `Between ${from} - ${to}`;\r\n                    });\r\n                  amounts = amountsArray.join(\" & \");\r\n                } else if (\r\n                  section.startsWith(\"trnStartDate\") &&\r\n                  section.includes(\"trnEndDate\")\r\n                ) {\r\n                  // Extract the dates\r\n                  const dateSections = section.split(\"#\").map((dateSection) => {\r\n                    const [startDate, endDate] = dateSection\r\n                      .split(\"::\")\r\n                      .map((part) => part.split(\"=\")[1]);\r\n                    return `Between ${startDate} - ${endDate}`;\r\n                  });\r\n                  dates = dateSections.join(\" & \");\r\n                }\r\n              });\r\n\r\n              if (amounts.length && dates.length) {\r\n                afterSplit += `Amount (${amounts}), Date (${dates})`;\r\n              } else if (amounts.length) {\r\n                afterSplit += `Amount (${amounts})`;\r\n              } else if (dates.length) {\r\n                afterSplit += `Date (${dates})`;\r\n              }\r\n\r\n              if (beforeSplit.length) {\r\n                let criteriaCodeText = this.setCriteriaService.setCriteriaMap({\r\n                  criteriaMap: beforeSplit,\r\n                });\r\n                tax.Criteria = (\r\n                  this.setCriteriaService.decodeFormattedCriteria(\r\n                    criteriaCodeText,\r\n                    this.masterData,\r\n                    this.fieldDisplayData\r\n                  ) as []\r\n                ).join(\", \");\r\n                if (afterSplit?.length) {\r\n                  tax.Criteria = tax.Criteria + \", \" + afterSplit;\r\n                }\r\n              } else {\r\n                if (afterSplit?.length) {\r\n                  tax.Criteria = afterSplit;\r\n                }\r\n              }\r\n            });\r\n          } else {\r\n            this.tableData = [];\r\n            this.responseMessage = res.msg;\r\n            this.coreService.showWarningToast(res.msg);\r\n          }\r\n        },\r\n        (err) => {\r\n          this.coreService.removeLoadingScreen();\r\n          this.coreService.showWarningToast(\"Format is incorrect\");\r\n        }\r\n      );\r\n  }\r\n}\r\n","<div class=\"visible-main-section\">\r\n  <div class=\"details-page-card\">\r\n    <div [formGroup]=\"selectAppModule\" class=\"select-module-application m-2\">\r\n      <div class=\"col-12\">\r\n        <div class=\"row\">\r\n          <div class=\"d-flex field col-md-4 col-lg-4 col-sm-12 col-xs-12 md-4\">\r\n            <label\r\n              class=\"detail-page-section-heading col-sm-3 col-xs-12\"\r\n              for=\"application\"\r\n              >Application</label\r\n            >\r\n            <p-dropdown\r\n              name=\"application\"\r\n              inputId=\"application\"\r\n              [options]=\"searchApplicationOptions\"\r\n              placeholder=\"Select\"\r\n              optionLabel=\"name\"\r\n              formControlName=\"applications\"\r\n            ></p-dropdown>\r\n          </div>\r\n          <div class=\"d-flex field col-md-4 col-lg-4 col-sm-12 col-xs-12 md-4\">\r\n            <label\r\n              class=\"detail-page-section-heading col-sm-3 col-xs-12 small\"\r\n              for=\"module\"\r\n              >Module</label\r\n            >\r\n            <p-dropdown\r\n              name=\"module\"\r\n              inputId=\"module\"\r\n              [options]=\"searchModuleOptions\"\r\n              placeholder=\"Select\"\r\n              optionLabel=\"name\"\r\n              formControlName=\"modules\"\r\n            ></p-dropdown>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"ruleDesc m-2 col-12\">\r\n      <p style=\"position: relative\">\r\n        Criteria Map <span class=\"description red-star\">*</span>\r\n        <span class=\"sample-format\"\r\n          >(Sample API criteria format : Country = INDIA, Tax Type = GST, LCY\r\n          Amount = 2, Transaction Date = DD/MM/YYYY)</span\r\n        >\r\n      </p>\r\n      <input\r\n        type=\"text\"\r\n        pInputText\r\n        [(ngModel)]=\"criteriaMapDes\"\r\n        maxlength=\"1000\"\r\n        placeholder=\"Max 1000 characters\"\r\n      />\r\n\r\n      <button\r\n        pButton\r\n        pRipple\r\n        type=\"button\"\r\n        label=\"Apply\"\r\n        class=\"p-button-raised\"\r\n        (click)=\"Apply()\"\r\n      ></button>\r\n    </div>\r\n    <div\r\n      *ngIf=\"tableData && tableData.length\"\r\n      class=\"table-data m-2 col-12\"\r\n      style=\"margin-top: 10px\"\r\n    >\r\n      <p-table\r\n        #dt\r\n        [value]=\"tableData\"\r\n        [paginator]=\"true\"\r\n        [rows]=\"10\"\r\n        [resizableColumns]=\"true\"\r\n        columnResizeMode=\"fit\"\r\n        [rowHover]=\"true\"\r\n      >\r\n        <ng-template pTemplate=\"header\">\r\n          <tr>\r\n            <th>Route Code</th>\r\n            <th>Route CodeID</th>\r\n            <th>Searched For</th>\r\n            <th>Criteria</th>\r\n            <th>Route To Bank</th>\r\n            <th>Route To Service Category</th>\r\n            <th>Route To ServiceType</th>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"body\" let-product>\r\n          <tr>\r\n            <td>{{ product.RouteCode }}</td>\r\n            <td>{{ product.RouteCodeID }}</td>\r\n            <td>{{ criteriaMapDes }}</td>\r\n            <td>{{ product.Criteria }}</td>\r\n            <td>{{ product.RouteToBank }}</td>\r\n            <td>{{ product.RouteToServiceCategory }}</td>\r\n            <td>{{ product.RouteToServiceType }}</td>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"emptymessage\">\r\n          <tr>\r\n            <td colspan=\"6\">{{ responseMessage }}</td>\r\n          </tr>\r\n        </ng-template>\r\n      </p-table>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Injectable } from \"@angular/core\";\r\nimport {\r\n  HttpRequest,\r\n  HttpHandler,\r\n  HttpEvent,\r\n  HttpInterceptor,\r\n} from \"@angular/common/http\";\r\nimport { EMPTY, Observable, of } from \"rxjs\";\r\nimport { AuthService } from \"./auth/auth.service\";\r\nimport { Router } from \"@angular/router\";\r\nimport { CoreService } from \"./core.service\";\r\nimport { environment } from \"src/environments/environment\";\r\n\r\n@Injectable()\r\nexport class HttpInterceptorInterceptor implements HttpInterceptor {\r\n  constructor(\r\n    private authService: AuthService,\r\n    private router: Router,\r\n    private coreService: CoreService\r\n  ) {}\r\n\r\n  intercept(\r\n    request: HttpRequest<unknown>,\r\n    next: HttpHandler\r\n  ): Observable<HttpEvent<unknown>> {\r\n    if (\r\n      !this.authService.isLoggedIn() &&\r\n      request[\"url\"] == `/login/loginController/login`\r\n    ) {\r\n      console.log(\"auth not needed\", request);\r\n      return next.handle(request);\r\n    } else if (!this.authService.isLoggedIn()) {\r\n      this.coreService.userActionsObs.next([{ name: \"Login\" }]);\r\n      console.log(\"not authorized\", request);\r\n      this.coreService.showWarningToast(\r\n        \"Your session has timed out. Please log in again to continue.\"\r\n      );\r\n      this.router.navigate([\"session-time-out\"]);\r\n      return EMPTY;\r\n    } else {\r\n      const token = localStorage.getItem(\"token\");\r\n      return next.handle(\r\n        request.clone({\r\n          setHeaders: { Authorization: `${token}` },\r\n        })\r\n      );\r\n    }\r\n  }\r\n}\r\n","import { HttpClient } from \"@angular/common/http\";\r\nimport { Component, OnInit } from \"@angular/core\";\r\nimport {\r\n  UntypedFormBuilder,\r\n  UntypedFormGroup,\r\n  Validators,\r\n} from \"@angular/forms\";\r\nimport { Router } from \"@angular/router\";\r\nimport { take } from \"rxjs/operators\";\r\nimport { AuthService } from \"../auth/auth.service\";\r\nimport { CoreService } from \"../core.service\";\r\nimport { LoginFormData, LoginService } from \"./login.service\";\r\n\r\n@Component({\r\n  selector: \"app-login\",\r\n  templateUrl: \"./login.component.html\",\r\n  styleUrls: [\"./login.component.scss\"],\r\n})\r\nexport class LoginComponent implements OnInit {\r\n  loginForm!: UntypedFormGroup;\r\n  isFormInvalid = false;\r\n  loggedInUserData = {\r\n    username: \"yogeshm\",\r\n    password: \"test@123\",\r\n    // application: \"CASMEX_CORE\",\r\n  };\r\n  constructor(\r\n    private formBuilder: UntypedFormBuilder,\r\n    private router: Router,\r\n    private loginService: LoginService,\r\n    private coreService: CoreService,\r\n    private authService: AuthService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.loginForm = this.formBuilder.group({\r\n      username: [\"\", Validators.required],\r\n      password: [\"\", Validators.required],\r\n    });\r\n  }\r\n\r\n  setSession() {}\r\n\r\n  onSubmit() {\r\n    if (this.loginForm.valid) {\r\n      this.coreService.displayLoadingScreen();\r\n      this.isFormInvalid = false;\r\n      const formData: LoginFormData = {\r\n        // application: \"CASMEX_CORE\",\r\n        ...this.loginForm.value,\r\n      };\r\n\r\n      this.loginService\r\n        .loginUser(formData)\r\n        .pipe(take(1))\r\n        .subscribe(\r\n          (data: any) => {\r\n            if (data && data.jwt && !data[\"msg\"]) {\r\n              this.loginService.saveLoggedUserInfo(data);\r\n              this.router.navigate([\"/dashboard\"]);\r\n              // this.router.navigate([\"/navbar\"]);\r\n              this.coreService.showSuccessToast(\"Login Successfull\");\r\n            } else {\r\n              data[\"msg\"] && this.coreService.showWarningToast(data[\"msg\"]);\r\n\r\n              this.coreService.removeLoadingScreen();\r\n            }\r\n          },\r\n          (err) => {\r\n            console.log(err);\r\n            this.coreService.removeLoadingScreen();\r\n          }\r\n        )\r\n        .add(() => {});\r\n    } else {\r\n      this.isFormInvalid = true;\r\n    }\r\n  }\r\n\r\n  onReset() {\r\n    this.loginForm.reset();\r\n  }\r\n}\r\n","<div class=\"parent-container\">\r\n  <div class=\"container\">\r\n    <div class=\"row m-5 no-gutters shadow-lg\">\r\n      <div class=\"col-md-6 d-none d-md-block logos\">\r\n        <img\r\n          src=\"../assets/logo.svg\"\r\n          class=\"img-fluid p-5 p-2\"\r\n          style=\"min-height: 100%\"\r\n        />\r\n      </div>\r\n      <div class=\"col-md-6 bg-white p-5\">\r\n        <h3 class=\"pb-3\">Login</h3>\r\n        <p>Welcome back! Please login to your account.</p>\r\n        <div class=\"form-style\">\r\n          <form [formGroup]=\"loginForm\">\r\n            <div class=\"form-group pb-3\">\r\n              <label for=\"username\" class=\"form-label\">Username</label>\r\n              <input\r\n                formControlName=\"username\"\r\n                type=\"Username\"\r\n                placeholder=\"username\"\r\n                class=\"form-control\"\r\n                id=\"username\"\r\n                aria-describedby=\"emailHelp\"\r\n              />\r\n            </div>\r\n            <div class=\"form-group pb-3\">\r\n              <label for=\"password\" class=\"form-label\">Password</label>\r\n              <input\r\n                formControlName=\"password\"\r\n                autocomplete=\"password\"\r\n                type=\"password\"\r\n                placeholder=\"password\"\r\n                class=\"form-control\"\r\n                id=\"password\"\r\n              />\r\n            </div>\r\n            <div class=\"d-flex align-items-center justify-content-between mb-2\">\r\n              <div class=\"d-flex align-items-center\">\r\n                <p-checkbox [binary]=\"true\"></p-checkbox>\r\n                <span class=\"pl-4 font-weight-bold\">Remember Me</span>\r\n              </div>\r\n              <div><a href=\"#\">Forget Password?</a></div>\r\n            </div>\r\n            <div class=\"pb-2\">\r\n              <button\r\n                type=\"submit\"\r\n                label=\"Login\"\r\n                class=\"btn btn-primary\"\r\n                (click)=\"onSubmit()\"\r\n              >\r\n                Login\r\n              </button>\r\n            </div>\r\n          </form>\r\n\r\n          <div class=\"pt-4 text-center\">New User? <a href=\"#\">Sign Up</a></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { HttpClient, HttpHeaders } from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { environment } from \"src/environments/environment\";\r\nimport { AuthService } from \"../auth/auth.service\";\r\nimport { User } from \"../auth/user.model\";\r\nimport { BnNgIdleService } from \"bn-ng-idle\";\r\nimport { take } from \"rxjs/operators\";\r\nimport { CoreService } from \"../core.service\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class LoginService {\r\n  constructor(\r\n    private http: HttpClient,\r\n    private authService: AuthService,\r\n    private coreService: CoreService\r\n  ) {}\r\n\r\n  saveLoggedUserInfo(data: any) {\r\n    let expiry = JSON.parse(atob(data.jwt.split(\".\")[1])).exp;\r\n    let loggedUser = new User(\r\n      data.useRole,\r\n      data.userGroup,\r\n      data.userId,\r\n      data.userName,\r\n      data.jwt,\r\n      new Date(expiry * 1000).getTime(),\r\n      data.userCode\r\n    );\r\n\r\n    console.log(\"user\", loggedUser);\r\n    this.authService.userDataSub.next(loggedUser);\r\n\r\n    let token = data.jwt;\r\n    localStorage.setItem(\"userData\", JSON.stringify(loggedUser));\r\n    localStorage.setItem(\"token\", token);\r\n\r\n    // % formatting & setting allApplications - eligibleApp in local storage\r\n    let allApplicationsForUser = [];\r\n    let eligibleApplicationsForUser = [{ code: \"def\", codeName: \"def\" }];\r\n    if (data.allApplications) {\r\n      data.allApplications.forEach((app) => {\r\n        let applicationData = {\r\n          code: app.code,\r\n          codeName: app.codeName,\r\n          eligibleApp: false,\r\n        };\r\n        if (\r\n          data.eligibleApp &&\r\n          data.eligibleApp.find((elApp) => elApp.code == app.code)\r\n        ) {\r\n          applicationData[\"eligibleApp\"] = true;\r\n          eligibleApplicationsForUser.push(applicationData);\r\n        }\r\n        allApplicationsForUser.push(applicationData);\r\n      });\r\n    }\r\n    localStorage.setItem(\r\n      \"allApplicationsForUser\",\r\n      JSON.stringify(allApplicationsForUser)\r\n    );\r\n    localStorage.setItem(\r\n      \"eligibleApplicationsForUser\",\r\n      JSON.stringify(eligibleApplicationsForUser)\r\n    );\r\n\r\n    //% setting licenseCountry in localstorage\r\n    localStorage.setItem(\"licenseCountry\", \"CO\");\r\n\r\n    // // save app & mod in localstorage\r\n    // let appsAvailable = [];\r\n    // let modsAvailable = [];\r\n    // if (data.application) {\r\n    //   appsAvailable = data.application.map((apps) => {\r\n    //     return { code: apps.code, name: apps.description };\r\n    //   });\r\n    // }\r\n    // if (data.module) {\r\n    //   modsAvailable = data.module.map((mods) => {\r\n    //     return { code: mods.code, name: mods.description };\r\n    //   });\r\n    // }\r\n\r\n    // localStorage.setItem(\"appAccess\", JSON.stringify(appsAvailable));\r\n    // localStorage.setItem(\"modAccess\", JSON.stringify(modsAvailable));\r\n    // let defAppMod = {\r\n    //   applicationName: appsAvailable[0],\r\n    //   moduleName: modsAvailable[0],\r\n    // };\r\n\r\n    // localStorage.setItem(\"applicationName\", JSON.stringify(appsAvailable[0]));\r\n    // localStorage.setItem(\"moduleName\", JSON.stringify(modsAvailable[0]));\r\n\r\n    // localStorage.setItem(\"defAppModule\", JSON.stringify(defAppMod));\r\n\r\n    // let menuTree = data.menuItemTree;\r\n    // localStorage.setItem(\"menuItems\", JSON.stringify(menuTree));\r\n\r\n    // sessionStorage.setItem(\"bankRoute\", null),\r\n    //   sessionStorage.setItem(\"tax\", null),\r\n    //   sessionStorage.setItem(\"doc\", null),\r\n    //   sessionStorage.setItem(\"form\", null);\r\n  }\r\n\r\n  saveUserSelectedApplicationData(data: any) {\r\n    // save app & mod in localstorage\r\n    let appsAvailable = [];\r\n    let modsAvailable = [];\r\n    if (data.application) {\r\n      appsAvailable = data.application.map((apps) => {\r\n        return { code: apps.code, name: apps.description };\r\n      });\r\n    }\r\n    if (data.module) {\r\n      modsAvailable = data.module.map((mods) => {\r\n        return { code: mods.code, name: mods.description };\r\n      });\r\n    }\r\n\r\n    localStorage.setItem(\"appAccess\", JSON.stringify(appsAvailable));\r\n    localStorage.setItem(\"modAccess\", JSON.stringify(modsAvailable));\r\n    let defAppMod = {\r\n      applicationName: appsAvailable[0],\r\n      moduleName: modsAvailable[0],\r\n    };\r\n\r\n    localStorage.setItem(\"applicationName\", JSON.stringify(appsAvailable[0]));\r\n    localStorage.setItem(\"moduleName\", JSON.stringify(modsAvailable[0]));\r\n\r\n    localStorage.setItem(\"defAppModule\", JSON.stringify(defAppMod));\r\n\r\n    let menuTree = data.menuItemTree;\r\n    if (menuTree) {\r\n      localStorage.setItem(\"menuItems\", JSON.stringify(menuTree));\r\n      this.coreService.setsidebarMenu(menuTree);\r\n    }\r\n  }\r\n\r\n  loginUser(data: LoginFormData) {\r\n    return this.http.post(`/login/loginController/login`, data);\r\n  }\r\n\r\n  getAppModuleData(userCode: any, appCode: any) {\r\n    return this.http.get(`/login/loginController/getAppModule`, {\r\n      headers: new HttpHeaders()\r\n        .set(\"userCode\", String(userCode))\r\n        .set(\"appCode\", String(appCode)),\r\n    });\r\n  }\r\n}\r\n\r\nexport interface LoginFormData {\r\n  application: string;\r\n  password: string;\r\n  username: string;\r\n}\r\n","import { Component, ElementRef, OnInit, ViewChild } from \"@angular/core\";\r\nimport {\r\n  UntypedFormBuilder,\r\n  UntypedFormControl,\r\n  Validators,\r\n} from \"@angular/forms\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { ConfirmationService, MessageService } from \"primeng/api\";\r\nimport { Dropdown } from \"primeng/dropdown\";\r\nimport { DialogService } from \"primeng/dynamicdialog\";\r\nimport { Table } from \"primeng/table\";\r\nimport { forkJoin, of } from \"rxjs\";\r\nimport { catchError, map, switchMap, take } from \"rxjs/operators\";\r\nimport { CoreService } from \"src/app/core.service\";\r\nimport { SetCriteriaComponent } from \"src/app/shared/components/set-criteria/set-criteria.component\";\r\nimport { SetCriteriaService } from \"src/app/shared/components/set-criteria/set-criteria.service\";\r\nimport { CriteriaDataService } from \"src/app/shared/services/criteria-data.service\";\r\nimport { LoyaltyService } from \"../loyalty.service\";\r\nimport { HttpClient, HttpHeaders } from \"@angular/common/http\";\r\n\r\nimport _lodashClone from \"lodash-es/cloneDeep\";\r\n\r\n@Component({\r\n  selector: \"app-add-loyalty\",\r\n  templateUrl: \"./add-loyalty.component.html\",\r\n  styleUrls: [\"./add-loyalty.component.scss\"],\r\n  providers: [DialogService, MessageService],\r\n})\r\nexport class AddLoyaltyComponent implements OnInit {\r\n  @ViewChild(SetCriteriaComponent)\r\n  setCriteriaSharedComponent!: SetCriteriaComponent;\r\n  @ViewChild(\"table\", { static: false }) table!: Table;\r\n  @ViewChild(\"templatesDropdown\") templatesDropdown: Dropdown;\r\n  @ViewChild(\"inpFile\") fileInput: ElementRef;\r\n\r\n  primaryColor = \"var(--primary-color)\";\r\n\r\n  today = new Date();\r\n\r\n  userId = \"\";\r\n  loyaltyID = \"\";\r\n  mode = \"add\";\r\n  formName = \"Loyalty Programs Manager\";\r\n\r\n  deactivated: boolean = false;\r\n  statusData: any = [];\r\n\r\n  selectAppModule: any;\r\n  searchApplicationOptions: any[] = [];\r\n  searchModuleOptions: any[] = [];\r\n\r\n  appModuleDataPresent: boolean = false;\r\n  showContent: boolean = false;\r\n\r\n  programCode = \"No Data\";\r\n  programDescription = \"\";\r\n  programType = \"\";\r\n  loyaltyType = \"\";\r\n  loyaltyValue = \"\";\r\n  rewardsAs = \"\";\r\n  criteriaId = \"0\";\r\n  criteriaTransactionAmountFrom = \"0\";\r\n  criteriaTransactionAmountTo = \"0\";\r\n\r\n  fileUploadLable: boolean = false;\r\n  fileUploadValue: string[] = [];\r\n  uploadedfileData: any = [];\r\n  uploadedfileDataCols: any = [\r\n    {\r\n      field: \"imageOriginalName\",\r\n      header: \"Image name\",\r\n    },\r\n    {\r\n      field: \"action\",\r\n      header: \"Action\",\r\n    },\r\n  ];\r\n\r\n  isLoyaltyProgramLinked: boolean = false;\r\n\r\n  appliedCriteriaCriteriaMap: any = null;\r\n  appliedCriteriaIsDuplicate: any = null;\r\n  objectKeys = Object.keys;\r\n  isEditMode = false;\r\n\r\n  criteriaMasterData: any = {};\r\n  criteriaDataDetailsJson: any = {};\r\n  cmCriteriaMandatory = [];\r\n  cmCriteriaDependency: any = {};\r\n  cmCriteriaDataDetails: any = [];\r\n  independantCriteriaArr: any = [];\r\n  cmCriteriaSlabType: any = { Slab: \"LCY Amount\", date: \"Transaction Date\" };\r\n  criteriaTemplatesDdlOptions: any = [];\r\n  criteriaMapDdlOptions = [];\r\n  criteriaEqualsDdlOptions = [];\r\n  correspondentDdlOptions = [];\r\n\r\n  criteriaText: any[] = [];\r\n  criteriaCodeText: any[] = [];\r\n\r\n  savingCriteriaTemplateError = null;\r\n\r\n  inactiveData: boolean = false;\r\n  isApplyCriteriaClicked: boolean = false;\r\n\r\n  applyCriteriaResponse: any[] = [];\r\n  isLcyFieldPresent = false;\r\n  applyCriteriaDataTableColumns: any[] = [];\r\n  columnsCopy: any[] = [\r\n    // {\r\n    //   field: \"criteriaTransactionDateFrom\",\r\n    //   header: \"Transaction From Date&Time\",\r\n    //   fieldType: \"text\",\r\n    //   frozen: false,\r\n    //   info: null,\r\n    // },\r\n    // {\r\n    //   field: \"criteriaTransactionDateTo\",\r\n    //   header: \"Transaction To Date&Time\",\r\n    //   fieldType: \"text\",\r\n    //   frozen: false,\r\n    //   info: null,\r\n    // },\r\n    {\r\n      field: \"rewardsAs\",\r\n      header: \"Reward As\",\r\n      fieldType: \"dropdown\",\r\n      frozen: false,\r\n      info: null,\r\n    },\r\n    {\r\n      field: \"discountAs\",\r\n      header: \"Discount As\",\r\n      fieldType: \"dropdown\",\r\n      frozen: false,\r\n      info: \"Select reward as 'Discount' to enable it\",\r\n    },\r\n    {\r\n      field: \"loyaltyType\",\r\n      header: \"Loyalty Type\",\r\n      fieldType: \"dropdown\",\r\n      frozen: false,\r\n      info: null,\r\n    },\r\n    {\r\n      field: \"loyaltyValue\",\r\n      header: \"Loyalty Value\",\r\n      fieldType: \"input\",\r\n      frozen: false,\r\n      info: null,\r\n    },\r\n    {\r\n      field: \"isActive\",\r\n      header: \"Status\",\r\n      frozen: false,\r\n      info: null,\r\n    },\r\n  ];\r\n  applyCriteriaFormattedData: any[] = [];\r\n\r\n  rewardsAsOption: any[] = [];\r\n  discountAsOption: any[] = [];\r\n  loyaltyTypeOption: any[] = [];\r\n  programTypeOptions: any[] = [];\r\n\r\n  appliedCriteriaDatajson: any = {};\r\n\r\n  formattedMasterData: any = [];\r\n\r\n  Emailchecked: boolean = false;\r\n  Msgchecked: boolean = false;\r\n  promoCodeLength = null;\r\n  promoCode = \"\";\r\n  criteriaTransactionDateFrom: Date;\r\n  criteriaTransactionDateTo: Date;\r\n\r\n  showFilesModal: boolean = false;\r\n\r\n  editingFileIndex = null;\r\n\r\n  validPromoCodeLength = false;\r\n\r\n  resetParam = false;\r\n\r\n  fieldDisplayData = {};\r\n\r\n  setCriteriaName = \"loyalty\";\r\n\r\n  constructor(\r\n    private activatedRoute: ActivatedRoute,\r\n    public dialogService: DialogService,\r\n    public messageService: MessageService,\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private coreService: CoreService,\r\n    private confirmationService: ConfirmationService,\r\n    private setCriteriaService: SetCriteriaService,\r\n    private http: HttpClient,\r\n    private criteriaDataService: CriteriaDataService,\r\n    private fb: UntypedFormBuilder,\r\n    private loyaltyService: LoyaltyService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.coreService.displayLoadingScreen();\r\n    this.mode = \"add\";\r\n    this.route.data.subscribe((data) => {\r\n      this.coreService.setBreadCrumbMenu(Object.values(data));\r\n    });\r\n    this.setSelectAppModule();\r\n    this.userId = JSON.parse(localStorage.getItem(\"userData\"))[\"userId\"];\r\n\r\n    const params = this.activatedRoute.snapshot.params;\r\n    if (params && params.id) {\r\n      this.mode = this.activatedRoute.snapshot.routeConfig.path.substring(\r\n        this.activatedRoute.snapshot.routeConfig.path.lastIndexOf(\"/\") + 1\r\n      );\r\n      this.loyaltyID = params.id;\r\n    }\r\n\r\n    //\r\n    this.searchApplicationOptions = JSON.parse(\r\n      localStorage.getItem(\"appAccess\")\r\n    );\r\n    this.searchModuleOptions = JSON.parse(localStorage.getItem(\"modAccess\"));\r\n\r\n    if (localStorage.getItem(\"applicationName\")) {\r\n      let defApplication = JSON.parse(localStorage.getItem(\"applicationName\"));\r\n      console.log(defApplication);\r\n      if (defApplication) {\r\n        this.appCtrl.patchValue(defApplication);\r\n      }\r\n    }\r\n    if (localStorage.getItem(\"moduleName\")) {\r\n      let defModule = this.searchModuleOptions.filter(\r\n        (opt) => opt.name == \"Loyalty Programs\"\r\n      )[0];\r\n      if (defModule) {\r\n        this.moduleCtrl.patchValue(defModule);\r\n        this.moduleCtrl.enable();\r\n      }\r\n    }\r\n\r\n    if (this.appCtrl.value && this.moduleCtrl.value) {\r\n      this.appModuleDataPresent = true;\r\n      this.searchAppModule();\r\n    } else {\r\n      this.coreService.showWarningToast(\"No Access to Loyalty Module\");\r\n    }\r\n    //\r\n\r\n    // set promocodelength to 8 and fetch promocode\r\n\r\n    if (this.mode == \"add\") {\r\n      this.promoCodeLength = 8;\r\n      this.onPromoCodeLength({\r\n        target: {\r\n          value: 8,\r\n        },\r\n      });\r\n    }\r\n\r\n    this.loyaltyService.getProgramTypeData().subscribe(\r\n      (res) => {\r\n        if (\r\n          res[\"status\"] &&\r\n          typeof res[\"status\"] == \"string\" &&\r\n          (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n        ) {\r\n          // this.coreService.removeLoadingScreen();\r\n          if (res[\"error\"]) {\r\n            this.coreService.showWarningToast(res[\"error\"]);\r\n          } else {\r\n            this.coreService.showWarningToast(\"Some error in fetching data\");\r\n          }\r\n        } else {\r\n          // this.coreService.removeLoadingScreen();\r\n          this.programTypeOptions = res[\"data\"][\"cmProgramTypeMaster\"].map(\r\n            (val) => {\r\n              return { name: val[\"codeName\"], code: val[\"codeName\"] };\r\n            }\r\n          );\r\n          console.log(\"program\", this.programTypeOptions);\r\n        }\r\n      },\r\n      (err) => {\r\n        // this.coreService.removeLoadingScreen();\r\n        console.log(\"Error in getting values\", err);\r\n        this.coreService.showWarningToast(\"Some error in fetching data\");\r\n      }\r\n    );\r\n\r\n    this.statusData = this.loyaltyService.getData();\r\n    console.log(\"status\", this.statusData);\r\n    if (this.statusData && this.statusData[\"status\"] == \"Inactive\") {\r\n      this.deactivated = true;\r\n    }\r\n  }\r\n  onPromoCodeLength(e) {\r\n    console.log(\"promocode\", e.target.value);\r\n    console.log(\"promocode\", e.value);\r\n    if (\r\n      e.target.value &&\r\n      !isNaN(e.target.value) &&\r\n      Number(e.target.value) >= 5 &&\r\n      Number(e.target.value) <= 10\r\n    ) {\r\n      this.validPromoCodeLength = true;\r\n      this.loyaltyService.getPromoCodeData(String(e.target.value)).subscribe(\r\n        (res) => {\r\n          if (\r\n            res[\"status\"] &&\r\n            typeof res[\"status\"] == \"string\" &&\r\n            (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n          ) {\r\n            this.coreService.removeLoadingScreen();\r\n            if (res[\"error\"]) {\r\n              this.coreService.showWarningToast(res[\"error\"]);\r\n            } else {\r\n              this.coreService.showWarningToast(\"Some error in fetching data\");\r\n            }\r\n          } else {\r\n            this.coreService.removeLoadingScreen();\r\n            console.log(\"promo\", res);\r\n            this.promoCode = res[\"data\"];\r\n\r\n            console.log(\"promCode\", this.promoCode);\r\n          }\r\n        },\r\n        (err) => {\r\n          this.coreService.removeLoadingScreen();\r\n          console.log(\"Error in getting values\", err);\r\n          this.coreService.showWarningToast(\"Some error in fetching data\");\r\n        }\r\n      );\r\n    } else {\r\n      this.validPromoCodeLength = false;\r\n      this.promoCode = \"\";\r\n    }\r\n    // this.promoCodeLength = \"\";\r\n  }\r\n\r\n  setSelectAppModule() {\r\n    this.selectAppModule = this.fb.group({\r\n      applications: new UntypedFormControl({ value: \"\", disabled: false }, [\r\n        Validators.required,\r\n      ]),\r\n      modules: new UntypedFormControl({ value: \"\", disabled: true }, [\r\n        Validators.required,\r\n      ]),\r\n    });\r\n  }\r\n\r\n  get appCtrl() {\r\n    return this.selectAppModule.get(\"applications\");\r\n  }\r\n  get moduleCtrl() {\r\n    return this.selectAppModule.get(\"modules\");\r\n  }\r\n\r\n  copyInputMessage(inputElement) {\r\n    console.log(inputElement.value);\r\n    // inputElement.select();\r\n    // document.execCommand(\"copy\");\r\n    // inputElement.setSelectionRange(0, 0);\r\n    let selBox = document.createElement(\"textarea\");\r\n    selBox.style.position = \"fixed\";\r\n    selBox.style.left = \"0\";\r\n    selBox.style.top = \"0\";\r\n    selBox.style.opacity = \"0\";\r\n    selBox.value = inputElement.value;\r\n    document.body.appendChild(selBox);\r\n    selBox.focus();\r\n    selBox.select();\r\n    document.execCommand(\"copy\");\r\n    document.body.removeChild(selBox);\r\n  }\r\n\r\n  showUploadedFilesModal() {\r\n    this.showFilesModal = true;\r\n    this.coreService.setHeaderStickyStyle(false);\r\n    this.coreService.setSidebarBtnFixedStyle(false);\r\n  }\r\n\r\n  fileUploadChange(e: any) {\r\n    console.log(e.target.files[0]);\r\n    if (\r\n      !(\r\n        e.target.files[0]?.type == \"image/jpeg\" ||\r\n        e.target.files[0]?.type == \"image/png\" ||\r\n        e.target.files[0]?.type == \"image/svg+xml\"\r\n      )\r\n    ) {\r\n      this.coreService.showWarningToast(\"Valid formats are JPEG, PNG, SVG.\");\r\n    } else if (e.target.files[0]?.size > 2097152) {\r\n      this.coreService.showWarningToast(\"Please upload file less than 2MB.\");\r\n    } else {\r\n      if (e.target.files[0]) {\r\n        if (this.editingFileIndex != null) {\r\n          this.uploadedfileData[this.editingFileIndex][\"imageOriginalName\"] =\r\n            e.target.files[0]?.name;\r\n          this.uploadedfileData[this.editingFileIndex][\"promoImage\"] =\r\n            e.target.files[0];\r\n          this.uploadedfileData[this.editingFileIndex][\"operation\"] = \"edit\";\r\n          this.coreService.showSuccessToast(\"Image updated.\");\r\n        } else {\r\n          if (\r\n            this.uploadedfileData.filter(\r\n              (file) => file[\"operation\"] != \"delete\"\r\n            ).length >= 5\r\n          ) {\r\n            this.coreService.showWarningToast(\r\n              \"Maximum 5 files can be uploaded.\"\r\n            );\r\n          } else {\r\n            this.uploadedfileData.push({\r\n              id: null,\r\n              imageOriginalName: e.target.files[0]?.name,\r\n              imageName: null,\r\n              promoImage: e.target.files[0],\r\n              operation: \"add\",\r\n              programCode: this.programCode,\r\n            });\r\n            this.coreService.showSuccessToast(\r\n              \"Image added, check uploaded Images\"\r\n            );\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    this.editingFileIndex = null;\r\n    console.log(this.uploadedfileData);\r\n  }\r\n\r\n  fileOperation(fileData: any, fileIndex: any, operation: any) {\r\n    console.log(fileData, fileIndex, operation);\r\n    if (operation == \"delete\") {\r\n      if (fileData?.id) {\r\n        this.uploadedfileData[fileIndex][\"operation\"] = \"delete\";\r\n      } else {\r\n        this.uploadedfileData.splice(fileIndex, 1);\r\n      }\r\n    } else if (operation == \"download\") {\r\n      if (fileData?.id) {\r\n        this.downloadDoc(fileData?.imageName);\r\n      } else {\r\n        const file = fileData?.promoImage;\r\n        file.arrayBuffer().then((arrayBuffer) => {\r\n          const blob = new Blob([new Uint8Array(arrayBuffer)], {\r\n            type: file.type,\r\n          });\r\n          const blobUrl = window.URL.createObjectURL(blob);\r\n\r\n          let a = document.createElement(\"a\");\r\n          a.download = file?.name;\r\n          a.href = blobUrl;\r\n          a.click();\r\n          window.URL.revokeObjectURL(blobUrl);\r\n        });\r\n      }\r\n    } else if (operation == \"edit\") {\r\n      this.editingFileIndex = fileIndex;\r\n      this.fileInput.nativeElement.click();\r\n    }\r\n  }\r\n\r\n  get getUploadedImgData() {\r\n    return this.uploadedfileData.filter(\r\n      (file) => file[\"operation\"] != \"delete\"\r\n    );\r\n  }\r\n\r\n  downloadDoc(dbFileName: any) {\r\n    this.coreService.displayLoadingScreen();\r\n    let services = this.http.get(\r\n      `/appControl/kycUpload/fileDownload/${dbFileName}`,\r\n      {\r\n        headers: new HttpHeaders().set(\"userId\", this.userId),\r\n        observe: \"response\",\r\n        responseType: \"blob\",\r\n      }\r\n    );\r\n\r\n    services.subscribe(\r\n      (res) => {\r\n        this.coreService.removeLoadingScreen();\r\n        let blob: Blob = res.body as Blob;\r\n        let a = document.createElement(\"a\");\r\n        a.download = res.url && res.url.split(\"/\").pop();\r\n        const blobUrl = window.URL.createObjectURL(blob);\r\n        a.href = blobUrl;\r\n        a.click();\r\n        window.URL.revokeObjectURL(blobUrl);\r\n        this.coreService.showSuccessToast(\"File downloaded successfully\");\r\n      },\r\n      (err) => {\r\n        if (err.status == 404) {\r\n          this.coreService.showWarningToast(\"File not found\");\r\n        } else {\r\n          this.coreService.showWarningToast(\r\n            \"Some error while downloading file, Try again in sometime\"\r\n          );\r\n        }\r\n        this.coreService.removeLoadingScreen();\r\n      }\r\n    );\r\n  }\r\n\r\n  onAppValueChange() {\r\n    this.showContent = false;\r\n    this.appModuleDataPresent = false;\r\n    this.moduleCtrl.reset();\r\n    this.moduleCtrl.enable();\r\n  }\r\n\r\n  searchAppModule() {\r\n    this.applyCriteriaFormattedData = [];\r\n    this.criteriaText = [];\r\n    this.criteriaCodeText = [];\r\n    this.appModuleDataPresent = true;\r\n    this.showContent = false;\r\n    this.getCriteriaMasterData();\r\n    this.getAllTemplates();\r\n    // console.log(\r\n    //   \"criteriaTransactionDateFrom\",\r\n    //   this.criteriaTransactionDateFrom\r\n    // );\r\n    // let promoCodeFrom = new Date(\r\n    //   this.criteriaTransactionDateFrom\r\n    // ).toLocaleString(\"en-GB\");\r\n    // console.log(\"promoCodeFrom\", promoCodeFrom);\r\n  }\r\n\r\n  getLoyaltyProgramForEditApi(programCode: any, operation: any) {\r\n    console.log(\"HERE\");\r\n    this.applyCriteriaFormattedData = [];\r\n    this.applyCriteriaDataTableColumns = [];\r\n\r\n    this.applyCriteriaDataTableColumns = JSON.parse(\r\n      JSON.stringify(this.columnsCopy)\r\n    );\r\n\r\n    this.loyaltyService\r\n      .getLoyaltyProgramForEdit(\r\n        programCode,\r\n        operation,\r\n        this.userId,\r\n        this.appCtrl.value.code,\r\n        this.moduleCtrl.value.code,\r\n        this.formName\r\n      )\r\n      .subscribe(\r\n        (res) => {\r\n          if (\r\n            res[\"status\"] &&\r\n            typeof res[\"status\"] == \"string\" &&\r\n            (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n          ) {\r\n            this.coreService.removeLoadingScreen();\r\n            this.showContent = false;\r\n            if (res[\"error\"]) {\r\n              this.coreService.showWarningToast(res[\"error\"]);\r\n            } else {\r\n              this.coreService.showWarningToast(\"Some error in fetching data\");\r\n            }\r\n          } else {\r\n            if (res[\"data\"]) {\r\n              this.showContent = true;\r\n\r\n              this.criteriaCodeText =\r\n                this.setCriteriaService.setCriteriaMap(res);\r\n\r\n              this.criteriaText =\r\n                this.setCriteriaService.decodeFormattedCriteria(\r\n                  this.criteriaCodeText,\r\n                  this.criteriaMasterData,\r\n                  this.fieldDisplayData\r\n                );\r\n\r\n              this.programCode = res[\"programCode\"];\r\n              if (res[\"loyaltyProgramDesc\"]) {\r\n                this.programDescription = res[\"loyaltyProgramDesc\"];\r\n              }\r\n              // if (res[\"criteriaTransactionDateFrom\"]) {\r\n              //   let formatDate =\r\n              //     res[\"criteriaTransactionDateFrom\"]\r\n              //       .split(\", \")[0]\r\n              //       .split(\"/\")\r\n              //       .reverse()\r\n              //       .join(\"-\") +\r\n              //     \"T\" +\r\n              //     res[\"criteriaTransactionDateFrom\"].split(\", \")[1];\r\n              //   this.criteriaTransactionDateFrom = new Date(formatDate);\r\n              // }\r\n              // if (res[\"criteriaTransactionDateTo\"]) {\r\n              //   let formatDate =\r\n              //     res[\"criteriaTransactionDateTo\"]\r\n              //       .split(\", \")[0]\r\n              //       .split(\"/\")\r\n              //       .reverse()\r\n              //       .join(\"-\") +\r\n              //     \"T\" +\r\n              //     res[\"criteriaTransactionDateTo\"].split(\", \")[1];\r\n              //   this.criteriaTransactionDateTo = new Date(formatDate);\r\n              // }\r\n              if (res[\"promoCode\"]) {\r\n                this.promoCode = res[\"promoCode\"];\r\n              }\r\n              if (res[\"promoCodeLength\"]) {\r\n                this.promoCodeLength = res[\"promoCodeLength\"];\r\n                if (\r\n                  Number(this.promoCodeLength) >= 5 &&\r\n                  Number(this.promoCodeLength) <= 10\r\n                ) {\r\n                  this.validPromoCodeLength = true;\r\n                } else {\r\n                  this.validPromoCodeLength = false;\r\n                }\r\n              }\r\n              if (res[\"programType\"]) {\r\n                this.programType = res[\"programType\"];\r\n              }\r\n              this.isLoyaltyProgramLinked = !res[\"criteriaUpdate\"];\r\n              this.appliedCriteriaCriteriaMap = res[\"criteriaMap\"];\r\n\r\n              this.loyaltyTypeOption = res[\"loyaltyTypeOption\"].map(\r\n                (option) => {\r\n                  return { code: option.code, codeName: option.codeName };\r\n                }\r\n              );\r\n              this.rewardsAsOption = res[\"rewardsAsOption\"].map((option) => {\r\n                return { code: option.code, codeName: option.codeName };\r\n              });\r\n\r\n              this.discountAsOption = res[\"discountAsOption\"].map((option) => {\r\n                return { code: option.code, codeName: option.codeName };\r\n              });\r\n\r\n              this.uploadedfileData = [];\r\n              if (\r\n                res[\"customerLoyaltyPromoImagesDto\"] &&\r\n                res[\"customerLoyaltyPromoImagesDto\"].length\r\n              ) {\r\n                res[\"customerLoyaltyPromoImagesDto\"].forEach((imgData) => {\r\n                  let imgUploadedData = {};\r\n                  imgUploadedData[\"id\"] = imgData[\"id\"];\r\n                  imgUploadedData[\"imageOriginalName\"] =\r\n                    imgData[\"imageOriginalName\"];\r\n                  imgUploadedData[\"imageName\"] = imgData[\"imageName\"];\r\n                  imgUploadedData[\"promoImage\"] = \"\";\r\n                  imgUploadedData[\"operation\"] = imgData[\"operation\"];\r\n                  imgUploadedData[\"programCode\"] = imgData[\"programCode\"];\r\n                  this.uploadedfileData.push(imgUploadedData);\r\n                });\r\n              }\r\n\r\n              let amtSlabPresent = false;\r\n              let dateSlabPresent = false;\r\n\r\n              if (res[\"criteriaMap\"].indexOf(\"from:\") >= 0) {\r\n                amtSlabPresent = true;\r\n              }\r\n\r\n              if (res[\"criteriaMap\"].indexOf(\"trnStartDate=\") >= 0) {\r\n                dateSlabPresent = true;\r\n              }\r\n\r\n              if (amtSlabPresent && dateSlabPresent) {\r\n                this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n                  field: \"dateFrom\",\r\n                  header: \"Date From\",\r\n                  fieldType: \"text\",\r\n                });\r\n                this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n                  field: \"dateTo\",\r\n                  header: \"Date To\",\r\n                  fieldType: \"text\",\r\n                });\r\n                this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n                  field: \"lcyAmountFrom\",\r\n                  header: \"Amount From\",\r\n                  fieldType: \"text\",\r\n                });\r\n                this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n                  field: \"lcyAmountTo\",\r\n                  header: \"Amount To\",\r\n                  fieldType: \"text\",\r\n                });\r\n\r\n                this.applyCriteriaFormattedData = [];\r\n              } else {\r\n                if (amtSlabPresent) {\r\n                  this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n                    field: \"lcyAmountFrom\",\r\n                    header: \"Amount From\",\r\n                    fieldType: \"text\",\r\n                  });\r\n                  this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n                    field: \"lcyAmountTo\",\r\n                    header: \"Amount To\",\r\n                    fieldType: \"text\",\r\n                  });\r\n                  this.applyCriteriaFormattedData = [];\r\n                } else if (dateSlabPresent) {\r\n                  this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n                    field: \"dateFrom\",\r\n                    header: \"Date From\",\r\n                    fieldType: \"text\",\r\n                  });\r\n                  this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n                    field: \"dateTo\",\r\n                    header: \"Date To\",\r\n                    fieldType: \"text\",\r\n                  });\r\n                  this.applyCriteriaFormattedData = [];\r\n                } else if (!amtSlabPresent && !dateSlabPresent) {\r\n                  this.applyCriteriaFormattedData = [];\r\n                }\r\n              }\r\n              this.applyCriteriaFormattedData = res[\"data\"];\r\n              this.applyCriteriaFormattedData.forEach((data) => {\r\n                let mapSplit = data[\"criteriaMapSplit\"];\r\n\r\n                let criteriaMapFirstSplit = null;\r\n                let criteriaMapSecSplit = null;\r\n                let criteriaMapThirdSplit = null;\r\n\r\n                if (mapSplit && mapSplit.includes(\"&&&&\")) {\r\n                  if (mapSplit.split(\"&&&&\").length == 3) {\r\n                    criteriaMapFirstSplit = mapSplit.split(\"&&&&\")[0];\r\n                    criteriaMapSecSplit = mapSplit.split(\"&&&&\")[1];\r\n                    criteriaMapThirdSplit = mapSplit.split(\"&&&&\")[2];\r\n\r\n                    if (criteriaMapSecSplit.includes(\"from:\")) {\r\n                      data[\"lcyAmountFrom\"] = criteriaMapSecSplit\r\n                        .split(\"::\")[0]\r\n                        .split(\":\")[1];\r\n                      data[\"lcyAmountTo\"] = criteriaMapSecSplit\r\n                        .split(\"::\")[1]\r\n                        .split(\":\")[1];\r\n                    }\r\n\r\n                    if (criteriaMapThirdSplit.includes(\"trnStartDate=\")) {\r\n                      data[\"dateFrom\"] = criteriaMapThirdSplit\r\n                        .split(\"::\")[0]\r\n                        .split(\"=\")[1];\r\n                      data[\"dateTo\"] = criteriaMapThirdSplit\r\n                        .split(\"::\")[1]\r\n                        .split(\"=\")[1];\r\n                    }\r\n                  } else if (mapSplit.split(\"&&&&\").length == 2) {\r\n                    criteriaMapFirstSplit = mapSplit.split(\"&&&&\")[0];\r\n                    criteriaMapSecSplit = mapSplit.split(\"&&&&\")[1];\r\n\r\n                    if (criteriaMapSecSplit.includes(\"from:\")) {\r\n                      data[\"lcyAmountFrom\"] = criteriaMapSecSplit\r\n                        .split(\"::\")[0]\r\n                        .split(\":\")[1];\r\n                      data[\"lcyAmountTo\"] = criteriaMapSecSplit\r\n                        .split(\"::\")[1]\r\n                        .split(\":\")[1];\r\n                    } else if (criteriaMapSecSplit.includes(\"trnStartDate=\")) {\r\n                      data[\"dateFrom\"] = criteriaMapSecSplit\r\n                        .split(\"::\")[0]\r\n                        .split(\"=\")[1];\r\n                      data[\"dateTo\"] = criteriaMapSecSplit\r\n                        .split(\"::\")[1]\r\n                        .split(\"=\")[1];\r\n                    }\r\n                  }\r\n                } else {\r\n                }\r\n              });\r\n\r\n              // %LCYPARTTTTTTT\r\n              // if (res[\"criteriaMap\"].indexOf(\"&&&&\") >= 0) {\r\n              //   this.isLcyFieldPresent = true;\r\n              // }\r\n\r\n              // if (!this.isLcyFieldPresent) {\r\n              //   this.applyCriteriaFormattedData = res[\"data\"];\r\n              // } else {\r\n              //   if (res[\"criteriaMap\"].indexOf(\"LCY Amount\") >= 0) {\r\n              //     this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n              //       field: \"lcyAmount\",\r\n              //       header: \"LCY Amount\",\r\n              //       fieldType: \"text\",\r\n              //     });\r\n              //     this.applyCriteriaFormattedData = res[\"data\"];\r\n\r\n              //     this.applyCriteriaFormattedData.forEach((data) => {\r\n              //       let split = data[\"criteriaMapSplit\"];\r\n              //       if (split) {\r\n              //         data[\"lcyAmount\"] = split.includes(\"&&&&\")\r\n              //           ? split.split(\"&&&&\").pop()\r\n              //           : split;\r\n              //         data[\"criteriaMapSplit\"] = split.includes(\"&&&&\")\r\n              //           ? split.split(\"&&&&\").pop()\r\n              //           : split;\r\n              //       }\r\n              //     });\r\n              //   } else if (res[\"criteriaMap\"].indexOf(\"from\") >= 0) {\r\n              //     this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n              //       field: \"lcyAmountFrom\",\r\n              //       header: \"Amount From\",\r\n              //       fieldType: \"text\",\r\n              //     });\r\n              //     this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n              //       field: \"lcyAmountTo\",\r\n              //       header: \"Amount To\",\r\n              //       fieldType: \"text\",\r\n              //     });\r\n              //     this.applyCriteriaFormattedData = res[\"data\"];\r\n              //     console.log(\"::\", this.applyCriteriaFormattedData);\r\n              //     this.applyCriteriaFormattedData.forEach((data) => {\r\n              //       let split = data[\"criteriaMapSplit\"];\r\n              //       if (split) {\r\n              //         data[\"lcyAmountFrom\"] = split?.includes(\"&&&&\")\r\n              //           ? split.split(\"&&&&\").pop().split(\"::\")[0].split(\":\")[1]\r\n              //           : split?.split(\"::\")[0]?.split(\":\")[1];\r\n              //         data[\"lcyAmountTo\"] = split?.includes(\"&&&&\")\r\n              //           ? split.split(\"&&&&\").pop().split(\"::\")[1].split(\":\")[1]\r\n              //           : split?.split(\"::\")[1]?.split(\":\")[1];\r\n              //         data[\"criteriaMapSplit\"] = split?.includes(\"&&&&\")\r\n              //           ? split.split(\"&&&&\").pop()\r\n              //           : split;\r\n              //       }\r\n              //     });\r\n              //   }\r\n              // }\r\n              // %LCYPARTTTTTTT ENDS\r\n\r\n              this.applyCriteriaFormattedData.forEach((data) => {\r\n                delete data.id;\r\n                // data[\"criteriaTransactionDateFrom\"] =\r\n                //   res[\"criteriaTransactionDateFrom\"];\r\n                // data[\"criteriaTransactionDateTo\"] =\r\n                //   res[\"criteriaTransactionDateTo\"];\r\n                data[\"programType\"] = res[\"programType\"];\r\n                data[\"loyaltyTypeOption\"] = this.loyaltyTypeOption;\r\n                data[\"rewardsAsOption\"] = this.rewardsAsOption;\r\n                data[\"discountAsOption\"] = this.discountAsOption;\r\n                data[\"invalidLoyaltyValue\"] = false;\r\n                data[\"status\"] = \"Active\";\r\n              });\r\n              // this.setSelectedOptions();\r\n\r\n              console.log(\"::\", this.applyCriteriaFormattedData);\r\n              // console.log(\"::\", this.applyCriteriaDataTableColumns);\r\n\r\n              this.coreService.showSuccessToast(\r\n                `Loyalty program data fetched Successfully`\r\n              );\r\n              this.coreService.removeLoadingScreen();\r\n            } else {\r\n              this.applyCriteriaFormattedData = [];\r\n              this.appliedCriteriaCriteriaMap = null;\r\n              this.appliedCriteriaIsDuplicate = null;\r\n              this.applyCriteriaDataTableColumns = [];\r\n              if (res && res[\"msg\"]) {\r\n                this.coreService.showWarningToast(res[\"msg\"]);\r\n              } else {\r\n                this.coreService.showWarningToast(\r\n                  \"No active data found for this Loyalty Program.\"\r\n                );\r\n              }\r\n              this.coreService.removeLoadingScreen();\r\n            }\r\n          }\r\n        },\r\n        (err) => {\r\n          this.showContent = false;\r\n          this.coreService.removeLoadingScreen();\r\n          console.log(\"Error in getLoyaltyForEditApi\", err);\r\n          this.coreService.showWarningToast(\r\n            \"Something went wrong, Please try again later\"\r\n          );\r\n        }\r\n      );\r\n  }\r\n\r\n  onActive(data: any) {\r\n    this.confirmLoyaltyEditStatus();\r\n  }\r\n  confirmLoyaltyEditStatus() {\r\n    let type = \"\";\r\n    let reqStatus = \"\";\r\n    if (this.deactivated == true) {\r\n      reqStatus = \"Active\";\r\n      type = \"activate\";\r\n    } else {\r\n      reqStatus = \"Inactive\";\r\n      type = \"deactivate\";\r\n    }\r\n    this.coreService.setSidebarBtnFixedStyle(false);\r\n    this.coreService.setHeaderStickyStyle(false);\r\n    let completeMsg = \"\";\r\n    completeMsg =\r\n      `<img src=\"../../../assets/warning.svg\"><br/><br/>` +\r\n      `Do you wish to ` +\r\n      type +\r\n      ` the Loyalty Record: ${this.programCode}?`;\r\n\r\n    this.confirmationService.confirm({\r\n      message: completeMsg,\r\n      key: \"activeDeactiveStatusLoyalty\",\r\n      accept: () => {\r\n        this.updateStatus(reqStatus);\r\n        this.setHeaderSidebarBtn();\r\n      },\r\n      reject: () => {\r\n        this.confirmationService.close;\r\n        this.setHeaderSidebarBtn();\r\n      },\r\n    });\r\n  }\r\n  updateStatus(reqStatus: any) {\r\n    this.coreService.displayLoadingScreen();\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"userId\", this.userId);\r\n    formData.append(\"programCode\", this.programCode);\r\n    formData.append(\"status\", reqStatus);\r\n    formData.append(\"applications\", this.appCtrl.value.code);\r\n    formData.append(\"moduleName\", this.moduleCtrl.value.code);\r\n    formData.append(\"form\", this.formName);\r\n    this.updateLoyaltyStatus(formData);\r\n  }\r\n\r\n  updateLoyaltyStatus(formData: any) {\r\n    this.loyaltyService.updateLoyaltyStatus(formData).subscribe(\r\n      (res) => {\r\n        if (\r\n          res[\"status\"] &&\r\n          typeof res[\"status\"] == \"string\" &&\r\n          (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n        ) {\r\n          if (res[\"error\"]) {\r\n            this.coreService.showWarningToast(res[\"error\"]);\r\n          } else {\r\n            this.coreService.showWarningToast(\"Some error in fetching data\");\r\n          }\r\n        } else {\r\n          let message = \"\";\r\n          if (res[\"error\"] == \"true\") {\r\n            this.coreService.removeLoadingScreen();\r\n            this.coreService.showWarningToast(message);\r\n          } else {\r\n            if (res[\"msg\"]) {\r\n              message = res[\"msg\"];\r\n              this.deactivated = !this.deactivated;\r\n              this.coreService.showSuccessToast(message);\r\n            } else {\r\n              this.coreService.removeLoadingScreen();\r\n              message = \"Error in fetching data, Please try again later\";\r\n              this.coreService.showWarningToast(message);\r\n            }\r\n          }\r\n        }\r\n      },\r\n      (err) => {\r\n        console.log(\"Error in updateBankRouteStatus\", err);\r\n        this.coreService.removeLoadingScreen();\r\n      }\r\n    );\r\n  }\r\n\r\n  getCriteriaMasterData() {\r\n    if (this.mode == \"add\") {\r\n      this.coreService.displayLoadingScreen();\r\n    }\r\n    forkJoin({\r\n      criteriaMasterData: this.loyaltyService.getCriteriaMasterData(\r\n        this.userId,\r\n        this.formName,\r\n        this.appCtrl.value.code,\r\n        this.moduleCtrl.value.code\r\n      ),\r\n      addBankRouteCriteriaData:\r\n        this.loyaltyService.getAddLoyaltyProgramCriteriaData(\r\n          this.userId,\r\n          this.appCtrl.value.code,\r\n          this.moduleCtrl.value.code,\r\n          this.formName\r\n        ),\r\n    })\r\n      .pipe(\r\n        take(1),\r\n        map((response) => {\r\n          this.formatMasterData(response.criteriaMasterData);\r\n          let criteriaMasterJson = _lodashClone(response.criteriaMasterData);\r\n          delete criteriaMasterJson[\"fieldDisplay\"];\r\n          this.fieldDisplayData = response.criteriaMasterData[\"fieldDisplay\"];\r\n          const criteriaMasterData = criteriaMasterJson;\r\n          this.criteriaDataDetailsJson = response.addBankRouteCriteriaData;\r\n          if (this.criteriaDataDetailsJson.data.listCriteria) {\r\n            this.criteriaDataDetailsJson.data.listCriteria.cmCriteriaDataDetails.forEach(\r\n              (data) => {\r\n                if (data[\"criteriaType\"] == \"Slab\") {\r\n                  this.cmCriteriaSlabType[\"Slab\"] = data[\"fieldName\"];\r\n                }\r\n                if (data[\"criteriaType\"] == \"date\") {\r\n                  this.cmCriteriaSlabType[\"date\"] = data[\"fieldName\"];\r\n                }\r\n              }\r\n            );\r\n\r\n            if (this.mode == \"add\") {\r\n              this.programCode = this.criteriaDataDetailsJson.data.programCode;\r\n              this.loyaltyID = this.programCode;\r\n              this.programDescription =\r\n                this.criteriaDataDetailsJson.data.programDescription;\r\n            }\r\n\r\n            this.cmCriteriaDataDetails = [\r\n              ...this.criteriaDataDetailsJson.data.listCriteria\r\n                .cmCriteriaDataDetails,\r\n            ];\r\n\r\n            this.cmCriteriaMandatory =\r\n              this.criteriaDataDetailsJson.data.mandatory\r\n                .replace(/[\"|\\[|\\]]/g, \"\")\r\n                .split(\", \");\r\n\r\n            this.cmCriteriaDependency =\r\n              this.criteriaDataDetailsJson.data.dependance;\r\n\r\n            let criteriaDependencyTreeData =\r\n              this.criteriaDataService.setDependencyTree(\r\n                this.criteriaDataDetailsJson,\r\n                this.cmCriteriaDataDetails,\r\n                criteriaMasterData,\r\n                this.cmCriteriaMandatory,\r\n                this.cmCriteriaDependency,\r\n                this.cmCriteriaSlabType\r\n              );\r\n\r\n            this.criteriaMapDdlOptions =\r\n              criteriaDependencyTreeData[\"criteriaMapDdlOptions\"];\r\n            this.independantCriteriaArr =\r\n              criteriaDependencyTreeData[\"independantCriteriaArr\"];\r\n            return criteriaMasterData;\r\n          } else {\r\n            throw new Error(\"No data found\");\r\n          }\r\n        })\r\n      )\r\n      .subscribe(\r\n        (res) => {\r\n          console.log(res);\r\n          if (\r\n            res[\"status\"] &&\r\n            typeof res[\"status\"] == \"string\" &&\r\n            (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n          ) {\r\n            this.coreService.removeLoadingScreen();\r\n            this.showContent = false;\r\n            if (res[\"error\"]) {\r\n              this.coreService.showWarningToast(res[\"error\"]);\r\n            } else {\r\n              this.coreService.showWarningToast(\"Some error in fetching data\");\r\n            }\r\n          } else {\r\n            this.criteriaMasterData = res;\r\n            if (this.mode == \"edit\") {\r\n              if (!(this.appCtrl.value.code || this.moduleCtrl.value.code)) {\r\n                this.appModuleDataPresent = false;\r\n                this.showContent = false;\r\n                this.router.navigate([`navbar/loyalty-programs`]);\r\n              } else {\r\n                this.getLoyaltyProgramForEditApi(this.loyaltyID, \"edit\");\r\n              }\r\n            } else if (this.mode == \"clone\") {\r\n              if (!(this.appCtrl.value.code || this.moduleCtrl.value.code)) {\r\n                this.appModuleDataPresent = false;\r\n                this.showContent = false;\r\n                this.router.navigate([`navbar/loyalty-programs`]);\r\n              } else {\r\n                this.getLoyaltyProgramForEditApi(this.loyaltyID, \"clone\");\r\n              }\r\n            } else {\r\n              this.showContent = true;\r\n              this.coreService.removeLoadingScreen();\r\n            }\r\n          }\r\n        },\r\n        (err) => {\r\n          this.showContent = false;\r\n          this.coreService.removeLoadingScreen();\r\n          console.log(\"Error in Initiating dropdown values\", err);\r\n          this.coreService.showWarningToast(\"Some error in fetching data\");\r\n        }\r\n      );\r\n  }\r\n  formatMasterData(masterData: any) {\r\n    const formattedMasterData = [].concat.apply([], Object.values(masterData));\r\n    this.formattedMasterData = formattedMasterData;\r\n  }\r\n  getCorrespondentValues(\r\n    fieldName: any,\r\n    displayName: any,\r\n    criteriaCodeText: any\r\n  ) {\r\n    let criteriaMapValue = criteriaCodeText.join(\";\");\r\n\r\n    this.coreService.displayLoadingScreen();\r\n    this.loyaltyService\r\n      .getCorrespondentValuesData(\r\n        this.formName,\r\n        this.appCtrl.value.code,\r\n        criteriaMapValue,\r\n        fieldName,\r\n        displayName,\r\n        this.moduleCtrl.value.code\r\n      )\r\n      .subscribe(\r\n        (res) => {\r\n          if (\r\n            res[\"status\"] &&\r\n            typeof res[\"status\"] == \"string\" &&\r\n            (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n          ) {\r\n            this.coreService.removeLoadingScreen();\r\n            if (res[\"error\"]) {\r\n              this.coreService.showWarningToast(res[\"error\"]);\r\n            } else {\r\n              this.coreService.showWarningToast(\"Some error in fetching data\");\r\n            }\r\n          } else {\r\n            this.coreService.removeLoadingScreen();\r\n            if (res[fieldName]) {\r\n              this.setCriteriaSharedComponent.valueCtrl.enable();\r\n              this.setCriteriaSharedComponent.hideValuesDropdown = false;\r\n              this.setCriteriaSharedComponent.showValueInput = false;\r\n\r\n              this.correspondentDdlOptions = res[fieldName].map((val) => {\r\n                return { name: val[\"codeName\"], code: val[\"code\"] };\r\n              });\r\n            } else {\r\n              if (res[\"message\"]) {\r\n                this.coreService.showWarningToast(res[\"message\"]);\r\n                this.resetCriteriaDropdowns();\r\n              } else {\r\n                this.coreService.showWarningToast(\"Criteria Map is not proper\");\r\n                this.resetCriteriaDropdowns();\r\n              }\r\n            }\r\n          }\r\n        },\r\n        (err) => {\r\n          this.coreService.removeLoadingScreen();\r\n          console.log(\"Error in getting values\", err);\r\n          this.coreService.showWarningToast(\"Some error in fetching data\");\r\n          this.resetCriteriaDropdowns();\r\n        }\r\n      );\r\n  }\r\n\r\n  resetCriteriaDropdowns() {\r\n    this.setCriteriaSharedComponent.resetCriteriaDropdowns();\r\n  }\r\n\r\n  applyCriteria(postDataCriteria: FormData) {\r\n    postDataCriteria.append(\"programCode\", this.loyaltyID);\r\n    postDataCriteria.append(\"operation\", this.mode);\r\n    postDataCriteria.append(\"applications\", this.appCtrl.value.code);\r\n    postDataCriteria.append(\"form\", this.formName);\r\n    postDataCriteria.append(\"moduleName\", this.moduleCtrl.value.code);\r\n    this.isApplyCriteriaClicked = true;\r\n    if (this.isLoyaltyProgramLinked && this.mode != \"clone\") {\r\n      this.coreService.setSidebarBtnFixedStyle(false);\r\n      this.coreService.setHeaderStickyStyle(false);\r\n      this.confirmationService.confirm({\r\n        message: `You can not edit the current criteria, as it is already used in transaction.<br/> Kindly disable the current record and add new.`,\r\n        key: \"linkedWarning\",\r\n        accept: () => {\r\n          this.coreService.displayLoadingScreen();\r\n          setTimeout(() => {\r\n            this.coreService.setHeaderStickyStyle(true);\r\n            this.coreService.setSidebarBtnFixedStyle(true);\r\n          }, 500);\r\n          setTimeout(() => {\r\n            this.coreService.removeLoadingScreen();\r\n          }, 1000);\r\n        },\r\n      });\r\n    } else {\r\n      // if (\r\n      //   this.criteriaTransactionDateFrom &&\r\n      //   this.criteriaTransactionAmountTo\r\n      // ) {\r\n      this.LoyaltyProgramSearchApi(postDataCriteria);\r\n      // } else {\r\n      //   this.coreService.showWarningToast(\r\n      //     \"Please select transaction date range.\"\r\n      //   );\r\n      // }\r\n    }\r\n  }\r\n\r\n  LoyaltyProgramSearchApi(loyaltyFormdata: any) {\r\n    this.applyCriteriaFormattedData = [];\r\n    this.applyCriteriaDataTableColumns = [];\r\n    this.coreService.displayLoadingScreen();\r\n    // let promoCodeFrom = new Date(\r\n    //   this.criteriaTransactionDateFrom\r\n    // ).toLocaleString(\"en-GB\");\r\n    // let promoCodeTo = new Date(this.criteriaTransactionDateTo).toLocaleString(\r\n    //   \"en-GB\"\r\n    // );\r\n\r\n    this.applyCriteriaDataTableColumns = JSON.parse(\r\n      JSON.stringify(this.columnsCopy)\r\n    );\r\n\r\n    this.loyaltyService\r\n      .postLoyaltyProgramCriteriaSearch(loyaltyFormdata)\r\n      .subscribe(\r\n        (res) => {\r\n          if (\r\n            res[\"status\"] &&\r\n            typeof res[\"status\"] == \"string\" &&\r\n            (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n          ) {\r\n            this.coreService.removeLoadingScreen();\r\n            if (res[\"error\"]) {\r\n              this.coreService.showWarningToast(res[\"error\"]);\r\n            } else {\r\n              this.coreService.showWarningToast(\"Some error in fetching data\");\r\n            }\r\n          } else {\r\n            this.coreService.removeLoadingScreen();\r\n            if (!res[\"duplicate\"]) {\r\n              this.applyCriteriaResponse = JSON.parse(JSON.stringify(res));\r\n              this.appliedCriteriaCriteriaMap = res[\"criteriaMap\"];\r\n              this.appliedCriteriaIsDuplicate = res[\"duplicate\"];\r\n              let reqData =\r\n                this.criteriaDataService.decodeCriteriaMapIntoTableFields(res);\r\n\r\n              let crtfields = this.setCriteriaService.decodeFormattedCriteria(\r\n                reqData.critMap,\r\n                this.criteriaMasterData,\r\n                this.fieldDisplayData\r\n              );\r\n              this.loyaltyTypeOption = res[\"data\"].loyaltyTypeOption?.map(\r\n                (option) => {\r\n                  return { code: option.code, codeName: option.codeName };\r\n                }\r\n              );\r\n              this.rewardsAsOption = res[\"data\"].rewardsAsOption.map(\r\n                (option) => {\r\n                  return { code: option.code, codeName: option.codeName };\r\n                }\r\n              );\r\n              this.discountAsOption = res[\"data\"].discountAsOption.map(\r\n                (option) => {\r\n                  return { code: option.code, codeName: option.codeName };\r\n                }\r\n              );\r\n\r\n              let amtSlabPresent = false;\r\n              let dateSlabPresent = false;\r\n\r\n              let baseCriteriaMap = res[\"criteriaMap\"].split(\"&&&&\")[0];\r\n\r\n              if (res[\"criteriaMap\"].indexOf(\"from:\") >= 0) {\r\n                amtSlabPresent = true;\r\n              }\r\n\r\n              if (res[\"criteriaMap\"].indexOf(\"trnStartDate=\") >= 0) {\r\n                dateSlabPresent = true;\r\n              }\r\n\r\n              if (amtSlabPresent && dateSlabPresent) {\r\n                this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n                  field: \"dateFrom\",\r\n                  header: \"Date From\",\r\n                  fieldType: \"text\",\r\n                });\r\n                this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n                  field: \"dateTo\",\r\n                  header: \"Date To\",\r\n                  fieldType: \"text\",\r\n                });\r\n                this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n                  field: \"lcyAmountFrom\",\r\n                  header: \"Amount From\",\r\n                  fieldType: \"text\",\r\n                });\r\n                this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n                  field: \"lcyAmountTo\",\r\n                  header: \"Amount To\",\r\n                  fieldType: \"text\",\r\n                });\r\n\r\n                this.applyCriteriaFormattedData = [];\r\n\r\n                let dateSlabFields = reqData.dateSlabArr;\r\n                let lcySlabFields = reqData.lcySlabArr;\r\n\r\n                dateSlabFields.forEach((fieldDate) => {\r\n                  console.log(lcySlabFields);\r\n                  lcySlabFields.forEach((fieldAmt) => {\r\n                    let apiData = JSON.parse(\r\n                      JSON.stringify(res[\"data\"][\"Loyalty Program\"])\r\n                    );\r\n                    console.log(fieldAmt);\r\n                    apiData[\"dateFrom\"] = fieldDate.trnStartDate;\r\n                    apiData[\"dateTo\"] = fieldDate.trnEndDate;\r\n                    apiData[\"lcyAmountFrom\"] = fieldAmt.from;\r\n                    apiData[\"lcyAmountTo\"] = fieldAmt.to;\r\n\r\n                    apiData[\r\n                      \"criteriaMapSplit\"\r\n                    ] = `${baseCriteriaMap}&&&&from:${fieldAmt[\"from\"]}::to:${fieldAmt[\"to\"]}&&&&trnStartDate=${fieldDate[\"trnStartDate\"]}::trnEndDate=${fieldDate[\"trnEndDate\"]}`;\r\n                    this.applyCriteriaFormattedData.push(apiData);\r\n                  });\r\n                });\r\n              } else {\r\n                if (amtSlabPresent) {\r\n                  let lcySlabFields = reqData.lcySlabArr;\r\n                  this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n                    field: \"lcyAmountFrom\",\r\n                    header: \"Amount From\",\r\n                    fieldType: \"text\",\r\n                  });\r\n                  this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n                    field: \"lcyAmountTo\",\r\n                    header: \"Amount To\",\r\n                    fieldType: \"text\",\r\n                  });\r\n                  this.applyCriteriaFormattedData = [];\r\n                  lcySlabFields.forEach((field) => {\r\n                    let apiData = JSON.parse(\r\n                      JSON.stringify(res[\"data\"][\"Loyalty Program\"])\r\n                    );\r\n                    apiData[\"lcyAmountFrom\"] = field.from;\r\n                    apiData[\"lcyAmountTo\"] = field.to;\r\n                    apiData[\r\n                      \"criteriaMapSplit\"\r\n                    ] = `${baseCriteriaMap}&&&&from:${field[\"from\"]}::to:${field[\"to\"]}`;\r\n                    this.applyCriteriaFormattedData.push(apiData);\r\n                  });\r\n                } else if (dateSlabPresent) {\r\n                  let dateSlabFields = reqData.dateSlabArr;\r\n                  this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n                    field: \"dateFrom\",\r\n                    header: \"Date From\",\r\n                    fieldType: \"text\",\r\n                  });\r\n                  this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n                    field: \"dateTo\",\r\n                    header: \"Date To\",\r\n                    fieldType: \"text\",\r\n                  });\r\n                  this.applyCriteriaFormattedData = [];\r\n                  dateSlabFields.forEach((field) => {\r\n                    let apiData = JSON.parse(\r\n                      JSON.stringify(res[\"data\"][\"Loyalty Program\"])\r\n                    );\r\n                    apiData[\"dateFrom\"] = field.trnStartDate;\r\n                    apiData[\"dateTo\"] = field.trnEndDate;\r\n                    apiData[\r\n                      \"criteriaMapSplit\"\r\n                    ] = `${baseCriteriaMap}&&&&trnStartDate=${field[\"trnStartDate\"]}::trnEndDate=${field[\"trnEndDate\"]}`;\r\n                    this.applyCriteriaFormattedData.push(apiData);\r\n                  });\r\n                } else if (!amtSlabPresent && !dateSlabPresent) {\r\n                  this.applyCriteriaFormattedData = [\r\n                    res[\"data\"][\"Loyalty Program\"],\r\n                  ];\r\n                  this.applyCriteriaFormattedData.forEach((data) => {\r\n                    data[\"criteriaMapSplit\"] = baseCriteriaMap;\r\n                  });\r\n                }\r\n              }\r\n\r\n              // % LCYTYOPEE\r\n\r\n              // if (res[\"criteriaMap\"].indexOf(\"&&&&\") >= 0) {\r\n              //   this.isLcyFieldPresent = true;\r\n              // } else {\r\n              //   this.isLcyFieldPresent = false;\r\n              // }\r\n\r\n              // if (!this.isLcyFieldPresent) {\r\n              //   this.applyCriteriaFormattedData = [\r\n              //     res[\"data\"][\"Loyalty Program\"],\r\n              //   ];\r\n              //   this.applyCriteriaFormattedData.forEach((data) => {\r\n              //     data[\"criteriaMapSplit\"] = null;\r\n              //   });\r\n              //   console.log(this.applyCriteriaFormattedData);\r\n              // } else {\r\n              //   if (res[\"criteriaMap\"].indexOf(\"LCY Amount\") >= 0) {\r\n              //     let lcyOprFields = crtfields.filter((crt) => {\r\n              //       return crt.includes(\"LCY Amount\");\r\n              //     });\r\n              //     this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n              //       field: \"lcyAmount\",\r\n              //       header: \"LCY Amount\",\r\n              //       fieldType: \"text\",\r\n              //     });\r\n              //     this.applyCriteriaFormattedData = [];\r\n              //     lcyOprFields.forEach((field) => {\r\n              //       let apiData = JSON.parse(\r\n              //         JSON.stringify(res[\"data\"][\"Loyalty Program\"])\r\n              //       );\r\n              //       apiData[\"lcyAmount\"] = field;\r\n              //       apiData[\"criteriaMapSplit\"] = field;\r\n              //       this.applyCriteriaFormattedData.push(apiData);\r\n              //     });\r\n              //   } else if (res[\"criteriaMap\"].indexOf(\"from\") >= 0) {\r\n              //     let lcySlabFields = reqData.lcySlabArr;\r\n              //     this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n              //       field: \"lcyAmountFrom\",\r\n              //       header: \"Amount From\",\r\n              //       fieldType: \"text\",\r\n              //     });\r\n              //     this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n              //       field: \"lcyAmountTo\",\r\n              //       header: \"Amount To\",\r\n              //       fieldType: \"text\",\r\n              //     });\r\n              //     this.applyCriteriaFormattedData = [];\r\n              //     lcySlabFields.forEach((field) => {\r\n              //       let apiData = JSON.parse(\r\n              //         JSON.stringify(res[\"data\"][\"Loyalty Program\"])\r\n              //       );\r\n              //       apiData[\"lcyAmountFrom\"] = field.from;\r\n              //       apiData[\"lcyAmountTo\"] = field.to;\r\n              //       apiData[\r\n              //         \"criteriaMapSplit\"\r\n              //       ] = `from:${field[\"from\"]}::to:${field[\"to\"]}`;\r\n              //       this.applyCriteriaFormattedData.push(apiData);\r\n              //     });\r\n              //   }\r\n              // }\r\n\r\n              // % LCYTYOPEE end\r\n\r\n              this.applyCriteriaFormattedData.forEach((data) => {\r\n                delete data.id;\r\n                data[\"loyaltyTypeOption\"] = this.loyaltyTypeOption;\r\n                data[\"rewardsAsOption\"] = this.rewardsAsOption;\r\n                data[\"discountAsOption\"] = this.discountAsOption;\r\n                data[\"criteriaMap\"] = this.appliedCriteriaCriteriaMap;\r\n                data[\"invalidLoyaltyValue\"] = false;\r\n                data[\"status\"] = \"Active\";\r\n                data[\"userID\"] = this.userId;\r\n                data[\"programCode\"] = this.programCode;\r\n                data[\"programDescription\"] = this.programDescription;\r\n                data[\"programType\"] = this.programType;\r\n                data[\"promoCode\"] = this.promoCode;\r\n                data[\"promoCodeLength\"] = this.promoCodeLength;\r\n                // data[\"criteriaTransactionDateFrom\"] = promoCodeFrom;\r\n                // data[\"criteriaTransactionDateTo\"] = promoCodeTo;\r\n              });\r\n              // this.setSelectedOptions();\r\n              console.log(\"::\", this.applyCriteriaFormattedData);\r\n\r\n              this.coreService.showSuccessToast(\r\n                `Criteria Applied Successfully`\r\n              );\r\n              this.coreService.removeLoadingScreen();\r\n            } else {\r\n              this.applyCriteriaFormattedData = [];\r\n              this.appliedCriteriaCriteriaMap = null;\r\n              this.appliedCriteriaIsDuplicate = null;\r\n              this.applyCriteriaDataTableColumns = [];\r\n              this.coreService.showWarningToast(\r\n                \"Applied criteria already exists.\"\r\n              );\r\n            }\r\n          }\r\n        },\r\n        (err) => {\r\n          this.coreService.removeLoadingScreen();\r\n          console.log(\"error in Loyalty Program Apply API\", err);\r\n          this.coreService.showWarningToast(\"Some error in fetching data\");\r\n        }\r\n      );\r\n  }\r\n\r\n  saveCriteriaAsTemplate(templateFormData: any) {\r\n    templateFormData.append(\"applications\", this.appCtrl.value.code);\r\n    templateFormData.append(\"form\", this.formName);\r\n    templateFormData.append(\"moduleName\", this.moduleCtrl.value.code);\r\n    this.coreService.displayLoadingScreen();\r\n    this.loyaltyService\r\n      .currentCriteriaSaveAsTemplate(templateFormData)\r\n      .subscribe(\r\n        (res) => {\r\n          if (\r\n            res[\"status\"] &&\r\n            typeof res[\"status\"] == \"string\" &&\r\n            (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n          ) {\r\n            this.coreService.removeLoadingScreen();\r\n            if (res[\"error\"]) {\r\n              this.coreService.showWarningToast(res[\"error\"]);\r\n            } else {\r\n              this.coreService.showWarningToast(\r\n                \"Some error in saving template\"\r\n              );\r\n            }\r\n          } else {\r\n            this.coreService.removeLoadingScreen();\r\n            if (res.msg == \"Criteria Template already exists.\") {\r\n              // this.savingCriteriaTemplateError =\r\n              //   \"Criteria Template already exists.\";\r\n              this.savingCriteriaTemplateError = true;\r\n              console.log(this.savingCriteriaTemplateError);\r\n            } else {\r\n              this.savingCriteriaTemplateError = false;\r\n              this.setCriteriaSharedComponent.selectedTemplate =\r\n                this.setCriteriaSharedComponent.criteriaName;\r\n              this.coreService.showSuccessToast(res.msg);\r\n              this.setCriteriaSharedComponent.saveTemplateDialogOpen = false;\r\n              this.setCriteriaSharedComponent.criteriaName = \"\";\r\n              this.getAllTemplates();\r\n            }\r\n          }\r\n        },\r\n        (err) => {\r\n          this.coreService.removeLoadingScreen();\r\n          console.log(\":: Error in saving criteria template\", err);\r\n          this.coreService.showWarningToast(\"Some error in saving template\");\r\n        }\r\n      );\r\n  }\r\n\r\n  getAllTemplates() {\r\n    this.loyaltyService\r\n      .getAllCriteriaTemplates(\r\n        this.userId,\r\n        this.appCtrl.value.code,\r\n        this.moduleCtrl.value.code,\r\n        this.formName\r\n      )\r\n      .subscribe(\r\n        (res) => {\r\n          if (\r\n            res[\"status\"] &&\r\n            typeof res[\"status\"] == \"string\" &&\r\n            (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n          ) {\r\n            if (res[\"error\"]) {\r\n              this.coreService.showWarningToast(res[\"error\"]);\r\n            } else {\r\n              this.coreService.showWarningToast(\r\n                \"Some error in saving template\"\r\n              );\r\n            }\r\n          } else {\r\n            if (res.data && res.data.length) {\r\n              this.criteriaTemplatesDdlOptions = res.data;\r\n              this.criteriaTemplatesDdlOptions.forEach((val) => {\r\n                val[\"name\"] = val[\"criteriaName\"];\r\n                val[\"code\"] = val[\"criteriaName\"];\r\n              });\r\n            } else {\r\n              console.log(res.msg);\r\n            }\r\n          }\r\n        },\r\n        (err) => {\r\n          console.log(\":: Error in getting template list\", err);\r\n          this.coreService.showWarningToast(\r\n            \"Some error in getting template list\"\r\n          );\r\n        }\r\n      );\r\n  }\r\n\r\n  saveAddNewLoyalty() {\r\n    console.log(\r\n      \"applyCriteriaFormattedData\",\r\n      JSON.stringify(this.applyCriteriaFormattedData, null, 2)\r\n    );\r\n\r\n    let formData = new FormData();\r\n    let fileService = null;\r\n    if (this.uploadedfileData.length) {\r\n      for (let i = 0; i < this.uploadedfileData.length; i++) {\r\n        for (let key in this.uploadedfileData[i]) {\r\n          if (key == \"promoImage\") {\r\n            let file =\r\n              this.uploadedfileData[i][key] &&\r\n              this.uploadedfileData[i][key] != \"\"\r\n                ? this.uploadedfileData[i][key]\r\n                : \"\";\r\n            if (file != \"\") {\r\n              formData.append(\r\n                `customerLoyaltyPromoImagesDto[${i}].${key}`,\r\n                file\r\n              );\r\n            }\r\n          } else {\r\n            if (this.uploadedfileData[i][\"operation\"] == \"add\") {\r\n              if (!(key == \"id\")) {\r\n                formData.append(\r\n                  `customerLoyaltyPromoImagesDto[${i}].${key}`,\r\n                  this.uploadedfileData[i][key]\r\n                );\r\n              }\r\n            } else {\r\n              formData.append(\r\n                `customerLoyaltyPromoImagesDto[${i}].${key}`,\r\n                this.uploadedfileData[i][key]\r\n              );\r\n            }\r\n          }\r\n        }\r\n      }\r\n      fileService = this.http.post(\r\n        `/appControl/loyaltyProgramController/${\r\n          this.mode == \"add\" ? \"savePromoImages\" : \"updatePromoImages\"\r\n        }`,\r\n        formData,\r\n        {\r\n          headers: new HttpHeaders()\r\n            .set(\"userId\", this.userId)\r\n            .set(\"operation\", this.mode)\r\n            .set(\"applications\", this.appCtrl.value.code)\r\n            .set(\"moduleName\", this.moduleCtrl.value.code)\r\n            .set(\"form\", this.formName),\r\n        }\r\n      );\r\n    }\r\n\r\n    for (var pair of formData.entries()) {\r\n      console.log(pair[0] + \", \" + pair[1]);\r\n    }\r\n\r\n    console.log(this.uploadedfileData);\r\n\r\n    // % CALL FILE UPLOAD API\r\n\r\n    if (\r\n      this.setCriteriaSharedComponent.getCurrentCriteriaMap() !=\r\n      this.appliedCriteriaCriteriaMap\r\n    ) {\r\n      this.coreService.showWarningToast(\r\n        \"Recent changes in Criteria map has not been applied, Saving last applied data\"\r\n      );\r\n    }\r\n\r\n    if (\r\n      this.mode != \"clone\" ||\r\n      (this.mode == \"clone\" && this.isApplyCriteriaClicked)\r\n    ) {\r\n      this.coreService.displayLoadingScreen();\r\n      let isRequiredFields = false;\r\n      let invalidLoyaltyValue = false;\r\n      let loyaltyTypeMissing = false;\r\n      let rewardsAsMissing = false;\r\n      let loyaltyValueMissing = false;\r\n      let discountAsMissing = false;\r\n\r\n      this.applyCriteriaFormattedData.forEach((data) => {\r\n        if (data[\"isActive\"] == \"N\") {\r\n          data[\"programDescription\"] = this.programDescription.toUpperCase()\r\n            ? this.programDescription.replace(/\\s/g, \"\").length\r\n              ? this.programDescription.toUpperCase()\r\n              : null\r\n            : null;\r\n          if (data[\"loyaltyValue\"] == \"null\" || data[\"loyaltyValue\"] == null) {\r\n            data[\"loyaltyValue\"] = \"\";\r\n          }\r\n        }\r\n      });\r\n      let activeData = this.applyCriteriaFormattedData.filter(\r\n        (d) => d[\"isActive\"] == \"Y\"\r\n      );\r\n\r\n      activeData.forEach((element) => {\r\n        console.log(element);\r\n\r\n        if (element[\"invalidLoyaltyValue\"]) {\r\n          invalidLoyaltyValue = true;\r\n        }\r\n        element[\"programDescription\"] = this.programDescription.toUpperCase()\r\n          ? this.programDescription.replace(/\\s/g, \"\").length\r\n            ? this.programDescription.toUpperCase()\r\n            : null\r\n          : null;\r\n        element[\"programType\"] = this.programType\r\n          ? this.programType.replace(/\\s/g, \"\").length\r\n            ? this.programType\r\n            : null\r\n          : null;\r\n        element[\"promoCodeLength\"] = this.promoCodeLength\r\n          ? this.promoCodeLength\r\n          : null;\r\n\r\n        if (\r\n          !(\r\n            element[\"programDescription\"] &&\r\n            element[\"programType\"] &&\r\n            element[\"promoCodeLength\"]\r\n          )\r\n        ) {\r\n          isRequiredFields = true;\r\n        }\r\n        if (!element[\"loyaltyType\"] || element[\"loyaltyType\"] == \"null\") {\r\n          loyaltyTypeMissing = true;\r\n        }\r\n        if (!element[\"rewardsAs\"] || element[\"rewardsAs\"] == \"null\") {\r\n          rewardsAsMissing = true;\r\n        }\r\n        if (!element[\"loyaltyValue\"] && element[\"loyaltyValue\"] != \"0\") {\r\n          loyaltyValueMissing = true;\r\n        }\r\n        if (\r\n          element[\"rewardsAs\"] == \"Discount\" &&\r\n          (!element[\"discountAs\"] || element[\"discountAs\"] == \"null\")\r\n        ) {\r\n          discountAsMissing = true;\r\n        }\r\n      });\r\n      if (isRequiredFields) {\r\n        this.coreService.removeLoadingScreen();\r\n        this.coreService.showWarningToast(\"Please Fill required fields.\");\r\n      } else if (loyaltyTypeMissing) {\r\n        this.coreService.removeLoadingScreen();\r\n        this.coreService.showWarningToast(\"Please Select Loyalty Type.\");\r\n      } else if (rewardsAsMissing) {\r\n        this.coreService.removeLoadingScreen();\r\n        this.coreService.showWarningToast(\"Please Select Reward As.\");\r\n      } else if (loyaltyValueMissing) {\r\n        this.coreService.removeLoadingScreen();\r\n        this.coreService.showWarningToast(\"Please Fill loyalty value.\");\r\n      } else if (discountAsMissing) {\r\n        this.coreService.removeLoadingScreen();\r\n        this.coreService.showWarningToast(\"Please Select Discount As.\");\r\n      } else if (invalidLoyaltyValue) {\r\n        this.coreService.removeLoadingScreen();\r\n        this.coreService.showWarningToast(\"Please Enter Valid loyalty Value.\");\r\n      } else if (!this.validPromoCodeLength) {\r\n        this.coreService.removeLoadingScreen();\r\n        this.coreService.showWarningToast(\r\n          \"Please Enter Valid Promo Code Length.\"\r\n        );\r\n      } else {\r\n        let service;\r\n        // this.decodeSelectedOptions();\r\n        if (this.mode == \"edit\") {\r\n          service = this.loyaltyService.updateLoyaltyProgram(\r\n            this.userId,\r\n            this.applyCriteriaFormattedData,\r\n            this.mode,\r\n            this.appCtrl.value.code,\r\n            this.moduleCtrl.value.code,\r\n            this.formName,\r\n            this.resetParam ? \"yes\" : \"no\"\r\n          );\r\n        } else {\r\n          service = this.loyaltyService.addNewLoyaltyProgram(\r\n            this.userId,\r\n            this.applyCriteriaFormattedData,\r\n            this.mode,\r\n            this.appCtrl.value.code,\r\n            this.moduleCtrl.value.code,\r\n            this.formName\r\n          );\r\n        }\r\n\r\n        if (service) {\r\n          service\r\n            .pipe(\r\n              switchMap((data) => {\r\n                if (data[\"msg\"] && fileService) {\r\n                  return fileService.pipe(\r\n                    catchError((fileError) => {\r\n                      return of({ fileError });\r\n                    })\r\n                  );\r\n                } else {\r\n                  return of({ dataError: !data[\"msg\"] });\r\n                }\r\n              })\r\n            )\r\n            .subscribe(\r\n              (result) => {\r\n                if (result.dataError) {\r\n                  this.coreService.removeLoadingScreen();\r\n                  console.log(\"Data service returned an error.\");\r\n                  this.coreService.showWarningToast(\r\n                    \"Loyalty program data not saved properly, Please try again in sometime\"\r\n                  );\r\n                } else if (result.fileError) {\r\n                  console.log(\r\n                    \"Data saved successfully, but there was an issue with files.\"\r\n                  );\r\n                  this.coreService.showSuccessToast(\r\n                    \"Loyalty program data saved successfully, But some issue in saving program images, Please try editing the Program\"\r\n                  );\r\n                  this.router.navigate([`navbar/loyalty-programs`]);\r\n                } else {\r\n                  this.router.navigate([`navbar/loyalty-programs`]);\r\n                  if (this.mode == \"add\") {\r\n                    this.coreService.showSuccessToast(\r\n                      \"Program data saved successfully\"\r\n                    );\r\n                  } else {\r\n                    this.coreService.showSuccessToast(\r\n                      \"Program data updated successfully\"\r\n                    );\r\n                  }\r\n                  console.log(\"Data and files saved successfully.\");\r\n                }\r\n              },\r\n              (err) => {\r\n                console.log(\"Error\", err);\r\n                this.coreService.removeLoadingScreen();\r\n              }\r\n            );\r\n\r\n          // service.subscribe(\r\n          //   (res) => {\r\n          //     if (\r\n          //       res[\"status\"] &&\r\n          //       typeof res[\"status\"] == \"string\" &&\r\n          //       (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n          //     ) {\r\n          //       this.coreService.removeLoadingScreen();\r\n          //       if (res[\"error\"]) {\r\n          //         this.coreService.showWarningToast(res[\"error\"]);\r\n          //       } else {\r\n          //         this.coreService.showWarningToast(\r\n          //           \"Something went wrong, Please try again later\"\r\n          //         );\r\n          //       }\r\n          //     } else {\r\n          //       if (res[\"msg\"]) {\r\n          //         this.coreService.showSuccessToast(res.msg);\r\n\r\n          //         this.loyaltyService.applicationName = null;\r\n          //         this.loyaltyService.moduleName = null;\r\n          //         this.router.navigate([`navbar/loyalty-programs`]);\r\n          //       }\r\n          //     }\r\n          //   },\r\n          //   (err) => {\r\n          //     this.coreService.removeLoadingScreen();\r\n          //     console.log(\"error in saveAddNewLoyalty\", err);\r\n          //     this.coreService.showWarningToast(\r\n          //       \"Something went wrong, Please try again later\"\r\n          //     );\r\n          //   }\r\n          // );\r\n        }\r\n      }\r\n    } else {\r\n      this.coreService.showWarningToast(\"Applied criteria already exists.\");\r\n    }\r\n  }\r\n\r\n  confirmStatus(e: any, data: any) {\r\n    e.preventDefault();\r\n    let type = \"\";\r\n    let reqStatus = \"\";\r\n    if (e.target.checked) {\r\n      reqStatus = \"Y\";\r\n      type = \"activate\";\r\n    } else {\r\n      reqStatus = \"N\";\r\n      type = \"deactivate\";\r\n    }\r\n    this.coreService.setSidebarBtnFixedStyle(false);\r\n    this.coreService.setHeaderStickyStyle(false);\r\n    let completeMsg = \"\";\r\n    completeMsg =\r\n      `<img src=\"../../../assets/warning.svg\"><br/><br/>` +\r\n      `Do you wish to ` +\r\n      type +\r\n      ` the loyalty Record?`;\r\n    this.confirmationService.confirm({\r\n      message: completeMsg,\r\n      key: \"activeDeactiveStatus\",\r\n      accept: () => {\r\n        data[\"isActive\"] = reqStatus;\r\n        this.setHeaderSidebarBtn();\r\n        console.log(\"accepting\", reqStatus);\r\n      },\r\n      reject: () => {\r\n        this.confirmationService.close;\r\n        this.setHeaderSidebarBtn();\r\n        console.log(\"reject\");\r\n      },\r\n    });\r\n  }\r\n\r\n  reset() {\r\n    if (this.mode == \"edit\") {\r\n      this.coreService.setHeaderStickyStyle(false);\r\n      this.coreService.setSidebarBtnFixedStyle(false);\r\n      this.confirmationService.confirm({\r\n        message: \"Are you sure, you want to clear applied changes ?\",\r\n        key: \"resetDataConfirmation\",\r\n        accept: () => {\r\n          this.coreService.displayLoadingScreen();\r\n          // this.getCriteriaMasterData();\r\n          // this.getAllTemplates();\r\n          this.applyCriteriaFormattedData = [];\r\n          this.appliedCriteriaCriteriaMap = null;\r\n          this.appliedCriteriaIsDuplicate = null;\r\n          this.programDescription = \"\";\r\n          this.programType = \"\";\r\n          this.resetParam = true;\r\n\r\n          this.uploadedfileData = [];\r\n          this.promoCode = \"\";\r\n          this.promoCodeLength = null;\r\n          this.setCriteriaSharedComponent.resetSetCriteria();\r\n          this.setHeaderSidebarBtn();\r\n          // this.coreService.setHeaderStickyStyle(true);\r\n          // this.coreService.setSidebarBtnFixedStyle(true);\r\n        },\r\n        reject: () => {\r\n          this.confirmationService.close;\r\n          this.setHeaderSidebarBtn();\r\n        },\r\n      });\r\n    } else if (this.mode == \"clone\") {\r\n      this.coreService.setHeaderStickyStyle(false);\r\n      this.coreService.setSidebarBtnFixedStyle(false);\r\n      this.confirmationService.confirm({\r\n        message: \"Are you sure, you want to clear applied changes ?\",\r\n        key: \"resetDataConfirmation\",\r\n        accept: () => {\r\n          this.coreService.displayLoadingScreen();\r\n          this.getCriteriaMasterData();\r\n          this.getAllTemplates();\r\n          this.coreService.setHeaderStickyStyle(true);\r\n          this.coreService.setSidebarBtnFixedStyle(true);\r\n        },\r\n        reject: () => {\r\n          this.confirmationService.close;\r\n          this.setHeaderSidebarBtn();\r\n        },\r\n      });\r\n    } else {\r\n      this.coreService.setSidebarBtnFixedStyle(false);\r\n      this.coreService.setHeaderStickyStyle(false);\r\n      this.confirmationService.confirm({\r\n        message: \"Are you sure, you want to clear all the fields ?\",\r\n        key: \"resetDataConfirmation\",\r\n        accept: () => {\r\n          this.applyCriteriaFormattedData = [];\r\n          this.appliedCriteriaCriteriaMap = null;\r\n          this.appliedCriteriaIsDuplicate = null;\r\n          this.programDescription = \"\";\r\n          this.programType = \"\";\r\n\r\n          this.uploadedfileData = [];\r\n          this.promoCode = \"\";\r\n          this.promoCodeLength = null;\r\n\r\n          this.setCriteriaSharedComponent.resetSetCriteria();\r\n          this.setHeaderSidebarBtn();\r\n          // this.appCtrl.reset();\r\n          // this.moduleCtrl.reset();\r\n          // this.moduleCtrl.disable();\r\n          // this.showContent = false;\r\n          // this.appModuleDataPresent = false;\r\n        },\r\n        reject: () => {\r\n          this.confirmationService.close;\r\n          this.setHeaderSidebarBtn();\r\n        },\r\n      });\r\n    }\r\n  }\r\n\r\n  setHeaderSidebarBtn() {\r\n    this.coreService.displayLoadingScreen();\r\n    setTimeout(() => {\r\n      this.coreService.setHeaderStickyStyle(true);\r\n      this.coreService.setSidebarBtnFixedStyle(true);\r\n    }, 500);\r\n    setTimeout(() => {\r\n      this.coreService.removeLoadingScreen();\r\n    }, 1000);\r\n  }\r\n\r\n  // setSelectedOptions() {\r\n  //   this.applyCriteriaFormattedData.forEach((data) => {\r\n  //     if (data[\"loyaltyType\"]) {\r\n  //       data[\"loyaltyType\"] = data[\"loyaltyTypeOption\"].filter(\r\n  //         (option) => option[\"code\"] == data[\"loyaltyType\"]\r\n  //       )[0][\"codeName\"];\r\n  //     }\r\n\r\n  //     if (data[\"rewardsAs\"]) {\r\n  //       data[\"rewardsAs\"] = data[\"rewardsAsOption\"].filter(\r\n  //         (option) => option[\"code\"] == data[\"rewardsAs\"]\r\n  //       )[0][\"codeName\"];\r\n  //     }\r\n  //   });\r\n  // }\r\n  // decodeSelectedOptions() {\r\n  //   this.applyCriteriaFormattedData.forEach((data) => {\r\n  //     data[\"loyaltyType\"] = data[\"loyaltyTypeOption\"].filter(\r\n  //       (option) => option[\"codeName\"] == data[\"loyaltyType\"]\r\n  //     )[0][\"code\"];\r\n  //     data[\"rewardsAs\"] = data[\"rewardsAsOption\"].filter(\r\n  //       (option) => option[\"codeName\"] == data[\"rewardsAs\"]\r\n  //     )[0][\"code\"];\r\n  //   });\r\n  // }\r\n\r\n  isMandatoryCol(heading: any) {\r\n    return heading.includes(\"*\") ? true : false;\r\n  }\r\n\r\n  getColumns(colData: any) {\r\n    return this.criteriaDataService.getAppliedCriteriaTableColumns(colData);\r\n  }\r\n  selectedColumn(selectCol: any, value: any, index: any) {\r\n    if (selectCol == \"rewardsAs\") {\r\n      this.rewardsAs = value.codeName;\r\n      if (value.codeName == \"Discount\") {\r\n        this.applyCriteriaFormattedData[index][\"discountAsOption\"] = [];\r\n        this.applyCriteriaFormattedData[index][\"discountAsOption\"] =\r\n          this.discountAsOption;\r\n      } else {\r\n        this.applyCriteriaFormattedData[index][\"discountAsOption\"] = [];\r\n        this.applyCriteriaFormattedData[index][\"discountAsOption\"].unshift({\r\n          code: null,\r\n          codeName: \"Select\",\r\n        });\r\n      }\r\n      this.applyCriteriaFormattedData[index][\"discountAs\"] = null;\r\n    }\r\n    if (selectCol == \"discountAs\") {\r\n    }\r\n    if (selectCol == \"loyaltyType\") {\r\n      this.loyaltyType = value.codeName;\r\n      if (selectCol == \"loyaltyType\" && value[\"code\"] == \"Percentage\") {\r\n        this.applyCriteriaFormattedData[index][\"loyaltyValue\"] = 0;\r\n        this.applyCriteriaFormattedData[index][\"invalidLoyaltyValue\"] = true;\r\n        // this.coreService.showWarningToast(\r\n        //   \"Please enter loyalty value greater than zero\"\r\n        // );\r\n      } else {\r\n        if (Number(this.applyCriteriaFormattedData[index].lcyAmountFrom)) {\r\n          this.applyCriteriaFormattedData[index][\"loyaltyValue\"] = Number(\r\n            this.applyCriteriaFormattedData[index].lcyAmountFrom\r\n          );\r\n        } else {\r\n          if (this.applyCriteriaFormattedData[index].lcyAmount) {\r\n            let lcyAmountNum =\r\n              this.applyCriteriaFormattedData[index].lcyAmount.split(\" \")[3];\r\n            let lcyAmountOpr =\r\n              this.applyCriteriaFormattedData[index].lcyAmount.split(\" \")[2];\r\n            if (lcyAmountOpr == \">=\") {\r\n              console.log(lcyAmountNum);\r\n              this.applyCriteriaFormattedData[index][\"loyaltyValue\"] =\r\n                Number(lcyAmountNum);\r\n            } else if (lcyAmountOpr == \">\") {\r\n              this.applyCriteriaFormattedData[index][\"loyaltyValue\"] =\r\n                Number(lcyAmountNum) + 1;\r\n            } else if (lcyAmountOpr == \"=\") {\r\n              this.applyCriteriaFormattedData[index][\"loyaltyValue\"] =\r\n                Number(lcyAmountNum);\r\n            } else {\r\n              this.applyCriteriaFormattedData[index][\"loyaltyValue\"] = 0;\r\n            }\r\n          } else {\r\n            this.applyCriteriaFormattedData[index][\"loyaltyValue\"] = 0;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    this.applyCriteriaFormattedData[index][selectCol] = value.codeName;\r\n  }\r\n\r\n  changeValueInput(\r\n    selectCol: any,\r\n    inputCol: any,\r\n    event: any,\r\n    index: any,\r\n    valueInputElm: any\r\n  ) {\r\n    console.log(\r\n      selectCol,\r\n      inputCol,\r\n      event,\r\n      this.applyCriteriaFormattedData[index]\r\n    );\r\n    this.applyCriteriaFormattedData[index][\"invalidLoyaltyValue\"] = false;\r\n    let max = 1000000;\r\n    let min = 0;\r\n    if (this.applyCriteriaFormattedData[index][selectCol] == \"Percentage\") {\r\n      max = 100;\r\n    } else if (this.applyCriteriaFormattedData[index].lcyAmount?.length) {\r\n      let lcyAmountNum =\r\n        this.applyCriteriaFormattedData[index].lcyAmount.split(\" \")[3];\r\n      let lcyAmountOpr =\r\n        this.applyCriteriaFormattedData[index].lcyAmount.split(\" \")[2];\r\n\r\n      if (this.applyCriteriaFormattedData[index][selectCol] == \"Percentage\") {\r\n        max = 100;\r\n      } else if (\r\n        this.applyCriteriaFormattedData[index][selectCol] == \"Amount\"\r\n      ) {\r\n        if (\r\n          Number(this.applyCriteriaFormattedData[index].lcyAmountFrom) > 0 &&\r\n          Number(this.applyCriteriaFormattedData[index].lcyAmountTo) > 0\r\n        ) {\r\n          min = Number(this.applyCriteriaFormattedData[index].lcyAmountFrom);\r\n          max = Number(this.applyCriteriaFormattedData[index].lcyAmountTo);\r\n        } else if (lcyAmountOpr == \"=\") {\r\n          min = Number(lcyAmountNum);\r\n          max = Number(lcyAmountNum);\r\n        } else if (lcyAmountOpr == \">=\") {\r\n          min = Number(lcyAmountNum);\r\n          max = 1000000;\r\n        } else if (lcyAmountOpr == \">\") {\r\n          min = Number(lcyAmountNum) + 1;\r\n          max = 1000000;\r\n        } else if (lcyAmountOpr == \"<=\") {\r\n          min = 0;\r\n          max = Number(lcyAmountNum);\r\n        } else if (lcyAmountOpr == \"<\") {\r\n          min = 0;\r\n          max = Number(lcyAmountNum) - 1;\r\n        } else {\r\n          max = 1000000;\r\n        }\r\n      }\r\n    } else if (\r\n      this.applyCriteriaFormattedData[index].lcyAmountFrom?.length ||\r\n      this.applyCriteriaFormattedData[index].lcyAmountTo?.length\r\n    ) {\r\n      min = Number(this.applyCriteriaFormattedData[index].lcyAmountFrom);\r\n      max = Number(this.applyCriteriaFormattedData[index].lcyAmountTo);\r\n    }\r\n\r\n    let isDisplayError = false;\r\n    if (event.value == 0) {\r\n      isDisplayError = true;\r\n      this.applyCriteriaFormattedData[index][\"invalidLoyaltyValue\"] = true;\r\n      // this.coreService.showWarningToast(\r\n      //   \"Please enter loyalty greater than zero\"\r\n      // );\r\n      return false;\r\n    } else if (event.value < min || event.value > max) {\r\n      isDisplayError = true;\r\n      this.applyCriteriaFormattedData[index][\"invalidLoyaltyValue\"] = true;\r\n      this.coreService.showWarningToast(\r\n        \"Please enter loyalty between \" + min + \" to \" + max\r\n      );\r\n      if (event.value <= max && event.value >= min) {\r\n        this.applyCriteriaFormattedData[index][inputCol] = event.value;\r\n        this.applyCriteriaFormattedData[index][\"invalidLoyaltyValue\"] = false;\r\n      } else if (event.value > max) {\r\n        let lastValueEntered = valueInputElm.lastValue;\r\n        valueInputElm.input.nativeElement.value = lastValueEntered;\r\n        this.applyCriteriaFormattedData[index][\"invalidLoyaltyValue\"] = false;\r\n      } else if (event.value < min) {\r\n      }\r\n      return false;\r\n    }\r\n\r\n    this.loyaltyValue = event.value;\r\n  }\r\n\r\n  checkOperation(operation: any, index: any, selectRow: any, fieldName: any) {\r\n    if (operation == \"delete\") {\r\n      this.delete(index);\r\n    } else if (operation == \"clone\") {\r\n      this.clone(index, selectRow, fieldName);\r\n    }\r\n  }\r\n\r\n  clone(index: any, selectRow: any, fieldName: any) {\r\n    let clonedRow = {\r\n      ...selectRow,\r\n    };\r\n    clonedRow[fieldName] = \"clone,delete\";\r\n    clonedRow[\"linked\"] = \"N\";\r\n    clonedRow[\"isActive\"] = \"Y\";\r\n    this.applyCriteriaFormattedData.splice(index + 1, 0, clonedRow);\r\n  }\r\n  delete(index: any) {\r\n    this.applyCriteriaFormattedData.splice(index, 1);\r\n  }\r\n\r\n  closeDialog() {\r\n    this.showFilesModal = false;\r\n    this.coreService.displayLoadingScreen();\r\n    setTimeout(() => {\r\n      this.coreService.setHeaderStickyStyle(true);\r\n      this.coreService.setSidebarBtnFixedStyle(true);\r\n    }, 500);\r\n    setTimeout(() => {\r\n      this.coreService.removeLoadingScreen();\r\n    }, 1000);\r\n  }\r\n}\r\n","<div class=\"visible-main-section\">\r\n  <div class=\"details-page-card\">\r\n    <div class=\"d-flex mx-3\" style=\"justify-content: space-between\">\r\n      <div class=\"col-12\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-7 col-lg-7 col-sm-12 col-xs-12\">\r\n            <p class=\"description-text\">\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                width=\"41\"\r\n                height=\"35\"\r\n                viewBox=\"0 0 41 41\"\r\n              >\r\n                <g\r\n                  id=\"Group_2248\"\r\n                  data-name=\"Group 2248\"\r\n                  transform=\"translate(-341 -138)\"\r\n                >\r\n                  <circle\r\n                    id=\"Ellipse_130\"\r\n                    data-name=\"Ellipse 130\"\r\n                    cx=\"20.5\"\r\n                    cy=\"20.5\"\r\n                    r=\"20.5\"\r\n                    transform=\"translate(341 138)\"\r\n                    [attr.fill]=\"primaryColor\"\r\n                  />\r\n                  <path\r\n                    id=\"_52_Note_Basic_Description\"\r\n                    data-name=\"52  Note, Basic, Description\"\r\n                    d=\"M17.054,9.537H9.52a.753.753,0,0,1-.753-.753V5.016a.753.753,0,0,1,.753-.753h.851a3.014,3.014,0,0,1,5.831,0h.851a.753.753,0,0,1,.753.753V8.783A.753.753,0,0,1,17.054,9.537ZM10.274,8.03H16.3V5.77h-.753a.753.753,0,0,1-.753-.753,1.507,1.507,0,0,0-3.014,0,.753.753,0,0,1-.753.753h-.753Zm11.3,12.808V7.277a2.26,2.26,0,0,0-2.26-2.26h-.753V6.523h.753a.753.753,0,0,1,.753.753V20.837a.753.753,0,0,1-.753.753H7.26a.753.753,0,0,1-.753-.753V7.277a.753.753,0,0,1,.753-.753h.753V5.016H7.26A2.26,2.26,0,0,0,5,7.277V20.837A2.26,2.26,0,0,0,7.26,23.1H19.314A2.26,2.26,0,0,0,21.574,20.837ZM17.808,11.8H8.767V13.3h9.041Zm0,3.014H8.767v1.507h9.041Zm0,3.014H8.767v1.507h9.041Z\"\r\n                    transform=\"translate(348.213 145.945)\"\r\n                    fill=\"#fff\"\r\n                  />\r\n                </g>\r\n              </svg>\r\n              Enables users to configure loyalty program related settings.\r\n            </p>\r\n          </div>\r\n          <div class=\"col-md-5 col-lg-5 col-sm-12 col-xs-12\">\r\n            <div class=\"row\">\r\n              <div class=\"buttons-section\">\r\n                <button\r\n                  pButton\r\n                  pRipple\r\n                  type=\"button\"\r\n                  [disabled]=\"\r\n                    !applyCriteriaFormattedData?.length || deactivated\r\n                  \"\r\n                  label=\"Save\"\r\n                  class=\"p-button-raised\"\r\n                  (click)=\"saveAddNewLoyalty()\"\r\n                ></button>\r\n                <button\r\n                  pButton\r\n                  pRipple\r\n                  type=\"button\"\r\n                  label=\"Reset\"\r\n                  class=\"p-button-warning\"\r\n                  (click)=\"reset()\"\r\n                  [disabled]=\"deactivated\"\r\n                ></button>\r\n                <button\r\n                  *ngIf=\"mode == 'edit'\"\r\n                  pButton\r\n                  pRipple\r\n                  type=\"button\"\r\n                  label=\"{{ deactivated ? 'Activate' : 'Deactivate' }}\"\r\n                  class=\"p-button-raised\"\r\n                  (click)=\"onActive()\"\r\n                ></button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- <div [formGroup]=\"selectAppModule\" class=\"select-module-application m-2\">\r\n      <div class=\"col-12\">\r\n        <div class=\"row\">\r\n          <div class=\"d-flex field col-md-4 col-lg-4 col-sm-12 col-xs-12 md-4\">\r\n            <label\r\n              class=\"detail-page-section-heading col-sm-3 col-xs-12\"\r\n              for=\"application\"\r\n              >Application</label\r\n            >\r\n            <p-dropdown\r\n              name=\"application\"\r\n              inputId=\"application\"\r\n              [options]=\"searchApplicationOptions\"\r\n              placeholder=\"Select\"\r\n              optionLabel=\"name\"\r\n              formControlName=\"applications\"\r\n              (onChange)=\"onAppValueChange()\"\r\n            ></p-dropdown>\r\n          </div>\r\n          <div class=\"d-flex field col-md-4 col-lg-4 col-sm-12 col-xs-12 md-4\">\r\n            <label\r\n              class=\"detail-page-section-heading col-sm-3 col-xs-12 small\"\r\n              for=\"module\"\r\n              >Module</label\r\n            >\r\n            <p-dropdown\r\n              name=\"module\"\r\n              inputId=\"module\"\r\n              [options]=\"searchModuleOptions\"\r\n              placeholder=\"Select\"\r\n              optionLabel=\"name\"\r\n              formControlName=\"modules\"\r\n              (onChange)=\"searchAppModule()\"\r\n            ></p-dropdown>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div> -->\r\n    <div\r\n      *ngIf=\"appModuleDataPresent && showContent\"\r\n      class=\"d-flex m-3 tax-code-desc-section\"\r\n    >\r\n      <div class=\"col-12\">\r\n        <div class=\"row d-flex\">\r\n          <div class=\"col-md-3 col-lg-3 col-sm-12 col-xs-12\">\r\n            <div\r\n              class=\"programCode\"\r\n              [pTooltip]=\"\r\n                this.mode == 'add'\r\n                  ? 'Program Code is automatically generated, It may get changed in saving process.'\r\n                  : ''\r\n              \"\r\n            >\r\n              <p style=\"position: relative\">\r\n                Program Code <span class=\"description red-star\">*</span>\r\n              </p>\r\n              <input\r\n                type=\"text\"\r\n                pInputText\r\n                [(ngModel)]=\"programCode\"\r\n                disabled\r\n              />\r\n            </div>\r\n          </div>\r\n          <div class=\"col-md-3 col-lg-3 col-sm-12 col-xs-12\">\r\n            <div class=\"taxCode\">\r\n              <p style=\"position: relative\">\r\n                Program Type <span class=\"description red-star\">*</span>\r\n              </p>\r\n              <p-dropdown\r\n                name=\"application\"\r\n                inputId=\"application\"\r\n                [options]=\"programTypeOptions\"\r\n                [(ngModel)]=\"programType\"\r\n                placeholder=\"Select\"\r\n                optionValue=\"code\"\r\n                optionLabel=\"name\"\r\n                [disabled]=\"deactivated\"\r\n              >\r\n                <ng-template let-options pTemplate=\"item\">\r\n                  <div class=\"truncate-text\">\r\n                    <div>{{ options.name }}</div>\r\n                  </div>\r\n                </ng-template></p-dropdown\r\n              >\r\n            </div>\r\n          </div>\r\n          <div class=\"col-md-6 col-lg-6 col-sm-12 col-xs-12\">\r\n            <div class=\"row d-flex\">\r\n              <div class=\"col-md-7 col-lg-7 col-sm-12 col-xs-12 pr-0\">\r\n                <div class=\"taxDesc\">\r\n                  <p style=\"position: relative\">\r\n                    Program Description\r\n                    <span class=\"description red-star\">*</span>\r\n                  </p>\r\n                  <input\r\n                    type=\"text\"\r\n                    pInputText\r\n                    [(ngModel)]=\"programDescription\"\r\n                    maxlength=\"100\"\r\n                    placeholder=\"Max 100 characters\"\r\n                    [disabled]=\"deactivated\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div class=\"col-md-5 col-lg-5 col-sm-5 col-xs-5 pl-0 d-flex\">\r\n                <div class=\"uploadBtn\">\r\n                  <div class=\"file-upload-select\" (click)=\"inpFile.click()\">\r\n                    <button\r\n                      pButton\r\n                      type=\"button\"\r\n                      icon=\"pi pi-upload\"\r\n                      class=\"operation-btns mr-2\"\r\n                      [disabled]=\"deactivated\"\r\n                    ></button>\r\n                    <input\r\n                      #inpFile\r\n                      (change)=\"fileUploadChange($event)\"\r\n                      type=\"file\"\r\n                      name=\"file-upload-input\"\r\n                      id=\"file-upload-input\"\r\n                      accept=\".svg, .png, .jpeg\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div class=\"fileUploadLabel\" *ngIf=\"getUploadedImgData?.length\">\r\n                  <span\r\n                    [ngClass]=\"{ disabled: deactivated }\"\r\n                    (click)=\"!deactivated && showUploadedFilesModal()\"\r\n                    >Uploaded Images</span\r\n                  >\r\n                </div>\r\n              </div>\r\n              <!-- <div class=\"col-md-4 col-lg-4 col-sm-12 col-xs-12 pl-0\">\r\n                <div class=\"program-checkbox\">\r\n                  <p-checkbox\r\n                    [(ngModel)]=\"Emailchecked\"\r\n                    binary=\"true\"\r\n                    inputId=\"binary\"\r\n                  ></p-checkbox>\r\n                  <label style=\"padding-left: 10px; padding-right: 10px\">\r\n                    Send Email</label\r\n                  >\r\n                  <p-checkbox\r\n                    [(ngModel)]=\"Msgchecked\"\r\n                    binary=\"true\"\r\n                    inputId=\"binary\"\r\n                  ></p-checkbox>\r\n                  <label style=\"padding-left: 10px\"> Send Message</label>\r\n                </div>\r\n              </div> -->\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div\r\n      *ngIf=\"appModuleDataPresent && showContent\"\r\n      class=\"d-flex m-3 tax-code-desc-section\"\r\n    >\r\n      <div class=\"col-12\">\r\n        <div class=\"row d-flex\">\r\n          <div class=\"col-md-12 col-lg-12 col-sm-12 col-xs-12\">\r\n            <div class=\"taxCode\">\r\n              <p style=\"color: var(--primary-color)\">Promo Code Generation</p>\r\n              <div class=\"row\">\r\n                <div class=\"col-md-3 col-lg-3 col-sm-3 col-xs-3\">\r\n                  <label for=\"\" style=\"margin-right: 15px; position: relative\"\r\n                    >Promo Code Length\r\n                    <span class=\"description red-star\">*</span></label\r\n                  >\r\n                  <p-inputNumber\r\n                    [(ngModel)]=\"promoCodeLength\"\r\n                    (onBlur)=\"onPromoCodeLength($event)\"\r\n                    [inputStyle]=\"{ width: '40px', padding: '0.5rem' }\"\r\n                    [disabled]=\"\r\n                      (mode == 'edit' && !this.resetParam) || deactivated\r\n                    \"\r\n                  >\r\n                  </p-inputNumber>\r\n                  <span\r\n                    *ngIf=\"promoCodeLength && !validPromoCodeLength\"\r\n                    class=\"error-message\"\r\n                    >Length should be between 5 to 10.</span\r\n                  >\r\n                </div>\r\n                <div class=\"col-md-5 col-lg-5 col-sm-5 col-xs-5\">\r\n                  <label for=\"\" style=\"margin-right: 15px\">Promo Code</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    #userinput\r\n                    pInputText\r\n                    [(ngModel)]=\"promoCode\"\r\n                    [disabled]=\"true\"\r\n                    style=\"cursor: not-allowed; opacity: 1\"\r\n                  />\r\n                  <button\r\n                    pButton\r\n                    type=\"button\"\r\n                    icon=\"pi pi-copy\"\r\n                    class=\"operation-btns mr-2 btnround\"\r\n                    (click)=\"copyInputMessage(userinput)\"\r\n                    [disabled]=\"deactivated\"\r\n                  ></button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- <div\r\n      *ngIf=\"appModuleDataPresent && showContent\"\r\n      class=\"d-flex m-3 tax-code-desc-section\"\r\n    >\r\n      <div class=\"col-12\">\r\n        <div class=\"row d-flex\">\r\n          <div class=\"col-md-12 col-lg-12 col-sm-12 col-xs-12\">\r\n            <div class=\"row\">\r\n              <div class=\"col-md-2 col-lg-2 col-sm-12 col-xs-12\">\r\n                <div class=\"taxCode\">\r\n                  <p style=\"position: relative\">\r\n                    From Date & Time <span class=\"description red-star\">*</span>\r\n                  </p>\r\n                  <p-calendar\r\n                    [(ngModel)]=\"criteriaTransactionDateFrom\"\r\n                    placeholder=\"DD/MM/YYYY  Hrs/Min\"\r\n                    dateFormat=\"dd/mm/yy\"\r\n                    [showTime]=\"true\"\r\n                    [showSeconds]=\"true\"\r\n                    [minDate]=\"today\"\r\n                    inputId=\"time\"\r\n                    appDateMask\r\n                    (onSelect)=\"criteriaTransactionDateTo = null\"\r\n                  ></p-calendar>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-md-2 col-lg-2 col-sm-12 col-xs-12\">\r\n                <div class=\"taxCode\">\r\n                  <p style=\"position: relative\">\r\n                    To Date & Time <span class=\"description red-star\">*</span>\r\n                  </p>\r\n                  <p-calendar\r\n                    [(ngModel)]=\"criteriaTransactionDateTo\"\r\n                    [minDate]=\"criteriaTransactionDateFrom\"\r\n                    placeholder=\"DD/MM/YYYY  Hrs/Min\"\r\n                    dateFormat=\"dd/mm/yy\"\r\n                    [showTime]=\"true\"\r\n                    [showSeconds]=\"true\"\r\n                    inputId=\"time\"\r\n                    appDateMask\r\n                  ></p-calendar>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div> -->\r\n\r\n    <app-set-criteria\r\n      *ngIf=\"appModuleDataPresent && showContent\"\r\n      #setCriteriaSharedComponent\r\n      [criteriaMasterData]=\"criteriaMasterData\"\r\n      [fieldDisplayData]=\"fieldDisplayData\"\r\n      [cmCriteriaDataDetails]=\"cmCriteriaDataDetails\"\r\n      [criteriaDataDetailsJson]=\"criteriaDataDetailsJson\"\r\n      [cmCriteriaSlabType]=\"cmCriteriaSlabType\"\r\n      [independantCriteriaArr]=\"independantCriteriaArr\"\r\n      [cmCriteriaMandatory]=\"cmCriteriaMandatory\"\r\n      [cmCriteriaDependency]=\"cmCriteriaDependency\"\r\n      [criteriaMapDdlOptions]=\"criteriaMapDdlOptions\"\r\n      [correspondentDdlOptions]=\"correspondentDdlOptions\"\r\n      [criteriaEqualsDdlOptions]=\"criteriaEqualsDdlOptions\"\r\n      [criteriaTemplatesDdlOptions]=\"criteriaTemplatesDdlOptions\"\r\n      [savingCriteriaTemplateError]=\"savingCriteriaTemplateError\"\r\n      [criteriaText]=\"criteriaText\"\r\n      [criteriaCodeText]=\"criteriaCodeText\"\r\n      [inactiveData]=\"inactiveData\"\r\n      [deactivated]=\"deactivated\"\r\n      (postDataCriteria)=\"applyCriteria($event)\"\r\n      (saveCriteriaAsTemplate)=\"saveCriteriaAsTemplate($event)\"\r\n      (getCorrespondentValues)=\"\r\n        getCorrespondentValues(\r\n          $event.fieldName,\r\n          $event.displayName,\r\n          $event.criteriaCodeText\r\n        )\r\n      \"\r\n      [setCriteriaName]=\"setCriteriaName\"\r\n    ></app-set-criteria>\r\n  </div>\r\n  <div class=\"details-page-card mt-2\" *ngIf=\"applyCriteriaFormattedData.length\">\r\n    <div class=\"details-page-card-content mt-1\">\r\n      <div class=\"criteria-bar\">\r\n        <p class=\"setCriteria detail-page-section-heading\">\r\n          Applicable On\r\n          <img\r\n            height=\"15px\"\r\n            src=\"../assets/Icon-info.svg\"\r\n            alt=\"\"\r\n            pTooltip=\"On selected criteria below programs will be applied.\"\r\n          />\r\n        </p>\r\n      </div>\r\n      <div class=\"mt-1 addnewroute-table\">\r\n        <div class=\"ptable\">\r\n          <p-card class=\"p-col-12\" *ngIf=\"!applyCriteriaResponse\">\r\n            {{ \"noDataMsg\" }}\r\n          </p-card>\r\n          <div class=\"appliedCriteriaDataTable\">\r\n            <p-table\r\n              #dt\r\n              [value]=\"applyCriteriaFormattedData\"\r\n              [rowHover]=\"true\"\r\n              [scrollable]=\"true\"\r\n              scrollHeight=\"315px\"\r\n            >\r\n              <ng-template pTemplate=\"header\">\r\n                <tr>\r\n                  <th\r\n                    *ngFor=\"let col of applyCriteriaDataTableColumns\"\r\n                    style=\"min-width: 120px\"\r\n                    alignFrozen=\"right\"\r\n                    pFrozenColumn\r\n                    [frozen]=\"col['frozen']\"\r\n                  >\r\n                    {{ col.header }}\r\n                    <span *ngIf=\"isMandatoryCol(col.header)\" class=\"red-star\"\r\n                      >*</span\r\n                    >\r\n                  </th>\r\n                </tr>\r\n              </ng-template>\r\n              <ng-template pTemplate=\"body\" let-rowData let-rowIndex=\"rowIndex\">\r\n                <tr>\r\n                  <td\r\n                    *ngFor=\"\r\n                      let col of applyCriteriaDataTableColumns;\r\n                      index as i\r\n                    \"\r\n                    alignFrozen=\"right\"\r\n                    pFrozenColumn\r\n                    [frozen]=\"col['frozen']\"\r\n                  >\r\n                    <div\r\n                      *ngIf=\"col['fieldType'] == 'dropdown'\"\r\n                      class=\"appliedCriteriaSelect\"\r\n                      [pTooltip]=\"\r\n                        rowData['rewardsAs'] != 'Discount' && col['info']\r\n                      \"\r\n                    >\r\n                      <p-dropdown\r\n                        [options]=\"rowData[col.field + 'Option']\"\r\n                        optionLabel=\"codeName\"\r\n                        appendTo=\"body\"\r\n                        [placeholder]=\"\r\n                          rowData[col['field']] &&\r\n                          rowData[col['field']] != 'null'\r\n                            ? rowData[col['field']]\r\n                            : 'Select'\r\n                        \"\r\n                        (onChange)=\"\r\n                          selectedColumn(col['field'], $event.value, rowIndex)\r\n                        \"\r\n                        [disabled]=\"\r\n                          rowData['linked'] == 'Y' ||\r\n                          (col['field'] == 'discountAs' &&\r\n                            rowData['rewardsAs'] != 'Discount') ||\r\n                          rowData['isActive'] == 'N' ||\r\n                          deactivated\r\n                        \"\r\n                      >\r\n                        <ng-template let-options pTemplate=\"item\">\r\n                          <div class=\"truncate-text\">\r\n                            <div>{{ options.codeName }}</div>\r\n                          </div>\r\n                        </ng-template></p-dropdown\r\n                      >\r\n                    </div>\r\n                    <div\r\n                      *ngIf=\"col['fieldType'] == 'input'\"\r\n                      [pTooltip]=\"col['info'] ? col['info'] : ''\"\r\n                      class=\"appliedCriteriaInput\"\r\n                    >\r\n                      <p-inputNumber\r\n                        #valInp\r\n                        [min]=\"0\"\r\n                        [(ngModel)]=\"rowData[col['field']]\"\r\n                        [useGrouping]=\"false\"\r\n                        mode=\"decimal\"\r\n                        [maxFractionDigits]=\"1\"\r\n                        (onInput)=\"\r\n                          changeValueInput(\r\n                            applyCriteriaDataTableColumns[i - 1]['field'],\r\n                            col['field'],\r\n                            $event,\r\n                            rowIndex,\r\n                            valInp\r\n                          )\r\n                        \"\r\n                        [disabled]=\"\r\n                          rowData['linked'] == 'Y' ||\r\n                          deactivated ||\r\n                          rowData['isActive'] == 'N'\r\n                        \"\r\n                      ></p-inputNumber>\r\n                    </div>\r\n                    <div\r\n                      *ngIf=\"col['fieldType'] == 'text'\"\r\n                      [pTooltip]=\"col['info'] ? col['info'] : ''\"\r\n                    >\r\n                      <input\r\n                        [(ngModel)]=\"rowData[col.field]\"\r\n                        type=\"text\"\r\n                        pInputText\r\n                        [disabled]=\"true\"\r\n                      />\r\n                    </div>\r\n                    <div\r\n                      *ngIf=\"col['fieldType'] == 'button'\"\r\n                      class=\"appliedCriteriaButton\"\r\n                    >\r\n                      <ng-container\r\n                        *ngFor=\"let btn of rowData[col['field']]?.split(',')\"\r\n                      >\r\n                        <button\r\n                          pButton\r\n                          type=\"button\"\r\n                          [icon]=\"'pi pi-' + (btn == 'delete' ? 'trash' : btn)\"\r\n                          (click)=\"\r\n                            checkOperation(btn, rowIndex, rowData, col['field'])\r\n                          \"\r\n                          class=\"operation-btns mr-2\"\r\n                          [disabled]=\"deactivated\"\r\n                        ></button>\r\n                      </ng-container>\r\n                    </div>\r\n                    <div\r\n                      *ngIf=\"col.field == 'isActive'\"\r\n                      style=\"border: none; text-align: left\"\r\n                    >\r\n                      <label class=\"switch\" style=\"border: none\">\r\n                        <input\r\n                          #statusInp\r\n                          [value]=\"rowData[col['field']]\"\r\n                          type=\"checkbox\"\r\n                          (click)=\"confirmStatus($event, rowData)\"\r\n                          [checked]=\"\r\n                            rowData[col['field']] == 'Y' ? true : false\r\n                          \"\r\n                          [disabled]=\"rowData['linked'] == 'Y' || deactivated\"\r\n                        />\r\n                        <span\r\n                          class=\"slider round\"\r\n                          [ngClass]=\"{ disabled: deactivated }\"\r\n                        ></span>\r\n                      </label>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              </ng-template>\r\n\r\n              <ng-template pTemplate=\"emptymessage\">\r\n                <tr>\r\n                  <td [attr.colspan]=\"applyCriteriaDataTableColumns.length\">\r\n                    No Data found.\r\n                  </td>\r\n                </tr>\r\n              </ng-template>\r\n            </p-table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div\r\n  class=\"NorecordFound\"\r\n  *ngIf=\"\r\n    !showContent && appModuleDataPresent && !applyCriteriaFormattedData.length\r\n  \"\r\n>\r\n  <div class=\"row\">\r\n    <div class=\"col-12\"><img src=\"assets/noRecordFound.svg\" /></div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col-12\">\r\n      <p>No Record Found.</p>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"uploadedImgModal\">\r\n  <p-dialog\r\n    [(visible)]=\"showFilesModal\"\r\n    [modal]=\"true\"\r\n    [style]=\"{ width: '40vw', left: '50px' }\"\r\n    (onHide)=\"closeDialog()\"\r\n  >\r\n    <ng-template pTemplate=\"header\">\r\n      <div class=\"application-header\">Uploaded Files</div>\r\n    </ng-template>\r\n    <p-table\r\n      [value]=\"getUploadedImgData\"\r\n      class=\"criteria-view-table\"\r\n      [rowHover]=\"true\"\r\n      [style]=\"{ width: '100%' }\"\r\n    >\r\n      <ng-template pTemplate=\"header\">\r\n        <tr>\r\n          <th\r\n            *ngFor=\"let col of uploadedfileDataCols\"\r\n            [style.text-align]=\"col['field'] == 'action' ? 'center' : ''\"\r\n          >\r\n            {{ col.header }}\r\n          </th>\r\n        </tr>\r\n      </ng-template>\r\n      <ng-template pTemplate=\"body\" let-file let-rowIndex=\"rowIndex\">\r\n        <tr>\r\n          <ng-container *ngFor=\"let col of uploadedfileDataCols; let i = index\">\r\n            <td *ngIf=\"col['field'] != 'action'\">\r\n              <input\r\n                type=\"text\"\r\n                [placeholder]=\"file[col['field']]\"\r\n                [disabled]=\"true\"\r\n              />\r\n            </td>\r\n            <td\r\n              *ngIf=\"col['field'] == 'action'\"\r\n              style=\"border: none; text-align: center; padding-left: 1rem\"\r\n            >\r\n              <span class=\"image-text\">\r\n                <!-- <ng-container *ngFor=\"let icon of col['value'].split(',')\"> -->\r\n                <button\r\n                  pButton\r\n                  type=\"button\"\r\n                  [icon]=\"'pi pi-download'\"\r\n                  class=\"operation-btns mr-2\"\r\n                  (click)=\"fileOperation(file, rowIndex, 'download')\"\r\n                ></button>\r\n                <button\r\n                  *ngIf=\"file.id\"\r\n                  pButton\r\n                  type=\"button\"\r\n                  [icon]=\"'pi pi-pencil'\"\r\n                  class=\"operation-btns mr-2\"\r\n                  (click)=\"fileOperation(file, rowIndex, 'edit')\"\r\n                ></button>\r\n                <button\r\n                  pButton\r\n                  type=\"button\"\r\n                  [icon]=\"'pi pi-trash'\"\r\n                  class=\"operation-btns mr-2\"\r\n                  (click)=\"fileOperation(file, rowIndex, 'delete')\"\r\n                ></button>\r\n                <!-- </ng-container> -->\r\n              </span>\r\n            </td>\r\n          </ng-container>\r\n        </tr>\r\n      </ng-template>\r\n      <ng-template pTemplate=\"emptymessage\">\r\n        <tr>\r\n          <td [attr.colspan]=\"uploadedfileDataCols.length\">\r\n            No files uploaded.\r\n          </td>\r\n        </tr>\r\n      </ng-template>\r\n    </p-table>\r\n  </p-dialog>\r\n</div>\r\n\r\n<p-confirmDialog\r\n  key=\"linkedWarning\"\r\n  class=\"linked-confirm confirm-popup\"\r\n  #cd\r\n  icon=\"pi pi-exclamation-triangle\"\r\n  [closable]=\"false\"\r\n>\r\n  <p-footer>\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-check\"\r\n      label=\"Ok\"\r\n      (click)=\"cd.accept()\"\r\n    ></button>\r\n  </p-footer>\r\n</p-confirmDialog>\r\n\r\n<p-confirmDialog\r\n  key=\"resetDataConfirmation\"\r\n  class=\"confirm-popup\"\r\n  #cd2\r\n  icon=\"pi pi-exclamation-triangle\"\r\n  [closable]=\"false\"\r\n>\r\n  <p-footer>\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-check\"\r\n      label=\"Yes\"\r\n      (click)=\"cd2.accept()\"\r\n    ></button>\r\n\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-times\"\r\n      label=\"Cancel\"\r\n      (click)=\"cd2.reject()\"\r\n    ></button>\r\n  </p-footer>\r\n</p-confirmDialog>\r\n<p-confirmDialog\r\n  key=\"activeDeactiveStatus\"\r\n  class=\"status-confirm confirm-popup\"\r\n  #cd3\r\n  [closable]=\"false\"\r\n>\r\n  <p-footer>\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-check\"\r\n      label=\"Yes\"\r\n      (click)=\"cd3.accept()\"\r\n    ></button>\r\n\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-times\"\r\n      label=\"No\"\r\n      (click)=\"cd3.reject()\"\r\n    ></button>\r\n  </p-footer>\r\n</p-confirmDialog>\r\n<p-confirmDialog\r\n  key=\"activeDeactiveStatusLoyalty\"\r\n  class=\"status-confirm confirm-popup\"\r\n  #cd4\r\n  [closable]=\"false\"\r\n>\r\n  <p-footer>\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-check\"\r\n      label=\"Yes\"\r\n      (click)=\"cd4.accept()\"\r\n    ></button>\r\n\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-times\"\r\n      label=\"No\"\r\n      (click)=\"cd4.reject()\"\r\n    ></button>\r\n  </p-footer>\r\n</p-confirmDialog>\r\n","import { Component, OnInit } from \"@angular/core\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { LoyaltyService } from \"../loyalty.service\";\r\nimport { ConfirmationService } from \"primeng/api\";\r\nimport { CoreService } from \"src/app/core.service\";\r\nimport { HttpClient } from \"@angular/common/http\";\r\nimport { MultiSelect } from \"primeng/multiselect\";\r\nimport { Observable } from \"rxjs\";\r\n\r\nimport _lodashClone from \"lodash-es/cloneDeep\";\r\n\r\n@Component({\r\n  selector: \"app-loyalty-details-list\",\r\n  templateUrl: \"./loyalty-details-list.component.html\",\r\n  styleUrls: [\"./loyalty-details-list.component.scss\"],\r\n})\r\nexport class LoyaltyDetailsListComponent implements OnInit {\r\n  showcustomerCodeOptions: boolean = false;\r\n  showcustomerNameOptions: boolean = false;\r\n  showredeemDateOptions: boolean = false;\r\n  showmobileNumberOptions: boolean = false;\r\n  showpromotionRedeemedOptions: boolean = false;\r\n  showpromotionDetailsOptions: boolean = false;\r\n  // showtotalBenificiaryOptions: boolean = false;\r\n  // showstatusOptions: boolean = false;\r\n\r\n  selectedFiltercustomerCode: any[] = [];\r\n  selectedFiltercustomerName: any[] = [];\r\n  selectedFilterredeemDate: any[] = [];\r\n  selectedFiltermobileNumber: any[] = [];\r\n  selectedFilterpromotionRedeemed: any[] = [];\r\n  selectedFilterpromotionDetails: any[] = [];\r\n  // selectedFiltertotalBenificiary: any[] = [];\r\n  // selectedFilterstatus: any[] = [];\r\n\r\n  customerCode = [];\r\n  customerName = [];\r\n  mobileNumber = [];\r\n  redeemDate = [];\r\n  promotionRedeemed = [];\r\n  promotionDetails = [];\r\n\r\n  userData: any = {};\r\n\r\n  loyaltyListData: any = [];\r\n\r\n  pageNumber = 0;\r\n  pageSize = 10;\r\n  totalPages = 5;\r\n  totalRecords = 0;\r\n  sortBy = \"id\";\r\n  orderBy = \"DESC\";\r\n\r\n  criteriaMap = \"NA\";\r\n\r\n  fieldDisplayData = {};\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private coreService: CoreService,\r\n    private route: ActivatedRoute,\r\n    private confirmationService: ConfirmationService,\r\n    private loyaltyService: LoyaltyService,\r\n    private http: HttpClient\r\n  ) {}\r\n\r\n  cols: any[] = [\r\n    { field: \"customerCode\", header: \"Customer Code\", width: \"14%\" },\r\n    {\r\n      field: \"customerName\",\r\n      header: \"Customer Name\",\r\n      width: \"24%\",\r\n    },\r\n    { field: \"mobileNumber\", header: \"Mobile Number\", width: \"14%\" },\r\n    { field: \"redeemDate\", header: \"Redeem Date\", width: \"13%\" },\r\n    { field: \"promotionRedeemed\", header: \"Promotion Redeemed\", width: \"13%\" },\r\n    { field: \"promotionDetails\", header: \"Promotion Details\", width: \"22%\" },\r\n  ];\r\n\r\n  sortOrder: any = {\r\n    customerCode: 0,\r\n    customerName: 0,\r\n    mobileNumber: 0,\r\n    redeemDate: 0,\r\n    promotionRedeemed: 0,\r\n    promotionDetails: 0,\r\n  };\r\n  copySortOrder: any = {\r\n    customerCode: 0,\r\n    customerName: 0,\r\n    mobileNumber: 0,\r\n    redeemDate: 0,\r\n    promotionRedeemed: 0,\r\n    promotionDetails: 0,\r\n  };\r\n\r\n  searchField = \"Customer ID\";\r\n\r\n  // totalRecords = 55;\r\n  customerTableLoading = false;\r\n  globalSearch = false;\r\n\r\n  ngOnInit(): void {\r\n    this.coreService.displayLoadingScreen();\r\n    this.route.data.subscribe((data) => {\r\n      this.coreService.setBreadCrumbMenu(Object.values(data));\r\n    });\r\n\r\n    this.userData = JSON.parse(localStorage.getItem(\"userData\"));\r\n\r\n    // this.getLoyaltyCustomerListData(this.criteriaMap);\r\n  }\r\n\r\n  loadCustomers(e: any) {\r\n    // this.resetSortIcons();\r\n    if (!this.globalSearch) {\r\n      this.pageNumber = e.first ? e.first / this.pageSize + 1 : 1;\r\n      console.log(\r\n        \"::event, pageSize, pageNumber\",\r\n        e,\r\n        this.pageSize,\r\n        this.pageNumber\r\n      );\r\n      let updatedCriteriaMap = this.criteriaMap;\r\n      if (e.rows) {\r\n        this.pageSize = e.rows;\r\n      }\r\n      if (e.sortField) {\r\n        if (e.sortOrder == 1) {\r\n          this.orderBy = \"DESC\";\r\n        } else {\r\n          this.orderBy = \"ASC\";\r\n        }\r\n        switch (e.sortField) {\r\n          case \"customerCode\":\r\n            this.sortBy = \"customerCode\";\r\n            break;\r\n          case \"customerName\":\r\n            this.sortBy = \"customerName\";\r\n            break;\r\n          case \"mobileNumber\":\r\n            this.sortBy = \"mobileNumber\";\r\n            break;\r\n          case \"redeemDate\":\r\n            this.sortBy = \"redeemDate\";\r\n            break;\r\n          case \"promotionRedeemed\":\r\n            this.sortBy = \"promotionRedeemed\";\r\n            break;\r\n          case \"promotionDetails\":\r\n            this.sortBy = \"promotionDetails\";\r\n            break;\r\n\r\n          default:\r\n            this.sortBy = \"customerCode\";\r\n            break;\r\n        }\r\n      } else {\r\n        this.sortBy = \"customerCode\";\r\n        this.orderBy = \"DESC\";\r\n      }\r\n      if (e.filters && Object.keys(e.filters).length > 0) {\r\n        let filterCrtMap = \"\";\r\n        for (const prop in e.filters) {\r\n          switch (prop) {\r\n            case \"customerCode\":\r\n              filterCrtMap = `customerCode = ${e.filters[prop][\"value\"]}`;\r\n              break;\r\n            case \"customerName\":\r\n              filterCrtMap = `customerName = ${e.filters[prop][\"value\"]}`;\r\n              break;\r\n            case \"mobileNumber\":\r\n              filterCrtMap = `contactMobileNumber = ${e.filters[prop][\"value\"]}`;\r\n              break;\r\n            case \"redeemDate\":\r\n              filterCrtMap = `redeemDate = ${e.filters[prop][\"value\"]}`;\r\n              break;\r\n            case \"promotionRedeemed\":\r\n              filterCrtMap = `promotionRedeemed = ${e.filters[prop][\"value\"]}`;\r\n              break;\r\n            case \"promotionDetails\":\r\n              filterCrtMap = `promotionDetails = ${e.filters[prop][\"value\"]}`;\r\n              break;\r\n\r\n            default:\r\n              filterCrtMap = \"\";\r\n              break;\r\n          }\r\n          if (updatedCriteriaMap?.length && updatedCriteriaMap != \"NA\") {\r\n            if (filterCrtMap?.length) {\r\n              updatedCriteriaMap += `;${filterCrtMap}`;\r\n            }\r\n          } else {\r\n            updatedCriteriaMap = filterCrtMap;\r\n          }\r\n        }\r\n        console.log(\"updatedCriteriaMap\", updatedCriteriaMap);\r\n        this.getLoyaltyCustomerListData(updatedCriteriaMap);\r\n      } else {\r\n        this.getLoyaltyCustomerListData(this.criteriaMap);\r\n      }\r\n    }\r\n    this.sortBy = \"customerCode\";\r\n    this.orderBy = \"DESC\";\r\n    this.globalSearch = false;\r\n  }\r\n\r\n  getLoyaltyCustomerListData(criteriaMap: any) {\r\n    this.coreService.displayLoadingScreen();\r\n    let service: Observable<any>;\r\n\r\n    console.log(\r\n      \"::header\",\r\n      this.userData[\"userId\"],\r\n      criteriaMap,\r\n      `${this.pageNumber}`,\r\n      `${this.pageSize}`,\r\n      this.sortBy,\r\n      this.orderBy\r\n    );\r\n    service = this.loyaltyService.getCustomerLoyaltyDetailsData(\r\n      (this.userData[\"userId\"] = \"Yogeshm\"),\r\n      criteriaMap,\r\n      `${this.pageNumber}`,\r\n      `${this.pageSize}`,\r\n      this.sortBy,\r\n      this.orderBy\r\n    );\r\n\r\n    service.subscribe(\r\n      (res) => {\r\n        this.coreService.removeLoadingScreen();\r\n        if (res[\"status\"] == \"200\") {\r\n          if (res[\"error\"]) {\r\n            this.coreService.showWarningToast(res[\"error\"]);\r\n            this.loyaltyListData = [];\r\n          } else {\r\n            this.loyaltyListData = res.data?.CmCustomerLoyaltyProgramDetails;\r\n            this.totalPages = res.data?.TotalPages;\r\n            this.totalRecords = res.data?.TotalCount;\r\n            // this.totalRecords = res.data.PaginationDetails.totalCount;\r\n            // this.customerCode = res.customerCode?.map((code) => {\r\n            //   if (code) return { label: code, value: code };\r\n            // });\r\n            // this.fullName = res.customerFullName?.map((code) => {\r\n            //   if (code) return { label: code, value: code };\r\n            // });\r\n            // this.nationality = res.nationality?.map((code) => {\r\n            //   if (code) return { label: code, value: code };\r\n            // });\r\n            // this.mobileNumber = res.mobileNumber?.map((code) => {\r\n            //   if (code) return { label: code, value: code };\r\n            // });\r\n            // this.idType = res.idType?.map((code) => {\r\n            //   if (code) return { label: code, value: code };\r\n            // });\r\n            // this.idNumber = res.idNumber?.map((code) => {\r\n            //   if (code) return { label: code, value: code };\r\n            // });\r\n            if (this.loyaltyListData) {\r\n              this.loyaltyListData.forEach((data) => {\r\n                data[\"promotionDetails\"] = data[\"promotionDetails\"]\r\n                  .split(\"#\")\r\n                  .join(\"\\n\");\r\n              });\r\n            }\r\n          }\r\n        }\r\n      },\r\n      (err) => {\r\n        this.coreService.removeLoadingScreen();\r\n        // this.coreService.showWarningToast(\"Error in fething data\");\r\n      }\r\n    );\r\n  }\r\n\r\n  toggleFilterVisibility(field) {\r\n    this[`show${field}Options`] = !this[`show${field}Options`];\r\n  }\r\n\r\n  hideFilterVisibility(field) {\r\n    this[`show${field}Options`] = false;\r\n  }\r\n\r\n  getSelectedFilterArr(field: any) {\r\n    return this[`selectedFilter${field}`];\r\n  }\r\n\r\n  setSelectedFilter(ms: MultiSelect, field: any) {\r\n    this[`selectedFilter${field}`] = ms.value;\r\n  }\r\n\r\n  fieldFilterVisible(field: any) {\r\n    return this[`show${field}Options`];\r\n  }\r\n\r\n  fieldFilterOptions(field: any): [] {\r\n    return this[field];\r\n  }\r\n}\r\n","<div class=\"visible-main-section\">\r\n  <div class=\"pagetitle\">\r\n    <div class=\"infoicon\">\r\n      <i class=\"pi pi-info-circle\"></i>\r\n      List of Customer Loyalty program Details.\r\n    </div>\r\n  </div>\r\n  <div class=\"ptable\">\r\n    <p-table\r\n      #dt\r\n      [columns]=\"cols\"\r\n      [value]=\"loyaltyListData\"\r\n      dataKey=\"customerCode\"\r\n      [lazy]=\"true\"\r\n      (onLazyLoad)=\"loadCustomers($event)\"\r\n      [totalRecords]=\"totalRecords\"\r\n      [paginator]=\"true\"\r\n      [rows]=\"pageSize\"\r\n      [resizableColumns]=\"true\"\r\n      columnResizeMode=\"fit\"\r\n      [rowHover]=\"true\"\r\n      [loading]=\"customerTableLoading\"\r\n      [rowsPerPageOptions]=\"[10, 20, 50, 100]\"\r\n    >\r\n      <ng-template pTemplate=\"header\" let-columns>\r\n        <tr>\r\n          <th\r\n            *ngFor=\"let col of columns; let c = index\"\r\n            pReorderableColumn\r\n            [pSortableColumn]=\"col.field\"\r\n            pResizableColumn\r\n            [style.width]=\"col.width\"\r\n          >\r\n            {{ col.header }}\r\n            <p-sortIcon [field]=\"col.field\"></p-sortIcon>\r\n            <!-- <div\r\n                *ngIf=\"c == 0 || col.field == 'status'\"\r\n                (click)=\"$event.stopPropagation()\"\r\n                class=\"filter-icon\"\r\n              >\r\n                <i\r\n                  [ngStyle]=\"{\r\n                    color: getSelectedFilterArr(col.field).length\r\n                      ? 'var(--primary-color)'\r\n                      : 'rgb(105 105 105)',\r\n                    fontSize: '11px'\r\n                  }\"\r\n                  class=\"pi pi-filter-fill\"\r\n                  (click)=\"toggleFilterVisibility(col.field)\"\r\n                ></i>\r\n                <p-multiSelect\r\n                  #ms\r\n                  [options]=\"fieldFilterOptions(col.field)\"\r\n                  [filter]=\"true\"\r\n                  [displaySelectedLabel]=\"false\"\r\n                  [overlayVisible]=\"fieldFilterVisible(col.field)\"\r\n                  [defaultLabel]=\"'Search'\"\r\n                  [appendTo]=\"'body'\"\r\n                  [autoWidth]=\"false\"\r\n                  (onChange)=\"\r\n                    dt.filter($event.value, col.field, 'in');\r\n                    setSelectedFilter(ms, col.field)\r\n                  \"\r\n                  (onPanelHide)=\"hideFilterVisibility(col.field)\"\r\n                >\r\n                </p-multiSelect>\r\n              </div> -->\r\n          </th>\r\n        </tr>\r\n        <tr class=\"search-row\">\r\n          <th *ngFor=\"let col of cols\" [style.width]=\"col.width\">\r\n            <span style=\"width: 100%\" class=\"p-input-icon-left\">\r\n              <i class=\"pi pi-search\"></i>\r\n              <input\r\n                type=\"text\"\r\n                class=\"p-inputtext table-search\"\r\n                placeholder=\"Search\"\r\n                (input)=\"dt.filter($event.target.value, col.field, 'contains')\"\r\n              />\r\n            </span>\r\n          </th>\r\n        </tr>\r\n      </ng-template>\r\n      <ng-template\r\n        pTemplate=\"body\"\r\n        let-rowData\r\n        let-columns=\"columns\"\r\n        let-index=\"rowIndex\"\r\n      >\r\n        <tr [pReorderableRow]=\"index\">\r\n          <ng-container *ngFor=\"let col of columns; let i = index\">\r\n            <td>\r\n              <div\r\n                style=\"display: inline-block\"\r\n                [ngStyle]=\"{ 'white-space': i == 5 ? 'pre-line' : '' }\"\r\n              >\r\n                {{ rowData[col[\"field\"]] }}\r\n              </div>\r\n              <!-- <a\r\n                  *ngIf=\"i == 0\"\r\n                  style=\"text-decoration: underline !important\"\r\n                  [ngStyle]=\"{\r\n                    color: isLinked(rowData[col['field']])\r\n                      ? '#f89406'\r\n                      : 'var(--primary-color)',\r\n                    fontSize: '11px',\r\n                    cursor: 'pointer'\r\n                  }\"\r\n                  [pTooltip]=\"'Active Transactions Exist.'\"\r\n                  [tooltipDisabled]=\"!isLinked(rowData[col['field']])\"\r\n                  (click)=\"viewLoyaltyProgram(rowData)\"\r\n                  >{{ rowData[col[\"field\"]] }}</a\r\n                > -->\r\n              <!-- <span\r\n                  *ngIf=\"i == 1\"\r\n                  [pTooltip]=\"\r\n                    rowData[col['field']] &&\r\n                    rowData[col['field']].substring(\r\n                      31,\r\n                      rowData[col['field']].length\r\n                    )\r\n                  \"\r\n                  tooltipPosition=\"bottom\"\r\n                  >{{\r\n                    rowData[col[\"field\"]] &&\r\n                      rowData[col[\"field\"]].substring(0, 30)\r\n                  }}\r\n                  {{\r\n                    rowData[col[\"field\"]] && rowData[col[\"field\"]].length > 30\r\n                      ? \"..\"\r\n                      : \"\"\r\n                  }}</span\r\n                > -->\r\n              <!-- <span\r\n                  *ngIf=\"i == 2\"\r\n                  [pTooltip]=\"rowData[col['field']].split(',').slice(4).join()\"\r\n                  tooltipPosition=\"bottom\"\r\n                  >{{ rowData[col[\"field\"]].split(\",\").slice(0, 4).join() }}\r\n                  {{\r\n                    rowData[col[\"field\"]].split(\",\").length > 4 ? \"..\" : \"\"\r\n                  }}</span\r\n                > -->\r\n            </td>\r\n          </ng-container>\r\n        </tr>\r\n      </ng-template>\r\n      <ng-template pTemplate=\"emptymessage\">\r\n        <tr>\r\n          <td [attr.colspan]=\"cols.length\">\r\n            Customer Loyalty program Details Not Available.\r\n          </td>\r\n        </tr>\r\n      </ng-template>\r\n      <ng-template pTemplate=\"paginatorleft\" let-state\r\n        >Showing\r\n        {{ loyaltyListData.length ? state.page * state.rows + 1 : 0 }} -\r\n        {{\r\n          state.rows * (state.page + 1) > state.totalRecords\r\n            ? state.totalRecords\r\n            : state.rows * (state.page + 1)\r\n        }}\r\n        of {{ state.totalRecords }} Customers\r\n      </ng-template>\r\n    </p-table>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit, ViewChild } from \"@angular/core\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { CoreService } from \"../core.service\";\r\nimport { SetCriteriaService } from \"../shared/components/set-criteria/set-criteria.service\";\r\nimport { ConfirmationService, MessageService } from \"primeng/api\";\r\nimport {\r\n  UntypedFormBuilder,\r\n  UntypedFormControl,\r\n  Validators,\r\n} from \"@angular/forms\";\r\nimport { ConfirmDialog } from \"primeng/confirmdialog\";\r\nimport { LoyaltyService } from \"./loyalty.service\";\r\nimport { forkJoin } from \"rxjs\";\r\nimport { map, take } from \"rxjs/operators\";\r\nimport { MultiSelect } from \"primeng/multiselect\";\r\nimport { HttpClient, HttpHeaders } from \"@angular/common/http\";\r\n\r\nimport _lodashClone from \"lodash-es/cloneDeep\";\r\n\r\n@Component({\r\n  selector: \"app-loyalty-program\",\r\n  templateUrl: \"./loyalty-program.component.html\",\r\n  styleUrls: [\"./loyalty-program.component.scss\"],\r\n})\r\nexport class LoyaltyProgramComponent implements OnInit {\r\n  formName = \"Loyalty Programs Manager\";\r\n  loyaltyListData: any[] = [];\r\n\r\n  objectKeys = Object.keys;\r\n  @ViewChild(\"cd\") cd: ConfirmDialog;\r\n\r\n  showNoDataFound: boolean = false;\r\n\r\n  userData: any = {};\r\n\r\n  selectAppModule: any;\r\n  searchApplicationOptions: any[] = [];\r\n  searchModuleOptions: any[] = [];\r\n\r\n  showprogramCodeOptions: boolean = false;\r\n  showprogramTypeOptions: boolean = false;\r\n  showprogramDescriptionOptions: boolean = false;\r\n  showcriteriaMapOptions: boolean = false;\r\n  showstatusOptions: boolean = false;\r\n\r\n  programCode = [];\r\n  programType = [];\r\n  programDescription = [];\r\n  criteriaMap = [];\r\n  status = [];\r\n\r\n  selectedFilterprogramCode: any[] = [];\r\n  selectedFilterprogramType: any[] = [];\r\n  selectedFilterprogramDescription: any[] = [];\r\n  selectedFiltercriteriaMap: any[] = [];\r\n  selectedFilterstatus: any[] = [];\r\n  loyaltyApiData: any = {};\r\n  loading: boolean = true;\r\n\r\n  noDataMsg: string = \"Loyalty program Data Not Available\";\r\n\r\n  linkedProgramCode: any = [];\r\n\r\n  cols: any[] = [\r\n    { field: \"programCode\", header: \"Program Code\", width: \"8%\" },\r\n    {\r\n      field: \"programDescription\",\r\n      header: \"Program Description\",\r\n      width: \"18%\",\r\n    },\r\n    { field: \"programType\", header: \"Program Type\", width: \"8%\" },\r\n    { field: \"criteriaMap\", header: \"Program Rules\", width: \"20%\" },\r\n    // { field: \"rewardType\", header: \"Rewards\", width: \"8%\" },\r\n    { field: \"createdOn\", header: \"Created On\", width: \"9%\" },\r\n    { field: \"createdBy\", header: \"Created By\", width: \"8%\" },\r\n    { field: \"expiryOn\", header: \"Expiry\", width: \"9%\" },\r\n    { field: \"status\", header: \"Status\", width: \"5%\" },\r\n    { field: \"operation\", header: \"Program Images\", width: \"7%\" },\r\n  ];\r\n\r\n  uploadedfileData: any = [];\r\n\r\n  uploadedfileDataCols: any = [\r\n    {\r\n      field: \"imageOriginalName\",\r\n      header: \"Image name\",\r\n    },\r\n    {\r\n      field: \"action\",\r\n      header: \"Action\",\r\n    },\r\n  ];\r\n\r\n  showFilesModal: boolean = false;\r\n\r\n  fieldDisplayData = {};\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private coreService: CoreService,\r\n    private route: ActivatedRoute,\r\n    private setCriteriaService: SetCriteriaService,\r\n    private confirmationService: ConfirmationService,\r\n    private messageService: MessageService,\r\n    private fb: UntypedFormBuilder,\r\n    private loyaltyService: LoyaltyService,\r\n    private http: HttpClient\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.coreService.displayLoadingScreen();\r\n    const translationKey = \"Loyalty\";\r\n\r\n    // Update translation\r\n    this.coreService\r\n      .translate(translationKey)\r\n      .then((translatedTitle: string) => {\r\n        this.coreService.setPageTitle(translatedTitle);\r\n      });\r\n    this.route.data.subscribe((data) => {\r\n      this.coreService.setBreadCrumbMenu(Object.values(data));\r\n    });\r\n    this.userData = JSON.parse(localStorage.getItem(\"userData\"));\r\n\r\n    this.loyaltyService.applicationName = null;\r\n    this.loyaltyService.moduleName = null;\r\n\r\n    this.setSelectAppModule();\r\n\r\n    //\r\n    this.searchApplicationOptions = JSON.parse(\r\n      localStorage.getItem(\"appAccess\")\r\n    );\r\n    this.searchModuleOptions = JSON.parse(localStorage.getItem(\"modAccess\"));\r\n    if (localStorage.getItem(\"applicationName\")) {\r\n      let defApplication = JSON.parse(localStorage.getItem(\"applicationName\"));\r\n      console.log(defApplication);\r\n      if (defApplication) {\r\n        this.appCtrl.patchValue(defApplication);\r\n      }\r\n    }\r\n    if (localStorage.getItem(\"moduleName\")) {\r\n      let defModule = this.searchModuleOptions.filter(\r\n        (opt) => opt.name == \"Loyalty Programs\"\r\n      )[0];\r\n      if (defModule) {\r\n        this.moduleCtrl.patchValue(defModule);\r\n      }\r\n    }\r\n\r\n    if (this.appCtrl.value && this.moduleCtrl.value) {\r\n      this.searchAppModule();\r\n    } else {\r\n      this.coreService.showWarningToast(\"No Access to Loyalty Module\");\r\n      this.coreService.removeLoadingScreen();\r\n    }\r\n    //\r\n  }\r\n\r\n  setSelectAppModule() {\r\n    this.selectAppModule = this.fb.group({\r\n      applications: new UntypedFormControl({ value: \"\", disabled: false }, [\r\n        Validators.required,\r\n      ]),\r\n      modules: new UntypedFormControl({ value: \"\", disabled: false }, [\r\n        Validators.required,\r\n      ]),\r\n    });\r\n  }\r\n\r\n  get appCtrl() {\r\n    return this.selectAppModule.get(\"applications\");\r\n  }\r\n  get moduleCtrl() {\r\n    return this.selectAppModule.get(\"modules\");\r\n  }\r\n\r\n  searchAppModule() {\r\n    // save app & mod in localstorage\r\n    localStorage.setItem(\r\n      \"applicationName\",\r\n      this.appCtrl.value ? this.appCtrl.value.code : \"CASMEX_CORE\"\r\n    );\r\n    localStorage.setItem(\r\n      \"moduleName\",\r\n      this.moduleCtrl.value ? this.moduleCtrl.value.code : \"Remittance\"\r\n    );\r\n    this.getDecodedDataForListing(\r\n      this.userData.userId,\r\n      this.appCtrl.value.code,\r\n      this.moduleCtrl.value.code\r\n    );\r\n  }\r\n\r\n  getDecodedDataForListing(userId: any, appValue: any, moduleValue: any) {\r\n    this.coreService.displayLoadingScreen();\r\n    forkJoin({\r\n      criteriaMasterData: this.loyaltyService.getCriteriaMasterData(\r\n        this.userData.userId,\r\n        this.formName,\r\n        appValue,\r\n        moduleValue\r\n      ),\r\n      loyaltyListingData: this.loyaltyService.getLoyaltyProgramData(\r\n        userId,\r\n        this.formName,\r\n        appValue,\r\n        moduleValue\r\n      ),\r\n    })\r\n      .pipe(\r\n        take(1),\r\n        map((response) => {\r\n          let criteriaMasterJson = _lodashClone(response.criteriaMasterData);\r\n          delete criteriaMasterJson[\"fieldDisplay\"];\r\n          this.fieldDisplayData = response.criteriaMasterData[\"fieldDisplay\"];\r\n          const criteriaMasterData = criteriaMasterJson;\r\n          const loyaltyListingData = response.loyaltyListingData;\r\n\r\n          if (loyaltyListingData[\"data\"]) {\r\n            console.log(\"loyaltyListingData\", loyaltyListingData);\r\n            this.loyaltyApiData = loyaltyListingData;\r\n            this.loyaltyApiData.data.forEach((data) => {\r\n              let amtSlabPresent = false;\r\n              let dateSlabPresent = false;\r\n\r\n              if (data[\"criteriaMap\"].indexOf(\"from:\") >= 0) {\r\n                amtSlabPresent = true;\r\n              }\r\n\r\n              if (data[\"criteriaMap\"].indexOf(\"trnStartDate=\") >= 0) {\r\n                dateSlabPresent = true;\r\n              }\r\n              let dateSlabs = null;\r\n              if (amtSlabPresent && dateSlabPresent) {\r\n                dateSlabs = data[\"criteriaMap\"].split(\"&&&&\")[2];\r\n              } else {\r\n                if (amtSlabPresent) {\r\n                } else if (dateSlabPresent) {\r\n                  dateSlabs = data[\"criteriaMap\"].split(\"&&&&\")[1];\r\n                } else if (!amtSlabPresent && !dateSlabPresent) {\r\n                }\r\n              }\r\n              data[\"expiryOn\"] = dateSlabs\r\n                ? dateSlabs.split(\"trnEndDate=\").pop()\r\n                : \"-\";\r\n              data[\"isExpired\"] = dateSlabs\r\n                ? new Date(\r\n                    dateSlabs\r\n                      .split(\"trnEndDate=\")\r\n                      .pop()\r\n                      .split(\", \")[0]\r\n                      .split(\"/\")\r\n                      .reverse()\r\n                      .join(\"-\") +\r\n                      \"T\" +\r\n                      dateSlabs.split(\"trnEndDate=\").pop().split(\", \")[1]\r\n                  ) < new Date()\r\n                  ? true\r\n                  : false\r\n                : false;\r\n              // %\r\n              data[\"createdOn\"] = data[\"createdDateTime\"]\r\n                ? new Date(data[\"createdDateTime\"]).toLocaleDateString(\"en-GB\")\r\n                : \"-\";\r\n\r\n              let beforeSplit = data.criteriaMap.split(\"&&&&\")[0];\r\n\r\n              const sections = data.criteriaMap.split(\"&&&&\");\r\n              let amounts = \"\";\r\n              let dates = \"\";\r\n              let afterSplit = \"\";\r\n\r\n              // Process each section\r\n              sections.forEach((section) => {\r\n                if (section.includes(\"from\") && section.includes(\"to\")) {\r\n                  // Extract the amounts\r\n                  const amountsArray = section\r\n                    .split(\"#\")\r\n                    .map((amountSection) => {\r\n                      const [from, to] = amountSection\r\n                        .split(\"::\")\r\n                        .map((part) => part.split(\":\")[1]);\r\n                      return `Between ${from}-${to}`;\r\n                    });\r\n                  amounts = amountsArray.join(\" & \");\r\n                } else if (\r\n                  section.startsWith(\"trnStartDate\") &&\r\n                  section.includes(\"trnEndDate\")\r\n                ) {\r\n                  // Extract the dates\r\n                  console.log(section);\r\n                  const dateSections = section.split(\"#\").map((dateSection) => {\r\n                    const [startDate, endDate] = dateSection\r\n                      .split(\"::\")\r\n                      .map((part) => part.split(\"=\")[1]);\r\n                    return `Between ${startDate} - ${endDate}`;\r\n                  });\r\n                  dates = dateSections.join(\" & \");\r\n                }\r\n              });\r\n\r\n              if (amounts.length && dates.length) {\r\n                afterSplit += `Amount (${amounts}), Date (${dates})`;\r\n              } else if (amounts.length) {\r\n                afterSplit += `Amount (${amounts})`;\r\n              } else if (dates.length) {\r\n                afterSplit += `Date (${dates})`;\r\n              }\r\n              if (beforeSplit.length) {\r\n                let criteriaCodeText = this.setCriteriaService.setCriteriaMap({\r\n                  criteriaMap: beforeSplit,\r\n                });\r\n                data.criteriaMap = (\r\n                  this.setCriteriaService.decodeFormattedCriteria(\r\n                    criteriaCodeText,\r\n                    criteriaMasterData,\r\n                    this.fieldDisplayData\r\n                  ) as []\r\n                ).join(\", \");\r\n                if (afterSplit?.length) {\r\n                  data.criteriaMap = data.criteriaMap + \", \" + afterSplit;\r\n                }\r\n              } else {\r\n                if (afterSplit?.length) {\r\n                  data.criteriaMap = afterSplit;\r\n                }\r\n              }\r\n            });\r\n            this.loyaltyListData = [...this.loyaltyApiData.data];\r\n            this.showNoDataFound = false;\r\n            this.linkedProgramCode = [\r\n              ...this.loyaltyApiData[\"linkedProgramCode\"],\r\n            ];\r\n            this.programCode = this.loyaltyApiData[\"programCode\"].map(\r\n              (code) => {\r\n                return { label: code, value: code };\r\n              }\r\n            );\r\n            this.programType = this.loyaltyApiData[\"programType\"].map(\r\n              (code) => {\r\n                return { label: code, value: code };\r\n              }\r\n            );\r\n            this.programDescription = this.loyaltyApiData.programDesc.map(\r\n              (code) => {\r\n                return { label: code, value: code };\r\n              }\r\n            );\r\n            this.criteriaMap = this.loyaltyApiData.criteriaMap.map((code) => {\r\n              return { label: code, value: code };\r\n            });\r\n            this.status = this.loyaltyApiData.status.map((code) => {\r\n              return { label: code, value: code };\r\n            });\r\n          } else {\r\n            console.log(loyaltyListingData);\r\n          }\r\n          return loyaltyListingData;\r\n        })\r\n      )\r\n      .subscribe(\r\n        (res) => {\r\n          this.coreService.removeLoadingScreen();\r\n          this.loading = false;\r\n          console.log(res);\r\n          if (\r\n            res[\"status\"] &&\r\n            typeof res[\"status\"] == \"string\" &&\r\n            (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n          ) {\r\n            this.showNoDataFound = true;\r\n            this.loyaltyListData = [];\r\n            if (res[\"error\"]) {\r\n              this.coreService.showWarningToast(res[\"error\"]);\r\n            } else {\r\n              this.coreService.showWarningToast(\"Some error in fetching data\");\r\n            }\r\n          } else {\r\n            if (!res[\"data\"]) {\r\n              this.loyaltyListData = [];\r\n              this.showNoDataFound = true;\r\n              if (res[\"msg\"]) this.noDataMsg = res[\"msg\"];\r\n            }\r\n          }\r\n        },\r\n        (err) => {\r\n          this.coreService.removeLoadingScreen();\r\n          this.loyaltyListData = null;\r\n          this.showNoDataFound = true;\r\n          this.loading = false;\r\n          console.log(\"Error in getting loyalty program list data\", err);\r\n          this.coreService.showWarningToast(\r\n            \"Some Error in getting loyalty program list data\"\r\n          );\r\n        }\r\n      );\r\n  }\r\n\r\n  viewLoyaltyProgram(data: any) {\r\n    this.loyaltyService.applicationName = this.appCtrl.value.code;\r\n    this.loyaltyService.moduleName = this.moduleCtrl.value.code;\r\n    this.router.navigate([\r\n      \"navbar\",\r\n      \"loyalty-programs\",\r\n      \"add-loyalty\",\r\n      data.programCode,\r\n      \"edit\",\r\n    ]);\r\n    this.loyaltyService.setData(data);\r\n  }\r\n\r\n  showUploadedFilesModal() {\r\n    this.showFilesModal = true;\r\n    this.coreService.setHeaderStickyStyle(false);\r\n    this.coreService.setSidebarBtnFixedStyle(false);\r\n  }\r\n\r\n  closeDialog() {\r\n    this.showFilesModal = false;\r\n    this.coreService.displayLoadingScreen();\r\n    setTimeout(() => {\r\n      this.coreService.setHeaderStickyStyle(true);\r\n      this.coreService.setSidebarBtnFixedStyle(true);\r\n    }, 500);\r\n    setTimeout(() => {\r\n      this.coreService.removeLoadingScreen();\r\n    }, 1000);\r\n  }\r\n\r\n  fileOperation(fileData: any, fileIndex: any, operation: any) {\r\n    console.log(fileData, fileIndex, operation);\r\n    if (operation == \"view\") {\r\n      this.viewDoc(fileData?.imageName);\r\n    } else if (operation == \"download\") {\r\n      this.downloadDoc(fileData?.imageName);\r\n    }\r\n  }\r\n\r\n  viewDoc(dbFileName: any) {\r\n    this.coreService.displayLoadingScreen();\r\n    let service;\r\n    service = this.http.get(`/appControl/kycUpload/view/${dbFileName}`, {\r\n      headers: new HttpHeaders().set(\"userId\", this.userData.userId),\r\n      responseType: \"blob\",\r\n    });\r\n\r\n    service.subscribe(\r\n      (res) => {\r\n        this.coreService.removeLoadingScreen();\r\n        const blobData = new Blob([res], { type: \"image/jpeg\" });\r\n        const blobUrl = window.URL.createObjectURL(blobData);\r\n\r\n        window.open(blobUrl, \"_blank\");\r\n        window.URL.revokeObjectURL(blobUrl);\r\n      },\r\n      (err) => {\r\n        if (err.status == 404) {\r\n          this.coreService.showWarningToast(\"File not found\");\r\n        } else {\r\n          this.coreService.showWarningToast(\r\n            \"Some error while fetching file, Try again in sometime\"\r\n          );\r\n        }\r\n        this.coreService.removeLoadingScreen();\r\n      }\r\n    );\r\n  }\r\n  downloadDoc(dbFileName: any) {\r\n    this.coreService.displayLoadingScreen();\r\n    let services = this.http.get(\r\n      `/appControl/kycUpload/fileDownload/${dbFileName}`,\r\n      {\r\n        headers: new HttpHeaders().set(\"userId\", this.userData.userId),\r\n        observe: \"response\",\r\n        responseType: \"blob\",\r\n      }\r\n    );\r\n\r\n    services.subscribe(\r\n      (res) => {\r\n        this.coreService.removeLoadingScreen();\r\n        let blob: Blob = res.body as Blob;\r\n        let a = document.createElement(\"a\");\r\n        a.download = res.url && res.url.split(\"/\").pop();\r\n        const blobUrl = window.URL.createObjectURL(blob);\r\n        a.href = blobUrl;\r\n        a.click();\r\n        window.URL.revokeObjectURL(blobUrl);\r\n        this.coreService.showSuccessToast(\"File downloaded successfully\");\r\n      },\r\n      (err) => {\r\n        if (err.status == 404) {\r\n          this.coreService.showWarningToast(\"File not found\");\r\n        } else {\r\n          this.coreService.showWarningToast(\r\n            \"Some error while fetching file, Try again in sometime\"\r\n          );\r\n        }\r\n        this.coreService.removeLoadingScreen();\r\n      }\r\n    );\r\n  }\r\n\r\n  isLinked(id: any) {\r\n    return this.linkedProgramCode.includes(id);\r\n  }\r\n\r\n  confirmStatus(e: any, data: any) {\r\n    e.preventDefault();\r\n    let type = \"\";\r\n    let reqStatus = \"\";\r\n    if (e.target.checked) {\r\n      reqStatus = \"Active\";\r\n      type = \"activate\";\r\n    } else {\r\n      reqStatus = \"Inactive\";\r\n      type = \"deactivate\";\r\n    }\r\n    this.coreService.setSidebarBtnFixedStyle(false);\r\n    this.coreService.setHeaderStickyStyle(false);\r\n    let completeMsg = \"\";\r\n    let isLinkedMsg = `Active Transactions Exist. </br>`;\r\n    if (\r\n      reqStatus == \"Inactive\" &&\r\n      this.linkedProgramCode.includes(data[\"programCode\"])\r\n    ) {\r\n      completeMsg =\r\n        `<img src=\"../../../assets/warning.svg\"><br/><br/>` +\r\n        isLinkedMsg +\r\n        `This action will ` +\r\n        type +\r\n        ` the promotion: ${data[\"programCode\"]}.` +\r\n        `Would you like to proceed?`;\r\n      // `Do you wish to ` +\r\n      // type +\r\n      // ` the Loyalty program: ${data[\"programCode\"]}?`;\r\n    } else {\r\n      completeMsg =\r\n        `<img src=\"../../../assets/warning.svg\"><br/><br/>` +\r\n        `Record Deactivation - This action will ` +\r\n        type +\r\n        ` the promotion: ${data[\"programCode\"]}.` +\r\n        \"<br/>\" +\r\n        `Would you like to proceed?`;\r\n      // +\r\n      // `Do you wish to ` +\r\n      // type +\r\n      // ` the Loyalty program: ${data[\"programCode\"]}?`;\r\n    }\r\n    this.confirmationService.confirm({\r\n      message: completeMsg,\r\n      key: \"activeDeactiveStatus\",\r\n      accept: () => {\r\n        this.updateStatus(e, reqStatus, data);\r\n        this.setHeaderSidebarBtn(true);\r\n      },\r\n      reject: () => {\r\n        this.confirmationService.close;\r\n        this.setHeaderSidebarBtn(false);\r\n      },\r\n    });\r\n  }\r\n\r\n  viewUploadedImg(data: any) {\r\n    this.loyaltyService\r\n      .getLoyaltyProgramForEdit(\r\n        data[\"programCode\"],\r\n        \"edit\",\r\n        this.userData.userId,\r\n        this.appCtrl.value.code,\r\n        this.moduleCtrl.value.code,\r\n        this.formName\r\n      )\r\n      .subscribe(\r\n        (res) => {\r\n          if (\r\n            res[\"status\"] &&\r\n            typeof res[\"status\"] == \"string\" &&\r\n            (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n          ) {\r\n            this.coreService.removeLoadingScreen();\r\n            if (res[\"error\"]) {\r\n              this.coreService.showWarningToast(res[\"error\"]);\r\n            } else {\r\n              this.coreService.showWarningToast(\r\n                \"Error in fetching Program Images\"\r\n              );\r\n            }\r\n          } else {\r\n            if (res[\"data\"]) {\r\n              if (\r\n                res[\"customerLoyaltyPromoImagesDto\"] &&\r\n                res[\"customerLoyaltyPromoImagesDto\"].length\r\n              ) {\r\n                this.uploadedfileData = res[\"customerLoyaltyPromoImagesDto\"];\r\n                this.showUploadedFilesModal();\r\n              } else {\r\n                this.coreService.showWarningToast(\r\n                  \"No Images found for this program code\"\r\n                );\r\n              }\r\n              console.log(res);\r\n            } else {\r\n              if (res && res[\"msg\"]) {\r\n                this.coreService.showWarningToast(res[\"msg\"]);\r\n              } else {\r\n                this.coreService.showWarningToast(\r\n                  \"Error in fetching Program Images\"\r\n                );\r\n              }\r\n              this.coreService.removeLoadingScreen();\r\n            }\r\n          }\r\n        },\r\n        (err) => {\r\n          this.coreService.removeLoadingScreen();\r\n          console.log(\"Error in getLoyaltyForEditApi\", err);\r\n          this.coreService.showWarningToast(\r\n            \"Error in fetching Program Images, Please try again later\"\r\n          );\r\n        }\r\n      );\r\n  }\r\n\r\n  setHeaderSidebarBtn(accept: boolean) {\r\n    this.coreService.displayLoadingScreen();\r\n    setTimeout(() => {\r\n      this.coreService.setHeaderStickyStyle(true);\r\n      this.coreService.setSidebarBtnFixedStyle(true);\r\n    }, 500);\r\n    if (!accept) {\r\n      setTimeout(() => {\r\n        this.coreService.removeLoadingScreen();\r\n      }, 1000);\r\n    }\r\n  }\r\n\r\n  updateStatus(e: any, reqStatus: any, data: any) {\r\n    this.coreService.displayLoadingScreen();\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"userId\", this.userData.userId);\r\n    formData.append(\"programCode\", data[\"programCode\"]);\r\n    formData.append(\"status\", reqStatus);\r\n    formData.append(\"applications\", this.appCtrl.value.code);\r\n    formData.append(\"moduleName\", this.moduleCtrl.value.code);\r\n    formData.append(\"form\", this.formName);\r\n    this.updateCodeStatus(formData, e.target, data);\r\n  }\r\n\r\n  updateCodeStatus(formData: any, sliderElm: any, Data: any) {\r\n    this.loyaltyService.updateLoyaltyStatus(formData).subscribe(\r\n      (res) => {\r\n        let message = \"\";\r\n        if (res[\"error\"] == \"true\") {\r\n          this.coreService.removeLoadingScreen();\r\n          message = `Kindly deactivate the Loyalty program code: ${res[\"msg\"]} ( ${Data[\"criteriaMap\"]} ) to activate the current record.`;\r\n          this.coreService.showWarningToast(message);\r\n        } else {\r\n          if (res[\"msg\"]) {\r\n            message = res[\"msg\"];\r\n            sliderElm.checked = sliderElm!.checked;\r\n            this.getDecodedDataForListing(\r\n              this.userData.userId,\r\n              this.appCtrl.value.code,\r\n              this.moduleCtrl.value.code\r\n            );\r\n            this.coreService.showSuccessToast(message);\r\n          } else {\r\n            this.coreService.removeLoadingScreen();\r\n            message = \"Error in fetching data, Please try again later\";\r\n            this.coreService.showWarningToast(message);\r\n          }\r\n        }\r\n      },\r\n      (err) => {\r\n        console.log(err);\r\n        this.coreService.removeLoadingScreen();\r\n      }\r\n    );\r\n  }\r\n\r\n  addNewLoyaltyPage() {\r\n    this.router.navigate([\"navbar\", \"loyalty-programs\", \"add-loyalty\"]);\r\n  }\r\n\r\n  toggleFilterVisibility(field) {\r\n    this[`show${field}Options`] = !this[`show${field}Options`];\r\n  }\r\n\r\n  hideFilterVisibility(field) {\r\n    this[`show${field}Options`] = false;\r\n  }\r\n\r\n  getSelectedFilterArr(field: any) {\r\n    return this[`selectedFilter${field}`];\r\n  }\r\n\r\n  setSelectedFilter(ms: MultiSelect, field: any) {\r\n    this[`selectedFilter${field}`] = ms.value;\r\n  }\r\n\r\n  fieldFilterVisible(field: any) {\r\n    return this[`show${field}Options`];\r\n  }\r\n\r\n  fieldFilterOptions(field: any): [] {\r\n    return this[field];\r\n  }\r\n\r\n  copyToClipboard(text: string) {\r\n    this.coreService.copyToClipboard(text);\r\n  }\r\n}\r\n","<div class=\"visible-main-section\">\r\n  <div class=\"pagetitle\">\r\n    <div class=\"infoicon\">\r\n      <i class=\"pi pi-info-circle\"></i>\r\n      List of Loyalty programs.\r\n    </div>\r\n    <div class=\"addnew\">\r\n      <button\r\n        pButton\r\n        pRipple\r\n        type=\"button\"\r\n        label=\"Add New\"\r\n        class=\"p-button-raised\"\r\n        (click)=\"addNewLoyaltyPage()\"\r\n      ></button>\r\n    </div>\r\n  </div>\r\n  <!-- <div class=\"app-form-search\">\r\n    <div [formGroup]=\"selectAppModule\" class=\"select-module-application m-2\">\r\n      <div class=\"col-12\">\r\n        <div class=\"row\">\r\n          <div class=\"d-flex field col-md-4 col-lg-4 col-sm-12 col-xs-12 md-4\">\r\n            <label\r\n              class=\"detail-page-section-heading col-sm-3 col-xs-12\"\r\n              for=\"application\"\r\n              >Application</label\r\n            >\r\n            <p-dropdown\r\n              name=\"application\"\r\n              inputId=\"application\"\r\n              [options]=\"searchApplicationOptions\"\r\n              placeholder=\"Select\"\r\n              optionLabel=\"name\"\r\n              formControlName=\"applications\"\r\n            ></p-dropdown>\r\n          </div>\r\n          <div class=\"d-flex field col-md-4 col-lg-4 col-sm-12 col-xs-12 md-4\">\r\n            <label\r\n              class=\"detail-page-section-heading small col-sm-3 col-xs-12\"\r\n              for=\"module\"\r\n              >Module</label\r\n            >\r\n            <p-dropdown\r\n              name=\"module\"\r\n              inputId=\"module\"\r\n              [options]=\"searchModuleOptions\"\r\n              placeholder=\"Select\"\r\n              optionLabel=\"name\"\r\n              formControlName=\"modules\"\r\n            ></p-dropdown>\r\n          </div>\r\n          <div class=\"addnew field col-md-2 col-lg-2 col-sm-4 col-xs-4 md-2\">\r\n            <button\r\n              pButton\r\n              pRipple\r\n              type=\"button\"\r\n              (click)=\"searchAppModule()\"\r\n              label=\"Apply\"\r\n              class=\"p-button-raised\"\r\n              [disabled]=\"selectAppModule.invalid\"\r\n            ></button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div> -->\r\n  <div class=\"ptable\" *ngIf=\"loyaltyListData?.length\">\r\n    <p-table\r\n      #dt\r\n      [columns]=\"cols\"\r\n      [value]=\"loyaltyListData\"\r\n      [paginator]=\"true\"\r\n      [rows]=\"10\"\r\n      [loading]=\"loading\"\r\n      [resizableColumns]=\"true\"\r\n      columnResizeMode=\"fit\"\r\n      [rowHover]=\"true\"\r\n    >\r\n      <ng-template pTemplate=\"header\" let-columns>\r\n        <tr>\r\n          <th\r\n            *ngFor=\"let col of columns; let c = index\"\r\n            pReorderableColumn\r\n            [pSortableColumn]=\"col.field\"\r\n            pResizableColumn\r\n            [style.width]=\"col.width\"\r\n          >\r\n            {{ col.header }}\r\n            <div\r\n              *ngIf=\"\r\n                c == 0 || col.field == 'programType' || col.field == 'status'\r\n              \"\r\n              (click)=\"$event.stopPropagation()\"\r\n              class=\"filter-icon\"\r\n            >\r\n              <i\r\n                [ngStyle]=\"{\r\n                  color: getSelectedFilterArr(col.field).length\r\n                    ? 'var(--primary-color)'\r\n                    : 'rgb(105 105 105)',\r\n                  fontSize: '11px'\r\n                }\"\r\n                class=\"pi pi-filter-fill\"\r\n                (click)=\"toggleFilterVisibility(col.field)\"\r\n              ></i>\r\n              <p-multiSelect\r\n                #ms\r\n                [options]=\"fieldFilterOptions(col.field)\"\r\n                [filter]=\"true\"\r\n                [displaySelectedLabel]=\"false\"\r\n                [overlayVisible]=\"fieldFilterVisible(col.field)\"\r\n                [defaultLabel]=\"'Search'\"\r\n                [appendTo]=\"'body'\"\r\n                [autoWidth]=\"false\"\r\n                (onChange)=\"\r\n                  dt.filter($event.value, col.field, 'in');\r\n                  setSelectedFilter(ms, col.field)\r\n                \"\r\n                (onPanelHide)=\"hideFilterVisibility(col.field)\"\r\n              >\r\n              </p-multiSelect>\r\n            </div>\r\n          </th>\r\n        </tr>\r\n        <tr class=\"search-row\">\r\n          <th *ngFor=\"let col of cols\" [style.width]=\"col.width\">\r\n            <span\r\n              style=\"width: 100%\"\r\n              class=\"p-input-icon-left\"\r\n              *ngIf=\"col.field != 'status' && col.field != 'operation'\"\r\n            >\r\n              <i class=\"pi pi-search\"></i>\r\n              <input\r\n                type=\"text\"\r\n                class=\"p-inputtext table-search\"\r\n                placeholder=\"Search\"\r\n                (input)=\"dt.filter($event.target.value, col.field, 'contains')\"\r\n              />\r\n            </span>\r\n          </th>\r\n        </tr>\r\n      </ng-template>\r\n      <ng-template\r\n        pTemplate=\"body\"\r\n        let-rowData\r\n        let-columns=\"columns\"\r\n        let-index=\"rowIndex\"\r\n      >\r\n        <tr\r\n          [pReorderableRow]=\"index\"\r\n          [pTooltip]=\"rowData['isExpired'] ? 'This program has expired' : ''\"\r\n          tooltipPosition=\"top\"\r\n        >\r\n          <ng-container *ngFor=\"let col of columns; let i = index\">\r\n            <td\r\n              *ngIf=\"col.field != 'status' && col.field != 'operation'\"\r\n              [ngStyle]=\"{ color: rowData['isExpired'] ? 'red' : 'black' }\"\r\n            >\r\n              <div\r\n                *ngIf=\"!(i == 0 || i == 1 || i == 3)\"\r\n                style=\"display: inline-block\"\r\n              >\r\n                {{ rowData[col[\"field\"]] }}\r\n              </div>\r\n              <a\r\n                *ngIf=\"i == 0\"\r\n                style=\"text-decoration: underline !important\"\r\n                [ngStyle]=\"{\r\n                  color: isLinked(rowData[col['field']])\r\n                    ? '#f89406'\r\n                    : 'var(--primary-color)',\r\n                  fontSize: '11px',\r\n                  cursor: 'pointer'\r\n                }\"\r\n                [pTooltip]=\"'Active Transactions Exist.'\"\r\n                [tooltipDisabled]=\"!isLinked(rowData[col['field']])\"\r\n                tabindex=\"0\"\r\n                (keyup.Space)= \"viewLoyaltyProgram(rowData)\"\r\n                (click)=\"viewLoyaltyProgram(rowData)\"\r\n                >{{ rowData[col[\"field\"]] }}</a\r\n              >\r\n\r\n              <span\r\n                *ngIf=\"i == 1\"\r\n                [pTooltip]=\"\r\n                  rowData[col['field']].length > 30 ? rowData[col['field']] : ''\r\n                \"\r\n                tooltipPosition=\"bottom\"\r\n              >\r\n                {{\r\n                  rowData[col[\"field\"]].length > 30\r\n                    ? rowData[col[\"field\"]].substring(0, 30) + \"..\"\r\n                    : rowData[col[\"field\"]]\r\n                }}</span\r\n              >\r\n              <span\r\n                *ngIf=\"i == 3\"\r\n                [pTooltip]=\"\r\n                  rowData[col['field']].length > 28 ? rowData[col['field']] : ''\r\n                \"\r\n                tooltipPosition=\"bottom\"\r\n                (mouseenter)=\"rowData['isHovered'] = true\"\r\n                (mouseleave)=\"rowData['isHovered'] = false\"\r\n              >\r\n                {{\r\n                  rowData[col[\"field\"]].length > 28\r\n                    ? rowData[\"isHovered\"]\r\n                      ? rowData[col[\"field\"]].substring(0, 20) + \"..\"\r\n                      : rowData[col[\"field\"]].substring(0, 28) + \"..\"\r\n                    : rowData[col[\"field\"]]\r\n                }}<a\r\n                  style=\"cursor: pointer\"\r\n                  *ngIf=\"\r\n                    rowData['isHovered'] && rowData[col['field']].length > 30\r\n                  \"\r\n                  (click)=\"copyToClipboard(rowData[col['field']])\"\r\n                  >COPY</a\r\n                ></span\r\n              >\r\n            </td>\r\n\r\n            <td\r\n              *ngIf=\"col.field == 'status'\"\r\n              style=\"border: none; text-align: center\"\r\n              [ngStyle]=\"{ color: rowData['isExpired'] ? 'red' : 'black' }\"\r\n            >\r\n              <label class=\"switch\" tabindex=\"0\"\r\n              (keyup.Space)= \"statusInp.click()\">\r\n                <input\r\n                  #statusInp\r\n                  [value]=\"rowData[col['field']]\"\r\n                  type=\"checkbox\"\r\n                  (click)=\"confirmStatus($event, rowData)\"\r\n                  [checked]=\"\r\n                    rowData[col['field']] == 'Active' ||\r\n                    rowData[col['field']] == 'A'\r\n                      ? true\r\n                      : false\r\n                  \"\r\n                />\r\n                <span class=\"slider round\"></span>\r\n              </label>\r\n            </td>\r\n            <td\r\n              *ngIf=\"col.field == 'operation'\"\r\n              style=\"border: none; text-align: center\"\r\n              [ngStyle]=\"{ color: rowData['isExpired'] ? 'red' : 'black' }\"\r\n            >\r\n              <span class=\"image-text\">\r\n                <button\r\n                  pButton\r\n                  type=\"button\"\r\n                  icon=\"pi pi-eye\"\r\n                  class=\"operation-btns mr-2\"\r\n                  (click)=\"viewUploadedImg(rowData)\"\r\n                ></button>\r\n              </span>\r\n            </td>\r\n          </ng-container>\r\n        </tr>\r\n      </ng-template>\r\n      <ng-template pTemplate=\"emptymessage\">\r\n        <tr>\r\n          <td [attr.colspan]=\"cols.length\">No Data found.</td>\r\n        </tr>\r\n      </ng-template>\r\n      <ng-template pTemplate=\"paginatorleft\" let-state>\r\n        {{ state.page * state.rows + 1 }} -\r\n        {{\r\n          state.rows * (state.page + 1) > state.totalRecords\r\n            ? state.totalRecords\r\n            : state.rows * (state.page + 1)\r\n        }}\r\n        of {{ state.totalRecords }}\r\n      </ng-template>\r\n    </p-table>\r\n  </div>\r\n</div>\r\n<div class=\"NorecordFound\" *ngIf=\"!loyaltyListData?.length && showNoDataFound\">\r\n  <div class=\"row\">\r\n    <div class=\"col-12\"><img src=\"assets/noRecordFound.svg\" /></div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col-12\">\r\n      <p>\"No Record Found.Click Add New To Add Record\"</p>\r\n      <button\r\n        pButton\r\n        pRipple\r\n        type=\"button\"\r\n        label=\"Add New\"\r\n        class=\"p-button-raised\"\r\n        (click)=\"addNewLoyaltyPage()\"\r\n      ></button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"uploadedImgModal\">\r\n  <p-dialog\r\n    [(visible)]=\"showFilesModal\"\r\n    [modal]=\"true\"\r\n    [style]=\"{ width: '40vw', left: '50px' }\"\r\n    (onHide)=\"closeDialog()\"\r\n  >\r\n    <ng-template pTemplate=\"header\">\r\n      <div class=\"application-header\">Program Images</div>\r\n    </ng-template>\r\n    <p-table\r\n      [value]=\"uploadedfileData\"\r\n      class=\"criteria-view-table\"\r\n      [rowHover]=\"true\"\r\n      [style]=\"{ width: '100%' }\"\r\n    >\r\n      <ng-template pTemplate=\"header\">\r\n        <tr>\r\n          <th\r\n            *ngFor=\"let col of uploadedfileDataCols\"\r\n            [style.text-align]=\"col['field'] == 'action' ? 'center' : ''\"\r\n          >\r\n            {{ col.header }}\r\n          </th>\r\n        </tr>\r\n      </ng-template>\r\n      <ng-template pTemplate=\"body\" let-file let-rowIndex=\"rowIndex\">\r\n        <tr>\r\n          <ng-container *ngFor=\"let col of uploadedfileDataCols; let i = index\">\r\n            <td *ngIf=\"col['field'] != 'action'\">\r\n              <input\r\n                type=\"text\"\r\n                [placeholder]=\"file[col['field']]\"\r\n                [disabled]=\"true\"\r\n              />\r\n            </td>\r\n            <td\r\n              *ngIf=\"col['field'] == 'action'\"\r\n              style=\"border: none; text-align: center; padding-left: 1rem\"\r\n            >\r\n              <span class=\"image-text\">\r\n                <!-- <ng-container *ngFor=\"let icon of col['value'].split(',')\"> -->\r\n                <button\r\n                  pButton\r\n                  type=\"button\"\r\n                  [icon]=\"'pi pi-eye'\"\r\n                  class=\"operation-btns mr-2\"\r\n                  (click)=\"fileOperation(file, rowIndex, 'view')\"\r\n                ></button>\r\n                <button\r\n                  pButton\r\n                  type=\"button\"\r\n                  [icon]=\"'pi pi-download'\"\r\n                  class=\"operation-btns mr-2\"\r\n                  (click)=\"fileOperation(file, rowIndex, 'download')\"\r\n                ></button>\r\n                <!-- </ng-container> -->\r\n              </span>\r\n            </td>\r\n          </ng-container>\r\n        </tr>\r\n      </ng-template>\r\n      <ng-template pTemplate=\"emptymessage\">\r\n        <tr>\r\n          <td [attr.colspan]=\"uploadedfileDataCols.length\">\r\n            No files uploaded.\r\n          </td>\r\n        </tr>\r\n      </ng-template>\r\n    </p-table>\r\n  </p-dialog>\r\n</div>\r\n\r\n<p-confirmDialog\r\n  key=\"activeDeactiveStatus\"\r\n  class=\"status-confirm confirm-popup\"\r\n  #cd\r\n  [closable]=\"false\"\r\n>\r\n  <p-footer>\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-check\"\r\n      label=\"Yes\"\r\n      (click)=\"cd.accept()\"\r\n    ></button>\r\n\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-times\"\r\n      label=\"No\"\r\n      (click)=\"cd.reject()\"\r\n    ></button>\r\n  </p-footer>\r\n</p-confirmDialog>\r\n","import { HttpClient, HttpHeaders } from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { Observable } from \"rxjs\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class LoyaltyService {\r\n  constructor(private http: HttpClient) {}\r\n\r\n  applicationName = \"Casmex Core\";\r\n  moduleName = \"Remittance\";\r\n\r\n  private statusDataForEditForm: any = undefined;\r\n\r\n  setData(data: any) {\r\n    this.statusDataForEditForm = data;\r\n  }\r\n\r\n  getData(): any {\r\n    return this.statusDataForEditForm;\r\n  }\r\n\r\n  // COMMON SERVICES\r\n  getAppModuleList() {\r\n    return this.http.get(\r\n      `/appControl/applicationSettingsController/criteriaTypes`\r\n    );\r\n  }\r\n\r\n  getCriteriaMasterData(\r\n    userId: any,\r\n    formName: any,\r\n    appName: any,\r\n    moduleName: any\r\n  ) {\r\n    return this.http.get(\r\n      `/appControl/formRulesController/getCriteriaMasterData`,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"userId\", userId)\r\n          .set(\"form\", formName)\r\n          .set(\"applications\", String(appName))\r\n          .set(\"moduleName\", String(moduleName)),\r\n      }\r\n    );\r\n  }\r\n\r\n  getCorrespondentValuesData(\r\n    formName: any,\r\n    appName: any,\r\n    criteriaMap: any,\r\n    fieldName: any,\r\n    displayName: any,\r\n    moduleName: any\r\n  ) {\r\n    return this.http.get(`/appControl/formRulesController/getCriteriaData`, {\r\n      headers: new HttpHeaders()\r\n        .set(\"form\", formName)\r\n        .set(\"applications\", String(appName))\r\n        .set(\"criteriaMap\", criteriaMap)\r\n        .set(\"fieldName\", fieldName)\r\n        .set(\"displayName\", displayName)\r\n        .set(\"moduleName\", String(moduleName)),\r\n    });\r\n  }\r\n\r\n  currentCriteriaSaveAsTemplate(data: any): Observable<any> {\r\n    return this.http.post(\r\n      `appControl/formRulesController/saveFormRuleCriteria`,\r\n      data\r\n    );\r\n  }\r\n\r\n  getAllCriteriaTemplates(\r\n    id: string,\r\n    appName: any,\r\n    moduleName: any,\r\n    formName: any\r\n  ): Observable<any> {\r\n    return this.http.get(\r\n      `appControl/formRulesController/getExistingFormRuleList\r\n      `,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"userId\", id)\r\n          .set(\"applications\", String(appName))\r\n          .set(\"moduleName\", String(moduleName))\r\n          .set(\"form\", formName),\r\n      }\r\n    );\r\n  }\r\n  // COMMON SERVICES END\r\n\r\n  getProgramTypeData() {\r\n    return this.http.get(`/appControl/loyaltyProgramController/getProgramType`);\r\n  }\r\n  getPromoCodeData(promoLength: any) {\r\n    return this.http.get(`/appControl/loyaltyProgramController/getPromocode`, {\r\n      headers: new HttpHeaders().set(\"length\", promoLength),\r\n    });\r\n  }\r\n\r\n  getLoyaltyProgramData(\r\n    id: string,\r\n    formName: any,\r\n    appName: any,\r\n    moduleName: any\r\n  ) {\r\n    return this.http.get(\r\n      `/appControl/loyaltyProgramController/getLoyaltyProgramList`,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"userId\", id)\r\n          .set(\"applications\", String(appName))\r\n          .set(\"moduleName\", String(moduleName))\r\n          .set(\"form\", formName),\r\n      }\r\n    );\r\n  }\r\n\r\n  getCustomerLoyaltyDetailsData(\r\n    id: string,\r\n    criteriaMap: any,\r\n    pageNumber: any,\r\n    pageSize: any,\r\n    sortBy: any,\r\n    orderBy: any\r\n  ) {\r\n    return this.http.get(\r\n      `/appControl/loyaltyProgramController/getCustomerLoyaltyRedeemDetailsList`,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"userId\", id)\r\n          .set(\"criteriaMap\", criteriaMap)\r\n          .set(\"pageNumber\", pageNumber)\r\n          .set(\"pageSize\", pageSize)\r\n          .set(\"sortBy\", sortBy)\r\n          .set(\"orderBy\", orderBy),\r\n      }\r\n    );\r\n  }\r\n\r\n  updateLoyaltyStatus(data: any) {\r\n    return this.http.post(\r\n      `/appControl/loyaltyProgramController/updateLoyaltyProgramStatus`,\r\n      data\r\n    );\r\n  }\r\n\r\n  getLoyaltyProgramForEdit(\r\n    programCode: any,\r\n    operation: any,\r\n    id: any,\r\n    appName: any,\r\n    moduleName: any,\r\n    formName: any\r\n  ) {\r\n    return this.http.get(\r\n      `/appControl/loyaltyProgramController/getLoyaltyProgramEdit`,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"programCode\", programCode)\r\n          .set(\"operation\", operation)\r\n          .set(\"userId\", id)\r\n          .set(\"applications\", String(appName))\r\n          .set(\"moduleName\", String(moduleName))\r\n          .set(\"form\", formName),\r\n      }\r\n    );\r\n  }\r\n\r\n  getAddLoyaltyProgramCriteriaData(\r\n    id: string,\r\n    appName: any,\r\n    moduleName: any,\r\n    formName: any\r\n  ) {\r\n    return this.http.get(\r\n      `/appControl/loyaltyProgramController/addLoyaltyProgram`,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"userId\", id)\r\n          .set(\"applications\", String(appName))\r\n          .set(\"moduleName\", String(moduleName))\r\n          .set(\"form\", formName),\r\n      }\r\n    );\r\n  }\r\n\r\n  postLoyaltyProgramCriteriaSearch(data: any) {\r\n    return this.http.post(\r\n      `/appControl/loyaltyProgramController/applyCriteriaSearch`,\r\n      data\r\n    );\r\n  }\r\n\r\n  addNewLoyaltyProgram(\r\n    userId: any,\r\n    data: any,\r\n    operation: any,\r\n    appName: any,\r\n    moduleName: any,\r\n    formName: any\r\n  ): Observable<any> {\r\n    return this.http.post(\r\n      `/appControl/loyaltyProgramController/saveLoyaltyProgram`,\r\n      data,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"userId\", userId)\r\n          .set(\"operation\", operation)\r\n          .set(\"applications\", String(appName))\r\n          .set(\"moduleName\", String(moduleName))\r\n          .set(\"form\", formName),\r\n      }\r\n    );\r\n  }\r\n\r\n  updateLoyaltyProgram(\r\n    userId: any,\r\n    data: any,\r\n    operation: any,\r\n    appName: any,\r\n    moduleName: any,\r\n    formName: any,\r\n    reset: any\r\n  ): Observable<any> {\r\n    return this.http.post(\r\n      `/appControl/loyaltyProgramController/updateLoyaltyProgram`,\r\n      data,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"userId\", userId)\r\n          .set(\"operation\", operation)\r\n          .set(\"applications\", String(appName))\r\n          .set(\"moduleName\", String(moduleName))\r\n          .set(\"form\", formName)\r\n          .set(\"reset\", reset),\r\n      }\r\n    );\r\n  }\r\n}\r\n","import { Component, OnInit, ViewChild } from \"@angular/core\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { CoreService } from \"src/app/core.service\";\r\nimport { MasterServiceService } from \"../master-service.service\";\r\nimport { ConfirmationService } from \"primeng/api\";\r\nimport { MultiSelect } from \"primeng/multiselect\";\r\nimport { Table } from \"primeng/table\";\r\n\r\n@Component({\r\n  selector: \"app-master-listing\",\r\n  templateUrl: \"./master-listing.component.html\",\r\n  styleUrls: [\"./master-listing.component.scss\"],\r\n})\r\nexport class MasterListingComponent implements OnInit {\r\n  @ViewChild(\"dt\") dt: Table;\r\n  masterListData: any = [];\r\n\r\n  criteriaMap = \"NA\";\r\n  masterType = \"\";\r\n  masterId = \"\";\r\n  masterCode = \"\";\r\n  masterName = \"\";\r\n  formName = \"\";\r\n  HeaderName = \"\";\r\n  HeaderCode = \"\";\r\n\r\n  selectedFiltercode: any[] = [];\r\n  selectedFiltercodeName: any[] = [];\r\n\r\n  showcodeOptions: boolean = false;\r\n  showcodeNameOptions: boolean = false;\r\n\r\n  code = [];\r\n  codeName = [];\r\n\r\n  userData: any = {};\r\n\r\n  saveMasterDate: any[] = [];\r\n\r\n  pageNumber = 0;\r\n  pageSize = 10;\r\n  totalPages = 5;\r\n  totalRecords = 0;\r\n  sortBy = \"id\";\r\n  orderBy = \"DESC\";\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private coreService: CoreService,\r\n    private route: ActivatedRoute,\r\n    private masterService: MasterServiceService,\r\n    private confirmationService: ConfirmationService\r\n  ) {}\r\n\r\n  cols: any[] = [];\r\n  colTax: any[] = [\r\n    { field: \"code\", header: \"Tax Code\", width: \"30%\" },\r\n    {\r\n      field: \"codeName\",\r\n      header: \"Tax Name\",\r\n      width: \"50%\",\r\n    },\r\n    { field: \"status\", header: \"Status\", width: \"20%\" },\r\n  ];\r\n  colCharge: any[] = [\r\n    { field: \"code\", header: \"Charge Code\", width: \"30%\" },\r\n    {\r\n      field: \"codeName\",\r\n      header: \"Charge Name\",\r\n      width: \"50%\",\r\n    },\r\n    { field: \"status\", header: \"Status\", width: \"20%\" },\r\n  ];\r\n  colDocument: any[] = [\r\n    { field: \"code\", header: \"Document Code\", width: \"30%\" },\r\n    {\r\n      field: \"codeName\",\r\n      header: \"Document Name\",\r\n      width: \"50%\",\r\n    },\r\n    { field: \"status\", header: \"Status\", width: \"20%\" },\r\n  ];\r\n\r\n  userTypeOptions = [\r\n    { name: \"Taxes\", code: \"Tax Master\" },\r\n    { name: \"Charges\", code: \"Charge Master\" },\r\n    { name: \"Documents\", code: \"Document Master\" },\r\n  ];\r\n\r\n  customerTableLoading = false;\r\n  showTable = false;\r\n  addnewHide = false;\r\n  disableCodeName = true;\r\n  showAddnewModal = false;\r\n  showViewModal = false;\r\n  deactivated = false;\r\n\r\n  ngOnInit(): void {\r\n    this.coreService.displayLoadingScreen();\r\n    window.scrollTo(0, 0);\r\n    const translationKey = \"Master\";\r\n\r\n    // Update translation\r\n    this.coreService\r\n      .translate(translationKey)\r\n      .then((translatedTitle: string) => {\r\n        this.coreService.setPageTitle(translatedTitle);\r\n      });\r\n\r\n    this.route.data.subscribe((data) => {\r\n      this.coreService.setBreadCrumbMenu(Object.values(data));\r\n    });\r\n\r\n    this.userData = JSON.parse(localStorage.getItem(\"userData\"));\r\n    this.coreService.removeLoadingScreen();\r\n  }\r\n\r\n  searchMaster() {\r\n    this.coreService.displayLoadingScreen();\r\n\r\n    console.log(\"type\", this.masterType);\r\n    if (this.masterType == \"Tax Master\") {\r\n      this.formName = \"TaxMaster\";\r\n      this.cols = this.colTax;\r\n      this.getMasterListData(this.formName);\r\n      this.HeaderCode = \"Tax Code\";\r\n      this.HeaderName = \"Tax Name\";\r\n    } else if (this.masterType == \"Charge Master\") {\r\n      this.formName = \"ChargeMaster\";\r\n      this.cols = this.colCharge;\r\n      this.getMasterListData(this.formName);\r\n      this.HeaderCode = \"Charge Code\";\r\n      this.HeaderName = \"Charge Name\";\r\n    } else if (this.masterType == \"Document Master\") {\r\n      this.formName = \"DocumentMaster\";\r\n      this.cols = this.colDocument;\r\n      this.getMasterListData(this.formName);\r\n      this.HeaderCode = \"Document Code\";\r\n      this.HeaderName = \"Document Name\";\r\n    }\r\n  }\r\n  getMasterListData(formName) {\r\n    this.masterListData = [];\r\n    console.log(this.dt);\r\n    if (this.dt) {\r\n      this.dt.filter(\"\", \"codeName\", \"contains\");\r\n    }\r\n    this.masterService.getMasterlistData(formName).subscribe(\r\n      (res) => {\r\n        this.coreService.removeLoadingScreen();\r\n        if (\r\n          res[\"status\"] &&\r\n          typeof res[\"status\"] == \"string\" &&\r\n          (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n        ) {\r\n          if (res[\"error\"]) {\r\n            this.coreService.showWarningToast(res[\"error\"]);\r\n          } else {\r\n            this.coreService.showWarningToast(\"Some error in fetching data\");\r\n          }\r\n        } else {\r\n          if (!res[\"msg\"]) {\r\n            this.coreService.removeLoadingScreen();\r\n          } else {\r\n            // this.coreService.removeLoadingScreen();\r\n            console.log(res);\r\n            this.masterListData = res[\"masterData\"];\r\n            console.log(\"res\", this.masterListData);\r\n            this.showTable = true;\r\n            this.addnewHide = true;\r\n          }\r\n        }\r\n      },\r\n      (err) => {\r\n        this.coreService.removeLoadingScreen();\r\n        this.coreService.showWarningToast(\"Some error in fetching data\");\r\n      }\r\n    );\r\n  }\r\n  clearMaster() {\r\n    this.showTable = false;\r\n    this.addnewHide = false;\r\n    this.masterListData = [];\r\n    this.masterType = \"\";\r\n  }\r\n  addNew() {\r\n    console.log(\"type\", this.masterType);\r\n    this.coreService.displayLoadingScreen();\r\n    this.getAddNewMaster(this.formName);\r\n  }\r\n  getAddNewMaster(formName: any) {\r\n    this.masterService.getAddMasterData(formName).subscribe(\r\n      (res) => {\r\n        this.coreService.removeLoadingScreen();\r\n        if (\r\n          res[\"status\"] &&\r\n          typeof res[\"status\"] == \"string\" &&\r\n          (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n        ) {\r\n          if (res[\"error\"]) {\r\n            this.coreService.showWarningToast(res[\"error\"]);\r\n          } else {\r\n            this.coreService.showWarningToast(\"Some error in fetching data\");\r\n          }\r\n        } else {\r\n          if (res[\"msg\"]) {\r\n            // this.coreService.removeLoadingScreen();\r\n            console.log(res);\r\n            this.masterCode = res[\"data\"].code;\r\n            this.masterName = \"\";\r\n            console.log(\"res\", this.masterCode);\r\n            this.showAddnewModal = true;\r\n            this.coreService.setSidebarBtnFixedStyle(false);\r\n            this.coreService.setHeaderStickyStyle(false);\r\n          }\r\n        }\r\n      },\r\n      (err) => {\r\n        this.coreService.removeLoadingScreen();\r\n        this.coreService.showWarningToast(\"Some error in fetching data\");\r\n      }\r\n    );\r\n  }\r\n\r\n  saveAddNewMaster(action: any) {\r\n    this.coreService.displayLoadingScreen();\r\n    console.log(action);\r\n    if (!this.masterName.replace(/\\s/g, \"\").length) {\r\n      this.coreService.showWarningToast(\"Please fill the required fields\");\r\n      this.coreService.removeLoadingScreen();\r\n    } else {\r\n      const newValues = [\r\n        {\r\n          id: \"0\",\r\n          code: this.masterCode,\r\n          codeName: this.masterName.trim().toUpperCase(),\r\n          status: \"A\",\r\n        },\r\n      ];\r\n      let service;\r\n      let data = newValues;\r\n      service = this.masterService.addNewMaster(data, this.formName);\r\n\r\n      if (service) {\r\n        service.subscribe(\r\n          (res) => {\r\n            if (\r\n              res[\"status\"] &&\r\n              typeof res[\"status\"] == \"string\" &&\r\n              (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n            ) {\r\n              if (res[\"error\"]) {\r\n                this.coreService.showWarningToast(res[\"error\"]);\r\n              } else {\r\n                this.coreService.showWarningToast(\r\n                  \"Something went wrong, Please try again later\"\r\n                );\r\n              }\r\n            } else {\r\n              if (res[\"msg\"]) {\r\n                this.coreService.showSuccessToast(res.msg);\r\n                if (action == \"save\") {\r\n                  this.showAddnewModal = false;\r\n                  this.getMasterListData(this.formName);\r\n                  this.setHeaderSidebarBtn(true);\r\n                } else if (action == \"saveAndAddNew\") {\r\n                  this.getAddNewMaster(this.formName);\r\n                  this.masterName = \"\";\r\n                }\r\n              } else if (res[\"error\"]) {\r\n                this.coreService.showWarningToast(res[\"error\"]);\r\n                this.coreService.removeLoadingScreen();\r\n              }\r\n            }\r\n          },\r\n          (err) => {\r\n            this.coreService.removeLoadingScreen();\r\n            console.log(\"error in saveAddNew\", err);\r\n            this.coreService.showWarningToast(\r\n              \"Something went wrong, Please try again later\"\r\n            );\r\n          }\r\n        );\r\n      }\r\n    }\r\n  }\r\n  resetAddNew() {\r\n    this.masterName = \"\";\r\n  }\r\n\r\n  openClickForEdit(rowdata: any) {\r\n    this.coreService.displayLoadingScreen();\r\n    console.log(rowdata);\r\n    if (rowdata.status == \"D\" || rowdata.status == \"Inactive\") {\r\n      this.deactivated = true;\r\n    } else {\r\n      this.deactivated = false;\r\n    }\r\n    this.disableCodeName = true;\r\n    this.masterId = rowdata.id;\r\n    this.getMasterForEdit(rowdata, this.formName);\r\n  }\r\n  getMasterForEdit(rowdata, formName: any) {\r\n    this.masterService.getMasterForEdit(String(rowdata.id), formName).subscribe(\r\n      (res) => {\r\n        this.coreService.removeLoadingScreen();\r\n        if (\r\n          res[\"status\"] &&\r\n          typeof res[\"status\"] == \"string\" &&\r\n          (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n        ) {\r\n          if (res[\"error\"]) {\r\n            this.coreService.showWarningToast(res[\"error\"]);\r\n          } else {\r\n            this.coreService.showWarningToast(\"Some error in fetching data\");\r\n          }\r\n        } else {\r\n          if (!res[\"msg\"]) {\r\n            this.coreService.removeLoadingScreen();\r\n          } else {\r\n            // this.coreService.removeLoadingScreen();\r\n            console.log(res);\r\n            this.masterCode = res[\"masterData\"].code;\r\n            this.masterName = res[\"masterData\"].codeName;\r\n            console.log(\"res\", this.masterCode);\r\n            this.showViewModal = true;\r\n            this.coreService.setSidebarBtnFixedStyle(false);\r\n            this.coreService.setHeaderStickyStyle(false);\r\n          }\r\n        }\r\n      },\r\n      (err) => {\r\n        console.log(err);\r\n        this.coreService.removeLoadingScreen();\r\n        this.coreService.showWarningToast(\"Some error in fetching data\");\r\n      }\r\n    );\r\n  }\r\n  viewForEdit() {}\r\n\r\n  editDisableModel() {\r\n    this.disableCodeName = false;\r\n  }\r\n  updateMaster() {\r\n    this.coreService.displayLoadingScreen();\r\n    if (this.masterName == \"\") {\r\n      this.coreService.showWarningToast(\"Please fill the required fields\");\r\n    } else {\r\n      const newValues = [\r\n        {\r\n          id: String(this.masterId),\r\n          code: this.masterCode,\r\n          codeName: this.masterName.trim().toUpperCase(),\r\n          status: \"A\",\r\n        },\r\n      ];\r\n      let service;\r\n      let data = newValues;\r\n      service = this.masterService.updateNewMaster(data, this.formName);\r\n\r\n      if (service) {\r\n        service.subscribe(\r\n          (res) => {\r\n            if (\r\n              res[\"status\"] &&\r\n              typeof res[\"status\"] == \"string\" &&\r\n              (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n            ) {\r\n              if (res[\"error\"]) {\r\n                this.coreService.showWarningToast(res[\"error\"]);\r\n              } else {\r\n                this.coreService.showWarningToast(\r\n                  \"Something went wrong, Please try again later\"\r\n                );\r\n              }\r\n            } else {\r\n              if (res[\"msg\"]) {\r\n                this.coreService.showSuccessToast(res.msg);\r\n                this.showViewModal = false;\r\n                this.getMasterListData(this.formName);\r\n              }\r\n            }\r\n          },\r\n          (err) => {\r\n            this.coreService.removeLoadingScreen();\r\n            console.log(\"error in saveAddNew\", err);\r\n            this.coreService.showWarningToast(\r\n              \"Something went wrong, Please try again later\"\r\n            );\r\n          }\r\n        );\r\n      }\r\n    }\r\n  }\r\n  closeDialog() {\r\n    this.showAddnewModal = false;\r\n    this.showViewModal = false;\r\n    this.coreService.displayLoadingScreen();\r\n    setTimeout(() => {\r\n      this.coreService.setHeaderStickyStyle(true);\r\n      this.coreService.setSidebarBtnFixedStyle(true);\r\n    }, 500);\r\n    setTimeout(() => {\r\n      this.coreService.removeLoadingScreen();\r\n    }, 1000);\r\n  }\r\n  confirmStatus(e: any, data: any) {\r\n    e.preventDefault();\r\n    let type = \"\";\r\n    let reqStatus = \"\";\r\n    if (e.target.checked) {\r\n      reqStatus = \"A\";\r\n      type = \"Activate\";\r\n    } else {\r\n      reqStatus = \"D\";\r\n      type = \"Deactivate\";\r\n    }\r\n    this.coreService.setSidebarBtnFixedStyle(false);\r\n    this.coreService.setHeaderStickyStyle(false);\r\n    if (this.masterType == \"Tax Master\") {\r\n      let completeMsg = \"\";\r\n      completeMsg =\r\n        `<img src=\"../../../assets/warning.svg\"><br/><br/>` +\r\n        `Do you wish to ` +\r\n        type +\r\n        ` the Tax Record: ${data[\"code\"]}?`;\r\n\r\n      this.confirmationService.confirm({\r\n        message: completeMsg,\r\n        key: \"activeDeactiveStatus\",\r\n        accept: () => {\r\n          this.updateStatus(e, reqStatus, data, this.formName);\r\n          this.setHeaderSidebarBtn(true);\r\n        },\r\n        reject: () => {\r\n          this.confirmationService.close;\r\n          this.setHeaderSidebarBtn(false);\r\n        },\r\n      });\r\n    } else if (this.masterType == \"Charge Master\") {\r\n      let completeMsg = \"\";\r\n      completeMsg =\r\n        `<img src=\"../../../assets/warning.svg\"><br/><br/>` +\r\n        `Do you wish to ` +\r\n        type +\r\n        ` the Charge Record: ${data[\"code\"]}?`;\r\n\r\n      this.confirmationService.confirm({\r\n        message: completeMsg,\r\n        key: \"activeDeactiveStatus\",\r\n        accept: () => {\r\n          this.updateStatus(e, reqStatus, data, this.formName);\r\n          this.setHeaderSidebarBtn(true);\r\n        },\r\n        reject: () => {\r\n          this.confirmationService.close;\r\n          this.setHeaderSidebarBtn(false);\r\n        },\r\n      });\r\n    } else if (this.masterType == \"Document Master\") {\r\n      let completeMsg = \"\";\r\n      completeMsg =\r\n        `<img src=\"../../../assets/warning.svg\"><br/><br/>` +\r\n        `Do you wish to ` +\r\n        type +\r\n        ` the Document Record: ${data[\"code\"]}?`;\r\n\r\n      this.confirmationService.confirm({\r\n        message: completeMsg,\r\n        key: \"activeDeactiveStatus\",\r\n        accept: () => {\r\n          this.updateStatus(e, reqStatus, data, this.formName);\r\n          this.setHeaderSidebarBtn(true);\r\n        },\r\n        reject: () => {\r\n          this.confirmationService.close;\r\n          this.setHeaderSidebarBtn(false);\r\n        },\r\n      });\r\n    }\r\n  }\r\n\r\n  setHeaderSidebarBtn(accept: boolean) {\r\n    this.coreService.displayLoadingScreen();\r\n    setTimeout(() => {\r\n      this.coreService.setHeaderStickyStyle(true);\r\n      this.coreService.setSidebarBtnFixedStyle(true);\r\n    }, 500);\r\n    if (!accept) {\r\n      setTimeout(() => {\r\n        this.coreService.removeLoadingScreen();\r\n      }, 1000);\r\n    }\r\n  }\r\n\r\n  updateStatus(e: any, reqStatus: any, data: any, formName) {\r\n    this.coreService.displayLoadingScreen();\r\n    this.updateTaxCodeStatus(reqStatus, e.target, data, formName);\r\n  }\r\n\r\n  updateTaxCodeStatus(reqStatus: any, sliderElm: any, Data: any, formName) {\r\n    console.log(Data, reqStatus, formName);\r\n\r\n    this.masterService\r\n      .updateMasterStatus(String(Data.id), reqStatus, formName)\r\n      .subscribe(\r\n        (res) => {\r\n          let message = \"\";\r\n          if (res[\"msg\"]) {\r\n            message = res[\"msg\"];\r\n            sliderElm.checked = sliderElm!.checked;\r\n            this.getMasterListData(formName);\r\n            this.coreService.showSuccessToast(message);\r\n          } else {\r\n            this.coreService.removeLoadingScreen();\r\n            message = \"Error in fetching data, Please try again later\";\r\n            this.coreService.showWarningToast(message);\r\n          }\r\n        },\r\n        (err) => {\r\n          console.log(err);\r\n          this.coreService.removeLoadingScreen();\r\n        }\r\n      );\r\n  }\r\n\r\n  toggleFilterVisibility(field) {\r\n    this[`show${field}Options`] = !this[`show${field}Options`];\r\n  }\r\n\r\n  hideFilterVisibility(field) {\r\n    this[`show${field}Options`] = false;\r\n  }\r\n\r\n  getSelectedFilterArr(field: any) {\r\n    return this[`selectedFilter${field}`];\r\n  }\r\n\r\n  setSelectedFilter(ms: MultiSelect, field: any) {\r\n    this[`selectedFilter${field}`] = ms.value;\r\n  }\r\n\r\n  fieldFilterVisible(field: any) {\r\n    return this[`show${field}Options`];\r\n  }\r\n\r\n  fieldFilterOptions(field: any): [] {\r\n    return this[field];\r\n  }\r\n}\r\n","<div class=\"visible-main-section\">\r\n    <div class=\"pagetitle\">\r\n      <div class=\"col-12\">\r\n        <div class=\"row mt-3\">\r\n          <div\r\n            class=\"col-md-9 col-lg-10 col-sm-12 col-xs-12 mt-2 flex-align-center\"\r\n          >\r\n            <div class=\"row\">\r\n              <div\r\n                class=\"col-md-6 col-lg-6 col-sm-12 col-xs-12 inline-flex searchInBtn\"\r\n              >\r\n                <p-dropdown\r\n                  class=\"colorInput\"\r\n                  [options]=\"userTypeOptions\"\r\n                  [(ngModel)]=\"masterType\"\r\n                  optionValue=\"code\"\r\n                  optionLabel=\"name\"\r\n                  class=\"firstdropdown\"\r\n                  placeholder=\"Select Master\"\r\n                ></p-dropdown>\r\n                \r\n              </div>\r\n              <div class=\"col-md-3 col-lg-3 col-sm-6 col-xs-6 pl-0 ml-0\">\r\n                <button\r\n                  pButton\r\n                  pRipple\r\n                  type=\"button\"\r\n                  (click)=\"searchMaster()\"\r\n                  label=\"Search\"\r\n                  style=\"padding: 6px 16px;\"\r\n                  class=\"search-btn ml-2 headerbtn\"\r\n                ></button>\r\n                <button\r\n                  pButton\r\n                  pRipple\r\n                  type=\"button\"\r\n                  (click)=\"clearMaster()\"\r\n                  style=\"padding: 6px 16px;\"\r\n                  label=\"Clear\"\r\n                  class=\"p-button-warning search-btn ml-2 mt-lg-0 headerbtn\"\r\n                ></button>\r\n                <!-- </div> -->\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <!-- *ngIf=\"addnewHide\" -->\r\n          <div class=\"col-md-3 col-lg-2 col-sm-4 col-xs-4 mt-2 headerbtn\" *ngIf=\"addnewHide\">\r\n            <button\r\n              pButton\r\n              pRipple\r\n              type=\"button\"\r\n              label=\"Add New\"\r\n              style=\"padding: 6px 16px;\"\r\n              class=\"p-button-raised search-btn ml-4\"\r\n              (click)=\"addNew()\"\r\n            ></button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  \r\n    <div class=\"ptable\" *ngIf=\"showTable\">\r\n        <p-table\r\n          #dt\r\n          [columns]=\"cols\"\r\n          [value]=\"masterListData\"\r\n          dataKey=\"customerCode\"\r\n          [resizableColumns]=\"true\"\r\n          columnResizeMode=\"fit\"\r\n          [rowHover]=\"true\"\r\n          [paginator]=\"true\"\r\n      [rows]=\"10\"\r\n          [loading]=\"customerTableLoading\"\r\n        >\r\n          <ng-template pTemplate=\"header\" let-columns>\r\n            <tr>\r\n              <th\r\n                *ngFor=\"let col of columns; let c = index\"\r\n                pReorderableColumn\r\n                [pSortableColumn]=\"col.field\"\r\n                pResizableColumn\r\n                [style.width]=\"col.width\"\r\n              >\r\n                {{ col.header }}\r\n                <p-sortIcon\r\n                [field]=\"col.field\"\r\n              ></p-sortIcon>\r\n              </th>\r\n            </tr>\r\n            <tr class=\"search-row\">\r\n              <th *ngFor=\"let col of cols\" [style.width]=\"col.width\">\r\n                <span style=\"width: 80%;\" class=\"p-input-icon-left\" *ngIf=\"col.field != 'status'\">\r\n                  <i class=\"pi pi-search\"></i>\r\n                  <input\r\n                    type=\"text\"\r\n                    class=\"p-inputtext table-search\"\r\n                    placeholder=\"Search\"\r\n                    (input)=\"dt.filter($event.target.value, col.field, 'contains')\"\r\n                  />\r\n                </span>\r\n              </th>\r\n            </tr>\r\n          </ng-template>\r\n          <ng-template\r\n            pTemplate=\"body\"\r\n            let-rowData\r\n            let-columns=\"columns\"\r\n            let-index=\"rowIndex\"\r\n          >\r\n            <tr [pReorderableRow]=\"index\">\r\n              <ng-container *ngFor=\"let col of columns; let i = index\">\r\n                <td *ngIf=\"col.field != 'status'\" >\r\n                  <div\r\n                    style=\"display: inline-block;\" *ngIf=\"!(i == 0)\"\r\n                  >\r\n                    {{ rowData[col[\"field\"]] }}\r\n                  </div>\r\n                 <div *ngIf=\"i == 0\">\r\n                  <a\r\n                  style=\"text-decoration: underline !important;cursor: pointer;color: var(--primary-color)\"\r\n                  (click)=\"openClickForEdit(rowData)\"\r\n                  >{{ rowData[col[\"field\"]] }}</a\r\n                ></div>\r\n                </td>\r\n                <td\r\n              *ngIf=\"col.field == 'status'\"\r\n              style=\"border: none;\"\r\n            >\r\n              <label class=\"switch\" style=\"border: none\">\r\n                <input\r\n                  #statusInp\r\n                  [value]=\"rowData[col['field']]\"\r\n                  type=\"checkbox\"\r\n                  (click)=\"confirmStatus($event, rowData)\"\r\n                  [checked]=\"\r\n                    rowData[col['field']] == 'Active' ||\r\n                    rowData[col['field']] == 'A'\r\n                      ? true\r\n                      : false\r\n                  \"\r\n                />\r\n                <span class=\"slider round\"></span>\r\n              </label>\r\n            </td>\r\n              </ng-container>\r\n            </tr>\r\n          </ng-template>\r\n          <ng-template pTemplate=\"emptymessage\">\r\n            <tr>\r\n              <td [attr.colspan]=\"cols.length\">No Data Found.</td>\r\n            </tr>\r\n          </ng-template>\r\n          <ng-template pTemplate=\"paginatorleft\" let-state>\r\n            {{ state.page * state.rows + 1 }} -\r\n            {{\r\n              state.rows * (state.page + 1) > state.totalRecords\r\n                ? state.totalRecords\r\n                : state.rows * (state.page + 1)\r\n            }}\r\n            of {{ state.totalRecords }}\r\n          </ng-template>\r\n        </p-table>\r\n      </div>\r\n    \r\n  </div>\r\n  <div class=\"NorecordFound\" *ngIf=\"!showTable\">\r\n    <div class=\"row\">\r\n      <div class=\"col-12\"><img src=\"assets/searchCriteria.PNG\" /></div>\r\n    </div>\r\n    <div class=\"row\">\r\n      <div class=\"col-12\">\r\n        <p>Select master to view the details.</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <p-confirmDialog\r\n    key=\"activeDeactiveStatus\"\r\n    class=\"status-confirm confirm-popup\"\r\n    #cd\r\n    [closable]=\"false\"\r\n  >\r\n    <p-footer>\r\n      <button\r\n        type=\"button\"\r\n        pButton\r\n        icon=\"pi pi-check\"\r\n        label=\"Yes\"\r\n        (click)=\"cd.accept()\"\r\n      ></button>\r\n  \r\n      <button\r\n        type=\"button\"\r\n        pButton\r\n        icon=\"pi pi-times\"\r\n        label=\"No\"\r\n        (click)=\"cd.reject()\"\r\n      ></button>\r\n    </p-footer>\r\n  </p-confirmDialog>\r\n  <div class=\"uploadedImgModal\">\r\n    <p-dialog\r\n      [(visible)]=\"showAddnewModal\"\r\n      [modal]=\"true\"\r\n      [style]=\"{ width: '32vw', left: '50px' }\"\r\n      (onHide)=\"closeDialog()\"\r\n    >\r\n      <ng-template pTemplate=\"header\">\r\n        <div class=\"application-header\">Add New</div>\r\n      </ng-template>\r\n      <ng-template pTemplate=\"body\">\r\n        <div class=\"row\" Master-addnew-section>\r\n          <div class=\"col-md-6 col-lg-6\">\r\n            <div\r\n              class=\"taxCode\"\r\n            >\r\n              <p>{{ HeaderCode }}</p>\r\n              <input type=\"text\" pInputText [(ngModel)]=\"masterCode\" disabled style=\"border: 1px solid #a2a3a4 !important;box-shadow: inset 0 0 0 0.01rem #a2a3a4;width: 100%;\" />\r\n            </div>\r\n          </div>\r\n          <div class=\"col-md-6 col-lg-6\">\r\n            <div class=\"taxCode\">\r\n              <p style=\"position: relative;\">\r\n                {{ HeaderName }} <span class=\"description red-star\">*</span>\r\n              </p>\r\n              <input\r\n                type=\"text\"\r\n                pInputText\r\n                maxlength=\"50\"\r\n                placeholder=\"Max 50 characters\"\r\n                [(ngModel)]=\"masterName\"\r\n                maxlength=\"50\"\r\n                style=\"border: 1px solid #a2a3a4 !important;box-shadow: inset 0 0 0 0.01rem #a2a3a4;width: 100%;\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </ng-template>\r\n      <ng-template pTemplate=\"footer\">\r\n        <div class=\"row addnewbtnSection\" Master-addnew-section >\r\n            <button\r\n            pButton\r\n            pRipple\r\n            type=\"button\"\r\n            label=\"Save & Close\"\r\n            class=\"p-button-raised search-btn \"\r\n            (click)=\"saveAddNewMaster('save')\"\r\n          ></button>\r\n            <button\r\n            pButton\r\n            pRipple\r\n            type=\"button\"\r\n            label=\"Save & Add New\"\r\n            class=\"p-button-raised search-btn \"\r\n            (click)=\"saveAddNewMaster('saveAndAddNew')\"\r\n          ></button>\r\n            <button\r\n            pButton\r\n            pRipple\r\n            type=\"button\"\r\n            label=\"Reset\"\r\n            class=\"p-button-warning search-btn \"\r\n            (click)=\"resetAddNew()\"\r\n          ></button>\r\n        </div>\r\n      </ng-template>\r\n    </p-dialog>\r\n  </div>\r\n  <div class=\"uploadedImgModal\">\r\n    <p-dialog\r\n      [(visible)]=\"showViewModal\"\r\n      [modal]=\"true\"\r\n      [style]=\"{ width: '32vw', left: '50px' }\"\r\n      (onHide)=\"closeDialog()\"\r\n    >\r\n      <ng-template pTemplate=\"header\">\r\n        <div class=\"application-header\">View</div>\r\n      </ng-template>\r\n      <ng-template pTemplate=\"body\">\r\n        <div class=\"row\" Master-addnew-section>\r\n          <div class=\"col-md-6 col-lg-6\">\r\n            <div\r\n              class=\"taxCode\"\r\n            >\r\n              <p>{{ HeaderCode }}</p>\r\n              <input type=\"text\" pInputText [(ngModel)]=\"masterCode\" disabled style=\"border: 1px solid #a2a3a4 !important;box-shadow: inset 0 0 0 0.01rem #a2a3a4;width: 100%;\" />\r\n            </div>\r\n          </div>\r\n          <div class=\"col-md-6 col-lg-6\">\r\n            <div class=\"taxCode\">\r\n              <p style=\"position: relative;\">\r\n                {{ HeaderName }} <span class=\"description red-star\">*</span>\r\n              </p>\r\n              <input\r\n                type=\"text\"\r\n                pInputText\r\n                maxlength=\"50\"\r\n                placeholder=\"Max 50 characters\"\r\n                [disabled]=\"disableCodeName\"\r\n                [(ngModel)]=\"masterName\"\r\n                style=\"border: 1px solid #a2a3a4 !important;box-shadow: inset 0 0 0 0.01rem #a2a3a4;width: 100%;\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </ng-template>\r\n      <ng-template pTemplate=\"footer\">\r\n        <div class=\"row btnsection\" Master-addnew-section>\r\n            <button\r\n            pButton\r\n            pRipple\r\n            type=\"button\"\r\n            label=\"Edit\"\r\n            class=\"p-button-warning search-btn \"\r\n            (click)=\"editDisableModel()\"\r\n            style=\"padding: 6px 16px;\"\r\n            [disabled]=\"deactivated\"\r\n          ></button>\r\n          <button\r\n            pButton\r\n            pRipple\r\n            type=\"button\"\r\n            label=\"Save\"\r\n            class=\"p-button-raised search-btn \"\r\n            disabled\r\n            (click)=\"updateMaster()\"\r\n            style=\"padding: 6px 16px;\"\r\n          ></button>\r\n        </div>\r\n      </ng-template>\r\n    </p-dialog>\r\n  </div>\r\n  ","import { HttpClient, HttpHeaders } from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { Observable } from \"rxjs\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class MasterServiceService {\r\n  constructor(private http: HttpClient) {}\r\n\r\n  getMasterlistData(formName: any) {\r\n    return this.http.get(`/appControl/masterController/masterDataList`, {\r\n      headers: new HttpHeaders().set(\"formName\", formName),\r\n    });\r\n  }\r\n\r\n  updateMasterStatus(masterId: any, status: any, formName: any) {\r\n    return this.http.post(\r\n      `/appControl/masterController/updateMasterStatus`,\r\n      {},\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"id\", masterId)\r\n          .set(\"status\", status)\r\n          .set(\"formName\", formName),\r\n      }\r\n    );\r\n  }\r\n\r\n  getMasterForEdit(masterId: any, formName: any) {\r\n    return this.http.get(`/appControl/masterController/getMasterData`, {\r\n      headers: new HttpHeaders().set(\"id\", masterId).set(\"formName\", formName),\r\n    });\r\n  }\r\n\r\n  getAddMasterData(formName: any) {\r\n    return this.http.get(`/appControl/masterController/addNew`, {\r\n      headers: new HttpHeaders().set(\"formName\", formName),\r\n    });\r\n  }\r\n\r\n  updateNewMaster(data, formName: any): Observable<any> {\r\n    return this.http.post(`/appControl//masterController/updateMaster`, data, {\r\n      headers: new HttpHeaders().set(\"formName\", formName),\r\n    });\r\n  }\r\n\r\n  addNewMaster(data, formName: any): Observable<any> {\r\n    return this.http.post(`/appControl/masterController/saveMaster`, data, {\r\n      headers: new HttpHeaders().set(\"formName\", formName),\r\n    });\r\n  }\r\n}\r\n","import {\r\n  AfterViewInit,\r\n  Component,\r\n  ElementRef,\r\n  HostListener,\r\n  OnInit,\r\n  ViewChild,\r\n} from \"@angular/core\";\r\nimport { ActivatedRoute, NavigationEnd, Router } from \"@angular/router\";\r\nimport { TranslateService } from \"@ngx-translate/core\";\r\nimport { MenuItem } from \"primeng/api\";\r\nimport { take } from \"rxjs/operators\";\r\nimport { AuthService } from \"../auth/auth.service\";\r\nimport { CoreService } from \"../core.service\";\r\nimport { Subscription } from \"rxjs\";\r\nimport { LoginService } from \"../login/login.service\";\r\n\r\n@Component({\r\n  selector: \"app-navbar\",\r\n  templateUrl: \"./navbar.component.html\",\r\n  styleUrls: [\"./navbar.component.scss\"],\r\n})\r\nexport class NavbarComponent implements OnInit, AfterViewInit {\r\n  @ViewChild(\"toggleSidebar\") toggleSidebarBtn: ElementRef;\r\n  @ViewChild(\"sidebarDiv\") sidebarDiv: ElementRef;\r\n  @ViewChild(\"logo\") logoImg: ElementRef;\r\n\r\n  primaryColor = \"var(--primary-color)\";\r\n\r\n  pageTitle = \"\";\r\n  private subscription: Subscription;\r\n\r\n  breadcrumbsItems: MenuItem[] = [\r\n    { label: \"Home\", routerLink: \"/navbar\" },\r\n    { label: \"Settings\", routerLink: \"/navbar\" },\r\n    { label: \"Bank Routing Settings\", routerLink: \"bank-routing\" },\r\n  ];\r\n  getdata: any;\r\n  cities1: any[];\r\n  response: any;\r\n  ispaymentMode: boolean = true;\r\n  isviewPaymentMode: boolean = false;\r\n  menuItems: MenuItem[] = [];\r\n  $MenuItems: MenuItem[] = [];\r\n  menuItemTree: any = [];\r\n\r\n  userActions = [{ name: \"Profile\" }, { name: \"Logout\" }];\r\n  get profileOptions() {\r\n    return this.userActions;\r\n  }\r\n\r\n  themeOptions = [\r\n    { name: \"Blue\", color: \"#4759e4\" },\r\n    { name: \"Green\", color: \"#029a71\" },\r\n    { name: \"Purple\", color: \"#6a0aa2\" },\r\n    { name: \"Magenta\", color: \"#007491\" },\r\n    // { name: \"Amber\", color: \"#ffbf00\" },\r\n    // { name: \"Pink\", color: \"#ffc0cb\" },\r\n  ];\r\n  selectedTheme = { name: \"Blue\", color: \"#4759e4\" };\r\n\r\n  toggleState = \"left\";\r\n  languages = [\r\n    { label: \"English\", value: \"en\" },\r\n    { label: \"Arabic\", value: \"ar\" },\r\n    { label: \"Germany \", value: \"de\" },\r\n  ];\r\n  selectedLanguage = \"en\";\r\n  currRoute: any;\r\n\r\n  isStickyHeader = false;\r\n\r\n  loggedInUserName = \"User\";\r\n\r\n  loggedInUserCode = null;\r\n\r\n  eligibleApplications: any = [];\r\n  selectedEligibleApp: any = { code: \"def\", codeName: \"def\" };\r\n\r\n  constructor(\r\n    public translate: TranslateService,\r\n    private el: ElementRef,\r\n    private router: Router,\r\n    private coreService: CoreService,\r\n    private route: ActivatedRoute,\r\n    private authService: AuthService,\r\n    private loginService: LoginService\r\n  ) {\r\n    this.subscription = this.coreService.pageTitle$.subscribe((title) => {\r\n      this.pageTitle = title;\r\n    });\r\n\r\n    this.router.events.subscribe((event) => {\r\n      if (event instanceof NavigationEnd) {\r\n        this.currRoute = event[\"urlAfterRedirects\"];\r\n        // this.setSidebarMenu();\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.switchLanguage(this.selectedLanguage);\r\n    this.selectTheme({ name: \"Blue\", color: \"#4759e4\" });\r\n    this.coreService.setsidebarMenu(\r\n      JSON.parse(localStorage.getItem(\"menuItems\"))\r\n    );\r\n    this.coreService.getsidebarMenu().subscribe((sideMenu) => {\r\n      console.log(\":::sideMenu\", sideMenu);\r\n      this.setSidebarMenu(sideMenu);\r\n    });\r\n\r\n    this.loggedInUserName =\r\n      (localStorage.getItem(\"userData\") &&\r\n        JSON.parse(localStorage.getItem(\"userData\"))[\"userName\"]) ||\r\n      \"User\";\r\n    this.loggedInUserCode =\r\n      localStorage.getItem(\"userData\") &&\r\n      JSON.parse(localStorage.getItem(\"userData\"))[\"userCode\"];\r\n    this.eligibleApplications = JSON.parse(\r\n      localStorage.getItem(\"eligibleApplicationsForUser\")\r\n    );\r\n    const selectedApplication = JSON.parse(\r\n      localStorage.getItem(\"selectedApplication\")\r\n    );\r\n    if (selectedApplication) this.selectedEligibleApp = selectedApplication;\r\n    this.coreService.getBreadCrumbMenu().subscribe((menu) => {\r\n      console.log(\":::mainBCrumbs\", menu);\r\n      this.breadcrumbsItems = menu;\r\n    });\r\n    this.coreService\r\n      .getBreadCrumbMenuFromInternalPages()\r\n      .subscribe((bCrumbsInternal) => {\r\n        console.log(\":::bCrumbsInternal\", bCrumbsInternal);\r\n\r\n        if (bCrumbsInternal && bCrumbsInternal.length) {\r\n          this.breadcrumbsItems = null;\r\n\r\n          this.breadcrumbsItems = [...bCrumbsInternal];\r\n        }\r\n      });\r\n    this.coreService.userActionsObs.subscribe((opt) => {\r\n      this.userActions = opt;\r\n    });\r\n\r\n    this.coreService.$headerSticky.subscribe((isStickyHeader) => {\r\n      let headerElm = document.getElementById(\"header\");\r\n      if (isStickyHeader && this.isStickyHeader) {\r\n        headerElm.classList.add(\"sticky\");\r\n      } else {\r\n        headerElm.classList.remove(\"sticky\");\r\n      }\r\n    });\r\n    this.coreService.$sidebarBtnFixed.subscribe((isFixedSidebarBtn) => {\r\n      let sidebarBtnElm = document.getElementById(\"toggleSidebarBtn\");\r\n      if (isFixedSidebarBtn) {\r\n        sidebarBtnElm.classList.remove(\"notFixed\");\r\n      } else {\r\n        sidebarBtnElm.classList.add(\"notFixed\");\r\n      }\r\n    });\r\n\r\n    this.authService.userDataSub.pipe(take(1)).subscribe((user) => {\r\n      if (!user) {\r\n        this.userActions = [{ name: \"Login\" }];\r\n      } else {\r\n        this.userActions = [{ name: \"Profile\" }, { name: \"Logout\" }];\r\n      }\r\n    });\r\n  }\r\n\r\n  setBreadCrumbsFromInternalPages(bCrumbs: any) {\r\n    this.breadcrumbsItems = bCrumbs;\r\n  }\r\n\r\n  switchLanguage(language: string) {\r\n    this.coreService.setLanguage(language);\r\n\r\n    // Example: Update the dynamic header based on the selected language\r\n    this.coreService\r\n      .translate(\"Home.Settings\")\r\n      .then((translatedTitle: string) => {\r\n        this.coreService.setPageTitle(translatedTitle);\r\n      });\r\n  }\r\n\r\n  goIntoApplication(app: any) {\r\n    console.log(this.selectedEligibleApp, app);\r\n    if (app && app.eligibleApp) {\r\n      if (this.selectedEligibleApp.code != app.code) {\r\n        localStorage.setItem(\"selectedApplication\", JSON.stringify(app));\r\n        this.coreService.displayLoadingScreen();\r\n        console.log(\":::app\", app);\r\n        this.loginService\r\n          .getAppModuleData(this.loggedInUserCode, app.code)\r\n          .subscribe(\r\n            (res) => {\r\n              if (\r\n                !(res[\"application\"] || res[\"module\"] || res[\"menuItemTree\"])\r\n              ) {\r\n                this.coreService.removeLoadingScreen();\r\n                this.coreService.showWarningToast(\r\n                  \"Data Not Available for Selected Application\"\r\n                );\r\n              } else {\r\n                this.loginService.saveUserSelectedApplicationData(res);\r\n                this.router.navigate([\"/navbar\"]);\r\n              }\r\n            },\r\n            (err) => {\r\n              this.coreService.removeLoadingScreen();\r\n              console.log(\"Error in getting App Module\", err);\r\n            }\r\n          );\r\n      } else {\r\n        this.coreService.showSuccessToast(\"Already in this Application.\");\r\n      }\r\n    }\r\n  }\r\n\r\n  createPanelMenuData(apiData: any) {\r\n    const itemsMap = {};\r\n    const rootItems = [];\r\n\r\n    apiData.forEach((item) => {\r\n      const newItem = {\r\n        id: String(item.id),\r\n        label: item.menuName,\r\n        icon: this.getIcons(item.id).icon,\r\n        items: [],\r\n        expanded:\r\n          this.getIcons(item.id).matchUrls &&\r\n          this.getIcons(item.id).matchUrls.some((v) =>\r\n            this.currRoute.includes(v)\r\n          ),\r\n      };\r\n\r\n      itemsMap[item.id] = newItem;\r\n      if (item.parentId === 0) {\r\n        rootItems.push(newItem);\r\n      } else {\r\n        const parentItem = itemsMap[item.parentId];\r\n        if (parentItem) {\r\n          newItem[\"icon\"] = null;\r\n          newItem[\"items\"] = null;\r\n          parentItem.items.push(this.getSubMenus(newItem));\r\n        } else {\r\n          console.error(\r\n            `Parent item with ID ${item.parentId} not found for item ${item.id}`\r\n          );\r\n        }\r\n      }\r\n    });\r\n    return rootItems;\r\n  }\r\n\r\n  setSidebarMenu(sideMenu: any) {\r\n    console.log(\":::sidemenudata\", sideMenu);\r\n    if (sideMenu) {\r\n      // const menuItems = sideMenu;\r\n      this.menuItemTree = sideMenu;\r\n    }\r\n    this.menuItems = [];\r\n\r\n    // !\r\n    console.log(\":::apimenudata\", this.menuItemTree);\r\n    let formattedMenuTree = this.createPanelMenuData(this.menuItemTree);\r\n    console.log(\":::\", JSON.stringify(formattedMenuTree));\r\n    // !\r\n\r\n    this.menuItems = formattedMenuTree;\r\n    this.$MenuItems = this.menuItems;\r\n  }\r\n\r\n  getSubMenus(item: any) {\r\n    switch (item[\"id\"]) {\r\n      case \"6\":\r\n        item[\"routerLink\"] = \"/navbar/rate-settings\";\r\n        item[\"routerLinkActiveOptions\"] = { subset: true };\r\n        break;\r\n\r\n      case \"7\":\r\n        item[\"routerLink\"] = \"/navbar/customised-messages\";\r\n        item[\"routerLinkActiveOptions\"] = { subset: true };\r\n        break;\r\n      case \"8\":\r\n        item[\"routerLink\"] = \"/navbar/master\";\r\n        item[\"routerLinkActiveOptions\"] = { subset: true };\r\n        break;\r\n      case \"9\":\r\n        item[\"routerLink\"] = \"/navbar/charge-settings\";\r\n        item[\"routerLinkActiveOptions\"] = { subset: true };\r\n        break;\r\n      case \"10\":\r\n        item[\"routerLink\"] = \"/navbar/company-settings\";\r\n        item[\"routerLinkActiveOptions\"] = { subset: true };\r\n        break;\r\n      case \"11\":\r\n        item[\"routerLink\"] = \"/navbar/tax-settings\";\r\n        item[\"routerLinkActiveOptions\"] = { subset: true };\r\n        break;\r\n      case \"12\":\r\n        item[\"routerLink\"] = \"/navbar/bank-routing\";\r\n        item[\"routerLinkActiveOptions\"] = { subset: true };\r\n        break;\r\n      case \"13\":\r\n        item[\"routerLink\"] = \"/navbar/document-settings\";\r\n        item[\"routerLinkActiveOptions\"] = { subset: true };\r\n        break;\r\n\r\n      case \"14\":\r\n        item[\"routerLink\"] = \"/navbar/form-rules\";\r\n        item[\"routerLinkActiveOptions\"] = { subset: true };\r\n        break;\r\n      case \"15\":\r\n        item[\"routerLink\"] = \"/navbar/criteria-settings\";\r\n        item[\"routerLinkActiveOptions\"] = { subset: true };\r\n        break;\r\n      case \"16\":\r\n        item[\"routerLink\"] = \"/navbar/search-settings\";\r\n        item[\"routerLinkActiveOptions\"] = { subset: true };\r\n        break;\r\n      case \"17\":\r\n        item[\"routerLink\"] = \"/navbar/customer-profile\";\r\n        item[\"routerLinkActiveOptions\"] = { subset: true };\r\n        break;\r\n      case \"18\":\r\n        item[\"routerLink\"] = \"/navbar/beneficiary-profile\";\r\n        item[\"routerLinkActiveOptions\"] = { subset: true };\r\n        break;\r\n\r\n      case \"19\":\r\n        item[\"routerLink\"] = \"/navbar/loyalty-programs\";\r\n        item[\"routerLinkActiveOptions\"] = { subset: true };\r\n        break;\r\n      case \"20\":\r\n        item[\"routerLink\"] = \"/navbar/loyalty-programs-details\";\r\n        item[\"routerLinkActiveOptions\"] = { subset: true };\r\n        break;\r\n\r\n      case \"21\":\r\n        item[\"routerLink\"] = \"/navbar/get-tax-settings\";\r\n        item[\"routerLinkActiveOptions\"] = { subset: true };\r\n        break;\r\n      case \"22\":\r\n        item[\"routerLink\"] = \"/navbar/get-doc-settings\";\r\n        item[\"routerLinkActiveOptions\"] = { subset: true };\r\n        break;\r\n      case \"23\":\r\n        item[\"routerLink\"] = \"/navbar/get-bank-routings\";\r\n        item[\"routerLinkActiveOptions\"] = { subset: true };\r\n        break;\r\n      case \"24\":\r\n        item[\"routerLink\"] = \"/navbar/get-loyalty-programs\";\r\n        item[\"routerLinkActiveOptions\"] = { subset: true };\r\n        break;\r\n    }\r\n    return item;\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    const bodyTag = this.el.nativeElement.closest(\"body\");\r\n    let bigLogoImgSrc = \"assets/icon/casmex logo.svg\";\r\n    let smallLogoImgSrc = \"assets/icon/logo-Icon.svg\";\r\n    this.toggleSidebarBtn.nativeElement.addEventListener(\"click\", () => {\r\n      if (bodyTag.classList.contains(\"minified-sidebar\")) {\r\n        bodyTag.classList.remove(\"minified-sidebar\");\r\n        // this.logoImg.nativeElement.setAttribute(\"src\", bigLogoImgSrc);\r\n        this.toggleState = \"left\";\r\n      } else {\r\n        bodyTag.classList.add(\"minified-sidebar\");\r\n        // this.logoImg.nativeElement.setAttribute(\"src\", smallLogoImgSrc);\r\n        this.toggleState = \"right\";\r\n      }\r\n    });\r\n  }\r\n\r\n  @HostListener(\"window:resize\", [\"$event\"])\r\n  onResize(event) {\r\n    const bodyTag = this.el.nativeElement.closest(\"body\");\r\n    let widerThan1200 = window.matchMedia(\"(min-width: 1200px)\");\r\n    let thinThan1200 = window.matchMedia(\"(max-width: 1199px)\");\r\n    if (\r\n      widerThan1200.matches &&\r\n      bodyTag.classList.contains(\"minified-sidebar\")\r\n    ) {\r\n      bodyTag.classList.remove(\"minified-sidebar\");\r\n      this.toggleState = \"left\";\r\n    } else if (\r\n      thinThan1200.matches &&\r\n      !bodyTag.classList.contains(\"minified-sidebar\")\r\n    ) {\r\n      bodyTag.classList.add(\"minified-sidebar\");\r\n      this.toggleState = \"right\";\r\n    }\r\n  }\r\n\r\n  @HostListener(\"window:scroll\", [\"$event\"])\r\n  onWindowScroll(e) {\r\n    if (window.pageYOffset > 15) {\r\n      this.isStickyHeader = true;\r\n      let element = document.getElementById(\"header\");\r\n      element.classList.add(\"sticky\");\r\n    } else {\r\n      this.isStickyHeader = false;\r\n      let element = document.getElementById(\"header\");\r\n      element.classList.remove(\"sticky\");\r\n    }\r\n  }\r\n\r\n  getIcons(menuId: number) {\r\n    let iconName;\r\n    let routeName;\r\n    let matchUrls;\r\n    switch (menuId) {\r\n      case 1:\r\n        iconName = \"settings-icon\";\r\n        matchUrls = [\r\n          \"/navbar/bank-routing\",\r\n          \"/navbar/tax-settings\",\r\n          \"/navbar/charge-settings\",\r\n          \"/navbar/form-rules\",\r\n          \"/navbar/bank-routing/addnewroute\",\r\n          \"/navbar/document-settings\",\r\n          \"/navbar/customised-messages\",\r\n          \"/navbar/company-settings\",\r\n          \"/navbar/rate-settings\",\r\n          \"/navbar/master\",\r\n        ];\r\n        routeName = \"/navbar/bank-routing\";\r\n        break;\r\n      case 2:\r\n        iconName = \"applicationsettings-icon\";\r\n        matchUrls = [\"/navbar/criteria-settings\", \"/navbar/search-settings\"];\r\n        routeName = \"/navbar/criteria-settings\";\r\n        break;\r\n      case 3:\r\n        iconName = \"beneficiary-icon\";\r\n        matchUrls = [\"/navbar/customer-profile\", \"/navbar/beneficiary-profile\"];\r\n        routeName = \"/navbar/customer-profile\";\r\n        break;\r\n      case 4:\r\n        iconName = \"settings-icon\";\r\n        matchUrls = [\r\n          \"/navbar/loyalty-programs\",\r\n          \"/navbar/loyalty-programs-details\",\r\n        ];\r\n        routeName = \"/navbar/loyalty-programs\";\r\n        break;\r\n      case 5:\r\n        iconName = \"applicationsettings-icon\";\r\n        matchUrls = [\r\n          \"/navbar/get-bank-routings\",\r\n          \"/navbar/get-loyalty-programs\",\r\n          \"/navbar/get-tax-settings\",\r\n          \"/navbar/get-doc-settings\",\r\n        ];\r\n        routeName = \"/navbar/criteria-settings\";\r\n        break;\r\n      // case \"Master\":\r\n      //   iconName = \"beneficiary-icon\";\r\n      //   matchUrls = [\"/navbar/master\"];\r\n      //   routeName = \"/navbar/master\";\r\n      //   break;\r\n      // case \"Customer Profile\":\r\n      //   iconName = \"beneficiary-icon\";\r\n      //   matchUrls = [\"/navbar/customer-profile\"];\r\n      //   routeName = \"/navbar/customer-profile\";\r\n      //   break;\r\n      // case \"Beneficiary Profile\":\r\n      //   iconName = \"beneficiary-icon\";\r\n      //   matchUrls = [\"/navbar/beneficiary-profile\"];\r\n      //   routeName = \"/navbar/beneficiary-profile\";\r\n      //   break;\r\n      // case \"Dashboard\":\r\n      //   iconName = \"dashboard-icon\";\r\n      //   break;\r\n      // case \"Rate Setup\":\r\n      //   iconName = \"rateSetup-icon\";\r\n      //   break;\r\n      // case \"Remmitance\":\r\n      //   iconName = \"remmitance-icon\";\r\n      //   break;\r\n      // case \"User Roles Management\":\r\n      //   iconName = \"rateSetup-icon\";\r\n      //   break;\r\n      // case \"Reports\":\r\n      //   iconName = \"reports-icon\";\r\n      //   break;\r\n      // case \"Accounts\":\r\n      //   iconName = \"Accounts-icon\";\r\n      //   break;\r\n      // case \"Incoming\":\r\n      //   iconName = \"Incoming-icon\";\r\n      //   break;\r\n\r\n      default:\r\n        iconName = \"settings-icon\";\r\n        break;\r\n    }\r\n    return { icon: iconName, matchUrls: matchUrls, routerLink: routeName };\r\n  }\r\n\r\n  selectProfileOption(data) {\r\n    if (data && (data.name == \"Logout\" || data.name == \"Login\")) {\r\n      this.authService.userDataSub.next(null);\r\n      localStorage.removeItem(\"token\");\r\n      localStorage.removeItem(\"userData\");\r\n      localStorage.removeItem(\"licenseCountry\");\r\n      localStorage.removeItem(\"selectedApplication\");\r\n      localStorage.clear();\r\n      if (data.name == \"Logout\") {\r\n        this.coreService.showSuccessToast(\"Logged Out Successfully.\");\r\n      }\r\n      this.router.navigate([\"login\"]);\r\n    }\r\n  }\r\n\r\n  selectTheme(data) {\r\n    this.selectedTheme = data;\r\n    let theme = \"theme-\" + data.name.toLowerCase();\r\n    this.coreService.switchTheme(theme);\r\n  }\r\n\r\n  filterMenuItems(e: Event) {\r\n    this.menuItems = this.$MenuItems;\r\n    let arr = [];\r\n    this.$MenuItems.forEach((item) => {\r\n      let found = false;\r\n      if (item.label.toLowerCase().includes(e.target[\"value\"]?.toLowerCase())) {\r\n        found = true;\r\n      } else if (item.items) {\r\n        item.items.forEach((subItem) => {\r\n          if (!found) {\r\n            if (\r\n              subItem[\"label\"]\r\n                .toLowerCase()\r\n                .includes(e.target[\"value\"]?.toLowerCase())\r\n            ) {\r\n              found = true;\r\n            }\r\n          }\r\n        });\r\n      }\r\n      if (found) {\r\n        arr.push(item);\r\n      }\r\n    });\r\n    this.menuItems = arr;\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subscription.unsubscribe();\r\n  }\r\n}\r\n","<header id=\"header\" class=\"col-12 header d-flex align-items-center\">\r\n  <div\r\n    class=\"d-flex flex-column align-items-baseline justify-content-between header-bar\"\r\n  >\r\n    <div class=\"header-nav\">\r\n      <h4 class=\"page-heading\">\r\n        {{ pageTitle }}\r\n      </h4>\r\n    </div>\r\n    <p-breadcrumb [model]=\"breadcrumbsItems\"></p-breadcrumb>\r\n  </div>\r\n  <!-- End Logo -->\r\n\r\n  <nav class=\"header-nav ms-auto\">\r\n    <ul class=\"d-flex align-items-center\">\r\n      <li class=\"nav-item\">\r\n        <p-dropdown\r\n          #themeOpt\r\n          class=\"theme-dropdown\"\r\n          [options]=\"themeOptions\"\r\n          optionLabel=\"name\"\r\n          (onChange)=\"selectTheme(themeOpt.value)\"\r\n          [(ngModel)]=\"selectedTheme\"\r\n        >\r\n          <ng-template pTemplate=\"selectedItem\">\r\n            <div\r\n              class=\"theme-item\"\r\n              style=\"display: flex; align-items: center; gap: 8px\"\r\n              pTooltip=\"Select Theme Color.\"\r\n            >\r\n              <div\r\n                [ngStyle]=\"{\r\n                  width: '20px',\r\n                  height: '20px',\r\n                  borderRadius: '50%',\r\n                  background: selectedTheme.color\r\n                }\"\r\n              ></div>\r\n              <div>{{ selectedTheme.name }}</div>\r\n            </div>\r\n          </ng-template>\r\n\r\n          <ng-template let-theme pTemplate=\"item\">\r\n            <div\r\n              class=\"theme-item\"\r\n              style=\"display: flex; align-items: center; gap: 8px\"\r\n            >\r\n              <div\r\n                [ngStyle]=\"{\r\n                  width: '20px',\r\n                  height: '20px',\r\n                  borderRadius: '50%',\r\n                  background: theme.color\r\n                }\"\r\n              ></div>\r\n              <div>{{ theme.name }}</div>\r\n            </div>\r\n          </ng-template>\r\n        </p-dropdown>\r\n      </li>\r\n      <!-- <li class=\"nav-item\">\r\n        <p-dropdown\r\n          [options]=\"languages\"\r\n          [(ngModel)]=\"selectedLanguage\"\r\n          (onChange)=\"switchLanguage(selectedLanguage)\"\r\n        ></p-dropdown>\r\n      </li> -->\r\n      <li class=\"nav-item\">\r\n        <p-dropdown\r\n          #appDropdown\r\n          class=\"theme-dropdown app-switcher\"\r\n          [options]=\"eligibleApplications\"\r\n          optionLabel=\"codeName\"\r\n          (onChange)=\"goIntoApplication(appDropdown.value)\"\r\n          [(ngModel)]=\"selectedEligibleApp\"\r\n        >\r\n          <ng-template pTemplate=\"selectedItem\">\r\n            <div\r\n              class=\"theme-item\"\r\n              style=\"display: flex; align-items: center; gap: 8px\"\r\n              pTooltip=\"Select App.\"\r\n            >\r\n              <a class=\"nav-link nav-icon\">\r\n                <img src=\"../assets/icon/app-switcher.svg\" alt=\"\" />\r\n              </a>\r\n            </div>\r\n          </ng-template>\r\n\r\n          <ng-template let-theme pTemplate=\"item\">\r\n            <div\r\n              class=\"theme-item\"\r\n              style=\"display: flex; align-items: center; gap: 8px\"\r\n            >\r\n              <!-- <div\r\n                [ngStyle]=\"{\r\n                  width: '20px',\r\n                  height: '20px',\r\n                  borderRadius: '50%',\r\n                  background: theme.color\r\n                }\"\r\n              ></div> -->\r\n              <div>{{ theme.codeName }}</div>\r\n            </div>\r\n          </ng-template>\r\n        </p-dropdown>\r\n      </li>\r\n      <!-- End app-switcher -->\r\n      <li class=\"nav-item notification-alert\">\r\n        <a class=\"nav-link nav-icon\" data-bs-toggle=\"dropdown\">\r\n          <img src=\"../assets/icon/notification icon top navbar.svg\" alt=\"\" />\r\n          <span class=\"badge badge-number\">4</span> </a\r\n        ><!-- End Notification Icon -->\r\n      </li>\r\n      <li class=\"nav-item profile-icon-name d-flex\">\r\n        <img\r\n          src=\"../assets/icon/profile icon.svg\"\r\n          alt=\"Profile\"\r\n          class=\"rounded-circle\"\r\n        />\r\n        <div class=\"profile-content\">\r\n          <p-dropdown\r\n            #profileOpt\r\n            class=\"profile-dropdown\"\r\n            [options]=\"profileOptions\"\r\n            [placeholder]=\"loggedInUserName\"\r\n            optionLabel=\"name\"\r\n            (onClick)=\"selectProfileOption(profileOpt.value)\"\r\n            [showClear]=\"false\"\r\n          >\r\n          </p-dropdown>\r\n          <span style=\"padding-left: 0.75rem\"> ADMIN </span>\r\n        </div>\r\n      </li>\r\n      <!-- End Profile Nav -->\r\n    </ul>\r\n  </nav>\r\n  <!-- End Icons Navigation -->\r\n</header>\r\n<!-- End Header -->\r\n<div class=\"toggle-sidebar\" id=\"toggleSidebarBtn\">\r\n  <i\r\n    #toggleSidebar\r\n    class=\"toggle-sidebar-btn\"\r\n    [className]=\"'pi pi-chevron-' + toggleState\"\r\n  ></i>\r\n</div>\r\n<aside #sidebarDiv id=\"sidebar\" class=\"sidebar\" style=\"width: 270px\">\r\n  <div class=\"sidebar-header\">\r\n    <a routerLink=\"/navbar\" class=\"logo d-flex align-items-center\">\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        width=\"227.981\"\r\n        height=\"45\"\r\n        viewBox=\"0 0 227.981 46.596\"\r\n      >\r\n        <g\r\n          id=\"casmex_logo\"\r\n          data-name=\"casmex logo\"\r\n          transform=\"translate(-28.93 -28.934)\"\r\n        >\r\n          <path\r\n            id=\"Path_15\"\r\n            data-name=\"Path 15\"\r\n            d=\"M245.777,49.629q0-7.989,3.842-11.79t11.277-3.8a25.347,25.347,0,0,1,6.325.749v4.772a23.539,23.539,0,0,0-5.6-.721,12.523,12.523,0,0,0-5.562,1.068,6.819,6.819,0,0,0-3.218,3.412,15.12,15.12,0,0,0-1.068,6.2q0,5.826,2.205,8.364t6.727,2.539a21.819,21.819,0,0,0,6.519-1.165v4.771a22.308,22.308,0,0,1-7.407,1.221q-14.038,0-14.037-15.619\"\r\n            transform=\"translate(-160.336 2.907)\"\r\n            fill=\"#fff\"\r\n          />\r\n          <path\r\n            id=\"Path_16\"\r\n            data-name=\"Path 16\"\r\n            d=\"M362.369,35.121a7.642,7.642,0,0,1,4.009,3.579,14.473,14.473,0,0,1,1.331,6.769V64.694h-4.8l-.416-3.273h-.333a9.123,9.123,0,0,1-3.634,2.8,11.982,11.982,0,0,1-4.855.971,11.34,11.34,0,0,1-4.979-1.013,7.349,7.349,0,0,1-3.218-2.913,8.585,8.585,0,0,1-1.123-4.453,7.745,7.745,0,0,1,2.746-6.353q2.747-2.247,8.683-2.746l6.27-.638V45.163a8.144,8.144,0,0,0-.791-3.939,4.394,4.394,0,0,0-2.414-2.011,12.7,12.7,0,0,0-4.286-.6,27.473,27.473,0,0,0-4.009.319,24.451,24.451,0,0,0-4.147.985v-4.55a25.624,25.624,0,0,1,4.383-.985,33.184,33.184,0,0,1,4.66-.347,18.708,18.708,0,0,1,6.922,1.082m-3.426,25.065a8.518,8.518,0,0,0,3.107-2.372v-7.13l-5.8.583a8.687,8.687,0,0,0-4.674,1.553,4.241,4.241,0,0,0-1.456,3.44,4.473,4.473,0,0,0,1.318,3.5,5.632,5.632,0,0,0,3.9,1.193,8.924,8.924,0,0,0,3.606-.763\"\r\n            transform=\"translate(-236.245 2.906)\"\r\n            fill=\"#fff\"\r\n          />\r\n          <path\r\n            id=\"Path_17\"\r\n            data-name=\"Path 17\"\r\n            d=\"M462.384,64V59.506a29.948,29.948,0,0,0,8.683,1.3,9.325,9.325,0,0,0,5.2-1.137,3.76,3.76,0,0,0,1.651-3.3,3.666,3.666,0,0,0-.929-2.7,6.3,6.3,0,0,0-3.149-1.4l-4.328-.86a10.458,10.458,0,0,1-5.923-2.857,7.908,7.908,0,0,1-1.845-5.493,8.2,8.2,0,0,1,1.387-4.73,8.865,8.865,0,0,1,4.217-3.163,19.116,19.116,0,0,1,7.019-1.123,28.611,28.611,0,0,1,7.379.915v4.494a27.133,27.133,0,0,0-7.241-.971q-3.884,0-5.6,1.207a3.759,3.759,0,0,0-1.72,3.232,3.638,3.638,0,0,0,.9,2.58,5.817,5.817,0,0,0,3.065,1.443l4.328.832a11.324,11.324,0,0,1,6.02,2.844,7.669,7.669,0,0,1,1.886,5.507A8.39,8.39,0,0,1,481.97,61a8.862,8.862,0,0,1-4.175,3.149,18.1,18.1,0,0,1-6.672,1.1A29.174,29.174,0,0,1,462.384,64\"\r\n            transform=\"translate(-326.648 2.906)\"\r\n            fill=\"#fff\"\r\n          />\r\n          <path\r\n            id=\"Path_18\"\r\n            data-name=\"Path 18\"\r\n            d=\"M608.548,36.688q2.51,2.649,2.51,8.392V64.694h-5.77V45.358q0-3.329-1.359-4.785a4.944,4.944,0,0,0-3.8-1.457,8.325,8.325,0,0,0-3.482.791,7.625,7.625,0,0,0-2.982,2.483,23.891,23.891,0,0,1,.139,2.524v19.78h-5.659V45.358q0-3.356-1.3-4.8a4.756,4.756,0,0,0-3.718-1.443,8.031,8.031,0,0,0-3.648.9,7.85,7.85,0,0,0-3.01,2.733V64.694h-5.77V34.511h4.827l.416,3.329h.3a11.505,11.505,0,0,1,3.9-2.83,11.676,11.676,0,0,1,4.758-.971,9.648,9.648,0,0,1,4.522,1.013,7.113,7.113,0,0,1,3.052,3.176,12.284,12.284,0,0,1,9.238-4.189,8.973,8.973,0,0,1,6.838,2.649\"\r\n            transform=\"translate(-410.545 2.906)\"\r\n            fill=\"#fff\"\r\n          />\r\n          <path\r\n            id=\"Path_19\"\r\n            data-name=\"Path 19\"\r\n            d=\"M787.481,51.406H768.505a12.537,12.537,0,0,0,1.179,5.41,6.347,6.347,0,0,0,3.177,2.941,14.017,14.017,0,0,0,5.521.916,30.326,30.326,0,0,0,7.573-1.137v4.55a32.319,32.319,0,0,1-8.295,1.165q-7.629,0-11.318-3.745t-3.69-11.929q0-7.657,3.343-11.6t9.418-3.939q5.881,0,8.974,3.926t3.093,11.776ZM770.323,40.267q-1.734,2.261-1.845,7.476h13.566q-.111-5.215-1.761-7.476a5.7,5.7,0,0,0-4.924-2.261,5.959,5.959,0,0,0-5.035,2.261\"\r\n            transform=\"translate(-558.367 2.906)\"\r\n            fill=\"#fff\"\r\n          />\r\n          <path\r\n            id=\"Path_20\"\r\n            data-name=\"Path 20\"\r\n            d=\"M884.836,50.988l10.9,15.286h-6.464l-7.906-11.124-7.878,11.124h-6.353l10.847-15.2L867.358,36.09h6.464l7.684,10.791,7.629-10.791h6.3Z\"\r\n            transform=\"translate(-638.827 1.326)\"\r\n            fill=\"#fff\"\r\n          />\r\n          <rect\r\n            id=\"Rectangle_8\"\r\n            data-name=\"Rectangle 8\"\r\n            width=\"46.596\"\r\n            height=\"46.596\"\r\n            transform=\"translate(28.93 28.934)\"\r\n            fill=\"#fff\"\r\n          />\r\n          <path\r\n            id=\"Path_21\"\r\n            data-name=\"Path 21\"\r\n            d=\"M36.8,51.741V36.223l13.48,7.759Zm13.95-6.818v15.6l-13.48-7.837Zm0-17.4V43.041L37.34,35.283Zm1.176,0,13.4,7.759-13.4,7.759Zm0,17.4,13.4,7.759-13.4,7.837Z\"\r\n            transform=\"translate(0.595 7.923)\"\r\n            [attr.fill]=\"primaryColor\"\r\n          />\r\n        </g>\r\n      </svg>\r\n    </a>\r\n  </div>\r\n  <div class=\"sidebar-content\">\r\n    <div class=\"mb-2\" style=\"text-align: center; max-width: 100%\">\r\n      <span class=\"p-input-icon-left\">\r\n        <i style=\"left: 1rem\" class=\"pi pi-search\"></i>\r\n        <input\r\n          type=\"text\"\r\n          class=\"p-inputtext menu-search\"\r\n          placeholder=\"Menu Search\"\r\n          (input)=\"filterMenuItems($event)\"\r\n        />\r\n      </span>\r\n    </div>\r\n    <p-panelMenu styleClass=\"dynamic-menu\" [model]=\"menuItems\"></p-panelMenu>\r\n    <footer class=\"sidebar-content-footer\">\r\n      <div class=\"help-icon-content\">\r\n        <i class=\"pi pi-question-circle\"></i>\r\n        <span class=\"help-content\">Help Center</span>\r\n      </div>\r\n      <div class=\"copyright-version-content mt-3\">\r\n        <p class=\"copyright-content mb-0\">\r\n          © Casmex 21-22. All Rights Reserved.\r\n        </p>\r\n        <p class=\"version-content mb-0\">Version 2.0</p>\r\n      </div>\r\n    </footer>\r\n  </div>\r\n</aside>\r\n\r\n<main id=\"main\" class=\"main\">\r\n  <router-outlet></router-outlet>\r\n</main>\r\n","import {\n  AfterViewInit,\n  Component,\n  ElementRef,\n  HostListener,\n  OnInit,\n  ViewChild,\n} from \"@angular/core\";\nimport { ActivatedRoute, Router } from \"@angular/router\";\nimport { TranslateService } from \"@ngx-translate/core\";\nimport { AuthService } from \"src/app/auth/auth.service\";\nimport { CoreService } from \"src/app/core.service\";\nimport { LoginService } from \"src/app/login/login.service\";\n\n@Component({\n  selector: \"app-landing-page\",\n  templateUrl: \"./landing-page.component.html\",\n  styleUrls: [\"./landing-page.component.scss\"],\n})\nexport class LandingPageComponent implements OnInit {\n  constructor(\n    public translate: TranslateService,\n    private el: ElementRef,\n    private router: Router,\n    private coreService: CoreService,\n    private route: ActivatedRoute,\n    private authService: AuthService,\n    private loginService: LoginService\n  ) {}\n\n  primaryColor = \"var(--primary-color)\";\n  userActions = [{ name: \"Profile\" }, { name: \"Logout\" }];\n  themeOptions = [\n    { name: \"Blue\", color: \"#4759e4\" },\n    { name: \"Green\", color: \"#029a71\" },\n    { name: \"Purple\", color: \"#6a0aa2\" },\n    { name: \"Magenta\", color: \"#007491\" },\n    // { name: \"Amber\", color: \"#ffbf00\" },\n    // { name: \"Pink\", color: \"#ffc0cb\" },\n  ];\n  selectedTheme = { name: \"Blue\", color: \"#4759e4\" };\n\n  isStickyHeader = false;\n\n  loggedInUserName = \"User\";\n  loggedInUserCode = null;\n\n  get profileOptions() {\n    return this.userActions;\n  }\n\n  allApplicationsTilesData: any = [];\n\n  eligibleApplications: any = [];\n  selectedEligibleApp: any = { code: \"def\", codeName: \"def\" };\n\n  ngOnInit(): void {\n    this.coreService.removeLoadingScreen();\n    const selectedApplication = JSON.parse(\n      localStorage.getItem(\"selectedApplication\")\n    );\n    if (selectedApplication) this.selectedEligibleApp = selectedApplication;\n    this.eligibleApplications = JSON.parse(\n      localStorage.getItem(\"eligibleApplicationsForUser\")\n    );\n\n    this.loggedInUserName =\n      (localStorage.getItem(\"userData\") &&\n        JSON.parse(localStorage.getItem(\"userData\"))[\"userName\"]) ||\n      \"User\";\n\n    this.loggedInUserCode =\n      localStorage.getItem(\"userData\") &&\n      JSON.parse(localStorage.getItem(\"userData\"))[\"userCode\"];\n\n    if (selectedApplication) {\n      console.log(\":::selectedApplication\", selectedApplication);\n      this.goIntoApplication(selectedApplication);\n    }\n  }\n\n  goIntoApplication(app: any) {\n    if (app && app.eligibleApp) {\n      localStorage.setItem(\"selectedApplication\", JSON.stringify(app));\n      this.coreService.displayLoadingScreen();\n      console.log(\":::app\", app);\n      this.loginService\n        .getAppModuleData(this.loggedInUserCode, app.code)\n        .subscribe(\n          (res) => {\n            if (!(res[\"application\"] || res[\"module\"] || res[\"menuItemTree\"])) {\n              this.coreService.removeLoadingScreen();\n              this.coreService.showWarningToast(\n                \"Data Not Available for Selected Application\"\n              );\n            } else {\n              this.loginService.saveUserSelectedApplicationData(res);\n              this.router.navigate([\"/navbar\"]);\n            }\n          },\n          (err) => {\n            this.coreService.removeLoadingScreen();\n            console.log(\"Error in getting App Module\", err);\n          }\n        );\n    }\n  }\n\n  // ! Already Logic\n  selectTheme(data) {\n    this.selectedTheme = data;\n    let theme = \"theme-\" + data.name.toLowerCase();\n    this.coreService.switchTheme(theme);\n  }\n\n  selectProfileOption(data) {\n    if (data && (data.name == \"Logout\" || data.name == \"Login\")) {\n      this.authService.userDataSub.next(null);\n      localStorage.removeItem(\"token\");\n      localStorage.removeItem(\"userData\");\n      localStorage.removeItem(\"licenseCountry\");\n      localStorage.removeItem(\"selectedApplication\");\n      localStorage.clear();\n      if (data.name == \"Logout\") {\n        this.coreService.showSuccessToast(\"Logged Out Successfully.\");\n      }\n      this.router.navigate([\"login\"]);\n    }\n  }\n\n  @HostListener(\"window:scroll\", [\"$event\"])\n  onWindowScroll(e) {\n    if (window.pageYOffset > 15) {\n      this.isStickyHeader = true;\n      let element = document.getElementById(\"header\");\n      element.classList.add(\"sticky\");\n    } else {\n      this.isStickyHeader = false;\n      let element = document.getElementById(\"header\");\n      element.classList.remove(\"sticky\");\n    }\n  }\n}\n","<div class=\"dashboard-container\">\n  <div class=\"dashboard-header\">\n    <div class=\"sidebar-header\">\n      <a routerLink=\"/navbar\" class=\"logo d-flex align-items-center\">\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"227.981\"\n          height=\"45\"\n          viewBox=\"0 0 227.981 46.596\"\n        >\n          <g\n            id=\"casmex_logo\"\n            data-name=\"casmex logo\"\n            transform=\"translate(-28.93 -28.934)\"\n          >\n            <path\n              id=\"Path_15\"\n              data-name=\"Path 15\"\n              d=\"M245.777,49.629q0-7.989,3.842-11.79t11.277-3.8a25.347,25.347,0,0,1,6.325.749v4.772a23.539,23.539,0,0,0-5.6-.721,12.523,12.523,0,0,0-5.562,1.068,6.819,6.819,0,0,0-3.218,3.412,15.12,15.12,0,0,0-1.068,6.2q0,5.826,2.205,8.364t6.727,2.539a21.819,21.819,0,0,0,6.519-1.165v4.771a22.308,22.308,0,0,1-7.407,1.221q-14.038,0-14.037-15.619\"\n              transform=\"translate(-160.336 2.907)\"\n              fill=\"#fff\"\n            />\n            <path\n              id=\"Path_16\"\n              data-name=\"Path 16\"\n              d=\"M362.369,35.121a7.642,7.642,0,0,1,4.009,3.579,14.473,14.473,0,0,1,1.331,6.769V64.694h-4.8l-.416-3.273h-.333a9.123,9.123,0,0,1-3.634,2.8,11.982,11.982,0,0,1-4.855.971,11.34,11.34,0,0,1-4.979-1.013,7.349,7.349,0,0,1-3.218-2.913,8.585,8.585,0,0,1-1.123-4.453,7.745,7.745,0,0,1,2.746-6.353q2.747-2.247,8.683-2.746l6.27-.638V45.163a8.144,8.144,0,0,0-.791-3.939,4.394,4.394,0,0,0-2.414-2.011,12.7,12.7,0,0,0-4.286-.6,27.473,27.473,0,0,0-4.009.319,24.451,24.451,0,0,0-4.147.985v-4.55a25.624,25.624,0,0,1,4.383-.985,33.184,33.184,0,0,1,4.66-.347,18.708,18.708,0,0,1,6.922,1.082m-3.426,25.065a8.518,8.518,0,0,0,3.107-2.372v-7.13l-5.8.583a8.687,8.687,0,0,0-4.674,1.553,4.241,4.241,0,0,0-1.456,3.44,4.473,4.473,0,0,0,1.318,3.5,5.632,5.632,0,0,0,3.9,1.193,8.924,8.924,0,0,0,3.606-.763\"\n              transform=\"translate(-236.245 2.906)\"\n              fill=\"#fff\"\n            />\n            <path\n              id=\"Path_17\"\n              data-name=\"Path 17\"\n              d=\"M462.384,64V59.506a29.948,29.948,0,0,0,8.683,1.3,9.325,9.325,0,0,0,5.2-1.137,3.76,3.76,0,0,0,1.651-3.3,3.666,3.666,0,0,0-.929-2.7,6.3,6.3,0,0,0-3.149-1.4l-4.328-.86a10.458,10.458,0,0,1-5.923-2.857,7.908,7.908,0,0,1-1.845-5.493,8.2,8.2,0,0,1,1.387-4.73,8.865,8.865,0,0,1,4.217-3.163,19.116,19.116,0,0,1,7.019-1.123,28.611,28.611,0,0,1,7.379.915v4.494a27.133,27.133,0,0,0-7.241-.971q-3.884,0-5.6,1.207a3.759,3.759,0,0,0-1.72,3.232,3.638,3.638,0,0,0,.9,2.58,5.817,5.817,0,0,0,3.065,1.443l4.328.832a11.324,11.324,0,0,1,6.02,2.844,7.669,7.669,0,0,1,1.886,5.507A8.39,8.39,0,0,1,481.97,61a8.862,8.862,0,0,1-4.175,3.149,18.1,18.1,0,0,1-6.672,1.1A29.174,29.174,0,0,1,462.384,64\"\n              transform=\"translate(-326.648 2.906)\"\n              fill=\"#fff\"\n            />\n            <path\n              id=\"Path_18\"\n              data-name=\"Path 18\"\n              d=\"M608.548,36.688q2.51,2.649,2.51,8.392V64.694h-5.77V45.358q0-3.329-1.359-4.785a4.944,4.944,0,0,0-3.8-1.457,8.325,8.325,0,0,0-3.482.791,7.625,7.625,0,0,0-2.982,2.483,23.891,23.891,0,0,1,.139,2.524v19.78h-5.659V45.358q0-3.356-1.3-4.8a4.756,4.756,0,0,0-3.718-1.443,8.031,8.031,0,0,0-3.648.9,7.85,7.85,0,0,0-3.01,2.733V64.694h-5.77V34.511h4.827l.416,3.329h.3a11.505,11.505,0,0,1,3.9-2.83,11.676,11.676,0,0,1,4.758-.971,9.648,9.648,0,0,1,4.522,1.013,7.113,7.113,0,0,1,3.052,3.176,12.284,12.284,0,0,1,9.238-4.189,8.973,8.973,0,0,1,6.838,2.649\"\n              transform=\"translate(-410.545 2.906)\"\n              fill=\"#fff\"\n            />\n            <path\n              id=\"Path_19\"\n              data-name=\"Path 19\"\n              d=\"M787.481,51.406H768.505a12.537,12.537,0,0,0,1.179,5.41,6.347,6.347,0,0,0,3.177,2.941,14.017,14.017,0,0,0,5.521.916,30.326,30.326,0,0,0,7.573-1.137v4.55a32.319,32.319,0,0,1-8.295,1.165q-7.629,0-11.318-3.745t-3.69-11.929q0-7.657,3.343-11.6t9.418-3.939q5.881,0,8.974,3.926t3.093,11.776ZM770.323,40.267q-1.734,2.261-1.845,7.476h13.566q-.111-5.215-1.761-7.476a5.7,5.7,0,0,0-4.924-2.261,5.959,5.959,0,0,0-5.035,2.261\"\n              transform=\"translate(-558.367 2.906)\"\n              fill=\"#fff\"\n            />\n            <path\n              id=\"Path_20\"\n              data-name=\"Path 20\"\n              d=\"M884.836,50.988l10.9,15.286h-6.464l-7.906-11.124-7.878,11.124h-6.353l10.847-15.2L867.358,36.09h6.464l7.684,10.791,7.629-10.791h6.3Z\"\n              transform=\"translate(-638.827 1.326)\"\n              fill=\"#fff\"\n            />\n            <rect\n              id=\"Rectangle_8\"\n              data-name=\"Rectangle 8\"\n              width=\"46.596\"\n              height=\"46.596\"\n              transform=\"translate(28.93 28.934)\"\n              fill=\"#fff\"\n            />\n            <path\n              id=\"Path_21\"\n              data-name=\"Path 21\"\n              d=\"M36.8,51.741V36.223l13.48,7.759Zm13.95-6.818v15.6l-13.48-7.837Zm0-17.4V43.041L37.34,35.283Zm1.176,0,13.4,7.759-13.4,7.759Zm0,17.4,13.4,7.759-13.4,7.837Z\"\n              transform=\"translate(0.595 7.923)\"\n              [attr.fill]=\"primaryColor\"\n            />\n          </g>\n        </svg>\n      </a>\n    </div>\n    <header id=\"header\" class=\"col-12 header d-flex align-items-center\">\n      <div\n        class=\"d-flex flex-column align-items-baseline justify-content-between header-bar\"\n      >\n        <div class=\"header-nav\">\n          <h4 class=\"page-heading\"></h4>\n        </div>\n      </div>\n      <!-- End Logo -->\n\n      <nav class=\"header-nav ms-auto\">\n        <ul class=\"d-flex align-items-center\">\n          <li class=\"nav-item\">\n            <p-dropdown\n              #themeOpt\n              class=\"theme-dropdown\"\n              [options]=\"themeOptions\"\n              optionLabel=\"name\"\n              (onChange)=\"selectTheme(themeOpt.value)\"\n              [(ngModel)]=\"selectedTheme\"\n            >\n              <ng-template pTemplate=\"selectedItem\">\n                <div\n                  class=\"theme-item\"\n                  style=\"display: flex; align-items: center; gap: 8px\"\n                  pTooltip=\"Select Theme Color.\"\n                >\n                  <div\n                    [ngStyle]=\"{\n                      width: '20px',\n                      height: '20px',\n                      borderRadius: '50%',\n                      background: selectedTheme.color\n                    }\"\n                  ></div>\n                  <div>{{ selectedTheme.name }}</div>\n                </div>\n              </ng-template>\n\n              <ng-template let-theme pTemplate=\"item\">\n                <div\n                  class=\"theme-item\"\n                  style=\"display: flex; align-items: center; gap: 8px\"\n                >\n                  <div\n                    [ngStyle]=\"{\n                      width: '20px',\n                      height: '20px',\n                      borderRadius: '50%',\n                      background: theme.color\n                    }\"\n                  ></div>\n                  <div>{{ theme.name }}</div>\n                </div>\n              </ng-template>\n            </p-dropdown>\n          </li>\n          <!-- <li class=\"nav-item\">\n                  <p-dropdown\n                    [options]=\"languages\"\n                    [(ngModel)]=\"selectedLanguage\"\n                    (onChange)=\"switchLanguage(selectedLanguage)\"\n                  ></p-dropdown>\n                </li> -->\n          <li class=\"nav-item\">\n            <p-dropdown\n              #appDropdown\n              class=\"theme-dropdown app-switcher\"\n              [options]=\"eligibleApplications\"\n              optionLabel=\"codeName\"\n              (onChange)=\"goIntoApplication(appDropdown.value)\"\n              [(ngModel)]=\"selectedEligibleApp\"\n            >\n              <ng-template pTemplate=\"selectedItem\">\n                <div\n                  class=\"theme-item\"\n                  style=\"display: flex; align-items: center; gap: 8px\"\n                  pTooltip=\"Select App.\"\n                >\n                  <a class=\"nav-link nav-icon\">\n                    <img src=\"../assets/icon/app-switcher.svg\" alt=\"\" />\n                  </a>\n                </div>\n              </ng-template>\n\n              <ng-template let-theme pTemplate=\"item\">\n                <div\n                  class=\"theme-item\"\n                  style=\"display: flex; align-items: center; gap: 8px\"\n                >\n                  <!-- <div\n                    [ngStyle]=\"{\n                      width: '20px',\n                      height: '20px',\n                      borderRadius: '50%',\n                      background: theme.color\n                    }\"\n                  ></div> -->\n                  <div>{{ theme.codeName }}</div>\n                </div>\n              </ng-template>\n            </p-dropdown>\n          </li>\n          <!-- End app-switcher -->\n          <li class=\"nav-item notification-alert\">\n            <a class=\"nav-link nav-icon\" data-bs-toggle=\"dropdown\">\n              <img\n                src=\"../assets/icon/notification icon top navbar.svg\"\n                alt=\"\"\n              />\n              <span class=\"badge badge-number\">4</span> </a\n            ><!-- End Notification Icon -->\n          </li>\n          <li class=\"nav-item profile-icon-name d-flex\">\n            <img\n              src=\"../assets/icon/profile icon.svg\"\n              alt=\"Profile\"\n              class=\"rounded-circle\"\n            />\n            <div class=\"profile-content\">\n              <p-dropdown\n                #profileOpt\n                class=\"profile-dropdown\"\n                [options]=\"profileOptions\"\n                [placeholder]=\"loggedInUserName\"\n                optionLabel=\"name\"\n                (onClick)=\"selectProfileOption(profileOpt.value)\"\n                [showClear]=\"false\"\n              >\n              </p-dropdown>\n              <span style=\"padding-left: 0.75rem\"> ADMIN </span>\n            </div>\n          </li>\n          <!-- End Profile Nav -->\n        </ul>\n      </nav>\n      <!-- End Icons Navigation -->\n    </header>\n  </div>\n  <div class=\"dashboard-body\">\n    <div class=\"landing-text\">\n      <p class=\"greet-text\">Welcome to CASMEX.</p>\n      <!-- <p class=\"instruction-text\">Select Application to continue...</p> -->\n    </div>\n    <!-- <div class=\"application-tiles\">\n      <div\n        *ngFor=\"let app of allApplicationsTilesData\"\n        class=\"app-tile\"\n        [pTooltip]=\"app.eligibleApp ? '' : 'Not Subscribed'\"\n        tooltipPosition=\"top\"\n      >\n        <p-card\n          [ngClass]=\"{ eligibleApp: app.eligibleApp }\"\n          (click)=\"goIntoApplication(app)\"\n        >\n          {{ app[\"codeName\"] }}\n        </p-card>\n      </div>\n      <div\n        *ngIf=\"!allApplicationsTilesData || !allApplicationsTilesData.length\"\n        class=\"no-application-available\"\n      >\n        <p class=\"no-application-text\">\n          😥 Currently No Application Available. Please try again later!\n        </p>\n      </div>\n    </div> -->\n  </div>\n</div>\n","import { Component, OnInit, ViewChild } from \"@angular/core\";\r\nimport { ConfirmDialog } from \"primeng/confirmdialog\";\r\nimport { RateServiceService } from \"../rate-service.service\";\r\nimport { CoreService } from \"src/app/core.service\";\r\nimport { ConfirmationService } from \"primeng/api\";\r\nimport { ActivatedRoute } from \"@angular/router\";\r\n\r\n@Component({\r\n  selector: \"app-rate-listing\",\r\n  templateUrl: \"./rate-listing.component.html\",\r\n  styleUrls: [\"./rate-listing.component.scss\"],\r\n})\r\nexport class RateListingComponent implements OnInit {\r\n  rateListingData: any[];\r\n\r\n  objectKeys = Object.keys;\r\n  @ViewChild(\"cd\") cd: ConfirmDialog;\r\n\r\n  showNoDataFound: boolean = false;\r\n\r\n  userId = \"\";\r\n  clientCode = \"CMX000091\";\r\n  licenseCountry = \"In\";\r\n\r\n  mode = \"add\";\r\n\r\n  cols: any[] = [\r\n    { field: \"currencyCode\", header: \"Currency Code\", width: \"10%\" },\r\n    { field: \"currency\", header: \"Currency\", width: \"15%\" },\r\n    { field: \"marginRatio\", header: \"Margin Ratio\", width: \"20%\" },\r\n    { field: \"factor\", header: \"Factor\", width: \"25%\" },\r\n    { field: \"rateMask\", header: \"Rate Mask\", width: \"20%\" },\r\n    { field: \"status\", header: \"Status\", width: \"10%\" },\r\n  ];\r\n\r\n  constructor(\r\n    private rateService: RateServiceService,\r\n    private coreService: CoreService,\r\n    private confirmationService: ConfirmationService,\r\n    private route: ActivatedRoute\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.coreService.displayLoadingScreen();\r\n    const translationKey = \"Home.Settings\";\r\n    this.coreService\r\n      .translate(translationKey)\r\n      .then((translatedTitle: string) => {\r\n        this.coreService.setPageTitle(translatedTitle);\r\n      });\r\n    this.userId = JSON.parse(localStorage.getItem(\"userData\"))[\"userId\"];\r\n\r\n    this.route.data.subscribe((data) => {\r\n      this.coreService.setBreadCrumbMenu(Object.values(data));\r\n    });\r\n\r\n    this.getRateListingdata();\r\n  }\r\n  getRateListingdata() {\r\n    this.coreService.displayLoadingScreen();\r\n    this.rateService\r\n      .getRateListingData(this.clientCode, this.licenseCountry)\r\n      .subscribe(\r\n        (res) => {\r\n          this.coreService.removeLoadingScreen();\r\n          console.log(\"data\", res);\r\n          this.rateListingData = res[\"data\"][\"rateSettings\"];\r\n        },\r\n        (err) => {\r\n          this.coreService.removeLoadingScreen();\r\n          this.coreService.showWarningToast(\r\n            \"Some error while fetching doc data, Try again in sometime\"\r\n          );\r\n        }\r\n      );\r\n  }\r\n  confirmStatus(e: any, data: any) {\r\n    e.preventDefault();\r\n    let type = \"\";\r\n    let reqStatus = \"\";\r\n    if (e.target.checked) {\r\n      reqStatus = \"A\";\r\n      type = \"Activate\";\r\n    } else {\r\n      reqStatus = \"D\";\r\n      type = \"Deactivate\";\r\n    }\r\n    this.coreService.setSidebarBtnFixedStyle(false);\r\n    this.coreService.setHeaderStickyStyle(false);\r\n    let completeMsg = \"\";\r\n\r\n    completeMsg =\r\n      `<img src=\"../../../assets/warning.svg\"><br/><br/>` +\r\n      `Do you wish to ` +\r\n      type +\r\n      ` the Rate Record: ${data[\"currencyCode\"]}?`;\r\n    this.confirmationService.confirm({\r\n      message: completeMsg,\r\n      key: \"activeDeactiveStatus\",\r\n      accept: () => {\r\n        this.updateStatus(e, reqStatus, data);\r\n        this.setHeaderSidebarBtn(true);\r\n      },\r\n      reject: () => {\r\n        this.confirmationService.close;\r\n        this.setHeaderSidebarBtn(false);\r\n      },\r\n    });\r\n  }\r\n\r\n  setHeaderSidebarBtn(accept: boolean) {\r\n    this.coreService.displayLoadingScreen();\r\n    setTimeout(() => {\r\n      this.coreService.setHeaderStickyStyle(true);\r\n      this.coreService.setSidebarBtnFixedStyle(true);\r\n    }, 500);\r\n    if (!accept) {\r\n      setTimeout(() => {\r\n        this.coreService.removeLoadingScreen();\r\n      }, 1000);\r\n    }\r\n  }\r\n\r\n  updateStatus(e: any, reqStatus: any, data: any) {\r\n    this.coreService.displayLoadingScreen();\r\n    this.updateRateCodeStatus(e.target, data, reqStatus);\r\n  }\r\n\r\n  updateRateCodeStatus(sliderElm: any, data: any, reqStatus: any) {\r\n    this.rateService\r\n      .updateRateSettingsStatus(\r\n        this.clientCode,\r\n        this.licenseCountry,\r\n        data.currencyCode,\r\n        reqStatus\r\n      )\r\n      .subscribe(\r\n        (res) => {\r\n          let message = \"\";\r\n          if (res[\"error\"] == \"true\") {\r\n            this.coreService.removeLoadingScreen();\r\n            this.coreService.showWarningToast(res[\"error\"]);\r\n          } else {\r\n            if (res[\"msg\"]) {\r\n              message = res[\"msg\"];\r\n              sliderElm.checked = sliderElm!.checked;\r\n              this.getRateListingdata();\r\n              this.coreService.showSuccessToast(message);\r\n            } else {\r\n              this.coreService.removeLoadingScreen();\r\n              message = \"Error in fetching data, Please try again later\";\r\n              this.coreService.showWarningToast(message);\r\n            }\r\n          }\r\n        },\r\n        (err) => {\r\n          console.log(err);\r\n          this.coreService.removeLoadingScreen();\r\n        }\r\n      );\r\n  }\r\n\r\n  upperCaseSpaceFormat(value: string): string {\r\n    // Trim extra spaces and convert to uppercase\r\n    return value.trim().toUpperCase().replace(/\\s+/g, \" \");\r\n  }\r\n\r\n  onSubmit() {\r\n    this.coreService.displayLoadingScreen();\r\n    console.log(\"data\", this.rateListingData);\r\n    let formattedRateListingData = {\r\n      clientCode: this.clientCode,\r\n      licenseCountry: this.licenseCountry,\r\n      rateSettings: this.rateListingData,\r\n    };\r\n    formattedRateListingData.rateSettings.forEach((ele) => {\r\n      console.log(\"ratemask\", ele);\r\n      ele[\"rateMask\"] = this.upperCaseSpaceFormat(ele[\"rateMask\"]);\r\n    });\r\n    let service;\r\n    // if (this.mode == \"edit\") {\r\n    let data = formattedRateListingData;\r\n\r\n    service = this.rateService.updateRateSettings(data, this.userId);\r\n    console.log(\"::\", data);\r\n    // } else {\r\n    //   let data = formattedRateListingData;\r\n    //   console.log(\"saveeee\", data);\r\n    //   service = this.rateService.saveRateSettings(data, this.userId);\r\n    // }\r\n\r\n    if (service) {\r\n      service.subscribe(\r\n        (res) => {\r\n          if (\r\n            res[\"status\"] &&\r\n            typeof res[\"status\"] == \"string\" &&\r\n            (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n          ) {\r\n            if (res[\"error\"]) {\r\n              this.coreService.showWarningToast(res[\"error\"]);\r\n            } else {\r\n              this.coreService.showWarningToast(\r\n                \"Something went wrong, Please try again later\"\r\n              );\r\n            }\r\n          } else {\r\n            if (res[\"msg\"]) {\r\n              this.coreService.showSuccessToast(res.msg);\r\n              this.coreService.removeLoadingScreen();\r\n              this.getRateListingdata();\r\n            }\r\n          }\r\n        },\r\n        (err) => {\r\n          this.coreService.removeLoadingScreen();\r\n          console.log(\"error in save\", err);\r\n          this.coreService.showWarningToast(\r\n            \"Something went wrong, Please try again later\"\r\n          );\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  onReset() {\r\n    console.log(\"ratemask\", this.rateListingData);\r\n    this.coreService.setSidebarBtnFixedStyle(false);\r\n    this.confirmationService.confirm({\r\n      message: \"Are you sure, you want to clear applied changes ?\",\r\n      key: \"resetRateSettingsConfirmation\",\r\n      accept: () => {\r\n        this.setHeaderSidebarBtn(true);\r\n        // this.rateListingData.forEach((ele) => {\r\n        //   ele[\"marginRatio\"] = \"\";\r\n        //   ele[\"rateMask\"] = \"\";\r\n        //   ele[\"rateMask\"] = \"\";\r\n        // });\r\n        this.getRateListingdata();\r\n      },\r\n      reject: () => {\r\n        this.confirmationService.close;\r\n        this.setHeaderSidebarBtn(false);\r\n      },\r\n    });\r\n  }\r\n}\r\n","\r\n<div class=\"visible-main-section\">\r\n    <div class=\"ptable\">\r\n      <p-table\r\n        #dt\r\n        [columns]=\"cols\"\r\n        [value]=\"rateListingData\"\r\n        [resizableColumns]=\"true\"\r\n        columnResizeMode=\"fit\"\r\n        [rowHover]=\"true\"\r\n      >\r\n        <ng-template pTemplate=\"header\" let-columns>\r\n          <tr>\r\n            <th\r\n              *ngFor=\"let col of columns; let c = index\"\r\n              pReorderableColumn\r\n              [pSortableColumn]=\"col.field\"\r\n              pResizableColumn\r\n              [style.width]=\"col.width\"\r\n            >\r\n              {{ col.header }}\r\n              <p-sortIcon\r\n              *ngIf=\"\r\n                (col.field == 'currencyCode' || col.field == 'currency')\r\n              \"\r\n              [field]=\"col.field\"\r\n            ></p-sortIcon>\r\n            </th>\r\n          </tr>\r\n          <tr class=\"search-row\">\r\n            <th *ngFor=\"let col of cols\" [style.width]=\"col.width\">\r\n              <span\r\n                style=\"width: 100%\"\r\n                class=\"p-input-icon-left\"\r\n                *ngIf=\"col.field === 'currencyCode' || col.field === 'currency'\"\r\n              >\r\n                <i class=\"pi pi-search\"></i>\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"p-inputtext table-search\"\r\n                  placeholder=\"Search\"\r\n                  (input)=\"dt.filter($event.target.value, col.field, 'contains')\"\r\n                />\r\n              </span>\r\n            </th>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template\r\n          pTemplate=\"body\"\r\n          let-rowData\r\n          let-columns=\"columns\"\r\n          let-index=\"rowIndex\"\r\n        >\r\n          <tr [pReorderableRow]=\"index\">\r\n            <ng-container *ngFor=\"let col of columns; let i = index\">\r\n              <td *ngIf=\"col.field != 'status' && col.field != 'operation'\">\r\n                <div\r\n                      *ngIf=\"col['field'] === 'currencyCode' || col['field'] === 'currency'\"\r\n                    >\r\n                      <input\r\n                        #inp\r\n                        [(ngModel)]=\"rowData[col.field]\"\r\n                        type=\"text\"\r\n                        pInputText\r\n                        disabled\r\n                      />\r\n                    </div>\r\n                <div\r\n                      *ngIf=\"col['field'] === 'rateMask'\"\r\n                    >\r\n                      <input\r\n                        #inp\r\n                        [(ngModel)]=\"rowData[col.field]\"\r\n                        type=\"text\"\r\n                        pInputText\r\n                      />\r\n                    </div>\r\n                    <div class=\"correspondentRadio\" *ngIf=\"col['field'] === 'marginRatio'\">\r\n                        <p-radioButton name=\"group\" value=\"PIPS\" [(ngModel)]=\"rowData[col.field]\"></p-radioButton>\r\n                        <label class=\"radioLabel\" for=\"option1\">PIPS</label>\r\n                      <!-- </div>\r\n                      \r\n                      <div> -->\r\n                        <p-radioButton name=\"group\" value=\"Percentage\" [(ngModel)]=\"rowData[col.field]\"></p-radioButton>\r\n                        <label class=\"radioLabel\" for=\"option2\">PERCENTAGE</label>\r\n                      </div>   \r\n                    <div class=\"correspondentRadio\" *ngIf=\"col['field'] === 'factor'\">\r\n                        <p-radioButton name=\"group\" value=\"M\" [(ngModel)]=\"rowData[col.field]\"></p-radioButton>\r\n                        <label class=\"radioLabel\" for=\"option1\">MULTIPLICATION</label>\r\n                      <!-- </div>\r\n                      \r\n                      <div> -->\r\n                        <p-radioButton name=\"group\" value=\"D\" [(ngModel)]=\"rowData[col.field]\"></p-radioButton>\r\n                        <label class=\"radioLabel\" for=\"option2\">DIVISION</label>\r\n                      </div>   \r\n              </td>\r\n  \r\n              <td\r\n                *ngIf=\"col.field == 'status'\"\r\n                style=\"border: none; text-align: center\"\r\n              >\r\n                <label class=\"switch\" tabindex=\"0\"\r\n                (keyup.Space)= \"statusInp.click()\">\r\n                  <input\r\n                    #statusInp\r\n                    [value]=\"rowData[col['field']]\"\r\n                    type=\"checkbox\"\r\n                    (click)=\"confirmStatus($event, rowData)\"\r\n                    [checked]=\"\r\n                      rowData[col['field']] == 'Active' ||\r\n                      rowData[col['field']] == 'A'\r\n                        ? true\r\n                        : false\r\n                    \"\r\n                  />\r\n                  <span class=\"slider round\"></span>\r\n                </label>\r\n              </td>\r\n            </ng-container>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"emptymessage\">\r\n          <tr>\r\n            <td [attr.colspan]=\"cols.length\">No Data Found.</td>\r\n          </tr>\r\n        </ng-template>\r\n    </p-table>\r\n    <div class=\"form-group btn-grp buttons-section p-4\">\r\n        <button\r\n          pButton\r\n          pRipple\r\n          type=\"button\"\r\n          label=\"Save\"\r\n          class=\"p-button-raised\"\r\n          (click)=\"onSubmit()\"\r\n        ></button>\r\n        <button\r\n          pButton\r\n          pRipple\r\n          type=\"button\"\r\n          label=\"Reset\"\r\n          class=\"p-button-warning\"\r\n          (click)=\"onReset()\"\r\n        ></button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"NorecordFound\" *ngIf=\"!rateListingData?.length && showNoDataFound\">\r\n    <div class=\"row\">\r\n      <div class=\"col-12\"><img src=\"assets/noRecordFound.svg\" /></div>\r\n    </div>\r\n    <div class=\"row\">\r\n      <div class=\"col-12\">\r\n        <p>\"No Record Found.\"</p>\r\n        <button\r\n          pButton\r\n          pRipple\r\n          type=\"button\"\r\n          label=\"Add New Tax\"\r\n          class=\"p-button-raised\"\r\n          (click)=\"addNewTaxPage()\"\r\n        ></button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <p-confirmDialog\r\n    key=\"activeDeactiveStatus\"\r\n    class=\"status-confirm confirm-popup\"\r\n    #cd\r\n    [closable]=\"false\"\r\n  >\r\n    <p-footer>\r\n      <button\r\n        type=\"button\"\r\n        pButton\r\n        icon=\"pi pi-check\"\r\n        label=\"Yes\"\r\n        (click)=\"cd.accept()\"\r\n      ></button>\r\n  \r\n      <button\r\n        type=\"button\"\r\n        pButton\r\n        icon=\"pi pi-times\"\r\n        label=\"No\"\r\n        (click)=\"cd.reject()\"\r\n      ></button>\r\n    </p-footer>\r\n  </p-confirmDialog>\r\n  <p-confirmDialog\r\n  key=\"resetRateSettingsConfirmation\"\r\n  class=\"confirm-popup\"\r\n  #cd2\r\n  icon=\"pi pi-exclamation-triangle\"\r\n  [closable]=\"false\"\r\n>\r\n  <p-footer>\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-check\"\r\n      label=\"Yes\"\r\n      (click)=\"cd2.accept()\"\r\n    ></button>\r\n\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-times\"\r\n      label=\"Cancel\"\r\n      (click)=\"cd2.reject()\"\r\n    ></button>\r\n  </p-footer>\r\n</p-confirmDialog>","import { HttpClient, HttpHeaders } from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { Observable } from \"rxjs\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class RateServiceService {\r\n  constructor(private http: HttpClient) {}\r\n  getRateListingData(clientCode: any, licenseCountry: any): Observable<any> {\r\n    return this.http.get(\r\n      `/appControl/rateSettingsController/getRateSettingsList`,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"clientCode\", clientCode)\r\n          .set(\"licenseCountry\", licenseCountry),\r\n      }\r\n    );\r\n  }\r\n\r\n  updateRateSettingsStatus(\r\n    clientCode: any,\r\n    licenseCountry: any,\r\n    currencyCode: any,\r\n    status: any\r\n  ): Observable<any> {\r\n    return this.http.post(\r\n      `/appControl/rateSettingsController/updateRateSettingsStatus`,\r\n      null,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"clientCode\", clientCode)\r\n          .set(\"licenseCountry\", licenseCountry)\r\n          .set(\"currencyCode\", currencyCode)\r\n          .set(\"status\", status),\r\n      }\r\n    );\r\n  }\r\n  saveRateSettings(data: any, userId: any): Observable<any> {\r\n    return this.http.post(\r\n      `/appControl/rateSettingsController/saveRateSettings`,\r\n      data,\r\n      {\r\n        headers: new HttpHeaders().set(\"userId\", userId),\r\n      }\r\n    );\r\n  }\r\n  updateRateSettings(data: any, userId: any): Observable<any> {\r\n    return this.http.put(\r\n      `/appControl/rateSettingsController/updateRateSettings`,\r\n      data,\r\n      {\r\n        headers: new HttpHeaders().set(\"userId\", userId),\r\n      }\r\n    );\r\n  }\r\n}\r\n","import { Component, OnInit } from \"@angular/core\";\r\nimport {\r\n  UntypedFormBuilder,\r\n  UntypedFormControl,\r\n  Validators,\r\n} from \"@angular/forms\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { ConfirmationService } from \"primeng/api\";\r\nimport { Observable, forkJoin } from \"rxjs\";\r\nimport { map, take } from \"rxjs/operators\";\r\nimport { SearchSettingsService } from \"../search-settings.service\";\r\nimport { CoreService } from \"src/app/core.service\";\r\n\r\n@Component({\r\n  selector: \"app-add-new-search\",\r\n  templateUrl: \"./add-new-search.component.html\",\r\n  styleUrls: [\"./add-new-search.component.scss\"],\r\n})\r\nexport class AddNewSearchComponent implements OnInit {\r\n  primaryColor = \"var(--primary-color)\";\r\n\r\n  selectAppForm: any;\r\n  selectFields: any[] = [];\r\n  duplicateCriteria = false;\r\n  restoreSelectFields: any[] = [];\r\n\r\n  selectedFields: any[] = [];\r\n\r\n  searchApplicationOptions: any[] = [];\r\n  searchModuleOptions: any[] = [];\r\n  searchFormsOptions: any[] = [];\r\n\r\n  searchOperatorsOptions: any[] = [];\r\n\r\n  isFieldsQueriesData: boolean = false;\r\n  fieldsQueriesData: any = [];\r\n\r\n  invalidForSave = false;\r\n\r\n  userData: any;\r\n\r\n  appFormModuleDataForEdit: any = {};\r\n\r\n  searchId = \"\";\r\n  searchSettingtable = [];\r\n  criteriaSettingDetails: any = {};\r\n  orderIDArray: any = [];\r\n  searchSettingtableopt: [];\r\n\r\n  params: any;\r\n  isCloneMode = false;\r\n  mode = \"add\";\r\n  criteriaTypeOp: any;\r\n\r\n  cols: any[] = [\r\n    {\r\n      field: \"fieldName\",\r\n      header: \"Field Name\",\r\n      width: \"20%\",\r\n      isMandatory: false,\r\n    },\r\n    {\r\n      field: \"displayName\",\r\n      header: \"Display Name\",\r\n      width: \"30%\",\r\n      isMandatory: false,\r\n    },\r\n    { field: \"operator\", header: \"Operator \", width: \"35%\", isMandatory: true },\r\n    {\r\n      field: \"displayOrder\",\r\n      header: \"Display Order\",\r\n      width: \"15%\",\r\n      isMandatory: true,\r\n    },\r\n  ];\r\n\r\n  state$: Observable<any>;\r\n\r\n  constructor(\r\n    private confirmationService: ConfirmationService,\r\n    private fb: UntypedFormBuilder,\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private searchSettingsService: SearchSettingsService,\r\n    private coreService: CoreService,\r\n    private activatedRoute: ActivatedRoute\r\n  ) {\r\n    this.state$ = this.route.paramMap.pipe(map(() => window.history.state));\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.params = this.activatedRoute.snapshot.params;\r\n    this.mode = this.activatedRoute.snapshot.routeConfig.path.substring(\r\n      this.activatedRoute.snapshot.routeConfig.path.lastIndexOf(\"/\") + 1\r\n    );\r\n    this.coreService.displayLoadingScreen();\r\n    this.userData = JSON.parse(localStorage.getItem(\"userData\"));\r\n    this.route.data.subscribe((data) => {\r\n      this.coreService.setBreadCrumbMenu(Object.values(data));\r\n    });\r\n    this.setSelectAppForm();\r\n    this.mode == \"edit\" && this.appCtrl.disable() && this.formCtrl.disable();\r\n    this.mode == \"clone\" && this.formCtrl.enable();\r\n\r\n    // !\r\n    this.searchApplicationOptions = JSON.parse(\r\n      localStorage.getItem(\"appAccess\")\r\n    );\r\n    this.searchModuleOptions = JSON.parse(localStorage.getItem(\"modAccess\"));\r\n    let defAppMod = JSON.parse(localStorage.getItem(\"defAppModule\"));\r\n    let defApp = null;\r\n    let defMod = null;\r\n    if (defAppMod) {\r\n      defApp = JSON.parse(localStorage.getItem(\"applicationName\"));\r\n      defMod = JSON.parse(localStorage.getItem(\"moduleName\"));\r\n    }\r\n\r\n    if (defApp) {\r\n      this.appCtrl.patchValue(defApp);\r\n    }\r\n    if (defMod) {\r\n      this.moduleCtrl.patchValue(defMod);\r\n      this.moduleCtrl.enable();\r\n      this.formCtrl.enable();\r\n    }\r\n    // !\r\n\r\n    this.searchSettingsService\r\n      .getSearchAppFormsList()\r\n      .pipe(take(1))\r\n      .subscribe(\r\n        (res) => {\r\n          if (\r\n            res[\"status\"] &&\r\n            typeof res[\"status\"] == \"string\" &&\r\n            (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n          ) {\r\n            if (res[\"error\"]) {\r\n              this.coreService.showWarningToast(res[\"error\"]);\r\n            } else {\r\n              this.coreService.showWarningToast(\"Some error in fetching data\");\r\n            }\r\n          } else {\r\n            if (res[\"data\"]) {\r\n              this.searchFormsOptions = res[\"data\"][\r\n                \"cmSearchSettingFormMasters\"\r\n              ].map((app) => {\r\n                return { name: app.codeName, code: app.codeName };\r\n              });\r\n              this.searchOperatorsOptions = res[\"data\"][\r\n                \"systemOperatorsMaster\"\r\n              ].map((app) => {\r\n                return { name: app.codeName, code: app.codeName };\r\n              });\r\n              const params = this.activatedRoute.snapshot.params;\r\n              if (params && params.id) {\r\n                this.isCloneMode = true;\r\n                let data;\r\n                this.searchId = params.id;\r\n                this.state$.subscribe((res) => {\r\n                  if (res[\"appName\"]) {\r\n                    this.appFormModuleDataForEdit = res;\r\n                    this.setCloneCriteriaData(params.id);\r\n                  } else {\r\n                    this.router.navigateByUrl(`navbar/search-settings`);\r\n                  }\r\n                });\r\n              }\r\n            } else if (res[\"msg\"]) {\r\n              this.coreService.showWarningToast(res[\"msg\"]);\r\n              this.appCtrl.disable();\r\n              this.formCtrl.disable();\r\n            }\r\n          }\r\n        },\r\n        (err) => {\r\n          this.appCtrl.disable();\r\n          this.formCtrl.disable();\r\n          console.log(\"Error in Criteria App Form List\", err);\r\n        }\r\n      )\r\n      .add(() => {\r\n        if (!(this.params && this.params.id)) {\r\n          this.coreService.removeLoadingScreen();\r\n        }\r\n      });\r\n  }\r\n\r\n  setSelectAppForm() {\r\n    this.selectAppForm = this.fb.group({\r\n      applications: new UntypedFormControl({ value: \"\", disabled: false }, [\r\n        Validators.required,\r\n      ]),\r\n      forms: new UntypedFormControl({ value: \"\", disabled: true }, [\r\n        Validators.required,\r\n      ]),\r\n      modules: new UntypedFormControl({ value: \"\", disabled: true }, [\r\n        Validators.required,\r\n      ]),\r\n    });\r\n  }\r\n\r\n  get appCtrl() {\r\n    return this.selectAppForm.get(\"applications\");\r\n  }\r\n  get moduleCtrl() {\r\n    return this.selectAppForm.get(\"modules\");\r\n  }\r\n  get formCtrl() {\r\n    return this.selectAppForm.get(\"forms\");\r\n  }\r\n\r\n  onAppChange(e: any) {\r\n    if (!this.isCloneMode) {\r\n      this.searchSettingtable = [];\r\n      this.selectedFields = [];\r\n      this.formCtrl.reset();\r\n      this.moduleCtrl.reset();\r\n      this.selectFields = [];\r\n    }\r\n    this.moduleCtrl.enable();\r\n  }\r\n\r\n  onModuleChange() {\r\n    if (!this.isCloneMode) {\r\n      this.formCtrl.reset();\r\n      this.searchSettingtable = [];\r\n      this.selectedFields = [];\r\n      this.selectFields = [];\r\n    }\r\n    this.formCtrl.enable();\r\n  }\r\n\r\n  onFormChange(e: any) {\r\n    this.executeQueries();\r\n  }\r\n\r\n  executeQueries() {\r\n    this.coreService.displayLoadingScreen();\r\n    let data = {\r\n      formName: this.formCtrl.value.code,\r\n      moduleName: this.moduleCtrl.value.code,\r\n      applicationName: this.appCtrl.value.code,\r\n    };\r\n\r\n    if (this.mode == \"add\") {\r\n      this.coreService.displayLoadingScreen();\r\n      this.selectFields = [];\r\n      this.selectedFields = [];\r\n      this.searchSettingtable = [];\r\n\r\n      this.searchSettingsService\r\n        .getSearchFieldsExecuteQueries(data)\r\n        .pipe(take(1))\r\n        .subscribe(\r\n          (res) => {\r\n            if (\r\n              res[\"status\"] &&\r\n              typeof res[\"status\"] == \"string\" &&\r\n              (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n            ) {\r\n              if (res[\"error\"]) {\r\n                this.coreService.showWarningToast(res[\"error\"]);\r\n              } else {\r\n                this.coreService.showWarningToast(\r\n                  \"Some error in fetching data\"\r\n                );\r\n              }\r\n            } else {\r\n              if (res[\"data\"][\"cmCriteriaOperationsMasters\"].length) {\r\n                this.isFieldsQueriesData = true;\r\n                this.fieldsQueriesData =\r\n                  res[\"data\"][\"cmCriteriaOperationsMasters\"];\r\n                this.selectFields = [...this.fieldsQueriesData];\r\n                this.restoreSelectFields = [...this.fieldsQueriesData];\r\n                this.selectFields.forEach((item) => {\r\n                  item[\"operationOption\"] = this.searchOperatorsOptions.map(\r\n                    (x) => {\r\n                      return { label: x.name, code: x.name };\r\n                    }\r\n                  );\r\n                  item[\"orderID\"] = \"\";\r\n                  item[\"operations\"] = \"\";\r\n                });\r\n              } else if (\r\n                res[\"data\"][\"cmCriteriaOperationsMasters\"].length == 0\r\n              ) {\r\n                this.isFieldsQueriesData = false;\r\n                this.coreService.showWarningToast(\r\n                  \"No data found for selected parameters\"\r\n                );\r\n              } else if (res[\"msg\"]) {\r\n                this.isFieldsQueriesData = false;\r\n                this.coreService.showWarningToast(res[\"msg\"]);\r\n                this.selectFields = [];\r\n                this.selectedFields = [];\r\n                this.searchSettingtable = [];\r\n              }\r\n            }\r\n          },\r\n          (err) => {\r\n            console.log(\"error in getting fields queries\", err);\r\n            this.coreService.showWarningToast(\"Some error in fetching data\");\r\n          }\r\n        )\r\n        .add(() => {\r\n          this.coreService.removeLoadingScreen();\r\n        });\r\n    } else {\r\n      if (!this.isCloneMode) {\r\n        this.selectFields = [...this.fieldsQueriesData];\r\n        this.selectedFields = [];\r\n        this.searchSettingtable = [];\r\n      }\r\n    }\r\n  }\r\n\r\n  executeBtnClick() {\r\n    this.selectedFields.forEach((item) => {\r\n      if (!item[\"operationOption\"]) {\r\n        item[\"operationOption\"] = this.searchOperatorsOptions.map((x) => {\r\n          return { label: x.name, code: x.name };\r\n        });\r\n        let index = this.searchSettingtable.findIndex(\r\n          (x) => x.fieldName == item.fieldName\r\n        );\r\n        if (index == -1) {\r\n          item[\"operations\"] = \"\";\r\n        } else {\r\n          item[\"operations\"] = this.searchSettingtable[index][\"operators\"];\r\n        }\r\n      }\r\n      let index = this.searchSettingtable.findIndex(\r\n        (x) => x.fieldName == item.fieldName\r\n      );\r\n      if (index == -1) {\r\n        item[\"orderID\"] = \"\";\r\n      } else {\r\n        item[\"orderID\"] = this.searchSettingtable[index][\"orderID\"];\r\n      }\r\n    });\r\n    this.searchSettingtable = [...this.selectedFields];\r\n    this.orderIDArray = [];\r\n  }\r\n\r\n  checkCriteriaDuplication(action) {\r\n    this.coreService.displayLoadingScreen();\r\n    this.searchSettingsService\r\n      .getSearchSettingListing()\r\n      .pipe(take(1))\r\n      .subscribe(\r\n        (res) => {\r\n          if (\r\n            res[\"status\"] &&\r\n            typeof res[\"status\"] == \"string\" &&\r\n            (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n          ) {\r\n            if (res[\"error\"]) {\r\n              this.coreService.showWarningToast(res[\"error\"]);\r\n            } else {\r\n              this.coreService.showWarningToast(\"Some error in fetching data\");\r\n            }\r\n          } else {\r\n            if (res[\"appForm\"] && res[\"appForm\"].length) {\r\n              this.duplicateCriteria = false;\r\n              res[\"appForm\"].forEach((appForm) => {\r\n                let app = appForm.split(\":\")[0];\r\n                let form = appForm.split(\":\")[1];\r\n                let module = appForm.split(\":\")[2];\r\n                if (\r\n                  this.appCtrl.value.code == app &&\r\n                  this.formCtrl.value.code == form &&\r\n                  this.moduleCtrl.value.code == module &&\r\n                  !this.duplicateCriteria\r\n                ) {\r\n                  this.coreService.setSidebarBtnFixedStyle(false);\r\n                  this.coreService.setHeaderStickyStyle(false);\r\n                  this.duplicateCriteria = true;\r\n                  this.confirmationService.confirm({\r\n                    message: `<img src=\"../../../assets/warning.svg\"><br/><br/> Search setting for this Application <b>(${this.appCtrl.value.name})</b>, Module <b>(${this.moduleCtrl.value.name})</b> & Form <b>(${this.formCtrl.value.name})</b> already exists, Do you want to update it?`,\r\n                    accept: () => {\r\n                      this.saveCriteriaFields(action);\r\n                      this.setHeaderSidebarBtn(true);\r\n                    },\r\n                    reject: () => {\r\n                      this.coreService.showWarningToast(\r\n                        \"Search setting saving revoked\"\r\n                      );\r\n                      this.setHeaderSidebarBtn(false);\r\n                    },\r\n                  });\r\n                }\r\n              });\r\n              if (!this.duplicateCriteria) {\r\n                this.saveCriteriaFields(action);\r\n              }\r\n            } else {\r\n              this.saveCriteriaFields(action);\r\n            }\r\n          }\r\n        },\r\n        (err) => {\r\n          console.log(\r\n            \"error in getting search setting list for checking duplication\",\r\n            err\r\n          );\r\n          this.coreService.showWarningToast(\"Some error in fetching data\");\r\n        }\r\n      )\r\n      .add(() => {\r\n        this.coreService.removeLoadingScreen();\r\n      });\r\n  }\r\n\r\n  setHeaderSidebarBtn(accept: boolean) {\r\n    this.coreService.displayLoadingScreen();\r\n    setTimeout(() => {\r\n      this.coreService.setHeaderStickyStyle(true);\r\n      this.coreService.setSidebarBtnFixedStyle(true);\r\n    }, 500);\r\n    if (!accept) {\r\n      setTimeout(() => {\r\n        this.coreService.removeLoadingScreen();\r\n      }, 1000);\r\n    }\r\n  }\r\n\r\n  saveCriteriaFields(action: any) {\r\n    this.coreService.displayLoadingScreen();\r\n    let data = {\r\n      formName: this.formCtrl.value.code,\r\n      applicationName: this.appCtrl.value.code,\r\n      moduleName: this.moduleCtrl.value.code,\r\n      createdBy: null,\r\n      createdByID: this.userData.userId,\r\n      status: \"A\",\r\n      settingSearchQueryCriteria: [],\r\n    };\r\n    this.searchSettingtable.forEach((searchSetting) => {\r\n      let operations = [];\r\n      searchSetting[\"operations\"].forEach((op) => {\r\n        operations.push(op[\"label\"]);\r\n      });\r\n      delete searchSetting[\"id\"];\r\n      searchSetting[\"operators\"] = operations.join(\",\");\r\n      data[\"settingSearchQueryCriteria\"].push(searchSetting);\r\n    });\r\n\r\n    let operation = \"add\";\r\n\r\n    if (this.mode == \"edit\") {\r\n      operation = \"update\";\r\n    }\r\n\r\n    this.searchSettingsService\r\n      .postSearchFieldsToSave(data, operation, this.userData.userId)\r\n      .subscribe(\r\n        (res) => {\r\n          if (\r\n            res[\"status\"] &&\r\n            typeof res[\"status\"] == \"string\" &&\r\n            (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n          ) {\r\n            if (res[\"error\"]) {\r\n              this.coreService.showWarningToast(res[\"error\"]);\r\n            } else {\r\n              this.coreService.showWarningToast(\"Some error in fetching data\");\r\n            }\r\n          } else {\r\n            if (res[\"msg\"]) {\r\n              if (this.mode == \"clone\") {\r\n                if (this.duplicateCriteria) {\r\n                  this.coreService.showSuccessToast(\r\n                    \"Search setting updated Sucessfully.\"\r\n                  );\r\n                } else {\r\n                  this.coreService.showSuccessToast(\r\n                    \"Search setting Clone created Sucessfully.\"\r\n                  );\r\n                }\r\n              }\r\n              if (this.mode == \"add\") {\r\n                if (this.duplicateCriteria) {\r\n                  this.coreService.showSuccessToast(\r\n                    \"Search setting updated Sucessfully.\"\r\n                  );\r\n                } else {\r\n                  this.coreService.showSuccessToast(\r\n                    \"New Search setting added Sucessfully.\"\r\n                  );\r\n                }\r\n              }\r\n\r\n              if (this.mode == \"edit\") {\r\n                this.coreService.showSuccessToast(\r\n                  \"Search setting updated Sucessfully.\"\r\n                );\r\n              }\r\n              if (action == \"save\") {\r\n                this.router.navigate([`navbar/search-settings`]);\r\n              } else if (action == \"saveAddNew\") {\r\n                this.router.navigate([\r\n                  `navbar/search-settings/add-search-settings/add`,\r\n                ]);\r\n              }\r\n            }\r\n          }\r\n        },\r\n        (err) => {\r\n          console.log(\"Error in saving Search setting\", err);\r\n          this.coreService.showWarningToast(\"Some error in fetching data\");\r\n        }\r\n      );\r\n  }\r\n\r\n  criteriaPriorityValidation(event, field) {\r\n    let orderID = Number(event.target.value);\r\n    if (orderID > this.searchSettingtable.length) {\r\n      let msg =\r\n        \"Please enter display order \" +\r\n        (this.searchSettingtable.length == 1\r\n          ? \"as 1 only\"\r\n          : \"between 1 to \" + this.searchSettingtable.length);\r\n      this.coreService.showWarningToast(msg);\r\n      this.invalidForSave = true;\r\n      field[\"invalidForSave\"] = true;\r\n    } else {\r\n      let index = this.orderIDArray.indexOf(orderID);\r\n      if (orderID <= 0) {\r\n        this.coreService.showWarningToast(\r\n          \"Display Order is required and should be atleast 1\"\r\n        );\r\n        this.orderIDArray[this.searchSettingtable.indexOf(field)] = orderID;\r\n        this.invalidForSave = true;\r\n        field[\"invalidForSave\"] = true;\r\n      } else {\r\n        if (index == -1 || this.searchSettingtable.indexOf(field) == index) {\r\n          orderID > 0 &&\r\n            (this.orderIDArray[this.searchSettingtable.indexOf(field)] =\r\n              orderID);\r\n          this.invalidForSave = false;\r\n          field[\"invalidForSave\"] = false;\r\n        } else {\r\n          this.coreService.showWarningToast(\r\n            \"Entered display order is already exist please try with different.\"\r\n          );\r\n          this.invalidForSave = true;\r\n          field[\"invalidForSave\"] = true;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  bindSelectedOperations(values, rowIndex) {\r\n    let selectedOp: any = [];\r\n    selectedOp = [...values.map((x) => x.code)].join(\",\");\r\n  }\r\n\r\n  saveCriteriaSettings(action) {\r\n    let emptyOperation = false;\r\n    let emptyPriority = false;\r\n    let validGreaterthanPriority = false;\r\n    let displayOrderInvalid = false;\r\n    this.searchSettingtable.forEach((element) => {\r\n      if (element.operations == \"\") {\r\n        emptyOperation = true;\r\n      }\r\n      if (element.orderID > this.searchSettingtable.length) {\r\n        validGreaterthanPriority = true;\r\n      }\r\n      if (element.orderID == 0 || element.orderID < 0) {\r\n        emptyPriority = true;\r\n      }\r\n      if (element[\"invalidForSave\"]) {\r\n        displayOrderInvalid = true;\r\n      }\r\n    });\r\n    if (emptyOperation) {\r\n      this.coreService.showWarningToast(\"Please select operation.\");\r\n    } else if (emptyPriority) {\r\n      this.coreService.showWarningToast(\"Display Order is required.\");\r\n    } else if (validGreaterthanPriority) {\r\n      let msg =\r\n        \"Please enter display order \" +\r\n        (this.searchSettingtable.length == 1\r\n          ? \"as 1 only\"\r\n          : \"between 1 to \" + this.searchSettingtable.length);\r\n      this.coreService.showWarningToast(msg);\r\n    } else if (displayOrderInvalid) {\r\n      let msg = \"Some of display order fields are invalid.\";\r\n      this.coreService.showWarningToast(msg);\r\n    } else {\r\n      if (this.mode == \"edit\") {\r\n        this.saveCriteriaFields(action);\r\n      } else {\r\n        this.checkCriteriaDuplication(action);\r\n      }\r\n    }\r\n  }\r\n\r\n  setCloneCriteriaData(searchId: any) {\r\n    let data = {\r\n      formName: this.appFormModuleDataForEdit[\"formName\"],\r\n      moduleName: this.appFormModuleDataForEdit[\"moduleName\"],\r\n      applicationName: this.appFormModuleDataForEdit[\"appName\"],\r\n    };\r\n\r\n    forkJoin({\r\n      cloneCriteriaData:\r\n        this.searchSettingsService.getSearchCloneData(searchId),\r\n      criteriaFieldsData:\r\n        this.searchSettingsService.getSearchFieldsExecuteQueries(data),\r\n    })\r\n      .pipe(\r\n        take(1),\r\n        map((response) => {\r\n          if (\r\n            response.cloneCriteriaData[\"data\"] &&\r\n            response.cloneCriteriaData[\"data\"][\"cloneCriteria\"]\r\n          ) {\r\n            const cloneCriteriaData =\r\n              response.cloneCriteriaData[\"data\"][\"cloneCriteria\"];\r\n            const criteriaFieldsData =\r\n              response.criteriaFieldsData[\"data\"][\r\n                \"cmCriteriaOperationsMasters\"\r\n              ];\r\n            cloneCriteriaData[\"settingSearchQueryCriteria\"].forEach(\r\n              (cloneD: any) => {\r\n                this.orderIDArray.push(cloneD.orderID);\r\n                cloneD[\"operationOption\"] = this.searchOperatorsOptions.map(\r\n                  (x) => {\r\n                    return { label: x.name, code: x.name };\r\n                  }\r\n                );\r\n                let selectedOpt = cloneD[\"operators\"].split(\",\");\r\n                cloneD[\"operators\"] = selectedOpt.map((opt) => {\r\n                  return { label: opt, code: opt };\r\n                });\r\n                let data = criteriaFieldsData.find(\r\n                  (fieldD) => fieldD[\"fieldName\"] == cloneD[\"fieldName\"]\r\n                );\r\n              }\r\n            );\r\n            this.isFieldsQueriesData = true;\r\n            this.fieldsQueriesData = [...criteriaFieldsData];\r\n\r\n            this.selectedFields = criteriaFieldsData.filter((crit) => {\r\n              return cloneCriteriaData[\"settingSearchQueryCriteria\"].find(\r\n                (cloneCrit) => {\r\n                  return cloneCrit[\"fieldName\"] == crit[\"fieldName\"];\r\n                }\r\n              );\r\n            });\r\n            this.selectFields = criteriaFieldsData.filter(\r\n              (el) => !this.selectedFields.includes(el)\r\n            );\r\n            return cloneCriteriaData;\r\n          } else {\r\n            return response.cloneCriteriaData;\r\n          }\r\n        })\r\n      )\r\n      .subscribe((res) => {\r\n        console.log(\":::\", res);\r\n        if (res[\"status\"]) {\r\n          if (\r\n            typeof res[\"status\"] == \"string\" &&\r\n            (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n          ) {\r\n            if (res[\"error\"]) {\r\n              this.coreService.showWarningToast(res[\"error\"]);\r\n            } else {\r\n              this.coreService.showWarningToast(\"Some error in fetching data\");\r\n            }\r\n          } else {\r\n            if (res) {\r\n              this.searchSettingtable = res[\"settingSearchQueryCriteria\"];\r\n              this.searchSettingtable.forEach((item, i) => {\r\n                item[\"operations\"] = this.searchSettingtable[i][\"operators\"];\r\n              });\r\n\r\n              const appValue = this.searchApplicationOptions.find(\r\n                (value) => value.code === res[\"applicationName\"]\r\n              );\r\n              this.appCtrl.setValue(appValue);\r\n              const formValue = this.searchFormsOptions.find(\r\n                (value) => value.code === res[\"formName\"]\r\n              );\r\n              this.formCtrl.setValue(formValue);\r\n              const moduleValue = this.searchModuleOptions.find(\r\n                (value) => value.code === res[\"moduleName\"]\r\n              );\r\n              this.moduleCtrl.setValue(moduleValue);\r\n            }\r\n          }\r\n        } else if (res[\"msg\"]) {\r\n          this.coreService.showWarningToast(res[\"msg\"]);\r\n          return;\r\n        }\r\n      })\r\n      .add(() => {\r\n        if (this.params && this.params.id) {\r\n          this.coreService.removeLoadingScreen();\r\n        }\r\n      });\r\n  }\r\n\r\n  reset() {\r\n    this.isFieldsQueriesData = false;\r\n    this.searchSettingtable = [];\r\n    this.selectFields = [];\r\n    this.selectedFields = [];\r\n    // this.appCtrl.reset();\r\n    // this.formCtrl.reset();\r\n    // this.moduleCtrl.reset();\r\n    // this.formCtrl.disable();\r\n    // this.moduleCtrl.disable();\r\n  }\r\n}\r\n","<div class=\"visible-main-section\">\r\n  <div class=\"details-page-card\">\r\n    <div class=\"d-flex mx-3\" style=\"justify-content: space-between\">\r\n      <div class=\"col-12\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-8 col-lg-8 col-sm-12 col-xs-12\">\r\n            <div class=\"row\">\r\n              <div class=\"col-1\">\r\n\r\n                <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              width=\"41\"\r\n              height=\"35\"\r\n              viewBox=\"0 0 41 41\"\r\n            >\r\n              <g\r\n                id=\"Group_2248\"\r\n                data-name=\"Group 2248\"\r\n                transform=\"translate(-341 -138)\"\r\n              >\r\n                <circle\r\n                  id=\"Ellipse_130\"\r\n                  data-name=\"Ellipse 130\"\r\n                  cx=\"20.5\"\r\n                  cy=\"20.5\"\r\n                  r=\"20.5\"\r\n                  transform=\"translate(341 138)\"\r\n                  [attr.fill]=\"primaryColor\"\r\n                />\r\n                <path\r\n                  id=\"_52_Note_Basic_Description\"\r\n                  data-name=\"52  Note, Basic, Description\"\r\n                  d=\"M17.054,9.537H9.52a.753.753,0,0,1-.753-.753V5.016a.753.753,0,0,1,.753-.753h.851a3.014,3.014,0,0,1,5.831,0h.851a.753.753,0,0,1,.753.753V8.783A.753.753,0,0,1,17.054,9.537ZM10.274,8.03H16.3V5.77h-.753a.753.753,0,0,1-.753-.753,1.507,1.507,0,0,0-3.014,0,.753.753,0,0,1-.753.753h-.753Zm11.3,12.808V7.277a2.26,2.26,0,0,0-2.26-2.26h-.753V6.523h.753a.753.753,0,0,1,.753.753V20.837a.753.753,0,0,1-.753.753H7.26a.753.753,0,0,1-.753-.753V7.277a.753.753,0,0,1,.753-.753h.753V5.016H7.26A2.26,2.26,0,0,0,5,7.277V20.837A2.26,2.26,0,0,0,7.26,23.1H19.314A2.26,2.26,0,0,0,21.574,20.837ZM17.808,11.8H8.767V13.3h9.041Zm0,3.014H8.767v1.507h9.041Zm0,3.014H8.767v1.507h9.041Z\"\r\n                  transform=\"translate(348.213 145.945)\"\r\n                  fill=\"#fff\"\r\n                />\r\n              </g>\r\n            </svg>\r\n              </div>\r\n              <div class=\"col\">\r\n\r\n                <p class=\"description-text\">\r\n                  \r\n                  Criteria are parameters or fields that are used to select or return a\r\n                  resultant value based on selected form...\r\n                </p>\r\n              </div>\r\n            </div>\r\n    </div>\r\n    <div class=\"col-md-4 col-lg-4 col-sm-12 col-xs-12\">\r\n  <div class=\"row\">\r\n      <div class=\"buttons-section\">\r\n          <button\r\n          pButton\r\n          pRipple\r\n          type=\"button\"\r\n          [disabled]=\"invalidForSave || !searchSettingtable.length\"\r\n          label=\"Save\"\r\n          (click)=\"saveCriteriaSettings('save')\"\r\n          class=\"p-button-raised\"\r\n        ></button>\r\n          <button\r\n          pButton\r\n          pRipple\r\n          type=\"button\"\r\n          [disabled]=\"false\"\r\n          label=\"Clear\"\r\n          class=\"p-button-warning\"\r\n          (click)=\"reset()\"\r\n        ></button>\r\n    </div>\r\n  </div>\r\n</div>\r\n</div>\r\n</div>\r\n</div>\r\n    <div [formGroup]=\"selectAppForm\" class=\"select-form-application m-2\">\r\n      <div class=\"col-12\">\r\n        <div class=\"row\">\r\n      <div class=\"d-flex field col-md-4 col-lg-4 col-sm-12 col-xs-12 md-3\">\r\n        <label class=\"detail-page-section-heading col-sm-3 col-xs-12 pr-8\" for=\"application\"\r\n          >Application</label\r\n        >\r\n        <p-dropdown\r\n          name=\"application\"\r\n          inputId=\"application\"\r\n          class=\"smartSearch\"\r\n          [options]=\"searchApplicationOptions\"\r\n          placeholder=\"Select\"\r\n          optionLabel=\"name\"\r\n          formControlName=\"applications\"\r\n          (onChange)=\"onAppChange($event)\"\r\n        >\r\n        <ng-template let-options pTemplate=\"item\">\r\n          <div class=\"truncate-text\">\r\n            <div >{{ options.name}}</div>\r\n          </div>\r\n        </ng-template></p-dropdown>\r\n      </div>\r\n      <div class=\"d-flex field col-md-4 col-lg-4 col-sm-12 col-xs-12 md-3\">\r\n        <label class=\"detail-page-section-heading col-sm-3 col-xs-12 small\" for=\"module\">Module</label>\r\n        <p-dropdown\r\n          name=\"module\"\r\n          inputId=\"module\"\r\n          class=\"smartSearch\"\r\n          [options]=\"searchModuleOptions\"\r\n          placeholder=\"Select\"\r\n          optionLabel=\"name\"\r\n          formControlName=\"modules\"\r\n          (onChange)=\"onModuleChange()\"\r\n        >\r\n        <ng-template let-options pTemplate=\"item\">\r\n          <div class=\"truncate-text\">\r\n            <div >{{ options.name}}</div>\r\n          </div>\r\n        </ng-template></p-dropdown>\r\n      </div>\r\n      <div class=\"d-flex field col-md-4 col-lg-4 col-sm-12 col-xs-12 md-4\">\r\n        <label class=\"detail-page-section-heading col-sm-3 col-xs-12 smallForm\" for=\"form\">Form</label>\r\n        <p-dropdown\r\n          name=\"form\"\r\n          inputId=\"form\"\r\n          class=\"smartSearch\"\r\n          [options]=\"searchFormsOptions\"\r\n          placeholder=\"Select\"\r\n          optionLabel=\"name\"\r\n          formControlName=\"forms\"\r\n          (onChange)=\"executeQueries()\"\r\n        >\r\n        <ng-template let-options pTemplate=\"item\">\r\n          <div class=\"truncate-text\">\r\n            <div >{{ options.name}}</div>\r\n          </div>\r\n        </ng-template></p-dropdown>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n    <div class=\"drag-criteria-fields m-3\">\r\n      <div class=\"d-flex mb-2\">\r\n        <div class=\"detail-page-section-heading list-heading w-50\">\r\n          Select Fields\r\n        </div>\r\n        <div\r\n          class=\"detail-page-section-heading list-heading w-50\"\r\n          style=\"margin-left: 6rem\"\r\n        >\r\n          Selected Fields\r\n        </div>\r\n      </div>\r\n      <p-pickList\r\n        [source]=\"selectFields\"\r\n        [target]=\"selectedFields\"\r\n        [showSourceControls]=\"false\"\r\n        [showTargetControls]=\"false\"\r\n        [dragdrop]=\"true\"\r\n      >\r\n        <ng-template let-field pTemplate=\"item\">\r\n          <div class=\"field-item\">\r\n            {{ field.displayName }}\r\n          </div>\r\n        </ng-template>\r\n      </p-pickList>\r\n    </div>\r\n    <div\r\n      class=\"form-app-heading-execute-btn d-flex mx-3\"\r\n      style=\"justify-content: flex-end\"\r\n    >\r\n      <button\r\n        pButton\r\n        pRipple\r\n        type=\"button\"\r\n        [disabled]=\"!selectedFields.length\"\r\n        label=\"Execute\"\r\n        class=\"p-button-raised\"\r\n        (click)=\"executeBtnClick()\"\r\n      ></button>\r\n    </div>\r\n\r\n    <div class=\"application-table\">\r\n      <div class=\"application-header\" *ngIf=\"searchSettingtable.length\">\r\n        Application: {{ appCtrl.value && appCtrl.value.name }} | Module:\r\n        {{ moduleCtrl.value && moduleCtrl.value.name }} | Form:\r\n        {{ formCtrl.value && formCtrl.value.name }}\r\n      </div>\r\n      <div class=\"application-ptable\" *ngIf=\"searchSettingtable.length\">\r\n        <p-table\r\n          #dt\r\n          [value]=\"searchSettingtable\"\r\n          class=\"criteria-view-table\"\r\n          [rowHover]=\"true\"\r\n          [scrollable]=\"true\"\r\n          scrollHeight=\"360px\"\r\n          [style]=\"{ width: '100%' }\"\r\n        >\r\n          <ng-template pTemplate=\"header\">\r\n            <tr>\r\n              <th\r\n                *ngFor=\"let col of cols; let i = index\"\r\n                [style.width]=\"col.width\"\r\n              >\r\n                {{ col.header }}<span class=\"red-star\" *ngIf=\"col.isMandatory\">*</span>\r\n              </th>\r\n            </tr>\r\n            <tr class=\"search-row\">\r\n              <th *ngFor=\"let col of cols; let i = index\">\r\n                <span\r\n                  *ngIf=\"\r\n                    !(col.field == 'displayOrder' || col.field == 'operator')\r\n                  \"\r\n                  class=\"p-input-icon-left\"\r\n                  [style.width]=\"'120px'\"\r\n                >\r\n                  <i class=\"pi pi-search\"></i>\r\n                  <input\r\n                    type=\"text\"\r\n                    class=\"p-inputtext table-search\"\r\n                    placeholder=\"Search\"\r\n                    (input)=\"\r\n                      dt.filter($event.target.value, col.field, 'contains')\r\n                    \"\r\n                  />\r\n                </span>\r\n              </th>\r\n            </tr>\r\n          </ng-template>\r\n          <ng-template\r\n            pTemplate=\"body\"\r\n            let-product\r\n            let-col=\"settingsCol\"\r\n            let-rowIndex=\"rowIndex\"\r\n          >\r\n            <tr>\r\n              <td>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"{{ product.fieldName }}\"\r\n                  [disabled]=\"true\"\r\n                />\r\n              </td>\r\n              <td>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"{{ product.displayName }}\"\r\n                  [disabled]=\"true\"\r\n                />\r\n              </td>\r\n              <td>\r\n                <p-multiSelect\r\n                  id=\"operationsmulti\"\r\n                  [options]=\"product.operationOption\"\r\n                  [(ngModel)]=\"product.operations\"\r\n                  defaultLabel=\"Select\"\r\n                  [showHeader]=\"false\"\r\n                  (onChange)=\"\r\n                    bindSelectedOperations(product.operations, rowIndex)\r\n                  \"\r\n                  optionLabel=\"label\"\r\n                  [maxSelectedLabels]=\"5\"\r\n                  [appendTo]=\"'body'\"\r\n                ></p-multiSelect>\r\n              </td>\r\n              <td>\r\n                <input\r\n                  type=\"number\"\r\n                  min=\"1\"\r\n                  [value]=\"product.orderID\"\r\n                  [(ngModel)]=\"product.orderID\"\r\n                  placeholder=\"{{ product.orderID }}\"\r\n                  [disabled]=\"false\"\r\n                  (blur)=\"criteriaPriorityValidation($event, product)\"\r\n                  style=\"\r\n                    width: 90px;\r\n                    margin-left: 10px;\r\n                    background-color: #f4f6fa;\r\n                  \"\r\n                />\r\n              </td>\r\n            </tr>\r\n          </ng-template>\r\n          <ng-template pTemplate=\"emptymessage\">\r\n            <tr>\r\n              <td [attr.colspan]=\"cols.length\">No Data found.</td>\r\n            </tr>\r\n          </ng-template>\r\n        </p-table>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</div>\r\n<p-confirmDialog\r\n  class=\"duplicateSearchConfirm\"\r\n  [style]=\"{ width: '50vw' }\"\r\n></p-confirmDialog>\r\n","import { Component, OnInit } from \"@angular/core\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { CoreService } from \"src/app/core.service\";\r\nimport { SearchSettingsService } from \"../search-settings.service\";\r\nimport { DatePipe } from \"@angular/common\";\r\nimport { MultiSelect } from \"primeng/multiselect\";\r\nimport { ConfirmationService } from \"primeng/api\";\r\n\r\n@Component({\r\n  selector: \"app-search-listing\",\r\n  templateUrl: \"./search-listing.component.html\",\r\n  styleUrls: [\"./search-listing.component.scss\"],\r\n})\r\nexport class SearchListingComponent implements OnInit {\r\n  noDataMsg: string = \"search Setting Data Not Available\";\r\n\r\n  searchSettingApiData: any;\r\n  searchSettingData: any[] = [];\r\n\r\n  showNoDataFound: boolean = false;\r\n\r\n  showapplicationNameOptions: boolean = false;\r\n  showformNameOptions: boolean = false;\r\n  showmoduleNameOptions: boolean = false;\r\n  showtotalCriteraiFieldOptions: boolean = false;\r\n  showtotalDisplayFieldsOptions: boolean = false;\r\n  showcreatedDateOptions: boolean = false;\r\n  showcreatedByOptions: boolean = false;\r\n  showstatusOptions: boolean = false;\r\n\r\n  objectKeys = Object.keys;\r\n\r\n  linkedSearchSetting: any = [];\r\n\r\n  applicationName: any[];\r\n  formName: any[];\r\n  moduleName: any[];\r\n  totalCriteraiField: any[];\r\n  totalDisplayField: any = [];\r\n  createdDate: any[];\r\n  createdBy: any[];\r\n  status: any[];\r\n  clickforview = false;\r\n  searchDataArrayView = [];\r\n\r\n  selectedFilterapplicationName: any[] = [];\r\n  selectedFilterformName: any[] = [];\r\n  selectedFiltermoduleName: any[] = [];\r\n  selectedFiltertotalCriteraiField: any[] = [];\r\n  selectedFiltertotalDisplayField: any[] = [];\r\n  selectedFiltercreatedDate: any[] = [];\r\n  selectedFiltercreatedBy: any[] = [];\r\n  selectedFilterstatus: any[] = [];\r\n\r\n  userData: any = {};\r\n\r\n  cols: any[] = [\r\n    { field: \"applicationName\", header: \"Applications\", width: \"12%\" },\r\n    { field: \"moduleName\", header: \"Module\", width: \"12%\" },\r\n    { field: \"formName\", header: \"Form\", width: \"14%\" },\r\n    {\r\n      field: \"totalCriteraiField\",\r\n      header: \"Total search Fields\",\r\n      width: \"14%\",\r\n    },\r\n    {\r\n      field: \"totalDisplayField\",\r\n      header: \"Total Display Fields\",\r\n      width: \"14%\",\r\n    },\r\n    { field: \"createdDate\", header: \"Created Date\", width: \"10%\" },\r\n    { field: \"createdBy\", header: \"Created By\", width: \"10%\" },\r\n    { field: \"status\", header: \"Status\", width: \"9%\" },\r\n    { field: \"operations\", header: \"Operations\", width: \"5%\" },\r\n  ];\r\n\r\n  loading = true;\r\n  constructor(\r\n    private router: Router,\r\n    private coreService: CoreService,\r\n    private route: ActivatedRoute,\r\n    private datePipe: DatePipe,\r\n    private searchSettingsService: SearchSettingsService,\r\n    private confirmationService: ConfirmationService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.coreService.displayLoadingScreen();\r\n\r\n    const translationKey = \"Home.Application Settings\";\r\n    this.coreService\r\n      .translate(translationKey)\r\n      .then((translatedTitle: string) => {\r\n        this.coreService.setPageTitle(translatedTitle);\r\n      });\r\n\r\n    this.route.data.subscribe((data) => {\r\n      this.coreService.setBreadCrumbMenu(Object.values(data));\r\n    });\r\n\r\n    this.userData = JSON.parse(localStorage.getItem(\"userData\"));\r\n    this.getSearchSettingListData();\r\n  }\r\n\r\n  getSearchSettingListData() {\r\n    this.searchSettingsService\r\n      .getSearchSettingListing()\r\n      .subscribe(\r\n        (res) => {\r\n          this.coreService.removeLoadingScreen();\r\n          if (\r\n            res[\"status\"] &&\r\n            typeof res[\"status\"] == \"string\" &&\r\n            (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n          ) {\r\n            if (res[\"error\"]) {\r\n              this.coreService.showWarningToast(res[\"error\"]);\r\n            } else {\r\n              this.coreService.showWarningToast(\"Some error in fetching data\");\r\n            }\r\n          } else {\r\n            this.searchSettingApiData = res;\r\n            if (res[\"data\"]) {\r\n              this.searchSettingData = res[\"data\"];\r\n              this.showNoDataFound = false;\r\n              this.formatApiData();\r\n              this.setFilterOptions();\r\n            } else {\r\n              this.coreService.showWarningToast(res[\"msg\"]);\r\n              this.searchSettingData = [];\r\n              this.showNoDataFound = true;\r\n            }\r\n          }\r\n        },\r\n        (err) => {\r\n          console.log(\"Error in criterisSettingListing\", err);\r\n          this.showNoDataFound = true;\r\n        }\r\n      )\r\n      .add(() => {\r\n        this.loading = false;\r\n        this.coreService.removeLoadingScreen();\r\n      });\r\n  }\r\n\r\n  formatApiData() {\r\n    this.searchSettingData.forEach((search) => {\r\n      search[\"totalDisplayField\"] = \"7\";\r\n      search[\"totalCriteraiField\"] = `${search[\"totalCriteraiField\"]}`;\r\n      search[\"createdDate\"] = this.datePipe.transform(search[\"createdDate\"]);\r\n    });\r\n    this.loading = false;\r\n  }\r\n\r\n  setFilterOptions() {\r\n    this.applicationName = this.searchSettingApiData.applicationName.map(\r\n      (code) => {\r\n        return { label: code, value: code };\r\n      }\r\n    );\r\n    this.formName = this.searchSettingApiData.formName.map((code) => {\r\n      return { label: code, value: code };\r\n    });\r\n    this.moduleName = this.searchSettingApiData.moduleName.map((code) => {\r\n      return { label: code, value: code };\r\n    });\r\n    this.totalCriteraiField = this.searchSettingApiData[\r\n      \"totalCriteraiField\"\r\n    ].map((code) => {\r\n      return { label: code, value: code };\r\n    });\r\n    this.totalDisplayField = [{ label: \"7\", value: \"7\" }];\r\n    let createdDatesApi = this.searchSettingApiData.createdDate.map((code) => {\r\n      let formatDate = this.datePipe.transform(code);\r\n      return formatDate;\r\n    });\r\n    this.createdDate = [...new Set(createdDatesApi.map((v) => v))].map(\r\n      (value) => {\r\n        return { label: value, value: value };\r\n      }\r\n    );\r\n    this.createdBy = this.searchSettingApiData.createdBy.map((code) => {\r\n      return { label: code, value: code };\r\n    });\r\n    this.status = this.searchSettingApiData.status.map((code) => {\r\n      return { label: code, value: code };\r\n    });\r\n  }\r\n\r\n  confirmStatus(e: any, data: any) {\r\n    e.preventDefault();\r\n    let type = \"\";\r\n    let reqStatus = \"\";\r\n    if (e.target.checked) {\r\n      reqStatus = \"Active\";\r\n      type = \"activate\";\r\n    } else {\r\n      reqStatus = \"Inactive\";\r\n      type = \"deactivate\";\r\n    }\r\n    this.coreService.setSidebarBtnFixedStyle(false);\r\n    this.coreService.setHeaderStickyStyle(false);\r\n    let completeMsg = \"\";\r\n    let isLinkedMsg = `Active Transactions Exist. </br>`;\r\n    if (\r\n      reqStatus == \"Inactive\" &&\r\n      this.linkedSearchSetting.includes(data[\"id\"])\r\n    ) {\r\n      completeMsg =\r\n        isLinkedMsg +\r\n        `Do you wish to ` +\r\n        type +\r\n        ` the Search setting Record: ${data[\"id\"]}?`;\r\n    } else {\r\n      completeMsg =\r\n        `<img src=\"../../../assets/warning.svg\"><br/><br/>` +\r\n        `Do you wish to ` +\r\n        type +\r\n        ` the Search setting Record: ${data[\"id\"]}?`;\r\n    }\r\n    this.confirmationService.confirm({\r\n      message: completeMsg,\r\n      key: \"activeDeactiveStatus\",\r\n      accept: () => {\r\n        this.updateStatus(e, reqStatus, data);\r\n        this.setHeaderSidebarBtn(true);\r\n      },\r\n      reject: () => {\r\n        this.confirmationService.close;\r\n        this.setHeaderSidebarBtn(false);\r\n      },\r\n    });\r\n  }\r\n\r\n  setHeaderSidebarBtn(accept: boolean) {\r\n    this.coreService.displayLoadingScreen();\r\n    setTimeout(() => {\r\n      this.coreService.setHeaderStickyStyle(true);\r\n      this.coreService.setSidebarBtnFixedStyle(true);\r\n    }, 500);\r\n    if (!accept) {\r\n      setTimeout(() => {\r\n        this.coreService.removeLoadingScreen();\r\n      }, 1000);\r\n    }\r\n  }\r\n\r\n  updateStatus(e: any, reqStatus: any, data: any) {\r\n    this.coreService.displayLoadingScreen();\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"userId\", this.userData.userId);\r\n    formData.append(\"searchId\", data[\"id\"]);\r\n    formData.append(\"status\", reqStatus);\r\n    this.updateSearchSettingStatus(formData, e.target, data);\r\n  }\r\n\r\n  updateSearchSettingStatus(formData: any, sliderElm: any, searchData: any) {\r\n    this.searchSettingsService.updateSearchSettingStatus(formData).subscribe(\r\n      (res) => {\r\n        let message = \"\";\r\n        if (res[\"error\"] == \"true\") {\r\n          this.coreService.removeLoadingScreen();\r\n          message = `Kindly deactivate the Search Setting: ${res[\"msg\"]} ( ${searchData[\"criteriaMap\"]} ) to activate the current record.`;\r\n          this.coreService.showWarningToast(message);\r\n        } else {\r\n          if (res[\"msg\"]) {\r\n            message = res[\"msg\"];\r\n            sliderElm.checked = sliderElm!.checked;\r\n            this.getSearchSettingListData();\r\n            this.coreService.showSuccessToast(message);\r\n          } else {\r\n            this.coreService.removeLoadingScreen();\r\n            message = \"Error in fetching data, Please try again later\";\r\n            this.coreService.showWarningToast(message);\r\n          }\r\n        }\r\n      },\r\n      (err) => {\r\n        console.log(err);\r\n        this.coreService.removeLoadingScreen();\r\n      }\r\n    );\r\n  }\r\n\r\n  openClickForView(data) {\r\n    this.searchDataArrayView = data.settingSearchQueryCriteria;\r\n    this.searchDataArrayView[\"applicationName\"] = data[\"applicationName\"];\r\n    this.searchDataArrayView[\"formName\"] = data[\"formName\"];\r\n    this.searchDataArrayView[\"moduleName\"] = data[\"moduleName\"];\r\n    this.coreService.setHeaderStickyStyle(false);\r\n    this.coreService.setSidebarBtnFixedStyle(false);\r\n    this.clickforview = true;\r\n  }\r\n  openClickForClone(data: any, type: any) {\r\n    let state = {\r\n      appName: data.applicationName,\r\n      moduleName: data.moduleName,\r\n      formName: data.formName,\r\n    };\r\n\r\n    this.router.navigateByUrl(\r\n      `navbar/search-settings/add-search-settings/${data.id}/${type}`,\r\n      { state: state }\r\n    );\r\n  }\r\n\r\n  closeDialog() {\r\n    this.coreService.displayLoadingScreen();\r\n    setTimeout(() => {\r\n      this.coreService.setHeaderStickyStyle(true);\r\n      this.coreService.setSidebarBtnFixedStyle(true);\r\n    }, 500);\r\n    setTimeout(() => {\r\n      this.coreService.removeLoadingScreen();\r\n    }, 1000);\r\n  }\r\n\r\n  toggleFilterVisibility(field) {\r\n    this[`show${field}Options`] = !this[`show${field}Options`];\r\n  }\r\n\r\n  hideFilterVisibility(field) {\r\n    this[`show${field}Options`] = false;\r\n  }\r\n\r\n  getSelectedFilterArr(field: any) {\r\n    return this[`selectedFilter${field}`];\r\n  }\r\n\r\n  setSelectedFilter(ms: MultiSelect, field: any) {\r\n    this[`selectedFilter${field}`] = ms.value;\r\n  }\r\n\r\n  fieldFilterVisible(field: any) {\r\n    return this[`show${field}Options`];\r\n  }\r\n\r\n  fieldFilterOptions(field: any): [] {\r\n    return this[field];\r\n  }\r\n}\r\n","<div class=\"visible-main-section\" *ngIf=\"searchSettingData.length\">\r\n  <div class=\"pagetitle\">\r\n    <div class=\"infoicon\">\r\n      <i class=\"pi pi-info-circle\"></i>\r\n      List of search setting created for forms.\r\n    </div>\r\n    <div class=\"addnew\">\r\n      <button\r\n        pButton\r\n        pRipple\r\n        type=\"button\"\r\n        label=\"Add Search Settings\"\r\n        class=\"p-button-raised\"\r\n        routerLink=\"add-search-settings/add\"\r\n      ></button>\r\n    </div>\r\n  </div>\r\n  <div class=\"ptable\">\r\n    <p-card class=\"p-col-12\" *ngIf=\"!searchSettingData\">\r\n      {{ noDataMsg }}\r\n    </p-card>\r\n    <p-table\r\n      #dt\r\n      [columns]=\"cols\"\r\n      [value]=\"searchSettingData\"\r\n      [paginator]=\"true\"\r\n      [rows]=\"10\"\r\n      [rowHover]=\"true\"\r\n    >\r\n      <ng-template pTemplate=\"header\" let-columns>\r\n        <tr>\r\n          <th\r\n            *ngFor=\"let col of columns; let i = index\"\r\n            pReorderableColumn\r\n            [pSortableColumn]=\"col.field\"\r\n            pResizableColumn\r\n            [style.width]=\"col.width\"\r\n          >\r\n            {{ col.header }}\r\n            <div\r\n              *ngIf=\"!(i + 1 == columns.length)\"\r\n              (click)=\"$event.stopPropagation()\"\r\n              class=\"filter-icon\"\r\n            >\r\n              <i\r\n                [ngStyle]=\"{\r\n                  color: getSelectedFilterArr(col.field).length\r\n                    ? 'var(--primary-color)'\r\n                    : 'rgb(105 105 105)',\r\n                  fontSize: '11px'\r\n                }\"\r\n                class=\"pi pi-filter-fill\"\r\n                (click)=\"toggleFilterVisibility(col.field)\"\r\n              ></i>\r\n              <p-multiSelect\r\n                #ms\r\n                [options]=\"fieldFilterOptions(col.field)\"\r\n                [filter]=\"true\"\r\n                [displaySelectedLabel]=\"false\"\r\n                [overlayVisible]=\"fieldFilterVisible(col.field)\"\r\n                [defaultLabel]=\"'Search'\"\r\n                [appendTo]=\"'body'\"\r\n                [autoWidth]=\"false\"\r\n                (onChange)=\"\r\n                  dt.filter($event.value, col.field, 'in');\r\n                  setSelectedFilter(ms, col.field)\r\n                \"\r\n                (onPanelHide)=\"hideFilterVisibility(col.field)\"\r\n              >\r\n              </p-multiSelect>\r\n            </div>\r\n          </th>\r\n        </tr>\r\n\r\n        <tr class=\"search-row\">\r\n          <th *ngFor=\"let col of cols; let i = index\">\r\n            <span\r\n              *ngIf=\"!(col.field == 'status' || col.field == 'operations')\"\r\n              class=\"p-input-icon-left\"\r\n              [style.width]=\"'120px'\"\r\n            >\r\n              <i class=\"pi pi-search\"></i>\r\n              <input\r\n                type=\"text\"\r\n                class=\"p-inputtext table-search\"\r\n                placeholder=\"Search\"\r\n                (input)=\"dt.filter($event.target.value, col.field, 'contains')\"\r\n              />\r\n            </span>\r\n          </th>\r\n        </tr>\r\n      </ng-template>\r\n      <ng-template\r\n        pTemplate=\"body\"\r\n        let-rowData\r\n        let-columns=\"columns\"\r\n        let-index=\"rowIndex\"\r\n      >\r\n        <tr [pReorderableRow]=\"index\">\r\n          <ng-container *ngFor=\"let col of columns; let i = index\">\r\n            <td\r\n              *ngIf=\"!(col.field == 'status' || col.field == 'operations')\"\r\n              style=\"border: none; cursor: pointer\"\r\n              (click)=\"openClickForClone(rowData, 'edit')\"\r\n            >\r\n              {{ rowData[col[\"field\"]] }}\r\n            </td>\r\n            <td\r\n              *ngIf=\"col.field == 'status'\"\r\n              style=\"border: none; text-align: center\"\r\n            >\r\n              <label class=\"switch\" style=\"border: none\">\r\n                <input\r\n                  #statusInp\r\n                  [value]=\"rowData[col['field']]\"\r\n                  type=\"checkbox\"\r\n                  (click)=\"confirmStatus($event, rowData)\"\r\n                  [checked]=\"\r\n                    rowData[col['field']] == 'Active' ||\r\n                    rowData[col['field']] == 'A'\r\n                      ? true\r\n                      : false\r\n                  \"\r\n                />\r\n                <span class=\"slider round\"></span>\r\n              </label>\r\n            </td>\r\n            <td\r\n              *ngIf=\"col.field == 'operations'\"\r\n              style=\"border: none; text-align: center\"\r\n            >\r\n              <span class=\"image-text\">\r\n                <button\r\n                  pButton\r\n                  type=\"button\"\r\n                  icon=\"pi pi-eye\"\r\n                  class=\"operation-btns\"\r\n                  (click)=\"openClickForView(rowData)\"\r\n                ></button>\r\n              </span>\r\n            </td>\r\n          </ng-container>\r\n        </tr>\r\n      </ng-template>\r\n      <ng-template pTemplate=\"emptymessage\">\r\n        <tr>\r\n          <td [attr.colspan]=\"cols.length\">No Data found.</td>\r\n        </tr>\r\n      </ng-template>\r\n      <ng-template pTemplate=\"paginatorleft\" let-state>\r\n        {{ state.page * state.rows + 1 }} -\r\n        {{\r\n          state.rows * (state.page + 1) > state.totalRecords\r\n            ? state.totalRecords\r\n            : state.rows * (state.page + 1)\r\n        }}\r\n        of {{ state.totalRecords }}\r\n      </ng-template>\r\n    </p-table>\r\n  </div>\r\n</div>\r\n<div class=\"NorecordFound\" *ngIf=\"!searchSettingData.length && showNoDataFound\">\r\n  <div class=\"row\">\r\n    <div class=\"col-12\"><img src=\"assets/noRecordFound.svg\" /></div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col-12\">\r\n      <p>\"No Record Found.Click Add New Search To Add Record\"</p>\r\n      <button\r\n        pButton\r\n        pRipple\r\n        type=\"button\"\r\n        label=\"Add New Search\"\r\n        class=\"p-button-raised\"\r\n        routerLink=\"add-search-settings/add\"\r\n      ></button>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div>\r\n  <p-dialog\r\n    [(visible)]=\"clickforview\"\r\n    [modal]=\"true\"\r\n    [style]=\"{ width: '70vw', left: '50px' }\"\r\n    (onHide)=\"closeDialog()\"\r\n  >\r\n    <ng-template pTemplate=\"header\">\r\n      <div class=\"application-header\">\r\n        Application: {{ searchDataArrayView[\"applicationName\"] }} | Module:\r\n        {{ searchDataArrayView[\"moduleName\"] }} | Form:\r\n        {{ searchDataArrayView[\"formName\"] }}\r\n      </div>\r\n    </ng-template>\r\n    <p-table\r\n      [value]=\"searchDataArrayView\"\r\n      class=\"search-view-table\"\r\n      [rowHover]=\"true\"\r\n      [style]=\"{ width: '100%' }\"\r\n    >\r\n      <ng-template pTemplate=\"header\">\r\n        <tr>\r\n          <th>Field Name</th>\r\n          <th>Display Name</th>\r\n          <th>Operator</th>\r\n          <th>Display Order</th>\r\n        </tr>\r\n      </ng-template>\r\n      <ng-template pTemplate=\"body\" let-product>\r\n        <tr>\r\n          <td>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"{{ product.fieldName }}\"\r\n              [disabled]=\"true\"\r\n            />\r\n          </td>\r\n          <td>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"{{ product.displayName }}\"\r\n              [disabled]=\"true\"\r\n            />\r\n          </td>\r\n          <td>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"{{ product.operators }}\"\r\n              [disabled]=\"true\"\r\n              style=\"width: 200px\"\r\n            />\r\n          </td>\r\n          <td>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"{{ product.orderID }}\"\r\n              [disabled]=\"true\"\r\n              style=\"text-align: center; width: 90px\"\r\n            />\r\n          </td>\r\n        </tr>\r\n      </ng-template>\r\n      <ng-template pTemplate=\"emptymessage\">\r\n        <tr>\r\n          <td>No Data found.</td>\r\n        </tr>\r\n      </ng-template>\r\n    </p-table>\r\n  </p-dialog>\r\n</div>\r\n\r\n<p-confirmDialog\r\n  key=\"activeDeactiveStatus\"\r\n  class=\"status-confirm confirm-popup\"\r\n  #cd\r\n  [closable]=\"false\"\r\n>\r\n  <p-footer>\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-check\"\r\n      label=\"Yes\"\r\n      (click)=\"cd.accept()\"\r\n    ></button>\r\n\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-times\"\r\n      label=\"No\"\r\n      (click)=\"cd.reject()\"\r\n    ></button>\r\n  </p-footer>\r\n</p-confirmDialog>\r\n","import { HttpClient, HttpHeaders } from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class SearchSettingsService {\r\n  constructor(private http: HttpClient) {}\r\n\r\n  getSearchSettingListing() {\r\n    return this.http.get(`/appControl/searchSettings/getListOfCriteria`);\r\n  }\r\n\r\n  updateSearchSettingStatus(data: any) {\r\n    return this.http.post(\r\n      `/appControl/searchSettings/updateSearchSettingStatus`,\r\n      data\r\n    );\r\n  }\r\n\r\n  getSearchAppFormsList() {\r\n    return this.http.get(`/appControl/searchSettings/criteriaTypes`);\r\n  }\r\n\r\n  getSearchFieldsExecuteQueries(data: any) {\r\n    return this.http.post(`/appControl/searchSettings/executeQueries`, data);\r\n  }\r\n\r\n  getSearchCloneData(searchId: any) {\r\n    return this.http.get(\r\n      `/appControl/searchSettings/getCriteriaClone/${searchId}`\r\n    );\r\n  }\r\n  postSearchFieldsToSave(data: any, operation: any, userId: any) {\r\n    return this.http.post(`/appControl/searchSettings/saveCriteria`, data, {\r\n      headers: new HttpHeaders()\r\n        .set(\"userId\", userId)\r\n        .set(\"operation\", operation),\r\n    });\r\n  }\r\n}\r\n","import { Component, OnInit } from \"@angular/core\";\r\nimport { Router } from \"@angular/router\";\r\nimport { CoreService } from \"../core.service\";\r\nimport { AuthService } from \"../auth/auth.service\";\r\n\r\n@Component({\r\n  selector: \"app-session-time-out\",\r\n  templateUrl: \"./session-time-out.component.html\",\r\n  styleUrls: [\"./session-time-out.component.scss\"],\r\n})\r\nexport class SessionTimeOutComponent implements OnInit {\r\n  constructor(\r\n    private router: Router,\r\n    private coreService: CoreService,\r\n    private authService: AuthService\r\n  ) {}\r\n\r\n  primaryColor = \"var(--primary-color)\";\r\n  userActions = [{ name: \"Login\" }];\r\n\r\n  loggedInUserName = \"User\";\r\n\r\n  get profileOptions() {\r\n    return this.userActions;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.coreService.removeLoadingScreen();\r\n  }\r\n\r\n  goToLoginPage() {\r\n    this.authService.userDataSub.next(null);\r\n    localStorage.removeItem(\"token\");\r\n    localStorage.removeItem(\"userData\");\r\n    localStorage.removeItem(\"licenseCountry\");\r\n    localStorage.removeItem(\"selectedApplication\");\r\n    localStorage.clear();\r\n    this.router.navigate([\"login\"]);\r\n  }\r\n\r\n  onSubmit() {\r\n    this.router.navigate([\"login\"]);\r\n  }\r\n}\r\n","<div class=\"session-timeout-container\">\r\n  <div class=\"session-timeout-header\">\r\n    <div class=\"sidebar-header\">\r\n      <a routerLink=\"/navbar\" class=\"logo d-flex align-items-center\">\r\n        <svg\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          width=\"227.981\"\r\n          height=\"45\"\r\n          viewBox=\"0 0 227.981 46.596\"\r\n        >\r\n          <g\r\n            id=\"casmex_logo\"\r\n            data-name=\"casmex logo\"\r\n            transform=\"translate(-28.93 -28.934)\"\r\n          >\r\n            <path\r\n              id=\"Path_15\"\r\n              data-name=\"Path 15\"\r\n              d=\"M245.777,49.629q0-7.989,3.842-11.79t11.277-3.8a25.347,25.347,0,0,1,6.325.749v4.772a23.539,23.539,0,0,0-5.6-.721,12.523,12.523,0,0,0-5.562,1.068,6.819,6.819,0,0,0-3.218,3.412,15.12,15.12,0,0,0-1.068,6.2q0,5.826,2.205,8.364t6.727,2.539a21.819,21.819,0,0,0,6.519-1.165v4.771a22.308,22.308,0,0,1-7.407,1.221q-14.038,0-14.037-15.619\"\r\n              transform=\"translate(-160.336 2.907)\"\r\n              fill=\"#fff\"\r\n            />\r\n            <path\r\n              id=\"Path_16\"\r\n              data-name=\"Path 16\"\r\n              d=\"M362.369,35.121a7.642,7.642,0,0,1,4.009,3.579,14.473,14.473,0,0,1,1.331,6.769V64.694h-4.8l-.416-3.273h-.333a9.123,9.123,0,0,1-3.634,2.8,11.982,11.982,0,0,1-4.855.971,11.34,11.34,0,0,1-4.979-1.013,7.349,7.349,0,0,1-3.218-2.913,8.585,8.585,0,0,1-1.123-4.453,7.745,7.745,0,0,1,2.746-6.353q2.747-2.247,8.683-2.746l6.27-.638V45.163a8.144,8.144,0,0,0-.791-3.939,4.394,4.394,0,0,0-2.414-2.011,12.7,12.7,0,0,0-4.286-.6,27.473,27.473,0,0,0-4.009.319,24.451,24.451,0,0,0-4.147.985v-4.55a25.624,25.624,0,0,1,4.383-.985,33.184,33.184,0,0,1,4.66-.347,18.708,18.708,0,0,1,6.922,1.082m-3.426,25.065a8.518,8.518,0,0,0,3.107-2.372v-7.13l-5.8.583a8.687,8.687,0,0,0-4.674,1.553,4.241,4.241,0,0,0-1.456,3.44,4.473,4.473,0,0,0,1.318,3.5,5.632,5.632,0,0,0,3.9,1.193,8.924,8.924,0,0,0,3.606-.763\"\r\n              transform=\"translate(-236.245 2.906)\"\r\n              fill=\"#fff\"\r\n            />\r\n            <path\r\n              id=\"Path_17\"\r\n              data-name=\"Path 17\"\r\n              d=\"M462.384,64V59.506a29.948,29.948,0,0,0,8.683,1.3,9.325,9.325,0,0,0,5.2-1.137,3.76,3.76,0,0,0,1.651-3.3,3.666,3.666,0,0,0-.929-2.7,6.3,6.3,0,0,0-3.149-1.4l-4.328-.86a10.458,10.458,0,0,1-5.923-2.857,7.908,7.908,0,0,1-1.845-5.493,8.2,8.2,0,0,1,1.387-4.73,8.865,8.865,0,0,1,4.217-3.163,19.116,19.116,0,0,1,7.019-1.123,28.611,28.611,0,0,1,7.379.915v4.494a27.133,27.133,0,0,0-7.241-.971q-3.884,0-5.6,1.207a3.759,3.759,0,0,0-1.72,3.232,3.638,3.638,0,0,0,.9,2.58,5.817,5.817,0,0,0,3.065,1.443l4.328.832a11.324,11.324,0,0,1,6.02,2.844,7.669,7.669,0,0,1,1.886,5.507A8.39,8.39,0,0,1,481.97,61a8.862,8.862,0,0,1-4.175,3.149,18.1,18.1,0,0,1-6.672,1.1A29.174,29.174,0,0,1,462.384,64\"\r\n              transform=\"translate(-326.648 2.906)\"\r\n              fill=\"#fff\"\r\n            />\r\n            <path\r\n              id=\"Path_18\"\r\n              data-name=\"Path 18\"\r\n              d=\"M608.548,36.688q2.51,2.649,2.51,8.392V64.694h-5.77V45.358q0-3.329-1.359-4.785a4.944,4.944,0,0,0-3.8-1.457,8.325,8.325,0,0,0-3.482.791,7.625,7.625,0,0,0-2.982,2.483,23.891,23.891,0,0,1,.139,2.524v19.78h-5.659V45.358q0-3.356-1.3-4.8a4.756,4.756,0,0,0-3.718-1.443,8.031,8.031,0,0,0-3.648.9,7.85,7.85,0,0,0-3.01,2.733V64.694h-5.77V34.511h4.827l.416,3.329h.3a11.505,11.505,0,0,1,3.9-2.83,11.676,11.676,0,0,1,4.758-.971,9.648,9.648,0,0,1,4.522,1.013,7.113,7.113,0,0,1,3.052,3.176,12.284,12.284,0,0,1,9.238-4.189,8.973,8.973,0,0,1,6.838,2.649\"\r\n              transform=\"translate(-410.545 2.906)\"\r\n              fill=\"#fff\"\r\n            />\r\n            <path\r\n              id=\"Path_19\"\r\n              data-name=\"Path 19\"\r\n              d=\"M787.481,51.406H768.505a12.537,12.537,0,0,0,1.179,5.41,6.347,6.347,0,0,0,3.177,2.941,14.017,14.017,0,0,0,5.521.916,30.326,30.326,0,0,0,7.573-1.137v4.55a32.319,32.319,0,0,1-8.295,1.165q-7.629,0-11.318-3.745t-3.69-11.929q0-7.657,3.343-11.6t9.418-3.939q5.881,0,8.974,3.926t3.093,11.776ZM770.323,40.267q-1.734,2.261-1.845,7.476h13.566q-.111-5.215-1.761-7.476a5.7,5.7,0,0,0-4.924-2.261,5.959,5.959,0,0,0-5.035,2.261\"\r\n              transform=\"translate(-558.367 2.906)\"\r\n              fill=\"#fff\"\r\n            />\r\n            <path\r\n              id=\"Path_20\"\r\n              data-name=\"Path 20\"\r\n              d=\"M884.836,50.988l10.9,15.286h-6.464l-7.906-11.124-7.878,11.124h-6.353l10.847-15.2L867.358,36.09h6.464l7.684,10.791,7.629-10.791h6.3Z\"\r\n              transform=\"translate(-638.827 1.326)\"\r\n              fill=\"#fff\"\r\n            />\r\n            <rect\r\n              id=\"Rectangle_8\"\r\n              data-name=\"Rectangle 8\"\r\n              width=\"46.596\"\r\n              height=\"46.596\"\r\n              transform=\"translate(28.93 28.934)\"\r\n              fill=\"#fff\"\r\n            />\r\n            <path\r\n              id=\"Path_21\"\r\n              data-name=\"Path 21\"\r\n              d=\"M36.8,51.741V36.223l13.48,7.759Zm13.95-6.818v15.6l-13.48-7.837Zm0-17.4V43.041L37.34,35.283Zm1.176,0,13.4,7.759-13.4,7.759Zm0,17.4,13.4,7.759-13.4,7.837Z\"\r\n              transform=\"translate(0.595 7.923)\"\r\n              [attr.fill]=\"primaryColor\"\r\n            />\r\n          </g>\r\n        </svg>\r\n      </a>\r\n    </div>\r\n    <header id=\"header\" class=\"col-12 header d-flex align-items-center\">\r\n      <div\r\n        class=\"d-flex flex-column align-items-baseline justify-content-between header-bar\"\r\n      >\r\n        <div class=\"header-nav\">\r\n          <h4 class=\"page-heading\"></h4>\r\n        </div>\r\n      </div>\r\n      <!-- End Logo -->\r\n\r\n      <nav class=\"header-nav ms-auto\">\r\n        <ul class=\"d-flex align-items-center\">\r\n          <li class=\"nav-item notification-alert\">\r\n            <a class=\"nav-link nav-icon\" data-bs-toggle=\"dropdown\">\r\n              <img\r\n                src=\"../assets/icon/notification icon top navbar.svg\"\r\n                alt=\"\"\r\n              />\r\n              <span class=\"badge badge-number\">4</span> </a\r\n            ><!-- End Notification Icon -->\r\n          </li>\r\n          <li class=\"nav-item profile-icon-name d-flex\">\r\n            <div (click)=\"goToLoginPage()\" class=\"operation\">LOGIN</div>\r\n          </li>\r\n          <!-- End Profile Nav -->\r\n        </ul>\r\n      </nav>\r\n      <!-- End Icons Navigation -->\r\n    </header>\r\n  </div>\r\n\r\n  <div class=\"session-timeout-body\">\r\n    <div class=\"sessionTimeout\">\r\n      <div>\r\n        <div><img src=\"assets/sessiontimeout.jpg\" /></div>\r\n      </div>\r\n      <div>\r\n        <div>\r\n          <h3>Session TimeOut</h3>\r\n          <p>\r\n            Your session has limited out due to inactivity.Please login again to\r\n            continue\r\n          </p>\r\n          <button\r\n            pButton\r\n            pRipple\r\n            type=\"button\"\r\n            label=\"Login\"\r\n            class=\"p-button-raised\"\r\n            (click)=\"onSubmit()\"\r\n          ></button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import {\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  HostListener,\r\n  Input,\r\n  OnInit,\r\n  Output,\r\n} from \"@angular/core\";\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from \"@angular/forms\";\r\n\r\n@Component({\r\n  selector: \"app-file-upload\",\r\n  templateUrl: \"./file-upload.component.html\",\r\n  providers: [\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      useExisting: FileUploadComponent,\r\n      multi: true,\r\n    },\r\n  ],\r\n  styleUrls: [\"./file-upload.component.scss\"],\r\n})\r\nexport class FileUploadComponent implements ControlValueAccessor {\r\n  @Input(\"uploadedFileName\") uploadedFileName: string | null = null;\r\n  @Input(\"hasError\") hasError: boolean | null = null;\r\n\r\n  @Output(\"fileNameToView\") fileNameToView: EventEmitter<string> =\r\n    new EventEmitter();\r\n\r\n  onChange: Function;\r\n  file: File | null = null;\r\n\r\n  @HostListener(\"change\", [\"$event.target.files\"]) emitFiles(event: FileList) {\r\n    console.log(\":;\", event);\r\n    if (event.length > 0) {\r\n      const file = event && event.item(0);\r\n      this.onChange(file);\r\n      this.file = file;\r\n    }\r\n  }\r\n\r\n  constructor(private host: ElementRef<HTMLInputElement>) {}\r\n\r\n  writeValue(value: null) {\r\n    // clear file input\r\n    this.host.nativeElement.value = \"\";\r\n    this.file = null;\r\n  }\r\n\r\n  registerOnChange(fn: Function) {\r\n    this.onChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: Function) {}\r\n}\r\n","<div class=\"file-drop-area\">\r\n  <span\r\n    [ngClass]=\"{\r\n      'file-msg': true,\r\n      'file-link': uploadedFileName && uploadedFileName != '' && !file\r\n    }\"\r\n    [ngStyle]=\"{ color: hasError ? 'red' : '' }\"\r\n    (click)=\"\r\n      uploadedFileName &&\r\n        uploadedFileName != '' &&\r\n        !file &&\r\n        fileNameToView.emit(uploadedFileName)\r\n    \"\r\n    >{{\r\n      file ? file.name : uploadedFileName ? uploadedFileName : \"choose file\"\r\n    }}</span\r\n  >\r\n  <span (click)=\"fileInp.click()\" class=\"fake-btn\"\r\n    ><i class=\"pi pi-upload\"></i\r\n  ></span>\r\n  <input #fileInp class=\"file-input\" type=\"file\" />\r\n</div>\r\n","import {\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Input,\r\n  OnChanges,\r\n  OnInit,\r\n  Output,\r\n  Renderer2,\r\n  SimpleChanges,\r\n  ViewChild,\r\n} from \"@angular/core\";\r\nimport {\r\n  UntypedFormBuilder,\r\n  UntypedFormControl,\r\n  Validators,\r\n} from \"@angular/forms\";\r\nimport { ConfirmationService, MessageService } from \"primeng/api\";\r\nimport { ConfirmDialog } from \"primeng/confirmdialog\";\r\nimport { DialogService, DynamicDialogRef } from \"primeng/dynamicdialog\";\r\nimport { CriteriaTemplateData } from \"src/app/banks-routing-2/banks-routing.model\";\r\nimport { CoreService } from \"src/app/core.service\";\r\nimport { SetCriteriaService } from \"./set-criteria.service\";\r\nimport { TransactionCriteriaModal } from \"../../modals/transaction-criteria-modal/transaction-criteria-modal\";\r\nimport { TransactionDateModal } from \"../../modals/transaction-date-modal/transaction-date-modal\";\r\n\r\n@Component({\r\n  selector: \"app-set-criteria\",\r\n  templateUrl: \"./set-criteria.component.html\",\r\n  styleUrls: [\"./set-criteria.component.scss\"],\r\n})\r\nexport class SetCriteriaComponent implements OnInit, OnChanges {\r\n  @Input(\"criteriaMasterData\") criteriaMasterData: any;\r\n  @Input(\"fieldDisplayData\") fieldDisplayData: any;\r\n  @Input(\"cmCriteriaDataDetails\") cmCriteriaDataDetails: any;\r\n  @Input(\"criteriaDataDetailsJson\") criteriaDataDetailsJson: any = {};\r\n  @Input(\"cmCriteriaSlabType\") cmCriteriaSlabType: any = {};\r\n  @Input(\"cmCriteriaMandatory\") cmCriteriaMandatory: any;\r\n  @Input(\"cmCriteriaDependency\") cmCriteriaDependency: any;\r\n  @Input(\"independantCriteriaArr\") independantCriteriaArr: any;\r\n  @Input(\"criteriaMapDdlOptions\") criteriaMapDdlOptions: any;\r\n  @Input(\"criteriaEqualsDdlOptions\") criteriaEqualsDdlOptions: any;\r\n  @Input(\"correspondentDdlOptions\") correspondentDdlOptions: any;\r\n  @Input(\"criteriaTemplatesDdlOptions\") criteriaTemplatesDdlOptions: any = [];\r\n  @Input(\"savingCriteriaTemplateError\") savingCriteriaTemplateError: any = null;\r\n  @Input(\"saveTemplateDialogOpen\") saveTemplateDialogOpen: boolean = false;\r\n  @Input(\"criteriaText\") criteriaText: any = [];\r\n  @Input(\"criteriaCodeText\") criteriaCodeText: any = [];\r\n  @Input(\"inactiveData\") inactiveData: boolean = false;\r\n  @Input(\"deactivated\") deactivated: boolean = false;\r\n\r\n  @Output() getCorrespondentValues = new EventEmitter<{\r\n    fieldName: any;\r\n    displayName: any;\r\n    criteriaCodeText: any;\r\n  }>();\r\n\r\n  @Output() postDataCriteria = new EventEmitter<any>();\r\n  @Output() saveCriteriaAsTemplate = new EventEmitter<any>();\r\n\r\n  criteriaName = \"\";\r\n  lcySlab = null;\r\n  hideValuesDropdown = false;\r\n  showValueInput = false;\r\n  showDateInput = false;\r\n  isSlabControlSelected = false;\r\n  finalCriteriaCodeText: any[] = [];\r\n  userId = \"\";\r\n\r\n  selectedCriteria: any = { criteriaType: \"SQL\" };\r\n\r\n  savedSlabs = false;\r\n  isSlabsCriteria = false;\r\n\r\n  savedDates = false;\r\n  isDatesCriteria = false;\r\n\r\n  ref: DynamicDialogRef;\r\n  txnCriteriaRangeFormData: any;\r\n  dateRangeFormData: any;\r\n\r\n  selectCriteriaForm: any;\r\n  validCriteria = false;\r\n  validSlabAmount = false;\r\n\r\n  removeAddCriteriaListener: any;\r\n  AddCriteriaClickListener: boolean = false;\r\n\r\n  removeAddDateListener: any;\r\n  AddDateClickListener: boolean = false;\r\n\r\n  $oninitSlabFormSubscription: any;\r\n  $oninitDateFormSubscription: any;\r\n\r\n  selectedTemplate = this.criteriaTemplatesDdlOptions.length\r\n    ? \"Select Template\"\r\n    : \"No saved templates\";\r\n\r\n  emailRegex = \"^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\\\.[a-zA-Z]{2,}$\";\r\n\r\n  slabTypeCM: any = {\r\n    Slab: \"LCY Amount\",\r\n    date: \"Transaction Date\",\r\n  };\r\n  savingCriteriaTemplateErrorMsg = null;\r\n  @Input(\"setCriteriaName\") setCriteriaName: string = \"\";\r\n\r\n  constructor(\r\n    public dialogService: DialogService,\r\n    public messageService: MessageService,\r\n    private fb: UntypedFormBuilder,\r\n    private renderer: Renderer2,\r\n    private coreService: CoreService,\r\n    private confirmationService: ConfirmationService,\r\n    private setCriteriaService: SetCriteriaService\r\n  ) {}\r\n\r\n  @ViewChild(\"cd\") cd: ConfirmDialog;\r\n  @ViewChild(\"addCriteriaBtn\") addCriteriaBtn: ElementRef;\r\n\r\n  ngOnInit(): void {\r\n    if (Object.keys(this.cmCriteriaSlabType).length) {\r\n      this.slabTypeCM = this.cmCriteriaSlabType;\r\n    }\r\n\r\n    if (Object.keys(this.slabTypeCM).length) {\r\n      this.setCriteriaService.RangeTypeCriteria = this.slabTypeCM;\r\n    } else {\r\n      this.setCriteriaService.RangeTypeCriteria = {};\r\n    }\r\n\r\n    this.$oninitSlabFormSubscription = this.setCriteriaService\r\n      .getTransactionCriteriaRange()\r\n      .subscribe((res) => {\r\n        this.txnCriteriaRangeFormData = res;\r\n        if (!!Object.keys(this.txnCriteriaRangeFormData).length) {\r\n          this.txnCriteriaRangeFormData[\"txnCriteriaRange\"].forEach((range) => {\r\n            if (Object.values(range).filter((rng) => rng == null).length == 0) {\r\n              this.savedSlabs = true;\r\n            } else {\r\n              this.savedSlabs = false;\r\n            }\r\n          });\r\n        } else {\r\n          this.savedSlabs = false;\r\n        }\r\n      });\r\n    this.$oninitDateFormSubscription = this.setCriteriaService\r\n      .getDateRange()\r\n      .subscribe((res) => {\r\n        this.dateRangeFormData = res;\r\n        if (!!Object.keys(this.dateRangeFormData).length) {\r\n          this.dateRangeFormData[\"dateRange\"].forEach((range) => {\r\n            if (Object.values(range).filter((rng) => rng == null).length == 0) {\r\n              this.savedDates = true;\r\n            } else {\r\n              this.savedDates = false;\r\n            }\r\n          });\r\n        } else {\r\n          this.savedDates = false;\r\n        }\r\n      });\r\n    this.userId = JSON.parse(localStorage.getItem(\"userData\"))[\"userId\"];\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (!this.selectCriteriaForm) {\r\n      this.setSelectAppForm1();\r\n    }\r\n    if (changes.correspondentDdlOptions) {\r\n      if (\r\n        changes.correspondentDdlOptions.currentValue.filter(\r\n          (opt) => opt.name == \"Any\"\r\n        ).length\r\n      ) {\r\n        changes.correspondentDdlOptions.currentValue.splice(1, 0, {\r\n          code: \"divider\",\r\n          name: \"divider\",\r\n          isDivider: true,\r\n        });\r\n      }\r\n      console.log(this.correspondentDdlOptions);\r\n    }\r\n    if (changes.deactivated) {\r\n      if (changes.deactivated.currentValue) {\r\n        this.criteriaCtrl?.disable();\r\n        this.operationCtrl?.disable();\r\n      } else {\r\n        this.criteriaCtrl?.enable();\r\n        this.operationCtrl?.enable();\r\n      }\r\n    }\r\n    console.log(this.criteriaText);\r\n    console.log(\"onchange\", changes);\r\n  }\r\n\r\n  setSelectAppForm1() {\r\n    this.selectCriteriaForm = this.fb.group({\r\n      criteria: new UntypedFormControl({ value: \"\", disabled: false }, [\r\n        Validators.required,\r\n      ]),\r\n      operation: new UntypedFormControl(\r\n        { value: \"\", disabled: !this.criteriaEqualsDdlOptions.length },\r\n        [Validators.required]\r\n      ),\r\n      value: new UntypedFormControl(\r\n        { value: \"\", disabled: !this.correspondentDdlOptions.length },\r\n        [Validators.required]\r\n      ),\r\n    });\r\n  }\r\n\r\n  get criteriaCtrl() {\r\n    return this.selectCriteriaForm.get(\"criteria\");\r\n  }\r\n  get operationCtrl() {\r\n    return this.selectCriteriaForm.get(\"operation\");\r\n  }\r\n  get valueCtrl() {\r\n    return this.selectCriteriaForm.get(\"value\");\r\n  }\r\n\r\n  openRangeModal(crt: any) {\r\n    if (this.getRangeType(crt) == \"Slab\") {\r\n      this.showTransCriteriaModal();\r\n    } else if (this.getRangeType(crt) == \"date\") {\r\n      this.showDateModal();\r\n    }\r\n  }\r\n\r\n  getRangeType(crt: any) {\r\n    if (crt && Object.values(this.slabTypeCM).includes(crt.split(\" = \")[0])) {\r\n      let rangeType = Object.keys(this.slabTypeCM).find(\r\n        (key) => this.slabTypeCM[key] === crt.split(\" = \")[0]\r\n      );\r\n      return rangeType;\r\n    }\r\n  }\r\n\r\n  isRangeCrt(crt: any) {\r\n    if (\r\n      crt &&\r\n      Object.values(this.slabTypeCM).includes(crt.split(\" = \")[0]) &&\r\n      crt.split(\" = \")[1] == \"Slab\"\r\n    ) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  isRangeCrtWithoutSlab(crt: any) {\r\n    if (\r\n      Object.values(this.slabTypeCM).includes(crt.split(\" = \")[0]) &&\r\n      !(crt.split(\" = \")[1] == \"Slab\")\r\n    ) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  addCriteriaMap() {\r\n    let value = \"\";\r\n    let valueCode = \"\";\r\n    if (this.selectedCriteria.criteriaType != \"SQL\") {\r\n      if (this.operationCtrl.value.code == \"Slab\") {\r\n        value = \"Slab\";\r\n        valueCode = \"Slab\";\r\n      } else {\r\n        if (this.selectedCriteria.criteriaType == \"date\") {\r\n          value = new Date(this.valueCtrl.value).toLocaleString(\"en-GB\");\r\n          valueCode = new Date(this.valueCtrl.value).toLocaleString(\"en-GB\");\r\n        } else {\r\n          value = this.valueCtrl.value;\r\n          valueCode = this.valueCtrl.value;\r\n        }\r\n      }\r\n    } else {\r\n      value = this.valueCtrl.value.name;\r\n      valueCode = this.valueCtrl.value.code;\r\n    }\r\n    console.log(this.criteriaCtrl.value);\r\n    console.log(this.operationCtrl.value);\r\n    console.log(this.valueCtrl.value);\r\n\r\n    let criteria =\r\n      this.criteriaCtrl.value.label +\r\n      \" \" +\r\n      this.operationCtrl.value.code +\r\n      \" \" +\r\n      value;\r\n    let criteriaCode =\r\n      this.criteriaCtrl.value.data +\r\n      \" \" +\r\n      this.operationCtrl.value.code +\r\n      \" \" +\r\n      valueCode;\r\n\r\n    //validations\r\n    console.log(this.criteriaText);\r\n    if (this.criteriaText.length) {\r\n      let index = this.criteriaText.indexOf(criteria);\r\n      if (index != -1) {\r\n        this.coreService.showWarningToast(\r\n          criteria + \" already added, please add different case\"\r\n        );\r\n      } else {\r\n        this.validCriteria = true;\r\n        let splitdata;\r\n        let currOpr;\r\n        if (criteria.includes(\"!=\")) {\r\n          splitdata = criteria.replace(/[!=]/g, \"\");\r\n          currOpr = \"!=\";\r\n        } else if (criteria.includes(\">=\")) {\r\n          splitdata = criteria.replace(/[>=]/g, \"\");\r\n          currOpr = \">=\";\r\n        } else if (criteria.includes(\"<=\")) {\r\n          splitdata = criteria.replace(/[<=]/g, \"\");\r\n          currOpr = \"<=\";\r\n        } else if (criteria.includes(\"<\")) {\r\n          splitdata = criteria.replace(/[<]/g, \"\");\r\n          currOpr = \"<\";\r\n        } else if (criteria.includes(\">\")) {\r\n          splitdata = criteria.replace(/[>]/g, \"\");\r\n          currOpr = \">\";\r\n        } else {\r\n          splitdata = criteria.replace(/[=]/g, \"\");\r\n          currOpr = \"=\";\r\n        }\r\n\r\n        if (\r\n          criteria.includes(\"<=\") ||\r\n          criteria.includes(\">=\") ||\r\n          criteria.includes(\"<\") ||\r\n          criteria.includes(\">\")\r\n        ) {\r\n          this.validCriteria = true;\r\n          console.log(this.criteriaText);\r\n          this.criteriaText.every((element) => {\r\n            let splitText;\r\n            let ExistOpr;\r\n            if (element.includes(\"!=\")) {\r\n              splitText = element.replace(/[!=]/g, \"\");\r\n              ExistOpr = \"!=\";\r\n            } else if (element.includes(\">=\")) {\r\n              splitText = element.replace(/[>=]/g, \"\");\r\n              ExistOpr = \">=\";\r\n            } else if (element.includes(\"<=\")) {\r\n              splitText = element.replace(/[<=]/g, \"\");\r\n              ExistOpr = \"<=\";\r\n            } else if (element.includes(\"<\")) {\r\n              splitText = element.replace(/[<]/g, \"\");\r\n              ExistOpr = \"<\";\r\n            } else if (element.includes(\">\")) {\r\n              splitText = element.replace(/[>]/g, \"\");\r\n              ExistOpr = \">\";\r\n            } else {\r\n              splitText = element.replace(/[=]/g, \"\");\r\n              ExistOpr = \"=\";\r\n            }\r\n\r\n            if (splitText.split(\"  \")[0] == splitdata.split(\"  \")[0]) {\r\n              if (\r\n                splitText.split(\"  \")[0] == splitdata.split(\"  \")[0] &&\r\n                splitdata.split(\"  \")[1] == \"Slab\"\r\n              ) {\r\n                this.coreService.showWarningToast(\r\n                  \"Please delete existing criteria \" +\r\n                    element +\r\n                    \", then add \" +\r\n                    criteria\r\n                );\r\n                this.validCriteria = false;\r\n\r\n                return false;\r\n              } else if (\r\n                splitText.split(\"  \")[0] == splitdata.split(\"  \")[0] &&\r\n                splitText.split(\"  \")[1] == \"Slab\"\r\n              ) {\r\n                this.coreService.showWarningToast(\r\n                  \"Please delete existing criteria \" +\r\n                    element +\r\n                    \", then add \" +\r\n                    criteria\r\n                );\r\n                this.validCriteria = false;\r\n                return false;\r\n              } else if (\r\n                splitText.split(\"  \")[0] == splitdata.split(\"  \")[0] &&\r\n                (this.selectedCriteria?.criteriaType == \"Slab\" ||\r\n                  this.selectedCriteria?.criteriaType == \"date\")\r\n              ) {\r\n                if (currOpr == \">\" || currOpr == \">=\") {\r\n                  if (ExistOpr == \">\" || ExistOpr == \">=\") {\r\n                    this.coreService.showWarningToast(\r\n                      \"Please delete existing criteria \" +\r\n                        element +\r\n                        \", then add \" +\r\n                        criteria\r\n                    );\r\n                    this.validCriteria = false;\r\n                    if (this.selectedCriteria?.criteriaType == \"Slab\") {\r\n                    }\r\n                    return false;\r\n                  } else if (ExistOpr == \"<\" || ExistOpr == \"<=\") {\r\n                    if (this.selectedCriteria?.criteriaType == \"Slab\") {\r\n                      if (ExistOpr == \"<\") {\r\n                        if (\r\n                          +splitdata.split(\"  \")[1] >= +splitText.split(\"  \")[1]\r\n                        ) {\r\n                          this.coreService.showWarningToast(\r\n                            \"Please delete existing criteria \" +\r\n                              element +\r\n                              \", then add \" +\r\n                              criteria\r\n                          );\r\n                          this.validCriteria = false;\r\n                          return false;\r\n                        } else {\r\n                          return true;\r\n                        }\r\n                      } else if (ExistOpr == \"<=\") {\r\n                        if (currOpr == \">\") {\r\n                          if (\r\n                            +splitdata.split(\"  \")[1] >\r\n                            +splitText.split(\"  \")[1]\r\n                          ) {\r\n                            this.coreService.showWarningToast(\r\n                              \"Please delete existing criteria \" +\r\n                                element +\r\n                                \", then add \" +\r\n                                criteria\r\n                            );\r\n                            this.validCriteria = false;\r\n                            return false;\r\n                          } else {\r\n                            return true;\r\n                          }\r\n                        } else if (currOpr == \">=\") {\r\n                          if (\r\n                            +splitdata.split(\"  \")[1] >\r\n                            +splitText.split(\"  \")[1]\r\n                          ) {\r\n                            this.coreService.showWarningToast(\r\n                              \"Please delete existing criteria \" +\r\n                                element +\r\n                                \", then add \" +\r\n                                criteria\r\n                            );\r\n                            this.validCriteria = false;\r\n                            return false;\r\n                          } else {\r\n                            return true;\r\n                          }\r\n                        }\r\n                      }\r\n                    } else if (this.selectedCriteria?.criteriaType == \"date\") {\r\n                      let currY = splitdata.split(\"  \")[1]?.split(\"-\")[2];\r\n                      let currM = splitdata.split(\"  \")[1]?.split(\"-\")[1];\r\n                      let currD = splitdata.split(\"  \")[1]?.split(\"-\")[0];\r\n                      let existY = splitText.split(\"  \")[1]?.split(\"-\")[2];\r\n                      let existM = splitText.split(\"  \")[1]?.split(\"-\")[1];\r\n                      let existD = splitText.split(\"  \")[1]?.split(\"-\")[0];\r\n\r\n                      let currDate = currM + \"-\" + currD + \"-\" + currY;\r\n\r\n                      let existDate = existM + \"-\" + existD + \"-\" + existY;\r\n\r\n                      if (ExistOpr == \"<\") {\r\n                        if (Date.parse(currDate) >= Date.parse(existDate)) {\r\n                          this.coreService.showWarningToast(\r\n                            \"Please delete existing criteria \" +\r\n                              element +\r\n                              \", then add \" +\r\n                              criteria\r\n                          );\r\n                          this.validCriteria = false;\r\n                          return false;\r\n                        } else {\r\n                          return true;\r\n                        }\r\n                      } else if (ExistOpr == \"<=\") {\r\n                        if (currOpr == \">\") {\r\n                          if (Date.parse(currDate) > Date.parse(existDate)) {\r\n                            this.coreService.showWarningToast(\r\n                              \"Please delete existing criteria \" +\r\n                                element +\r\n                                \", then add \" +\r\n                                criteria\r\n                            );\r\n                            this.validCriteria = false;\r\n                            return false;\r\n                          } else {\r\n                            return true;\r\n                          }\r\n                        } else if (currOpr == \">=\") {\r\n                          if (Date.parse(currDate) > Date.parse(existDate)) {\r\n                            this.coreService.showWarningToast(\r\n                              \"Please delete existing criteria \" +\r\n                                element +\r\n                                \", then add \" +\r\n                                criteria\r\n                            );\r\n                            this.validCriteria = false;\r\n                            return false;\r\n                          } else {\r\n                            return true;\r\n                          }\r\n                        }\r\n                      }\r\n                    }\r\n                  } else {\r\n                    return true;\r\n                  }\r\n                } else if (currOpr == \"<\" || currOpr == \"<=\") {\r\n                  if (ExistOpr == \"<\" || ExistOpr == \"<=\") {\r\n                    this.coreService.showWarningToast(\r\n                      \"Please delete existing criteria \" +\r\n                        element +\r\n                        \", then add \" +\r\n                        criteria\r\n                    );\r\n                    this.validCriteria = false;\r\n                    if (this.selectedCriteria?.criteriaType == \"Slab\") {\r\n                    }\r\n                    return false;\r\n                  } else if (ExistOpr == \">\" || ExistOpr == \">=\") {\r\n                    if (this.selectedCriteria?.criteriaType == \"Slab\") {\r\n                      if (ExistOpr == \">\") {\r\n                        if (\r\n                          +splitdata.split(\"  \")[1] <= +splitText.split(\"  \")[1]\r\n                        ) {\r\n                          this.coreService.showWarningToast(\r\n                            \"Please delete existing criteria \" +\r\n                              element +\r\n                              \", then add \" +\r\n                              criteria\r\n                          );\r\n                          this.validCriteria = false;\r\n                          return false;\r\n                        } else {\r\n                          return true;\r\n                        }\r\n                      } else if (ExistOpr == \">=\") {\r\n                        if (currOpr == \"<\") {\r\n                          if (\r\n                            +splitdata.split(\"  \")[1] <=\r\n                            +splitText.split(\"  \")[1]\r\n                          ) {\r\n                            this.coreService.showWarningToast(\r\n                              \"Please delete existing criteria \" +\r\n                                element +\r\n                                \", then add \" +\r\n                                criteria\r\n                            );\r\n                            this.validCriteria = false;\r\n                            return false;\r\n                          } else {\r\n                            return true;\r\n                          }\r\n                        } else if (currOpr == \"<=\") {\r\n                          if (\r\n                            +splitdata.split(\"  \")[1] <\r\n                            +splitText.split(\"  \")[1]\r\n                          ) {\r\n                            this.coreService.showWarningToast(\r\n                              \"Please delete existing criteria \" +\r\n                                element +\r\n                                \", then add \" +\r\n                                criteria\r\n                            );\r\n                            this.validCriteria = false;\r\n                            return false;\r\n                          } else {\r\n                            return true;\r\n                          }\r\n                        }\r\n                      }\r\n                    } else if (this.selectedCriteria?.criteriaType == \"date\") {\r\n                      let currY = splitdata.split(\"  \")[1]?.split(\"-\")[2];\r\n                      let currM = splitdata.split(\"  \")[1]?.split(\"-\")[1];\r\n                      let currD = splitdata.split(\"  \")[1]?.split(\"-\")[0];\r\n                      let existY = splitText.split(\"  \")[1]?.split(\"-\")[2];\r\n                      let existM = splitText.split(\"  \")[1]?.split(\"-\")[1];\r\n                      let existD = splitText.split(\"  \")[1]?.split(\"-\")[0];\r\n\r\n                      let currDate = currM + \"-\" + currD + \"-\" + currY;\r\n                      let existDate = existM + \"-\" + existD + \"-\" + existY;\r\n                      if (ExistOpr == \">\") {\r\n                        if (Date.parse(currDate) <= Date.parse(existDate)) {\r\n                          this.coreService.showWarningToast(\r\n                            \"Please delete existing criteria \" +\r\n                              element +\r\n                              \", then add \" +\r\n                              criteria\r\n                          );\r\n                          this.validCriteria = false;\r\n                          return false;\r\n                        } else {\r\n                          return true;\r\n                        }\r\n                      } else if (ExistOpr == \">=\") {\r\n                        if (currOpr == \"<\") {\r\n                          if (Date.parse(currDate) <= Date.parse(existDate)) {\r\n                            this.coreService.showWarningToast(\r\n                              \"Please delete existing criteria \" +\r\n                                element +\r\n                                \", then add \" +\r\n                                criteria\r\n                            );\r\n                            this.validCriteria = false;\r\n                            return false;\r\n                          } else {\r\n                            return true;\r\n                          }\r\n                        } else if (currOpr == \"<=\") {\r\n                          if (Date.parse(currDate) < Date.parse(existDate)) {\r\n                            this.coreService.showWarningToast(\r\n                              \"Please delete existing criteria \" +\r\n                                element +\r\n                                \", then add \" +\r\n                                criteria\r\n                            );\r\n                            this.validCriteria = false;\r\n                            return false;\r\n                          } else {\r\n                            return true;\r\n                          }\r\n                        }\r\n                      }\r\n                    }\r\n                  } else {\r\n                    return true;\r\n                  }\r\n                }\r\n              } else {\r\n                return true;\r\n              }\r\n            } else {\r\n              return true;\r\n            }\r\n          });\r\n        } else {\r\n          let isCurrentCriteriaNotEqualCondition = false;\r\n          let isCurrentCriteriaEqualCondition = false;\r\n\r\n          if (criteria.includes(\"!=\")) {\r\n            isCurrentCriteriaNotEqualCondition = true;\r\n          } else {\r\n            isCurrentCriteriaEqualCondition = true;\r\n          }\r\n          console.log(this.criteriaText);\r\n          this.criteriaText.every((element) => {\r\n            let splitText;\r\n            if (element.includes(\"!=\")) {\r\n              splitText = element.replace(/[!=]/g, \"\");\r\n            } else if (element.includes(\"<=\")) {\r\n              splitText = element.replace(/[<=]/g, \"\");\r\n            } else if (element.includes(\">=\")) {\r\n              splitText = element.replace(/[>=]/g, \"\");\r\n            } else if (element.includes(\"<\")) {\r\n              splitText = element.replace(/[<]/g, \"\");\r\n            } else if (element.includes(\">\")) {\r\n              splitText = element.replace(/[>]/g, \"\");\r\n            } else {\r\n              splitText = element.replace(/[=]/g, \"\");\r\n            }\r\n\r\n            if (splitText.split(\"  \")[0] == splitdata.split(\"  \")[0]) {\r\n              if (splitText.split(\"  \")[1] == splitdata.split(\"  \")[1]) {\r\n                this.coreService.showWarningToast(\r\n                  \" Please select different value for \" +\r\n                    splitdata.split(\"  \")[0]\r\n                );\r\n                this.validCriteria = false;\r\n                return false;\r\n              } else {\r\n                if (\r\n                  splitdata.split(\"  \")[1] == \"Slab\" &&\r\n                  this.selectedCriteria.criteriaType == \"Slab\"\r\n                ) {\r\n                  this.coreService.showWarningToast(\r\n                    \"Please delete existing criteria \" +\r\n                      element +\r\n                      \", then add \" +\r\n                      criteria\r\n                  );\r\n                  this.validCriteria = false;\r\n                  return false;\r\n                }\r\n\r\n                let isAlreadyCriteriaNotEqualCondition = false;\r\n                let isAlreadyCriteriaEqualCondition = false;\r\n\r\n                if (element.includes(\"!=\")) {\r\n                  isAlreadyCriteriaNotEqualCondition = true;\r\n                } else if (element.includes(\" = \")) {\r\n                  isAlreadyCriteriaEqualCondition = true;\r\n                }\r\n\r\n                if (\r\n                  isCurrentCriteriaEqualCondition &&\r\n                  isAlreadyCriteriaEqualCondition\r\n                ) {\r\n                  this.coreService.showWarningToast(\r\n                    \"Please delete existing criteria \" +\r\n                      element +\r\n                      \", then add \" +\r\n                      criteria\r\n                  );\r\n                  this.validCriteria = false;\r\n                  return false;\r\n                } else if (\r\n                  isAlreadyCriteriaEqualCondition ==\r\n                    !isCurrentCriteriaEqualCondition &&\r\n                  isAlreadyCriteriaNotEqualCondition ==\r\n                    !isCurrentCriteriaNotEqualCondition\r\n                ) {\r\n                  // if (this.selectedCriteria?.criteriaType == \"Slab\") {\r\n                  //   this.coreService.showWarningToast(\r\n                  //     \"Please delete existing criteria \" +\r\n                  //       element +\r\n                  //       \", then add \" +\r\n                  //       criteria\r\n                  //   );\r\n                  //   this.validCriteria = false;\r\n                  //   return false;\r\n                  // }\r\n                } else {\r\n                  if (\r\n                    !(\r\n                      splitText.split(\"  \")[1] != \"Any\" &&\r\n                      splitdata.split(\"  \")[1] != \"Any\"\r\n                    )\r\n                  ) {\r\n                    this.coreService.showWarningToast(\r\n                      \"Please delete existing criteria \" +\r\n                        element +\r\n                        \", then add \" +\r\n                        criteria\r\n                    );\r\n                    this.validCriteria = false;\r\n                    return false;\r\n                  } else {\r\n                    return true;\r\n                  }\r\n                }\r\n              }\r\n            } else {\r\n              return true;\r\n            }\r\n          });\r\n        }\r\n        if (this.validCriteria) {\r\n          this.checkSlabCriteria(criteria, criteriaCode);\r\n        }\r\n      }\r\n    } else {\r\n      this.checkSlabCriteria(criteria, criteriaCode);\r\n    }\r\n  }\r\n\r\n  checkSlabCriteria(criteria: any, criteriaCode: any) {\r\n    if (this.isSlabsCriteria) {\r\n      if (this.$oninitSlabFormSubscription) {\r\n        this.$oninitSlabFormSubscription.unsubscribe();\r\n      }\r\n\r\n      this.setCriteriaService.getTransactionCriteriaRange().subscribe((res) => {\r\n        this.txnCriteriaRangeFormData = res;\r\n\r\n        if (!!Object.keys(res).length) {\r\n          res[\"txnCriteriaRange\"].forEach((range) => {\r\n            if (Object.values(range).filter((rng) => rng == null).length == 0) {\r\n              this.savedSlabs = true;\r\n            } else {\r\n              this.savedSlabs = false;\r\n            }\r\n          });\r\n        } else {\r\n          this.savedSlabs = false;\r\n        }\r\n\r\n        if (this.savedSlabs) {\r\n          let txnCriteriaName = this.slabTypeCM[\"Slab\"];\r\n          if (\r\n            !this.criteriaText.filter(\r\n              (criteria) => criteria == `${txnCriteriaName} = Slab`\r\n            ).length\r\n          ) {\r\n            this.criteriaText.push(criteria);\r\n            this.criteriaCodeText.push(criteriaCode);\r\n            this.resetCriteriaDropdowns();\r\n            this.removeAddCriteriaListener();\r\n            this.AddCriteriaClickListener = false;\r\n          } else {\r\n            this.removeAddCriteriaListener();\r\n            this.AddCriteriaClickListener = false;\r\n          }\r\n        } else {\r\n          if (!this.AddCriteriaClickListener) {\r\n            this.removeAddCriteriaListener = this.renderer.listen(\r\n              this.addCriteriaBtn.nativeElement,\r\n              \"click\",\r\n              (evt) => {\r\n                this.showTransCriteriaModal();\r\n              }\r\n            );\r\n            this.AddCriteriaClickListener = true;\r\n          }\r\n        }\r\n      });\r\n    } else if (this.isDatesCriteria) {\r\n      if (this.$oninitDateFormSubscription) {\r\n        this.$oninitDateFormSubscription.unsubscribe();\r\n      }\r\n\r\n      this.setCriteriaService.getDateRange().subscribe((res) => {\r\n        this.dateRangeFormData = res;\r\n\r\n        if (!!Object.keys(res).length) {\r\n          res[\"dateRange\"].forEach((range) => {\r\n            if (Object.values(range).filter((rng) => rng == null).length == 0) {\r\n              this.savedDates = true;\r\n            } else {\r\n              this.savedDates = false;\r\n            }\r\n          });\r\n        } else {\r\n          this.savedDates = false;\r\n        }\r\n\r\n        if (this.savedDates) {\r\n          let dateCriteriaName = this.slabTypeCM[\"date\"];\r\n          if (\r\n            !this.criteriaText.filter(\r\n              (criteria) => criteria == `${dateCriteriaName} = Slab`\r\n            ).length\r\n          ) {\r\n            this.criteriaText.push(criteria);\r\n            this.criteriaCodeText.push(criteriaCode);\r\n            this.resetCriteriaDropdowns();\r\n            this.removeAddDateListener();\r\n            this.AddDateClickListener = false;\r\n          } else {\r\n            this.removeAddDateListener();\r\n            this.AddDateClickListener = false;\r\n          }\r\n        } else {\r\n          if (!this.AddDateClickListener) {\r\n            this.removeAddDateListener = this.renderer.listen(\r\n              this.addCriteriaBtn.nativeElement,\r\n              \"click\",\r\n              (evt) => {\r\n                this.showDateModal();\r\n              }\r\n            );\r\n            this.AddDateClickListener = true;\r\n          }\r\n        }\r\n      });\r\n    } else {\r\n      this.criteriaText.push(criteria);\r\n      this.criteriaCodeText.push(criteriaCode);\r\n      this.resetCriteriaDropdowns();\r\n    }\r\n  }\r\n\r\n  isCriteriaSelectable(event: any) {\r\n    let formattedCriteriaArr = [];\r\n    formattedCriteriaArr = this.criteriaCodeText.map((crt) => {\r\n      let formatCrt;\r\n      if (crt.includes(\"!=\")) {\r\n        formatCrt = crt.replace(/[!=]/g, \"\");\r\n      } else if (crt.includes(\">=\")) {\r\n        formatCrt = crt.replace(/[>=]/g, \"\");\r\n      } else if (crt.includes(\"<=\")) {\r\n        formatCrt = crt.replace(/[<=]/g, \"\");\r\n      } else if (crt.includes(\"<\")) {\r\n        formatCrt = crt.replace(/[<]/g, \"\");\r\n      } else if (crt.includes(\">\")) {\r\n        formatCrt = crt.replace(/[>]/g, \"\");\r\n      } else {\r\n        formatCrt = crt.replace(/[=]/g, \"\");\r\n      }\r\n      return formatCrt.split(\"  \")[0];\r\n    });\r\n\r\n    if (Object.keys(this.cmCriteriaDependency).includes(event[\"data\"])) {\r\n      if (\r\n        formattedCriteriaArr.includes(this.cmCriteriaDependency[event[\"data\"]])\r\n      ) {\r\n        if (formattedCriteriaArr.includes(event[\"data\"])) {\r\n          return true;\r\n        } else {\r\n          return true;\r\n        }\r\n      } else {\r\n        this.coreService.showWarningToast(\r\n          `${event[\"label\"]} is dependant on ${\r\n            this.cmCriteriaDependency[event[\"label\"]]\r\n          }, Select it first.`\r\n        );\r\n        return false;\r\n      }\r\n    } else {\r\n      if (\r\n        formattedCriteriaArr.includes(\r\n          this.cmCriteriaDependency[event[\"data\"]]\r\n        ) ||\r\n        formattedCriteriaArr.includes(event[\"data\"])\r\n      ) {\r\n        return true;\r\n      }\r\n      return true;\r\n    }\r\n  }\r\n\r\n  onCriteriaSelect(event: any) {\r\n    this.selectedCriteria = event;\r\n    // this.hideValuesDropdown = false;\r\n    // this.showValueInput = false;\r\n    this.valueCtrl.reset();\r\n    this.operationCtrl.reset();\r\n    if (this.isCriteriaSelectable(event)) {\r\n      this.onChange(\"criteria\", event);\r\n    } else {\r\n      this.resetCriteriaDropdowns();\r\n    }\r\n  }\r\n\r\n  resetCriteriaDropdowns() {\r\n    this.criteriaCtrl.reset();\r\n    this.selectedCriteria = { criteriaType: \"SQL\" };\r\n    this.operationCtrl.reset();\r\n    this.valueCtrl.reset();\r\n    this.valueCtrl.disable();\r\n    this.operationCtrl.disable();\r\n    this.correspondentDdlOptions = [];\r\n    if (this.AddCriteriaClickListener) {\r\n      this.removeAddCriteriaListener();\r\n      this.AddCriteriaClickListener = false;\r\n    }\r\n    if (this.AddDateClickListener) {\r\n      this.removeAddDateListener();\r\n      this.AddDateClickListener = false;\r\n    }\r\n  }\r\n\r\n  onChange(controlId, event) {\r\n    switch (controlId) {\r\n      case \"criteria\":\r\n        let selectedCorrespondent = this.cmCriteriaDataDetails.filter(\r\n          (x) => event.data == x.fieldName\r\n        );\r\n        console.log(selectedCorrespondent, Object.values(this.slabTypeCM));\r\n        let operations;\r\n        this.hideValuesDropdown = false;\r\n        this.showValueInput = false;\r\n        this.showDateInput = false;\r\n        if (selectedCorrespondent.length) {\r\n          if (\r\n            // this.cmCriteriaSlabType.includes(\r\n            //   selectedCorrespondent[0].fieldName\r\n            // ) ||\r\n            // selectedCorrespondent[0]?.criteriaType == \"Slab\"\r\n            Object.values(this.slabTypeCM).includes(\r\n              selectedCorrespondent[0].fieldName\r\n            )\r\n          ) {\r\n            this.isSlabControlSelected = true;\r\n            operations = selectedCorrespondent[0].operations.split(\",\");\r\n            this.valueCtrl.reset();\r\n            this.valueCtrl.disable();\r\n            this.correspondentDdlOptions = [];\r\n          } else {\r\n            this.isSlabControlSelected = false;\r\n            this.correspondentDdlOptions = [];\r\n            this.valueCtrl.patchValue(\"\");\r\n            if (selectedCorrespondent[0]?.criteriaType == \"SQL\") {\r\n              this.getCorrespondentValues.emit({\r\n                fieldName: event.data,\r\n                displayName: event.label,\r\n                criteriaCodeText: this.criteriaCodeText,\r\n              });\r\n            } else {\r\n              this.hideValuesDropdown = true;\r\n              if (selectedCorrespondent[0]?.criteriaType == \"number\") {\r\n                this.showValueInput = true;\r\n              }\r\n              if (selectedCorrespondent[0]?.criteriaType == \"date\") {\r\n                this.showDateInput = true;\r\n              }\r\n            }\r\n            operations = selectedCorrespondent[0].operations.split(\",\");\r\n          }\r\n          this.criteriaEqualsDdlOptions = [];\r\n          this.operationCtrl.patchValue(\"\");\r\n          if (operations.length) {\r\n            this.operationCtrl.enable();\r\n            operations.forEach((opr) => {\r\n              let oprCode = \"=\";\r\n              switch (opr) {\r\n                case \"Is Equal To\":\r\n                  oprCode = \"=\";\r\n                  break;\r\n                case \"Is Not Equal To\":\r\n                  oprCode = \"!=\";\r\n                  break;\r\n                case \"Is Greater Than\":\r\n                  oprCode = \">\";\r\n                  break;\r\n                case \"Is Greater Than Equal To\":\r\n                  oprCode = \">=\";\r\n                  break;\r\n                case \"Is Less Than\":\r\n                  oprCode = \"<\";\r\n                  break;\r\n                case \"Is Less Than Equal To\":\r\n                  oprCode = \"<=\";\r\n                  break;\r\n                case \"Slab\":\r\n                  oprCode = \"=\";\r\n                  break;\r\n              }\r\n              this.criteriaEqualsDdlOptions.push({\r\n                name: opr,\r\n                code: oprCode,\r\n              });\r\n            });\r\n          } else {\r\n            this.operationCtrl.disable();\r\n          }\r\n        } else {\r\n          this.operationCtrl.enable();\r\n          this.valueCtrl.enable();\r\n          this.criteriaEqualsDdlOptions = [];\r\n          this.correspondentDdlOptions = [];\r\n        }\r\n        break;\r\n\r\n      case \"condition\":\r\n        // this.hideValuesDropdown = false;\r\n        // this.showValueInput = false;\r\n        let currCriteriaName = \"\";\r\n        if (this.selectedCriteria?.criteriaType == \"Slab\") {\r\n        } else if (this.selectedCriteria?.criteriaType == \"date\") {\r\n        }\r\n        console.log(\"::selectedCrit\", this.selectedCriteria);\r\n        if (event.name == \"Slab\") {\r\n          console.log(this.criteriaText);\r\n          if (\r\n            !this.criteriaText.filter(\r\n              (criteria) => criteria == `${this.selectedCriteria.data} = Slab`\r\n            ).length\r\n          ) {\r\n            if (\r\n              this.criteriaText.filter((criteria) => {\r\n                let splitText;\r\n                if (criteria.includes(\"!=\")) {\r\n                  splitText = criteria.replace(/[!=]/g, \"\");\r\n                } else if (criteria.includes(\"<=\")) {\r\n                  splitText = criteria.replace(/[<=]/g, \"\");\r\n                } else if (criteria.includes(\">=\")) {\r\n                  splitText = criteria.replace(/[>=]/g, \"\");\r\n                } else if (criteria.includes(\"<\")) {\r\n                  splitText = criteria.replace(/[<]/g, \"\");\r\n                } else if (criteria.includes(\">\")) {\r\n                  splitText = criteria.replace(/[>]/g, \"\");\r\n                } else {\r\n                  splitText = criteria.replace(/[=]/g, \"\");\r\n                }\r\n                return splitText.split(\"  \")[0] == this.selectedCriteria.data;\r\n              }).length\r\n            ) {\r\n              this.hideValuesDropdown = true;\r\n              if (this.selectedCriteria?.criteriaType == \"Slab\") {\r\n                if (this.AddCriteriaClickListener) {\r\n                  this.removeAddCriteriaListener();\r\n                  this.AddCriteriaClickListener = false;\r\n                }\r\n                this.isSlabsCriteria = true;\r\n              } else if (this.selectedCriteria?.criteriaType == \"date\") {\r\n                if (this.AddDateClickListener) {\r\n                  this.removeAddDateListener();\r\n                  this.AddDateClickListener = false;\r\n                }\r\n                this.isDatesCriteria = true;\r\n              }\r\n            } else {\r\n              this.valueCtrl.disable();\r\n              this.hideValuesDropdown = true;\r\n              this.showValueInput = false;\r\n              this.showDateInput = false;\r\n              if (this.selectedCriteria?.criteriaType == \"Slab\") {\r\n                if (this.AddDateClickListener) {\r\n                  this.removeAddDateListener();\r\n                  this.AddDateClickListener = false;\r\n                }\r\n                this.isDatesCriteria = false;\r\n\r\n                this.isSlabsCriteria = true;\r\n                if (!this.AddCriteriaClickListener) {\r\n                  this.removeAddCriteriaListener = this.renderer.listen(\r\n                    this.addCriteriaBtn.nativeElement,\r\n                    \"click\",\r\n                    (evt) => {\r\n                      this.showTransCriteriaModal();\r\n                    }\r\n                  );\r\n                  this.AddCriteriaClickListener = true;\r\n                }\r\n              } else if (this.selectedCriteria?.criteriaType == \"date\") {\r\n                if (this.AddCriteriaClickListener) {\r\n                  this.removeAddCriteriaListener();\r\n                  this.AddCriteriaClickListener = false;\r\n                }\r\n                this.isSlabsCriteria = false;\r\n\r\n                this.isDatesCriteria = true;\r\n                if (!this.AddDateClickListener) {\r\n                  this.removeAddDateListener = this.renderer.listen(\r\n                    this.addCriteriaBtn.nativeElement,\r\n                    \"click\",\r\n                    (evt) => {\r\n                      this.showDateModal();\r\n                    }\r\n                  );\r\n                  this.AddDateClickListener = true;\r\n                }\r\n              }\r\n            }\r\n          } else {\r\n            this.valueCtrl.disable();\r\n            this.hideValuesDropdown = true;\r\n            this.showValueInput = false;\r\n            this.showDateInput = false;\r\n            if (this.AddCriteriaClickListener) {\r\n              this.removeAddCriteriaListener();\r\n              this.AddCriteriaClickListener = false;\r\n            }\r\n            if (this.AddDateClickListener) {\r\n              this.removeAddDateListener();\r\n              this.AddDateClickListener = false;\r\n            }\r\n            if (this.selectedCriteria?.criteriaType == \"Slab\") {\r\n              this.isSlabsCriteria = true;\r\n            } else if (this.selectedCriteria?.criteriaType == \"date\") {\r\n              this.isDatesCriteria = true;\r\n            }\r\n          }\r\n        } else if (this.isSlabControlSelected) {\r\n          this.valueCtrl.enable();\r\n          this.hideValuesDropdown = true;\r\n\r\n          if (this.selectedCriteria?.criteriaType == \"Slab\") {\r\n            this.showValueInput = true;\r\n            if (this.AddCriteriaClickListener) {\r\n              this.removeAddCriteriaListener();\r\n              this.AddCriteriaClickListener = false;\r\n            }\r\n            this.isSlabsCriteria = false;\r\n          } else if (this.selectedCriteria?.criteriaType == \"date\") {\r\n            this.showDateInput = true;\r\n            if (this.AddDateClickListener) {\r\n              this.removeAddDateListener();\r\n              this.AddDateClickListener = false;\r\n            }\r\n            this.isDatesCriteria = false;\r\n          }\r\n        } else if (this.selectedCriteria?.criteriaType == \"SQL\") {\r\n          this.hideValuesDropdown = false;\r\n          if (this.AddCriteriaClickListener) {\r\n            this.removeAddCriteriaListener();\r\n            this.AddCriteriaClickListener = false;\r\n          }\r\n          this.isSlabsCriteria = false;\r\n          if (this.AddDateClickListener) {\r\n            this.removeAddDateListener();\r\n            this.AddDateClickListener = false;\r\n          }\r\n          this.isDatesCriteria = false;\r\n        } else {\r\n          this.valueCtrl.enable();\r\n          this.hideValuesDropdown = true;\r\n          if (this.selectedCriteria?.criteriaType == \"Slab\") {\r\n            this.showValueInput = true;\r\n          } else if (this.selectedCriteria?.criteriaType == \"date\") {\r\n            this.showDateInput = true;\r\n          }\r\n          this.isSlabsCriteria = false;\r\n          this.isDatesCriteria = false;\r\n        }\r\n\r\n        // if (\r\n        //   event.name == \"Slab\" &&\r\n        //   !this.criteriaText.filter(\r\n        //     (criteria) => criteria == `${this.cmCriteriaSlabType[0]} = Slab`\r\n        //   ).length\r\n        // ) {\r\n        //   if (\r\n        //     event.name == \"Slab\" &&\r\n        //     this.criteriaText.filter((criteria) => {\r\n        //       let splitText;\r\n        //       if (criteria.includes(\"!=\")) {\r\n        //         splitText = criteria.replace(/[!=]/g, \"\");\r\n        //       } else if (criteria.includes(\"<=\")) {\r\n        //         splitText = criteria.replace(/[<=]/g, \"\");\r\n        //       } else if (criteria.includes(\">=\")) {\r\n        //         splitText = criteria.replace(/[>=]/g, \"\");\r\n        //       } else if (criteria.includes(\"<\")) {\r\n        //         splitText = criteria.replace(/[<]/g, \"\");\r\n        //       } else if (criteria.includes(\">\")) {\r\n        //         splitText = criteria.replace(/[>]/g, \"\");\r\n        //       } else {\r\n        //         splitText = criteria.replace(/[=]/g, \"\");\r\n        //       }\r\n        //       return this.cmCriteriaSlabType.includes(splitText.split(\"  \")[0]);\r\n        //     }).length\r\n        //   ) {\r\n        //     this.hideValuesDropdown = true;\r\n        //     if (this.AddCriteriaClickListener) {\r\n        //       this.removeAddCriteriaListener();\r\n        //       this.AddCriteriaClickListener = false;\r\n        //     }\r\n        //     this.isSlabsCriteria = true;\r\n        //   } else {\r\n        //     this.isSlabsCriteria = true;\r\n        //     this.valueCtrl.disable();\r\n        //     this.hideValuesDropdown = true;\r\n        //     this.showValueInput = false;\r\n        //     if (!this.AddCriteriaClickListener) {\r\n        //       this.removeAddCriteriaListener = this.renderer.listen(\r\n        //         this.addCriteriaBtn.nativeElement,\r\n        //         \"click\",\r\n        //         (evt) => {\r\n        //           this.showTransCriteriaModal();\r\n        //         }\r\n        //       );\r\n        //       this.AddCriteriaClickListener = true;\r\n        //     }\r\n        //   }\r\n        // } else if (event.name == \"Slab\") {\r\n        //   if (this.AddCriteriaClickListener) {\r\n        //     this.removeAddCriteriaListener();\r\n        //     this.AddCriteriaClickListener = false;\r\n        //   }\r\n        //   this.isSlabsCriteria = true;\r\n        //   this.valueCtrl.disable();\r\n        //   this.hideValuesDropdown = true;\r\n        //   this.showValueInput = false;\r\n        // } else if (this.isSlabControlSelected) {\r\n        //   this.valueCtrl.enable();\r\n        //   this.hideValuesDropdown = true;\r\n        //   this.showValueInput = true;\r\n        //   if (this.AddCriteriaClickListener) {\r\n        //     this.removeAddCriteriaListener();\r\n        //     this.AddCriteriaClickListener = false;\r\n        //   }\r\n        //   this.isSlabsCriteria = false;\r\n        // } else if (this.selectedCriteria?.criteriaType == \"SQL\") {\r\n        //   this.hideValuesDropdown = false;\r\n        //   if (this.AddCriteriaClickListener) {\r\n        //     this.removeAddCriteriaListener();\r\n        //     this.AddCriteriaClickListener = false;\r\n        //   }\r\n        //   this.isSlabsCriteria = false;\r\n        // } else {\r\n        //   this.valueCtrl.enable();\r\n        //   this.hideValuesDropdown = true;\r\n        //   this.showValueInput = true;\r\n        //   this.isSlabsCriteria = false;\r\n        // }\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  ondeletecriteria(i: any, criteria: any) {\r\n    console.log(this.criteriaText);\r\n    if (this.AddCriteriaClickListener) {\r\n      this.removeAddCriteriaListener();\r\n      this.AddCriteriaClickListener = false;\r\n    }\r\n    if (this.AddDateClickListener) {\r\n      this.removeAddDateListener();\r\n      this.AddDateClickListener = false;\r\n    }\r\n\r\n    let rangeType = Object.keys(this.cmCriteriaSlabType).find(\r\n      (key) => criteria == `${this.cmCriteriaSlabType[key]} = Slab`\r\n    );\r\n\r\n    if (rangeType) {\r\n      if (rangeType == \"Slab\") {\r\n        this.savedSlabs = false;\r\n        this.setCriteriaService.setTransactionCriteriaRange({\r\n          txnCriteriaRange: [{ from: null, to: null }],\r\n        });\r\n      } else if (rangeType == \"date\") {\r\n        this.savedDates = false;\r\n        this.setCriteriaService.setDateRange({\r\n          dateRange: [{ trnStartDate: null, trnEndDate: null }],\r\n        });\r\n      }\r\n    }\r\n\r\n    let arr2 = [...this.criteriaText];\r\n    let arr1 = [...this.independantCriteriaArr];\r\n    let independantIndexes = [];\r\n\r\n    arr2.forEach((arr2Item, i) => {\r\n      arr1.forEach((arr1Item) => {\r\n        if (arr1Item.includes(arr2Item.split(\" \")[0])) {\r\n          independantIndexes.push(i);\r\n        }\r\n      });\r\n    });\r\n\r\n    let formatCrt;\r\n\r\n    if (this.criteriaText[i].includes(\"!=\")) {\r\n      formatCrt = this.criteriaText[i].replace(/[!=]/g, \"\");\r\n    } else if (this.criteriaText[i].includes(\">=\")) {\r\n      formatCrt = this.criteriaText[i].replace(/[>=]/g, \"\");\r\n    } else if (this.criteriaText[i].includes(\"<=\")) {\r\n      formatCrt = this.criteriaText[i].replace(/[<=]/g, \"\");\r\n    } else if (this.criteriaText[i].includes(\"<\")) {\r\n      formatCrt = this.criteriaText[i].replace(/[<]/g, \"\");\r\n    } else if (this.criteriaText[i].includes(\">\")) {\r\n      formatCrt = this.criteriaText[i].replace(/[>]/g, \"\");\r\n    } else {\r\n      formatCrt = this.criteriaText[i].replace(/[=]/g, \"\");\r\n    }\r\n\r\n    if (\r\n      Object.values(this.cmCriteriaDependency).includes(\r\n        formatCrt.split(\"  \")[0]\r\n      )\r\n    ) {\r\n      this.confirmationService.confirm({\r\n        message: `All dependant criteria will be deleted, you want to delete ?`,\r\n        key: \"criteriaDeleteConfirm\",\r\n        accept: () => {\r\n          this.deleteCriteria(formatCrt, criteria);\r\n        },\r\n      });\r\n    } else {\r\n      this.criteriaText.splice(i, 1);\r\n      this.criteriaCodeText.splice(i, 1);\r\n    }\r\n\r\n    this.resetCriteriaDropdowns();\r\n  }\r\n\r\n  deleteCriteria(formatCrt, criteria) {\r\n    console.log(this.criteriaText);\r\n    let applicableKeys = [...Object.keys(this.cmCriteriaDependency)];\r\n    let selectedKeys = [];\r\n    let allChildDependants = [];\r\n\r\n    let childDependants = [formatCrt.split(\"  \")[0]];\r\n\r\n    while (childDependants.length) {\r\n      selectedKeys = [];\r\n      selectedKeys = [...childDependants];\r\n      childDependants = [];\r\n      selectedKeys.forEach((selcCrit) => {\r\n        applicableKeys.forEach((applCrit) => {\r\n          if (this.cmCriteriaDependency[applCrit] === selcCrit) {\r\n            childDependants.push(applCrit);\r\n            allChildDependants.push(applCrit);\r\n          }\r\n        });\r\n      });\r\n    }\r\n\r\n    let critTxt = [...this.criteriaText];\r\n    let critCodeTxt = [...this.criteriaCodeText];\r\n    let removeCrit = [];\r\n    let removeCodeCrit = [];\r\n\r\n    allChildDependants = [\r\n      ...Array.from(new Set(allChildDependants)),\r\n      formatCrt.split(\"  \")[0],\r\n    ];\r\n\r\n    critTxt.forEach((crtTxt) => {\r\n      let formatCrt;\r\n\r\n      if (crtTxt.includes(\"!=\")) {\r\n        formatCrt = crtTxt.replace(/[!=]/g, \"\");\r\n      } else if (crtTxt.includes(\">=\")) {\r\n        formatCrt = crtTxt.replace(/[>=]/g, \"\");\r\n      } else if (crtTxt.includes(\"<=\")) {\r\n        formatCrt = crtTxt.replace(/[<=]/g, \"\");\r\n      } else if (crtTxt.includes(\"<\")) {\r\n        formatCrt = crtTxt.replace(/[<]/g, \"\");\r\n      } else if (crtTxt.includes(\">\")) {\r\n        formatCrt = crtTxt.replace(/[>]/g, \"\");\r\n      } else {\r\n        formatCrt = crtTxt.replace(/[=]/g, \"\");\r\n      }\r\n\r\n      formatCrt = formatCrt.split(\"  \")[0];\r\n      allChildDependants.forEach((deps) => {\r\n        let displayName = null;\r\n\r\n        //% this needs to be updated when displayName fieldName point arises\r\n\r\n        displayName = Object.keys(this.criteriaMasterData).filter((data) => {\r\n          return data == formatCrt.split(\"  \")[0];\r\n        })[0];\r\n        if (!displayName) {\r\n          let rangeType = Object.keys(this.cmCriteriaSlabType).find(\r\n            (key) => this.cmCriteriaSlabType[key] === formatCrt.split(\"  \")[0]\r\n          );\r\n\r\n          if (rangeType) {\r\n            displayName = formatCrt.split(\"  \")[0];\r\n            if (deps == displayName) {\r\n              if (rangeType == \"Slab\") {\r\n                this.setCriteriaService.setTransactionCriteriaRange({\r\n                  txnCriteriaRange: [{ from: null, to: null }],\r\n                });\r\n              } else if (rangeType == \"date\") {\r\n                this.setCriteriaService.setDateRange({\r\n                  dateRange: [{ trnStartDate: null, trnEndDate: null }],\r\n                });\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        // let fieldNames = this.cmCriteriaDataDetails.map((critData) => {\r\n        //   return critData[\"fieldName\"];\r\n        // });\r\n\r\n        // if (fieldNames.includes(formatCrt.split(\"  \")[0])) {\r\n        //   displayName = this.cmCriteriaDataDetails.filter(\r\n        //     (data: { displayName: string; fieldName: string }) => {\r\n        //       return data[\"fieldName\"] == formatCrt.split(\"  \")[0];\r\n        //     }\r\n        //   )[0][\"displayName\"];\r\n        // } else {\r\n        //   displayName = formatCrt.split(\"  \")[0];\r\n        // }\r\n        //% this needs to be updated when displayName fieldName point arises ENDS\r\n\r\n        if (deps == displayName) {\r\n          removeCrit.push(crtTxt);\r\n        }\r\n      });\r\n    });\r\n\r\n    critCodeTxt.forEach((crtCodeTxt) => {\r\n      let formatCrt;\r\n\r\n      if (crtCodeTxt.includes(\"!=\")) {\r\n        formatCrt = crtCodeTxt.replace(/[!=]/g, \"\");\r\n      } else if (crtCodeTxt.includes(\">=\")) {\r\n        formatCrt = crtCodeTxt.replace(/[>=]/g, \"\");\r\n      } else if (crtCodeTxt.includes(\"<=\")) {\r\n        formatCrt = crtCodeTxt.replace(/[<=]/g, \"\");\r\n      } else if (crtCodeTxt.includes(\"<\")) {\r\n        formatCrt = crtCodeTxt.replace(/[<]/g, \"\");\r\n      } else if (crtCodeTxt.includes(\">\")) {\r\n        formatCrt = crtCodeTxt.replace(/[>]/g, \"\");\r\n      } else {\r\n        formatCrt = crtCodeTxt.replace(/[=]/g, \"\");\r\n      }\r\n\r\n      formatCrt = formatCrt.split(\"  \")[0];\r\n      allChildDependants.forEach((deps) => {\r\n        if (deps == formatCrt) {\r\n          removeCodeCrit.push(crtCodeTxt);\r\n        }\r\n      });\r\n    });\r\n    console.log(this.criteriaText);\r\n    this.criteriaText = this.criteriaText.filter((el) => {\r\n      return !removeCrit.includes(el);\r\n    });\r\n    this.criteriaCodeText = this.criteriaCodeText.filter((el) => {\r\n      return !removeCodeCrit.includes(el);\r\n    });\r\n    console.log(this.criteriaText);\r\n    this.coreService.showWarningToast(\r\n      `All dependent values of ${criteria} has been removed`\r\n    );\r\n  }\r\n\r\n  checkMandatoryCondition(formattedCriteriaArr: any) {\r\n    if (\r\n      this.cmCriteriaMandatory &&\r\n      this.cmCriteriaMandatory.length &&\r\n      this.cmCriteriaMandatory[0].length\r\n    ) {\r\n      if (\r\n        this.cmCriteriaMandatory.every((r) => formattedCriteriaArr.includes(r))\r\n      ) {\r\n        let finalFormattedCriteriaObj = this.createFormattedCriteriaMap();\r\n        return finalFormattedCriteriaObj;\r\n      } else {\r\n        console.log(this.cmCriteriaMandatory, formattedCriteriaArr);\r\n        this.coreService.showWarningToast(\r\n          `Please add all mandatory criteria for applying the criteria. Mandatory criteria are ${this.cmCriteriaMandatory.join(\r\n            \", \"\r\n          )}`\r\n        );\r\n        return false;\r\n      }\r\n    } else {\r\n      let finalFormattedCriteriaObj = this.createFormattedCriteriaMap();\r\n      return finalFormattedCriteriaObj;\r\n    }\r\n  }\r\n\r\n  checkDependanceCondition(formattedCriteriaArr: any) {\r\n    let dependencyCheckPassed = true;\r\n\r\n    let containsAll = (arr1, arr2) =>\r\n      arr2.every((arr2Item) => arr1.includes(arr2Item));\r\n\r\n    Object.keys(this.criteriaDataDetailsJson.data.dependance).forEach(\r\n      (dependantCrt) => {\r\n        if (\r\n          formattedCriteriaArr.includes(dependantCrt) &&\r\n          this.criteriaDataDetailsJson.data.dependance[dependantCrt] != \"null\"\r\n        ) {\r\n          if (\r\n            containsAll(\r\n              formattedCriteriaArr,\r\n              this.criteriaDataDetailsJson.data.dependance[dependantCrt].split(\r\n                \",\"\r\n              )\r\n            )\r\n          ) {\r\n          } else {\r\n            dependencyCheckPassed = false;\r\n            this.coreService.showWarningToast(\r\n              `${dependantCrt} is dependant on ${this.criteriaDataDetailsJson.data.dependance[dependantCrt]}, Please select that also`\r\n            );\r\n            return dependencyCheckPassed;\r\n          }\r\n        }\r\n      }\r\n    );\r\n    return dependencyCheckPassed;\r\n  }\r\n\r\n  applyCriteria() {\r\n    this.resetCriteriaDropdowns();\r\n\r\n    let formattedCriteriaArr = this.createFormattedCriteria();\r\n\r\n    console.log(formattedCriteriaArr);\r\n\r\n    let finalCriteriaObj;\r\n\r\n    if (this.checkMandatoryCondition(formattedCriteriaArr)) {\r\n      finalCriteriaObj = this.checkMandatoryCondition(formattedCriteriaArr);\r\n      console.log(finalCriteriaObj);\r\n      if (this.checkDependanceCondition(formattedCriteriaArr)) {\r\n        const postDataCriteria = new FormData();\r\n\r\n        let criteriaMap = finalCriteriaObj.criteriaMap;\r\n        let slabText = null;\r\n        let dateText = null;\r\n        let lcyOpr = null;\r\n        let dateOpr = null;\r\n\r\n        if (finalCriteriaObj.slabs) {\r\n          let slabs = finalCriteriaObj.slabs;\r\n          let slabArr = [];\r\n          slabs.forEach((slab) => {\r\n            let rngArr = [];\r\n            Object.entries(slab).forEach((rng) => {\r\n              rngArr.push(rng.join(\":\"));\r\n            });\r\n            slabArr.push(rngArr.join(\"::\"));\r\n          });\r\n          slabText = slabArr.join(\"#\");\r\n          criteriaMap = criteriaMap + \"&&&&\" + slabText;\r\n        } else if (finalCriteriaObj.lcyOpr) {\r\n          lcyOpr = finalCriteriaObj.lcyOpr;\r\n          criteriaMap = criteriaMap + \"&&&&\" + lcyOpr;\r\n        }\r\n\r\n        if (finalCriteriaObj.dates) {\r\n          let dates = finalCriteriaObj.dates;\r\n          let dateArr = [];\r\n          dates.forEach((date) => {\r\n            let rngArr = [];\r\n            Object.entries(date).forEach((rng) => {\r\n              rng[1] =\r\n                typeof rng[1] == \"string\"\r\n                  ? rng[1]\r\n                  : (rng[1] as Date).toLocaleString(\"en-GB\");\r\n              rngArr.push(rng.join(\"=\"));\r\n            });\r\n            dateArr.push(rngArr.join(\"::\"));\r\n          });\r\n          dateText = dateArr.join(\"#\");\r\n          criteriaMap = criteriaMap + \"&&&&\" + dateText;\r\n        } else if (finalCriteriaObj.dateOpr) {\r\n          dateOpr = finalCriteriaObj.dateOpr;\r\n          criteriaMap = criteriaMap + \"&&&&\" + dateOpr;\r\n        }\r\n\r\n        console.log(\"finalcrtmap\", criteriaMap);\r\n        postDataCriteria.append(\"criteriaMap\", criteriaMap);\r\n        postDataCriteria.append(\"userId\", this.userId);\r\n        this.postDataCriteria.emit(postDataCriteria);\r\n      }\r\n    }\r\n  }\r\n\r\n  getCurrentCriteriaMap() {\r\n    let formattedCriteriaArr = this.createFormattedCriteria();\r\n\r\n    let finalCriteriaObj: any = this.createFormattedCriteriaMap();\r\n\r\n    if (this.checkDependanceCondition(formattedCriteriaArr)) {\r\n      let criteriaMap = finalCriteriaObj[\"criteriaMap\"];\r\n      let slabText = null;\r\n      let dateText = null;\r\n      let lcyOpr = null;\r\n      let dateOpr = null;\r\n\r\n      if (finalCriteriaObj.slabs) {\r\n        let slabs = finalCriteriaObj.slabs;\r\n        let slabArr = [];\r\n        slabs.forEach((slab) => {\r\n          let rngArr = [];\r\n          Object.entries(slab).forEach((rng) => {\r\n            rngArr.push(rng.join(\":\"));\r\n          });\r\n          slabArr.push(rngArr.join(\"::\"));\r\n        });\r\n        slabText = slabArr.join(\"#\");\r\n        criteriaMap = criteriaMap + \"&&&&\" + slabText;\r\n      } else if (finalCriteriaObj.lcyOpr) {\r\n        lcyOpr = finalCriteriaObj.lcyOpr;\r\n        criteriaMap = criteriaMap + \"&&&&\" + lcyOpr;\r\n      }\r\n\r\n      if (finalCriteriaObj.dates) {\r\n        let dates = finalCriteriaObj.dates;\r\n        let dateArr = [];\r\n        dates.forEach((date) => {\r\n          let rngArr = [];\r\n          Object.entries(date).forEach((rng) => {\r\n            rng[1] =\r\n              typeof rng[1] == \"string\"\r\n                ? rng[1]\r\n                : (rng[1] as Date).toLocaleString(\"en-GB\");\r\n            rngArr.push(rng.join(\"=\"));\r\n          });\r\n          dateArr.push(rngArr.join(\"::\"));\r\n        });\r\n        dateText = dateArr.join(\"#\");\r\n        criteriaMap = criteriaMap + \"&&&&\" + dateText;\r\n      } else if (finalCriteriaObj.dateOpr) {\r\n        dateOpr = finalCriteriaObj.dateOpr;\r\n        criteriaMap = criteriaMap + \"&&&&\" + dateOpr;\r\n      }\r\n\r\n      return criteriaMap;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  showTransCriteriaModal() {\r\n    this.ref = this.dialogService.open(TransactionCriteriaModal, {\r\n      width: \"40%\",\r\n      contentStyle: { overflow: \"auto\" },\r\n      baseZIndex: 10000,\r\n      styleClass: \"txn-criteria-modal\",\r\n      data: { txnCriteriaRange: this.txnCriteriaRangeFormData },\r\n    });\r\n    this.ref.onClose.subscribe((data: any) => {\r\n      if (data) {\r\n        this.txnCriteriaRangeFormData = data;\r\n      }\r\n    });\r\n  }\r\n  showDateModal() {\r\n    this.ref = this.dialogService.open(TransactionDateModal, {\r\n      width: \"40%\",\r\n      contentStyle: { overflow: \"auto\" },\r\n      baseZIndex: 10000,\r\n      styleClass: \"txn-criteria-modal\",\r\n      data: { dateRange: this.dateRangeFormData },\r\n    });\r\n    this.ref.onClose.subscribe((data: any) => {\r\n      if (data) {\r\n        this.dateRangeFormData = data;\r\n      }\r\n    });\r\n  }\r\n\r\n  getTooltip(isMandatory, isDependent, dependencyList) {\r\n    let tooltip = `${isMandatory ? \"Mandatory Criteria \\n\" : \"\"} ${\r\n      isDependent ? \"Dependent on \" + dependencyList : \"\"\r\n    }`;\r\n    if (isMandatory || isDependent) {\r\n      return tooltip;\r\n    } else {\r\n      return \"\";\r\n    }\r\n  }\r\n\r\n  changeValueInput(e: any) {\r\n    if (!(e.value > 9999999999)) {\r\n      this.valueCtrl.setValue(e.value);\r\n    }\r\n  }\r\n\r\n  closeDialog() {\r\n    this.coreService.displayLoadingScreen();\r\n    setTimeout(() => {\r\n      this.coreService.setHeaderStickyStyle(true);\r\n      this.coreService.setSidebarBtnFixedStyle(true);\r\n    }, 500);\r\n    setTimeout(() => {\r\n      this.coreService.removeLoadingScreen();\r\n    }, 1000);\r\n    this.criteriaName = \"\";\r\n    this.savingCriteriaTemplateError = null;\r\n  }\r\n\r\n  resetSetCriteria() {\r\n    this.setSelectAppForm1();\r\n    this.resetCriteriaDropdowns();\r\n    this.criteriaCodeText = [];\r\n    this.criteriaText = [];\r\n    this.selectedTemplate = \"\";\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this.ref) {\r\n      this.ref.close();\r\n    }\r\n\r\n    this.setCriteriaService.setTransactionCriteriaRange({\r\n      txnCriteriaRange: [{ from: null, to: null }],\r\n    });\r\n    this.setCriteriaService.setDateRange({\r\n      dateRange: [{ trnStartDate: null, trnEndDate: null }],\r\n    });\r\n  }\r\n\r\n  createFormattedCriteriaMap() {\r\n    console.log(\":::\", this.finalCriteriaCodeText);\r\n    let criteriaObj = {};\r\n    criteriaObj[\"slabs\"] = null;\r\n    criteriaObj[\"dates\"] = null;\r\n    criteriaObj[\"lcyOpr\"] = null;\r\n    criteriaObj[\"dateOpr\"] = null;\r\n    if (\r\n      this.finalCriteriaCodeText.filter((criteria) => this.isRangeCrt(criteria))\r\n        .length\r\n    ) {\r\n      this.finalCriteriaCodeText\r\n        .filter((crt) => this.isRangeCrt(crt))\r\n        .forEach((criteria) => {\r\n          if (this.getRangeType(criteria) == \"Slab\") {\r\n            criteriaObj[\"slabs\"] =\r\n              this.txnCriteriaRangeFormData[\"txnCriteriaRange\"];\r\n          } else if (this.getRangeType(criteria) == \"date\") {\r\n            criteriaObj[\"dates\"] = this.dateRangeFormData[\"dateRange\"];\r\n          }\r\n        });\r\n    } else if (\r\n      this.finalCriteriaCodeText.filter((criteria) =>\r\n        this.isRangeCrtWithoutSlab(criteria)\r\n      ).length\r\n    ) {\r\n      let lcyOprArr = [];\r\n      let dateOprArr = [];\r\n\r\n      this.finalCriteriaCodeText\r\n        .filter((crt) => this.isRangeCrtWithoutSlab(crt))\r\n        .forEach((criteria) => {\r\n          if (this.getRangeType(criteria) == \"Slab\") {\r\n            lcyOprArr.push(criteria);\r\n          } else if (this.getRangeType(criteria) == \"date\") {\r\n            dateOprArr.push(criteria);\r\n          }\r\n        });\r\n    }\r\n\r\n    criteriaObj[\"criteriaMap\"] = this.finalCriteriaCodeText\r\n      .filter((criteria) => !this.isRangeCrt(criteria))\r\n      .join(\";\");\r\n\r\n    return criteriaObj;\r\n  }\r\n\r\n  createFormattedCriteria() {\r\n    this.finalCriteriaCodeText = [];\r\n    let formattedCriteriaArr = this.criteriaCodeText.map((crt) => {\r\n      if (!crt) return;\r\n      let formatCrt;\r\n      let opr;\r\n      if (crt.includes(\"!=\")) {\r\n        formatCrt = crt.replace(/[!=]/g, \"\");\r\n        opr = \"!=\";\r\n      } else if (crt.includes(\">=\")) {\r\n        formatCrt = crt.replace(/[>=]/g, \"\");\r\n        opr = \">=\";\r\n      } else if (crt.includes(\"<=\")) {\r\n        formatCrt = crt.replace(/[<=]/g, \"\");\r\n        opr = \"<=\";\r\n      } else if (crt.includes(\"<\")) {\r\n        formatCrt = crt.replace(/[<]/g, \"\");\r\n        opr = \"<\";\r\n      } else if (crt.includes(\">\")) {\r\n        formatCrt = crt.replace(/[>]/g, \"\");\r\n        opr = \">\";\r\n      } else {\r\n        formatCrt = crt.replace(/[=]/g, \"\");\r\n        opr = \"=\";\r\n      }\r\n\r\n      let formatCodeText;\r\n      console.log(\r\n        \":::\",\r\n        this.criteriaCodeText,\r\n        Object.keys(this.fieldDisplayData),\r\n        formatCrt.split(\"  \")[0]\r\n      );\r\n\r\n      let fieldNameArr = [];\r\n      let criteriaName = \"\";\r\n      if (this.fieldDisplayData && Object.keys(this.fieldDisplayData).length) {\r\n        fieldNameArr = Object.keys(this.fieldDisplayData).filter(\r\n          (displayName) => {\r\n            return formatCrt.split(\"  \")[0] == displayName;\r\n          }\r\n        );\r\n      }\r\n\r\n      if (fieldNameArr.length) {\r\n        criteriaName = fieldNameArr[0];\r\n        Object.keys(this.criteriaMasterData).forEach((field) => {\r\n          this.criteriaMasterData[field].forEach((val) => {\r\n            if (formatCrt.split(\"  \")[1] == \"Any\") {\r\n              formatCodeText =\r\n                criteriaName + \" \" + opr + \" \" + formatCrt.split(\"  \")[1];\r\n            } else if (val[\"code\"] == formatCrt.split(\"  \")[1]) {\r\n              formatCodeText = criteriaName + \" \" + opr + \" \" + val[\"code\"];\r\n            } else {\r\n              formatCodeText =\r\n                criteriaName + \" \" + opr + \" \" + formatCrt.split(\"  \")[1];\r\n            }\r\n          });\r\n        });\r\n      } else {\r\n        criteriaName = formatCrt.split(\"  \")[0];\r\n        formatCodeText =\r\n          criteriaName + \" \" + opr + \" \" + formatCrt.split(\"  \")[1];\r\n      }\r\n\r\n      // if (\r\n      //   Object.keys(this.criteriaMasterData).includes(formatCrt.split(\"  \")[0])\r\n      // ) {\r\n      //   Object.keys(this.criteriaMasterData).forEach((field) => {\r\n      //     if (field == formatCrt.split(\"  \")[0]) {\r\n      //       this.criteriaMasterData[field].forEach((val) => {\r\n      //         if (formatCrt.split(\"  \")[1] == \"Any\") {\r\n      //           formatCodeText =\r\n      //             formatCrt.split(\"  \")[0] +\r\n      //             \" \" +\r\n      //             opr +\r\n      //             \" \" +\r\n      //             formatCrt.split(\"  \")[1];\r\n      //         } else if (val[\"code\"] == formatCrt.split(\"  \")[1]) {\r\n      //           formatCodeText =\r\n      //             formatCrt.split(\"  \")[0] + \" \" + opr + \" \" + val[\"code\"];\r\n      //         } else {\r\n      //           formatCodeText =\r\n      //             formatCrt.split(\"  \")[0] +\r\n      //             \" \" +\r\n      //             opr +\r\n      //             \" \" +\r\n      //             formatCrt.split(\"  \")[1];\r\n      //         }\r\n      //       });\r\n      //     }\r\n      //   });\r\n      // } else {\r\n      //   formatCodeText =\r\n      //     formatCrt.split(\"  \")[0] + \" \" + opr + \" \" + formatCrt.split(\"  \")[1];\r\n      // }\r\n      if (formatCodeText) {\r\n        this.finalCriteriaCodeText.push(formatCodeText);\r\n      }\r\n      return criteriaName;\r\n    });\r\n\r\n    return formattedCriteriaArr;\r\n  }\r\n\r\n  savingCriteriaTemplate() {\r\n    console.log(\"crrrr\", this.criteriaName);\r\n    this.savingCriteriaTemplateErrorMsg = null;\r\n    if (this.criteriaName.replace(/\\s/g, \"\").length == 0) {\r\n      this.savingCriteriaTemplateErrorMsg =\r\n        \"Name of Criteria Template cannot be Empty\";\r\n    } else {\r\n      console.log(\"crr6\", this.savingCriteriaTemplateError);\r\n      let formattedCriteriaArr = this.createFormattedCriteria();\r\n      let finalCriteriaMapObj: any = this.createFormattedCriteriaMap();\r\n      this.lcySlab = null;\r\n      console.log(\"crrrr2\", finalCriteriaMapObj);\r\n      console.log(\"crrrr3\", formattedCriteriaArr);\r\n      let criteriaMap = finalCriteriaMapObj.criteriaMap;\r\n      let slabText = null;\r\n      let dateText = null;\r\n      let lcyOpr = null;\r\n      let dateOpr = null;\r\n      console.log(\"crrrr4\", criteriaMap);\r\n      if (finalCriteriaMapObj.slabs) {\r\n        let slabs = finalCriteriaMapObj.slabs;\r\n        let slabArr = [];\r\n        slabs.forEach((slab) => {\r\n          let rngArr = [];\r\n          Object.entries(slab).forEach((rng) => {\r\n            rngArr.push(rng.join(\":\"));\r\n          });\r\n          slabArr.push(rngArr.join(\"::\"));\r\n        });\r\n        slabText = slabArr.join(\"#\");\r\n        criteriaMap = criteriaMap + \"&&&&\" + slabText;\r\n      } else if (finalCriteriaMapObj.lcyOpr) {\r\n        lcyOpr = finalCriteriaMapObj.lcyOpr;\r\n        criteriaMap = criteriaMap + \"&&&&\" + lcyOpr;\r\n      }\r\n\r\n      if (finalCriteriaMapObj.dates) {\r\n        let dates = finalCriteriaMapObj.dates;\r\n        let dateArr = [];\r\n        dates.forEach((date) => {\r\n          let rngArr = [];\r\n          Object.entries(date).forEach((rng) => {\r\n            rng[1] =\r\n              typeof rng[1] == \"string\"\r\n                ? rng[1]\r\n                : (rng[1] as Date).toLocaleString(\"en-GB\");\r\n            rngArr.push(rng.join(\"=\"));\r\n          });\r\n          dateArr.push(rngArr.join(\"::\"));\r\n        });\r\n        dateText = dateArr.join(\"#\");\r\n        criteriaMap = criteriaMap + \"&&&&\" + dateText;\r\n      } else if (finalCriteriaMapObj.dateOpr) {\r\n        dateOpr = finalCriteriaMapObj.dateOpr;\r\n        criteriaMap = criteriaMap + \"&&&&\" + dateOpr;\r\n      }\r\n      console.log(\"crr6\", this.criteriaName);\r\n      console.log(\"crr6\", this.savingCriteriaTemplateError);\r\n      const formData = new FormData();\r\n      formData.append(\"userId\", this.userId);\r\n      formData.append(\"criteriaName\", this.criteriaName.trim());\r\n      formData.append(\"criteriaMap\", criteriaMap);\r\n\r\n      formData.append(\"lcySlab\", this.lcySlab);\r\n      // saving\r\n      this.saveCriteriaAsTemplate.emit(formData);\r\n    }\r\n  }\r\n\r\n  selectCriteriaTemplate(item: any) {\r\n    this.resetCriteriaDropdowns();\r\n    let selectedData: CriteriaTemplateData =\r\n      this.criteriaTemplatesDdlOptions.filter((x: { criteriaName: any }) => {\r\n        return x.criteriaName == item.criteriaName;\r\n      })[0];\r\n\r\n    this.criteriaCodeText =\r\n      this.setCriteriaService.setCriteriaMap(selectedData);\r\n    console.log(this.criteriaCodeText);\r\n    this.criteriaText = this.setCriteriaService.decodeFormattedCriteria(\r\n      this.criteriaCodeText,\r\n      this.criteriaMasterData,\r\n      this.fieldDisplayData\r\n    );\r\n    console.log(this.criteriaText);\r\n  }\r\n\r\n  saveCriteriaTemplateLink() {\r\n    if (this.criteriaText.length) {\r\n      this.coreService.setHeaderStickyStyle(false);\r\n      this.coreService.setSidebarBtnFixedStyle(false);\r\n      this.saveTemplateDialogOpen = true;\r\n    } else {\r\n      this.coreService.showWarningToast(\"Please add criteria.\");\r\n    }\r\n  }\r\n}\r\n","<div class=\"details-page-card-content criteria-main-section mt-2\">\r\n  <div class=\"criteria-bar\">\r\n    <p class=\"setCriteria detail-page-section-heading\">\r\n      Set Criteria\r\n      <img\r\n        height=\"15px\"\r\n        src=\"../assets/Icon-info.svg\"\r\n        alt=\"\"\r\n        [pTooltip]=\"'Based on the selected criteria '+setCriteriaName+' will be routed.'\"\r\n      />\r\n    </p>\r\n    <div class=\"openCriteria\">\r\n      <p class=\"clickcriteria\">\r\n        <a\r\n          [ngClass]=\"{ disabled: deactivated }\"\r\n          tabindex=\"0\"\r\n          (keyup.enter)=\"!deactivated && saveCriteriaTemplateLink()\"\r\n        (keyup.space)=\"!deactivated && saveCriteriaTemplateLink()\"\r\n          (click)=\"!deactivated && saveCriteriaTemplateLink()\"\r\n          >Click to save this Criteria as a template</a\r\n        >\r\n      </p>\r\n    </div>\r\n  </div>\r\n  <p-dialog\r\n    [(visible)]=\"saveTemplateDialogOpen\"\r\n    [contentStyle]=\"{ overflow: 'visible' }\"\r\n    [modal]=\"true\"\r\n    [style]=\"{ width: '615px', height: '215px' }\"\r\n    [class]=\"{ saveTemplateModal: true }\"\r\n    (onHide)=\"closeDialog()\"\r\n    [draggable]=\"false\"\r\n    [resizable]=\"false\"\r\n  >\r\n    <ng-template\r\n      pTemplate=\"header\"\r\n      style=\"border-top-right-radius: 10px !important\"\r\n    >\r\n      Save Template\r\n    </ng-template>\r\n    <p class=\"mb-2\" style=\"font-weight: 500\">Name</p>\r\n    <input class=\"w-100\" type=\"text\" pInputText [(ngModel)]=\"criteriaName\" />\r\n    <div\r\n      *ngIf=\"savingCriteriaTemplateError && !savingCriteriaTemplateErrorMsg\"\r\n      class=\"saving-criteria-template-error\"\r\n    >\r\n      <i class=\"red-dot pi pi-circle-fill\"></i>\r\n      \"Criteria Template already exists.\" \r\n    </div>\r\n    <div\r\n      *ngIf=\"savingCriteriaTemplateErrorMsg\"\r\n      class=\"saving-criteria-template-error\"\r\n    >\r\n      <i class=\"red-dot pi pi-circle-fill\"></i>\r\n      {{ savingCriteriaTemplateErrorMsg }}\r\n    </div>\r\n    <ng-template pTemplate=\"footer\">\r\n      <div style=\"text-align: center\">\r\n        <button\r\n          pButton\r\n          pRipple\r\n          type=\"button\"\r\n          label=\"Save\"\r\n          (click)=\"savingCriteriaTemplate()\"\r\n          class=\"p-button-raised\"\r\n          [style]=\"{ width: '92px' }\"\r\n        ></button>\r\n      </div>\r\n    </ng-template>\r\n  </p-dialog>\r\n  <div class=\"dropdowns-select-container mb-3\">\r\n    <div class=\"col-12\">\r\n      <div class=\"row\">\r\n        <div class=\"col-md-10 col-lg-10 col-sm-12 col-xs-12\">\r\n          <div [formGroup]=\"selectCriteriaForm\" class=\"left-dropdowns\">\r\n            <p-treeSelect\r\n              class=\"mr-2 treefocus\"\r\n              scrollHeight=\"300px\"\r\n              [options]=\"criteriaMapDdlOptions\"\r\n              placeholder=\"Select Criteria\"\r\n              formControlName=\"criteria\"\r\n              (onNodeSelect)=\"onCriteriaSelect($event.node)\"\r\n            >\r\n              <ng-template let-criteria pTemplate=\"default\">\r\n                <div\r\n                  [pTooltip]=\"\r\n                    getTooltip(\r\n                      criteria['isMandatory'],\r\n                      criteria['isDependent'],\r\n                      criteria['dependencyList']\r\n                    )\r\n                  \"\r\n                >\r\n                  {{ criteria.label }}\r\n                </div>\r\n              </ng-template>\r\n            </p-treeSelect>\r\n\r\n            <p-dropdown\r\n              class=\"mr-2\"\r\n              [options]=\"criteriaEqualsDdlOptions\"\r\n              optionLabel=\"name\"\r\n              placeholder=\"Select Operator\"\r\n              (onChange)=\"onChange('condition', $event.value)\"\r\n              formControlName=\"operation\"\r\n            >\r\n              <ng-template let-options pTemplate=\"item\">\r\n                <div class=\"truncate-text\">\r\n                  <div>{{ options.name }}</div>\r\n                </div>\r\n              </ng-template></p-dropdown\r\n            >\r\n\r\n            <ng-container\r\n              *ngIf=\"\r\n                selectedCriteria?.criteriaType == 'Slab' ||\r\n                selectedCriteria?.criteriaType == 'SQL' ||\r\n                selectedCriteria?.criteriaType == 'date'\r\n              \"\r\n            >\r\n              <!-- <p-dropdown\r\n                *ngIf=\"!hideValuesDropdown\"\r\n                class=\"mr-3\"\r\n                [options]=\"correspondentDdlOptions\"\r\n                optionLabel=\"name\"\r\n                placeholder=\"Value\"\r\n                (onChange)=\"onChange('val', $event.value)\"\r\n                formControlName=\"value\"\r\n              ></p-dropdown> -->\r\n              <p-dropdown\r\n                *ngIf=\"!hideValuesDropdown\"\r\n                class=\"mr-2 smart-search\"\r\n                [options]=\"correspondentDdlOptions\"\r\n                optionLabel=\"name\"\r\n                [filter]=\"true\"\r\n                filterBy=\"name\"\r\n                placeholder=\"Value\"\r\n                formControlName=\"value\"\r\n                (onChange)=\"onChange('val', $event.value)\"\r\n                optionDisabled=\"isDivider\"\r\n              >\r\n                <ng-template pTemplate=\"selectedItem\">\r\n                  <div\r\n                    class=\"country-item country-item-value\"\r\n                    *ngIf=\"valueCtrl?.value\"\r\n                  >\r\n                    <div>\r\n                      {{ valueCtrl.value?.name }}\r\n                    </div>\r\n                  </div>\r\n                </ng-template>\r\n                <ng-template let-options pTemplate=\"item\">\r\n                  <div\r\n                    *ngIf=\"options.name == 'divider'\"\r\n                    style=\"border-top: 2px solid lightgray\"\r\n                  ></div>\r\n                  <ng-container *ngIf=\"options.name != 'divider'\">\r\n                    <div *ngIf=\"options.name != 'Any'\" class=\"truncate-text\">\r\n                      <div>{{ options.name }}</div>\r\n                    </div>\r\n                    <div\r\n                      *ngIf=\"options.name == 'Any'\"\r\n                      class=\"truncate-text any-value\"\r\n                    >\r\n                      <div>{{ options.name }}</div>\r\n                    </div>\r\n                  </ng-container>\r\n                </ng-template>\r\n              </p-dropdown>\r\n\r\n              <p-inputNumber\r\n                class=\"value-input mr-3\"\r\n                *ngIf=\"hideValuesDropdown && showValueInput\"\r\n                placeholder=\"Value\"\r\n                pInputNumber\r\n                formControlName=\"value\"\r\n                [useGrouping]=\"false\"\r\n                [min]=\"0\"\r\n                maxlength=\"10\"\r\n                maxValue=\"9999999999\"\r\n                (onInput)=\"changeValueInput($event)\"\r\n              >\r\n              </p-inputNumber>\r\n              <p-calendar\r\n                *ngIf=\"hideValuesDropdown && showDateInput\"\r\n                class=\"block mr-3\"\r\n                placeholder=\"DD/MM/YYYY\"\r\n                dateFormat=\"dd/mm/yy\"\r\n                [showIcon]=\"true\"\r\n                formControlName=\"value\"\r\n                [readonlyInput]=\"false\"\r\n                [appendTo]=\"'body'\"\r\n                appDateMask\r\n              ></p-calendar>\r\n            </ng-container>\r\n            <ng-container\r\n              *ngIf=\"\r\n                selectedCriteria?.criteriaType != 'Slab' &&\r\n                selectedCriteria?.criteriaType != 'SQL' &&\r\n                selectedCriteria?.criteriaType != 'date'\r\n              \"\r\n              [ngSwitch]=\"selectedCriteria?.criteriaType\"\r\n            >\r\n              <input\r\n                *ngSwitchCase=\"'text'\"\r\n                type=\"text\"\r\n                class=\"block mr-3\"\r\n                placeholder=\"Value\"\r\n                pInputText\r\n                formControlName=\"value\"\r\n              />\r\n              <input\r\n                *ngSwitchCase=\"'email'\"\r\n                type=\"text\"\r\n                class=\"block mr-3\"\r\n                placeholder=\"Value\"\r\n                pInputText\r\n                formControlName=\"value\"\r\n                email\r\n              />\r\n              <p-inputNumber\r\n                *ngSwitchCase=\"'number'\"\r\n                class=\"mr-3\"\r\n                placeholder=\"Value\"\r\n                pInputNumber\r\n                formControlName=\"value\"\r\n                [useGrouping]=\"false\"\r\n                [min]=\"0\"\r\n                maxlength=\"10\"\r\n                maxValue=\"9999999999\"\r\n                (onInput)=\"changeValueInput($event)\"\r\n              >\r\n              </p-inputNumber>\r\n            </ng-container>\r\n\r\n            <button\r\n              #addCriteriaBtn\r\n              pButton\r\n              pRipple\r\n              style=\"position: static; left: 645px; font-size: 1.5rem\"\r\n              type=\"button\"\r\n              label=\"+\"\r\n              class=\"p-button-primary\"\r\n              [disabled]=\"!selectCriteriaForm.valid || deactivated\"\r\n              (click)=\"addCriteriaMap()\"\r\n            ></button>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-md-2 col-lg-2 col-sm-6 col-xs-12\">\r\n          <div class=\"right-select\">\r\n            <p-dropdown\r\n              #templatesDropdown\r\n              class=\"templates-dropdown\"\r\n              [options]=\"criteriaTemplatesDdlOptions\"\r\n              optionLabel=\"name\"\r\n              [appendTo]=\"'body'\"\r\n              [placeholder]=\"\r\n                criteriaTemplatesDdlOptions.length\r\n                  ? 'Select Template'\r\n                  : 'No saved templates'\r\n              \"\r\n              [disabled]=\"\r\n                !criteriaTemplatesDdlOptions.length ||\r\n                inactiveData ||\r\n                deactivated\r\n              \"\r\n              (onChange)=\"selectCriteriaTemplate($event.value)\"\r\n              [(ngModel)]=\"selectedTemplate\"\r\n            >\r\n              <ng-template let-options pTemplate=\"item\">\r\n                <div class=\"truncate-text\">\r\n                  <div>{{ options.name }}</div>\r\n                </div>\r\n              </ng-template></p-dropdown\r\n            >\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"\" style=\"padding: 0 1rem; display: flex; flex-wrap: wrap\">\r\n    <span\r\n      *ngFor=\"let criteria of criteriaText; let i = index\"\r\n      [ngClass]=\"{ disabled: deactivated }\"\r\n      (click)=\"!deactivated && openRangeModal(criteria)\"\r\n      class=\"criteria-span\"\r\n      [ngStyle]=\"{\r\n        backgroundColor: criteria?.includes('!=')\r\n          ? 'rgb(248 253 235)'\r\n          : 'var(--surface-ground)'\r\n      }\"\r\n    >\r\n      {{ isRangeCrt(criteria) ? \"\" : criteria\r\n      }}<a\r\n        [ngClass]=\"{ disabled: deactivated }\"\r\n        style=\"cursor: pointer\"\r\n        *ngIf=\"isRangeCrt(criteria)\"\r\n        >{{ criteria }}</a\r\n      >\r\n      <span\r\n        role=\"button\"\r\n        style=\"padding: 0px 0px 0px 15px; margin-bottom: 10px\"\r\n        [ngClass]=\"{ disabled: deactivated }\"\r\n        (click)=\"!deactivated && ondeletecriteria(i, criteria)\"\r\n      >\r\n        <svg\r\n          style=\"margin-bottom: 4px\"\r\n          tabindex=\"0\"\r\n          (keyup.Space)=\"ondeletecriteria(i, criteria)\"\r\n          (keyup.Enter)=\"ondeletecriteria(i, criteria)\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          width=\"12.6\"\r\n          height=\"12.6\"\r\n          fill=\"#dc3545\"\r\n          class=\"bi bi-x-circle\"\r\n          viewBox=\"0 0 16 16\"\r\n        >\r\n          <path\r\n            d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"\r\n          />\r\n          <path\r\n            d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"\r\n          />\r\n        </svg>\r\n      </span>\r\n    </span>\r\n  </div>\r\n  <div class=\"col-12 applycriteriabtn\">\r\n    <button\r\n      pButton\r\n      pRipple\r\n      type=\"button\"\r\n      label=\"Apply Criteria\"\r\n      class=\"p-button-raised\"\r\n      [disabled]=\"!criteriaText?.length || deactivated\"\r\n      (click)=\"applyCriteria()\"\r\n    ></button>\r\n  </div>\r\n</div>\r\n\r\n<p-confirmDialog\r\n  key=\"criteriaDeleteConfirm\"\r\n  class=\"criteria-delete-confirm\"\r\n  #cd\r\n  icon=\"pi pi-exclamation-triangle\"\r\n  appendTo=\"body\"\r\n  [closable]=\"false\"\r\n>\r\n  <p-footer>\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-times\"\r\n      label=\"Cancel\"\r\n      (click)=\"cd.reject()\"\r\n    ></button>\r\n\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-check\"\r\n      label=\"Delete\"\r\n      (click)=\"cd.accept()\"\r\n    ></button>\r\n  </p-footer>\r\n</p-confirmDialog>\r\n","import { Injectable } from \"@angular/core\";\r\nimport { BehaviorSubject } from \"rxjs\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class SetCriteriaService {\r\n  constructor() {}\r\n\r\n  RangeTypeCriteria: any = { Slab: \"LCY Amount\", date: \"Transaction Date\" };\r\n\r\n  $TransactionCriteriaRange = new BehaviorSubject<any>({\r\n    txnCriteriaRange: [{ from: null, to: null }],\r\n  });\r\n\r\n  setTransactionCriteriaRange(value: any) {\r\n    this.$TransactionCriteriaRange.next(value);\r\n  }\r\n  getTransactionCriteriaRange() {\r\n    return this.$TransactionCriteriaRange;\r\n  }\r\n\r\n  $DateRange = new BehaviorSubject<any>({\r\n    dateRange: [{ trnStartDate: null, trnEndDate: null }],\r\n  });\r\n\r\n  setDateRange(value: any) {\r\n    this.$DateRange.next(value);\r\n  }\r\n  getDateRange() {\r\n    return this.$DateRange;\r\n  }\r\n\r\n  getlcyForm(mapSplit: string) {\r\n    let lcySlabForm = {};\r\n    let lcySlabArr = [];\r\n    mapSplit.split(\"#\").forEach((rngTxt) => {\r\n      let fromVal = rngTxt.split(\"::\")[0].split(\":\")[1];\r\n      let toVal = rngTxt.split(\"::\")[1].split(\":\")[1];\r\n      lcySlabArr.push({\r\n        from: +fromVal,\r\n        to: +toVal,\r\n      });\r\n    });\r\n    lcySlabForm = {\r\n      txnCriteriaRange: lcySlabArr,\r\n    };\r\n    return lcySlabForm;\r\n  }\r\n\r\n  getdateForm(mapSplit: string) {\r\n    let dateForm = {};\r\n    let dateArr = [];\r\n    mapSplit.split(\"#\").forEach((rngTxt) => {\r\n      let fromVal = rngTxt.split(\"::\")[0].split(\"=\")[1];\r\n      let toVal = rngTxt.split(\"::\")[1].split(\"=\")[1];\r\n      dateArr.push({\r\n        trnStartDate: new Date(\r\n          fromVal.replace(\r\n            /(\\d{2})\\/(\\d{2})\\/(\\d{4}), (\\d{2}:\\d{2}:\\d{2})/,\r\n            \"$3-$2-$1T$4\"\r\n          )\r\n        ),\r\n        trnEndDate: new Date(\r\n          toVal.replace(\r\n            /(\\d{2})\\/(\\d{2})\\/(\\d{4}), (\\d{2}:\\d{2}:\\d{2})/,\r\n            \"$3-$2-$1T$4\"\r\n          )\r\n        ),\r\n      });\r\n    });\r\n    dateForm = {\r\n      dateRange: dateArr,\r\n    };\r\n    return dateForm;\r\n  }\r\n\r\n  setCriteriaMap(criteriaData: any) {\r\n    let criteriaMapFirstSplit = null;\r\n    let criteriaMapSecSplit = null;\r\n    let criteriaMapThirdSplit = null;\r\n    let slabTypeName = null;\r\n    let dateTypeName = null;\r\n\r\n    if (Object.keys(this.RangeTypeCriteria).length) {\r\n      if (\"Slab\" in this.RangeTypeCriteria) {\r\n        slabTypeName = this.RangeTypeCriteria[\"Slab\"];\r\n      }\r\n      if (\"date\" in this.RangeTypeCriteria) {\r\n        dateTypeName = this.RangeTypeCriteria[\"date\"];\r\n      }\r\n    }\r\n    if (criteriaData[\"criteriaMap\"].includes(\"&&&&\")) {\r\n      if (criteriaData[\"criteriaMap\"].split(\"&&&&\").length == 3) {\r\n        criteriaMapFirstSplit = criteriaData[\"criteriaMap\"].split(\"&&&&\")[0];\r\n        criteriaMapSecSplit = criteriaData[\"criteriaMap\"].split(\"&&&&\")[1];\r\n        criteriaMapThirdSplit = criteriaData[\"criteriaMap\"].split(\"&&&&\")[2];\r\n\r\n        if (criteriaMapSecSplit.includes(\"from:\")) {\r\n          this.setTransactionCriteriaRange(\r\n            this.getlcyForm(criteriaMapSecSplit)\r\n          );\r\n\r\n          criteriaMapFirstSplit = criteriaMapFirstSplit.length\r\n            ? criteriaMapFirstSplit +\r\n              `;${slabTypeName ? slabTypeName : \"Amount\"} = Slab`\r\n            : `${slabTypeName ? slabTypeName : \"Amount\"} = Slab`;\r\n        }\r\n\r\n        if (criteriaMapThirdSplit.includes(\"trnStartDate=\")) {\r\n          this.setDateRange(this.getdateForm(criteriaMapThirdSplit));\r\n\r\n          criteriaMapFirstSplit = criteriaMapFirstSplit.length\r\n            ? criteriaMapFirstSplit +\r\n              `;${dateTypeName ? dateTypeName : \"Date\"} = Slab`\r\n            : `${dateTypeName ? dateTypeName : \"Date\"} = Slab`;\r\n        }\r\n      } else if (criteriaData[\"criteriaMap\"].split(\"&&&&\").length == 2) {\r\n        criteriaMapFirstSplit = criteriaData[\"criteriaMap\"].split(\"&&&&\")[0];\r\n        criteriaMapSecSplit = criteriaData[\"criteriaMap\"].split(\"&&&&\")[1];\r\n\r\n        if (criteriaMapSecSplit.includes(\"from:\")) {\r\n          this.setTransactionCriteriaRange(\r\n            this.getlcyForm(criteriaMapSecSplit)\r\n          );\r\n\r\n          criteriaMapFirstSplit = criteriaMapFirstSplit.length\r\n            ? criteriaMapFirstSplit +\r\n              `;${slabTypeName ? slabTypeName : \"Amount\"} = Slab`\r\n            : `${slabTypeName ? slabTypeName : \"Amount\"} = Slab`;\r\n        } else if (criteriaMapSecSplit.includes(\"trnStartDate=\")) {\r\n          this.setDateRange(this.getdateForm(criteriaMapSecSplit));\r\n\r\n          criteriaMapFirstSplit = criteriaMapFirstSplit.length\r\n            ? criteriaMapFirstSplit +\r\n              `;${dateTypeName ? dateTypeName : \"Date\"} = Slab`\r\n            : `${dateTypeName ? dateTypeName : \"Date\"} = Slab`;\r\n        }\r\n      }\r\n    } else {\r\n      criteriaMapFirstSplit = criteriaData[\"criteriaMap\"];\r\n\r\n      this.setTransactionCriteriaRange({\r\n        txnCriteriaRange: [{ from: null, to: null }],\r\n      });\r\n      this.setDateRange({\r\n        dateRange: [{ trnStartDate: null, trnEndDate: null }],\r\n      });\r\n    }\r\n\r\n    return criteriaMapFirstSplit.split(\";\");\r\n  }\r\n\r\n  decodeFormattedCriteria(\r\n    criteriaCodeText: any,\r\n    criteriaMasterData: any,\r\n    fieldDisplayData: any\r\n  ) {\r\n    let decodedFormattedCriteriaArr = criteriaCodeText.map((crt) => {\r\n      let formatCrt;\r\n      let opr;\r\n      if (crt.includes(\"!=\")) {\r\n        formatCrt = crt.replace(/[!=]/g, \"\");\r\n        opr = \"!=\";\r\n      } else if (crt.includes(\">=\")) {\r\n        formatCrt = crt.replace(/[>=]/g, \"\");\r\n        opr = \">=\";\r\n      } else if (crt.includes(\"<=\")) {\r\n        formatCrt = crt.replace(/[<=]/g, \"\");\r\n        opr = \"<=\";\r\n      } else if (crt.includes(\"<\")) {\r\n        formatCrt = crt.replace(/[<]/g, \"\");\r\n        opr = \"<\";\r\n      } else if (crt.includes(\">\")) {\r\n        formatCrt = crt.replace(/[>]/g, \"\");\r\n        opr = \">\";\r\n      } else {\r\n        formatCrt = crt.replace(/[=]/g, \"\");\r\n        opr = \"=\";\r\n      }\r\n      console.log(formatCrt);\r\n      let decodeCriteriaText;\r\n      let displayName = null;\r\n\r\n      //% this needs to be updated when displayName fieldName point arises\r\n\r\n      // displayName = Object.keys(criteriaMasterData).filter((data) => {\r\n      //   return data == formatCrt.split(\"  \")[0];\r\n      // })[0];\r\n      // if (!displayName) {\r\n      //   let rangeType = Object.keys(this.RangeTypeCriteria).find(\r\n      //     (key) => this.RangeTypeCriteria[key] === formatCrt.split(\"  \")[0]\r\n      //   );\r\n\r\n      //   if (rangeType) {\r\n      //     displayName = formatCrt.split(\"  \")[0];\r\n      //   }\r\n      // }\r\n      console.log(\":::\", fieldDisplayData);\r\n      let fieldNameArr = [];\r\n      if (fieldDisplayData && Object.keys(fieldDisplayData).length) {\r\n        fieldNameArr = Object.keys(fieldDisplayData).filter((fieldName) => {\r\n          return formatCrt.split(\"  \")[0] == fieldName;\r\n        });\r\n      }\r\n\r\n      if (fieldNameArr.length) {\r\n        displayName = fieldDisplayData[fieldNameArr[0]];\r\n      } else {\r\n        displayName = formatCrt.split(\"  \")[0];\r\n      }\r\n      //% this needs to be updated when displayName fieldName point arises ENDS\r\n\r\n      if (Object.keys(criteriaMasterData).includes(formatCrt.split(\"  \")[0])) {\r\n        Object.keys(criteriaMasterData).forEach((field) => {\r\n          if (field == formatCrt.split(\"  \")[0]) {\r\n            criteriaMasterData[field].forEach((val) => {\r\n              if (formatCrt.split(\"  \")[1] == \"Any\") {\r\n                decodeCriteriaText =\r\n                  displayName + \" \" + opr + \" \" + formatCrt.split(\"  \")[1];\r\n              } else if (val[\"code\"] == formatCrt.split(\"  \")[1]) {\r\n                decodeCriteriaText =\r\n                  displayName + \" \" + opr + \" \" + val[\"codeName\"];\r\n              }\r\n            });\r\n          }\r\n        });\r\n      } else {\r\n        decodeCriteriaText =\r\n          displayName + \" \" + opr + \" \" + formatCrt.split(\"  \")[1];\r\n      }\r\n      return decodeCriteriaText;\r\n    });\r\n    return decodedFormattedCriteriaArr;\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  EventEmitter,\r\n  Input,\r\n  OnChanges,\r\n  OnInit,\r\n  Output,\r\n  SimpleChanges,\r\n  ViewChild,\r\n} from \"@angular/core\";\r\nimport {\r\n  FormBuilder,\r\n  FormGroup,\r\n  UntypedFormGroup,\r\n  Validators,\r\n} from \"@angular/forms\";\r\nimport { Router } from \"@angular/router\";\r\nimport { ConfirmationService } from \"primeng/api\";\r\nimport { Observable, forkJoin } from \"rxjs\";\r\nimport { CoreService } from \"src/app/core.service\";\r\nimport { CustomerFormService } from \"./customer-form.service\";\r\nimport { Calendar } from \"primeng/calendar\";\r\n\r\nimport _lodashClone from \"lodash-es/cloneDeep\";\r\nimport _lodashIsEqual from \"lodash-es/isequal\";\r\n\r\nimport _lodashUnset from \"lodash-es/unset\";\r\nimport { take } from \"rxjs/operators\";\r\nimport { ViewportScroller } from \"@angular/common\";\r\nimport { ConfirmDialogModalService } from \"../../modals/confirm-dialog-modal/confirm-dialog-modal.service\";\r\n\r\n@Component({\r\n  selector: \"app-customer-form\",\r\n  templateUrl: \"./customer-form.component.html\",\r\n  styleUrls: [\"./customer-form.component.scss\"],\r\n})\r\nexport class CustomerFormComponent implements OnInit, OnChanges {\r\n  constructor(\r\n    private coreService: CoreService,\r\n    private formBuilder: FormBuilder,\r\n    private router: Router,\r\n    private confirmationService: ConfirmationService,\r\n    private customerFormService: CustomerFormService,\r\n    private scroller: ViewportScroller,\r\n    private confirmDialogModalService: ConfirmDialogModalService\r\n  ) {\r\n    // this.getCustomerMasterData();\r\n    this.getCustomerMasterDataFromAppControlAndRemittance();\r\n  }\r\n\r\n  @ViewChild(\"calendar\") calendar: Calendar;\r\n\r\n  @Input(\"mode\") mode = \"add\";\r\n  @Input(\"userId\") userId = null;\r\n  @Input(\"custType\") custType = \"IND\";\r\n  @Input(\"custId\") custId = null;\r\n\r\n  @Input(\"originalCustomerType\") originalCustomerType = \"IND\";\r\n  @Input(\"originalCustomerCode\") originalCustomerCode = null;\r\n\r\n  @Input(\"relatedParty\") relatedParty = \"C\";\r\n  @Input(\"isNormalCustomer\") isNormalCustomer = true;\r\n  @Input(\"newAddedCustAsParty\") newAddedCustAsParty = null;\r\n\r\n  @Input(\"editFromPartyTable\") editFromPartyTable = false;\r\n\r\n  @Output(\"showFormForRelatedParty\") showFormForRelatedParty =\r\n    new EventEmitter<string>();\r\n  @Output(\"existingCustomerMissingDocCaseId\") existingCustomerMissingDocCaseId =\r\n    new EventEmitter<any>();\r\n  @Output(\"editRelatedPartyId\") editRelatedPartyId = new EventEmitter<any>();\r\n\r\n  @Output(\"onNewlyAddedCustomerAsPartyDetails\")\r\n  onNewlyAddedCustomerAsPartyDetails = new EventEmitter<any>();\r\n\r\n  @Output(\"onEditFromPartyTable\")\r\n  onEditFromPartyTable = new EventEmitter<any>();\r\n\r\n  // --------------------AJAY STSARTSSSSSSSSSSSSSS\r\n\r\n  errorFromDocumentComponent: any =\r\n    // \"Please tick, If Uploaded Documents are valid\";\r\n    null;\r\n\r\n  editCustomerDataLoaded: boolean = false;\r\n\r\n  idIssueCountryList: any = [];\r\n\r\n  today = new Date();\r\n  pastYear = new Date(\"01/01/1950\");\r\n  futureYear = new Date(\"01/01/2050\");\r\n  dobMaxDate = new Date(this.today.setFullYear(this.today.getFullYear() - 18));\r\n  expiryMinDate = new Date();\r\n  issueMaxDate = new Date();\r\n  objectKeys = Object.keys;\r\n  showForm: boolean = true;\r\n  submitted = false;\r\n\r\n  clickforview = false;\r\n  customerDataForView: any = [];\r\n  checked: boolean = false;\r\n  isConfirmedCustomer = \"false\";\r\n\r\n  filteredEmployer: any = [];\r\n\r\n  customerForm: FormGroup;\r\n  formSections: any[] = [];\r\n  apiData: any = [];\r\n\r\n  copyFormSection: any = [];\r\n\r\n  masterData: any = {};\r\n\r\n  deactivated: boolean = false;\r\n  disabledFields: any = {};\r\n\r\n  onActiveData: any = [];\r\n\r\n  employerType = \"Individual\";\r\n  CustomerData: any = null;\r\n\r\n  customerUploadedDocumentsData: any[] = [];\r\n\r\n  duplicateCheckFields = [];\r\n\r\n  // --------------------AJAY ENDSSSSSSSSSSSSSSSSSSSS\r\n\r\n  applicationName = JSON.parse(localStorage.getItem(\"applicationName\"));\r\n  moduleName = JSON.parse(localStorage.getItem(\"moduleName\"));\r\n\r\n  formName = \"Customer Profile_Form Rules\";\r\n  licenseCountry = localStorage.getItem(\"licenseCountry\");\r\n\r\n  causingCriteriaFieldsArr = [];\r\n  causingCriteriaMapObj = {};\r\n\r\n  initFormRuleDataJson = [];\r\n\r\n  initFormRuleFieldsNames = [];\r\n\r\n  // for dup cust\r\n  viewIndCustomerTableCols = [\r\n    { header: \"First Name\", name: \"firstNamePersonalDetails\" },\r\n    { header: \"Middle Name\", name: \"middleNamePersonalDetails\" },\r\n    { header: \"Last Name\", name: \"lastNamePersonalDetails\" },\r\n    { header: \"Date of birth\", name: \"dateOfBirthPersonalDetails\" },\r\n    { header: \"Country of birth\", name: \"countryOfBirthPersonalDetails\" },\r\n    { header: \"Mobile Number\", name: \"contactMobileNumber\" },\r\n    { header: \"Nationality\", name: \"nationalityPersonalDetails\" },\r\n  ];\r\n  viewCorCustomerTableCols = [\r\n    { header: \"Company Name\", name: \"nameOfTheCorporate\" },\r\n    { header: \"Date of Establishment\", name: \"dateOfEstablishment\" },\r\n    { header: \"Country of Establishment\", name: \"countryOfEstablishment\" },\r\n    { header: \"Mobile Number\", name: \"contactMobileNumber\" },\r\n  ];\r\n\r\n  viewCustomerTableCols = [];\r\n\r\n  // --------------------AJAY STARTSSSSSSSSSSSSSSSSSS\r\n  documentSettingJsonData: any[] = null;\r\n  causingCriteriaFieldsArrForDocSetting = [];\r\n  causingCriteriaMapObjForDocSetting = {};\r\n\r\n  // for repres/benef new flow\r\n  customerType = \"\";\r\n  customerFieldType = \"\";\r\n  criteriaTypechange = \"\";\r\n  type = \"Individual\";\r\n\r\n  criteriaType: any = \"text\";\r\n\r\n  customerData: any = [];\r\n  userTypeOptions = [\r\n    { name: \"Individual\", code: \"Individual\" },\r\n    // { name: \"Corporate\", code: \"Corporate\" },\r\n  ];\r\n\r\n  searchCriteriaApiData = [];\r\n\r\n  searchCriteriaOptions = [];\r\n  searchCriteria = [];\r\n  currentCriteriaKey = \"\";\r\n  currentCriteriaValue = \"\";\r\n  currentCriteria = \"\";\r\n\r\n  currentCriteriaMapKey = \"\";\r\n  searchCriteriaMap = [];\r\n  currentCriteriaMap = \"\";\r\n  criteriaMap = \"NA\";\r\n\r\n  pageNumber = 1;\r\n  pageSize = 5;\r\n  totalPages = 5;\r\n  totalRecords = 0;\r\n  sortBy = \"id\";\r\n  orderBy = \"DESC\";\r\n\r\n  allRequiredDocumentsPresent = null;\r\n\r\n  selectedPartyType: any = null;\r\n\r\n  currentSelectedCustomerAsParty: any = null;\r\n\r\n  showTable: any = false;\r\n\r\n  globalSearch = true;\r\n\r\n  lastLazyLoadEvent = null;\r\n\r\n  addedPartyDetailsTableData: any = [];\r\n\r\n  selectedCustomerDocList: any = [];\r\n  requiredDocsListFromSettings: any = [];\r\n\r\n  showNoDataFound: boolean = false;\r\n\r\n  columns: any[] = [\r\n    {\r\n      field: \"customerCode\",\r\n      header: \"Customer Code\",\r\n      width: \"10%\",\r\n      searchWidth: \"120px\",\r\n    },\r\n    {\r\n      field: \"fullName\",\r\n      header: \"Customer Full Name\",\r\n      width: \"40%\",\r\n      searchWidth: \"100%\",\r\n    },\r\n    {\r\n      field: \"mobileNumber\",\r\n      header: \"Mobile Number\",\r\n      width: \"15%\",\r\n      searchWidth: \"120px\",\r\n    },\r\n    { field: \"idType\", header: \"ID Type\", width: \"15%\", searchWidth: \"120px\" },\r\n    {\r\n      field: \"idNumber\",\r\n      header: \"ID Number\",\r\n      width: \"5%\",\r\n      searchWidth: \"120px\",\r\n    },\r\n  ];\r\n  // for repres/benef new flow ends\r\n\r\n  relatedPartyTypeCode: any = null;\r\n\r\n  // for multiDetails\r\n  multiDetailsSectionData = {\r\n    \"Related Parties Details\": \"relatedParties\",\r\n  };\r\n\r\n  // ! Multisection related function OLD FLOW starts\r\n  // hasValue(formSectionValue: any): boolean {\r\n  //   return Object.values(formSectionValue).some(\r\n  //     (value) => value !== null && value !== undefined && value !== \"\"\r\n  //   );\r\n  // }\r\n\r\n  // editSectionDetails(sectionRowData: any, section: any, sectionRowIndex: any) {\r\n  //   console.log(\":;\", sectionRowData, section);\r\n  //   section[\"editingIndex\"] = sectionRowIndex;\r\n  //   for (let key in sectionRowData) {\r\n  //     let value: any;\r\n  //     if (sectionRowData[key][\"isMasterData\"]) {\r\n  //       value = {\r\n  //         code: sectionRowData[key][\"valueToSend\"],\r\n  //         codeName: sectionRowData[key][\"valueToDisplay\"],\r\n  //       };\r\n  //     } else {\r\n  //       value = sectionRowData[key][\"valueToDisplay\"];\r\n  //     }\r\n  //     this.customerForm.get(section.formName).get(key).patchValue(value);\r\n  //   }\r\n  // }\r\n\r\n  // addSectionDetails(section: any) {\r\n  //   console.log(\":;\", section.fields);\r\n  //   console.log(\":;secForm\", this.customerForm.get(section.formName));\r\n  //   section[\"submitted\"] = true;\r\n  //   if (\r\n  //     this.customerForm.get(section.formName) &&\r\n  //     this.customerForm.get(section.formName).valid\r\n  //   ) {\r\n  //     let sectionDataValues = _lodashClone(\r\n  //       this.customerForm.get(section.formName).value\r\n  //     );\r\n  //     for (let key in sectionDataValues) {\r\n  //       if (\r\n  //         sectionDataValues[key] &&\r\n  //         typeof sectionDataValues[key] != \"string\"\r\n  //       ) {\r\n  //         if (typeof sectionDataValues[key] == \"object\") {\r\n  //           if ((sectionDataValues[key] as Object) instanceof Date) {\r\n  //             sectionDataValues[key] = (\r\n  //               sectionDataValues[key] as Date\r\n  //             ).toLocaleDateString(\"en-GB\");\r\n  //           }\r\n  //         }\r\n  //       }\r\n  //     }\r\n\r\n  //     let formattedSectionData = _lodashClone(sectionDataValues);\r\n  //     for (const key in formattedSectionData) {\r\n  //       if (formattedSectionData.hasOwnProperty(key)) {\r\n  //         formattedSectionData[key] = { isMasterData: false };\r\n  //       }\r\n  //     }\r\n  //     for (let key in sectionDataValues) {\r\n  //       if (\r\n  //         sectionDataValues[key] &&\r\n  //         typeof sectionDataValues[key] != \"string\"\r\n  //       ) {\r\n  //         if (typeof sectionDataValues[key] == \"object\") {\r\n  //           if ((sectionDataValues[key] as Object).hasOwnProperty(\"code\")) {\r\n  //             formattedSectionData[key][\"valueToDisplay\"] =\r\n  //               sectionDataValues[key].codeName;\r\n  //             formattedSectionData[key][\"valueToSend\"] =\r\n  //               sectionDataValues[key].code;\r\n  //             formattedSectionData[key][\"isMasterData\"] = true;\r\n  //           }\r\n  //         }\r\n  //       } else {\r\n  //         formattedSectionData[key][\"valueToDisplay\"] = sectionDataValues[key];\r\n  //         formattedSectionData[key][\"valueToSend\"] = sectionDataValues[key];\r\n  //       }\r\n  //       let fieldDataArr = section.fields.filter(\r\n  //         (field) => field.fieldName == key\r\n  //       );\r\n  //       formattedSectionData[key][\"label\"] = fieldDataArr.length\r\n  //         ? fieldDataArr[0][\"fieldLabel\"]\r\n  //         : key;\r\n  //     }\r\n  //     console.log(\":;\", this.multiDetailsSectionData);\r\n\r\n  //     if (\r\n  //       section.hasOwnProperty(\"editingIndex\") &&\r\n  //       section[\"editingIndex\"] >= 0\r\n  //     ) {\r\n  //       this.multiDetailsSectionData[section.formName][\r\n  //         +section[\"editingIndex\"]\r\n  //       ] = formattedSectionData;\r\n  //     } else {\r\n  //       this.multiDetailsSectionData[section.formName].push(\r\n  //         formattedSectionData\r\n  //       );\r\n  //     }\r\n\r\n  //     this.customerForm.get(section.formName).reset();\r\n\r\n  //     this.copyFormSection\r\n  //       .filter((copySection) => copySection.formName == section.formName)[0]\r\n  //       [\"fields\"].forEach((field) => {\r\n  //         this.customerForm\r\n  //           .get(section.formName)\r\n  //           ?.get(field.name)\r\n  //           .patchValue(\r\n  //             field.fieldType == \"dropdownSingle\" ||\r\n  //               field.fieldType == \"dropdownMulti\"\r\n  //               ? field.defaultValue\r\n  //               : field.defaultValue && field.defaultValue != \"null\"\r\n  //               ? field.defaultValue\r\n  //               : \"\"\r\n  //           );\r\n  //       });\r\n\r\n  //     section[\"submitted\"] = false;\r\n  //     section[\"editingIndex\"] = -1;\r\n  //   }\r\n  // }\r\n\r\n  // getFieldLabels(sectionData: any) {\r\n  //   return Object.values(sectionData).map((data) => data[\"label\"]);\r\n  // }\r\n  // ! Multisection related function OLD FLOW ends\r\n\r\n  ngOnInit(): void {}\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    console.log(\":: custCHanges\", changes);\r\n    if (changes.custType) {\r\n      console.log(\":: custTypeCHanges\", changes.custType.currentValue);\r\n      this.coreService.displayLoadingScreen();\r\n      this.employerType =\r\n        changes.custType.currentValue == \"IND\" ? \"Individual\" : \"Corporate\";\r\n      this.getCausingCriteriaFields(\r\n        this.userId,\r\n        this.applicationName[\"code\"],\r\n        this.moduleName[\"code\"],\r\n        this.formName\r\n      );\r\n\r\n      this.getCausingCriteriaFieldsForDocSetting(\r\n        this.userId,\r\n        this.applicationName[\"code\"],\r\n        this.moduleName[\"code\"],\r\n        \"Document Settings\"\r\n      );\r\n\r\n      if (changes.relatedParty && changes.relatedParty.isFirstChange) {\r\n        this.relatedPartyTypeCode = changes.relatedParty.currentValue;\r\n      }\r\n\r\n      // customer-search related apis\r\n      if (this.relatedPartyTypeCode == \"C\") {\r\n        this.getApiDataForsearchCriteria();\r\n        this.currentCriteriaMapKey = \"id = \";\r\n        this.currentCriteriaKey = \"Customer Code = \";\r\n      }\r\n    }\r\n\r\n    if (\r\n      changes.newAddedCustAsParty &&\r\n      changes.newAddedCustAsParty.currentValue\r\n    ) {\r\n      this.addPartyDetailsIntoTable(\r\n        null,\r\n        \"newAdd\",\r\n        changes.newAddedCustAsParty.currentValue\r\n      );\r\n    }\r\n  }\r\n\r\n  // ! Related Party related starts\r\n  checkCustomerStateForEdit(\r\n    partyCustomerCode: any,\r\n    partyTypeCode: any,\r\n    isNormalCustomer: any\r\n  ) {\r\n    this.onEditFromPartyTable.emit(true);\r\n    if (isNormalCustomer) {\r\n      this.editCustomerForMissingDocs(partyCustomerCode, partyTypeCode);\r\n    } else {\r\n      // edit relatedParty ------\r\n      this.editCustomerAsParty(partyCustomerCode, partyTypeCode);\r\n    }\r\n  }\r\n\r\n  //* addAsParty related starts\r\n  addNewCustomerAsParty(partyTypeCode: any) {\r\n    this.showFormForRelatedParty.emit(partyTypeCode);\r\n    this.existingCustomerMissingDocCaseId.emit(null);\r\n\r\n    this.currentSelectedCustomerAsParty = null;\r\n    this.clearAllRequiredDocsPresentFlag();\r\n\r\n    // set BreadCrumbs\r\n    this.coreService\r\n      .getBreadCrumbMenu()\r\n      .pipe(take(1))\r\n      .subscribe((currBCrumbs) => {\r\n        console.log(\":::currB\", currBCrumbs);\r\n        currBCrumbs.push({\r\n          label: \"Add Related Party\",\r\n          routerLink: \"\",\r\n        });\r\n        this.coreService.setBreadCrumbMenuFromInternalPages(currBCrumbs);\r\n      });\r\n  }\r\n  //* addAsParty related ends\r\n\r\n  editCustomerAsParty(partyId: any, partyTypeCode: any) {\r\n    this.showFormForRelatedParty.emit(partyTypeCode);\r\n    this.editRelatedPartyId.emit(partyId);\r\n\r\n    this.currentSelectedCustomerAsParty = null;\r\n    this.clearAllRequiredDocsPresentFlag();\r\n\r\n    // set BreadCrumbs\r\n    this.coreService\r\n      .getBreadCrumbMenu()\r\n      .pipe(take(1))\r\n      .subscribe((currBCrumbs) => {\r\n        console.log(\":::currB\", currBCrumbs);\r\n        currBCrumbs.push({\r\n          label: \"Edit Related Party\",\r\n          routerLink: \"\",\r\n        });\r\n        this.coreService.setBreadCrumbMenuFromInternalPages(currBCrumbs);\r\n      });\r\n  }\r\n\r\n  //* editCustomerForMissingDoc related STARTS\r\n  editCustomerForMissingDocs(custCode: any, partyTypeCode: any) {\r\n    console.log(\"EDITING\");\r\n    this.showFormForRelatedParty.emit(partyTypeCode);\r\n    this.existingCustomerMissingDocCaseId.emit(custCode);\r\n\r\n    this.currentSelectedCustomerAsParty = null;\r\n    this.clearAllRequiredDocsPresentFlag();\r\n\r\n    // set BreadCrumbs\r\n    this.coreService\r\n      .getBreadCrumbMenu()\r\n      .pipe(take(1))\r\n      .subscribe((currBCrumbs) => {\r\n        console.log(\":::currB\", currBCrumbs);\r\n        currBCrumbs.push({\r\n          label: \"Edit Customer (Related Party)\",\r\n          routerLink: \"\",\r\n        });\r\n        this.coreService.setBreadCrumbMenuFromInternalPages(currBCrumbs);\r\n      });\r\n  }\r\n  //* editCustomerForMissingDoc related ENDS\r\n\r\n  onChangePartyType() {\r\n    this.causingCriteriaMapObjForDocSetting[\"relatedParty\"] =\r\n      this.selectedPartyType[\"code\"];\r\n    this.currentSelectedCustomerAsParty = null;\r\n    this.clearAllRequiredDocsPresentFlag();\r\n    console.log(this.causingCriteriaMapObjForDocSetting);\r\n  }\r\n\r\n  onRowSelect(rowSelectEvent: any) {\r\n    console.log(\"::selected\", rowSelectEvent);\r\n    console.log(\"::selectedCust\", this.currentSelectedCustomerAsParty);\r\n    this.clearAllRequiredDocsPresentFlag();\r\n\r\n    let custCode = rowSelectEvent?.data?.customerCode;\r\n    let $getCustomerDataObs =\r\n      this.customerFormService.getCustomerFormDataForEdit(\r\n        custCode,\r\n        this.userId,\r\n        this.custType\r\n      );\r\n\r\n    let causingCriteriaFieldValueArr = [];\r\n    for (const [crtField, value] of Object.entries(\r\n      this.causingCriteriaMapObjForDocSetting\r\n    )) {\r\n      causingCriteriaFieldValueArr.push(`${crtField} = ${value}`);\r\n    }\r\n    let causingCriteriaMap = causingCriteriaFieldValueArr.length\r\n      ? causingCriteriaFieldValueArr.join(\";\")\r\n      : \"NA\";\r\n\r\n    let $getDocSettingsObs =\r\n      this.customerFormService.getDocumentDataByCriteriaMap(causingCriteriaMap);\r\n\r\n    this.coreService.displayLoadingScreen();\r\n    forkJoin([$getCustomerDataObs, $getDocSettingsObs]).subscribe({\r\n      next: ([resCustomerData, resDocSettings]) => {\r\n        // Getting CUSTOMER DOCS START\r\n        console.log(\"Result from $getCustomerDataObs:\", resCustomerData);\r\n        if (resCustomerData[\"status\"] == \"200\") {\r\n          console.log(\r\n            \"::custDocData\",\r\n            resCustomerData[\"data\"][\"uploadDocuments\"]\r\n          );\r\n          this.selectedCustomerDocList =\r\n            resCustomerData[\"data\"][\"uploadDocuments\"];\r\n        }\r\n        // Getting CUSTOMER DOCS END\r\n        // Getting DOCUMENT SETTING for selected PARTY TYPE START\r\n        console.log(\"Result from $getDocSettingsObs:\", resDocSettings);\r\n        if (resDocSettings[\"DocumentSettingData\"]) {\r\n          console.log(\"::partyType\", this.selectedPartyType);\r\n          console.log(\r\n            \"::reqDocsFromSettings\",\r\n            resDocSettings[\"DocumentSettingData\"]\r\n          );\r\n          this.requiredDocsListFromSettings =\r\n            resDocSettings[\"DocumentSettingData\"];\r\n        }\r\n        // Getting DOCUMENT SETTING for selected PARTY TYPE END\r\n\r\n        let allRequiredDocsPresent = true;\r\n        this.requiredDocsListFromSettings\r\n          .filter((reqDoc) => reqDoc[\"IsMandatory\"] == \"true\")\r\n          .forEach((filteredReqDoc) => {\r\n            if (\r\n              !this.selectedCustomerDocList.find(\r\n                (custDoc) =>\r\n                  custDoc[\"documentType\"] == filteredReqDoc[\"Document\"]\r\n              )\r\n            ) {\r\n              allRequiredDocsPresent = false;\r\n            }\r\n          });\r\n\r\n        rowSelectEvent[\"data\"][\"allRequiredDocsPresent\"] =\r\n          allRequiredDocsPresent;\r\n\r\n        this.allRequiredDocumentsPresent = allRequiredDocsPresent;\r\n\r\n        console.log(\"::allDocsAlreadyPresent\", allRequiredDocsPresent);\r\n      },\r\n      complete: () => {\r\n        console.log(\"Both observables completed\");\r\n\r\n        this.coreService.removeLoadingScreen();\r\n      },\r\n      error: (error) => {\r\n        if (error.errors) {\r\n          error.errors.forEach((err, index) => {\r\n            console.error(`Error occurred in observable${index + 1}:`, err);\r\n          });\r\n        } else {\r\n          console.error(\"Unknown error occurred:\", error);\r\n        }\r\n      },\r\n    });\r\n  }\r\n  onRowUnselect(rowSelectEvent: any) {\r\n    console.log(\"::Unselected\", rowSelectEvent);\r\n  }\r\n\r\n  clearAllRequiredDocsPresentFlag() {\r\n    this.customerData.forEach((custData) => {\r\n      custData[\"allRequiredDocsPresent\"] = null;\r\n    });\r\n    this.allRequiredDocumentsPresent = null;\r\n  }\r\n\r\n  addPartyDetailsIntoTable(data: any, addWay: any = \"link\", partyCode?: any) {\r\n    if (\r\n      this.addedPartyDetailsTableData.find(\r\n        (partyD) => partyD[\"partyCustomerCode\"] == partyCode\r\n      )\r\n    ) {\r\n      this.coreService.showWarningToast(\r\n        \"This Customer is already present in Related Parties !\"\r\n      );\r\n      return;\r\n    } else {\r\n      let finalPartyDetailForTable = {\r\n        isNormalCustomer: false,\r\n      };\r\n      if (addWay == \"link\") {\r\n        finalPartyDetailForTable[\"partyType\"] = this.selectedPartyType[\"code\"];\r\n        finalPartyDetailForTable[\"partyCustomerCode\"] = data[\"customerCode\"];\r\n        finalPartyDetailForTable[\"fullName\"] = data[\"fullName\"];\r\n        finalPartyDetailForTable[\"mobileNumber\"] = data[\"mobileNumber\"];\r\n        finalPartyDetailForTable[\"status\"] = \"A\";\r\n\r\n        finalPartyDetailForTable[\"isNormalCustomer\"] = true;\r\n\r\n        this.addedPartyDetailsTableData.push(finalPartyDetailForTable);\r\n        this.coreService.showSuccessToast(\r\n          \"Customer successfully added in Related Parties.\"\r\n        );\r\n      } else if (addWay == \"newAdd\") {\r\n        let customerData = null;\r\n        this.coreService.displayLoadingScreen();\r\n        this.customerFormService\r\n          // ! change getForEdit Id to partyCode when API ready\r\n          .getCustomerFormDataForEdit(partyCode, this.userId, this.custType)\r\n          .subscribe(\r\n            (res) => {\r\n              this.coreService.removeLoadingScreen();\r\n              if (res[\"status\"] == \"200\") {\r\n                customerData = res[\"data\"];\r\n                console.log(\":: newCustAsPartyDetails\", customerData);\r\n                finalPartyDetailForTable[\"partyType\"] =\r\n                  this.selectedPartyType[\"code\"];\r\n                finalPartyDetailForTable[\"partyCustomerCode\"] =\r\n                  customerData[\"id\"];\r\n                finalPartyDetailForTable[\"fullName\"] = customerData[\"fullName\"];\r\n                finalPartyDetailForTable[\"mobileNumber\"] =\r\n                  customerData[\"contactMobileNumber\"];\r\n                finalPartyDetailForTable[\"status\"] = \"A\";\r\n\r\n                finalPartyDetailForTable[\"isNormalCustomer\"] = false;\r\n\r\n                this.addedPartyDetailsTableData.push(finalPartyDetailForTable);\r\n                this.coreService.showSuccessToast(\r\n                  \"Customer successfully added in Related Parties.\"\r\n                );\r\n              }\r\n            },\r\n            (err) => {\r\n              this.coreService.showWarningToast(\r\n                \"Some error while fetching data, Try again in sometime\"\r\n              );\r\n              this.coreService.removeLoadingScreen();\r\n            }\r\n          );\r\n      }\r\n    }\r\n\r\n    console.log(\":: relatedPartyDetailsTable\", this.addedPartyDetailsTableData);\r\n\r\n    let relatedPartiesFormData = new FormData();\r\n\r\n    this.addedPartyDetailsTableData.forEach((partyDetailObj, i) => {\r\n      Object.keys(partyDetailObj).forEach((partyDetailKey) => {\r\n        relatedPartiesFormData.append(\r\n          `relatedParties[${i}].${partyDetailKey}`,\r\n          partyDetailObj[partyDetailKey]\r\n        );\r\n      });\r\n    });\r\n\r\n    for (var pair of relatedPartiesFormData.entries()) {\r\n      console.log(pair[0] + \": \" + pair[1]);\r\n    }\r\n  }\r\n\r\n  getPartyNameFromMasterByCode(code: any) {\r\n    if (this.masterData[\"masterRelatedParties\"]) {\r\n      return this.masterData[\"masterRelatedParties\"].filter(\r\n        (party) => party.code == code\r\n      )[0][\"codeName\"];\r\n    } else {\r\n      return \"\";\r\n    }\r\n  }\r\n\r\n  onRelatedPartyStatusChange(currentStatus: any) {\r\n    console.log(\":::currStatus\", currentStatus);\r\n    let requiredStatus = \"A\";\r\n    if (currentStatus == \"A\") {\r\n      requiredStatus = \"D\";\r\n    }\r\n\r\n    // this.confirmationService.confirm({\r\n    //   message: \"Are you sure\",\r\n    //   key: \"confirmDialog\",\r\n    // });\r\n  }\r\n\r\n  // onConfirm() {\r\n  //   console.log(\"Confirmed\");\r\n  //   // Your confirmation logic here\r\n  // }\r\n\r\n  // onReject() {\r\n  //   console.log(\"Rejected\");\r\n  //   // Your rejection logic here\r\n  // }\r\n\r\n  // * customer-search related starts\r\n  loadCustomers(e: any) {\r\n    // this.resetSortIcons();\r\n    if (JSON.stringify(this.lastLazyLoadEvent) === JSON.stringify(e)) {\r\n      return false;\r\n    }\r\n\r\n    if (!this.globalSearch) {\r\n      this.pageNumber = e.first ? e.first / this.pageSize + 1 : 1;\r\n      console.log(\r\n        \"::event, pageSize, pageNumber\",\r\n        e,\r\n        this.pageSize,\r\n        this.pageNumber\r\n      );\r\n      let updatedCriteriaMap = this.criteriaMap;\r\n      if (e.rows) {\r\n        this.pageSize = e.rows;\r\n      }\r\n      if (e.sortField) {\r\n        if (e.sortOrder == 1) {\r\n          this.orderBy = \"DESC\";\r\n        } else {\r\n          this.orderBy = \"ASC\";\r\n        }\r\n        switch (e.sortField) {\r\n          case \"customerCode\":\r\n            this.sortBy = \"id\";\r\n            break;\r\n          case \"fullName\":\r\n            if (this.customerType && this.customerType == \"Corporate\") {\r\n              this.sortBy = \"nameOfTheCorporate\";\r\n            } else {\r\n              this.sortBy = \"fullName\";\r\n            }\r\n            break;\r\n          case \"nationality\":\r\n            this.sortBy = \"nationalityPersonalDetails\";\r\n            break;\r\n          case \"mobileNumber\":\r\n            this.sortBy = \"contactMobileNumber\";\r\n            break;\r\n          case \"idType\":\r\n            this.sortBy = \"documentType\";\r\n            break;\r\n          case \"idNumber\":\r\n            this.sortBy = \"idNumber\";\r\n            break;\r\n          case \"beneficiaryCount\":\r\n            this.sortBy = \"beneficiaryCount\";\r\n            break;\r\n          case \"status\":\r\n            this.sortBy = \"status\";\r\n            break;\r\n\r\n          default:\r\n            this.sortBy = \"id\";\r\n            break;\r\n        }\r\n      } else {\r\n        this.sortBy = \"id\";\r\n        this.orderBy = \"DESC\";\r\n      }\r\n      if (e.filters && Object.keys(e.filters).length > 0) {\r\n        let filterCrtMap = \"\";\r\n        for (const prop in e.filters) {\r\n          switch (prop) {\r\n            case \"customerCode\":\r\n              filterCrtMap = `id = ${e.filters[prop][\"value\"]}`;\r\n              break;\r\n            case \"fullName\":\r\n              if (this.customerType && this.customerType == \"Corporate\") {\r\n                filterCrtMap = `nameOfTheCorporate = ${e.filters[prop][\"value\"]}`;\r\n              } else {\r\n                filterCrtMap = `fullName = ${e.filters[prop][\"value\"]}`;\r\n              }\r\n              break;\r\n            case \"nationality\":\r\n              filterCrtMap = `nationalityPersonalDetails = ${e.filters[prop][\"value\"]}`;\r\n              break;\r\n            case \"mobileNumber\":\r\n              filterCrtMap = `contactMobileNumber = ${e.filters[prop][\"value\"]}`;\r\n              break;\r\n            case \"idType\":\r\n              filterCrtMap = `documentType = ${e.filters[prop][\"value\"]}`;\r\n              break;\r\n            case \"idNumber\":\r\n              filterCrtMap = `idNumber = ${e.filters[prop][\"value\"]}`;\r\n              break;\r\n            case \"beneficiaryCount\":\r\n              filterCrtMap = `beneficiaryCount = ${e.filters[prop][\"value\"]}`;\r\n              break;\r\n\r\n            default:\r\n              filterCrtMap = \"\";\r\n              break;\r\n          }\r\n          if (updatedCriteriaMap?.length && updatedCriteriaMap != \"NA\") {\r\n            if (filterCrtMap?.length) {\r\n              updatedCriteriaMap += `;${filterCrtMap}`;\r\n            }\r\n          } else {\r\n            updatedCriteriaMap = filterCrtMap;\r\n          }\r\n        }\r\n        console.log(\"updatedCriteriaMap\", updatedCriteriaMap);\r\n        this.getCustomerListData(updatedCriteriaMap);\r\n      } else {\r\n        this.getCustomerListData(this.criteriaMap);\r\n      }\r\n    }\r\n    this.sortBy = \"id\";\r\n    this.orderBy = \"DESC\";\r\n    this.globalSearch = false;\r\n\r\n    this.lastLazyLoadEvent = _lodashClone(e);\r\n  }\r\n\r\n  getApiDataForsearchCriteria() {\r\n    // this.coreService.displayLoadingScreen();\r\n    this.customerFormService\r\n      .getDataForsearchCriteria(\r\n        this.userId,\r\n        this.applicationName[\"code\"],\r\n        this.moduleName[\"code\"],\r\n        \"Customer Profile\"\r\n      )\r\n      .subscribe(\r\n        (res) => {\r\n          // this.coreService.removeLoadingScreen();\r\n          this.searchCriteriaApiData = res[\"data\"];\r\n          this.searchCriteriaOptions = this.searchCriteriaApiData.map(\r\n            (data) => {\r\n              return {\r\n                name: data.displayName,\r\n                code: data.fieldName,\r\n              };\r\n            }\r\n          );\r\n          this.searchCriteriaOptions.unshift(\r\n            ...[{ name: \"Customer Code\", code: \"id\" }]\r\n          );\r\n        },\r\n        (err) => {\r\n          // this.coreService.removeLoadingScreen();\r\n          this.coreService.showWarningToast(\"Error in fething data\");\r\n        }\r\n      );\r\n  }\r\n  onUserTypeChange(value: any) {\r\n    this.formName = \"Customer Profile\";\r\n    console.log(\"type\", value);\r\n    if (value == \"Corporate\") {\r\n      console.log(\"colums\", this.columns);\r\n      this.columns.forEach((column) => {\r\n        if (column.field === \"fullName\") {\r\n          column.header = \"Corporate Name\";\r\n        }\r\n      });\r\n    } else {\r\n      this.columns.forEach((column) => {\r\n        if (column.field === \"fullName\") {\r\n          column.header = \"Customer Full Name\";\r\n        }\r\n      });\r\n    }\r\n    this.type = value;\r\n    this.criteriaMap = \"NA\";\r\n    this.searchCriteria = [];\r\n    this.currentCriteriaValue = null;\r\n    this.currentCriteriaKey = \"Customer Code = \";\r\n    this.currentCriteriaMapKey = \"id = \";\r\n    this.searchCriteriaMap = [];\r\n    this.getApiDataForsearchCriteria();\r\n    this.showTable = false;\r\n    this.globalSearch = true;\r\n    // this.getCustomerListData(this.criteriaMap);\r\n    this.customerFieldType = null;\r\n    this.criteriaType = \"text\";\r\n  }\r\n\r\n  onCriteriaChange(value: any) {\r\n    this.criteriaTypechange = value;\r\n    this.currentCriteriaValue = null;\r\n    this.currentCriteriaKey = `${\r\n      this.searchCriteriaOptions.filter((opt) => {\r\n        return opt.code == value;\r\n      })[0][\"name\"]\r\n    } = `;\r\n    this.currentCriteriaMapKey = `${\r\n      this.searchCriteriaOptions.filter((opt) => {\r\n        return opt.code == value;\r\n      })[0][\"code\"]\r\n    } = `;\r\n    this.criteriaType = this.searchCriteriaApiData.filter((opt) => {\r\n      return opt.fieldName == value;\r\n    })[0]\r\n      ? this.searchCriteriaApiData.filter((opt) => {\r\n          return opt.fieldName == value;\r\n        })[0].criteriaType\r\n      : \"text\";\r\n    setTimeout(() => {\r\n      if (this.criteriaType == \"SQL\") {\r\n        this.searchCustomerMap(this.customerType);\r\n      }\r\n    }, 1000);\r\n  }\r\n  ondeletecriteria(i: any, criteria: any) {\r\n    this.searchCriteria.splice(i, 1);\r\n    this.searchCriteriaMap.splice(i, 1);\r\n    this.currentCriteriaValue = null;\r\n    this.criteriaMap =\r\n      this.searchCriteriaMap.length > 1\r\n        ? this.searchCriteriaMap.join(\";\")\r\n        : this.searchCriteriaMap.length == 1\r\n        ? this.searchCriteriaMap[0]\r\n        : \"NA\";\r\n    this.globalSearch = true;\r\n    this.showTable = false;\r\n    this.showNoDataFound = false;\r\n    if (this.searchCriteria.length) {\r\n      this.getCustomerListData(this.criteriaMap);\r\n    } else if (this.criteriaType == \"SQL\") {\r\n      this.customerFieldType = null;\r\n    }\r\n  }\r\n  searchCustomerMap(type: any) {\r\n    console.log(\"currentkey\", this.currentCriteriaMapKey);\r\n    console.log(\"search\", this.searchCriteriaMap);\r\n    console.log(\"criteriaType\", this.criteriaType);\r\n    console.log(\"criteriaType\", this.currentCriteriaValue);\r\n    if (\r\n      this.searchCriteriaMap.filter((crt) => {\r\n        return (\r\n          crt.split(\" = \")[0] == this.currentCriteriaMapKey.split(\" = \")[0]\r\n        );\r\n      }).length > 0\r\n    ) {\r\n      this.coreService.showWarningToast(\r\n        \"This search criteria is already exists, delete it first.\"\r\n      );\r\n    } else {\r\n      if (this.criteriaType == \"SQL\") {\r\n        if (this.currentCriteria && this.currentCriteria.length > 0) {\r\n          this.searchCriteria.push(this.currentCriteria);\r\n          this.searchCriteriaMap.push(this.currentCriteriaMapKey);\r\n          this.criteriaMap = this.searchCriteriaMap.join(\";\");\r\n          console.log(\"criteriaMapSQL\", this.criteriaMap);\r\n        } else {\r\n          this.coreService.showWarningToast(\"Please enter the search value\");\r\n          return;\r\n        }\r\n      } else if (\r\n        (typeof this.currentCriteriaValue == \"string\" &&\r\n          this.currentCriteriaValue?.trim().length) ||\r\n        this.currentCriteriaValue\r\n      ) {\r\n        if (this.criteriaType == \"date\") {\r\n          let criteriaData = new Date(\r\n            this.currentCriteriaValue\r\n          ).toLocaleDateString(\"en-GB\");\r\n          console.log(\"criteriaData\", criteriaData);\r\n          this.currentCriteria = this.currentCriteriaKey + criteriaData;\r\n          this.searchCriteria.push(this.currentCriteria);\r\n\r\n          this.currentCriteriaMap = this.currentCriteriaMapKey + criteriaData;\r\n          this.searchCriteriaMap.push(this.currentCriteriaMap);\r\n          this.criteriaMap = this.searchCriteriaMap.join(\";\");\r\n        } else {\r\n          this.currentCriteria =\r\n            this.currentCriteriaKey + this.currentCriteriaValue;\r\n          this.searchCriteria.push(this.currentCriteria);\r\n\r\n          this.currentCriteriaMap =\r\n            this.currentCriteriaMapKey + this.currentCriteriaValue;\r\n          this.searchCriteriaMap.push(this.currentCriteriaMap);\r\n          this.criteriaMap = this.searchCriteriaMap.join(\";\");\r\n        }\r\n      }\r\n      this.globalSearch = true;\r\n      this.showTable = false;\r\n      this.getCustomerListData(this.criteriaMap);\r\n      if (!(this.criteriaType == \"SQL\")) {\r\n        this.currentCriteriaValue = null;\r\n      }\r\n      // this.customerFieldType = null;\r\n      // this.currentCriteriaKey = \"Customer Code = \";\r\n      // this.currentCriteriaMapKey = \"id = \";\r\n    }\r\n  }\r\n\r\n  getCustomerListData(criteriaMap: any) {\r\n    this.coreService.displayLoadingScreen();\r\n    let service: Observable<any>;\r\n\r\n    console.log(\r\n      \"::header\",\r\n      this.userId,\r\n      criteriaMap,\r\n      `${this.pageNumber}`,\r\n      `${this.pageSize}`,\r\n      this.type,\r\n      this.sortBy,\r\n      this.orderBy\r\n    );\r\n    service = this.customerFormService.getCustomerListDataOnSearch(\r\n      this.userId,\r\n      criteriaMap,\r\n      `${this.pageNumber}`,\r\n      `${this.pageSize}`,\r\n      this.type,\r\n      this.sortBy,\r\n      this.orderBy\r\n    );\r\n\r\n    service.subscribe(\r\n      (res) => {\r\n        this.coreService.removeLoadingScreen();\r\n        if (res[\"status\"] == \"200\") {\r\n          if (res[\"error\"]) {\r\n            this.showTable = false;\r\n            this.coreService.showWarningToast(res[\"error\"]);\r\n            this.customerData = [];\r\n          } else {\r\n            if (!res.data?.CmCorporateCustomerDetails.length) {\r\n              this.showTable = false;\r\n              this.showNoDataFound = true;\r\n            } else {\r\n              this.showTable = true;\r\n            }\r\n            this.customerData = res.data?.CmCorporateCustomerDetails;\r\n            this.totalPages = res.data?.TotalPages;\r\n            this.totalRecords = res.data?.TotalCount;\r\n            // this.totalRecords = res.data.PaginationDetails.totalCount;\r\n            // this.customerCode = res.customerCode?.map((code) => {\r\n            //   if (code) return { label: code, value: code };\r\n            // });\r\n            // this.fullName = res.customerFullName?.map((code) => {\r\n            //   if (code) return { label: code, value: code };\r\n            // });\r\n            // this.nationality = res.nationality?.map((code) => {\r\n            //   if (code) return { label: code, value: code };\r\n            // });\r\n            // this.mobileNumber = res.mobileNumber?.map((code) => {\r\n            //   if (code) return { label: code, value: code };\r\n            // });\r\n            // this.idType = res.idType?.map((code) => {\r\n            //   if (code) return { label: code, value: code };\r\n            // });\r\n            // this.idNumber = res.idNumber?.map((code) => {\r\n            //   if (code) return { label: code, value: code };\r\n            // });\r\n          }\r\n        } else {\r\n          this.showTable = false;\r\n        }\r\n      },\r\n      (err) => {\r\n        this.coreService.removeLoadingScreen();\r\n        // this.coreService.showWarningToast(\"Error in fething data\");\r\n        this.showTable = false;\r\n      }\r\n    );\r\n  }\r\n\r\n  clearCriteria() {\r\n    this.criteriaMap = \"NA\";\r\n    this.searchCriteria = [];\r\n    this.currentCriteriaValue = null;\r\n    this.currentCriteriaKey = \"Customer Code = \";\r\n    this.currentCriteriaMapKey = \"id = \";\r\n    this.searchCriteriaMap = [];\r\n    this.getApiDataForsearchCriteria();\r\n    this.globalSearch = true;\r\n    this.showTable = false;\r\n    this.customerFieldType = null;\r\n    this.criteriaType = \"text\";\r\n  }\r\n\r\n  searchByEnter(e: any) {\r\n    if (this.selectedPartyType && this.customerType) {\r\n      this.searchCustomerMap(this.customerType);\r\n    } else if (!this.customerType) {\r\n      this.coreService.showWarningToast(\"Please select Customer Type\");\r\n    } else if (!this.selectedPartyType) {\r\n      this.coreService.showWarningToast(\"Please select Party Type\");\r\n    }\r\n  }\r\n\r\n  // * customer-search related ends\r\n\r\n  // ! Related Party related ends\r\n\r\n  // ! Customer Master Data API starts\r\n  // getCustomerMasterData() {\r\n  //   this.customerFormService.getCustomerMaster().subscribe(\r\n  //     (res) => {\r\n  //       this.masterData = res[\"data\"];\r\n\r\n  //       // remove customer from partyType dropdown\r\n  //       if (this.masterData[\"masterRelatedParties\"]) {\r\n  //         this.masterData[\"masterRelatedParties\"] = this.masterData[\r\n  //           \"masterRelatedParties\"\r\n  //         ].filter((party) => party.code != \"C\");\r\n  //       }\r\n\r\n  //       // salaryDateMaster\r\n  //       for (let i = 1; i <= 30; i++) {\r\n  //         this.masterData.salaryDateEmpDetails.push({\r\n  //           code: `${i}`,\r\n  //           codeName: `${i}`,\r\n  //         });\r\n  //       }\r\n\r\n  //       // idIssueCountryList\r\n  //       this.idIssueCountryList = this.masterData[\"idIssueCountry\"];\r\n  //     },\r\n  //     (err) => {\r\n  //       this.coreService.showWarningToast(\"Error in fething data\");\r\n  //     }\r\n  //   );\r\n  // }\r\n\r\n  getCustomerMasterDataFromAppControlAndRemittance() {\r\n    this.customerFormService\r\n      .getCustomerMasterDataFromAppControlAndRemittance()\r\n      .subscribe(\r\n        (responses: any[]) => {\r\n          // Handle successful responses\r\n          console.log(\"Response from API 1:\", responses[0]);\r\n          console.log(\"Response from API 2:\", responses[1]);\r\n          this.masterData = {\r\n            ...responses[0][\"data\"],\r\n            ...responses[1][\"data\"],\r\n          };\r\n          // remove customer from partyType dropdown\r\n          if (this.masterData[\"masterRelatedParties\"]) {\r\n            this.masterData[\"masterRelatedParties\"] = this.masterData[\r\n              \"masterRelatedParties\"\r\n            ].filter((party) => party.code != \"C\");\r\n          }\r\n\r\n          // salaryDateMaster\r\n          for (let i = 1; i <= 30; i++) {\r\n            this.masterData.salaryDateEmpDetails.push({\r\n              code: `${i}`,\r\n              codeName: `${i}`,\r\n            });\r\n          }\r\n\r\n          // idIssueCountryList\r\n          this.idIssueCountryList = this.masterData[\"idIssueCountry\"];\r\n        },\r\n        (error) => {\r\n          // Handle error if any API request fails\r\n          console.error(\"Error:\", error);\r\n          // You can show an error message to the user or handle it in any other way\r\n        }\r\n      );\r\n  }\r\n  // ! Customer Master Data API ends\r\n\r\n  // ! Customer Form Validation & Helper Fn related starts\r\n  handleDateSelect(calendar: Calendar) {\r\n    setTimeout(() => {\r\n      if (calendar.inputfieldViewChild.nativeElement) {\r\n        calendar.inputfieldViewChild.nativeElement.focus();\r\n      }\r\n    }, 0);\r\n  }\r\n\r\n  validMinDate(fieldName: string) {\r\n    if (\r\n      fieldName == \"idExpiryDate\" ||\r\n      fieldName == \"visaExpiryDate\" ||\r\n      fieldName == \"licenseExpiryDate\" ||\r\n      fieldName == \"representativeIdExpiryDate\" ||\r\n      fieldName == \"representativeVisaExpiryDate\" ||\r\n      fieldName == \"representativeAuthorizationLetterExpiryDate\"\r\n    ) {\r\n      return new Date(new Date().getTime() + 24 * 60 * 60 * 1000);\r\n    } else {\r\n      return this.pastYear;\r\n    }\r\n  }\r\n  validMaxDate(fieldName: string) {\r\n    if (\r\n      fieldName == \"idIssueDate\" ||\r\n      fieldName == \"dateOfEstablishment\" ||\r\n      fieldName == \"representativeIdIssueDate\"\r\n    ) {\r\n      return new Date(new Date().getTime() - 24 * 60 * 60 * 1000);\r\n    } else if (\r\n      fieldName == \"dateOfBirth\" ||\r\n      fieldName == \"representativeDateOfBirth\" ||\r\n      fieldName == \"dateOfBirthPersonalDetails\"\r\n    ) {\r\n      return this.dobMaxDate;\r\n    } else {\r\n      return this.futureYear;\r\n    }\r\n  }\r\n  validDefDate(fieldName: string) {\r\n    if (\r\n      fieldName == \"dateOfBirth\" ||\r\n      fieldName == \"representativeDateOfBirth\" ||\r\n      fieldName == \"dateOfBirthPersonalDetails\"\r\n    ) {\r\n      return this.dobMaxDate;\r\n    } else {\r\n      return new Date();\r\n    }\r\n  }\r\n\r\n  checkValidValuesText(e: any, fieldData: any) {\r\n    if (fieldData.validValues && fieldData.validValues.length && e) {\r\n      let match = true;\r\n      if (e.length) {\r\n        match = false;\r\n      }\r\n      fieldData.validValues.forEach((val) => {\r\n        // if (val.startsWith(e)) {\r\n        if (val == e) {\r\n          match = true;\r\n        }\r\n      });\r\n      if (!match) {\r\n        let currCtrl = this.customerForm\r\n          .get(fieldData.formName)\r\n          ?.get(fieldData.name);\r\n        if (currCtrl) {\r\n          currCtrl.setErrors({\r\n            invalidValue: true,\r\n          });\r\n        }\r\n      }\r\n    }\r\n  }\r\n  checkValidValuesDate(e: any, fieldData: any) {\r\n    if (fieldData.validValues && fieldData.validValues.length) {\r\n      let match = true;\r\n      if (e) {\r\n        match = false;\r\n        fieldData.validValues.forEach((val) => {\r\n          // if (val.startsWith(e)) {\r\n          if (val == e.toLocaleDateString(\"en-GB\")) {\r\n            match = true;\r\n          }\r\n        });\r\n      }\r\n      if (!match) {\r\n        let currCtrl = this.customerForm\r\n          .get(fieldData.formName)\r\n          ?.get(fieldData.name);\r\n        if (currCtrl) {\r\n          currCtrl.setErrors({\r\n            invalidValue: true,\r\n          });\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  disableFormControls() {\r\n    Object.keys(this.customerForm.controls).forEach((controlName) => {\r\n      this.customerForm.get(controlName).disable();\r\n    });\r\n  }\r\n  enableFormControls() {\r\n    console.log(\"disfields\", this.disabledFields);\r\n    Object.keys(this.customerForm.controls).forEach((controlName) => {\r\n      console.log(\"control\", controlName);\r\n      this.customerForm.get(controlName).enable();\r\n    });\r\n    if (Object.keys(this.disabledFields).length) {\r\n      Object.keys(this.disabledFields).forEach((section) => {\r\n        console.log(section);\r\n        console.log(this.disabledFields[section]);\r\n        console.log(\r\n          this.customerForm.get(section).get(this.disabledFields[section])\r\n        );\r\n        this.customerForm\r\n          .get(section)\r\n          .get(this.disabledFields[section])\r\n          .disable();\r\n      });\r\n    }\r\n  }\r\n\r\n  isSectionVisible(section: any) {\r\n    let visible = false;\r\n    section.fields.forEach((field) => {\r\n      if (field.visible) {\r\n        visible = true;\r\n      }\r\n    });\r\n    return visible;\r\n  }\r\n\r\n  sameAddress(event: any, fieldName: any) {\r\n    if (fieldName == \"permanentAddressSameAsAbove\") {\r\n      let address;\r\n      if (event.checked) {\r\n        address = {\r\n          permanentCountry: this.customerForm\r\n            .get(\"Contact Details\")\r\n            ?.get(\"contactCountry\")?.value,\r\n          permanentHouseBuildingNumber: this.customerForm\r\n            .get(\"Contact Details\")\r\n            ?.get(\"contactHouseBulidingNumber\")?.value,\r\n          permanentBlockNumber: this.customerForm\r\n            .get(\"Contact Details\")\r\n            ?.get(\"contactBlockNumber\")?.value,\r\n          permanentStreetNumber: this.customerForm\r\n            .get(\"Contact Details\")\r\n            ?.get(\"contactStreetNumber\")?.value,\r\n          permanentCity: this.customerForm\r\n            .get(\"Contact Details\")\r\n            ?.get(\"contactCity\")?.value,\r\n          permanentPinZipcode: this.customerForm\r\n            .get(\"Contact Details\")\r\n            ?.get(\"contactPinZipcode\")?.value,\r\n        };\r\n      } else {\r\n        address = {\r\n          permanentCountry: \"\",\r\n          permanentHouseBuildingNumber: \"\",\r\n          permanentBlockNumber: \"\",\r\n          permanentStreetNumber: \"\",\r\n          permanentCity: \"\",\r\n          permanentPinZipcode: \"\",\r\n        };\r\n      }\r\n\r\n      this.customerForm.get(\"Contact Details\").patchValue(address);\r\n    }\r\n  }\r\n  // ! Customer Form Validation Fn related ends\r\n\r\n  // ! Causing Criteria related Fn Starts\r\n  getCausingCriteriaFields(\r\n    userId: any,\r\n    appName: any,\r\n    modName: any,\r\n    formName: any\r\n  ) {\r\n    this.customerFormService\r\n      .getCausingCriteriaFields(userId, appName, modName, formName)\r\n      .subscribe((res) => {\r\n        if (res[\"Criteria FieldNames\"]) {\r\n          console.log(\":::\", Object.values(res[\"Criteria FieldNames\"]));\r\n          this.causingCriteriaFieldsArr = _lodashClone(\r\n            Object.values(res[\"Criteria FieldNames\"])\r\n          );\r\n\r\n          this.setCausingCriteriaMapObj(this.causingCriteriaFieldsArr);\r\n\r\n          this.getformRuleData(this.causingCriteriaMapObj, true);\r\n        }\r\n      });\r\n  }\r\n  getCausingCriteriaFieldsForDocSetting(\r\n    userId: any,\r\n    appName: any,\r\n    modName: any,\r\n    formName: any\r\n  ) {\r\n    this.customerFormService\r\n      .getCausingCriteriaFields(userId, appName, modName, formName)\r\n      .subscribe((res) => {\r\n        if (res[\"Criteria FieldNames\"]) {\r\n          console.log(\"::: Doc crt\", Object.values(res[\"Criteria FieldNames\"]));\r\n          this.causingCriteriaFieldsArrForDocSetting = _lodashClone(\r\n            Object.values(res[\"Criteria FieldNames\"])\r\n          );\r\n\r\n          this.setCausingCriteriaMapObjForDocSetting(\r\n            this.causingCriteriaFieldsArrForDocSetting\r\n          );\r\n\r\n          this.getDocSettingJsonData(\r\n            this.causingCriteriaMapObjForDocSetting,\r\n            true\r\n          );\r\n        }\r\n      });\r\n  }\r\n  setCausingCriteriaMapObj(causingCrtFieldsArr: any) {\r\n    causingCrtFieldsArr.forEach((crtField: string) => {\r\n      if (crtField == \"licenceCountry\") {\r\n        this.causingCriteriaMapObj[\"licenceCountry\"] = this.licenseCountry;\r\n      } else if (crtField == \"Customer Type\") {\r\n        this.causingCriteriaMapObj[\"Customer Type\"] =\r\n          this.custType == \"IND\" ? \"IND\" : \"COR\";\r\n      } else {\r\n        this.causingCriteriaMapObj[crtField] = \"NA\";\r\n      }\r\n\r\n      console.log(\":::relatedPartyTypeCode\", this.relatedPartyTypeCode);\r\n      console.log(\":::isNormalCustomer\", this.isNormalCustomer);\r\n      if (this.relatedPartyTypeCode != \"C\" && !this.isNormalCustomer) {\r\n        this.causingCriteriaMapObj[\"relatedParty\"] = this.relatedPartyTypeCode;\r\n      }\r\n    });\r\n  }\r\n  setCausingCriteriaMapObjForDocSetting(causingCrtFieldsArr: any) {\r\n    causingCrtFieldsArr.forEach((crtField: string) => {\r\n      if (crtField == \"Country\") {\r\n        this.causingCriteriaMapObjForDocSetting[\"Country\"] =\r\n          this.licenseCountry;\r\n      } else if (crtField == \"Form\") {\r\n        this.causingCriteriaMapObjForDocSetting[\"Form\"] = \"Customer Profile\";\r\n      } else if (crtField == \"Customer Type\") {\r\n        this.causingCriteriaMapObjForDocSetting[\"Customer Type\"] =\r\n          this.custType == \"IND\" ? \"IND\" : \"COR\";\r\n      } else {\r\n        this.causingCriteriaMapObjForDocSetting[crtField] = \"NA\";\r\n      }\r\n\r\n      if (this.relatedPartyTypeCode != \"C\") {\r\n        this.causingCriteriaMapObjForDocSetting[\"relatedParty\"] =\r\n          this.relatedPartyTypeCode;\r\n      }\r\n    });\r\n  }\r\n  formatCausingCriteriaMap(crtField, value, fieldType) {\r\n    if (value) {\r\n      let codeValue = value;\r\n      switch (fieldType) {\r\n        case \"dropdownSingle\":\r\n          codeValue = value.code;\r\n          break;\r\n        default:\r\n      }\r\n      console.log(\":::updated crt field\", crtField, codeValue);\r\n      this.causingCriteriaMapObj[crtField] = codeValue;\r\n      this.getformRuleData(this.causingCriteriaMapObj);\r\n    }\r\n  }\r\n\r\n  formatCausingCriteriaMapForDocSetting(crtField, value, fieldType) {\r\n    if (value) {\r\n      let codeValue = value;\r\n      switch (fieldType) {\r\n        case \"dropdownSingle\":\r\n          codeValue = value.code;\r\n          break;\r\n        default:\r\n      }\r\n      console.log(\":::updated crt field\", crtField, codeValue);\r\n      this.causingCriteriaMapObjForDocSetting[crtField] = codeValue;\r\n      this.getDocSettingJsonData(this.causingCriteriaMapObj);\r\n    }\r\n  }\r\n  // ! Causing Criteria related Fn ends\r\n\r\n  // ! Get Formrule Data APIs and setting Form related Fn starts\r\n  getformRuleData(causingCriteriaMapObj: any, init: boolean = false) {\r\n    console.log(this.causingCriteriaMapObj);\r\n\r\n    let causingCriteriaFieldValueArr = [];\r\n    this.causingCriteriaFieldsArr.forEach((docCrt) => {\r\n      causingCriteriaFieldValueArr.push(\r\n        `${docCrt} = ${this.causingCriteriaMapObj[docCrt]}`\r\n      );\r\n    });\r\n    // for (const [crtField, value] of Object.entries(causingCriteriaMapObj)) {\r\n    //   console.log(`${crtField}: ${value}`);\r\n    //   causingCriteriaFieldValueArr.push(`${crtField} = ${value}`);\r\n    // }\r\n\r\n    let causingCriteriaMap = causingCriteriaFieldValueArr.length\r\n      ? causingCriteriaFieldValueArr.join(\";\")\r\n      : \"NA\";\r\n    // if (this.custType == \"IND\") {\r\n    this.customerFormService\r\n      .getFormRuleDataByCritreriaMap(causingCriteriaMap)\r\n      .subscribe(\r\n        (res) => {\r\n          this.showForm = true;\r\n          if (res[\"msg\"]) {\r\n            this.coreService.showWarningToast(res[\"msg\"]);\r\n            this.apiData = {};\r\n            this.coreService.removeLoadingScreen();\r\n          } else {\r\n            if (init) {\r\n              this.setFormByData(res);\r\n              if (this.mode == \"edit\") {\r\n                this.getIndividualCustomer(this.custId);\r\n              }\r\n            } else {\r\n              console.log(\":::res\", res);\r\n              this.modifyFormFieldsRules(res);\r\n            }\r\n          }\r\n        },\r\n        (err) => {\r\n          this.coreService.showWarningToast(\r\n            \"Some error while fetching data, Try again in sometime\"\r\n          );\r\n          this.coreService.removeLoadingScreen();\r\n        }\r\n      );\r\n    // }\r\n  }\r\n\r\n  setFormByData(data: any) {\r\n    // NEW JSON START\r\n\r\n    this.initFormRuleDataJson = _lodashClone(data.Rules);\r\n\r\n    let groupedData = data.Rules.reduce((acc, field) => {\r\n      const fieldSectionName = field.displaySection;\r\n      (acc[fieldSectionName] = acc[fieldSectionName] || []).push(field);\r\n      return acc;\r\n    }, {});\r\n    console.log(\":::\", groupedData);\r\n    let allFSec = [];\r\n    this.initFormRuleFieldsNames = [];\r\n    Object.keys(groupedData).forEach((key) => {\r\n      let fSec = {\r\n        formName: key,\r\n        seqOrder: groupedData[key][0][\"displaySectionOrder\"],\r\n        fields: groupedData[key]\r\n          .map((secData) => {\r\n            this.initFormRuleFieldsNames.push(secData[\"fieldId\"]);\r\n            if (secData[\"checkDuplicate\"] == \"Yes\") {\r\n              this.duplicateCheckFields.push(secData[\"fieldId\"]);\r\n            }\r\n            // ! setting relatedPartyParty start\r\n            if (\r\n              Object.keys(this.multiDetailsSectionData).includes(key) &&\r\n              secData[\"fieldId\"] == \"relatedPartyType\"\r\n            ) {\r\n              this.selectedPartyType =\r\n                secData[\"defaultValue\"] && secData[\"defaultValue\"] != \"null\"\r\n                  ? JSON.parse(secData[\"defaultValue\"])\r\n                  : null;\r\n            }\r\n            // ! setting relatedPartyParty ends\r\n            let fData = {\r\n              formName: key,\r\n              displaySectionOrder: secData[\"displaySectionOrder\"],\r\n              name: secData[\"fieldId\"],\r\n              formLableFieldSequence: +secData[\"fieldDisplayOrder\"],\r\n              fieldName: secData[\"fieldId\"],\r\n              fieldType: secData[\"fieldType\"] ? secData[\"fieldType\"] : \"text\",\r\n              fieldSubtype: secData[\"fieldSubtype\"]\r\n                ? secData[\"fieldSubtype\"]\r\n                : \"\",\r\n              fieldLabel: secData[\"fieldDisplayName\"],\r\n              required: secData[\"isMandatory\"] == \"True\" ? true : false,\r\n              enable: secData[\"isEnable\"] == \"True\" ? true : false,\r\n              visible: secData[\"isVisible\"] == \"True\" ? true : false,\r\n              validLength: secData[\"validLength\"] ? secData[\"validLength\"] : \"\",\r\n              defaultValue:\r\n                secData[\"defaultValue\"] && secData[\"defaultValue\"] != \"null\"\r\n                  ? JSON.parse(secData[\"defaultValue\"])\r\n                  : false,\r\n              newLineField:\r\n                secData[\"displayInNewLine\"] == \"True\" ? true : false,\r\n              apiKey: secData[\"apiKey\"],\r\n              minLength:\r\n                secData[\"minLength\"]?.length > 0 &&\r\n                secData[\"minLength\"] != \"null\"\r\n                  ? +secData[\"minLength\"]\r\n                  : false,\r\n              maxLength:\r\n                secData[\"maxLength\"]?.length > 0 &&\r\n                secData[\"maxLength\"] != \"null\"\r\n                  ? +secData[\"maxLength\"]\r\n                  : false,\r\n              regex:\r\n                secData[\"regex\"] &&\r\n                secData[\"regex\"] != \"null\" &&\r\n                secData[\"regex\"].trim().length\r\n                  ? secData[\"regex\"]\r\n                  : false,\r\n              regexMsg:\r\n                secData[\"regexMessage\"] && secData[\"regexMessage\"].trim().length\r\n                  ? secData[\"regexMessage\"]\r\n                  : false,\r\n              validValues:\r\n                secData[\"validValues\"] && secData[\"validValues\"].length\r\n                  ? JSON.parse(secData[\"validValues\"])\r\n                  : false,\r\n              displayValidValuesOnHover:\r\n                secData[\"displayValidValuesOnHover\"] &&\r\n                secData[\"displayValidValuesOnHover\"] == \"Yes\"\r\n                  ? secData[\"displayValidValuesOnHover\"]\r\n                  : false,\r\n              prefix:\r\n                secData[\"prefix\"] && secData[\"prefix\"].trim().length\r\n                  ? secData[\"prefix\"]\r\n                  : false,\r\n              suffix:\r\n                secData[\"suffix\"] && secData[\"suffix\"].trim().length\r\n                  ? secData[\"suffix\"]\r\n                  : false,\r\n              setOptions:\r\n                secData[\"setOptions\"] && secData[\"setOptions\"].length\r\n                  ? JSON.parse(secData[\"setOptions\"])\r\n                  : false,\r\n              minDate:\r\n                secData[\"fieldType\"] == \"date\"\r\n                  ? secData[\"minDate\"]\r\n                    ? new Date(secData[\"minDate\"])\r\n                    : this.validMinDate(secData[\"fieldId\"])\r\n                  : this.pastYear,\r\n              maxDate:\r\n                secData[\"fieldType\"] == \"date\"\r\n                  ? secData[\"maxDate\"]\r\n                    ? new Date(secData[\"maxDate\"])\r\n                    : this.validMaxDate(secData[\"fieldId\"])\r\n                  : this.futureYear,\r\n              defaultDate:\r\n                secData[\"fieldType\"] == \"date\"\r\n                  ? secData[\"initialDate\"]\r\n                    ? new Date(secData[\"initialDate\"])\r\n                    : this.validDefDate(secData[\"fieldId\"])\r\n                  : new Date(),\r\n              blockMessageCode:\r\n                secData[\"blockMessageCode\"] &&\r\n                secData[\"blockMessageCode\"].length\r\n                  ? JSON.parse(secData[\"blockMessageCode\"])\r\n                  : false,\r\n              warningMessageCode:\r\n                secData[\"warningMessageCode\"] &&\r\n                secData[\"warningMessageCode\"].length\r\n                  ? JSON.parse(secData[\"warningMessageCode\"])\r\n                  : false,\r\n              block: secData[\"block\"] == \"True\" ? true : false,\r\n              warning: secData[\"warning\"] == \"True\" ? true : false,\r\n            };\r\n            return fData;\r\n          })\r\n          .sort((a, b) => a.formLableFieldSequence - b.formLableFieldSequence),\r\n      };\r\n      allFSec.push(fSec);\r\n    });\r\n    console.log(\":::new\", allFSec);\r\n    // NEW JSON END\r\n\r\n    this.apiData = data;\r\n    this.customerForm = this.formBuilder.group({});\r\n    this.formSections = allFSec.sort((a, b) => a.seqOrder - b.seqOrder);\r\n    console.log(this.formSections);\r\n    this.disabledFields = {};\r\n    this.formSections.forEach((section) => {\r\n      let haveVisibleFields = false;\r\n      const sectionGroup = new UntypedFormGroup({});\r\n      section.fields.forEach((field) => {\r\n        if (!field.enable) {\r\n          this.disabledFields[section.formName] = field.name;\r\n        }\r\n        if (field.visible) {\r\n          haveVisibleFields = true;\r\n        }\r\n        let validators = [];\r\n        if (field.minLength) {\r\n          validators.push(Validators.minLength(field.minLength));\r\n        }\r\n        if (field.maxLength) {\r\n          validators.push(Validators.maxLength(field.maxLength));\r\n        }\r\n        if (field.required) {\r\n          validators.push(Validators.required);\r\n        }\r\n        if (field.regex) {\r\n          validators.push(Validators.pattern(field.regex));\r\n        }\r\n        sectionGroup.addControl(\r\n          field.name,\r\n          this.formBuilder.control(\r\n            {\r\n              value: field.defaultValue ? field.defaultValue : \"\",\r\n              disabled: !field.enable,\r\n            },\r\n            validators\r\n          )\r\n        );\r\n      });\r\n      section[\"isVisible\"] = haveVisibleFields ? true : false;\r\n      this.customerForm.addControl(section.formName, sectionGroup);\r\n    });\r\n    console.log(this.customerForm);\r\n    this.copyFormSection = _lodashClone(this.formSections);\r\n    this.coreService.removeLoadingScreen();\r\n\r\n    //\r\n    if (this.causingCriteriaFieldsArr && this.causingCriteriaFieldsArr.length) {\r\n      this.causingCriteriaFieldsArr.forEach((crtField) => {\r\n        if (!(crtField == \"licenceCountry\" || crtField == \"Customer Type\")) {\r\n          let fieldRule = this.initFormRuleDataJson.filter(\r\n            (fieldRule) => fieldRule.fieldId == crtField\r\n          )[0];\r\n          if (fieldRule) {\r\n            let fieldSecName = fieldRule.displaySection;\r\n            let fieldType = fieldRule.fieldType;\r\n            console.log(\":::fieldRule\", fieldSecName, crtField, fieldType);\r\n            this.customerForm\r\n              .get(fieldSecName)\r\n              ?.get(crtField)\r\n              .valueChanges.subscribe((value) => {\r\n                console.log(\"::\", value);\r\n                this.formatCausingCriteriaMap(crtField, value, fieldType);\r\n              });\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    // docSettingCRT\r\n    if (\r\n      this.causingCriteriaFieldsArrForDocSetting &&\r\n      this.causingCriteriaFieldsArrForDocSetting.length\r\n    ) {\r\n      this.causingCriteriaFieldsArrForDocSetting.forEach((crtField) => {\r\n        if (\r\n          !(\r\n            crtField == \"Country\" ||\r\n            crtField == \"Customer Type\" ||\r\n            crtField == \"Form\"\r\n          )\r\n        ) {\r\n          let fieldRule = this.initFormRuleDataJson.filter(\r\n            (fieldRule) => fieldRule.fieldId == crtField\r\n          )[0];\r\n          if (fieldRule) {\r\n            let fieldSecName = fieldRule.displaySection;\r\n            let fieldType = fieldRule.fieldType;\r\n            console.log(\":::fieldRule\", fieldSecName, crtField, fieldType);\r\n            this.customerForm\r\n              .get(fieldSecName)\r\n              ?.get(crtField)\r\n              .valueChanges.subscribe((value) => {\r\n                console.log(\"::\", value);\r\n                this.formatCausingCriteriaMapForDocSetting(\r\n                  crtField,\r\n                  value,\r\n                  fieldType\r\n                );\r\n              });\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  modifyFormFieldsRules(formRulesData: any) {\r\n    formRulesData.Rules.forEach((fieldRule) => {\r\n      if (fieldRule[\"checkDuplicate\"] == \"Yes\") {\r\n        this.duplicateCheckFields.push(fieldRule[\"fieldId\"]);\r\n      }\r\n      // ! setting relatedPartyParty start\r\n      if (\r\n        Object.keys(this.multiDetailsSectionData).includes(\r\n          fieldRule[\"displaySection\"]\r\n        ) &&\r\n        fieldRule[\"fieldId\"] == \"relatedPartyType\"\r\n      ) {\r\n        this.selectedPartyType =\r\n          fieldRule[\"defaultValue\"] && fieldRule[\"defaultValue\"] != \"null\"\r\n            ? JSON.parse(fieldRule[\"defaultValue\"])\r\n            : null;\r\n      }\r\n      // ! setting relatedPartyParty ends\r\n      let fData = {\r\n        formName: fieldRule[\"displaySection\"],\r\n        displaySectionOrder: fieldRule[\"displaySectionOrder\"],\r\n        name: fieldRule[\"fieldId\"],\r\n        formLableFieldSequence: +fieldRule[\"fieldDisplayOrder\"],\r\n        fieldName: fieldRule[\"fieldId\"],\r\n        fieldType: fieldRule[\"fieldType\"] ? fieldRule[\"fieldType\"] : \"text\",\r\n        fieldSubtype: fieldRule[\"fieldSubtype\"]\r\n          ? fieldRule[\"fieldSubtype\"]\r\n          : \"\",\r\n        fieldLabel: fieldRule[\"fieldDisplayName\"],\r\n        required: fieldRule[\"isMandatory\"] == \"True\" ? true : false,\r\n        enable: fieldRule[\"isEnable\"] == \"True\" ? true : false,\r\n        visible: fieldRule[\"isVisible\"] == \"True\" ? true : false,\r\n        validLength: fieldRule[\"validLength\"] ? fieldRule[\"validLength\"] : \"\",\r\n        defaultValue:\r\n          fieldRule[\"defaultValue\"] && fieldRule[\"defaultValue\"] != \"null\"\r\n            ? JSON.parse(fieldRule[\"defaultValue\"])\r\n            : false,\r\n        newLineField: fieldRule[\"displayInNewLine\"] == \"True\" ? true : false,\r\n        apiKey: fieldRule[\"apiKey\"],\r\n        minLength:\r\n          fieldRule[\"minLength\"]?.length > 0 && fieldRule[\"minLength\"] != \"null\"\r\n            ? +fieldRule[\"minLength\"]\r\n            : false,\r\n        maxLength:\r\n          fieldRule[\"maxLength\"]?.length > 0 && fieldRule[\"maxLength\"] != \"null\"\r\n            ? +fieldRule[\"maxLength\"]\r\n            : false,\r\n        regex:\r\n          fieldRule[\"regex\"] &&\r\n          fieldRule[\"regex\"] != \"null\" &&\r\n          fieldRule[\"regex\"].trim().length\r\n            ? fieldRule[\"regex\"]\r\n            : false,\r\n        regexMsg:\r\n          fieldRule[\"regexMessage\"] && fieldRule[\"regexMessage\"].trim().length\r\n            ? fieldRule[\"regexMessage\"]\r\n            : false,\r\n        validValues:\r\n          fieldRule[\"validValues\"] && fieldRule[\"validValues\"].length\r\n            ? JSON.parse(fieldRule[\"validValues\"])\r\n            : false,\r\n        displayValidValuesOnHover:\r\n          fieldRule[\"displayValidValuesOnHover\"] &&\r\n          fieldRule[\"displayValidValuesOnHover\"] == \"Yes\"\r\n            ? fieldRule[\"displayValidValuesOnHover\"]\r\n            : false,\r\n        prefix:\r\n          fieldRule[\"prefix\"] && fieldRule[\"prefix\"].trim().length\r\n            ? fieldRule[\"prefix\"]\r\n            : false,\r\n        suffix:\r\n          fieldRule[\"suffix\"] && fieldRule[\"suffix\"].trim().length\r\n            ? fieldRule[\"suffix\"]\r\n            : false,\r\n        setOptions:\r\n          fieldRule[\"setOptions\"] && fieldRule[\"setOptions\"].length\r\n            ? JSON.parse(fieldRule[\"setOptions\"])\r\n            : false,\r\n        minDate:\r\n          fieldRule[\"fieldType\"] == \"date\"\r\n            ? fieldRule[\"minDate\"]\r\n              ? new Date(fieldRule[\"minDate\"])\r\n              : this.validMinDate(fieldRule[\"fieldId\"])\r\n            : this.pastYear,\r\n        maxDate:\r\n          fieldRule[\"fieldType\"] == \"date\"\r\n            ? fieldRule[\"maxDate\"]\r\n              ? new Date(fieldRule[\"maxDate\"])\r\n              : this.validMaxDate(fieldRule[\"fieldId\"])\r\n            : this.futureYear,\r\n        defaultDate:\r\n          fieldRule[\"fieldType\"] == \"date\"\r\n            ? fieldRule[\"initialDate\"]\r\n              ? new Date(fieldRule[\"initialDate\"])\r\n              : this.validDefDate(fieldRule[\"fieldId\"])\r\n            : new Date(),\r\n        blockMessageCode:\r\n          fieldRule[\"blockMessageCode\"] && fieldRule[\"blockMessageCode\"].length\r\n            ? JSON.parse(fieldRule[\"blockMessageCode\"])\r\n            : false,\r\n        warningMessageCode:\r\n          fieldRule[\"warningMessageCode\"] &&\r\n          fieldRule[\"warningMessageCode\"].length\r\n            ? JSON.parse(fieldRule[\"warningMessageCode\"])\r\n            : false,\r\n        block: fieldRule[\"block\"] == \"True\" ? true : false,\r\n        warning: fieldRule[\"warning\"] == \"True\" ? true : false,\r\n      };\r\n\r\n      if (!fData.enable) {\r\n        this.disabledFields[fieldRule[\"displaySection\"]] = fData.name;\r\n      }\r\n      // if (fData.visible) {\r\n      //   haveVisibleFields = true;\r\n      // }\r\n      let validators = [];\r\n      if (fData.minLength) {\r\n        validators.push(Validators.minLength(fData.minLength as number));\r\n      }\r\n      if (fData.maxLength) {\r\n        validators.push(Validators.maxLength(fData.maxLength as number));\r\n      }\r\n      if (fData.required) {\r\n        validators.push(Validators.required);\r\n      }\r\n      if (fData.regex) {\r\n        validators.push(Validators.pattern(fData.regex));\r\n      }\r\n\r\n      const fieldControl = this.formBuilder.control(\r\n        {\r\n          value: fData.defaultValue ? fData.defaultValue : \"\",\r\n          disabled: !fData.enable,\r\n        },\r\n        validators\r\n      );\r\n\r\n      if (\r\n        this.initFormRuleFieldsNames.find(\r\n          (fieldId) => fieldRule[\"fieldId\"] == fieldId\r\n        )\r\n      ) {\r\n        // If same fieldId found\r\n        let isAnyChangeInFieldRule = false;\r\n        let sectionIndexPosition = -1;\r\n        let fieldIndexPosition = -1;\r\n        this.formSections.forEach((formSection, sectionIndex) => {\r\n          if (formSection.formName == fieldRule[\"displaySection\"]) {\r\n            sectionIndexPosition = sectionIndex;\r\n            formSection.fields.forEach((field, fieldIndex) => {\r\n              if (field.name == fieldRule[\"fieldId\"]) {\r\n                console.log(\":::::already\", field);\r\n                console.log(\":::::new\", fData);\r\n                let fieldToIgnore = [\"defaultDate\", \"maxDate\", \"minDate\"];\r\n                let alreadyPresentFieldCopy = _lodashClone(field);\r\n                let newFieldCopy = _lodashClone(fData);\r\n                fieldToIgnore.forEach((f) => {\r\n                  delete alreadyPresentFieldCopy[f];\r\n                  delete newFieldCopy[f];\r\n                });\r\n                console.log(\":::::alreadyCop\", alreadyPresentFieldCopy);\r\n                console.log(\":::::newCopy\", newFieldCopy);\r\n                console.log(\r\n                  \":::::isSame\",\r\n                  _lodashIsEqual(alreadyPresentFieldCopy, newFieldCopy)\r\n                );\r\n\r\n                if (!_lodashIsEqual(alreadyPresentFieldCopy, newFieldCopy)) {\r\n                  isAnyChangeInFieldRule = true;\r\n                }\r\n\r\n                fieldIndexPosition = fieldIndex;\r\n              }\r\n            });\r\n          }\r\n        });\r\n\r\n        if (isAnyChangeInFieldRule) {\r\n          // If any change in rules found\r\n          if (sectionIndexPosition >= 0 && fieldIndexPosition >= 0) {\r\n            this.formSections[sectionIndexPosition].fields.splice(\r\n              fieldIndexPosition,\r\n              1,\r\n              fData\r\n            );\r\n            this.copyFormSection[sectionIndexPosition].fields.splice(\r\n              fieldIndexPosition,\r\n              1,\r\n              fData\r\n            );\r\n          }\r\n          if (fData.visible) {\r\n            this.formSections[sectionIndexPosition][\"isVisible\"] = true;\r\n            this.copyFormSection[sectionIndexPosition][\"isVisible\"] = true;\r\n          }\r\n          (\r\n            this.customerForm.get(fieldRule[\"displaySection\"]) as FormGroup\r\n          ).removeControl(fieldRule[\"fieldId\"]);\r\n          (\r\n            this.customerForm.get(fieldRule[\"displaySection\"]) as FormGroup\r\n          ).addControl(fieldRule[\"fieldId\"], fieldControl);\r\n        }\r\n      } else {\r\n        // If same fieldId not found\r\n        this.initFormRuleFieldsNames.push(fieldRule[\"fieldId\"]);\r\n        let sectionIndexPosition = -1;\r\n        this.formSections.forEach((formSection, sectionIndex) => {\r\n          if (formSection.formName == fieldRule[\"displaySection\"]) {\r\n            sectionIndexPosition = sectionIndex;\r\n          }\r\n        });\r\n        if (sectionIndexPosition >= 0) {\r\n          // if section is present\r\n          let insertIndex = this.formSections[\r\n            sectionIndexPosition\r\n          ].fields.findIndex(\r\n            (field) =>\r\n              +field.formLableFieldSequence > +fData.formLableFieldSequence\r\n          );\r\n\r\n          if (!(insertIndex >= 0)) {\r\n            insertIndex = this.formSections[sectionIndexPosition].fields.length;\r\n          }\r\n\r\n          this.formSections[sectionIndexPosition].fields.splice(\r\n            insertIndex,\r\n            0,\r\n            fData\r\n          );\r\n          this.copyFormSection[sectionIndexPosition].fields.splice(\r\n            insertIndex,\r\n            0,\r\n            fData\r\n          );\r\n\r\n          if (fData.visible) {\r\n            this.formSections[sectionIndexPosition][\"isVisible\"] = true;\r\n            this.copyFormSection[sectionIndexPosition][\"isVisible\"] = true;\r\n          }\r\n\r\n          (\r\n            this.customerForm.get(fieldRule[\"displaySection\"]) as FormGroup\r\n          ).addControl(fieldRule[\"fieldId\"], fieldControl);\r\n        } else {\r\n          console.log(\":::: NOT FOUND SECTION\", fieldRule[\"displaySection\"]);\r\n          // if section is also not present\r\n          let newFormSection = {\r\n            formName: fieldRule[\"displaySection\"],\r\n            seqOrder: fieldRule[\"displaySectionOrder\"],\r\n            fields: [fData],\r\n            isVisible: fData.visible ? true : false,\r\n          };\r\n          let insertIndex = this.formSections.findIndex(\r\n            (section) => +section.seqOrder > +fData.displaySectionOrder\r\n          );\r\n\r\n          if (!(insertIndex >= 0)) {\r\n            insertIndex = this.formSections.length;\r\n          }\r\n          this.formSections.splice(insertIndex, 0, newFormSection);\r\n          this.copyFormSection.splice(insertIndex, 0, newFormSection);\r\n\r\n          const newSectionGroup = new UntypedFormGroup({});\r\n          newSectionGroup.addControl(fieldRule[\"fieldId\"], fieldControl);\r\n          this.customerForm.addControl(\r\n            fieldRule[\"displaySection\"],\r\n            newSectionGroup\r\n          );\r\n        }\r\n      }\r\n    });\r\n\r\n    console.log(\":::\", this.initFormRuleFieldsNames);\r\n    console.log(\":::\", this.formSections);\r\n  }\r\n  // ! Get Formrule Data APIs and setting Form related Fn ends\r\n\r\n  // ! Get DocSetting Data APIs Fn starts\r\n  getDocSettingJsonData(\r\n    causingCriteriaMapObjForDocSetting: any,\r\n    init: boolean = false\r\n  ) {\r\n    console.log(this.causingCriteriaMapObjForDocSetting);\r\n    console.log(this.causingCriteriaFieldsArrForDocSetting);\r\n\r\n    let causingCriteriaFieldValueArr = [];\r\n    this.causingCriteriaFieldsArrForDocSetting.forEach((docCrt) => {\r\n      causingCriteriaFieldValueArr.push(\r\n        `${docCrt} = ${this.causingCriteriaMapObjForDocSetting[docCrt]}`\r\n      );\r\n    });\r\n    // for (const [crtField, value] of Object.entries(\r\n    //   causingCriteriaMapObjForDocSetting\r\n    // )) {\r\n    //   console.log(`${crtField}: ${value}`);\r\n    //   causingCriteriaFieldValueArr.push(`${crtField} = ${value}`);\r\n    // }\r\n\r\n    let causingCriteriaMap = causingCriteriaFieldValueArr.length\r\n      ? causingCriteriaFieldValueArr.join(\";\")\r\n      : \"NA\";\r\n\r\n    this.customerFormService\r\n      .getDocumentDataByCriteriaMap(causingCriteriaMap)\r\n      .subscribe(\r\n        (res) => {\r\n          console.log(\"DOC DATA\", res);\r\n          if (res[\"DocumentSettingData\"]) {\r\n            this.documentSettingJsonData = res[\"DocumentSettingData\"];\r\n          } else {\r\n            this.documentSettingJsonData = [];\r\n          }\r\n        },\r\n        (err) => {\r\n          this.coreService.showWarningToast(\r\n            \"Some error while fetching doc data, Try again in sometime\"\r\n          );\r\n        }\r\n      );\r\n  }\r\n  // ! Get DocSetting Data APIs Fn ends\r\n\r\n  // ! Customer Edit API & set Form Data related Fn start\r\n  getIndividualCustomer(custId: any) {\r\n    // let res = {\r\n    //   data: {\r\n    //     id: 866,\r\n    //     nameOfTheCorporate: null,\r\n    //     selectTheCustomerFromOrganisation: null,\r\n    //     countryOfEstablishment: null,\r\n    //     dateOfEstablishment: null,\r\n    //     businessPurpose: null,\r\n    //     countryOfOperation: null,\r\n    //     businessActivites: null,\r\n    //     legalStatus: null,\r\n    //     countryOfTrade: null,\r\n    //     licenseNo: null,\r\n    //     licenseExpiryDate: null,\r\n    //     creditToParty: null,\r\n    //     onAccountPaymentMode: null,\r\n    //     contactCountry: \"IN\",\r\n    //     contactMobileNumber: \"7890567890\",\r\n    //     contactPhoneNumber: \"1150678456\",\r\n    //     contactEmailId: \"swetha@gmail.com\",\r\n    //     contactHouseBulidingNumber: \"No: 20/1,\",\r\n    //     contactBlockNumber: \"DD\",\r\n    //     contactStreetNumber: \"KULAM 1st Cross Street\",\r\n    //     contactCity: \"CHENNAI\",\r\n    //     contactPinZipcode: \"600021\",\r\n    //     permanentAddressSameAsAbove: true,\r\n    //     permanentCountry: \"IN\",\r\n    //     permanentHouseBuildingNumber: \"No: 20/1,\",\r\n    //     permanentBlockNumber: \"DD\",\r\n    //     permanentStreetNumber: \"KULAM 1st Cross Street\",\r\n    //     permanentCity: \"CHENNAI\",\r\n    //     permanentPinZipcode: \"600021\",\r\n    //     status: \"Active\",\r\n    //     beneficiaryCount: 0,\r\n    //     createdBy: \"vidya\",\r\n    //     updatedBy: \"vidya\",\r\n    //     customerType: \"Individual\",\r\n    //     firstNamePersonalDetails: \"PRIYA\",\r\n    //     middleNamePersonalDetails: \"VASHANTHI\",\r\n    //     lastNamePersonalDetails: \"KK\",\r\n    //     genderPersonalDetails: \"Female\",\r\n    //     dateOfBirthPersonalDetails: null,\r\n    //     countryOfBirthPersonalDetails: null,\r\n    //     nationalityPersonalDetails: null,\r\n    //     customerGroupPersonalDetails: null,\r\n    //     politicallyExposedPersonPersonalDetails: \"No\",\r\n    //     creditToPartyPersonalDetails: false,\r\n    //     onAccountPaymentModePersonalDetails: false,\r\n    //     employerNameEmpDetails: \"SARA\",\r\n    //     professionEmpDetails: \"Driver\",\r\n    //     salaryDateEmpDetails: \"6\",\r\n    //     monthlySalaryEmpDetails: \"100\",\r\n    //     visaStatusEmpDetails: \"Work Permit\",\r\n    //     fullName: \"PRIYA VASHANTHI KK\",\r\n    //     representativeIdCopyUploadName: null,\r\n    //     representativeAuthorizationLetterName: null,\r\n    //     uploadDocuments: [\r\n    //       {\r\n    //         id: 1153,\r\n    //         idNumber: \"788655567899\",\r\n    //         documentName: \"Aadhar\",\r\n    //         idIssueDate: null,\r\n    //         idExpiryDate: null,\r\n    //         idIssueAuthority: \"AUTHORITY OF INDIA\",\r\n    //         idIssueCountry: \"IN\",\r\n    //         imageByPassed: false,\r\n    //         hereByConfirm: true,\r\n    //         uploadFrontSideFile: null,\r\n    //         uploadBackSideFile: null,\r\n    //         uploadFrontSide: null,\r\n    //         uploadBackSide: null,\r\n    //         uploadFrontSideOriginal: null,\r\n    //         uploadBackSideOriginal: null,\r\n    //         customerId: 866,\r\n    //         status: \"Active\",\r\n    //         customerType: \"Individual\",\r\n    //         operation: \"add\",\r\n    //         createdBy: \"vidya\",\r\n    //         createdDateTime: null,\r\n    //         updatedBy: null,\r\n    //         updatedDateTime: null,\r\n    //       },\r\n    //       {\r\n    //         id: 1151,\r\n    //         idNumber: \"1106784567\",\r\n    //         documentName: \"PAN\",\r\n    //         idIssueDate: null,\r\n    //         idExpiryDate: null,\r\n    //         idIssueAuthority: \"AUTHORITY OF INDIA\",\r\n    //         idIssueCountry: \"IN\",\r\n    //         imageByPassed: false,\r\n    //         hereByConfirm: true,\r\n    //         uploadFrontSideFile: null,\r\n    //         uploadBackSideFile: null,\r\n    //         uploadFrontSide: null,\r\n    //         uploadBackSide: null,\r\n    //         uploadFrontSideOriginal: null,\r\n    //         uploadBackSideOriginal: null,\r\n    //         customerId: 866,\r\n    //         status: \"Active\",\r\n    //         customerType: \"Individual\",\r\n    //         operation: \"add\",\r\n    //         createdBy: \"vidya\",\r\n    //         createdDateTime: null,\r\n    //         updatedBy: null,\r\n    //         updatedDateTime: null,\r\n    //       },\r\n    //     ],\r\n    //     relatedPartiesDetails: [\r\n    //       {\r\n    //         partyType: \"B\",\r\n    //         partyCustomerCode: \"847\",\r\n    //         status: \"A\",\r\n    //         isNormalCustomer: true,\r\n    //         fullName: \"MURALI KRISHNA S\",\r\n    //         mobileNumber: \"8890756789\",\r\n    //       },\r\n    //       {\r\n    //         id: 21,\r\n    //         partyType: \"B\",\r\n    //         partyCustomerCode: \"866\",\r\n    //         customerCode: 1066,\r\n    //         status: \"A\",\r\n    //         isNormalCustomer: true,\r\n    //         mobileNumber: \"8712885183\",\r\n    //         fullName: \"sue k rajuu\",\r\n    //       },\r\n    //     ],\r\n    //   },\r\n    //   status: \"200\",\r\n    // };\r\n    this.customerFormService\r\n      .getCustomerFormDataForEdit(custId, this.userId, this.custType)\r\n      .subscribe(\r\n        (res) => {\r\n          this.coreService.removeLoadingScreen();\r\n          if (res[\"status\"] == \"200\") {\r\n            // setTimeout(() => {\r\n            this.setCustomerFormData(res[\"data\"]);\r\n            this.onActiveData = res[\"data\"];\r\n            console.log(\"data\", res[\"data\"]);\r\n            console.log(\"data1\", this.onActiveData);\r\n            if (res[\"data\"][\"status\"] == \"Inactive\") {\r\n              this.disableFormControls();\r\n              this.deactivated = true;\r\n            }\r\n            // }, 2000);\r\n          }\r\n        },\r\n        (err) => {\r\n          this.coreService.showWarningToast(\r\n            \"Some error while fetching data, Try again in sometime\"\r\n          );\r\n          this.coreService.removeLoadingScreen();\r\n        }\r\n      );\r\n  }\r\n  setCustomerFormData(data: any) {\r\n    this.CustomerData = data;\r\n    this.formSections.forEach((section) => {\r\n      section.fields.forEach((field) => {\r\n        if (field[\"fieldName\"] in data) {\r\n          if (\r\n            field.fieldType == \"dropdownSingle\" ||\r\n            field.fieldType == \"dropdownMulti\"\r\n          ) {\r\n            let filterData = this.masterData[field[\"fieldName\"]]?.filter(\r\n              (msField) => {\r\n                return msField.code == data[field[\"fieldName\"]];\r\n              }\r\n            );\r\n            let value = filterData?.length\r\n              ? {\r\n                  code: filterData[0].code,\r\n                  codeName: filterData[0].codeName,\r\n                }\r\n              : \"\";\r\n            this.customerForm\r\n              .get(section.formName)\r\n              .get(field.fieldName)\r\n              .patchValue(value);\r\n          } else if (field.fieldType == \"checkbox\") {\r\n            let value = data[field[\"fieldName\"]] == true ? true : false;\r\n            this.customerForm\r\n              .get(section.formName)\r\n              .get(field.fieldName)\r\n              .patchValue(value);\r\n          } else if (field.fieldType == \"date\") {\r\n            let dateFormatted = data[field[\"fieldName\"]]\r\n              ? !isNaN(Date.parse(data[field[\"fieldName\"]]))\r\n                ? new Date(data[field[\"fieldName\"]]).toLocaleDateString(\"en-GB\")\r\n                : new Date(\r\n                    data[field[\"fieldName\"]].split(\"/\").reverse().join(\"-\")\r\n                  ).toLocaleDateString(\"en-GB\")\r\n              : \"\";\r\n\r\n            this.customerForm\r\n              .get(section.formName)\r\n              .get(field.fieldName)\r\n              .patchValue(dateFormatted);\r\n          } else {\r\n            this.customerForm\r\n              .get(section.formName)\r\n              .get(field.fieldName)\r\n              .patchValue(data[field[\"fieldName\"]]);\r\n          }\r\n        }\r\n      });\r\n    });\r\n\r\n    // * setting docs in Doc Setting Component\r\n    this.customerUploadedDocumentsData = data[\"uploadDocuments\"];\r\n\r\n    // * setting relatedParty details\r\n    this.addedPartyDetailsTableData = data[\"relatedParties\"] || [];\r\n    console.log(\":::isNormalCust\", this.isNormalCustomer);\r\n    console.log(\":::isPartyTypeCode\", this.relatedPartyTypeCode);\r\n  }\r\n  // ! Customer Edit API & set Form Data related Fn ends\r\n\r\n  // ! Customer Save/Update related start\r\n  onSubmit(): void {\r\n    this.submitted = true;\r\n    // ! Checking validity for Doc Component\r\n    if (!this.errorFromDocumentComponent) {\r\n      this.saveIndCustomer();\r\n    } else {\r\n      this.scroller.scrollToAnchor(\"document-collection-form\");\r\n      this.coreService.showWarningToast(this.errorFromDocumentComponent);\r\n      return;\r\n    }\r\n  }\r\n\r\n  saveIndCustomer() {\r\n    let multiDetailsSectionNames = Object.keys(this.multiDetailsSectionData);\r\n    let multiDetailsSectionCodes = Object.values(this.multiDetailsSectionData);\r\n\r\n    let validForm = true;\r\n\r\n    this.formSections.forEach((section) => {\r\n      if (\r\n        !multiDetailsSectionNames.includes(section.formName) &&\r\n        this.customerForm.get(section.formName).invalid\r\n      ) {\r\n        validForm = false;\r\n      }\r\n    });\r\n    if (!validForm) {\r\n      this.coreService.showWarningToast(\r\n        \"Customer data form is invalid, please check\"\r\n      );\r\n      return;\r\n    }\r\n\r\n    //!  Beneficial owner 100% validation starts\r\n    // let beneValidPass = true;\r\n    // this.formSections.forEach((section) => {\r\n    //   if (\r\n    //     section.formName == \"Beneficial Owner Details\" &&\r\n    //     multiDetailsSectionNames.includes(\"Beneficial Owner Details\")\r\n    //   ) {\r\n    //     let benePercent = 0;\r\n    //     this.multiDetailsSectionData[\"Beneficial Owner Details\"].forEach(\r\n    //       (beneData) => {\r\n    //         if (\r\n    //           beneData.percentage[\"valueToSend\"] &&\r\n    //           !Number.isNaN(Number(beneData.percentage[\"valueToSend\"]))\r\n    //         ) {\r\n    //           benePercent += +beneData.percentage[\"valueToSend\"];\r\n    //         } else {\r\n    //           benePercent += 0;\r\n    //         }\r\n    //       }\r\n    //     );\r\n    //     console.log(\"::benCheck%Total\", benePercent);\r\n    //     if (benePercent < 100) {\r\n    //       beneValidPass = false;\r\n    //       this.coreService.showWarningToast(\r\n    //         \"Add all the beneficial owner details, total beneficial owner % value should equal to 100 \"\r\n    //       );\r\n    //       return;\r\n    //     } else if (benePercent > 100) {\r\n    //       beneValidPass = false;\r\n    //       this.coreService.showWarningToast(\r\n    //         \"Total beneficial owner % value should equal to 100\"\r\n    //       );\r\n    //       return;\r\n    //     }\r\n    //   }\r\n    // });\r\n\r\n    // if (!beneValidPass) {\r\n    //   return;\r\n    // }\r\n    //!  Beneficial owner 100% validation ENDS\r\n\r\n    this.isConfirmedCustomer = this.checked ? \"true\" : \"false\";\r\n\r\n    // this.coreService.displayLoadingScreen();\r\n\r\n    let data = this.customerForm.getRawValue();\r\n\r\n    console.log(data);\r\n\r\n    let payloadData = {};\r\n\r\n    for (let key in data) {\r\n      if (!multiDetailsSectionNames.includes(key)) {\r\n        payloadData = { ...payloadData, ...data[key] };\r\n      }\r\n    }\r\n\r\n    let formData = new FormData();\r\n    // ! Payload formatting for other than uploadDocuments & relatedParties sections STARTS\r\n    this.formSections.forEach((section) => {\r\n      if (!multiDetailsSectionNames.includes(section.formName)) {\r\n        section.fields.forEach((field) => {\r\n          if (\r\n            field.fieldType == \"dropdownSingle\" ||\r\n            field.fieldType == \"dropdownMulti\"\r\n          ) {\r\n            let value = payloadData[field[\"fieldName\"]]\r\n              ? payloadData[field[\"fieldName\"]][\"code\"]\r\n              : \"\";\r\n            payloadData[field[\"fieldName\"]] = value;\r\n          } else if (field.fieldType == \"checkbox\") {\r\n            let value = payloadData[field[\"fieldName\"]] == true ? true : false;\r\n            payloadData[field[\"fieldName\"]] = value;\r\n          } else if (field.fieldType == \"date\") {\r\n            let dateFormatted = payloadData[field[\"fieldName\"]]\r\n              ? !isNaN(Date.parse(payloadData[field[\"fieldName\"]]))\r\n                ? new Date(payloadData[field[\"fieldName\"]]).toLocaleDateString(\r\n                    \"en-GB\"\r\n                  )\r\n                : new Date(\r\n                    payloadData[field[\"fieldName\"]]\r\n                      .split(\"/\")\r\n                      .reverse()\r\n                      .join(\"-\")\r\n                  ).toLocaleDateString(\"en-GB\")\r\n              : \"\";\r\n            payloadData[field[\"fieldName\"]] = dateFormatted;\r\n          } else {\r\n            payloadData[field[\"fieldName\"]] =\r\n              payloadData[field[\"fieldName\"]] == \"null\" ||\r\n              payloadData[field[\"fieldName\"]] == null\r\n                ? \"\"\r\n                : payloadData[field[\"fieldName\"]];\r\n          }\r\n        });\r\n      }\r\n    });\r\n    // ! Payload formatting for other than uploadDocuments & relatedParties sections ENDS\r\n\r\n    // ! Payload formatting for uploadDocuments & relatedParties sections STARTS\r\n\r\n    // % Payload formatting for multiSections OLD FLOW STARTS\r\n    // for (let key in this.multiDetailsSectionData) {\r\n    //   let dtoName =\r\n    //     key\r\n    //       .split(\" \")\r\n    //       .map((word, index) => {\r\n    //         return index === 0\r\n    //           ? word.toLowerCase()\r\n    //           : word.charAt(0).toUpperCase() + word.slice(1).toLowerCase();\r\n    //       })\r\n    //       .join(\"\") + \"Dto\";\r\n    //   if (this.multiDetailsSectionData[key].length) {\r\n    //     this.multiDetailsSectionData[key].forEach((details, index) => {\r\n    //       for (let fieldId in details) {\r\n    //         formData.append(\r\n    //           `${dtoName}[${index}].${fieldId}`,\r\n    //           details[fieldId][\"valueToSend\"]\r\n    //         );\r\n    //       }\r\n    //     });\r\n    //   }\r\n    // }\r\n    // % Payload formatting for multiSections OLD FLOW ENDS\r\n\r\n    // * Payload formatting for relatedParties sections STARTS\r\n    let paramNeedToSend = [\r\n      \"partyType\",\r\n      \"partyCustomerCode\",\r\n      \"status\",\r\n      \"isNormalCustomer\",\r\n    ];\r\n\r\n    multiDetailsSectionCodes.forEach((sectionCode) => {\r\n      if (this.addedPartyDetailsTableData.length) {\r\n        this.addedPartyDetailsTableData.forEach((details, index) => {\r\n          for (let fieldId in details) {\r\n            if (paramNeedToSend.includes(fieldId)) {\r\n              formData.append(\r\n                `${sectionCode}[${index}].${fieldId}`,\r\n                details[fieldId]\r\n              );\r\n            }\r\n          }\r\n        });\r\n      }\r\n    });\r\n    // * Payload formatting for relatedParties sections ENDS\r\n\r\n    //! Payload formatting for uploadDocuments & relatedParties sections ENDS\r\n\r\n    payloadData[\"languageCode\"] = \"EN\";\r\n\r\n    //! EDIT CASE Payload formatting STARTS\r\n    if (this.mode == \"edit\") {\r\n      payloadData[\"createdBy\"] = this.CustomerData[\"createdBy\"]\r\n        ? this.CustomerData[\"createdBy\"]\r\n        : \"\";\r\n      payloadData[\"createdDateTime\"] = this.CustomerData[\"createdDateTime\"]\r\n        ? this.CustomerData[\"createdDateTime\"]\r\n        : \"\";\r\n      payloadData[\"updatedBy\"] = this.CustomerData[\"updatedBy\"]\r\n        ? this.CustomerData[\"updatedBy\"]\r\n        : \"\";\r\n      payloadData[\"updatedDateTime\"] = this.CustomerData[\"updatedDateTime\"]\r\n        ? this.CustomerData[\"updatedDateTime\"]\r\n        : \"\";\r\n      payloadData[\"id\"] = this.custId;\r\n\r\n      for (let key in payloadData) {\r\n        formData.append(key, payloadData[key]);\r\n      }\r\n\r\n      this.updateIndividualCustomer(formData, this.custId);\r\n    }\r\n\r\n    //! EDIT CASE Payload formatting ENDS\r\n\r\n    //! ADD CASE Payload formatting STARTS\r\n    else {\r\n      for (let key in payloadData) {\r\n        formData.append(key, payloadData[key]);\r\n      }\r\n\r\n      this.saveIndividualCustomer(formData);\r\n    }\r\n\r\n    //! ADD CASE Payload formatting ENDS\r\n    for (var pair of formData.entries()) {\r\n      console.log(pair[0] + \", \" + pair[1]);\r\n    }\r\n    console.log(\":::originalCustomerType\", this.originalCustomerType);\r\n    console.log(\":::originalCustomerCode\", this.originalCustomerCode);\r\n\r\n    console.log(JSON.stringify(payloadData, null, 2));\r\n  }\r\n\r\n  saveIndividualCustomer(payload: any) {\r\n    this.customerFormService\r\n      .saveCustomerFormData(\r\n        payload,\r\n        this.userId,\r\n        this.custType,\r\n        this.isConfirmedCustomer,\r\n        this.duplicateCheckFields,\r\n        this.isNormalCustomer ? \"C\" : this.relatedPartyTypeCode\r\n      )\r\n      .subscribe(\r\n        (res) => {\r\n          if (res[\"status\"] == \"200\") {\r\n            if (res[\"error\"]) {\r\n              // this.coreService.showWarningToast(res[\"error\"]);\r\n              this.coreService.setHeaderStickyStyle(false);\r\n              this.coreService.setSidebarBtnFixedStyle(false);\r\n              this.confirmationService.confirm({\r\n                message:\r\n                  `<img src=\"../../../assets/warning.svg\"><br/><br/>` +\r\n                  `${res[\"error\"]};<br/>` +\r\n                  `click Yes to view details`,\r\n                key: \"resetINDWarning\",\r\n                accept: () => {\r\n                  this.customerDataForView = [];\r\n                  this.clickforview = true;\r\n                  this.viewCustomerTableCols =\r\n                    this.custType == \"IND\"\r\n                      ? this.viewIndCustomerTableCols\r\n                      : this.viewCorCustomerTableCols;\r\n\r\n                  this.customerDataForView.push(res[\"Duplicate Data\"]);\r\n                },\r\n                reject: () => {\r\n                  this.setHeaderSidebarBtn();\r\n                  this.confirmationService.close;\r\n                },\r\n              });\r\n              this.coreService.removeLoadingScreen();\r\n            } else {\r\n              if (res[\"msg\"]) {\r\n                this.coreService.showSuccessToast(res[\"msg\"]);\r\n              } else {\r\n                this.coreService.showSuccessToast(\r\n                  \"Profile data successfully saved\"\r\n                );\r\n              }\r\n              // ? assuming getting customerCode in response\r\n              // ! if on sub-page related party start\r\n              if (this.relatedPartyTypeCode != \"C\") {\r\n                // % redirecting back to main page\r\n                this.showFormForRelatedParty.emit(\"C\");\r\n                this.existingCustomerMissingDocCaseId.emit(null);\r\n                this.onEditFromPartyTable.emit(false);\r\n\r\n                // % sending customerCode back to main page\r\n                console.log(\";:: sent from form\", res[\"customerCode\"]);\r\n                this.onNewlyAddedCustomerAsPartyDetails.emit(\r\n                  res[\"customerCode\"]\r\n                );\r\n                return;\r\n              }\r\n              // ! if on sub-page related party ends\r\n              else {\r\n                this.router.navigate([\"navbar\", \"customer-profile\"]);\r\n              }\r\n              // this.onReset()\r\n            }\r\n          } else {\r\n            this.coreService.removeLoadingScreen();\r\n          }\r\n        },\r\n        (err) => {\r\n          this.coreService.showWarningToast(\r\n            \"Some error while saving data, Try again in sometime\"\r\n          );\r\n          this.coreService.removeLoadingScreen();\r\n        }\r\n      );\r\n  }\r\n\r\n  updateIndividualCustomer(payload: any, custId: any) {\r\n    this.customerFormService\r\n      .updateCustomerFormData(\r\n        payload,\r\n        this.userId,\r\n        this.custType,\r\n        this.isConfirmedCustomer,\r\n        this.duplicateCheckFields,\r\n        this.isNormalCustomer ? \"C\" : this.relatedPartyTypeCode\r\n      )\r\n      .subscribe(\r\n        (res) => {\r\n          if (res[\"status\"] == \"200\") {\r\n            if (res[\"error\"]) {\r\n              // this.coreService.showWarningToast(res[\"error\"]);\r\n              this.coreService.setHeaderStickyStyle(false);\r\n              this.coreService.setSidebarBtnFixedStyle(false);\r\n              this.confirmationService.confirm({\r\n                message:\r\n                  `<img src=\"../../../assets/warning.svg\"><br/><br/>` +\r\n                  `${res[\"error\"]};<br/>` +\r\n                  `click Yes to view details`,\r\n                key: \"resetINDWarning\",\r\n                accept: () => {\r\n                  this.customerDataForView = [];\r\n                  this.clickforview = true;\r\n                  this.customerDataForView.push(res[\"Duplicate Data\"]);\r\n                },\r\n                reject: () => {\r\n                  this.confirmationService.close;\r\n\r\n                  this.setHeaderSidebarBtn();\r\n                },\r\n              });\r\n              this.coreService.removeLoadingScreen();\r\n            } else {\r\n              if (res[\"msg\"]) {\r\n                this.coreService.showSuccessToast(res[\"msg\"]);\r\n              } else {\r\n                this.coreService.showSuccessToast(\r\n                  \"Profile data updated successfully\"\r\n                );\r\n              }\r\n\r\n              // ? getting customerCode in function call params\r\n              // ! if on sub-page related party start\r\n              if (this.relatedPartyTypeCode != \"C\") {\r\n                if (this.editFromPartyTable) {\r\n                  // RELOAD go get Customer with updated related Party\r\n                  this.router\r\n                    .navigateByUrl(\"/\", { skipLocationChange: true })\r\n                    .then(() => {\r\n                      this.router.navigate([\r\n                        \"navbar\",\r\n                        \"customer-profile\",\r\n                        \"addnewcustomer\",\r\n                        this.originalCustomerType,\r\n                        this.originalCustomerCode,\r\n                        \"edit\",\r\n                      ]);\r\n                    });\r\n                } else {\r\n                  // % redirecting back to main page\r\n                  this.showFormForRelatedParty.emit(\"C\");\r\n                  this.existingCustomerMissingDocCaseId.emit(null);\r\n                  this.onEditFromPartyTable.emit(false);\r\n\r\n                  // % sending customerCode back to main page\r\n                  console.log(\";:: sent from form\", custId);\r\n                  this.onNewlyAddedCustomerAsPartyDetails.emit(custId);\r\n                  return;\r\n                }\r\n              }\r\n              // ! if on sub-page related party ends\r\n              else {\r\n                this.router.navigate([\"navbar\", \"customer-profile\"]);\r\n              }\r\n            }\r\n          } else {\r\n            this.coreService.removeLoadingScreen();\r\n          }\r\n        },\r\n        (err) => {\r\n          this.coreService.showWarningToast(\r\n            \"Some error while saving data, Try again in sometime\"\r\n          );\r\n          this.coreService.removeLoadingScreen();\r\n        }\r\n      );\r\n  }\r\n  // ! Customer Save/Update related ends\r\n\r\n  // ! Customer Save/Update Duplicate Error related starts\r\n  onCustomerSubmit() {\r\n    this.coreService.setHeaderStickyStyle(true);\r\n    this.coreService.setSidebarBtnFixedStyle(true);\r\n    this.onSubmit();\r\n  }\r\n\r\n  onCustomerReject() {\r\n    this.coreService.setHeaderStickyStyle(true);\r\n    this.coreService.setSidebarBtnFixedStyle(true);\r\n    this.router.navigate([\"navbar\", \"customer-profile\"]);\r\n  }\r\n\r\n  closeDialog() {\r\n    this.setHeaderSidebarBtn();\r\n    this.checked = false;\r\n  }\r\n  // ! Customer Save/Update Duplicate Error related starts\r\n\r\n  // ! Customer Status related start\r\n  onActive(data: any) {\r\n    this.confirmStatus();\r\n  }\r\n  confirmStatus() {\r\n    let type = \"\";\r\n    let reqStatus = \"\";\r\n    if (this.deactivated == true) {\r\n      reqStatus = \"Active\";\r\n      type = \"activate\";\r\n    } else {\r\n      reqStatus = \"Inactive\";\r\n      type = \"deactivate\";\r\n    }\r\n    this.coreService.setSidebarBtnFixedStyle(false);\r\n    this.coreService.setHeaderStickyStyle(false);\r\n    let completeMsg = \"\";\r\n    completeMsg =\r\n      `<img src=\"../../../assets/warning.svg\"><br/><br/>` +\r\n      `Do you wish to ` +\r\n      type +\r\n      ` the Customer Record: ${this.onActiveData[\"id\"]}?`;\r\n\r\n    this.confirmationService.confirm({\r\n      message: completeMsg,\r\n      key: \"activeDeactiveStatus\",\r\n      accept: () => {\r\n        this.updateStatus(\r\n          reqStatus,\r\n          this.onActiveData,\r\n          this.onActiveData[\"customerType\"]\r\n        );\r\n        this.setHeaderSidebarBtn();\r\n      },\r\n      reject: () => {\r\n        this.confirmationService.close;\r\n        this.setHeaderSidebarBtn();\r\n      },\r\n    });\r\n  }\r\n  updateStatus(reqStatus: any, data: any, cusType: any) {\r\n    this.coreService.displayLoadingScreen();\r\n    this.updateCustomerStatus(data[\"id\"], reqStatus, cusType);\r\n  }\r\n\r\n  updateCustomerStatus(cusId: any, status: any, cusType: any) {\r\n    let service: Observable<any>;\r\n    console.log(this.userId, status, cusId.toString(), cusType);\r\n    service = this.customerFormService.updateCustomerCorporateStatus(\r\n      this.userId,\r\n      status,\r\n      cusId.toString(),\r\n      cusType\r\n    );\r\n    service.subscribe(\r\n      (res) => {\r\n        if (res[\"status\"] == \"200\") {\r\n          this.coreService.showSuccessToast(res[\"data\"]);\r\n          this.coreService.removeLoadingScreen();\r\n          this.deactivated = !this.deactivated;\r\n          if (this.deactivated) {\r\n            this.disableFormControls();\r\n          } else {\r\n            this.enableFormControls();\r\n          }\r\n        } else {\r\n          this.coreService.removeLoadingScreen();\r\n          this.coreService.showWarningToast(res[\"msg\"]);\r\n        }\r\n      },\r\n      (err) => {\r\n        console.log(err);\r\n        this.coreService.removeLoadingScreen();\r\n      }\r\n    );\r\n  }\r\n  // ! Customer Status related ends\r\n\r\n  searchEmployer(e) {\r\n    this.customerFormService\r\n      .getEmployeeDetailsByLetters(this.employerType, e.query)\r\n      .subscribe((res) => {\r\n        this.filteredEmployer = [];\r\n        res[\"data\"]?.forEach((ele) => {\r\n          this.filteredEmployer.push(ele);\r\n        });\r\n      });\r\n  }\r\n\r\n  setHeaderSidebarBtn() {\r\n    this.coreService.displayLoadingScreen();\r\n    setTimeout(() => {\r\n      this.coreService.setHeaderStickyStyle(true);\r\n      this.coreService.setSidebarBtnFixedStyle(true);\r\n    }, 500);\r\n    setTimeout(() => {\r\n      this.coreService.removeLoadingScreen();\r\n    }, 1000);\r\n  }\r\n\r\n  onReset(): void {\r\n    this.coreService.setHeaderStickyStyle(false);\r\n    this.coreService.setSidebarBtnFixedStyle(false);\r\n    this.confirmationService.confirm({\r\n      message:\r\n        `<img src=\"../../../assets/warning.svg\"><br/><br/>` +\r\n        \"Resetting will result in the removal of all data. Are you sure you want to proceed ?\",\r\n      key: \"resetINDWarning\",\r\n      accept: () => {\r\n        this.submitted = false;\r\n        if (this.customerForm) {\r\n          this.customerForm.reset();\r\n        }\r\n        this.setHeaderSidebarBtn();\r\n      },\r\n      reject: () => {\r\n        this.confirmationService.close;\r\n        this.setHeaderSidebarBtn();\r\n      },\r\n    });\r\n  }\r\n\r\n  onClickBack() {\r\n    this.showFormForRelatedParty.emit(\"C\");\r\n    this.existingCustomerMissingDocCaseId.emit(null);\r\n    this.onEditFromPartyTable.emit(false);\r\n\r\n    // set BreadCrumbs\r\n    this.coreService\r\n      .getBreadCrumbMenu()\r\n      .pipe(take(1))\r\n      .subscribe((currBCrumbs) => {\r\n        console.log(\":::currB\", currBCrumbs);\r\n        currBCrumbs.pop();\r\n        this.coreService.setBreadCrumbMenuFromInternalPages(currBCrumbs);\r\n      });\r\n  }\r\n}\r\n","<form\r\n  *ngIf=\"apiData && objectKeys(apiData)['length']\"\r\n  class=\"customer-form\"\r\n  [formGroup]=\"customerForm\"\r\n>\r\n  <ng-container *ngFor=\"let section of formSections\">\r\n    <p-panel\r\n      [header]=\"\r\n        objectKeys(multiDetailsSectionData).includes(section['formName'])\r\n          ? 'Related Parties Details'\r\n          : section['formName']\r\n      \"\r\n      [toggleable]=\"true\"\r\n      [formGroup]=\"customerForm.controls[section['formName']]\"\r\n      *ngIf=\"isSectionVisible(section)\"\r\n    >\r\n      <!-- *** MULTISECTION TABLE WITH FORMRULES FIELDS START *** -->\r\n      <!-- <div\r\n        *ngIf=\"\r\n          objectKeys(multiDetailsSectionData).includes(section['formName']) &&\r\n          multiDetailsSectionData[section['formName']].length\r\n        \"\r\n        class=\"details-table\"\r\n      >\r\n        <p-table\r\n          [value]=\"multiDetailsSectionData[section['formName']]\"\r\n          [rowHover]=\"true\"\r\n        >\r\n          <ng-template pTemplate=\"header\">\r\n            <tr>\r\n              <th\r\n                *ngFor=\"\r\n                  let fieldLabel of getFieldLabels(\r\n                    multiDetailsSectionData[section['formName']][0]\r\n                  )\r\n                \"\r\n              >\r\n                {{ fieldLabel }}\r\n              </th>\r\n            </tr></ng-template\r\n          >\r\n          <ng-template\r\n            pTemplate=\"body\"\r\n            let-sectionDetail\r\n            let-rowIndex=\"rowIndex\"\r\n            ><tr\r\n              [style.cursor]=\"'pointer'\"\r\n              (click)=\"editSectionDetails(sectionDetail, section, rowIndex)\"\r\n              pTooltip=\"Edit Details\"\r\n              tooltipPosition=\"top\"\r\n            >\r\n              <td\r\n                *ngFor=\"\r\n                  let fieldKey of objectKeys(\r\n                    multiDetailsSectionData[section['formName']][0]\r\n                  )\r\n                \"\r\n              >\r\n                {{ sectionDetail[fieldKey][\"valueToDisplay\"] }}\r\n              </td>\r\n            </tr></ng-template\r\n          >\r\n        </p-table>\r\n        \r\n      </div> -->\r\n      <!-- *** MULTISECTION TABLE WITH FORMRULES FIELDS ENDS *** -->\r\n      <!-- NEW FLOW START -->\r\n\r\n      <div\r\n        class=\"related-party-section-div\"\r\n        *ngIf=\"\r\n          objectKeys(multiDetailsSectionData).includes(section['formName'])\r\n        \"\r\n      >\r\n        <div class=\"related-party-details-table\">\r\n          <p-table [value]=\"addedPartyDetailsTableData\" [rowHover]=\"true\">\r\n            <ng-template pTemplate=\"header\">\r\n              <tr>\r\n                <th>Party Type</th>\r\n                <th>Customer Code</th>\r\n                <th>Customer Name</th>\r\n                <th>Mobile Number</th>\r\n                <th>Documents</th>\r\n                <!-- <th>ID Type</th>\r\n                <th>ID Number</th> -->\r\n                <th style=\"text-align: center\">Party Status</th>\r\n              </tr>\r\n            </ng-template>\r\n            <ng-template pTemplate=\"body\" let-partyDetail>\r\n              <tr>\r\n                <td>\r\n                  {{ getPartyNameFromMasterByCode(partyDetail[\"partyType\"]) }}\r\n                </td>\r\n\r\n                <td>\r\n                  <a\r\n                    *ngIf=\"\r\n                      relatedPartyTypeCode == 'C' && !isNormalCustomer;\r\n                      else for_other_cases\r\n                    \"\r\n                    [ngStyle]=\"{\r\n                      position: 'relative',\r\n                      top: '0px',\r\n                      fontSize: '11px',\r\n                      left: '18%',\r\n                      color: 'var(--primary-color)',\r\n                      textDecoration: 'underline',\r\n                      cursor: 'pointer'\r\n                    }\"\r\n                    (click)=\"\r\n                      checkCustomerStateForEdit(\r\n                        partyDetail['partyCustomerCode'],\r\n                        partyDetail['partyType'],\r\n                        partyDetail['isNormalCustomer']\r\n                      )\r\n                    \"\r\n                  >\r\n                    {{ partyDetail[\"partyCustomerCode\"] }}</a\r\n                  >\r\n\r\n                  <ng-template #for_other_cases>\r\n                    {{ partyDetail[\"partyCustomerCode\"] }}</ng-template\r\n                  >\r\n                </td>\r\n                <td>{{ partyDetail[\"fullName\"] }}</td>\r\n                <td>{{ partyDetail[\"mobileNumber\"] }}</td>\r\n                <td>\r\n                  <span\r\n                    class=\"view-link\"\r\n                    style=\"pointer-events: none; cursor: not-allowed\"\r\n                    >View Documents</span\r\n                  >\r\n                </td>\r\n                <!-- <td>Passport</td>\r\n                <td>1221212121</td> -->\r\n                <td style=\"border: none; text-align: center\">\r\n                  <label class=\"switch\" style=\"border: none\">\r\n                    <input\r\n                      #statusInp\r\n                      [value]=\"partyDetail['status']\"\r\n                      type=\"checkbox\"\r\n                      [checked]=\"\r\n                        partyDetail['status'] == 'Active' ||\r\n                        partyDetail['status'] == 'A'\r\n                          ? true\r\n                          : false\r\n                      \"\r\n                      [style.width]=\"'100%'\"\r\n                      (click)=\"\r\n                        onRelatedPartyStatusChange(partyDetail['status'])\r\n                      \"\r\n                    />\r\n                    <span class=\"slider round\"></span>\r\n                  </label>\r\n                </td>\r\n              </tr>\r\n            </ng-template>\r\n            <ng-template pTemplate=\"emptymessage\">\r\n              <tr>\r\n                <td [attr.colspan]=\"7\">No Party Added Yet.</td>\r\n              </tr>\r\n            </ng-template>\r\n          </p-table>\r\n        </div>\r\n\r\n        <div\r\n          *ngIf=\"relatedPartyTypeCode == 'C'\"\r\n          class=\"add-party-options flex w-full mt-5 mb-3 align-items-center\"\r\n        >\r\n          <span class=\"select-from-table-text\">\r\n            Search Existing Customer & add it as Party OR\r\n          </span>\r\n\r\n          <div class=\"inline-block add-party-link ml-2\">\r\n            <span\r\n              [pTooltip]=\"selectedPartyType ? '' : 'First Choose Party Type'\"\r\n              [style.cursor]=\"selectedPartyType ? 'pointer' : 'not-allowed'\"\r\n              (click)=\"\r\n                selectedPartyType &&\r\n                  addNewCustomerAsParty(selectedPartyType['code'])\r\n              \"\r\n              >Add New Customer as Party</span\r\n            >\r\n          </div>\r\n        </div>\r\n\r\n        <div\r\n          *ngIf=\"relatedPartyTypeCode == 'C'\"\r\n          class=\"customer-search-component\"\r\n        >\r\n          <div class=\"grid w-full\">\r\n            <div class=\"col-2 choose-party-type\">\r\n              <div>\r\n                <!-- <label>Choose Party Type</label><span class=\"required\">*</span> -->\r\n                <p-dropdown\r\n                  class=\"block\"\r\n                  [options]=\"\r\n                    section['fields'][0]['setOptions'] &&\r\n                    section['fields'][0]['setOptions'].length\r\n                      ? section['fields'][0]['setOptions']\r\n                      : masterData[section['fields'][0]['apiKey']]\r\n                  \"\r\n                  placeholder=\"Choose Party Type\"\r\n                  optionLabel=\"codeName\"\r\n                  [appendTo]=\"'body'\"\r\n                  [filter]=\"true\"\r\n                  filterBy=\"codeName\"\r\n                  [virtualScroll]=\"true\"\r\n                  [virtualScrollItemSize]=\"35\"\r\n                  panelStyleClass=\"formFields-dropdown\"\r\n                  [(ngModel)]=\"selectedPartyType\"\r\n                  [ngModelOptions]=\"{ standalone: true }\"\r\n                  (ngModelChange)=\"onChangePartyType()\"\r\n                >\r\n                  <ng-template let-options pTemplate=\"item\">\r\n                    <div class=\"truncate-text\">\r\n                      <div>{{ options.codeName }}</div>\r\n                    </div>\r\n                  </ng-template></p-dropdown\r\n                >\r\n                <!-- <p-dropdown\r\n                  class=\"block\"\r\n                  [options]=\"masterData['masterRelatedParties']\"\r\n                  placeholder=\"Choose Party Type\"\r\n                  optionLabel=\"codeName\"\r\n                  [appendTo]=\"'body'\"\r\n                  [filter]=\"true\"\r\n                  filterBy=\"codeName\"\r\n                  [virtualScroll]=\"true\"\r\n                  [virtualScrollItemSize]=\"35\"\r\n                  panelStyleClass=\"formFields-dropdown\"\r\n                  [(ngModel)]=\"selectedPartyType\"\r\n                  [ngModelOptions]=\"{ standalone: true }\"\r\n                  (ngModelChange)=\"onChangePartyType()\"\r\n                >\r\n                  <ng-template let-options pTemplate=\"item\">\r\n                    <div class=\"truncate-text\">\r\n                      <div>{{ options.codeName }}</div>\r\n                    </div>\r\n                  </ng-template></p-dropdown\r\n                > -->\r\n              </div>\r\n            </div>\r\n            <div class=\"col-10 grid\">\r\n              <div class=\"col-9 col-sm-12 col-xs-12 inline-flex grid\">\r\n                <div class=\"select-customer-div col-3 text-right\">\r\n                  <p-dropdown\r\n                    [options]=\"userTypeOptions\"\r\n                    [(ngModel)]=\"customerType\"\r\n                    [ngModelOptions]=\"{ standalone: true }\"\r\n                    (onChange)=\"onUserTypeChange($event.value)\"\r\n                    optionValue=\"code\"\r\n                    optionLabel=\"name\"\r\n                    class=\"select-customer\"\r\n                    [style]=\"{ maxWidth: '128px', textAlign: 'left' }\"\r\n                  ></p-dropdown>\r\n                </div>\r\n                <div class=\"criteria-search-box-div col-9 grid\">\r\n                  <p-dropdown\r\n                    [options]=\"searchCriteriaOptions\"\r\n                    [(ngModel)]=\"customerFieldType\"\r\n                    [ngModelOptions]=\"{ standalone: true }\"\r\n                    (onChange)=\"onCriteriaChange($event.value)\"\r\n                    optionLabel=\"name\"\r\n                    optionValue=\"code\"\r\n                    [placeholder]=\"searchField\"\r\n                    class=\"select-criteria col-4\"\r\n                    [panelStyle]=\"{ maxWidth: '128px' }\"\r\n                  >\r\n                    <ng-template let-options pTemplate=\"item\">\r\n                      <div class=\"truncate-text\">\r\n                        <div>{{ options.name }}</div>\r\n                      </div>\r\n                    </ng-template>\r\n                  </p-dropdown>\r\n                  <div\r\n                    class=\"p-input-icon-right search-box-div col-8\"\r\n                    (keyup.enter)=\"searchByEnter($event)\"\r\n                  >\r\n                    <ng-container [ngSwitch]=\"criteriaType\">\r\n                      <input\r\n                        *ngSwitchCase=\"'SQL'\"\r\n                        class=\"searchBox\"\r\n                        type=\"text\"\r\n                        pInputText\r\n                        [(ngModel)]=\"currentCriteriaValue\"\r\n                        [ngModelOptions]=\"{ standalone: true }\"\r\n                        placeholder=\"Search\"\r\n                        [readonly]=\"true\"\r\n                      />\r\n                      <input\r\n                        *ngSwitchCase=\"'text'\"\r\n                        class=\"searchBox\"\r\n                        type=\"text\"\r\n                        pInputText\r\n                        [(ngModel)]=\"currentCriteriaValue\"\r\n                        [ngModelOptions]=\"{ standalone: true }\"\r\n                        placeholder=\"Search\"\r\n                      />\r\n\r\n                      <p-inputNumber\r\n                        *ngSwitchCase=\"'number'\"\r\n                        class=\"block searchBox\"\r\n                        [(ngModel)]=\"currentCriteriaValue\"\r\n                        [ngModelOptions]=\"{ standalone: true }\"\r\n                        mode=\"decimal\"\r\n                        [useGrouping]=\"false\"\r\n                        placeholder=\"Search\"\r\n                      >\r\n                      </p-inputNumber>\r\n                      <p-calendar\r\n                        class=\"searchBox\"\r\n                        *ngSwitchCase=\"'date'\"\r\n                        placeholder=\"DD/MM/YYYY\"\r\n                        dateFormat=\"dd/mm/yy\"\r\n                        [(ngModel)]=\"currentCriteriaValue\"\r\n                        [ngModelOptions]=\"{ standalone: true }\"\r\n                        [readonlyInput]=\"false\"\r\n                        [appendTo]=\"'body'\"\r\n                        appDateMask\r\n                      ></p-calendar>\r\n                      <i *ngIf=\"criteriaType != 'SQL'\" class=\"pi pi-search\"></i>\r\n                    </ng-container>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-3 col-sm-6 col-xs-6 buttonsearch\">\r\n                <button\r\n                  pButton\r\n                  pRipple\r\n                  type=\"button\"\r\n                  (click)=\"searchCustomerMap(customerType)\"\r\n                  label=\"Search\"\r\n                  class=\"search-btn ml-2 headerbtn\"\r\n                  [disabled]=\"!(customerType && selectedPartyType)\"\r\n                  [pTooltip]=\"\r\n                    selectedPartyType\r\n                      ? customerType\r\n                        ? ''\r\n                        : 'Select Customer Type'\r\n                      : 'First Choose Party Type'\r\n                  \"\r\n                  [style.cursor]=\"selectedPartyType ? 'pointer' : 'not-allowed'\"\r\n                ></button>\r\n                <button\r\n                  pButton\r\n                  pRipple\r\n                  type=\"button\"\r\n                  (click)=\"clearCriteria()\"\r\n                  label=\"Clear\"\r\n                  class=\"p-button-warning search-btn ml-2 mt-lg-0 headerbtn\"\r\n                ></button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"customerCriteria\">\r\n            <div *ngIf=\"searchCriteria.length\">\r\n              <div class=\"col-10\">\r\n                <span class=\"font-normal\">You have searched on</span>\r\n\r\n                <span\r\n                  *ngFor=\"let criteria of searchCriteria; let i = index\"\r\n                  class=\"customerMapConditions\"\r\n                >\r\n                  {{ criteria }}\r\n                  <span\r\n                    role=\"button\"\r\n                    style=\"padding: 0px 0px 0px 8px; margin-bottom: 10px\"\r\n                    (click)=\"ondeletecriteria(i, criteria)\"\r\n                  >\r\n                    <svg\r\n                      style=\"margin-bottom: 4px\"\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                      width=\"12.6\"\r\n                      height=\"12.6\"\r\n                      fill=\"#dc3545\"\r\n                      class=\"bi bi-x-circle\"\r\n                      viewBox=\"0 0 16 16\"\r\n                    >\r\n                      <path\r\n                        d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"\r\n                      />\r\n                      <path\r\n                        d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"\r\n                      />\r\n                    </svg>\r\n                  </span>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"w-full\">\r\n            <div\r\n              *ngIf=\"showTable || !globalSearch\"\r\n              class=\"customer-search-table w-full\"\r\n            >\r\n              <p-table\r\n                #dt\r\n                [columns]=\"columns\"\r\n                [value]=\"customerData\"\r\n                dataKey=\"customerCode\"\r\n                [lazy]=\"true\"\r\n                (onLazyLoad)=\"loadCustomers($event)\"\r\n                [totalRecords]=\"totalRecords\"\r\n                [paginator]=\"totalRecords && customerData.length\"\r\n                [rows]=\"pageSize\"\r\n                [rowHover]=\"true\"\r\n                [loading]=\"customerTableLoading\"\r\n                [rowsPerPageOptions]=\"\r\n                  totalRecords <= 5 ? null : [5, 10, 20, 50, 100]\r\n                \"\r\n                selectionMode=\"single\"\r\n                [(selection)]=\"currentSelectedCustomerAsParty\"\r\n                (onRowSelect)=\"onRowSelect($event)\"\r\n                (onRowUnselect)=\"onRowUnselect($event)\"\r\n              >\r\n                <ng-template pTemplate=\"header\" let-columns>\r\n                  <tr>\r\n                    <th\r\n                      *ngIf=\"customerData.length\"\r\n                      style=\"width: 50px !important; min-width: 50px !important\"\r\n                    ></th>\r\n                    <th\r\n                      *ngFor=\"let col of columns; let c = index\"\r\n                      pResizableColumn\r\n                      [style.width]=\"col.width\"\r\n                      [pSortableColumn]=\"col.field\"\r\n                    >\r\n                      {{ col.header }}\r\n                      <p-sortIcon [field]=\"col.field\"></p-sortIcon>\r\n                    </th>\r\n                  </tr>\r\n                  <tr class=\"search-row\">\r\n                    <th\r\n                      *ngIf=\"customerData.length\"\r\n                      style=\"width: 50px !important; min-width: 50px !important\"\r\n                    ></th>\r\n                    <th *ngFor=\"let col of columns; let c = index\">\r\n                      <span\r\n                        class=\"p-input-icon-left\"\r\n                        [style.width]=\"col.searchWidth\"\r\n                      >\r\n                        <i class=\"pi pi-search\"></i>\r\n                        <input\r\n                          type=\"text\"\r\n                          class=\"p-inputtext table-search\"\r\n                          placeholder=\"Search\"\r\n                          (input)=\"\r\n                            dt.filter(\r\n                              $event.target.value,\r\n                              col.field,\r\n                              'contains'\r\n                            )\r\n                          \"\r\n                        />\r\n                      </span>\r\n                    </th>\r\n                  </tr>\r\n                </ng-template>\r\n                <ng-template\r\n                  pTemplate=\"body\"\r\n                  let-rowData\r\n                  let-columns=\"columns\"\r\n                  let-index=\"rowIndex\"\r\n                >\r\n                  <tr [pReorderableRow]=\"index\">\r\n                    <td>\r\n                      <div\r\n                        [pTooltip]=\"\r\n                          !selectedPartyType ? 'First choose Party Type' : ''\r\n                        \"\r\n                        class=\"relative\"\r\n                      >\r\n                        <p-tableRadioButton\r\n                          [value]=\"rowData\"\r\n                          [disabled]=\"!selectedPartyType\"\r\n                        ></p-tableRadioButton>\r\n                        <i\r\n                          *ngIf=\"rowData['allRequiredDocsPresent'] == false\"\r\n                          class=\"absolute pi pi-exclamation-triangle\"\r\n                          style=\"\r\n                            top: 2px;\r\n                            left: 30px;\r\n                            font-size: 18px;\r\n                            color: red;\r\n                          \"\r\n                          [pTooltip]=\"\r\n                            'Some Required Documents are Missing, click on Customer code to edit'\r\n                          \"\r\n                        ></i>\r\n                      </div>\r\n                    </td>\r\n                    <ng-container *ngFor=\"let col of columns; let i = index\">\r\n                      <td *ngIf=\"!(col.field == 'status')\">\r\n                        <div *ngIf=\"!(i == 0)\" style=\"display: inline-block\">\r\n                          {{ rowData[col[\"field\"]] }}\r\n                        </div>\r\n                        <div *ngIf=\"i == 0\">\r\n                          <a\r\n                            [ngStyle]=\"{\r\n                              position: 'relative',\r\n                              top: '0px',\r\n                              color:\r\n                                rowData['allRequiredDocsPresent'] == false\r\n                                  ? 'var(--primary-color)'\r\n                                  : 'black',\r\n                              fontSize: '11px',\r\n                              cursor:\r\n                                rowData['allRequiredDocsPresent'] == false\r\n                                  ? 'pointer'\r\n                                  : '',\r\n                              left: '32%',\r\n                              textDecoration:\r\n                                rowData['allRequiredDocsPresent'] == false\r\n                                  ? 'underline'\r\n                                  : 'none'\r\n                            }\"\r\n                            (click)=\"\r\n                              rowData['allRequiredDocsPresent'] == false &&\r\n                                editCustomerForMissingDocs(\r\n                                  rowData['customerCode'],\r\n                                  selectedPartyType['code']\r\n                                )\r\n                            \"\r\n                            >{{ rowData[col[\"field\"]] }}</a\r\n                          >\r\n                        </div>\r\n                      </td>\r\n                      <td\r\n                        *ngIf=\"col.field == 'status'\"\r\n                        style=\"border: none; text-align: center\"\r\n                      >\r\n                        <label class=\"switch\" style=\"border: none\">\r\n                          <input\r\n                            #statusInp\r\n                            [value]=\"rowData[col['field']]\"\r\n                            type=\"checkbox\"\r\n                            (click)=\"\r\n                              confirmStatus($event, rowData, customerType)\r\n                            \"\r\n                            [checked]=\"\r\n                              rowData[col['field']] == 'Active' ||\r\n                              rowData[col['field']] == 'A'\r\n                                ? true\r\n                                : false\r\n                            \"\r\n                          />\r\n                          <span class=\"slider round\"></span>\r\n                        </label>\r\n                      </td>\r\n                    </ng-container>\r\n                  </tr>\r\n                </ng-template>\r\n                <ng-template pTemplate=\"emptymessage\">\r\n                  <tr>\r\n                    <td [attr.colspan]=\"columns.length\">No Data found.</td>\r\n                  </tr>\r\n                </ng-template>\r\n                <ng-template pTemplate=\"paginatorleft\" let-state>\r\n                  <span\r\n                    *ngIf=\"state && state.totalRecords && customerData.length\"\r\n                  >\r\n                    Showing\r\n                    {{ customerData.length ? state.page * state.rows + 1 : 0 }}\r\n                    -\r\n                    {{\r\n                      state.rows * (state.page + 1) > state.totalRecords\r\n                        ? state.totalRecords\r\n                        : state.rows * (state.page + 1)\r\n                    }}\r\n                    of {{ state.totalRecords }} Customers\r\n                  </span>\r\n                </ng-template>\r\n              </p-table>\r\n            </div>\r\n            <div\r\n              class=\"no-data-msg flex align-items-center justify-content-center\"\r\n              *ngIf=\"!customerData?.length && showNoDataFound\"\r\n            >\r\n              <p class=\"mb-0\" style=\"font-size: 14px\">No Record Found.</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div\r\n          *ngIf=\"relatedPartyTypeCode == 'C'\"\r\n          class=\"add-party-btn-div text-center mt-3\"\r\n        >\r\n          <div\r\n            class=\"inline-block\"\r\n            [pTooltip]=\"\r\n              currentSelectedCustomerAsParty\r\n                ? allRequiredDocumentsPresent\r\n                  ? ''\r\n                  : 'Selected Customer have missing details.'\r\n                : 'Search exiting Customers & select one from the list.'\r\n            \"\r\n          >\r\n            <button\r\n              class=\"p-button-primary add-party-btn ml-2 mt-lg-0\"\r\n              pButton\r\n              pRipple\r\n              type=\"button\"\r\n              label=\"+ Add Party\"\r\n              [disabled]=\"\r\n                !(currentSelectedCustomerAsParty && allRequiredDocumentsPresent)\r\n              \"\r\n              (click)=\"\r\n                addPartyDetailsIntoTable(\r\n                  currentSelectedCustomerAsParty,\r\n                  'link',\r\n                  currentSelectedCustomerAsParty['customerCode']\r\n                )\r\n              \"\r\n            ></button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- NEW FLOW ENDS -->\r\n      <div\r\n        *ngIf=\"\r\n          !objectKeys(multiDetailsSectionData).includes(section['formName'])\r\n        \"\r\n        class=\"row\"\r\n      >\r\n        <ng-container *ngFor=\"let field of section['fields']\">\r\n          <div\r\n            *ngIf=\"field.visible\"\r\n            [ngClass]=\"{\r\n              'col-xs-12 col-sm-6 col-md-4 col-lg-2 p-2 fieldForm':\r\n                !field['newLineField'],\r\n              checkbox: field['fieldType'] == 'checkbox',\r\n              newLineField: field['newLineField']\r\n            }\"\r\n          >\r\n            <label\r\n              [attr.title]=\"\r\n                field['fieldLabel'].length > 27 ? field['fieldLabel'] : ''\r\n              \"\r\n              >{{\r\n                field[\"fieldLabel\"].length > 27 && !field?.newLineField\r\n                  ? field[\"fieldLabel\"].substring(0, 27) + \"..\"\r\n                  : field[\"fieldLabel\"]\r\n              }}</label\r\n            ><span *ngIf=\"field.required\" class=\"required\">*</span>\r\n            <ng-container [ngSwitch]=\"field.fieldType\">\r\n              <ng-container *ngSwitchCase=\"'text'\">\r\n                <div\r\n                  style=\"position: 'relative'\"\r\n                  *ngIf=\"field.name != 'employerNameEmpDetails'\"\r\n                  [pTooltip]=\"\r\n                    customerForm.controls[field['formName']]['controls'][\r\n                      field.name\r\n                    ].errors?.invalidValue\r\n                      ? field.displayValidValuesOnHover == 'Yes'\r\n                        ? 'Valid values are ' + field.validValues.join(', ')\r\n                        : ''\r\n                      : ''\r\n                  \"\r\n                  tooltipPosition=\"top\"\r\n                >\r\n                  <input\r\n                    type=\"text\"\r\n                    class=\"block\"\r\n                    pInputText\r\n                    [formControlName]=\"field.name\"\r\n                    [ngStyle]=\"{\r\n                      paddingLeft: field.prefix ? '45px' : '',\r\n                      paddingRight: field.suffix ? '40px' : ''\r\n                    }\"\r\n                    (ngModelChange)=\"checkValidValuesText($event, field)\"\r\n                  />\r\n                  <span class=\"prefix-Inp\" *ngIf=\"field.prefix\">{{\r\n                    field.prefix\r\n                  }}</span>\r\n                  <span class=\"suffix-Inp\" *ngIf=\"field.suffix\">{{\r\n                    field.suffix\r\n                  }}</span>\r\n                </div>\r\n                <div\r\n                  class=\"employername\"\r\n                  *ngIf=\"field.name == 'employerNameEmpDetails'\"\r\n                >\r\n                  <p-autoComplete\r\n                    [formControlName]=\"field.name\"\r\n                    [suggestions]=\"filteredEmployer\"\r\n                    (completeMethod)=\"searchEmployer($event)\"\r\n                  ></p-autoComplete>\r\n                </div>\r\n              </ng-container>\r\n\r\n              <ng-container *ngSwitchCase=\"'number'\">\r\n                <ng-container>\r\n                  <div\r\n                    style=\"position: 'relative'\"\r\n                    [pTooltip]=\"\r\n                      customerForm.controls[field['formName']]['controls'][\r\n                        field.name\r\n                      ].errors?.invalidValue\r\n                        ? field.displayValidValuesOnHover == 'Yes'\r\n                          ? 'Valid values are ' + field.validValues.join(', ')\r\n                          : ''\r\n                        : ''\r\n                    \"\r\n                    tooltipPosition=\"top\"\r\n                  >\r\n                    <input\r\n                      type=\"text\"\r\n                      class=\"block\"\r\n                      pInputText\r\n                      [formControlName]=\"field.name\"\r\n                      [ngStyle]=\"{\r\n                        paddingLeft: field.prefix ? '45px' : '',\r\n                        paddingRight: field.suffix ? '40px' : ''\r\n                      }\"\r\n                      (ngModelChange)=\"checkValidValuesText($event, field)\"\r\n                    />\r\n                    <span class=\"prefix-Inp\" *ngIf=\"field.prefix\">{{\r\n                      field.prefix\r\n                    }}</span>\r\n                    <span class=\"suffix-Inp\" *ngIf=\"field.suffix\">{{\r\n                      field.suffix\r\n                    }}</span>\r\n                  </div>\r\n                </ng-container>\r\n              </ng-container>\r\n              <p-calendar\r\n                *ngSwitchCase=\"'date'\"\r\n                class=\"block\"\r\n                placeholder=\"DD/MM/YYYY\"\r\n                dateFormat=\"dd/mm/yy\"\r\n                [showIcon]=\"true\"\r\n                [formControlName]=\"field.name\"\r\n                [minDate]=\"field.minDate\"\r\n                [maxDate]=\"field.maxDate\"\r\n                [defaultDate]=\"field.defaultDate\"\r\n                [readonlyInput]=\"false\"\r\n                [appendTo]=\"'body'\"\r\n                (onSelect)=\"handleDateSelect(calendar, $event)\"\r\n                (ngModelChange)=\"checkValidValuesDate($event, field)\"\r\n                appDateMask\r\n                [pTooltip]=\"\r\n                  customerForm.controls[field['formName']]['controls'][\r\n                    field.name\r\n                  ].errors?.invalidValue\r\n                    ? field.displayValidValuesOnHover == 'Yes'\r\n                      ? 'Valid values are ' + field.validValues.join(', ')\r\n                      : ''\r\n                    : ''\r\n                \"\r\n                tooltipPosition=\"top\"\r\n                #calendar\r\n              ></p-calendar>\r\n              <p-checkbox\r\n                *ngSwitchCase=\"'checkbox'\"\r\n                [formControlName]=\"field.name\"\r\n                [binary]=\"true\"\r\n                (onChange)=\"sameAddress($event, field.name)\"\r\n              ></p-checkbox>\r\n              <!-- <p-autoComplete\r\n              *ngSwitchCase=\"'dropdownSingle'\"\r\n              class=\"block\"\r\n              [showEmptyMessage]=\"true\"\r\n              [suggestions]=\"filteredCountries\"\r\n              (completeMethod)=\"filterCountry($event)\"\r\n              field=\"name\"\r\n              [minLength]=\"1\"\r\n              [forceSelection]=\"true\"\r\n            ></p-autoComplete> -->\r\n              <p-dropdown\r\n                *ngSwitchCase=\"'dropdownSingle'\"\r\n                class=\"block\"\r\n                [options]=\"\r\n                  field['setOptions'] && field['setOptions'].length\r\n                    ? field['setOptions']\r\n                    : masterData[field['apiKey']]\r\n                \"\r\n                [formControlName]=\"field.name\"\r\n                placeholder=\"Type to search\"\r\n                optionLabel=\"codeName\"\r\n                [appendTo]=\"'body'\"\r\n                [filter]=\"true\"\r\n                filterBy=\"codeName\"\r\n                [virtualScroll]=\"true\"\r\n                [virtualScrollItemSize]=\"35\"\r\n                panelStyleClass=\"formFields-dropdown\"\r\n              >\r\n                <ng-template let-options pTemplate=\"item\">\r\n                  <div class=\"truncate-text\">\r\n                    <div>{{ options.codeName }}</div>\r\n                  </div>\r\n                </ng-template></p-dropdown\r\n              >\r\n              <p-dropdown\r\n                *ngSwitchCase=\"'smart-search'\"\r\n                class=\"block smartSearch\"\r\n                [formControlName]=\"field.name\"\r\n                [options]=\"\r\n                  field['setOptions'] && field['setOptions'].length\r\n                    ? field['setOptions']\r\n                    : masterData[field['apiKey']]\r\n                \"\r\n                optionLabel=\"codeName\"\r\n                [filter]=\"true\"\r\n                filterBy=\"codeName\"\r\n                placeholder=\"Type to search\"\r\n              >\r\n                <ng-template pTemplate=\"selectedItem\">\r\n                  <div class=\"country-item country-item-value\" *ngIf=\"field\">\r\n                    <div>\r\n                      {{\r\n                        customerForm.controls[section[\"formName\"]][\"controls\"][\r\n                          field.name\r\n                        ].value.codeName\r\n                      }}\r\n                    </div>\r\n                  </div>\r\n                </ng-template>\r\n                <ng-template let-options pTemplate=\"item\">\r\n                  <div class=\"truncate-text\">\r\n                    <div>{{ options.codeName }}</div>\r\n                  </div>\r\n                </ng-template>\r\n              </p-dropdown>\r\n              <select\r\n                *ngSwitchCase=\"'multiselect'\"\r\n                multiple\r\n                [formControlName]=\"field.name\"\r\n              >\r\n                <option\r\n                  *ngFor=\"let option of field.options\"\r\n                  [value]=\"option.value\"\r\n                >\r\n                  {{ option.label }}\r\n                </option>\r\n              </select>\r\n            </ng-container>\r\n            <small\r\n              *ngIf=\"\r\n                (customerForm.controls[section['formName']]['controls'][\r\n                  field.name\r\n                ].errors?.required &&\r\n                  objectKeys(multiDetailsSectionData).includes(\r\n                    section['formName']\r\n                  ) &&\r\n                  section.submitted) ||\r\n                (customerForm.controls[section['formName']]['controls'][\r\n                  field.name\r\n                ].errors?.required &&\r\n                  !objectKeys(multiDetailsSectionData).includes(\r\n                    section['formName']\r\n                  ) &&\r\n                  submitted)\r\n              \"\r\n              class=\"p-error block\"\r\n            >\r\n              {{ field.fieldLabel }} is required.</small\r\n            >\r\n            <small\r\n              *ngIf=\"\r\n                !customerForm.controls[section['formName']]['controls'][\r\n                  field.name\r\n                ].pristine &&\r\n                customerForm.controls[section['formName']]['controls'][\r\n                  field.name\r\n                ].errors?.minlength\r\n              \"\r\n              class=\"p-error block\"\r\n              >{{ field.fieldLabel }} must be {{ field.minLength }} characters\r\n              long.</small\r\n            >\r\n            <small\r\n              *ngIf=\"\r\n                !customerForm.controls[section['formName']]['controls'][\r\n                  field.name\r\n                ].pristine &&\r\n                customerForm.controls[section['formName']]['controls'][\r\n                  field.name\r\n                ].errors?.pattern\r\n              \"\r\n              class=\"p-error block\"\r\n              >{{\r\n                field.regexMsg\r\n                  ? field.regexMsg\r\n                  : \"Improper \" + field.fieldLabel + \" format.\"\r\n              }}</small\r\n            >\r\n            <small\r\n              *ngIf=\"\r\n                !customerForm.controls[section['formName']]['controls'][\r\n                  field.name\r\n                ].pristine &&\r\n                customerForm.controls[section['formName']]['controls'][\r\n                  field.name\r\n                ].errors?.maxlength\r\n              \"\r\n              class=\"p-error block\"\r\n              >{{ field.fieldLabel }} must not exceed\r\n              {{ field.maxLength }} characters.</small\r\n            >\r\n            <small\r\n              *ngIf=\"\r\n                customerForm.controls[section['formName']]['controls'][\r\n                  field.name\r\n                ].errors?.invalidValue\r\n              \"\r\n              class=\"p-error block\"\r\n              >Please enter a valid value.</small\r\n            >\r\n          </div>\r\n        </ng-container>\r\n      </div>\r\n      <!-- *** MULTISECTION ADD BTN START *** -->\r\n      <!-- <div\r\n        *ngIf=\"\r\n          objectKeys(multiDetailsSectionData).includes(section['formName'])\r\n        \"\r\n        class=\"add-details-btn flex align-items-center gap-2\"\r\n      >\r\n        <button\r\n          #addCriteriaBtn\r\n          pButton\r\n          pRipple\r\n          style=\"position: static; left: 645px; font-size: 1.5rem\"\r\n          type=\"button\"\r\n          label=\"+\"\r\n          class=\"p-button-primary\"\r\n          (click)=\"addSectionDetails(section)\"\r\n          [disabled]=\"\r\n            !hasValue(customerForm.controls[section['formName']].value)\r\n          \"\r\n        ></button>\r\n        <span class=\"text-xs text-gray-600\"\r\n          >After entering details, click on + button to consider it while saving\r\n          customer data.</span\r\n        >\r\n      </div> -->\r\n      <!-- *** MULTISECTION ADD BTN ENDS *** -->\r\n    </p-panel>\r\n  </ng-container>\r\n  <div class=\"form-group btn-grp buttons-section\">\r\n    <button\r\n      *ngIf=\"relatedPartyTypeCode != 'C'\"\r\n      pButton\r\n      pRipple\r\n      type=\"button\"\r\n      label=\"Go Back\"\r\n      class=\"p-button-raised\"\r\n      (click)=\"onClickBack()\"\r\n    ></button>\r\n    <button\r\n      pButton\r\n      pRipple\r\n      type=\"button\"\r\n      label=\"Save\"\r\n      class=\"p-button-raised\"\r\n      (click)=\"onSubmit()\"\r\n      [disabled]=\"deactivated\"\r\n    ></button>\r\n    <button\r\n      pButton\r\n      pRipple\r\n      type=\"button\"\r\n      label=\"Reset\"\r\n      class=\"p-button-warning\"\r\n      (click)=\"onReset()\"\r\n      [disabled]=\"deactivated\"\r\n    ></button>\r\n    <button\r\n      *ngIf=\"mode == 'edit' && relatedPartyTypeCode == 'C'\"\r\n      pButton\r\n      pRipple\r\n      type=\"button\"\r\n      label=\"{{ deactivated ? 'Activate' : 'Deactivate' }}\"\r\n      class=\"p-button-raised\"\r\n      (click)=\"onActive(data)\"\r\n    ></button>\r\n  </div>\r\n</form>\r\n<!-- <app-document-collection\r\n  *ngIf=\"documentSettingJsonData && documentSettingJsonData.length\"\r\n  [documentSettingData]=\"documentSettingJsonData\"\r\n  [submitted]=\"submitted\"\r\n  [customerUploadedDocumentsData]=\"customerUploadedDocumentsData\"\r\n  [idIssueCountryList]=\"idIssueCountryList\"\r\n  (errorFromDocumentComponent)=\"errorFromDocumentComponent = $event\"\r\n></app-document-collection> -->\r\n<div class=\"NorecordFound\" *ngIf=\"!(apiData && objectKeys(apiData)['length'])\">\r\n  <div class=\"row\">\r\n    <div class=\"col-12\"><img src=\"assets/noRecordFound.svg\" /></div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col-12\">\r\n      <p>No Data Found.</p>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<p-confirmDialog\r\n  key=\"resetINDWarning\"\r\n  class=\"confirm-popup\"\r\n  #cd\r\n  [closable]=\"false\"\r\n>\r\n  <p-footer>\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-check\"\r\n      label=\"Yes\"\r\n      (click)=\"cd.accept()\"\r\n    ></button>\r\n\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-times\"\r\n      label=\"No\"\r\n      (click)=\"cd.reject()\"\r\n    ></button>\r\n  </p-footer>\r\n</p-confirmDialog>\r\n<p-confirmDialog\r\n  key=\"activeDeactiveStatus\"\r\n  class=\"status-confirm confirm-popup\"\r\n  #cd4\r\n  [closable]=\"false\"\r\n>\r\n  <p-footer>\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-check\"\r\n      label=\"Yes\"\r\n      (click)=\"cd4.accept()\"\r\n    ></button>\r\n\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-times\"\r\n      label=\"No\"\r\n      (click)=\"cd4.reject()\"\r\n    ></button>\r\n  </p-footer>\r\n</p-confirmDialog>\r\n<div>\r\n  <p-dialog\r\n    [(visible)]=\"clickforview\"\r\n    [modal]=\"true\"\r\n    [style]=\"{ width: '70vw', left: '50px' }\"\r\n    (onHide)=\"closeDialog()\"\r\n  >\r\n    <ng-template pTemplate=\"header\"> </ng-template>\r\n    <p-table\r\n      [value]=\"customerDataForView\"\r\n      class=\"search-view-table\"\r\n      [rowHover]=\"true\"\r\n      [style]=\"{ width: '100%' }\"\r\n    >\r\n      <ng-template pTemplate=\"header\">\r\n        <tr>\r\n          <th *ngFor=\"let col of viewCustomerTableCols\">{{ col.header }}</th>\r\n        </tr>\r\n      </ng-template>\r\n      <ng-template pTemplate=\"body\" let-product>\r\n        <tr>\r\n          <td *ngFor=\"let col of viewCustomerTableCols\">\r\n            {{ product[col[\"name\"]] }}\r\n          </td>\r\n        </tr>\r\n      </ng-template>\r\n      <ng-template pTemplate=\"emptymessage\">\r\n        <tr>\r\n          <td>No Data found.</td>\r\n        </tr>\r\n      </ng-template>\r\n    </p-table>\r\n    <div class=\"p-field-checkbox\" style=\"padding: 1rem\">\r\n      <p-checkbox\r\n        [(ngModel)]=\"checked\"\r\n        binary=\"true\"\r\n        inputId=\"binary\"\r\n      ></p-checkbox>\r\n      <label for=\"binary\" style=\"position: relative; top: 4px; left: 10px\"\r\n        >I confirm that I have verified, customer is not same.</label\r\n      >\r\n    </div>\r\n    <div class=\"customerViewBtn\">\r\n      <button\r\n        type=\"button\"\r\n        pButton\r\n        icon=\"pi pi-check\"\r\n        label=\"Continue\"\r\n        (click)=\"onCustomerSubmit()\"\r\n        [disabled]=\"checked == false\"\r\n      ></button>\r\n\r\n      <button\r\n        type=\"button\"\r\n        class=\"customerViewBtn2\"\r\n        pButton\r\n        icon=\"pi pi-times\"\r\n        label=\"Cancel\"\r\n        (click)=\"onCustomerReject()\"\r\n      ></button>\r\n    </div>\r\n  </p-dialog>\r\n</div>\r\n\r\n<!-- <app-confirm-dialog-modal\r\n  [key]=\"'confirmDialog'\"\r\n  [header]=\"'Confirmation'\"\r\n  [acceptLabel]=\"'Yes'\"\r\n  [rejectLabel]=\"'No'\"\r\n  (confirm)=\"onConfirm()\"\r\n  (reject)=\"onReject()\"\r\n>\r\n</app-confirm-dialog-modal> -->\r\n","import { HttpClient, HttpHeaders } from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { Observable, forkJoin, throwError } from \"rxjs\";\r\nimport { catchError } from \"rxjs/operators\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class CustomerFormService {\r\n  constructor(private http: HttpClient) {}\r\n\r\n  applicationName = JSON.parse(localStorage.getItem(\"applicationName\"));\r\n  moduleName = JSON.parse(localStorage.getItem(\"moduleName\"));\r\n\r\n  // ! calling two api for customer master data\r\n  getCustomerMasterDataFromAppControlAndRemittance(): Observable<any[]> {\r\n    // Define API endpoints\r\n    const appControlUrl =\r\n      \"/appControl/formRulesController/getCustomerProfileMasterDataAppControl\";\r\n    const remittanceUrl =\r\n      \"/remittance/corporateCustomerController/getCustomerProfileMasterDataRemittance\";\r\n\r\n    // Make HTTP requests to both APIs\r\n    const appControlUrlRequest = this.http.get(appControlUrl);\r\n    const remittanceUrlRequest = this.http.get(remittanceUrl);\r\n\r\n    // Combine requests using forkJoin\r\n    return forkJoin([appControlUrlRequest, remittanceUrlRequest]).pipe(\r\n      catchError((error) => {\r\n        // Handle errors if any API request fails\r\n        console.error(\"Customer Master Data request failed:\", error);\r\n        return throwError(\"API request failed\");\r\n      })\r\n    );\r\n  }\r\n  // ! calling two api for customer master data ends\r\n\r\n  getCustomerMaster() {\r\n    return this.http.get(\r\n      `/appControl/corporateCustomerController/getCustomerProfileMasterData`\r\n    );\r\n  }\r\n\r\n  getCausingCriteriaFields(\r\n    id: string,\r\n    appName: any,\r\n    moduleName: any,\r\n    formName: any\r\n  ) {\r\n    return this.http.get(\r\n      `/appControl/commonUtilController/getLoyaltyProgramCriteriaFields`,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"userId\", id)\r\n          .set(\"applications\", String(appName))\r\n          .set(\"moduleName\", String(moduleName))\r\n          .set(\"form\", formName),\r\n      }\r\n    );\r\n  }\r\n\r\n  getEmployeeDetailsByLetters(empType: any, typeLetters: any) {\r\n    return this.http.get(\r\n      `/appControl/corporateCustomerController/getEmployeeDetails`,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"customerType\", empType)\r\n          .set(\"employeeName\", typeLetters),\r\n      }\r\n    );\r\n  }\r\n\r\n  getFormRuleDataByCritreriaMap(causingCriteriaMap: any) {\r\n    return this.http.get(\r\n      `/appControl/formRulesController/getFormRulesSetting`,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"criteriaMap\", causingCriteriaMap)\r\n          .set(\"form\", \"Customer Profile_Form Rules\")\r\n          .set(\"moduleName\", this.moduleName[\"code\"])\r\n          .set(\"applications\", this.applicationName[\"code\"]),\r\n      }\r\n    );\r\n  }\r\n\r\n  getDocumentDataByCriteriaMap(causingCriteriaMap: any) {\r\n    return this.http.get(\r\n      `appControl/documentSettingsController/getDocumentSetting`,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"criteriaMap\", causingCriteriaMap)\r\n          .set(\"form\", \"Document Settings\")\r\n          .set(\"moduleName\", this.moduleName[\"code\"])\r\n          .set(\"applications\", this.applicationName[\"code\"]),\r\n      }\r\n    );\r\n  }\r\n\r\n  saveCustomerFormData(\r\n    customerData: any,\r\n    userId: any,\r\n    customerType: any,\r\n    isConfirmedCustomer: any,\r\n    duplicateCheckFields: any,\r\n    relatedPartyTypeCode: any\r\n  ) {\r\n    return this.http.post(\r\n      `/appControl/corporateCustomerController/saveCorporateCustomer`,\r\n      customerData,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"userId\", userId)\r\n          .set(\r\n            \"customerType\",\r\n            customerType == \"IND\" ? \"Individual\" : \"Corporate\"\r\n          )\r\n          .set(\"isConfirmedCustomer\", isConfirmedCustomer)\r\n          .set(\r\n            \"duplicateCheck\",\r\n            duplicateCheckFields.length ? duplicateCheckFields.join(\",\") : \"NA\"\r\n          )\r\n          .set(\"relatedParty\", relatedPartyTypeCode),\r\n      }\r\n    );\r\n  }\r\n  updateCustomerFormData(\r\n    customerData: any,\r\n    userId: any,\r\n    customerType: any,\r\n    isConfirmedCustomer: any,\r\n    duplicateCheckFields: any,\r\n    relatedPartyTypeCode: any\r\n  ) {\r\n    return this.http.put(\r\n      `/appControl/corporateCustomerController/updateCorporateCustomer`,\r\n      customerData,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"userId\", userId)\r\n          .set(\r\n            \"customerType\",\r\n            customerType == \"IND\" ? \"Individual\" : \"Corporate\"\r\n          )\r\n          .set(\"isConfirmedCustomer\", isConfirmedCustomer)\r\n          .set(\r\n            \"duplicateCheck\",\r\n            duplicateCheckFields.length ? duplicateCheckFields.join(\",\") : \"NA\"\r\n          )\r\n          .set(\"relatedParty\", relatedPartyTypeCode),\r\n      }\r\n    );\r\n  }\r\n\r\n  getCustomerFormDataForEdit(customerId: any, userId: any, customerType: any) {\r\n    return this.http.get(\r\n      `/appControl/corporateCustomerController/getCorporateCustomerDetails/${customerId}`,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"userId\", userId)\r\n          .set(\r\n            \"customerType\",\r\n            customerType == \"IND\" ? \"Individual\" : \"Corporate\"\r\n          ),\r\n      }\r\n    );\r\n  }\r\n\r\n  updateCustomerCorporateStatus(\r\n    userId: any,\r\n    status: any,\r\n    id: any,\r\n    custType: any\r\n  ) {\r\n    return this.http.get(\r\n      `/appControl/corporateCustomerController/updateCorporateStatus`,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"userId\", userId)\r\n          .set(\"status\", status)\r\n          .set(\"id\", id)\r\n          .set(\"customerType\", custType),\r\n      }\r\n    );\r\n  }\r\n\r\n  // customer-search-related\r\n\r\n  getCustomerListDataOnSearch(\r\n    id: string,\r\n    criteriaMap: any,\r\n    pageNumber: any,\r\n    pageSize: any,\r\n    custType: any,\r\n    sortBy: any,\r\n    orderBy: any\r\n  ) {\r\n    return this.http.get(\r\n      `/appControl/corporateCustomerController/getCorporateCustomerDetailsList`,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"userId\", id)\r\n          .set(\"criteriaMap\", criteriaMap)\r\n          .set(\"pageNumber\", pageNumber)\r\n          .set(\"pageSize\", pageSize)\r\n          .set(\"sortBy\", sortBy)\r\n          .set(\"orderBy\", orderBy)\r\n          .set(\"customerType\", custType),\r\n      }\r\n    );\r\n  }\r\n\r\n  getDataForsearchCriteria(\r\n    id: string,\r\n    appName: any,\r\n    moduleName: any,\r\n    formName: any\r\n  ) {\r\n    return this.http.get(\r\n      `/appControl/corporateCustomerController/getCustomerSearchSetting`,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"userId\", id)\r\n          .set(\"applicationName\", String(appName))\r\n          .set(\"moduleName\", String(moduleName))\r\n          .set(\"formName\", formName),\r\n      }\r\n    );\r\n  }\r\n}\r\n","import {\r\n  AfterViewInit,\r\n  Component,\r\n  EventEmitter,\r\n  Input,\r\n  OnChanges,\r\n  OnInit,\r\n  Output,\r\n  SimpleChanges,\r\n} from \"@angular/core\";\r\nimport {\r\n  FormBuilder,\r\n  FormControl,\r\n  FormGroup,\r\n  UntypedFormGroup,\r\n  Validators,\r\n} from \"@angular/forms\";\r\nimport { Calendar } from \"primeng/calendar\";\r\n\r\nimport _lodashClone from \"lodash-es/cloneDeep\";\r\nimport { CoreService } from \"src/app/core.service\";\r\n\r\n@Component({\r\n  selector: \"app-document-collection\",\r\n  templateUrl: \"./document-collection.component.html\",\r\n  styleUrls: [\"./document-collection.component.scss\"],\r\n})\r\nexport class DocumentCollectionComponent\r\n  implements OnInit, AfterViewInit, OnChanges\r\n{\r\n  @Input(\"submitted\") customerFormSubmitted: boolean | null = null;\r\n\r\n  @Input(\"documentSettingData\") documentSettingData: any = [];\r\n\r\n  @Input(\"customerUploadedDocumentsData\") customerUploadedDocumentsData: any =\r\n    null;\r\n\r\n  @Input(\"idIssueCountryList\") idIssueCountryList: any = [];\r\n\r\n  @Output(\"errorFromDocumentComponent\") errorFromDocumentComponent =\r\n    new EventEmitter<any>();\r\n\r\n  constructor(private fb: FormBuilder, private coreService: CoreService) {}\r\n\r\n  // uploadedDocsData = [\r\n  //   {\r\n  //     documentName: \"Aadhar\",\r\n  //     idNumber: \"887878787878\",\r\n  //     idIssueDate: \"01/01/2024\",\r\n  //     idExpiryDate: \"27/01/2024\",\r\n  //     idIssueAuthority: \"ABCD\",\r\n  //     idIssueCountry: \"AL\",\r\n  //     uploadFrontSide: null,\r\n  //     uploadFrontSideName: \"image_2023_12_27T10_40_33_076Z.png\",\r\n  //     uploadBackSide: null,\r\n  //     uploadBackSideName: \"image_2023_12_27T10_40_33_076Z.png\",\r\n  //     hereByConfirm: false,\r\n  //   },\r\n  //   {\r\n  //     documentName: \"PAN\",\r\n  //     idNumber: \"0909090909\",\r\n  //     idIssueDate: \"02/01/2024\",\r\n  //     idExpiryDate: \"\",\r\n  //     idIssueAuthority: \"EFGR\",\r\n  //     idIssueCountry: \"AS\",\r\n  //     uploadFrontSide: null,\r\n  //     uploadFrontSideName: \"image_2023_12_27T10_40_33_076Z.png\",\r\n  //     uploadBackSide: null,\r\n  //     uploadBackSideName: null,\r\n  //     hereByConfirm: false,\r\n  //   },\r\n  // ];\r\n\r\n  // idIssueCountryList: any[] = [\r\n  //   {\r\n  //     code: \"AF\",\r\n  //     codeName: \"AFGHANISTAN\",\r\n  //   },\r\n  //   {\r\n  //     code: \"AX\",\r\n  //     codeName: \"ALAND ISLANDS\",\r\n  //   },\r\n  //   {\r\n  //     code: \"IR\",\r\n  //     codeName: \"IRAN, ISLAMIC REPUBLIC OF\",\r\n  //   },\r\n  //   {\r\n  //     code: \"AL\",\r\n  //     codeName: \"ALBANIA\",\r\n  //   },\r\n  //   {\r\n  //     code: \"DZ\",\r\n  //     codeName: \"ALGERIA\",\r\n  //   },\r\n  //   {\r\n  //     code: \"AS\",\r\n  //     codeName: \"AMERICAN SAMOA\",\r\n  //   },\r\n  //   {\r\n  //     code: \"AD\",\r\n  //     codeName: \"ANDORRA\",\r\n  //   },\r\n  // ];\r\n\r\n  docCollectionForm!: FormGroup;\r\n\r\n  docTableCols: any[];\r\n\r\n  docTableData: any[];\r\n\r\n  docSettingDescription = \"Document description\";\r\n\r\n  docFormSubmitted: boolean = false;\r\n  hereByConfirmed: boolean = false;\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    console.log(\"::docChanges\", changes);\r\n    if (\r\n      changes.customerUploadedDocumentsData &&\r\n      changes.customerUploadedDocumentsData.currentValue.length > 0\r\n    ) {\r\n      this.customerUploadedDocumentsData =\r\n        changes.customerUploadedDocumentsData.currentValue;\r\n      this.setDocCollectionFormByData(\r\n        changes.customerUploadedDocumentsData.currentValue\r\n      );\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.docTableCols = [\r\n      {\r\n        field: \"documentName\",\r\n        header: \"\",\r\n        minWidth: \"130px\",\r\n        maxWidth: \"150px\",\r\n        fieldType: \"text\",\r\n      },\r\n      {\r\n        field: \"idNumber\",\r\n        header: \"ID Number\",\r\n        minWidth: \"120px\",\r\n        maxWidth: \"150px\",\r\n        fieldType: \"input\",\r\n      },\r\n      {\r\n        field: \"idIssueDate\",\r\n        header: \"ID Issue Date\",\r\n        minWidth: \"120px\",\r\n        maxWidth: \"150px\",\r\n        fieldType: \"date\",\r\n      },\r\n      {\r\n        field: \"idExpiryDate\",\r\n        header: \"ID Expiry Date\",\r\n        minWidth: \"120px\",\r\n        maxWidth: \"150px\",\r\n        fieldType: \"date\",\r\n      },\r\n      {\r\n        field: \"idIssueAuthority\",\r\n        header: \"ID Issue Authority\",\r\n        minWidth: \"120px\",\r\n        maxWidth: \"150px\",\r\n        fieldType: \"input\",\r\n      },\r\n      {\r\n        field: \"idIssueCountry\",\r\n        header: \"ID Issue Country\",\r\n        minWidth: \"175px\",\r\n        maxWidth: \"175px\",\r\n        fieldType: \"dropdownSingle\",\r\n      },\r\n      {\r\n        field: \"uploadFrontSide\",\r\n        header: \"Upload Front Side\",\r\n        minWidth: \"120px\",\r\n        maxWidth: \"150px\",\r\n        fieldType: \"file\",\r\n      },\r\n      {\r\n        field: \"uploadBackSide\",\r\n        header: \"Upload Back Side\",\r\n        minWidth: \"120px\",\r\n        maxWidth: \"150px\",\r\n        fieldType: \"file\",\r\n      },\r\n    ];\r\n\r\n    this.docCollectionForm = this.fb.group({});\r\n    let allDocData = [];\r\n    if (this.documentSettingData && this.documentSettingData.length) {\r\n      this.docSettingDescription = this.documentSettingData[0][\"DocumentDesc\"];\r\n    }\r\n    this.documentSettingData.forEach((doc) => {\r\n      let docData = {\r\n        docName: doc.Document,\r\n        isDocMandatory:\r\n          doc.IsMandatory && doc.IsMandatory == \"true\" ? true : false,\r\n        docFields: this.docTableCols.map((docCol) => {\r\n          let fieldData = {\r\n            fieldName: docCol.field,\r\n            fieldLabel: docCol.header,\r\n            fieldType: docCol.fieldType,\r\n            showField: true,\r\n            requiredField: false,\r\n          };\r\n          if (docCol.field == \"documentName\") {\r\n            fieldData[\"defaultValue\"] = doc.Document;\r\n          }\r\n          if (doc.IsMandatory && doc.IsMandatory.trim().length) {\r\n            if (docCol.field == \"idNumber\") {\r\n              fieldData[\"requiredField\"] =\r\n                doc.IsMandatory == \"true\" ? true : false;\r\n            }\r\n          }\r\n          if (doc.FrontSide && doc.FrontSide.trim().length) {\r\n            if (docCol.field == \"uploadFrontSide\") {\r\n              fieldData[\"requiredField\"] =\r\n                doc.FrontSide == \"true\" && doc.IsMandatory == \"true\"\r\n                  ? true\r\n                  : false;\r\n            }\r\n          }\r\n          if (doc.BackSide && doc.BackSide.trim().length) {\r\n            if (docCol.field == \"uploadBackSide\") {\r\n              fieldData[\"requiredField\"] =\r\n                doc.BackSide == \"true\" && doc.IsMandatory == \"true\"\r\n                  ? true\r\n                  : false;\r\n            }\r\n          }\r\n          if (doc.BypassImage && doc.BypassImage.trim().length) {\r\n            if (\r\n              docCol.field == \"uploadFrontSide\" ||\r\n              docCol.field == \"uploadBackSide\"\r\n            ) {\r\n              fieldData[\"requiredField\"] =\r\n                doc.BypassImage == \"true\" ? false : fieldData[\"requiredField\"];\r\n            }\r\n          }\r\n          if (doc.IssueCountry && doc.IssueCountry.trim().length) {\r\n            if (docCol.field == \"idIssueCountry\") {\r\n              fieldData[\"requiredField\"] =\r\n                doc.IssueCountry == \"true\" && doc.IsMandatory == \"true\"\r\n                  ? true\r\n                  : false;\r\n            }\r\n          }\r\n          if (doc.DocumentNoType && doc.DocumentNoType.trim().length) {\r\n            if (docCol.field == \"idNumber\") {\r\n              if (doc.DocumentNoType == \"AlphaNumeric\") {\r\n                fieldData[\"regex\"] = \"^[a-z0-9]*$\";\r\n                fieldData[\"regexMessage\"] = \"Only alphanumeric allowed\";\r\n              } else if (doc.DocumentNoType == \"Numeric\") {\r\n                fieldData[\"regex\"] = \"^[0-9]*$\";\r\n                fieldData[\"regexMessage\"] = \"Only numeric allowed\";\r\n              }\r\n            }\r\n          }\r\n          if (doc.LengthMinMax && doc.LengthMinMax.trim().length) {\r\n            if (docCol.field == \"idNumber\") {\r\n              fieldData[\"minLength\"] = doc.LengthMinMax.split(\"/\")[0];\r\n              fieldData[\"maxLength\"] = doc.LengthMinMax.split(\"/\")[1];\r\n            }\r\n          }\r\n          if (docCol.fieldType == \"date\") {\r\n            if (docCol.field == \"idExpiryDate\") {\r\n              fieldData[\"maxDate\"] = new Date(\"3000/01/01\");\r\n              fieldData[\"minDate\"] = this.getNextDays();\r\n            } else if (docCol.field == \"idIssueDate\") {\r\n              fieldData[\"maxDate\"] = this.getPrevDays();\r\n              fieldData[\"minDate\"] = new Date(\"1000/01/01\");\r\n            }\r\n          }\r\n          return fieldData;\r\n        }),\r\n      };\r\n      allDocData.push(docData);\r\n    });\r\n    this.docTableData = allDocData;\r\n    this.docTableData.forEach((docData) => {\r\n      const docDataGroup = new UntypedFormGroup({});\r\n      docData.docFields.forEach((field) => {\r\n        let validators = [];\r\n        if (field.minLength) {\r\n          validators.push(Validators.minLength(+field.minLength));\r\n        }\r\n        if (field.maxLength) {\r\n          validators.push(Validators.maxLength(+field.maxLength));\r\n        }\r\n        if (field.requiredField) {\r\n          validators.push(Validators.required);\r\n        }\r\n        if (field.regex) {\r\n          validators.push(Validators.pattern(field.regex));\r\n        }\r\n        docDataGroup.addControl(\r\n          field.fieldName,\r\n          this.fb.control(\r\n            field.defaultValue ? field.defaultValue : \"\",\r\n            validators\r\n          )\r\n        );\r\n      });\r\n      docDataGroup.addControl(\"uploadFrontSideName\", this.fb.control(null));\r\n      docDataGroup.addControl(\"uploadBackSideName\", this.fb.control(null));\r\n      this.docCollectionForm.addControl(docData.docName, docDataGroup);\r\n    });\r\n    // this.docCollectionForm.addControl(\r\n    //   \"hereByConfirm\",\r\n    //   this.fb.control(\"\", [Validators.required])\r\n    // );\r\n\r\n    console.log(\":;\", this.docTableData);\r\n    console.log(\":;\", this.docCollectionForm);\r\n\r\n    this.docCollectionForm.valueChanges.subscribe((change) => {\r\n      this.hereByConfirmed = false;\r\n      // this.docCollectionForm.get(\"hereByConfirm\").patchValue(false);\r\n      console.log(\":::DocFormChanged\", change);\r\n      console.log(\":::hereByConfirmed\", this.hereByConfirmed);\r\n    });\r\n  }\r\n\r\n  get docForm() {\r\n    return this.docCollectionForm && this.docCollectionForm.controls;\r\n  }\r\n\r\n  downloadDocuments(documentNameList: any) {\r\n    console.log(\r\n      \":;\",\r\n      documentNameList.filter((name) => {\r\n        return name && name != \"\";\r\n      })\r\n    );\r\n  }\r\n\r\n  viewDocument(documentName: any) {\r\n    console.log(\":;\", documentName);\r\n  }\r\n\r\n  setDocCollectionFormByData(uploadedDocs: any) {\r\n    if (uploadedDocs && uploadedDocs.length) {\r\n      // let hereByConfirmValue = uploadedDocs[0][\"hereByConfirm\"];\r\n      let hereByConfirmValue = false;\r\n      this.hereByConfirmed = hereByConfirmValue;\r\n      uploadedDocs.forEach((doc) => {\r\n        let formGroupName = doc[\"documentName\"];\r\n        for (const key of Object.keys(doc)) {\r\n          if (\r\n            this.docForm[formGroupName] &&\r\n            this.docForm[formGroupName][\"controls\"][key]\r\n          ) {\r\n            if (key == \"idIssueCountry\" && doc[key] != \"\") {\r\n              let filteredCountry = this.idIssueCountryList.filter(\r\n                (country) => country.code == doc[key]\r\n              );\r\n              this.docForm[formGroupName][\"controls\"][key].patchValue(\r\n                filteredCountry.length ? filteredCountry[0] : \"\"\r\n              );\r\n            } else if (\r\n              key == \"uploadFrontSideName\" ||\r\n              key == \"uploadBackSideName\"\r\n            ) {\r\n              if (doc[key] && doc[key] != \"\") {\r\n                this.docForm[formGroupName][\"controls\"][\r\n                  key.split(\"Name\")[0]\r\n                ].patchValue(doc[key]);\r\n                this.docForm[formGroupName][\"controls\"][key].patchValue(\r\n                  doc[key]\r\n                );\r\n              }\r\n            } else {\r\n              this.docForm[formGroupName][\"controls\"][key].patchValue(doc[key]);\r\n            }\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  docFormSubmit(event: any) {\r\n    this.docFormSubmitted = true;\r\n\r\n    if (this.docCollectionForm.valid) {\r\n      this.hereByConfirmed = true;\r\n      this.errorFromDocumentComponent.emit(null);\r\n      let formattedFormData = _lodashClone(this.docCollectionForm.value);\r\n      let hereByConfirmValue = formattedFormData[\"hereByConfirm\"];\r\n      delete formattedFormData[\"hereByConfirm\"];\r\n      for (const key of Object.keys(formattedFormData)) {\r\n        for (const key2 of Object.keys(formattedFormData[key])) {\r\n          formattedFormData[key][\"hereByConfirm\"] = hereByConfirmValue;\r\n          if (key2 == \"idExpiryDate\" || key2 == \"idIssueDate\") {\r\n            if (\r\n              formattedFormData[key][key2] &&\r\n              formattedFormData[key][key2] != \"\" &&\r\n              typeof formattedFormData[key][key2] == \"object\"\r\n            ) {\r\n              formattedFormData[key][key2] =\r\n                formattedFormData[key][key2].toLocaleDateString(\"en-GB\");\r\n            }\r\n          }\r\n          if (key2 == \"idIssueCountry\") {\r\n            if (\r\n              formattedFormData[key][key2] &&\r\n              formattedFormData[key][key2].code\r\n            ) {\r\n              formattedFormData[key][key2] = formattedFormData[key][key2].code;\r\n            }\r\n          }\r\n          if (key2 == \"uploadFrontSide\" || key2 == \"uploadBackSide\") {\r\n            if (\r\n              formattedFormData[key][key2] &&\r\n              (formattedFormData[key][key2] == \"\" ||\r\n                !(formattedFormData[key][key2] instanceof File))\r\n            ) {\r\n              formattedFormData[key][key2] = null;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      let formData = new FormData();\r\n      if (Object.values(formattedFormData).length) {\r\n        for (let i = 0; i < Object.values(formattedFormData).length; i++) {\r\n          for (let key in Object.values(formattedFormData)[i] as object) {\r\n            formData.append(\r\n              `uploadDocuments[${i}].${key}`,\r\n              Object.values(formattedFormData)[i][key]\r\n            );\r\n          }\r\n        }\r\n      }\r\n      console.log(\r\n        \":; validDOcForm\",\r\n        JSON.stringify(Object.values(formattedFormData), null, 2)\r\n      );\r\n      // Display the key/value pairs\r\n      for (var pair of formData.entries()) {\r\n        console.log(pair[0] + \", \" + pair[1]);\r\n      }\r\n    } else {\r\n      event.target.checked = false;\r\n      this.hereByConfirmed = false;\r\n      console.log(\":; invalidDOcForm\", this.docCollectionForm);\r\n      this.coreService.showWarningToast(\r\n        \"Uploaded Documents details are not valid, Please check!\"\r\n      );\r\n      this.errorFromDocumentComponent.emit(\r\n        \"Uploaded Documents details are not valid, Please check!\"\r\n      );\r\n    }\r\n  }\r\n\r\n  showTooltip(fieldCtrl: FormControl, docField: any) {\r\n    if (fieldCtrl && fieldCtrl.errors) {\r\n      if (fieldCtrl.dirty) {\r\n        if (fieldCtrl.errors.pattern) {\r\n          return docField.regexMessage\r\n            ? docField.regexMessage\r\n            : `Improper ${docField.fieldLabel} format.`;\r\n        } else if (fieldCtrl.errors.minlength) {\r\n          return `${docField.fieldLabel} must be\r\n          ${docField.minLength} characters long.`;\r\n        } else if (fieldCtrl.errors.maxlength) {\r\n          return `${docField.fieldLabel} must not exceed\r\n          ${docField.maxLength} characters.`;\r\n        }\r\n      } else if (fieldCtrl.errors.required) {\r\n        return `${docField.fieldLabel} is required.`;\r\n      }\r\n    }\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    console.log(\r\n      \":;\",\r\n      document.querySelectorAll(\".doc-collection-form .file-select-name input\")\r\n    );\r\n    document\r\n      .querySelectorAll(\".doc-collection-form .file-select-name input\")\r\n      .forEach((el: HTMLInputElement) => {\r\n        if (el) el.setAttribute(\"disabled\", \"true\");\r\n      });\r\n  }\r\n\r\n  fileUploadChange(e: any, docName: any, fieldName: any) {\r\n    this.docCollectionForm\r\n      ?.get(docName)\r\n      ?.get(fieldName)\r\n      .patchValue(e.target.files[0].name);\r\n  }\r\n\r\n  handleDateSelect(calendar: Calendar) {\r\n    setTimeout(() => {\r\n      if (calendar.inputfieldViewChild.nativeElement) {\r\n        calendar.inputfieldViewChild.nativeElement.focus();\r\n      }\r\n    }, 0);\r\n  }\r\n\r\n  setUploadBtnStyle(set: boolean, btn: any) {\r\n    if (set) {\r\n      if (btn) {\r\n        btn.style.border = \"1px solid #4759e4\";\r\n      }\r\n    } else {\r\n      btn.style.border = \"none\";\r\n    }\r\n  }\r\n\r\n  getNextDays(currentDate = new Date(), daysToAdd = 1) {\r\n    const nextDate = new Date(currentDate);\r\n    nextDate.setDate(currentDate.getDate() + daysToAdd);\r\n    return nextDate;\r\n  }\r\n  getPrevDays(currentDate = new Date(), daysToMinus = 1) {\r\n    const prevDate = new Date(currentDate);\r\n    prevDate.setDate(currentDate.getDate() - daysToMinus);\r\n    return prevDate;\r\n  }\r\n}\r\n","<form\r\n  id=\"document-collection-form\"\r\n  *ngIf=\"documentSettingData && documentSettingData.length\"\r\n  class=\"doc-collection-form\"\r\n  [formGroup]=\"docCollectionForm\"\r\n>\r\n  <p-panel [header]=\"docSettingDescription\" [toggleable]=\"true\" *ngIf=\"true\">\r\n    <p-table\r\n      [value]=\"docTableData\"\r\n      [columns]=\"docTableCols\"\r\n      [tableStyle]=\"{ 'min-width': '50rem', position: 'relative' }\"\r\n    >\r\n      <ng-template pTemplate=\"header\" let-columns>\r\n        <tr>\r\n          <th\r\n            *ngFor=\"let col of columns\"\r\n            [style.minWidth]=\"col.minWidth\"\r\n            [style.maxWidth]=\"col.maxWidth\"\r\n          >\r\n            {{ col.header }}\r\n          </th>\r\n          <th\r\n            *ngIf=\"\r\n              customerUploadedDocumentsData &&\r\n              customerUploadedDocumentsData.length\r\n            \"\r\n            [style.minWidth]=\"'100px'\"\r\n          >\r\n            Download ID\r\n          </th>\r\n        </tr>\r\n      </ng-template>\r\n      <ng-template pTemplate=\"body\" let-docData let-columns=\"columns\">\r\n        <tr>\r\n          <ng-container [formGroup]=\"docForm[docData['docName']]\">\r\n            <td\r\n              *ngFor=\"let docField of docData.docFields\"\r\n              [pTooltip]=\"\r\n                showTooltip(\r\n                  docForm[docData['docName']]['controls'][\r\n                    docField['fieldName']\r\n                  ],\r\n                  docField\r\n                )\r\n              \"\r\n            >\r\n              <ng-container [ngSwitch]=\"docField.fieldType\">\r\n                <ng-container *ngSwitchCase=\"'text'\">\r\n                  <div style=\"display: inline-block; position: relative\">\r\n                    <span>{{\r\n                      docField?.defaultValue\r\n                        ? docField.defaultValue\r\n                        : \"Document\"\r\n                    }}</span\r\n                    ><span *ngIf=\"docData.isDocMandatory\" class=\"red-star\"\r\n                      >*</span\r\n                    >\r\n                  </div>\r\n                </ng-container>\r\n                <ng-container *ngSwitchCase=\"'input'\">\r\n                  <input\r\n                    [formControlName]=\"docField.fieldName\"\r\n                    type=\"text\"\r\n                    [ngStyle]=\"{\r\n                      borderRadius: '7px',\r\n                      border:\r\n                        docForm[docData['docName']].controls[\r\n                          docField['fieldName']\r\n                        ].errors?.required && docFormSubmitted\r\n                          ? '1px solid red'\r\n                          : ''\r\n                    }\"\r\n                  />\r\n                </ng-container>\r\n                <ng-container *ngSwitchCase=\"'date'\">\r\n                  <p-calendar\r\n                    #calendar\r\n                    class=\"block\"\r\n                    placeholder=\"DD/MM/YYYY\"\r\n                    dateFormat=\"dd/mm/yy\"\r\n                    [showIcon]=\"true\"\r\n                    [readonlyInput]=\"false\"\r\n                    [appendTo]=\"'body'\"\r\n                    (onSelect)=\"handleDateSelect(calendar, $event)\"\r\n                    appDateMask\r\n                    tooltipPosition=\"top\"\r\n                    [formControlName]=\"docField.fieldName\"\r\n                    [maxDate]=\"docField.maxDate\"\r\n                    [minDate]=\"docField.minDate\"\r\n                    [ngStyle]=\"{\r\n                      borderRadius: '7px',\r\n                      border:\r\n                        docForm[docData['docName']].controls[\r\n                          docField['fieldName']\r\n                        ].errors?.required && docFormSubmitted\r\n                          ? '1px solid red'\r\n                          : ''\r\n                    }\"\r\n                  ></p-calendar>\r\n                </ng-container>\r\n\r\n                <ng-container *ngSwitchCase=\"'dropdownSingle'\">\r\n                  <p-dropdown\r\n                    class=\"block docCollection-dropdown\"\r\n                    [options]=\"idIssueCountryList\"\r\n                    optionLabel=\"codeName\"\r\n                    placeholder=\"Select\"\r\n                    [formControlName]=\"docField.fieldName\"\r\n                    panelStyleClass=\"docCollection-dropdown\"\r\n                    appendTo=\"body\"\r\n                    [pTooltip]=\"\r\n                      docForm[docData['docName']].controls[\r\n                        docField['fieldName']\r\n                      ].value?.codeName\r\n                    \"\r\n                    [ngStyle]=\"{\r\n                      borderRadius: '7px',\r\n                      border:\r\n                        docForm[docData['docName']].controls[\r\n                          docField['fieldName']\r\n                        ].errors?.required && docFormSubmitted\r\n                          ? '1px solid red'\r\n                          : ''\r\n                    }\"\r\n                  >\r\n                    <ng-template let-options pTemplate=\"item\">\r\n                      <div class=\"truncate-text\">\r\n                        <div>{{ options.codeName }}</div>\r\n                      </div>\r\n                    </ng-template>\r\n                  </p-dropdown>\r\n                </ng-container>\r\n\r\n                <div *ngSwitchCase=\"'file'\" class=\"file-upload\">\r\n                  <app-file-upload\r\n                    [formControlName]=\"docField.fieldName\"\r\n                    [uploadedFileName]=\"\r\n                      docForm[docData['docName']]['controls'][\r\n                        docField['fieldName'] + 'Name'\r\n                      ].value\r\n                    \"\r\n                    [hasError]=\"\r\n                      docFormSubmitted &&\r\n                      docForm[docData['docName']]['controls'][\r\n                        docField['fieldName']\r\n                      ].errors?.required\r\n                    \"\r\n                    (fileNameToView)=\"viewDocument($event)\"\r\n                  ></app-file-upload>\r\n                </div>\r\n              </ng-container>\r\n            </td>\r\n            <td\r\n              *ngIf=\"\r\n                customerUploadedDocumentsData &&\r\n                customerUploadedDocumentsData.length\r\n              \"\r\n            >\r\n              <div\r\n                class=\"fake-btn\"\r\n                (click)=\"\r\n                  downloadDocuments([\r\n                    docForm[docData['docName']]['controls'][\r\n                      'uploadFrontSideName'\r\n                    ]['value'],\r\n                    docForm[docData['docName']]['controls'][\r\n                      'uploadBackSideName'\r\n                    ]['value']\r\n                  ])\r\n                \"\r\n              >\r\n                <i class=\"pi pi-download\"></i>\r\n              </div>\r\n            </td>\r\n          </ng-container>\r\n        </tr>\r\n      </ng-template>\r\n    </p-table>\r\n    <div\r\n      *ngIf=\"docTableData.length\"\r\n      id=\"hereby-confirm-div\"\r\n      class=\"hereby-confirm-check\"\r\n    >\r\n      <input\r\n        [(ngModel)]=\"hereByConfirmed\"\r\n        [ngModelOptions]=\"{ standalone: true }\"\r\n        type=\"checkbox\"\r\n        (change)=\"docFormSubmit($event)\"\r\n        [ngStyle]=\"{\r\n          'box-shadow':\r\n            docTableData.length && !hereByConfirmed && customerFormSubmitted\r\n              ? '0px 0px 0px 1px red'\r\n              : ''\r\n        }\"\r\n      />\r\n      <span>Hereby confirm that ID details provided are verified</span>\r\n    </div>\r\n  </p-panel>\r\n</form>\r\n","import { Component, EventEmitter, Input, OnInit, Output } from \"@angular/core\";\r\nimport { CoreService } from \"src/app/core.service\";\r\n\r\n@Component({\r\n  selector: \"app-confirm-dialog-modal\",\r\n  templateUrl: \"./confirm-dialog-modal.component.html\",\r\n  styleUrls: [\"./confirm-dialog-modal.component.scss\"],\r\n})\r\nexport class ConfirmDialogModalComponent {\r\n  @Input() key: string = \"confirmDialog\";\r\n  @Input() header: string = \"Confirmation\";\r\n  @Input() dialogWidth: string = \"300px\";\r\n  @Input() acceptLabel: string = \"Yes\";\r\n  @Input() rejectLabel: string = \"No\";\r\n  @Input() acceptIcon: string = \"pi pi-check\";\r\n  @Input() rejectIcon: string = \"pi pi-times\";\r\n  @Output() confirm = new EventEmitter<void>();\r\n  @Output() reject = new EventEmitter<void>();\r\n\r\n  isVisible: boolean = false;\r\n\r\n  constructor(private coreService: CoreService) {}\r\n\r\n  show() {\r\n    console.log(\":::visible\", this.isVisible);\r\n    this.isVisible = true;\r\n    this.coreService.setHeaderStickyStyle(false);\r\n    this.coreService.setSidebarBtnFixedStyle(false);\r\n  }\r\n\r\n  hide() {\r\n    this.isVisible = false;\r\n    this.setHeaderSidebarBtn();\r\n  }\r\n\r\n  onConfirm() {\r\n    this.confirm.emit();\r\n    this.hide();\r\n  }\r\n\r\n  onReject() {\r\n    this.reject.emit();\r\n    this.hide();\r\n  }\r\n\r\n  onHide() {\r\n    this.hide();\r\n  }\r\n\r\n  setHeaderSidebarBtn() {\r\n    this.coreService.displayLoadingScreen();\r\n    setTimeout(() => {\r\n      this.coreService.setHeaderStickyStyle(true);\r\n      this.coreService.setSidebarBtnFixedStyle(true);\r\n    }, 500);\r\n    setTimeout(() => {\r\n      this.coreService.removeLoadingScreen();\r\n    }, 1000);\r\n  }\r\n}\r\n","<p-confirmDialog\r\n  [visible]=\"isVisible\"\r\n  key=\"confirmDialog\"\r\n  header=\"{{ header }}\"\r\n>\r\n  <p-footer>\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      [icon]=\"acceptIcon\"\r\n      (click)=\"onConfirm()\"\r\n      label=\"{{ acceptLabel }}\"\r\n    ></button>\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      [icon]=\"rejectIcon\"\r\n      (click)=\"onReject()\"\r\n      label=\"{{ rejectLabel }}\"\r\n    ></button>\r\n  </p-footer>\r\n</p-confirmDialog>\r\n","import { EventEmitter, Injectable } from \"@angular/core\";\r\nimport { ConfirmationService } from \"primeng/api\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class ConfirmDialogModalService {\r\n  confirmEvent: EventEmitter<void> = new EventEmitter();\r\n\r\n  constructor(private confirmationService: ConfirmationService) {}\r\n\r\n  confirm(\r\n    message: string,\r\n    options: {\r\n      header?: string;\r\n      acceptLabel?: string;\r\n      rejectLabel?: string;\r\n      acceptIcon?: string;\r\n      rejectIcon?: string;\r\n    } = {}\r\n  ) {\r\n    const { header, acceptLabel, rejectLabel, acceptIcon, rejectIcon } =\r\n      options;\r\n\r\n    this.confirmationService.confirm({\r\n      message: message,\r\n      header: header || \"Confirmation\",\r\n      acceptLabel: acceptLabel || \"Yes\",\r\n      rejectLabel: rejectLabel || \"No\",\r\n      acceptIcon: acceptIcon || \"pi pi-check\",\r\n      rejectIcon: rejectIcon || \"pi pi-times\",\r\n      accept: () => {\r\n        this.confirmEvent.emit();\r\n      },\r\n    });\r\n  }\r\n}\r\n","import { Component } from \"@angular/core\";\r\nimport {\r\n  UntypedFormArray,\r\n  UntypedFormBuilder,\r\n  UntypedFormGroup,\r\n} from \"@angular/forms\";\r\nimport { DynamicDialogConfig, DynamicDialogRef } from \"primeng/dynamicdialog\";\r\nimport { take } from \"rxjs/operators\";\r\nimport { SetCriteriaService } from \"../../components/set-criteria/set-criteria.service\";\r\nimport { CoreService } from \"src/app/core.service\";\r\n\r\n@Component({\r\n  templateUrl: \"./transaction-criteria-modal.html\",\r\n  styleUrls: [\"./transaction-criteria-modal.scss\"],\r\n})\r\nexport class TransactionCriteriaModal {\r\n  txnCriteriaRangeForm: UntypedFormGroup = new UntypedFormGroup({\r\n    txnCriteriaRange: new UntypedFormArray([]),\r\n  });\r\n  txnCriteriaRange: UntypedFormArray = new UntypedFormArray([]);\r\n\r\n  showError: boolean = false;\r\n  rangesOverlapping = false;\r\n  isTxnCriteriaRangesSaved = false;\r\n  isAnyErrorInRangeMsg = \"\";\r\n  isRangeEmpty = false;\r\n  isOrderIncorrect = false;\r\n  TransactionCriteriaRange = [];\r\n  isFormDataChanged = true;\r\n  isRangeValueLessThanZero = false;\r\n\r\n  constructor(\r\n    private formBuilder: UntypedFormBuilder,\r\n    private ref: DynamicDialogRef,\r\n    public config: DynamicDialogConfig,\r\n    private setCriteriaService: SetCriteriaService,\r\n    private coreService: CoreService\r\n  ) {}\r\n\r\n  get allTxnCriteriaRange(): UntypedFormArray {\r\n    return this.txnCriteriaRangeForm.get(\r\n      \"txnCriteriaRange\"\r\n    ) as UntypedFormArray;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.txnCriteriaRangeForm.valueChanges.subscribe((x) => {\r\n      let savedData = JSON.stringify(this.config.data.txnCriteriaRange);\r\n      let formData = JSON.stringify(x);\r\n      if (savedData == formData) {\r\n        this.isFormDataChanged = false;\r\n      } else {\r\n        this.isFormDataChanged = true;\r\n      }\r\n    });\r\n\r\n    if (Object.keys(this.config.data.txnCriteriaRange).length) {\r\n      this.config.data.txnCriteriaRange.txnCriteriaRange.forEach((range) => {\r\n        this.txnCriteriaRange.push(\r\n          this.createTxnCriteriaRange(range.from, range.to)\r\n        );\r\n        this.allTxnCriteriaRange.push(\r\n          this.createTxnCriteriaRange(range.from, range.to)\r\n        );\r\n      });\r\n    } else {\r\n      this.addTxnCriteriaRange();\r\n    }\r\n\r\n    this.ref.onClose.pipe(take(1)).subscribe((res) => {\r\n      if (this.isTxnCriteriaRangesSaved) {\r\n        this.coreService.showSuccessToast(\"Amount Range Saved\");\r\n      } else {\r\n        if (this.isFormDataChanged) {\r\n          this.coreService.showWarningToast(\"Amount Ranges Not Saved Properly\");\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  areOverlapping = (a: any, b: any) =>\r\n    b.from <= a.from\r\n      ? b.to >= a.from && typeof b.to == typeof a.from\r\n      : b.from <= a.to && typeof a.to == typeof b.from;\r\n\r\n  createTxnCriteriaRange(from: number, to: number): UntypedFormGroup {\r\n    return this.formBuilder.group({\r\n      from: from,\r\n      to: to,\r\n    });\r\n  }\r\n\r\n  checkConditions() {\r\n    let rangesArr = [];\r\n    this.rangesOverlapping = false;\r\n    this.isRangeEmpty = false;\r\n    this.isOrderIncorrect = false;\r\n    this.isRangeValueLessThanZero = false;\r\n    if (this.txnCriteriaRange && this.txnCriteriaRange?.length) {\r\n      this.txnCriteriaRange.controls.forEach((range) => {\r\n        if (range.value) {\r\n          if (range.value.from == null || range.value.to == null) {\r\n            this.isRangeEmpty = true;\r\n          } else if (range.value.from < 0 || range.value.to < 0) {\r\n            this.isRangeValueLessThanZero = true;\r\n          } else if (range.value.from >= range.value.to) {\r\n            this.isOrderIncorrect = true;\r\n          }\r\n          rangesArr.push(range.value);\r\n        }\r\n      });\r\n\r\n      rangesArr.forEach((range, i) => {\r\n        if (i < rangesArr.length - 1) {\r\n          if (this.areOverlapping(range, rangesArr[rangesArr.length - 1])) {\r\n            this.rangesOverlapping = true;\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  changeTo(e: any, i: any) {\r\n    if (!(e.value > 9999999999)) {\r\n      if (this.txnCriteriaRange.controls) {\r\n        (this.txnCriteriaRange.controls[i] as UntypedFormGroup)?.controls[\r\n          \"to\"\r\n        ].setValue(e.value);\r\n      }\r\n    }\r\n  }\r\n  changeFrom(e: any, i: any) {\r\n    if (!(e.value > 9999999999)) {\r\n      if (this.txnCriteriaRange.controls) {\r\n        (this.txnCriteriaRange.controls[i] as UntypedFormGroup)?.controls[\r\n          \"from\"\r\n        ].setValue(e.value);\r\n      }\r\n    }\r\n  }\r\n\r\n  addTxnCriteriaRange(): void {\r\n    if (this.txnCriteriaRange?.length >= 10) {\r\n      this.isAnyErrorInRangeMsg = \"Maximum 10 Amount Ranges Can Be Added\";\r\n      setTimeout(() => {\r\n        this.isAnyErrorInRangeMsg = \"\";\r\n      }, 1500);\r\n    } else {\r\n      this.checkConditions();\r\n      if (this.isRangeValueLessThanZero) {\r\n        this.isAnyErrorInRangeMsg = \"Range Value Should Be Positive\";\r\n        setTimeout(() => {\r\n          this.isAnyErrorInRangeMsg = \"\";\r\n        }, 1500);\r\n      } else if (this.rangesOverlapping) {\r\n        this.isAnyErrorInRangeMsg =\r\n          \"Overlapping criteria range found, please update\";\r\n        setTimeout(() => {\r\n          this.isAnyErrorInRangeMsg = \"\";\r\n        }, 1500);\r\n      } else if (this.isRangeEmpty) {\r\n        this.isAnyErrorInRangeMsg = \"Empty range found, please fill it first\";\r\n        setTimeout(() => {\r\n          this.isAnyErrorInRangeMsg = \"\";\r\n        }, 1500);\r\n      } else if (this.isOrderIncorrect) {\r\n        this.isAnyErrorInRangeMsg =\r\n          \"Amount From value should be less than Amount To value\";\r\n        setTimeout(() => {\r\n          this.isAnyErrorInRangeMsg = \"\";\r\n        }, 1500);\r\n      } else {\r\n        this.isRangeValueLessThanZero = false;\r\n        this.isTxnCriteriaRangesSaved = false;\r\n        this.txnCriteriaRange = this.txnCriteriaRangeForm.get(\r\n          \"txnCriteriaRange\"\r\n        ) as UntypedFormArray;\r\n        this.txnCriteriaRange.push(this.createTxnCriteriaRange(null, null));\r\n      }\r\n    }\r\n  }\r\n\r\n  deleteRange(i) {\r\n    this.txnCriteriaRange = this.txnCriteriaRangeForm.get(\r\n      \"txnCriteriaRange\"\r\n    ) as UntypedFormArray;\r\n    this.txnCriteriaRange.removeAt(i);\r\n  }\r\n\r\n  saveTxnCriteriaRanges() {\r\n    this.checkConditions();\r\n    if (this.isRangeValueLessThanZero) {\r\n      this.isAnyErrorInRangeMsg = \"Range Value should be positive\";\r\n      setTimeout(() => {\r\n        this.isAnyErrorInRangeMsg = \"\";\r\n      }, 1500);\r\n    } else if (this.rangesOverlapping) {\r\n      this.isAnyErrorInRangeMsg =\r\n        \"Overlapping criteria range found, please update\";\r\n      setTimeout(() => {\r\n        this.isAnyErrorInRangeMsg = \"\";\r\n      }, 1500);\r\n    } else if (this.isOrderIncorrect) {\r\n      this.isAnyErrorInRangeMsg =\r\n        \"Amount From value should be less than Amount To value\";\r\n      setTimeout(() => {\r\n        this.isAnyErrorInRangeMsg = \"\";\r\n      }, 1500);\r\n    } else {\r\n      if (this.isRangeEmpty) {\r\n        this.isAnyErrorInRangeMsg = \"Empty range found, please fill it first\";\r\n        setTimeout(() => {\r\n          this.isAnyErrorInRangeMsg = \"\";\r\n        }, 1500);\r\n      } else {\r\n        this.isTxnCriteriaRangesSaved = true;\r\n\r\n        this.txnCriteriaRangeForm.value.txnCriteriaRange.forEach((range, i) => {\r\n          if (\r\n            i > 0 &&\r\n            Object.values(range).filter((rng) => rng == null).length\r\n          ) {\r\n            this.txnCriteriaRangeForm.value.txnCriteriaRange.splice(i, 1);\r\n          }\r\n        });\r\n\r\n        this.TransactionCriteriaRange = this.txnCriteriaRangeForm.value;\r\n        this.setCriteriaService.setTransactionCriteriaRange(\r\n          this.TransactionCriteriaRange\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  closeModal() {\r\n    this.saveTxnCriteriaRanges();\r\n    if (this.isTxnCriteriaRangesSaved && !this.isRangeEmpty) {\r\n      this.ref.close(this.TransactionCriteriaRange);\r\n    }\r\n  }\r\n}\r\n","<div>\r\n  <div class=\"modal-body-content\" [formGroup]=\"txnCriteriaRangeForm\">\r\n    <div class=\"d-flex jc-between\">\r\n      <div class=\"col-6 pb-0\">\r\n        <label style=\"font-weight: 500\" for=\"amountFrom\">Amount From</label>\r\n      </div>\r\n      <div class=\"col-6 pb-0\">\r\n        <label style=\"font-weight: 500\" for=\"amountTo\">Amount To</label>\r\n      </div>\r\n    </div>\r\n    <div class=\"all-range-groups\">\r\n      <ng-container\r\n        formArrayName=\"txnCriteriaRange\"\r\n        *ngFor=\"let item of txnCriteriaRangeForm.get('txnCriteriaRange')['controls']; let i = index;\"\r\n      >\r\n        <div\r\n          [formGroupName]=\"i\"\r\n          class=\"d-flex jc-between\"\r\n          style=\"position: relative\"\r\n        >\r\n          <div class=\"index-range\">{{i+1}}.</div>\r\n          <div class=\"col-6 pl-3\" style=\"text-align: right\">\r\n            <p-inputNumber\r\n              #fromInp\r\n              mode=\"decimal\"\r\n              maxlength=\"10\"\r\n              maxValue=\"9999999999\"\r\n              [useGrouping]=\"false\"\r\n              inputId=\"integeronly\"\r\n              [style]=\"{width: '95%'}\"\r\n              [inputStyle]=\"{width: '195px', background: '#f4f6fa', border: 'none'}\"\r\n              formControlName=\"from\"\r\n              (onInput)=\"changeFrom($event, i)\"\r\n            >\r\n            </p-inputNumber>\r\n          </div>\r\n          <div class=\"col-6 pr-3\">\r\n            <p-inputNumber\r\n              #toInp\r\n              mode=\"decimal\"\r\n              maxlength=\"10\"\r\n              maxValue=\"9999999999\"\r\n              [useGrouping]=\"false\"\r\n              inputId=\"integeronly\"\r\n              [style]=\"{width: '95%'}\"\r\n              [inputStyle]=\"{width: '190px', background: '#f4f6fa', border: 'none'}\"\r\n              formControlName=\"to\"\r\n              (onInput)=\"changeTo($event, i)\"\r\n            >\r\n            </p-inputNumber>\r\n          </div>\r\n          <div\r\n            *ngIf=\"i> 0 && i+1 == txnCriteriaRangeForm.get('txnCriteriaRange')['controls'].length\"\r\n            class=\"delete-range\"\r\n            (click)=\"deleteRange(i)\"\r\n          >\r\n            <i class=\"pi pi-times-circle mr-2\"></i>\r\n          </div>\r\n        </div>\r\n      </ng-container>\r\n    </div>\r\n    <div\r\n      class=\"col-12 justify-content-end d-flex align-items-center rangeOverlapErr\"\r\n      style=\"font-size: 0.8em\"\r\n      *ngIf=\"isAnyErrorInRangeMsg\"\r\n    >\r\n      <i class=\"pi pi-info-circle mr-2\" style=\"color: red\"></i>\r\n      <span> {{isAnyErrorInRangeMsg}} </span>\r\n    </div>\r\n    <div class=\"d-flex jc-between\">\r\n      <div class=\"col-12\">\r\n        <button\r\n          pButton\r\n          pRipple\r\n          type=\"button\"\r\n          label=\"+\"\r\n          [style]=\"{minWidth: '100%'}\"\r\n          class=\"p-button-raised addTxnBtn\"\r\n          (click)=\"addTxnCriteriaRange()\"\r\n        ></button>\r\n      </div>\r\n    </div>\r\n    <div class=\"d-flex justify-content-center\">\r\n      <div class=\"col-6\">\r\n        <button\r\n          pButton\r\n          pRipple\r\n          type=\"button\"\r\n          label=\"Save\"\r\n          [style]=\"{minWidth: '100%'}\"\r\n          (click)=\"saveTxnCriteriaRanges()\"\r\n          class=\"p-button-raised\"\r\n        ></button>\r\n      </div>\r\n      <div class=\"col-6\">\r\n        <button\r\n          pButton\r\n          pRipple\r\n          type=\"button\"\r\n          label=\"Save & Close\"\r\n          (click)=\"closeModal()\"\r\n          [style]=\"{minWidth: '100%'}\"\r\n          class=\"p-button-raised\"\r\n        ></button>\r\n      </div>\r\n    </div>\r\n    <div class=\"d-flex justify-content-center align-items-center\">\r\n      <div\r\n        class=\"col-12 justify-content-end d-flex align-items-center\"\r\n        style=\"font-size: 0.8em\"\r\n      >\r\n        <i class=\"pi pi-info-circle mr-2\" style=\"color: red\"></i>\r\n        <span [ngClass]=\"{'highlightInfo': showError}\"\r\n          >Maximum 10 Amount ranges can be added\r\n        </span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component } from \"@angular/core\";\r\nimport {\r\n  UntypedFormArray,\r\n  UntypedFormBuilder,\r\n  UntypedFormGroup,\r\n} from \"@angular/forms\";\r\nimport { DynamicDialogConfig, DynamicDialogRef } from \"primeng/dynamicdialog\";\r\nimport { take } from \"rxjs/operators\";\r\nimport { SetCriteriaService } from \"../../components/set-criteria/set-criteria.service\";\r\nimport { CoreService } from \"src/app/core.service\";\r\n\r\n@Component({\r\n  templateUrl: \"./transaction-date-modal.html\",\r\n  styleUrls: [\"./transaction-date-modal.scss\"],\r\n})\r\nexport class TransactionDateModal {\r\n  dateRangeForm: UntypedFormGroup = new UntypedFormGroup({\r\n    dateRange: new UntypedFormArray([]),\r\n  });\r\n  dateRange: UntypedFormArray = new UntypedFormArray([]);\r\n\r\n  showError: boolean = false;\r\n  rangesOverlapping = false;\r\n  isDateRangesSaved = false;\r\n  isAnyErrorInRangeMsg = \"\";\r\n  isRangeEmpty = false;\r\n  isOrderIncorrect = false;\r\n  DateRange = [];\r\n  isFormDataChanged = true;\r\n  isRangeValueLessThanZero = false;\r\n\r\n  today: Date = new Date();\r\n\r\n  constructor(\r\n    private formBuilder: UntypedFormBuilder,\r\n    private ref: DynamicDialogRef,\r\n    public config: DynamicDialogConfig,\r\n    private setCriteriaService: SetCriteriaService,\r\n    private coreService: CoreService\r\n  ) {}\r\n\r\n  get allDateRange(): UntypedFormArray {\r\n    return this.dateRangeForm.get(\"dateRange\") as UntypedFormArray;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.dateRangeForm.valueChanges.subscribe((x) => {\r\n      let savedData = JSON.stringify(this.config.data.dateRange);\r\n      let formData = JSON.stringify(x);\r\n      if (savedData == formData) {\r\n        this.isFormDataChanged = false;\r\n      } else {\r\n        this.isFormDataChanged = true;\r\n      }\r\n    });\r\n    console.log(this.config.data.dateRange);\r\n    if (\r\n      Object.keys(this.config.data.dateRange).length > 1 ||\r\n      (Object.keys(this.config.data.dateRange).length == 1 &&\r\n        this.config.data.dateRange.dateRange[0].trnStartDate != null)\r\n    ) {\r\n      this.config.data.dateRange.dateRange.forEach((range) => {\r\n        console.log(range);\r\n        this.dateRange.push(\r\n          this.createDateRange(range.trnStartDate, range.trnEndDate)\r\n        );\r\n        this.allDateRange.push(\r\n          this.createDateRange(range.trnStartDate, range.trnEndDate)\r\n        );\r\n      });\r\n    } else {\r\n      this.addDateRange();\r\n    }\r\n\r\n    console.log(this.dateRange);\r\n    console.log(this.allDateRange);\r\n\r\n    this.ref.onClose.pipe(take(1)).subscribe((res) => {\r\n      if (this.isDateRangesSaved) {\r\n        this.coreService.showSuccessToast(\"Date ranges saved\");\r\n      } else {\r\n        if (this.isFormDataChanged) {\r\n          this.coreService.showWarningToast(\"Date ranges not saved properly\");\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  areOverlapping = (a: any, b: any) =>\r\n    b.trnStartDate <= a.trnStartDate\r\n      ? b.trnEndDate >= a.trnStartDate &&\r\n        typeof b.trnEndDate == typeof a.trnStartDate\r\n      : b.trnStartDate <= a.trnEndDate &&\r\n        typeof a.trnEndDate == typeof b.trnStartDate;\r\n\r\n  createDateRange(trnStartDate: any, trnEndDate: any): UntypedFormGroup {\r\n    return this.formBuilder.group({\r\n      trnStartDate: trnStartDate,\r\n      trnEndDate: trnEndDate,\r\n    });\r\n  }\r\n\r\n  checkConditions() {\r\n    let rangesArr = [];\r\n    this.rangesOverlapping = false;\r\n    this.isRangeEmpty = false;\r\n    this.isOrderIncorrect = false;\r\n    this.isRangeValueLessThanZero = false;\r\n    if (this.dateRange && this.dateRange?.length) {\r\n      this.dateRange.controls.forEach((range) => {\r\n        if (range.value) {\r\n          if (\r\n            range.value.trnStartDate == null ||\r\n            range.value.trnEndDate == null\r\n          ) {\r\n            this.isRangeEmpty = true;\r\n          } else if (\r\n            range.value.trnStartDate < 0 ||\r\n            range.value.trnEndDate < 0\r\n          ) {\r\n            this.isRangeValueLessThanZero = true;\r\n          } else if (range.value.trnStartDate >= range.value.trnEndDate) {\r\n            console.log(range.value.trnStartDate, range.value.trnEndDate);\r\n            this.isOrderIncorrect = true;\r\n          }\r\n          rangesArr.push(range.value);\r\n        }\r\n      });\r\n\r\n      rangesArr.forEach((range, i) => {\r\n        if (i < rangesArr.length - 1) {\r\n          if (this.areOverlapping(range, rangesArr[rangesArr.length - 1])) {\r\n            this.rangesOverlapping = true;\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  changeTo(e: any, i: any) {\r\n    console.log(e.toLocaleDateString(\"en-GB\"), typeof e, new Date(e));\r\n    if (this.dateRange.controls) {\r\n      (this.dateRange.controls[i] as UntypedFormGroup)?.controls[\r\n        \"trnEndDate\"\r\n      ].setValue(e);\r\n    }\r\n  }\r\n  changeFrom(e: any, i: any) {\r\n    console.log(\r\n      e,\r\n      (this.dateRange.controls[i] as UntypedFormGroup)?.controls[\"trnEndDate\"]\r\n    );\r\n    if (this.dateRange.controls) {\r\n      (this.dateRange.controls[i] as UntypedFormGroup)?.controls[\r\n        \"trnStartDate\"\r\n      ].setValue(e);\r\n    }\r\n    if (\r\n      !(this.dateRange.controls[i] as UntypedFormGroup)?.controls[\"trnEndDate\"]\r\n        .value ||\r\n      (this.dateRange.controls[i] as UntypedFormGroup)?.controls[\"trnEndDate\"]\r\n        .value < e\r\n    ) {\r\n      let dateVal = new Date(e);\r\n      dateVal.setHours(23, 59, 59);\r\n      console.log(dateVal);\r\n      (this.dateRange.controls[i] as UntypedFormGroup)?.controls[\r\n        \"trnEndDate\"\r\n      ].setValue(dateVal);\r\n    }\r\n  }\r\n\r\n  addDateRange(): void {\r\n    if (this.dateRange?.length >= 10) {\r\n      this.isAnyErrorInRangeMsg = \"Maximum 10 Date ranges can be added\";\r\n      setTimeout(() => {\r\n        this.isAnyErrorInRangeMsg = \"\";\r\n      }, 1500);\r\n    } else {\r\n      this.checkConditions();\r\n      if (this.isRangeValueLessThanZero) {\r\n        this.isAnyErrorInRangeMsg = \"Range Value should be positive\";\r\n        setTimeout(() => {\r\n          this.isAnyErrorInRangeMsg = \"\";\r\n        }, 1500);\r\n      } else if (this.rangesOverlapping) {\r\n        this.isAnyErrorInRangeMsg =\r\n          \"Overlapping date range found, please update\";\r\n        setTimeout(() => {\r\n          this.isAnyErrorInRangeMsg = \"\";\r\n        }, 1500);\r\n      } else if (this.isRangeEmpty) {\r\n        this.isAnyErrorInRangeMsg = \"Empty range found, please fill it first\";\r\n        setTimeout(() => {\r\n          this.isAnyErrorInRangeMsg = \"\";\r\n        }, 1500);\r\n      } else if (this.isOrderIncorrect) {\r\n        this.isAnyErrorInRangeMsg =\r\n          \"Date From value should be less than Date To value\";\r\n        setTimeout(() => {\r\n          this.isAnyErrorInRangeMsg = \"\";\r\n        }, 1500);\r\n      } else {\r\n        this.isRangeValueLessThanZero = false;\r\n        this.isDateRangesSaved = false;\r\n        this.dateRange = this.dateRangeForm.get(\r\n          \"dateRange\"\r\n        ) as UntypedFormArray;\r\n        this.dateRange.push(this.createDateRange(null, null));\r\n      }\r\n    }\r\n  }\r\n\r\n  deleteRange(i) {\r\n    this.dateRange = this.dateRangeForm.get(\"dateRange\") as UntypedFormArray;\r\n    this.dateRange.removeAt(i);\r\n  }\r\n\r\n  saveDateRanges() {\r\n    this.checkConditions();\r\n    if (this.isRangeValueLessThanZero) {\r\n      this.isAnyErrorInRangeMsg = \"Range Value should be positive\";\r\n      setTimeout(() => {\r\n        this.isAnyErrorInRangeMsg = \"\";\r\n      }, 1500);\r\n    } else if (this.rangesOverlapping) {\r\n      this.isAnyErrorInRangeMsg =\r\n        \"Overlapping criteria range found, please update\";\r\n      setTimeout(() => {\r\n        this.isAnyErrorInRangeMsg = \"\";\r\n      }, 1500);\r\n    } else if (this.isOrderIncorrect) {\r\n      this.isAnyErrorInRangeMsg =\r\n        \"Date From value should be less than Date To value\";\r\n      setTimeout(() => {\r\n        this.isAnyErrorInRangeMsg = \"\";\r\n      }, 1500);\r\n    } else {\r\n      if (this.isRangeEmpty) {\r\n        this.isAnyErrorInRangeMsg = \"Empty range found, please fill it first\";\r\n        setTimeout(() => {\r\n          this.isAnyErrorInRangeMsg = \"\";\r\n        }, 1500);\r\n      } else {\r\n        this.isDateRangesSaved = true;\r\n\r\n        this.dateRangeForm.value.dateRange.forEach((range, i) => {\r\n          if (\r\n            i > 0 &&\r\n            Object.values(range).filter((rng) => rng == null).length\r\n          ) {\r\n            this.dateRangeForm.value.dateRange.splice(i, 1);\r\n          }\r\n        });\r\n\r\n        this.DateRange = this.dateRangeForm.value;\r\n        this.setCriteriaService.setDateRange(this.DateRange);\r\n      }\r\n    }\r\n  }\r\n\r\n  closeModal() {\r\n    this.saveDateRanges();\r\n    if (this.isDateRangesSaved && !this.isRangeEmpty) {\r\n      this.ref.close(this.DateRange);\r\n    }\r\n  }\r\n}\r\n","<div>\r\n  <div class=\"modal-body-content\" [formGroup]=\"dateRangeForm\">\r\n    <div class=\"d-flex jc-between\">\r\n      <div class=\"col-6 pb-0\">\r\n        <label style=\"font-weight: 500\" for=\"amountFrom\">Date From</label>\r\n      </div>\r\n      <div class=\"col-6 pb-0\">\r\n        <label style=\"font-weight: 500\" for=\"amountTo\">Date To</label>\r\n      </div>\r\n    </div>\r\n    <div class=\"all-range-groups\">\r\n      <ng-container\r\n        formArrayName=\"dateRange\"\r\n        *ngFor=\"let item of dateRangeForm.get('dateRange')['controls']; let i = index;\"\r\n      >\r\n        <div\r\n          [formGroupName]=\"i\"\r\n          class=\"d-flex jc-between\"\r\n          style=\"position: relative\"\r\n        >\r\n          <div class=\"index-range\">{{i+1}}.</div>\r\n          <div class=\"col-6 pl-3\" style=\"text-align: right\">\r\n            <!-- <p-inputNumber\r\n              #fromInp\r\n              mode=\"decimal\"\r\n              maxlength=\"10\"\r\n              maxValue=\"9999999999\"\r\n              [useGrouping]=\"false\"\r\n              inputId=\"integeronly\"\r\n              [style]=\"{width: '95%'}\"\r\n              [inputStyle]=\"{width: '195px', background: '#f4f6fa', border: 'none'}\"\r\n              formControlName=\"trnStartDate\"\r\n              (onInput)=\"changeFrom($event, i)\"\r\n            >\r\n            </p-inputNumber> -->\r\n            <p-calendar\r\n              #fromInp\r\n              class=\"block\"\r\n              placeholder=\"DD/MM/YYYY\"\r\n              dateFormat=\"dd/mm/yy\"\r\n              [showIcon]=\"true\"\r\n              [style]=\"{width: '95%'}\"\r\n              [inputStyle]=\"{width: '140px', background: '#f4f6fa', border: 'none'}\"\r\n              formControlName=\"trnStartDate\"\r\n              [readonlyInput]=\"true\"\r\n              (onSelect)=\"changeFrom($event, i)\"\r\n              [appendTo]=\"'body'\"\r\n              [showTime]=\"true\"\r\n              [showSeconds]=\"true\"\r\n              [minDate]=\"today\"\r\n            ></p-calendar>\r\n          </div>\r\n          <div class=\"col-6 pr-3\">\r\n            <!-- <p-inputNumber\r\n              #toInp\r\n              mode=\"decimal\"\r\n              maxlength=\"10\"\r\n              maxValue=\"9999999999\"\r\n              [useGrouping]=\"false\"\r\n              inputId=\"integeronly\"\r\n              [style]=\"{width: '95%'}\"\r\n              [inputStyle]=\"{width: '190px', background: '#f4f6fa', border: 'none'}\"\r\n              formControlName=\"trnEndDate\"\r\n              (onInput)=\"changeTo($event, i)\"\r\n            >\r\n            </p-inputNumber> -->\r\n            <p-calendar\r\n              #fromInp\r\n              class=\"block\"\r\n              placeholder=\"DD/MM/YYYY\"\r\n              dateFormat=\"dd/mm/yy\"\r\n              [showIcon]=\"true\"\r\n              [style]=\"{width: '95%'}\"\r\n              [inputStyle]=\"{width: '140px', background: '#f4f6fa', border: 'none'}\"\r\n              formControlName=\"trnEndDate\"\r\n              [readonlyInput]=\"true\"\r\n              (onSelect)=\"changeTo($event, i)\"\r\n              [appendTo]=\"'body'\"\r\n              [showTime]=\"true\"\r\n              [showSeconds]=\"true\"\r\n              [minDate]=\"today\"\r\n            ></p-calendar>\r\n          </div>\r\n          <div\r\n            *ngIf=\"i> 0 && i+1 == dateRangeForm.get('dateRange')['controls'].length\"\r\n            class=\"delete-range\"\r\n            (click)=\"deleteRange(i)\"\r\n          >\r\n            <i class=\"pi pi-times-circle mr-2\"></i>\r\n          </div>\r\n        </div>\r\n      </ng-container>\r\n    </div>\r\n    <div\r\n      class=\"col-12 justify-content-end d-flex align-items-center rangeOverlapErr\"\r\n      style=\"font-size: 0.8em\"\r\n      *ngIf=\"isAnyErrorInRangeMsg\"\r\n    >\r\n      <i class=\"pi pi-info-circle mr-2\" style=\"color: red\"></i>\r\n      <span> {{isAnyErrorInRangeMsg}} </span>\r\n    </div>\r\n    <div class=\"d-flex jc-between\">\r\n      <div class=\"col-12\">\r\n        <button\r\n          pButton\r\n          pRipple\r\n          type=\"button\"\r\n          label=\"+\"\r\n          [style]=\"{minWidth: '100%'}\"\r\n          class=\"p-button-raised addTxnBtn\"\r\n          (click)=\"addDateRange()\"\r\n        ></button>\r\n      </div>\r\n    </div>\r\n    <div class=\"d-flex justify-content-center\">\r\n      <div class=\"col-6\">\r\n        <button\r\n          pButton\r\n          pRipple\r\n          type=\"button\"\r\n          label=\"Save\"\r\n          [style]=\"{minWidth: '100%'}\"\r\n          (click)=\"saveDateRanges()\"\r\n          class=\"p-button-raised\"\r\n        ></button>\r\n      </div>\r\n      <div class=\"col-6\">\r\n        <button\r\n          pButton\r\n          pRipple\r\n          type=\"button\"\r\n          label=\"Save & Close\"\r\n          (click)=\"closeModal()\"\r\n          [style]=\"{minWidth: '100%'}\"\r\n          class=\"p-button-raised\"\r\n        ></button>\r\n      </div>\r\n    </div>\r\n    <div class=\"d-flex justify-content-center align-items-center\">\r\n      <div\r\n        class=\"col-12 justify-content-end d-flex align-items-center\"\r\n        style=\"font-size: 0.8em\"\r\n      >\r\n        <i class=\"pi pi-info-circle mr-2\" style=\"color: red\"></i>\r\n        <span [ngClass]=\"{'highlightInfo': showError}\"\r\n          >Maximum 10 Date ranges can be added\r\n        </span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Injectable } from \"@angular/core\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class CriteriaDataService {\r\n  constructor() {}\r\n\r\n  rangeTypeCriteria: any = { Slab: \"LCY Amount\", date: \"Transaction Date\" };\r\n\r\n  setDependencyTree(\r\n    criteriaDataDetailsJson: any,\r\n    cmCriteriaDataDetails: any,\r\n    criteriaMasterData: any,\r\n    cmCriteriaMandatory: any,\r\n    cmCriteriaDependency: any,\r\n    cmCriteriaSlabType: any\r\n  ) {\r\n    console.log(\":::\", cmCriteriaDataDetails);\r\n    let criteriaMapDdlOptions = [];\r\n    let independantCriteriaArr = [];\r\n\r\n    cmCriteriaDataDetails.forEach((element) => {\r\n      let criteriaType = element?.criteriaType;\r\n      let isMandatory = false;\r\n      let isDependent = false;\r\n      let dependencyList = \"\";\r\n      let dependenceObj = criteriaDataDetailsJson.data.dependance;\r\n\r\n      if (\r\n        cmCriteriaMandatory &&\r\n        cmCriteriaMandatory.indexOf(element.fieldName) >= 0\r\n      ) {\r\n        isMandatory = true;\r\n      }\r\n      if (\r\n        Object.keys(dependenceObj).length &&\r\n        dependenceObj[element.fieldName] &&\r\n        dependenceObj[element.fieldName] != \"null\"\r\n      ) {\r\n        isDependent = true;\r\n        dependencyList = dependenceObj[element.fieldName];\r\n      } else {\r\n        independantCriteriaArr.push(element.fieldName);\r\n      }\r\n\r\n      if (!isDependent) {\r\n        let selectedKeys = [];\r\n        let allChildDependants = [];\r\n\r\n        let childDependants = [element.fieldName];\r\n\r\n        let obj: any = {};\r\n\r\n        while (childDependants.length) {\r\n          selectedKeys = [];\r\n          selectedKeys = [...childDependants];\r\n          childDependants = [];\r\n          selectedKeys.forEach((selcCrit) => {\r\n            let filteredKeys = Object.keys(cmCriteriaDependency).filter(\r\n              (key) => cmCriteriaDependency[key] == selcCrit\r\n            );\r\n\r\n            let depValues = [];\r\n            filteredKeys.forEach((filtKey) => {\r\n              depValues.push(filtKey);\r\n              childDependants.push(filtKey);\r\n              obj[cmCriteriaDependency[filtKey]] = depValues;\r\n              allChildDependants.push(selcCrit);\r\n            });\r\n          });\r\n        }\r\n        let crElm = {\r\n          label: element.displayName,\r\n          data: element.fieldName,\r\n          isMandatory: isMandatory,\r\n          isDependent: isDependent,\r\n          dependencyList: dependencyList,\r\n          children: null,\r\n          criteriaType: criteriaType,\r\n        };\r\n        criteriaMapDdlOptions.push(crElm);\r\n        if (Object.keys(obj).length) {\r\n          for (const [key, value] of Object.entries(obj)) {\r\n            let childArr = [];\r\n            (value as []).forEach((deps) => {\r\n              let criteriaTypeC = cmCriteriaDataDetails.find((crt) => {\r\n                return crt.fieldName == deps;\r\n              })?.criteriaType;\r\n              let isMandatoryC = false;\r\n              let isDependentC = false;\r\n              let dependencyListC = \"\";\r\n              let dependenceObjC = criteriaDataDetailsJson.data.dependance;\r\n\r\n              if (\r\n                cmCriteriaMandatory &&\r\n                cmCriteriaMandatory.indexOf(deps) >= 0\r\n              ) {\r\n                isMandatoryC = true;\r\n              }\r\n              if (\r\n                Object.keys(dependenceObjC).length &&\r\n                dependenceObjC[deps] &&\r\n                dependenceObjC[deps] != \"null\"\r\n              ) {\r\n                isDependentC = true;\r\n                dependencyListC = dependenceObjC[deps];\r\n              }\r\n\r\n              if (\r\n                cmCriteriaDataDetails.filter(\r\n                  (data: { displayName: string; fieldName: string }) => {\r\n                    return data[\"fieldName\"] == deps;\r\n                  }\r\n                ).length\r\n              ) {\r\n                let fieldName = deps;\r\n                let displayName = null;\r\n\r\n                //% this needs to be updated when displayName fieldName point arises\r\n\r\n                displayName = cmCriteriaDataDetails.filter(\r\n                  (data: { displayName: string; fieldName: string }) => {\r\n                    return data[\"fieldName\"] == deps;\r\n                  }\r\n                )[0][\"displayName\"];\r\n\r\n                // displayName = Object.keys(criteriaMasterData).filter((data) => {\r\n                //   return data == deps;\r\n                // })[0];\r\n                if (!displayName) {\r\n                  let rangeType = Object.keys(cmCriteriaSlabType).find(\r\n                    (key) => cmCriteriaSlabType[key] === deps\r\n                  );\r\n\r\n                  if (rangeType) {\r\n                    displayName = deps;\r\n                  }\r\n                }\r\n                //% this needs to be updated when displayName fieldName point arises ENDS\r\n\r\n                let crElmChild = {\r\n                  label: fieldName,\r\n                  data: displayName,\r\n                  isMandatory: isMandatoryC,\r\n                  isDependent: isDependentC,\r\n                  dependencyList: dependencyListC,\r\n                  children: null,\r\n                  criteriaType: criteriaTypeC,\r\n                };\r\n                childArr.push(crElmChild);\r\n              }\r\n            });\r\n\r\n            if (childArr.length) {\r\n              this.findNestedObj(criteriaMapDdlOptions, \"label\", key)[\r\n                \"children\"\r\n              ] = childArr;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n    return {\r\n      criteriaMapDdlOptions: criteriaMapDdlOptions,\r\n      independantCriteriaArr: independantCriteriaArr,\r\n    };\r\n  }\r\n\r\n  findNestedObj(entireObj, keyToFind, valToFind) {\r\n    let foundObj;\r\n    JSON.stringify(entireObj, (_, nestedValue) => {\r\n      if (nestedValue && nestedValue[keyToFind] === valToFind) {\r\n        foundObj = nestedValue;\r\n      }\r\n      return nestedValue;\r\n    });\r\n    return foundObj;\r\n  }\r\n\r\n  getAppliedCriteriaTableColumns(colData: any) {\r\n    let tableCols = [];\r\n    Object.entries(colData).forEach(([key, value], index) => {\r\n      let tableCol = {};\r\n      let stringType = false;\r\n      let selectType = false;\r\n      let formatVal = \"\";\r\n      let maxWidth = null;\r\n      let minWidth = null;\r\n      let buttonType = false;\r\n      let inputType = false;\r\n      if ((value as string).includes(\"::\")) {\r\n        formatVal = (value as string).split(\"::\")[0];\r\n        stringType = false;\r\n        selectType =\r\n          (value as string).split(\"::\")[1] == \"dropdownSingle\" ||\r\n          (value as string).split(\"::\")[1] == \"dropdownMulti\"\r\n            ? true\r\n            : false;\r\n        inputType = (value as string).split(\"::\")[1] == \"input\" ? true : false;\r\n        buttonType =\r\n          (value as string).split(\"::\")[1] == \"button\" ? true : false;\r\n        maxWidth = \"145px\";\r\n        minWidth = \"145px\";\r\n      } else {\r\n        formatVal = value as string;\r\n        stringType = true;\r\n        selectType = false;\r\n        inputType = false;\r\n        buttonType = false;\r\n      }\r\n      tableCol = {\r\n        field: formatVal,\r\n        header: key,\r\n        isString: stringType,\r\n        isSelect: selectType,\r\n        isInput: inputType,\r\n        isButton: buttonType,\r\n        minWidth: minWidth ? minWidth : \"125px\",\r\n      };\r\n      if (maxWidth) {\r\n        tableCol[\"maxWidth\"] = maxWidth;\r\n      }\r\n      tableCols.push(tableCol);\r\n    });\r\n    return tableCols;\r\n  }\r\n\r\n  decodeCriteriaMapIntoTableFields(criteriaData: any) {\r\n    let criteriaMapFirstSplit = null;\r\n    let criteriaMapSecSplit = null;\r\n    let criteriaMapThirdSplit = null;\r\n    let slabTypeName = null;\r\n    let dateTypeName = null;\r\n    let lcySlabArr = [];\r\n    let dateSlabArr = [];\r\n\r\n    if (Object.keys(this.rangeTypeCriteria).length) {\r\n      if (\"Slab\" in this.rangeTypeCriteria) {\r\n        slabTypeName = this.rangeTypeCriteria[\"Slab\"];\r\n      }\r\n      if (\"date\" in this.rangeTypeCriteria) {\r\n        dateTypeName = this.rangeTypeCriteria[\"date\"];\r\n      }\r\n    }\r\n    if (criteriaData[\"criteriaMap\"].includes(\"&&&&\")) {\r\n      if (criteriaData[\"criteriaMap\"].split(\"&&&&\").length == 3) {\r\n        criteriaMapFirstSplit = criteriaData[\"criteriaMap\"].split(\"&&&&\")[0];\r\n        criteriaMapSecSplit = criteriaData[\"criteriaMap\"].split(\"&&&&\")[1];\r\n        criteriaMapThirdSplit = criteriaData[\"criteriaMap\"].split(\"&&&&\")[2];\r\n\r\n        if (criteriaMapSecSplit.includes(\"from:\")) {\r\n          lcySlabArr = this.getAmtSlabArr(criteriaMapSecSplit);\r\n          criteriaMapFirstSplit += `;${\r\n            slabTypeName ? slabTypeName : \"Amount\"\r\n          } = Slab`;\r\n        }\r\n\r\n        if (criteriaMapThirdSplit.includes(\"trnStartDate=\")) {\r\n          dateSlabArr = this.getDateSlabArr(criteriaMapThirdSplit);\r\n          criteriaMapFirstSplit += `;${\r\n            dateTypeName ? dateTypeName : \"Date\"\r\n          } = Slab`;\r\n        }\r\n      } else if (criteriaData[\"criteriaMap\"].split(\"&&&&\").length == 2) {\r\n        criteriaMapFirstSplit = criteriaData[\"criteriaMap\"].split(\"&&&&\")[0];\r\n        criteriaMapSecSplit = criteriaData[\"criteriaMap\"].split(\"&&&&\")[1];\r\n\r\n        if (criteriaMapSecSplit.includes(\"from:\")) {\r\n          lcySlabArr = this.getAmtSlabArr(criteriaMapSecSplit);\r\n          criteriaMapFirstSplit += `;${\r\n            slabTypeName ? slabTypeName : \"Amount\"\r\n          } = Slab`;\r\n        } else if (criteriaMapSecSplit.includes(\"trnStartDate=\")) {\r\n          dateSlabArr = this.getDateSlabArr(criteriaMapSecSplit);\r\n          criteriaMapFirstSplit += `;${\r\n            dateTypeName ? dateTypeName : \"Date\"\r\n          } = Slab`;\r\n        }\r\n      }\r\n    } else {\r\n      criteriaMapFirstSplit = criteriaData[\"criteriaMap\"];\r\n    }\r\n\r\n    return {\r\n      critMap: criteriaMapFirstSplit.split(\";\") as Array<any>,\r\n      lcySlabArr: lcySlabArr,\r\n      dateSlabArr: dateSlabArr,\r\n    };\r\n  }\r\n\r\n  getDateSlabArr(mapSplit: string) {\r\n    let dateArr = [];\r\n    mapSplit.split(\"#\").forEach((rngTxt) => {\r\n      let fromVal = rngTxt.split(\"::\")[0].split(\"=\")[1];\r\n      let toVal = rngTxt.split(\"::\")[1].split(\"=\")[1];\r\n      dateArr.push({\r\n        trnStartDate: fromVal,\r\n        trnEndDate: toVal,\r\n      });\r\n    });\r\n    return dateArr;\r\n  }\r\n\r\n  getAmtSlabArr(mapSplit: string) {\r\n    let lcySlabArr = [];\r\n    mapSplit.split(\"#\").forEach((rngTxt) => {\r\n      let fromVal = rngTxt.split(\"::\")[0].split(\":\")[1];\r\n      let toVal = rngTxt.split(\"::\")[1].split(\":\")[1];\r\n      lcySlabArr.push({\r\n        from: +fromVal,\r\n        to: +toVal,\r\n      });\r\n    });\r\n    return lcySlabArr;\r\n  }\r\n}\r\n","import { Component, OnInit, ViewChild } from \"@angular/core\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { ConfirmationService, MessageService } from \"primeng/api\";\r\nimport { DialogService } from \"primeng/dynamicdialog\";\r\nimport { forkJoin } from \"rxjs\";\r\nimport { map, take } from \"rxjs/operators\";\r\nimport { CoreService } from \"src/app/core.service\";\r\nimport { SetCriteriaComponent } from \"src/app/shared/components/set-criteria/set-criteria.component\";\r\nimport { SetCriteriaService } from \"src/app/shared/components/set-criteria/set-criteria.service\";\r\nimport { TaxSettingsService } from \"../tax-settings.service\";\r\nimport { CriteriaDataService } from \"src/app/shared/services/criteria-data.service\";\r\nimport { Table } from \"primeng/table\";\r\nimport { Dropdown } from \"primeng/dropdown\";\r\nimport {\r\n  UntypedFormBuilder,\r\n  UntypedFormControl,\r\n  Validators,\r\n} from \"@angular/forms\";\r\n\r\nimport _lodashClone from \"lodash-es/cloneDeep\";\r\n\r\n@Component({\r\n  selector: \"app-add-new-tax\",\r\n  templateUrl: \"./add-new-tax.component.html\",\r\n  styleUrls: [\"./add-new-tax.component.scss\"],\r\n  providers: [DialogService, MessageService],\r\n})\r\nexport class AddNewTaxComponent implements OnInit {\r\n  @ViewChild(\"table\", { static: false }) table!: Table;\r\n  @ViewChild(\"templatesDropdown\") templatesDropdown: Dropdown;\r\n  primaryColor = \"var(--primary-color)\";\r\n\r\n  userId = \"\";\r\n  taxID = \"\";\r\n  mode = \"add\";\r\n  formName = \"Tax Settings\";\r\n\r\n  taxCode = \"No Data\";\r\n  taxDescription = \"\";\r\n\r\n  deactivated: boolean = false;\r\n  statusData: any = [];\r\n\r\n  isTaxSettingLinked: boolean = false;\r\n\r\n  appliedCriteriaCriteriaMap: any = null;\r\n  appliedCriteriaIsDuplicate: any = null;\r\n  objectKeys = Object.keys;\r\n  isEditMode = false;\r\n\r\n  editTaxSettingApiData: any = [];\r\n\r\n  criteriaMasterData: any = {};\r\n  criteriaDataDetailsJson: any = {};\r\n  cmCriteriaMandatory = [];\r\n  cmCriteriaDependency: any = {};\r\n  cmCriteriaDataDetails: any = [];\r\n  independantCriteriaArr: any = [];\r\n  cmCriteriaSlabType: any = { Slab: \"LCY Amount\", date: \"Transaction Date\" };\r\n  criteriaTemplatesDdlOptions: any = [];\r\n  criteriaMapDdlOptions = [];\r\n  criteriaEqualsDdlOptions = [];\r\n  correspondentDdlOptions = [];\r\n\r\n  criteriaText: any[] = [];\r\n  criteriaCodeText: any[] = [];\r\n\r\n  savingCriteriaTemplateError = null;\r\n\r\n  inactiveData: boolean = false;\r\n  isApplyCriteriaClicked: boolean = false;\r\n\r\n  applyCriteriaResponse: any[] = [];\r\n  isLcyFieldPresent = false;\r\n  applyCriteriaDataTableColumns: any[] = [];\r\n  columnsCopy: any[] = [\r\n    // {\r\n    //   field: \"taxType\",\r\n    //   header: \"Tax Type\",\r\n    //   fieldType: \"dropdown\",\r\n    //   frozen: false,\r\n    //   info: null,\r\n    // },\r\n    {\r\n      field: \"setAs\",\r\n      header: \"Set As\",\r\n      fieldType: \"dropdown\",\r\n      frozen: false,\r\n      info: null,\r\n    },\r\n    {\r\n      field: \"tax\",\r\n      header: \"Tax\",\r\n      fieldType: \"input\",\r\n      frozen: false,\r\n      info: null,\r\n    },\r\n    {\r\n      field: \"applicableOn\",\r\n      header: \"Applicable On\",\r\n      fieldType: \"dropdown\",\r\n      frozen: false,\r\n      info: null,\r\n    },\r\n    {\r\n      field: \"isActive\",\r\n      header: \"Status\",\r\n      frozen: false,\r\n      info: null,\r\n    },\r\n    {\r\n      field: \"action\",\r\n      header: \"Action\",\r\n\r\n      fieldType: \"button\",\r\n      frozen: true,\r\n      info: null,\r\n    },\r\n  ];\r\n  applyCriteriaFormattedData: any[] = [];\r\n\r\n  taxTypeOption: any[] = [];\r\n  setAsOption: any[] = [];\r\n  applicableOnOption: any[] = [];\r\n\r\n  taxMin = 0;\r\n  taxPerMax = 100;\r\n  taxAmountMax = 100000;\r\n\r\n  appliedCriteriaDatajson: any = {};\r\n  selectAppModule: any;\r\n  searchApplicationOptions: any[] = [];\r\n  searchModuleOptions: any[] = [];\r\n\r\n  formattedMasterData: any = [];\r\n\r\n  appModuleDataPresent: boolean = false;\r\n  showContent: boolean = false;\r\n\r\n  fieldDisplayData = {};\r\n\r\n  setCriteriaName = \"taxes\";\r\n\r\n  constructor(\r\n    private activatedRoute: ActivatedRoute,\r\n    public dialogService: DialogService,\r\n    public messageService: MessageService,\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private coreService: CoreService,\r\n    private confirmationService: ConfirmationService,\r\n    private setCriteriaService: SetCriteriaService,\r\n    private taxSettingsService: TaxSettingsService,\r\n    private criteriaDataService: CriteriaDataService,\r\n    private fb: UntypedFormBuilder\r\n  ) {}\r\n\r\n  @ViewChild(SetCriteriaComponent)\r\n  setCriteriaSharedComponent!: SetCriteriaComponent;\r\n\r\n  ngOnInit(): void {\r\n    this.coreService.displayLoadingScreen();\r\n    this.mode = \"add\";\r\n    this.route.data.subscribe((data) => {\r\n      this.coreService.setBreadCrumbMenu(Object.values(data));\r\n    });\r\n    this.setSelectAppModule();\r\n    this.userId = JSON.parse(localStorage.getItem(\"userData\"))[\"userId\"];\r\n    const params = this.activatedRoute.snapshot.params;\r\n    if (params && params.id) {\r\n      this.mode = this.activatedRoute.snapshot.routeConfig.path.substring(\r\n        this.activatedRoute.snapshot.routeConfig.path.lastIndexOf(\"/\") + 1\r\n      );\r\n      this.taxID = params.id;\r\n    }\r\n\r\n    // local get app-mod\r\n\r\n    this.searchApplicationOptions = JSON.parse(\r\n      localStorage.getItem(\"appAccess\")\r\n    );\r\n    this.searchModuleOptions = JSON.parse(localStorage.getItem(\"modAccess\"));\r\n    let defAppMod = JSON.parse(localStorage.getItem(\"defAppModule\"));\r\n    let currAppMod = JSON.parse(sessionStorage.getItem(\"tax\"));\r\n\r\n    let defApp = null;\r\n    let defMod = null;\r\n\r\n    if (currAppMod) {\r\n      console.log(currAppMod);\r\n      defApp = this.searchApplicationOptions.filter(\r\n        (opt) => opt.code == currAppMod.applicationName.code\r\n      )[0];\r\n      defMod = this.searchModuleOptions.filter(\r\n        (opt) => opt.code == currAppMod.moduleName.code\r\n      )[0];\r\n    } else {\r\n      if (defAppMod) {\r\n        defApp = JSON.parse(localStorage.getItem(\"applicationName\"));\r\n        defMod = JSON.parse(localStorage.getItem(\"moduleName\"));\r\n      }\r\n    }\r\n\r\n    if (defApp) {\r\n      this.appCtrl.patchValue(defApp);\r\n    }\r\n    if (defMod) {\r\n      this.moduleCtrl.patchValue(defMod);\r\n    }\r\n    if (this.appCtrl.value && this.moduleCtrl.value) {\r\n      this.moduleCtrl.enable();\r\n      this.searchAppModule();\r\n      this.appModuleDataPresent = true;\r\n      if (this.mode != \"add\") {\r\n        this.appCtrl.disable();\r\n        this.moduleCtrl.disable();\r\n      }\r\n    } else {\r\n      if (this.mode != \"add\") {\r\n        this.router.navigate([`navbar/tax-settings`]);\r\n      } else {\r\n        this.coreService.removeLoadingScreen();\r\n      }\r\n    }\r\n\r\n    // local get app-mod end\r\n\r\n    this.statusData = this.taxSettingsService.getData();\r\n    console.log(\"status\", this.statusData);\r\n    if (this.statusData && this.statusData[\"status\"] == \"Inactive\") {\r\n      this.deactivated = true;\r\n    }\r\n  }\r\n  setSelectAppModule() {\r\n    this.selectAppModule = this.fb.group({\r\n      applications: new UntypedFormControl({ value: \"\", disabled: false }, [\r\n        Validators.required,\r\n      ]),\r\n      modules: new UntypedFormControl({ value: \"\", disabled: true }, [\r\n        Validators.required,\r\n      ]),\r\n    });\r\n  }\r\n\r\n  get appCtrl() {\r\n    return this.selectAppModule.get(\"applications\");\r\n  }\r\n  get moduleCtrl() {\r\n    return this.selectAppModule.get(\"modules\");\r\n  }\r\n\r\n  onAppValueChange() {\r\n    this.showContent = false;\r\n    this.appModuleDataPresent = false;\r\n    this.moduleCtrl.reset();\r\n    this.moduleCtrl.enable();\r\n  }\r\n\r\n  searchAppModule() {\r\n    this.applyCriteriaFormattedData = [];\r\n    this.criteriaText = [];\r\n    this.criteriaCodeText = [];\r\n    this.appModuleDataPresent = true;\r\n    this.showContent = false;\r\n    this.getCriteriaMasterData();\r\n    this.getAllTemplates();\r\n  }\r\n\r\n  onKeyPress(event: KeyboardEvent): void {\r\n    const inputChar = String.fromCharCode(event.charCode);\r\n\r\n    // Allow alphanumeric characters and space\r\n    if (!/^[a-zA-Z0-9\\s]*$/.test(inputChar)) {\r\n      event.preventDefault();\r\n    }\r\n  }\r\n\r\n  getTaxSettingForEditApi(taxCode: any, operation: any) {\r\n    console.log(\"HERE\");\r\n    this.applyCriteriaFormattedData = [];\r\n    this.applyCriteriaDataTableColumns = [];\r\n\r\n    this.applyCriteriaDataTableColumns = JSON.parse(\r\n      JSON.stringify(this.columnsCopy)\r\n    );\r\n\r\n    this.taxSettingsService\r\n      .getTaxSettingForEdit(\r\n        taxCode,\r\n        operation,\r\n        this.taxSettingsService.applicationName,\r\n        this.taxSettingsService.moduleName,\r\n        this.formName\r\n      )\r\n      .subscribe(\r\n        (res) => {\r\n          if (\r\n            res[\"status\"] &&\r\n            typeof res[\"status\"] == \"string\" &&\r\n            (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n          ) {\r\n            this.coreService.removeLoadingScreen();\r\n            this.showContent = false;\r\n            if (res[\"error\"]) {\r\n              this.coreService.showWarningToast(res[\"error\"]);\r\n            } else {\r\n              this.coreService.showWarningToast(\"Some error in fetching data\");\r\n            }\r\n          } else {\r\n            if (res[\"data\"]) {\r\n              this.showContent = true;\r\n              this.editTaxSettingApiData = JSON.parse(JSON.stringify(res));\r\n\r\n              this.criteriaCodeText =\r\n                this.setCriteriaService.setCriteriaMap(res);\r\n\r\n              this.criteriaText =\r\n                this.setCriteriaService.decodeFormattedCriteria(\r\n                  this.criteriaCodeText,\r\n                  this.criteriaMasterData,\r\n                  this.fieldDisplayData\r\n                );\r\n\r\n              this.taxCode = res[\"taxCode\"];\r\n              if (res[\"taxCodeDesc\"]) {\r\n                this.taxDescription = res[\"taxCodeDesc\"];\r\n              }\r\n              this.isTaxSettingLinked = !res[\"criteriaUpdate\"];\r\n              this.appliedCriteriaCriteriaMap = res[\"criteriaMap\"];\r\n              this.updateApplicableOnOptions(res);\r\n\r\n              // this.taxTypeOption = res[\"taxTypeOption\"].map((option) => {\r\n              //   return { code: option.code, codeName: option.codeName };\r\n              // });\r\n              this.setAsOption = res[\"setAsOption\"].map((option) => {\r\n                return { code: option.code, codeName: option.codeName };\r\n              });\r\n              console.log(this.applicableOnOption);\r\n\r\n              let amtSlabPresent = false;\r\n              let dateSlabPresent = false;\r\n\r\n              if (res[\"criteriaMap\"].indexOf(\"from:\") >= 0) {\r\n                amtSlabPresent = true;\r\n              }\r\n\r\n              if (res[\"criteriaMap\"].indexOf(\"trnStartDate=\") >= 0) {\r\n                dateSlabPresent = true;\r\n              }\r\n\r\n              if (amtSlabPresent && dateSlabPresent) {\r\n                this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n                  field: \"dateFrom\",\r\n                  header: \"Date From\",\r\n                  fieldType: \"text\",\r\n                });\r\n                this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n                  field: \"dateTo\",\r\n                  header: \"Date To\",\r\n                  fieldType: \"text\",\r\n                });\r\n                this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n                  field: \"lcyAmountFrom\",\r\n                  header: \"Amount From\",\r\n                  fieldType: \"text\",\r\n                });\r\n                this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n                  field: \"lcyAmountTo\",\r\n                  header: \"Amount To\",\r\n                  fieldType: \"text\",\r\n                });\r\n\r\n                this.applyCriteriaFormattedData = [];\r\n              } else {\r\n                if (amtSlabPresent) {\r\n                  this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n                    field: \"lcyAmountFrom\",\r\n                    header: \"Amount From\",\r\n                    fieldType: \"text\",\r\n                  });\r\n                  this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n                    field: \"lcyAmountTo\",\r\n                    header: \"Amount To\",\r\n                    fieldType: \"text\",\r\n                  });\r\n                  this.applyCriteriaFormattedData = [];\r\n                } else if (dateSlabPresent) {\r\n                  this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n                    field: \"dateFrom\",\r\n                    header: \"Date From\",\r\n                    fieldType: \"text\",\r\n                  });\r\n                  this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n                    field: \"dateTo\",\r\n                    header: \"Date To\",\r\n                    fieldType: \"text\",\r\n                  });\r\n                  this.applyCriteriaFormattedData = [];\r\n                } else if (!amtSlabPresent && !dateSlabPresent) {\r\n                  this.applyCriteriaFormattedData = [];\r\n                }\r\n              }\r\n              this.applyCriteriaFormattedData = res[\"data\"];\r\n              this.applyCriteriaFormattedData.forEach((data) => {\r\n                let mapSplit = data[\"criteriaMapSplit\"];\r\n\r\n                let criteriaMapFirstSplit = null;\r\n                let criteriaMapSecSplit = null;\r\n                let criteriaMapThirdSplit = null;\r\n\r\n                if (mapSplit && mapSplit.includes(\"&&&&\")) {\r\n                  if (mapSplit.split(\"&&&&\").length == 3) {\r\n                    criteriaMapFirstSplit = mapSplit.split(\"&&&&\")[0];\r\n                    criteriaMapSecSplit = mapSplit.split(\"&&&&\")[1];\r\n                    criteriaMapThirdSplit = mapSplit.split(\"&&&&\")[2];\r\n\r\n                    if (criteriaMapSecSplit.includes(\"from:\")) {\r\n                      data[\"lcyAmountFrom\"] = criteriaMapSecSplit\r\n                        .split(\"::\")[0]\r\n                        .split(\":\")[1];\r\n                      data[\"lcyAmountTo\"] = criteriaMapSecSplit\r\n                        .split(\"::\")[1]\r\n                        .split(\":\")[1];\r\n                    }\r\n\r\n                    if (criteriaMapThirdSplit.includes(\"trnStartDate=\")) {\r\n                      data[\"dateFrom\"] = criteriaMapThirdSplit\r\n                        .split(\"::\")[0]\r\n                        .split(\"=\")[1];\r\n                      data[\"dateTo\"] = criteriaMapThirdSplit\r\n                        .split(\"::\")[1]\r\n                        .split(\"=\")[1];\r\n                    }\r\n                  } else if (mapSplit.split(\"&&&&\").length == 2) {\r\n                    criteriaMapFirstSplit = mapSplit.split(\"&&&&\")[0];\r\n                    criteriaMapSecSplit = mapSplit.split(\"&&&&\")[1];\r\n\r\n                    if (criteriaMapSecSplit.includes(\"from:\")) {\r\n                      data[\"lcyAmountFrom\"] = criteriaMapSecSplit\r\n                        .split(\"::\")[0]\r\n                        .split(\":\")[1];\r\n                      data[\"lcyAmountTo\"] = criteriaMapSecSplit\r\n                        .split(\"::\")[1]\r\n                        .split(\":\")[1];\r\n                    } else if (criteriaMapSecSplit.includes(\"trnStartDate=\")) {\r\n                      data[\"dateFrom\"] = criteriaMapSecSplit\r\n                        .split(\"::\")[0]\r\n                        .split(\"=\")[1];\r\n                      data[\"dateTo\"] = criteriaMapSecSplit\r\n                        .split(\"::\")[1]\r\n                        .split(\"=\")[1];\r\n                    }\r\n                  }\r\n                } else {\r\n                }\r\n              });\r\n\r\n              // % old-\r\n\r\n              // if (res[\"criteriaMap\"].indexOf(\"&&&&\") >= 0) {\r\n              //   this.isLcyFieldPresent = true;\r\n              // }\r\n\r\n              // if (!this.isLcyFieldPresent) {\r\n              //   this.applyCriteriaFormattedData = res[\"data\"];\r\n              // } else {\r\n              //   if (res[\"criteriaMap\"].indexOf(\"LCY Amount\") >= 0) {\r\n              //     this.applyCriteriaDataTableColumns.splice(-4, 0, {\r\n              //       field: \"lcyAmount\",\r\n              //       header: \"LCY Amount\",\r\n              //       fieldType: \"text\",\r\n              //     });\r\n              //     this.applyCriteriaFormattedData = res[\"data\"];\r\n\r\n              //     this.applyCriteriaFormattedData.forEach((data) => {\r\n              //       let split = data[\"criteriaMapSplit\"];\r\n              //       if (split) {\r\n              //         data[\"lcyAmount\"] = split.includes(\"&&&&\")\r\n              //           ? split.split(\"&&&&\").pop()\r\n              //           : split;\r\n              //         data[\"criteriaMapSplit\"] = split.includes(\"&&&&\")\r\n              //           ? split.split(\"&&&&\").pop()\r\n              //           : split;\r\n              //       }\r\n              //     });\r\n              //   } else if (res[\"criteriaMap\"].indexOf(\"from\") >= 0) {\r\n              //     this.applyCriteriaDataTableColumns.splice(-4, 0, {\r\n              //       field: \"lcyAmountFrom\",\r\n              //       header: \"Amount From\",\r\n              //       fieldType: \"text\",\r\n              //     });\r\n              //     this.applyCriteriaDataTableColumns.splice(-4, 0, {\r\n              //       field: \"lcyAmountTo\",\r\n              //       header: \"Amount To\",\r\n              //       fieldType: \"text\",\r\n              //     });\r\n              //     this.applyCriteriaFormattedData = res[\"data\"];\r\n              //     console.log(\"::\", this.applyCriteriaFormattedData);\r\n              //     this.applyCriteriaFormattedData.forEach((data) => {\r\n              //       let split = data[\"criteriaMapSplit\"];\r\n              //       if (split) {\r\n              //         data[\"lcyAmountFrom\"] = split?.includes(\"&&&&\")\r\n              //           ? split.split(\"&&&&\").pop().split(\"::\")[0].split(\":\")[1]\r\n              //           : split?.split(\"::\")[0]?.split(\":\")[1];\r\n              //         data[\"lcyAmountTo\"] = split?.includes(\"&&&&\")\r\n              //           ? split.split(\"&&&&\").pop().split(\"::\")[1].split(\":\")[1]\r\n              //           : split?.split(\"::\")[1]?.split(\":\")[1];\r\n              //         data[\"criteriaMapSplit\"] = split?.includes(\"&&&&\")\r\n              //           ? split.split(\"&&&&\").pop()\r\n              //           : split;\r\n              //       }\r\n              //     });\r\n              //   }\r\n              // }\r\n\r\n              this.applyCriteriaFormattedData.forEach((data) => {\r\n                delete data.id;\r\n                // data[\"taxTypeOption\"] = this.taxTypeOption;\r\n                data[\"setAsOption\"] = this.setAsOption;\r\n                data[\"applicableOnOption\"] = this.applicableOnOption;\r\n                data[\"action\"] = res[\"action\"];\r\n                data[\"invalidTaxAmount\"] = false;\r\n                data[\"status\"] = \"Active\";\r\n              });\r\n              // this.setSelectedOptions();\r\n\r\n              console.log(\"::\", this.applyCriteriaFormattedData);\r\n              // console.log(\"::\", this.applyCriteriaDataTableColumns);\r\n\r\n              this.coreService.showSuccessToast(\r\n                `Tax Setting Data Fetched Successfully`\r\n              );\r\n              this.coreService.removeLoadingScreen();\r\n            } else {\r\n              this.applyCriteriaFormattedData = [];\r\n              this.appliedCriteriaCriteriaMap = null;\r\n              this.appliedCriteriaIsDuplicate = null;\r\n              this.applyCriteriaDataTableColumns = [];\r\n              if (res && res[\"msg\"]) {\r\n                this.coreService.showWarningToast(res[\"msg\"]);\r\n              } else {\r\n                this.coreService.showWarningToast(\r\n                  \"No active data found for this Tax Setting.\"\r\n                );\r\n              }\r\n              this.coreService.removeLoadingScreen();\r\n            }\r\n          }\r\n        },\r\n        (err) => {\r\n          this.showContent = false;\r\n          this.coreService.removeLoadingScreen();\r\n          console.log(\"Error in getTaxSettingForEditApi\", err);\r\n          this.coreService.showWarningToast(\r\n            \"Something went wrong, Please try again later\"\r\n          );\r\n        }\r\n      );\r\n  }\r\n\r\n  onActive(data: any) {\r\n    this.confirmTaxEditStatus();\r\n  }\r\n  confirmTaxEditStatus() {\r\n    let type = \"\";\r\n    let reqStatus = \"\";\r\n    if (this.deactivated == true) {\r\n      reqStatus = \"Active\";\r\n      type = \"Activate\";\r\n    } else {\r\n      reqStatus = \"Inactive\";\r\n      type = \"Deactivate\";\r\n    }\r\n    this.coreService.setSidebarBtnFixedStyle(false);\r\n    this.coreService.setHeaderStickyStyle(false);\r\n    let completeMsg = \"\";\r\n    completeMsg =\r\n      `<img src=\"../../../assets/warning.svg\"><br/><br/>` +\r\n      `Do you wish to ` +\r\n      type +\r\n      ` the Tax Record: ${this.taxCode}?`;\r\n\r\n    this.confirmationService.confirm({\r\n      message: completeMsg,\r\n      key: \"activeDeactiveStatusTax\",\r\n      accept: () => {\r\n        this.updateStatus(reqStatus);\r\n        this.setHeaderSidebarBtn();\r\n      },\r\n      reject: () => {\r\n        this.confirmationService.close;\r\n        this.setHeaderSidebarBtn();\r\n      },\r\n    });\r\n  }\r\n  updateStatus(reqStatus: any) {\r\n    this.coreService.displayLoadingScreen();\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"userId\", this.userId);\r\n    formData.append(\"taxCode\", this.taxCode);\r\n    formData.append(\"status\", reqStatus);\r\n    formData.append(\"applications\", this.appCtrl.value.code);\r\n    formData.append(\"moduleName\", this.moduleCtrl.value.code);\r\n    formData.append(\"form\", this.formName);\r\n    this.updateTaxCodeStatus(formData);\r\n  }\r\n\r\n  updateTaxCodeStatus(formData: any) {\r\n    this.taxSettingsService.updateTaxSettingsStatus(formData).subscribe(\r\n      (res) => {\r\n        let message = \"\";\r\n        if (res[\"error\"] == \"true\") {\r\n          this.coreService.removeLoadingScreen();\r\n          this.coreService.showWarningToast(message);\r\n        } else {\r\n          if (res[\"msg\"]) {\r\n            message = res[\"msg\"];\r\n            this.deactivated = !this.deactivated;\r\n            this.coreService.showSuccessToast(message);\r\n          } else {\r\n            this.coreService.removeLoadingScreen();\r\n            message = \"Error in fetching data, Please try again later\";\r\n            this.coreService.showWarningToast(message);\r\n          }\r\n        }\r\n      },\r\n      (err) => {\r\n        console.log(err);\r\n        this.coreService.removeLoadingScreen();\r\n      }\r\n    );\r\n  }\r\n\r\n  getCriteriaMasterData() {\r\n    if (this.mode == \"add\") {\r\n      this.coreService.displayLoadingScreen();\r\n    }\r\n    forkJoin({\r\n      criteriaMasterData: this.taxSettingsService.getCriteriaMasterData(\r\n        this.userId,\r\n        this.formName,\r\n        this.appCtrl.value.code,\r\n        this.moduleCtrl.value.code\r\n      ),\r\n      addBankRouteCriteriaData:\r\n        this.taxSettingsService.getAddTaxSettingsCriteriaData(\r\n          this.appCtrl.value.code,\r\n          this.moduleCtrl.value.code,\r\n          this.formName\r\n        ),\r\n    })\r\n      .pipe(\r\n        take(1),\r\n        map((response: any) => {\r\n          if (\r\n            response.addBankRouteCriteriaData[\"data\"] &&\r\n            Object.keys(response.addBankRouteCriteriaData[\"data\"]).length == 0\r\n          ) {\r\n            return {\r\n              msg: \"No Criteria Found for Selected Application & Module.\",\r\n            };\r\n          } else {\r\n            this.formatMasterData(response.criteriaMasterData);\r\n            let criteriaMasterJson = _lodashClone(response.criteriaMasterData);\r\n            delete criteriaMasterJson[\"fieldDisplay\"];\r\n            this.fieldDisplayData = response.criteriaMasterData[\"fieldDisplay\"];\r\n            const criteriaMasterData = criteriaMasterJson;\r\n            this.criteriaDataDetailsJson = response.addBankRouteCriteriaData;\r\n            this.criteriaDataDetailsJson.data.listCriteria.cmCriteriaDataDetails.forEach(\r\n              (data) => {\r\n                if (data[\"criteriaType\"] == \"Slab\") {\r\n                  this.cmCriteriaSlabType[\"Slab\"] = data[\"fieldName\"];\r\n                }\r\n                if (data[\"criteriaType\"] == \"date\") {\r\n                  this.cmCriteriaSlabType[\"date\"] = data[\"fieldName\"];\r\n                }\r\n              }\r\n            );\r\n\r\n            if (this.mode == \"add\") {\r\n              this.taxCode = this.criteriaDataDetailsJson.data.taxCode;\r\n              this.taxID = this.taxCode;\r\n              this.taxDescription =\r\n                this.criteriaDataDetailsJson.data.taxCodeDesc;\r\n            }\r\n\r\n            this.cmCriteriaDataDetails = [\r\n              ...this.criteriaDataDetailsJson.data.listCriteria\r\n                .cmCriteriaDataDetails,\r\n            ];\r\n\r\n            this.cmCriteriaMandatory =\r\n              this.criteriaDataDetailsJson.data.mandatory\r\n                .replace(/[\"|\\[|\\]]/g, \"\")\r\n                .split(\", \");\r\n\r\n            this.cmCriteriaDependency =\r\n              this.criteriaDataDetailsJson.data.dependance;\r\n\r\n            let criteriaDependencyTreeData =\r\n              this.criteriaDataService.setDependencyTree(\r\n                this.criteriaDataDetailsJson,\r\n                this.cmCriteriaDataDetails,\r\n                criteriaMasterData,\r\n                this.cmCriteriaMandatory,\r\n                this.cmCriteriaDependency,\r\n                this.cmCriteriaSlabType\r\n              );\r\n\r\n            this.criteriaMapDdlOptions =\r\n              criteriaDependencyTreeData[\"criteriaMapDdlOptions\"];\r\n            this.independantCriteriaArr =\r\n              criteriaDependencyTreeData[\"independantCriteriaArr\"];\r\n            return criteriaMasterData;\r\n          }\r\n        })\r\n      )\r\n      .subscribe(\r\n        (res) => {\r\n          if (!res[\"msg\"]) {\r\n            if (\r\n              res[\"status\"] &&\r\n              typeof res[\"status\"] == \"string\" &&\r\n              (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n            ) {\r\n              this.coreService.removeLoadingScreen();\r\n              this.showContent = false;\r\n              if (res[\"error\"]) {\r\n                this.coreService.showWarningToast(res[\"error\"]);\r\n              } else {\r\n                this.coreService.showWarningToast(\r\n                  \"Some error in fetching data\"\r\n                );\r\n              }\r\n            } else {\r\n              this.criteriaMasterData = res;\r\n              if (this.mode == \"edit\") {\r\n                if (\r\n                  !(\r\n                    this.taxSettingsService.applicationName ||\r\n                    this.taxSettingsService.moduleName\r\n                  )\r\n                ) {\r\n                  this.appModuleDataPresent = false;\r\n                  this.showContent = false;\r\n                  this.router.navigate([`navbar/tax-settings`]);\r\n                } else {\r\n                  this.getTaxSettingForEditApi(this.taxID, \"edit\");\r\n                }\r\n              } else if (this.mode == \"clone\") {\r\n                if (\r\n                  !(\r\n                    this.taxSettingsService.applicationName ||\r\n                    this.taxSettingsService.moduleName\r\n                  )\r\n                ) {\r\n                  this.appModuleDataPresent = false;\r\n                  this.showContent = false;\r\n                  this.router.navigate([`navbar/tax-settings`]);\r\n                } else {\r\n                  this.getTaxSettingForEditApi(this.taxID, \"clone\");\r\n                }\r\n              } else {\r\n                this.showContent = true;\r\n                this.coreService.removeLoadingScreen();\r\n              }\r\n            }\r\n          } else if (res[\"msg\"]) {\r\n            this.coreService.showWarningToast(res[\"msg\"]);\r\n            this.coreService.removeLoadingScreen();\r\n            return;\r\n          }\r\n        },\r\n        (err) => {\r\n          this.showContent = false;\r\n          this.coreService.removeLoadingScreen();\r\n          console.log(\"Error in Initiating dropdown values\", err);\r\n          this.coreService.showWarningToast(\"Some error in fetching data\");\r\n        }\r\n      );\r\n  }\r\n  formatMasterData(masterData: any) {\r\n    const formattedMasterData = [].concat.apply([], Object.values(masterData));\r\n    this.formattedMasterData = formattedMasterData;\r\n  }\r\n  getCorrespondentValues(\r\n    fieldName: any,\r\n    displayName: any,\r\n    criteriaCodeText: any\r\n  ) {\r\n    let criteriaMapValue = criteriaCodeText.join(\";\");\r\n\r\n    this.coreService.displayLoadingScreen();\r\n    this.taxSettingsService\r\n      .getCorrespondentValuesData(\r\n        this.formName,\r\n        this.appCtrl.value.code,\r\n        criteriaMapValue,\r\n        fieldName,\r\n        displayName,\r\n        this.moduleCtrl.value.code\r\n      )\r\n      .subscribe(\r\n        (res) => {\r\n          if (\r\n            res[\"status\"] &&\r\n            typeof res[\"status\"] == \"string\" &&\r\n            (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n          ) {\r\n            this.coreService.removeLoadingScreen();\r\n            if (res[\"error\"]) {\r\n              this.coreService.showWarningToast(res[\"error\"]);\r\n            } else {\r\n              this.coreService.showWarningToast(\"Some error in fetching data\");\r\n            }\r\n          } else {\r\n            this.coreService.removeLoadingScreen();\r\n            if (res[fieldName]) {\r\n              this.setCriteriaSharedComponent.valueCtrl.enable();\r\n              this.setCriteriaSharedComponent.hideValuesDropdown = false;\r\n              this.setCriteriaSharedComponent.showValueInput = false;\r\n\r\n              this.correspondentDdlOptions = res[fieldName].map((val) => {\r\n                return { name: val[\"codeName\"], code: val[\"code\"] };\r\n              });\r\n            } else {\r\n              if (res[\"message\"]) {\r\n                this.coreService.showWarningToast(res[\"message\"]);\r\n                this.resetCriteriaDropdowns();\r\n              } else {\r\n                this.coreService.showWarningToast(\"Criteria Map is not proper\");\r\n                this.resetCriteriaDropdowns();\r\n              }\r\n            }\r\n          }\r\n        },\r\n        (err) => {\r\n          this.coreService.removeLoadingScreen();\r\n          console.log(\"Error in getting values\", err);\r\n          this.coreService.showWarningToast(\"Some error in fetching data\");\r\n          this.resetCriteriaDropdowns();\r\n        }\r\n      );\r\n  }\r\n\r\n  resetCriteriaDropdowns() {\r\n    this.setCriteriaSharedComponent.resetCriteriaDropdowns();\r\n  }\r\n\r\n  applyCriteria(postDataCriteria: FormData) {\r\n    postDataCriteria.append(\"taxCode\", this.taxID);\r\n    postDataCriteria.append(\"operation\", this.mode);\r\n    postDataCriteria.append(\"applications\", this.appCtrl.value.code);\r\n    postDataCriteria.append(\"form\", this.formName);\r\n    postDataCriteria.append(\"moduleName\", this.moduleCtrl.value.code);\r\n    this.isApplyCriteriaClicked = true;\r\n    if (this.isTaxSettingLinked && this.mode != \"clone\") {\r\n      this.coreService.setSidebarBtnFixedStyle(false);\r\n      this.coreService.setHeaderStickyStyle(false);\r\n      this.confirmationService.confirm({\r\n        message: `You can not edit the current criteria, as it is already used in transaction.<br/> Kindly disable the current record and add new.`,\r\n        key: \"taxSettingLinkedWarning\",\r\n        accept: () => {\r\n          this.coreService.displayLoadingScreen();\r\n          setTimeout(() => {\r\n            this.coreService.setHeaderStickyStyle(true);\r\n            this.coreService.setSidebarBtnFixedStyle(true);\r\n          }, 500);\r\n          setTimeout(() => {\r\n            this.coreService.removeLoadingScreen();\r\n          }, 1000);\r\n        },\r\n      });\r\n    } else {\r\n      this.taxCriteriaSearchApi(postDataCriteria);\r\n    }\r\n  }\r\n\r\n  taxCriteriaSearchApi(formData: any) {\r\n    this.applyCriteriaFormattedData = [];\r\n    this.applyCriteriaDataTableColumns = [];\r\n    this.coreService.displayLoadingScreen();\r\n\r\n    this.applyCriteriaDataTableColumns = JSON.parse(\r\n      JSON.stringify(this.columnsCopy)\r\n    );\r\n\r\n    this.taxSettingsService.postTaxCriteriaSearch(formData).subscribe(\r\n      (res) => {\r\n        if (\r\n          res[\"status\"] &&\r\n          typeof res[\"status\"] == \"string\" &&\r\n          (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n        ) {\r\n          this.coreService.removeLoadingScreen();\r\n          if (res[\"error\"]) {\r\n            this.coreService.showWarningToast(res[\"error\"]);\r\n          } else {\r\n            this.coreService.showWarningToast(\"Some error in fetching data\");\r\n          }\r\n        } else {\r\n          this.coreService.removeLoadingScreen();\r\n          if (res[\"msg\"] && res[\"msg\"] == \"No search criteria available.\") {\r\n            this.applyCriteriaFormattedData = [];\r\n            this.appliedCriteriaCriteriaMap = null;\r\n            this.appliedCriteriaIsDuplicate = null;\r\n            this.applyCriteriaDataTableColumns = [];\r\n            this.coreService.showWarningToast(res[\"msg\"]);\r\n            return;\r\n          }\r\n\r\n          if (!res[\"duplicate\"]) {\r\n            this.applyCriteriaResponse = JSON.parse(JSON.stringify(res));\r\n            this.appliedCriteriaCriteriaMap = res[\"criteriaMap\"];\r\n            this.updateApplicableOnOptions(res[\"data\"]);\r\n            this.appliedCriteriaIsDuplicate = res[\"duplicate\"];\r\n            let reqData =\r\n              this.criteriaDataService.decodeCriteriaMapIntoTableFields(res);\r\n\r\n            let crtfields = this.setCriteriaService.decodeFormattedCriteria(\r\n              reqData.critMap,\r\n              this.criteriaMasterData,\r\n              this.fieldDisplayData\r\n            );\r\n            // this.taxTypeOption = res[\"data\"].taxTypeOption.map((option) => {\r\n            //   return { code: option.code, codeName: option.codeName };\r\n            // });\r\n            this.setAsOption = res[\"data\"].setAsOption.map((option) => {\r\n              return { code: option.code, codeName: option.codeName };\r\n            });\r\n            let amtSlabPresent = false;\r\n            let dateSlabPresent = false;\r\n\r\n            let baseCriteriaMap = res[\"criteriaMap\"].split(\"&&&&\")[0];\r\n\r\n            if (res[\"criteriaMap\"].indexOf(\"from:\") >= 0) {\r\n              amtSlabPresent = true;\r\n            }\r\n\r\n            if (res[\"criteriaMap\"].indexOf(\"trnStartDate=\") >= 0) {\r\n              dateSlabPresent = true;\r\n            }\r\n\r\n            if (amtSlabPresent && dateSlabPresent) {\r\n              this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n                field: \"dateFrom\",\r\n                header: \"Date From\",\r\n                fieldType: \"text\",\r\n              });\r\n              this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n                field: \"dateTo\",\r\n                header: \"Date To\",\r\n                fieldType: \"text\",\r\n              });\r\n              this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n                field: \"lcyAmountFrom\",\r\n                header: \"Amount From\",\r\n                fieldType: \"text\",\r\n              });\r\n              this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n                field: \"lcyAmountTo\",\r\n                header: \"Amount To\",\r\n                fieldType: \"text\",\r\n              });\r\n\r\n              this.applyCriteriaFormattedData = [];\r\n\r\n              let dateSlabFields = reqData.dateSlabArr;\r\n              let lcySlabFields = reqData.lcySlabArr;\r\n\r\n              dateSlabFields.forEach((fieldDate) => {\r\n                console.log(lcySlabFields);\r\n                lcySlabFields.forEach((fieldAmt) => {\r\n                  let apiData = JSON.parse(\r\n                    JSON.stringify(res[\"data\"].taxSetting)\r\n                  );\r\n                  console.log(fieldAmt);\r\n                  apiData[\"dateFrom\"] = fieldDate.trnStartDate;\r\n                  apiData[\"dateTo\"] = fieldDate.trnEndDate;\r\n                  apiData[\"lcyAmountFrom\"] = fieldAmt.from;\r\n                  apiData[\"lcyAmountTo\"] = fieldAmt.to;\r\n\r\n                  apiData[\r\n                    \"criteriaMapSplit\"\r\n                  ] = `${baseCriteriaMap}&&&&from:${fieldAmt[\"from\"]}::to:${fieldAmt[\"to\"]}&&&&trnStartDate=${fieldDate[\"trnStartDate\"]}::trnEndDate=${fieldDate[\"trnEndDate\"]}`;\r\n                  this.applyCriteriaFormattedData.push(apiData);\r\n                });\r\n              });\r\n            } else {\r\n              if (amtSlabPresent) {\r\n                let lcySlabFields = reqData.lcySlabArr;\r\n                this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n                  field: \"lcyAmountFrom\",\r\n                  header: \"Amount From\",\r\n                  fieldType: \"text\",\r\n                });\r\n                this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n                  field: \"lcyAmountTo\",\r\n                  header: \"Amount To\",\r\n                  fieldType: \"text\",\r\n                });\r\n                this.applyCriteriaFormattedData = [];\r\n                lcySlabFields.forEach((field) => {\r\n                  let apiData = JSON.parse(\r\n                    JSON.stringify(res[\"data\"].taxSetting)\r\n                  );\r\n                  apiData[\"lcyAmountFrom\"] = field.from;\r\n                  apiData[\"lcyAmountTo\"] = field.to;\r\n                  apiData[\r\n                    \"criteriaMapSplit\"\r\n                  ] = `${baseCriteriaMap}&&&&from:${field[\"from\"]}::to:${field[\"to\"]}`;\r\n                  this.applyCriteriaFormattedData.push(apiData);\r\n                });\r\n              } else if (dateSlabPresent) {\r\n                let dateSlabFields = reqData.dateSlabArr;\r\n                this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n                  field: \"dateFrom\",\r\n                  header: \"Date From\",\r\n                  fieldType: \"text\",\r\n                });\r\n                this.applyCriteriaDataTableColumns.splice(-5, 0, {\r\n                  field: \"dateTo\",\r\n                  header: \"Date To\",\r\n                  fieldType: \"text\",\r\n                });\r\n                this.applyCriteriaFormattedData = [];\r\n                dateSlabFields.forEach((field) => {\r\n                  let apiData = JSON.parse(\r\n                    JSON.stringify(res[\"data\"].taxSetting)\r\n                  );\r\n                  apiData[\"dateFrom\"] = field.trnStartDate;\r\n                  apiData[\"dateTo\"] = field.trnEndDate;\r\n                  apiData[\r\n                    \"criteriaMapSplit\"\r\n                  ] = `${baseCriteriaMap}&&&&trnStartDate=${field[\"trnStartDate\"]}::trnEndDate=${field[\"trnEndDate\"]}`;\r\n                  this.applyCriteriaFormattedData.push(apiData);\r\n                });\r\n              } else if (!amtSlabPresent && !dateSlabPresent) {\r\n                this.applyCriteriaFormattedData = [res[\"data\"].taxSetting];\r\n                this.applyCriteriaFormattedData.forEach((data) => {\r\n                  data[\"criteriaMapSplit\"] = baseCriteriaMap;\r\n                });\r\n              }\r\n            }\r\n\r\n            // % old-\r\n\r\n            // if (res[\"criteriaMap\"].indexOf(\"&&&&\") >= 0) {\r\n            //   this.isLcyFieldPresent = true;\r\n            // } else {\r\n            //   this.isLcyFieldPresent = false;\r\n            // }\r\n\r\n            // if (!this.isLcyFieldPresent) {\r\n            //   this.applyCriteriaFormattedData = [res[\"data\"].taxSetting];\r\n            //   this.applyCriteriaFormattedData.forEach((data) => {\r\n            //     data[\"criteriaMapSplit\"] = null;\r\n            //   });\r\n            //   console.log(this.applyCriteriaFormattedData);\r\n            // } else {\r\n            //   if (res[\"criteriaMap\"].indexOf(\"LCY Amount\") >= 0) {\r\n            //     let lcyOprFields = crtfields.filter((crt) => {\r\n            //       return crt.includes(\"LCY Amount\");\r\n            //     });\r\n            //     this.applyCriteriaDataTableColumns.splice(-4, 0, {\r\n            //       field: \"lcyAmount\",\r\n            //       header: \"LCY Amount\",\r\n            //       fieldType: \"text\",\r\n            //     });\r\n            //     this.applyCriteriaFormattedData = [];\r\n            //     lcyOprFields.forEach((field) => {\r\n            //       let apiData = JSON.parse(\r\n            //         JSON.stringify(res[\"data\"].taxSetting)\r\n            //       );\r\n            //       apiData[\"lcyAmount\"] = field;\r\n            //       apiData[\"criteriaMapSplit\"] = field;\r\n            //       this.applyCriteriaFormattedData.push(apiData);\r\n            //     });\r\n            //   } else if (res[\"criteriaMap\"].indexOf(\"from\") >= 0) {\r\n            //     let lcySlabFields = reqData.lcySlabArr;\r\n            //     this.applyCriteriaDataTableColumns.splice(-4, 0, {\r\n            //       field: \"lcyAmountFrom\",\r\n            //       header: \"Amount From\",\r\n            //       fieldType: \"text\",\r\n            //     });\r\n            //     this.applyCriteriaDataTableColumns.splice(-4, 0, {\r\n            //       field: \"lcyAmountTo\",\r\n            //       header: \"Amount To\",\r\n            //       fieldType: \"text\",\r\n            //     });\r\n            //     this.applyCriteriaFormattedData = [];\r\n            //     lcySlabFields.forEach((field) => {\r\n            //       let apiData = JSON.parse(\r\n            //         JSON.stringify(res[\"data\"].taxSetting)\r\n            //       );\r\n            //       apiData[\"lcyAmountFrom\"] = field.from;\r\n            //       apiData[\"lcyAmountTo\"] = field.to;\r\n            //       apiData[\r\n            //         \"criteriaMapSplit\"\r\n            //       ] = `from:${field[\"from\"]}::to:${field[\"to\"]}`;\r\n            //       this.applyCriteriaFormattedData.push(apiData);\r\n            //     });\r\n            //   }\r\n            // }\r\n\r\n            this.applyCriteriaFormattedData.forEach((data) => {\r\n              delete data.id;\r\n              // data[\"taxTypeOption\"] = this.taxTypeOption;\r\n              data[\"criteriaMap\"] = this.appliedCriteriaCriteriaMap;\r\n              data[\"setAsOption\"] = this.setAsOption;\r\n              data[\"applicableOnOption\"] = this.applicableOnOption;\r\n              data[\"action\"] = res[\"data\"].action;\r\n              data[\"invalidTaxAmount\"] = false;\r\n              data[\"status\"] = \"Active\";\r\n              data[\"userID\"] = this.userId;\r\n              data[\"taxCode\"] = this.taxCode;\r\n              console.log(\"filter\", data);\r\n              console.log(\"filter1\", data[\"criteriaMap\"]);\r\n            });\r\n            // this.setSelectedOptions();\r\n\r\n            console.log(\"::\", this.applyCriteriaFormattedData);\r\n            // console.log(\"::\", this.applyCriteriaDataTableColumns);\r\n\r\n            this.coreService.showSuccessToast(`Criteria Applied Successfully`);\r\n            this.coreService.removeLoadingScreen();\r\n          } else {\r\n            this.applyCriteriaFormattedData = [];\r\n            this.appliedCriteriaCriteriaMap = null;\r\n            this.appliedCriteriaIsDuplicate = null;\r\n            this.applyCriteriaDataTableColumns = [];\r\n            this.coreService.showWarningToast(\r\n              \"Applied criteria already exists.\"\r\n            );\r\n          }\r\n        }\r\n      },\r\n      (err) => {\r\n        this.coreService.removeLoadingScreen();\r\n        console.log(\"error in Tax setting Apply API\", err);\r\n        this.coreService.showWarningToast(\"Some error in fetching data\");\r\n      }\r\n    );\r\n  }\r\n  updateApplicableOnOptions(data: any) {\r\n    console.log(data);\r\n    if (this.appliedCriteriaCriteriaMap) {\r\n      const conditions = this.appliedCriteriaCriteriaMap.split(\";\");\r\n      const chargeTypeCondition = conditions.find((condition) =>\r\n        condition.includes(\"Tax Type\")\r\n      );\r\n\r\n      if (chargeTypeCondition) {\r\n        const taxTypeMatch = /Tax Type = (.+?)(?:&&&&|$)/.exec(\r\n          chargeTypeCondition\r\n        );\r\n\r\n        console.log(\"taxTypeMatch\", taxTypeMatch);\r\n\r\n        if (taxTypeMatch && taxTypeMatch[1]) {\r\n          const taxTypeToRemove = taxTypeMatch[1].trim();\r\n          console.log(\"taxTypeToRemove\", taxTypeToRemove);\r\n\r\n          data.applicableOnOptions = data.applicableOnOptions?.filter(\r\n            (option) => option.codeName !== taxTypeToRemove\r\n          );\r\n        }\r\n      }\r\n    }\r\n    // if (this.appliedCriteriaCriteriaMap) {\r\n    //   const taxTypeMatch = /Tax Type = (\\w+)/.exec(\r\n    //     this.appliedCriteriaCriteriaMap\r\n    //   );\r\n    //   console.log(taxTypeMatch);\r\n    //   if (taxTypeMatch && taxTypeMatch[1]) {\r\n    //     const taxTypeToRemove = taxTypeMatch[1];\r\n    //     data.applicableOnOptions = data.applicableOnOptions?.filter(\r\n    //       (option) => option.codeName !== taxTypeToRemove\r\n    //     );\r\n    //   }\r\n    // }\r\n\r\n    this.applicableOnOption = data.applicableOnOptions?.map((option) => {\r\n      return { code: option.code, codeName: option.codeName };\r\n    });\r\n    console.log(data.applicableOnOptions);\r\n  }\r\n  saveCriteriaAsTemplate(templateFormData: any) {\r\n    templateFormData.append(\"applications\", this.appCtrl.value.code);\r\n    templateFormData.append(\"form\", this.formName);\r\n    templateFormData.append(\"moduleName\", this.moduleCtrl.value.code);\r\n    this.coreService.displayLoadingScreen();\r\n    this.taxSettingsService\r\n      .currentCriteriaSaveAsTemplate(templateFormData)\r\n      .subscribe(\r\n        (res) => {\r\n          if (\r\n            res[\"status\"] &&\r\n            typeof res[\"status\"] == \"string\" &&\r\n            (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n          ) {\r\n            this.coreService.removeLoadingScreen();\r\n            if (res[\"error\"]) {\r\n              this.coreService.showWarningToast(res[\"error\"]);\r\n            } else {\r\n              this.coreService.showWarningToast(\r\n                \"Some error in saving template\"\r\n              );\r\n            }\r\n          } else {\r\n            this.coreService.removeLoadingScreen();\r\n\r\n            if (res.msg == \"Criteria Template already exists.\") {\r\n              // this.savingCriteriaTemplateError =\r\n              //   \"Criteria Template already exists.\";\r\n              this.savingCriteriaTemplateError = true;\r\n              console.log(this.savingCriteriaTemplateError);\r\n            } else {\r\n              this.savingCriteriaTemplateError = false;\r\n              this.setCriteriaSharedComponent.selectedTemplate =\r\n                this.setCriteriaSharedComponent.criteriaName;\r\n              this.coreService.showSuccessToast(res.msg);\r\n              this.setCriteriaSharedComponent.saveTemplateDialogOpen = false;\r\n              this.setCriteriaSharedComponent.criteriaName = \"\";\r\n              this.getAllTemplates();\r\n            }\r\n          }\r\n        },\r\n        (err) => {\r\n          this.coreService.removeLoadingScreen();\r\n          console.log(\":: Error in saving criteria template\", err);\r\n          this.coreService.showWarningToast(\"Some error in saving template\");\r\n        }\r\n      );\r\n  }\r\n\r\n  getAllTemplates() {\r\n    this.taxSettingsService\r\n      .getAllCriteriaTemplates(\r\n        this.userId,\r\n        this.appCtrl.value.code,\r\n        this.moduleCtrl.value.code,\r\n        this.formName\r\n      )\r\n      .subscribe(\r\n        (res) => {\r\n          if (\r\n            res[\"status\"] &&\r\n            typeof res[\"status\"] == \"string\" &&\r\n            (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n          ) {\r\n            if (res[\"error\"]) {\r\n              this.coreService.showWarningToast(res[\"error\"]);\r\n            } else {\r\n              this.coreService.showWarningToast(\r\n                \"Some error in saving template\"\r\n              );\r\n            }\r\n          } else {\r\n            if (res.data && res.data.length) {\r\n              this.criteriaTemplatesDdlOptions = res.data;\r\n              this.criteriaTemplatesDdlOptions.forEach((val) => {\r\n                val[\"name\"] = val[\"criteriaName\"];\r\n                val[\"code\"] = val[\"criteriaName\"];\r\n              });\r\n            } else {\r\n              console.log(res.msg);\r\n            }\r\n          }\r\n        },\r\n        (err) => {\r\n          console.log(\":: Error in getting template list\", err);\r\n          this.coreService.showWarningToast(\r\n            \"Some error in getting template list\"\r\n          );\r\n        }\r\n      );\r\n  }\r\n\r\n  saveAddNewTax(action) {\r\n    if (\r\n      this.setCriteriaSharedComponent.getCurrentCriteriaMap() !=\r\n      this.appliedCriteriaCriteriaMap\r\n    ) {\r\n      this.coreService.showWarningToast(\r\n        \"Recent changes in Criteria map has not been applied, Saving last applied data\"\r\n      );\r\n    }\r\n\r\n    if (\r\n      this.mode != \"clone\" ||\r\n      (this.mode == \"clone\" && this.isApplyCriteriaClicked)\r\n    ) {\r\n      this.coreService.displayLoadingScreen();\r\n      let isRequiredFields = false;\r\n      let invalidTaxAmount = false;\r\n      // let taxTypeMissing = false;\r\n      let setAsMissing = false;\r\n      let applicableOnMissing = false;\r\n      let taxMissing = false;\r\n      this.applyCriteriaFormattedData.forEach((data) => {\r\n        if (data[\"isActive\"] == \"N\") {\r\n          data[\"taxCodeDesc\"] = this.taxDescription\r\n            ?.replace(/\\s+/g, \" \")\r\n            .trim()\r\n            .toUpperCase()\r\n            ? this.taxDescription.replace(/\\s/g, \"\").length\r\n              ? this.taxDescription?.replace(/\\s+/g, \" \").trim().toUpperCase()\r\n              : null\r\n            : null;\r\n          if (data[\"tax\"] == \"null\" || data[\"tax\"] == null) {\r\n            data[\"tax\"] = \"\";\r\n          }\r\n        }\r\n      });\r\n      let activeData = this.applyCriteriaFormattedData.filter(\r\n        (d) => d[\"isActive\"] == \"Y\"\r\n      );\r\n\r\n      activeData.forEach((element) => {\r\n        console.log(element);\r\n\r\n        if (element[\"invalidTaxAmount\"]) {\r\n          invalidTaxAmount = true;\r\n        }\r\n        element[\"taxCodeDesc\"] = this.taxDescription\r\n          ?.replace(/\\s+/g, \" \")\r\n          .trim()\r\n          .toUpperCase()\r\n          ? this.taxDescription.replace(/\\s/g, \"\").length\r\n            ? this.taxDescription?.replace(/\\s+/g, \" \").trim().toUpperCase()\r\n            : null\r\n          : null;\r\n        if (!element[\"taxCodeDesc\"]) {\r\n          isRequiredFields = true;\r\n        }\r\n        // if (!element[\"taxType\"]) {\r\n        //   taxTypeMissing = true;\r\n        // }\r\n        if (!element[\"setAs\"] || element[\"setAs\"] == \"null\") {\r\n          setAsMissing = true;\r\n        }\r\n        if (!element[\"applicableOn\"] || element[\"applicableOn\"] == \"null\") {\r\n          applicableOnMissing = true;\r\n        }\r\n        if (!element[\"tax\"] && element[\"tax\"] != \"0\") {\r\n          taxMissing = true;\r\n        }\r\n      });\r\n      if (isRequiredFields) {\r\n        this.coreService.removeLoadingScreen();\r\n        this.coreService.showWarningToast(\"Please Fill Tax Description.\");\r\n      }\r\n      // else if (taxTypeMissing) {\r\n      //   this.coreService.removeLoadingScreen();\r\n      //   this.coreService.showWarningToast(\"Please Select Tax Type.\");\r\n      // }\r\n      else if (setAsMissing) {\r\n        this.coreService.removeLoadingScreen();\r\n        this.coreService.showWarningToast(\"Please Select Set As.\");\r\n      } else if (applicableOnMissing) {\r\n        this.coreService.removeLoadingScreen();\r\n        this.coreService.showWarningToast(\"Please Select Applicable On.\");\r\n      } else if (taxMissing) {\r\n        this.coreService.removeLoadingScreen();\r\n        this.coreService.showWarningToast(\"Please Fill Tax Amount.\");\r\n      } else if (invalidTaxAmount) {\r\n        this.coreService.removeLoadingScreen();\r\n        this.coreService.showWarningToast(\"Please Enter Valid Tax Amount.\");\r\n      } else {\r\n        if (this.checkDuplicateSetAs() && this.checkDuplicateApplicableOn()) {\r\n          return;\r\n        } else {\r\n          let service;\r\n          if (this.mode == \"edit\") {\r\n            let data = {\r\n              data: this.applyCriteriaFormattedData,\r\n              duplicate: this.appliedCriteriaIsDuplicate,\r\n              criteriaMap: this.appliedCriteriaCriteriaMap,\r\n              taxCode: this.taxID,\r\n            };\r\n            service = this.taxSettingsService.updateTaxSetting(\r\n              this.userId,\r\n              data,\r\n              this.appCtrl.value.code,\r\n              this.moduleCtrl.value.code,\r\n              this.formName\r\n            );\r\n            console.log(\"::\", data);\r\n          } else {\r\n            let data = {\r\n              data: this.applyCriteriaFormattedData,\r\n              duplicate: this.appliedCriteriaIsDuplicate,\r\n              criteriaMap: this.appliedCriteriaCriteriaMap,\r\n            };\r\n            service = this.taxSettingsService.addNewTax(\r\n              data,\r\n              this.appCtrl.value.code,\r\n              this.moduleCtrl.value.code,\r\n              this.formName\r\n            );\r\n          }\r\n\r\n          if (service) {\r\n            service.subscribe(\r\n              (res) => {\r\n                if (\r\n                  res[\"status\"] &&\r\n                  typeof res[\"status\"] == \"string\" &&\r\n                  (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n                ) {\r\n                  if (res[\"error\"]) {\r\n                    this.coreService.showWarningToast(res[\"error\"]);\r\n                  } else {\r\n                    this.coreService.showWarningToast(\r\n                      \"Something went wrong, Please try again later\"\r\n                    );\r\n                  }\r\n                } else {\r\n                  if (res[\"msg\"]) {\r\n                    this.coreService.showSuccessToast(res.msg);\r\n                    if (action == \"save\") {\r\n                      this.router.navigate([`navbar/tax-settings`]);\r\n                    } else if (action == \"saveAndAddNew\") {\r\n                      this.taxSettingsService.applicationName = null;\r\n                      this.taxSettingsService.moduleName = null;\r\n                      this.router.navigate([`navbar/tax-settings/add-tax`]);\r\n                    }\r\n                  }\r\n                }\r\n              },\r\n              (err) => {\r\n                this.coreService.removeLoadingScreen();\r\n                console.log(\"error in saveAddNewTax\", err);\r\n                this.coreService.showWarningToast(\r\n                  \"Something went wrong, Please try again later\"\r\n                );\r\n              }\r\n            );\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      this.coreService.showWarningToast(\"Similar Record Already Exists.\");\r\n    }\r\n  }\r\n\r\n  checkDuplicateApplicableOn(): boolean {\r\n    let isDuplicateApplicableOnFound = false;\r\n    let currCritMap = this.applyCriteriaFormattedData[0][\"criteriaMap\"];\r\n    let amtSlabPresent = false;\r\n    let dateSlabPresent = false;\r\n\r\n    let activeData = this.applyCriteriaFormattedData.filter(\r\n      (d) => d[\"isActive\"] == \"Y\"\r\n    );\r\n\r\n    if (currCritMap.indexOf(\"from:\") >= 0) {\r\n      amtSlabPresent = true;\r\n    }\r\n\r\n    if (currCritMap.indexOf(\"trnStartDate=\") >= 0) {\r\n      dateSlabPresent = true;\r\n    }\r\n\r\n    if (amtSlabPresent || dateSlabPresent) {\r\n      let docTypeObj = {};\r\n      if (amtSlabPresent && dateSlabPresent) {\r\n        activeData.forEach((dataD) => {\r\n          if (\r\n            docTypeObj[`${dataD[\"dateFrom\"]}_${dataD[\"lcyAmountFrom\"]}`] &&\r\n            docTypeObj[`${dataD[\"dateFrom\"]}_${dataD[\"lcyAmountFrom\"]}`].length\r\n          ) {\r\n            docTypeObj[`${dataD[\"dateFrom\"]}_${dataD[\"lcyAmountFrom\"]}`].push(\r\n              dataD[\"ApplicableOn\"]\r\n            );\r\n          } else {\r\n            docTypeObj[`${dataD[\"dateFrom\"]}_${dataD[\"lcyAmountFrom\"]}`] = [\r\n              dataD[\"ApplicableOn\"],\r\n            ];\r\n          }\r\n        });\r\n      } else {\r\n        if (amtSlabPresent) {\r\n          activeData.forEach((data) => {\r\n            if (\r\n              docTypeObj[data[\"lcyAmountFrom\"]] &&\r\n              docTypeObj[data[\"lcyAmountFrom\"]].length\r\n            ) {\r\n              docTypeObj[data[\"lcyAmountFrom\"]].push(data[\"ApplicableOn\"]);\r\n            } else {\r\n              docTypeObj[data[\"lcyAmountFrom\"]] = [data[\"ApplicableOn\"]];\r\n            }\r\n          });\r\n        } else if (dateSlabPresent) {\r\n          activeData.forEach((data) => {\r\n            if (\r\n              docTypeObj[data[\"dateFrom\"]] &&\r\n              docTypeObj[data[\"dateFrom\"]].length\r\n            ) {\r\n              docTypeObj[data[\"dateFrom\"]].push(data[\"ApplicableOn\"]);\r\n            } else {\r\n              docTypeObj[data[\"dateFrom\"]] = [data[\"ApplicableOn\"]];\r\n            }\r\n          });\r\n        }\r\n      }\r\n      console.log(\"::doctypeobj\", docTypeObj);\r\n      Object.values(docTypeObj).forEach((docTypeArr: any) => {\r\n        if (new Set(docTypeArr).size !== docTypeArr.length) {\r\n          this.coreService.removeLoadingScreen();\r\n          this.coreService.showWarningToast(\r\n            \"Duplicate set as option found for a particular Amount or Date !\"\r\n          );\r\n          isDuplicateApplicableOnFound = true;\r\n        }\r\n      });\r\n    } else {\r\n      let docTypeArr = activeData.map((data) => {\r\n        return data[\"ApplicableOn\"];\r\n      });\r\n      if (new Set(docTypeArr).size !== docTypeArr.length) {\r\n        this.coreService.removeLoadingScreen();\r\n        if (this.mode == \"clone\") {\r\n          this.coreService.showWarningToast(\"Similar Record Already Exists\");\r\n        } else {\r\n          this.coreService.showWarningToast(\"Duplicate Set As Option Found\");\r\n        }\r\n        isDuplicateApplicableOnFound = true;\r\n      }\r\n    }\r\n    return isDuplicateApplicableOnFound;\r\n  }\r\n  checkDuplicateSetAs(): boolean {\r\n    let isDuplicateSetAsFound = false;\r\n    let currCritMap = this.applyCriteriaFormattedData[0][\"criteriaMap\"];\r\n    let amtSlabPresent = false;\r\n    let dateSlabPresent = false;\r\n\r\n    let activeData = this.applyCriteriaFormattedData.filter(\r\n      (d) => d[\"isActive\"] == \"Y\"\r\n    );\r\n\r\n    if (currCritMap.indexOf(\"from:\") >= 0) {\r\n      amtSlabPresent = true;\r\n    }\r\n\r\n    if (currCritMap.indexOf(\"trnStartDate=\") >= 0) {\r\n      dateSlabPresent = true;\r\n    }\r\n\r\n    if (amtSlabPresent || dateSlabPresent) {\r\n      let docTypeObj = {};\r\n      if (amtSlabPresent && dateSlabPresent) {\r\n        activeData.forEach((dataD) => {\r\n          if (\r\n            docTypeObj[`${dataD[\"dateFrom\"]}_${dataD[\"lcyAmountFrom\"]}`] &&\r\n            docTypeObj[`${dataD[\"dateFrom\"]}_${dataD[\"lcyAmountFrom\"]}`].length\r\n          ) {\r\n            docTypeObj[`${dataD[\"dateFrom\"]}_${dataD[\"lcyAmountFrom\"]}`].push(\r\n              dataD[\"setAs\"]\r\n            );\r\n          } else {\r\n            docTypeObj[`${dataD[\"dateFrom\"]}_${dataD[\"lcyAmountFrom\"]}`] = [\r\n              dataD[\"setAs\"],\r\n            ];\r\n          }\r\n        });\r\n      } else {\r\n        if (amtSlabPresent) {\r\n          activeData.forEach((data) => {\r\n            if (\r\n              docTypeObj[data[\"lcyAmountFrom\"]] &&\r\n              docTypeObj[data[\"lcyAmountFrom\"]].length\r\n            ) {\r\n              docTypeObj[data[\"lcyAmountFrom\"]].push(data[\"setAs\"]);\r\n            } else {\r\n              docTypeObj[data[\"lcyAmountFrom\"]] = [data[\"setAs\"]];\r\n            }\r\n          });\r\n        } else if (dateSlabPresent) {\r\n          activeData.forEach((data) => {\r\n            if (\r\n              docTypeObj[data[\"dateFrom\"]] &&\r\n              docTypeObj[data[\"dateFrom\"]].length\r\n            ) {\r\n              docTypeObj[data[\"dateFrom\"]].push(data[\"setAs\"]);\r\n            } else {\r\n              docTypeObj[data[\"dateFrom\"]] = [data[\"setAs\"]];\r\n            }\r\n          });\r\n        }\r\n      }\r\n      console.log(\"::doctypeobj\", docTypeObj);\r\n      Object.values(docTypeObj).forEach((docTypeArr: any) => {\r\n        if (new Set(docTypeArr).size !== docTypeArr.length) {\r\n          this.coreService.removeLoadingScreen();\r\n          this.coreService.showWarningToast(\r\n            \"Duplicate set as option found for a particular Amount or Date !\"\r\n          );\r\n          isDuplicateSetAsFound = true;\r\n        }\r\n      });\r\n    } else {\r\n      let docTypeArr = activeData.map((data) => {\r\n        return data[\"setAs\"];\r\n      });\r\n      if (new Set(docTypeArr).size !== docTypeArr.length) {\r\n        this.coreService.removeLoadingScreen();\r\n        if (this.mode == \"clone\") {\r\n          this.coreService.showWarningToast(\"Similar Record Already Exists\");\r\n        } else {\r\n          this.coreService.showWarningToast(\"Duplicate Set As Option Found\");\r\n        }\r\n        isDuplicateSetAsFound = true;\r\n      }\r\n    }\r\n    return isDuplicateSetAsFound;\r\n  }\r\n\r\n  reset() {\r\n    if (this.mode == \"edit\") {\r\n      this.coreService.setSidebarBtnFixedStyle(false);\r\n      this.confirmationService.confirm({\r\n        message: \"Are you sure, you want to clear applied changes ?\",\r\n        key: \"resetTaxDataConfirmation\",\r\n        accept: () => {\r\n          this.coreService.displayLoadingScreen();\r\n          // this.getCriteriaMasterData();\r\n          // this.getAllTemplates();\r\n          this.applyCriteriaFormattedData = [];\r\n          this.appliedCriteriaCriteriaMap = null;\r\n          this.appliedCriteriaIsDuplicate = null;\r\n          this.taxDescription = \"\";\r\n          this.setCriteriaSharedComponent.resetSetCriteria();\r\n          this.setHeaderSidebarBtn();\r\n          // this.coreService.setHeaderStickyStyle(true);\r\n          // this.coreService.setSidebarBtnFixedStyle(true);\r\n        },\r\n        reject: () => {\r\n          this.confirmationService.close;\r\n          this.setHeaderSidebarBtn();\r\n        },\r\n      });\r\n    } else if (this.mode == \"clone\") {\r\n      this.coreService.setSidebarBtnFixedStyle(false);\r\n      this.confirmationService.confirm({\r\n        message: \"Are you sure, you want to clear applied changes ?\",\r\n        key: \"resetTaxDataConfirmation\",\r\n        accept: () => {\r\n          this.coreService.displayLoadingScreen();\r\n          this.getCriteriaMasterData();\r\n          this.getAllTemplates();\r\n          this.coreService.setHeaderStickyStyle(true);\r\n          this.coreService.setSidebarBtnFixedStyle(true);\r\n        },\r\n        reject: () => {\r\n          this.confirmationService.close;\r\n          this.setHeaderSidebarBtn();\r\n        },\r\n      });\r\n    } else {\r\n      this.coreService.setSidebarBtnFixedStyle(false);\r\n      this.coreService.setHeaderStickyStyle(false);\r\n      this.confirmationService.confirm({\r\n        message: \"Are you sure, you want to clear all the fields ?\",\r\n        key: \"resetTaxDataConfirmation\",\r\n        accept: () => {\r\n          this.applyCriteriaFormattedData = [];\r\n          this.appliedCriteriaCriteriaMap = null;\r\n          this.appliedCriteriaIsDuplicate = null;\r\n          this.taxDescription = \"\";\r\n\r\n          this.setCriteriaSharedComponent.resetSetCriteria();\r\n          this.setHeaderSidebarBtn();\r\n          // this.appCtrl.reset();\r\n          // this.moduleCtrl.reset();\r\n          // this.moduleCtrl.disable();\r\n          // this.showContent = false;\r\n          // this.appModuleDataPresent = false;\r\n        },\r\n        reject: () => {\r\n          this.confirmationService.close;\r\n          this.setHeaderSidebarBtn();\r\n        },\r\n      });\r\n    }\r\n  }\r\n\r\n  confirmStatus(e: any, data: any) {\r\n    e.preventDefault();\r\n    let type = \"\";\r\n    let reqStatus = \"\";\r\n    if (e.target.checked) {\r\n      reqStatus = \"Y\";\r\n      type = \"Activate\";\r\n    } else {\r\n      reqStatus = \"N\";\r\n      type = \"Deactivate\";\r\n    }\r\n    this.coreService.setSidebarBtnFixedStyle(false);\r\n    this.coreService.setHeaderStickyStyle(false);\r\n    let completeMsg = \"\";\r\n    completeMsg =\r\n      `<img src=\"../../../assets/warning.svg\"><br/><br/>` +\r\n      `Do you wish to ` +\r\n      type +\r\n      ` the Tax Record?`;\r\n    this.confirmationService.confirm({\r\n      message: completeMsg,\r\n      key: \"activeDeactiveStatus\",\r\n      accept: () => {\r\n        data[\"isActive\"] = reqStatus;\r\n        this.setHeaderSidebarBtn();\r\n        console.log(\"accepting\", reqStatus);\r\n      },\r\n      reject: () => {\r\n        this.confirmationService.close;\r\n        this.setHeaderSidebarBtn();\r\n        console.log(\"reject\");\r\n      },\r\n    });\r\n  }\r\n\r\n  setHeaderSidebarBtn() {\r\n    this.coreService.displayLoadingScreen();\r\n    setTimeout(() => {\r\n      this.coreService.setHeaderStickyStyle(true);\r\n      this.coreService.setSidebarBtnFixedStyle(true);\r\n    }, 500);\r\n    setTimeout(() => {\r\n      this.coreService.removeLoadingScreen();\r\n    }, 1000);\r\n  }\r\n\r\n  // setSelectedOptions() {\r\n  //   this.applyCriteriaFormattedData.forEach((data) => {\r\n  //     if (data[\"taxType\"]) {\r\n  //       data[\"taxType\"] = data[\"taxTypeOption\"].filter(\r\n  //         (option) => option[\"code\"] == data[\"taxType\"]\r\n  //       )[0][\"codeName\"];\r\n  //     }\r\n\r\n  //     if (data[\"setAs\"]) {\r\n  //       data[\"setAs\"] = data[\"setAsOption\"].filter(\r\n  //         (option) => option[\"code\"] == data[\"setAs\"]\r\n  //       )[0][\"codeName\"];\r\n  //     }\r\n  //   });\r\n  // }\r\n  // decodeSelectedOptions() {\r\n  //   this.applyCriteriaFormattedData.forEach((data) => {\r\n  //     data[\"taxType\"] = data[\"taxTypeOption\"].filter(\r\n  //       (option) => option[\"codeName\"] == data[\"taxType\"]\r\n  //     )[0][\"code\"];\r\n  //     data[\"setAs\"] = data[\"setAsOption\"].filter(\r\n  //       (option) => option[\"codeName\"] == data[\"setAs\"]\r\n  //     )[0][\"code\"];\r\n  //   });\r\n  // }\r\n\r\n  isMandatoryCol(heading: any) {\r\n    return heading.includes(\"*\") ? true : false;\r\n  }\r\n\r\n  getColumns(colData: any) {\r\n    return this.criteriaDataService.getAppliedCriteriaTableColumns(colData);\r\n  }\r\n  selectedColumn(selectCol: any, value: any, index: any) {\r\n    console.log(selectCol, value, index);\r\n    if (selectCol == \"setAs\") {\r\n      if (selectCol == \"setAs\" && value[\"code\"] == \"Percentage\") {\r\n        this.applyCriteriaFormattedData[index][\"tax\"] = 0;\r\n        this.applyCriteriaFormattedData[index][\"invalidTaxAmount\"] = true;\r\n        // this.coreService.showWarningToast(\"Please enter tax greater than zero\");\r\n      } else {\r\n        if (Number(this.applyCriteriaFormattedData[index].lcyAmountFrom)) {\r\n          this.applyCriteriaFormattedData[index][\"tax\"] = Number(\r\n            this.applyCriteriaFormattedData[index].lcyAmountFrom\r\n          );\r\n        } else {\r\n          if (this.applyCriteriaFormattedData[index].lcyAmount) {\r\n            let lcyAmountNum =\r\n              this.applyCriteriaFormattedData[index].lcyAmount.split(\" \")[3];\r\n            let lcyAmountOpr =\r\n              this.applyCriteriaFormattedData[index].lcyAmount.split(\" \")[2];\r\n            if (lcyAmountOpr == \">=\") {\r\n              console.log(lcyAmountNum);\r\n              this.applyCriteriaFormattedData[index][\"tax\"] =\r\n                Number(lcyAmountNum);\r\n            } else if (lcyAmountOpr == \">\") {\r\n              this.applyCriteriaFormattedData[index][\"tax\"] =\r\n                Number(lcyAmountNum) + 1;\r\n            } else if (lcyAmountOpr == \"=\") {\r\n              this.applyCriteriaFormattedData[index][\"tax\"] =\r\n                Number(lcyAmountNum);\r\n            } else {\r\n              this.applyCriteriaFormattedData[index][\"tax\"] = 0;\r\n            }\r\n          } else {\r\n            this.applyCriteriaFormattedData[index][\"tax\"] = 0;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    this.applyCriteriaFormattedData[index][selectCol] = value.codeName;\r\n  }\r\n\r\n  changeValueInput(\r\n    selectCol: any,\r\n    inputCol: any,\r\n    event: any,\r\n    index: any,\r\n    valueInputElm: any\r\n  ) {\r\n    console.log(\r\n      selectCol,\r\n      inputCol,\r\n      event,\r\n      this.applyCriteriaFormattedData[index]\r\n    );\r\n    this.applyCriteriaFormattedData[index][\"invalidTaxAmount\"] = false;\r\n    let max = 1000000;\r\n    let min = 0;\r\n\r\n    if (this.applyCriteriaFormattedData[index][selectCol] == \"Percentage\") {\r\n      max = 100;\r\n    } else if (this.applyCriteriaFormattedData[index][selectCol] == \"Amount\") {\r\n      if (this.applyCriteriaFormattedData[index].lcyAmount?.length) {\r\n        let lcyAmountNum =\r\n          this.applyCriteriaFormattedData[index].lcyAmount.split(\" \")[3];\r\n        let lcyAmountOpr =\r\n          this.applyCriteriaFormattedData[index].lcyAmount.split(\" \")[2];\r\n        if (\r\n          Number(this.applyCriteriaFormattedData[index].lcyAmountFrom) > 0 &&\r\n          Number(this.applyCriteriaFormattedData[index].lcyAmountTo) > 0\r\n        ) {\r\n          min = Number(this.applyCriteriaFormattedData[index].lcyAmountFrom);\r\n          max = Number(this.applyCriteriaFormattedData[index].lcyAmountTo);\r\n        } else if (lcyAmountOpr == \"=\") {\r\n          min = Number(lcyAmountNum);\r\n          max = Number(lcyAmountNum);\r\n        } else if (lcyAmountOpr == \">=\") {\r\n          min = Number(lcyAmountNum);\r\n          max = 1000000;\r\n        } else if (lcyAmountOpr == \">\") {\r\n          min = Number(lcyAmountNum) + 1;\r\n          max = 1000000;\r\n        } else if (lcyAmountOpr == \"<=\") {\r\n          min = 0;\r\n          max = Number(lcyAmountNum);\r\n        } else if (lcyAmountOpr == \"<\") {\r\n          min = 0;\r\n          max = Number(lcyAmountNum) - 1;\r\n        } else {\r\n          max = 1000000;\r\n        }\r\n      } else if (\r\n        this.applyCriteriaFormattedData[index].lcyAmountFrom?.length ||\r\n        this.applyCriteriaFormattedData[index].lcyAmountTo?.length\r\n      ) {\r\n        min = Number(this.applyCriteriaFormattedData[index].lcyAmountFrom);\r\n        max = Number(this.applyCriteriaFormattedData[index].lcyAmountTo);\r\n      }\r\n    }\r\n\r\n    let isDisplayError = false;\r\n    if (event.value == 0) {\r\n      isDisplayError = true;\r\n      this.applyCriteriaFormattedData[index][\"invalidTaxAmount\"] = true;\r\n      // this.coreService.showWarningToast(\"Please enter tax greater than zero\");\r\n      return false;\r\n    } else if (event.value < min || event.value > max) {\r\n      isDisplayError = true;\r\n      this.applyCriteriaFormattedData[index][\"invalidTaxAmount\"] = true;\r\n      this.coreService.showWarningToast(\r\n        \"Please enter tax between \" + min + \" to \" + max\r\n      );\r\n      if (event.value <= max && event.value >= min) {\r\n        this.applyCriteriaFormattedData[index][inputCol] = event.value;\r\n        this.applyCriteriaFormattedData[index][\"invalidTaxAmount\"] = false;\r\n      } else if (event.value > max) {\r\n        let lastValueEntered = valueInputElm.lastValue;\r\n        valueInputElm.input.nativeElement.value = lastValueEntered;\r\n        this.applyCriteriaFormattedData[index][\"invalidTaxAmount\"] = false;\r\n      } else if (event.value < min) {\r\n      }\r\n      return false;\r\n    }\r\n  }\r\n\r\n  TaxValidation() {}\r\n\r\n  checkOperation(operation: any, index: any, selectRow: any, fieldName: any) {\r\n    if (operation == \"delete\") {\r\n      this.delete(index);\r\n    } else if (operation == \"clone\") {\r\n      this.clone(index, selectRow, fieldName);\r\n    }\r\n  }\r\n\r\n  clone(index: any, selectRow: any, fieldName: any) {\r\n    let clonedRow = {\r\n      ...selectRow,\r\n    };\r\n    clonedRow[fieldName] = \"clone,delete\";\r\n    clonedRow[\"linked\"] = \"N\";\r\n    clonedRow[\"isActive\"] = \"Y\";\r\n    this.applyCriteriaFormattedData.splice(index + 1, 0, clonedRow);\r\n  }\r\n  delete(index: any) {\r\n    this.applyCriteriaFormattedData.splice(index, 1);\r\n  }\r\n}\r\n","<div class=\"visible-main-section\">\r\n  <div class=\"details-page-card\">\r\n    <div class=\"d-flex mx-3\" style=\"justify-content: space-between\">\r\n      <div class=\"col-12\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-7 col-lg-7 col-sm-12 col-xs-12\">\r\n            <p class=\"description-text\">\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                width=\"41\"\r\n                height=\"35\"\r\n                viewBox=\"0 0 41 41\"\r\n              >\r\n                <g\r\n                  id=\"Group_2248\"\r\n                  data-name=\"Group 2248\"\r\n                  transform=\"translate(-341 -138)\"\r\n                >\r\n                  <circle\r\n                    id=\"Ellipse_130\"\r\n                    data-name=\"Ellipse 130\"\r\n                    cx=\"20.5\"\r\n                    cy=\"20.5\"\r\n                    r=\"20.5\"\r\n                    transform=\"translate(341 138)\"\r\n                    [attr.fill]=\"primaryColor\"\r\n                  />\r\n                  <path\r\n                    id=\"_52_Note_Basic_Description\"\r\n                    data-name=\"52  Note, Basic, Description\"\r\n                    d=\"M17.054,9.537H9.52a.753.753,0,0,1-.753-.753V5.016a.753.753,0,0,1,.753-.753h.851a3.014,3.014,0,0,1,5.831,0h.851a.753.753,0,0,1,.753.753V8.783A.753.753,0,0,1,17.054,9.537ZM10.274,8.03H16.3V5.77h-.753a.753.753,0,0,1-.753-.753,1.507,1.507,0,0,0-3.014,0,.753.753,0,0,1-.753.753h-.753Zm11.3,12.808V7.277a2.26,2.26,0,0,0-2.26-2.26h-.753V6.523h.753a.753.753,0,0,1,.753.753V20.837a.753.753,0,0,1-.753.753H7.26a.753.753,0,0,1-.753-.753V7.277a.753.753,0,0,1,.753-.753h.753V5.016H7.26A2.26,2.26,0,0,0,5,7.277V20.837A2.26,2.26,0,0,0,7.26,23.1H19.314A2.26,2.26,0,0,0,21.574,20.837ZM17.808,11.8H8.767V13.3h9.041Zm0,3.014H8.767v1.507h9.041Zm0,3.014H8.767v1.507h9.041Z\"\r\n                    transform=\"translate(348.213 145.945)\"\r\n                    fill=\"#fff\"\r\n                  />\r\n                </g>\r\n              </svg>\r\n              Enables users to configure tax related settings.\r\n            </p>\r\n          </div>\r\n          <div class=\"col-md-5 col-lg-5 col-sm-12 col-xs-12\">\r\n            <div class=\"row\">\r\n              <div class=\"buttons-section\">\r\n                <button\r\n                  pButton\r\n                  pRipple\r\n                  [disabled]=\"\r\n                    !applyCriteriaFormattedData?.length || deactivated\r\n                  \"\r\n                  type=\"button\"\r\n                  label=\"Save\"\r\n                  class=\"p-button-raised\"\r\n                  (click)=\"saveAddNewTax('save')\"\r\n                ></button>\r\n                <button\r\n                  pButton\r\n                  pRipple\r\n                  type=\"button\"\r\n                  [disabled]=\"!applyCriteriaFormattedData.length || deactivated\"\r\n                  label=\"Save & Add New\"\r\n                  class=\"p-button-raised\"\r\n                  (click)=\"saveAddNewTax('saveAndAddNew')\"\r\n                ></button>\r\n                <button\r\n                  pButton\r\n                  pRipple\r\n                  type=\"button\"\r\n                  label=\"Reset\"\r\n                  class=\"p-button-warning\"\r\n                  (click)=\"reset()\"\r\n                  [disabled]=\"deactivated\"\r\n                ></button>\r\n                <button\r\n                  *ngIf=\"mode == 'edit'\"\r\n                  pButton\r\n                  pRipple\r\n                  type=\"button\"\r\n                  label=\"{{ deactivated ? 'Activate' : 'Deactivate' }}\"\r\n                  class=\"p-button-raised\"\r\n                  (click)=\"onActive()\"\r\n                ></button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div [formGroup]=\"selectAppModule\" class=\"select-module-application m-2\">\r\n      <div class=\"col-12\">\r\n        <div class=\"row\">\r\n          <div class=\"d-flex field col-md-4 col-lg-4 col-sm-12 col-xs-12 md-4\">\r\n            <label\r\n              class=\"detail-page-section-heading col-sm-3 col-xs-12\"\r\n              for=\"application\"\r\n              >Application</label\r\n            >\r\n            <p-dropdown\r\n              name=\"application\"\r\n              inputId=\"application\"\r\n              [options]=\"searchApplicationOptions\"\r\n              placeholder=\"Select\"\r\n              optionLabel=\"name\"\r\n              formControlName=\"applications\"\r\n              (onChange)=\"onAppValueChange()\"\r\n            >\r\n              <ng-template let-options pTemplate=\"item\">\r\n                <div class=\"truncate-text\">\r\n                  <div>{{ options.name }}</div>\r\n                </div>\r\n              </ng-template></p-dropdown\r\n            >\r\n          </div>\r\n          <div class=\"d-flex field col-md-4 col-lg-4 col-sm-12 col-xs-12 md-4\">\r\n            <label\r\n              class=\"detail-page-section-heading col-sm-3 col-xs-12 small\"\r\n              for=\"module\"\r\n              >Module</label\r\n            >\r\n            <p-dropdown\r\n              name=\"module\"\r\n              inputId=\"module\"\r\n              [options]=\"searchModuleOptions\"\r\n              placeholder=\"Select\"\r\n              optionLabel=\"name\"\r\n              formControlName=\"modules\"\r\n              (onChange)=\"searchAppModule()\"\r\n            >\r\n              <ng-template let-options pTemplate=\"item\">\r\n                <div class=\"truncate-text\">\r\n                  <div>{{ options.name }}</div>\r\n                </div>\r\n              </ng-template></p-dropdown\r\n            >\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div\r\n      *ngIf=\"appModuleDataPresent && showContent\"\r\n      class=\"d-flex m-3 tax-code-desc-section\"\r\n    >\r\n      <div class=\"col-12\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-4 col-lg-4 col-sm-12 col-xs-12\">\r\n            <div\r\n              class=\"taxCode\"\r\n              [pTooltip]=\"\r\n                this.mode == 'add'\r\n                  ? 'Tax Code is automatically generated, It may get changed in saving process.'\r\n                  : ''\r\n              \"\r\n            >\r\n              <p>Tax Code</p>\r\n              <input type=\"text\" pInputText [(ngModel)]=\"taxCode\" disabled />\r\n            </div>\r\n          </div>\r\n          <div class=\"col-md-8 col-lg-8 col-sm-12 col-xs-12\">\r\n            <div class=\"taxDesc\">\r\n              <p style=\"position: relative\">\r\n                Tax Description <span class=\"description red-star\">*</span>\r\n              </p>\r\n              <input\r\n                type=\"text\"\r\n                pInputText\r\n                [(ngModel)]=\"taxDescription\"\r\n                maxlength=\"500\"\r\n                placeholder=\"Max 500 characters\"\r\n                [disabled]=\"deactivated\"\r\n                (keypress)=\"onKeyPress($event)\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <app-set-criteria\r\n      *ngIf=\"appModuleDataPresent && showContent\"\r\n      #setCriteriaSharedComponent\r\n      [criteriaMasterData]=\"criteriaMasterData\"\r\n      [fieldDisplayData]=\"fieldDisplayData\"\r\n      [cmCriteriaDataDetails]=\"cmCriteriaDataDetails\"\r\n      [criteriaDataDetailsJson]=\"criteriaDataDetailsJson\"\r\n      [cmCriteriaSlabType]=\"cmCriteriaSlabType\"\r\n      [independantCriteriaArr]=\"independantCriteriaArr\"\r\n      [cmCriteriaMandatory]=\"cmCriteriaMandatory\"\r\n      [cmCriteriaDependency]=\"cmCriteriaDependency\"\r\n      [criteriaMapDdlOptions]=\"criteriaMapDdlOptions\"\r\n      [correspondentDdlOptions]=\"correspondentDdlOptions\"\r\n      [criteriaEqualsDdlOptions]=\"criteriaEqualsDdlOptions\"\r\n      [criteriaTemplatesDdlOptions]=\"criteriaTemplatesDdlOptions\"\r\n      [savingCriteriaTemplateError]=\"savingCriteriaTemplateError\"\r\n      [criteriaText]=\"criteriaText\"\r\n      [criteriaCodeText]=\"criteriaCodeText\"\r\n      [inactiveData]=\"inactiveData\"\r\n      [deactivated]=\"deactivated\"\r\n      (postDataCriteria)=\"applyCriteria($event)\"\r\n      (saveCriteriaAsTemplate)=\"saveCriteriaAsTemplate($event)\"\r\n      (getCorrespondentValues)=\"\r\n        getCorrespondentValues(\r\n          $event.fieldName,\r\n          $event.displayName,\r\n          $event.criteriaCodeText\r\n        )\r\n      \"\r\n      [setCriteriaName]=\"setCriteriaName\"\r\n    ></app-set-criteria>\r\n  </div>\r\n  <div class=\"details-page-card mt-2\" *ngIf=\"applyCriteriaFormattedData.length\">\r\n    <div class=\"details-page-card-content mt-1\">\r\n      <div class=\"criteria-bar\">\r\n        <p class=\"setCriteria detail-page-section-heading\">\r\n          Applicable Taxes\r\n          <img\r\n            height=\"15px\"\r\n            src=\"../assets/Icon-info.svg\"\r\n            alt=\"\"\r\n            pTooltip=\"On selected criteria taxes below taxes will be applied.\"\r\n          />\r\n        </p>\r\n      </div>\r\n      <div class=\"mt-1 addnewroute-table\">\r\n        <div class=\"ptable\">\r\n          <p-card class=\"p-col-12\" *ngIf=\"!applyCriteriaResponse\">\r\n            {{ \"noDataMsg\" }}\r\n          </p-card>\r\n          <div class=\"appliedCriteriaDataTable\">\r\n            <p-table\r\n              #dt\r\n              [value]=\"applyCriteriaFormattedData\"\r\n              [rowHover]=\"true\"\r\n              [scrollable]=\"true\"\r\n              scrollHeight=\"315px\"\r\n            >\r\n              <ng-template pTemplate=\"header\">\r\n                <tr>\r\n                  <th\r\n                    *ngFor=\"let col of applyCriteriaDataTableColumns\"\r\n                    style=\"min-width: 120px\"\r\n                    [ngStyle]=\"{\r\n                      width: col.field == 'isActive' ? '120px' : ''\r\n                    }\"\r\n                    alignFrozen=\"right\"\r\n                    pFrozenColumn\r\n                    [frozen]=\"col['frozen']\"\r\n                  >\r\n                    {{ col.header }}\r\n                    <span *ngIf=\"isMandatoryCol(col.header)\" class=\"red-star\"\r\n                      >*</span\r\n                    >\r\n                  </th>\r\n                </tr>\r\n              </ng-template>\r\n              <ng-template pTemplate=\"body\" let-rowData let-rowIndex=\"rowIndex\">\r\n                <tr>\r\n                  <td\r\n                    *ngFor=\"\r\n                      let col of applyCriteriaDataTableColumns;\r\n                      index as i\r\n                    \"\r\n                    alignFrozen=\"right\"\r\n                    pFrozenColumn\r\n                    [frozen]=\"col['frozen']\"\r\n                  >\r\n                    <div\r\n                      *ngIf=\"col['fieldType'] == 'dropdown'\"\r\n                      class=\"appliedCriteriaSelect\"\r\n                    >\r\n                    <p-dropdown\r\n                    [options]=\"rowData[col.field + 'Option']\"\r\n                    optionLabel=\"codeName\"\r\n                    appendTo=\"body\"\r\n                    [placeholder]=\"\r\n                      rowData[col['field']] &&\r\n                          rowData[col['field']] != 'null'\r\n                        ? rowData[col['field']]\r\n                        : 'Select'\r\n                    \"\r\n                    (onChange)=\"\r\n                          selectedColumn(col['field'], $event.value, rowIndex)\r\n                        \"\r\n                    [disabled]=\"\r\n                      rowData['linked'] == 'Y' ||\r\n                      rowData['isActive'] == 'N' ||\r\n                      deactivated\r\n                    \"\r\n                    [pTooltip]=\"rowData[col['field']]\"\r\n                  ><ng-template let-options pTemplate=\"item\">\r\n                      <div class=\"truncate-text\">\r\n                        <div>{{ options.codeName }}</div>\r\n                      </div>\r\n                    </ng-template>\r\n                                    </p-dropdown>\r\n                                      </div>\r\n                    <div\r\n                      *ngIf=\"col['fieldType'] == 'input'\"\r\n                      [pTooltip]=\"col['info'] ? col['info'] : ''\"\r\n                      class=\"appliedCriteriaInput\"\r\n                    >\r\n                      <p-inputNumber\r\n                        #valInp\r\n                        [min]=\"0\"\r\n                        [(ngModel)]=\"rowData[col['field']]\"\r\n                        [useGrouping]=\"false\"\r\n                        mode=\"decimal\"\r\n                        [maxFractionDigits]=\"1\"\r\n                        (onInput)=\"\r\n                          changeValueInput(\r\n                            applyCriteriaDataTableColumns[i - 1]['field'],\r\n                            col['field'],\r\n                            $event,\r\n                            rowIndex,\r\n                            valInp\r\n                          )\r\n                        \"\r\n                        [disabled]=\"\r\n                          rowData['linked'] == 'Y' ||\r\n                          rowData['isActive'] == 'N' ||\r\n                          deactivated\r\n                        \"\r\n                      ></p-inputNumber>\r\n                    </div>\r\n                    <div\r\n                      *ngIf=\"col['fieldType'] == 'text'\"\r\n                      [pTooltip]=\"col['info'] ? col['info'] : ''\"\r\n                    >\r\n                      <input\r\n                        [(ngModel)]=\"rowData[col.field]\"\r\n                        type=\"text\"\r\n                        pInputText\r\n                        [disabled]=\"true\"\r\n                      />\r\n                    </div>\r\n                    <div\r\n                      *ngIf=\"col['fieldType'] == 'button'\"\r\n                      class=\"appliedCriteriaButton\"\r\n                    >\r\n                      <ng-container\r\n                        *ngFor=\"let btn of rowData[col['field']]?.split(',')\"\r\n                      >\r\n                        <button\r\n                          pButton\r\n                          type=\"button\"\r\n                          [icon]=\"'pi pi-' + (btn == 'delete' ? 'trash' : btn)\"\r\n                          (click)=\"\r\n                            checkOperation(btn, rowIndex, rowData, col['field'])\r\n                          \"\r\n                          class=\"operation-btns mr-2\"\r\n                          [disabled]=\"deactivated\"\r\n                        ></button>\r\n                      </ng-container>\r\n                    </div>\r\n                    <div\r\n                      *ngIf=\"col.field == 'isActive'\"\r\n                      style=\"border: none; text-align: left\"\r\n                    >\r\n                      <label class=\"switch\" style=\"border: none\">\r\n                        <input\r\n                          #statusInp\r\n                          [value]=\"rowData[col['field']]\"\r\n                          type=\"checkbox\"\r\n                          (click)=\"confirmStatus($event, rowData)\"\r\n                          [checked]=\"\r\n                            rowData[col['field']] == 'Y' ? true : false\r\n                          \"\r\n                          [disabled]=\"rowData['linked'] == 'Y' || deactivated\"\r\n                        />\r\n                        <span\r\n                          class=\"slider round\"\r\n                          [ngClass]=\"{ disabled: deactivated }\"\r\n                        ></span>\r\n                      </label>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              </ng-template>\r\n\r\n              <ng-template pTemplate=\"emptymessage\">\r\n                <tr>\r\n                  <td [attr.colspan]=\"applyCriteriaDataTableColumns.length\">\r\n                    No Data found.\r\n                  </td>\r\n                </tr>\r\n              </ng-template>\r\n            </p-table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div\r\n  class=\"NorecordFound\"\r\n  *ngIf=\"\r\n    !showContent && appModuleDataPresent && !applyCriteriaFormattedData.length\r\n  \"\r\n>\r\n  <div class=\"row\">\r\n    <div class=\"col-12\"><img src=\"assets/noRecordFound.svg\" /></div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col-12\">\r\n      <p>No Record Found.</p>\r\n    </div>\r\n  </div>\r\n</div>\r\n<p-confirmDialog\r\n  key=\"taxSettingLinkedWarning\"\r\n  class=\"linked-confirm confirm-popup\"\r\n  #cd\r\n  icon=\"pi pi-exclamation-triangle\"\r\n  [closable]=\"false\"\r\n>\r\n  <p-footer>\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-check\"\r\n      label=\"Ok\"\r\n      (click)=\"cd.accept()\"\r\n    ></button>\r\n  </p-footer>\r\n</p-confirmDialog>\r\n\r\n<p-confirmDialog\r\n  key=\"resetTaxDataConfirmation\"\r\n  class=\"confirm-popup\"\r\n  #cd2\r\n  icon=\"pi pi-exclamation-triangle\"\r\n  [closable]=\"false\"\r\n>\r\n  <p-footer>\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-check\"\r\n      label=\"Yes\"\r\n      (click)=\"cd2.accept()\"\r\n    ></button>\r\n\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-times\"\r\n      label=\"Cancel\"\r\n      (click)=\"cd2.reject()\"\r\n    ></button>\r\n  </p-footer>\r\n</p-confirmDialog>\r\n\r\n<p-confirmDialog\r\n  key=\"activeDeactiveStatus\"\r\n  class=\"status-confirm confirm-popup\"\r\n  #cd3\r\n  [closable]=\"false\"\r\n>\r\n  <p-footer>\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-check\"\r\n      label=\"Yes\"\r\n      (click)=\"cd3.accept()\"\r\n    ></button>\r\n\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-times\"\r\n      label=\"No\"\r\n      (click)=\"cd3.reject()\"\r\n    ></button>\r\n  </p-footer>\r\n</p-confirmDialog>\r\n<p-confirmDialog\r\n  key=\"activeDeactiveStatusTax\"\r\n  class=\"status-confirm confirm-popup\"\r\n  #cd4\r\n  [closable]=\"false\"\r\n>\r\n  <p-footer>\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-check\"\r\n      label=\"Yes\"\r\n      (click)=\"cd4.accept()\"\r\n    ></button>\r\n\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-times\"\r\n      label=\"No\"\r\n      (click)=\"cd4.reject()\"\r\n    ></button>\r\n  </p-footer>\r\n</p-confirmDialog>\r\n","import { Component, OnInit, ViewChild } from \"@angular/core\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { MultiSelect } from \"primeng/multiselect\";\r\nimport { CoreService } from \"src/app/core.service\";\r\nimport { TaxSettingsService } from \"../tax-settings.service\";\r\nimport { forkJoin } from \"rxjs\";\r\nimport { map, take } from \"rxjs/operators\";\r\nimport { SetCriteriaService } from \"src/app/shared/components/set-criteria/set-criteria.service\";\r\nimport { ConfirmationService, MessageService } from \"primeng/api\";\r\nimport { ConfirmDialog } from \"primeng/confirmdialog\";\r\nimport {\r\n  UntypedFormBuilder,\r\n  UntypedFormControl,\r\n  Validators,\r\n} from \"@angular/forms\";\r\n\r\nimport _lodashClone from \"lodash-es/cloneDeep\";\r\n\r\n@Component({\r\n  selector: \"app-tax-listing\",\r\n  templateUrl: \"./tax-listing.component.html\",\r\n  styleUrls: [\"./tax-listing.component.scss\"],\r\n})\r\nexport class TaxListingComponent implements OnInit {\r\n  formName = \"Tax Settings\";\r\n  applicationName = \"Web Application\";\r\n  taxListingData: any[];\r\n\r\n  objectKeys = Object.keys;\r\n  @ViewChild(\"cd\") cd: ConfirmDialog;\r\n\r\n  showNoDataFound: boolean = false;\r\n\r\n  cols: any[] = [\r\n    { field: \"taxCode\", header: \"Tax Code\", width: \"12%\" },\r\n    { field: \"taxCodeDesc\", header: \"Tax Description\", width: \"25%\" },\r\n    { field: \"criteriaMap\", header: \"Criteria\", width: \"48%\" },\r\n    { field: \"status\", header: \"Status\", width: \"7%\" },\r\n    { field: \"operation\", header: \"Operations\", width: \"8%\" },\r\n  ];\r\n\r\n  showtaxCodeOptions: boolean = false;\r\n  showtaxCodeDescOptions: boolean = false;\r\n  showcriteriaMapOptions: boolean = false;\r\n  showstatusOptions: boolean = false;\r\n\r\n  taxCode = [];\r\n  taxCodeDesc = [];\r\n  criteriaMap = [];\r\n  status = [];\r\n\r\n  userData: any = {};\r\n  selectedFiltertaxCode: any[] = [];\r\n  selectedFiltertaxCodeDesc: any[] = [];\r\n  selectedFiltercriteriaMap: any[] = [];\r\n  selectedFilterstatus: any[] = [];\r\n  taxListingApiData: any = {};\r\n  loading: boolean = true;\r\n\r\n  selectAppModule: any;\r\n  searchApplicationOptions: any[] = [];\r\n  searchModuleOptions: any[] = [];\r\n\r\n  noDataMsg: string = \"Tax Setting Data Not Available\";\r\n\r\n  linkedTaxCode: any = [];\r\n\r\n  fieldDisplayData = {};\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private coreService: CoreService,\r\n    private route: ActivatedRoute,\r\n    private taxSettingsService: TaxSettingsService,\r\n    private setCriteriaService: SetCriteriaService,\r\n    private confirmationService: ConfirmationService,\r\n    private messageService: MessageService,\r\n    private fb: UntypedFormBuilder\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.coreService.displayLoadingScreen();\r\n\r\n    const translationKey = \"Home.Settings\";\r\n\r\n    // Update translation\r\n    this.coreService\r\n      .translate(translationKey)\r\n      .then((translatedTitle: string) => {\r\n        this.coreService.setPageTitle(translatedTitle);\r\n      });\r\n\r\n    this.route.data.subscribe((data) => {\r\n      this.coreService.setBreadCrumbMenu(Object.values(data));\r\n    });\r\n\r\n    this.taxSettingsService.applicationName = null;\r\n    this.taxSettingsService.moduleName = null;\r\n\r\n    this.userData = JSON.parse(localStorage.getItem(\"userData\"));\r\n\r\n    this.setSelectAppModule();\r\n\r\n    // getting app-mod from localstorage\r\n\r\n    this.searchApplicationOptions = JSON.parse(\r\n      localStorage.getItem(\"appAccess\")\r\n    );\r\n    this.searchModuleOptions = JSON.parse(localStorage.getItem(\"modAccess\"));\r\n    let defAppMod = JSON.parse(localStorage.getItem(\"defAppModule\"));\r\n    let currAppMod = JSON.parse(sessionStorage.getItem(\"tax\"));\r\n\r\n    let defApp = null;\r\n    let defMod = null;\r\n\r\n    if (currAppMod) {\r\n      console.log(currAppMod);\r\n      defApp = this.searchApplicationOptions.filter(\r\n        (opt) => opt.code == currAppMod.applicationName.code\r\n      )[0];\r\n      defMod = this.searchModuleOptions.filter(\r\n        (opt) => opt.code == currAppMod.moduleName.code\r\n      )[0];\r\n    } else {\r\n      if (defAppMod) {\r\n        defApp = JSON.parse(localStorage.getItem(\"applicationName\"));\r\n        defMod = JSON.parse(localStorage.getItem(\"moduleName\"));\r\n      }\r\n    }\r\n\r\n    if (defApp) {\r\n      this.appCtrl.patchValue(defApp);\r\n    }\r\n    if (defMod) {\r\n      this.moduleCtrl.patchValue(defMod);\r\n    }\r\n    if (this.appCtrl.value && this.moduleCtrl.value) {\r\n      this.searchAppModule();\r\n    }\r\n\r\n    // getting app-mod from localstorage ends\r\n  }\r\n\r\n  setSelectAppModule() {\r\n    this.selectAppModule = this.fb.group({\r\n      applications: new UntypedFormControl({ value: \"\", disabled: false }, [\r\n        Validators.required,\r\n      ]),\r\n      modules: new UntypedFormControl({ value: \"\", disabled: false }, [\r\n        Validators.required,\r\n      ]),\r\n    });\r\n  }\r\n\r\n  get appCtrl() {\r\n    return this.selectAppModule.get(\"applications\");\r\n  }\r\n  get moduleCtrl() {\r\n    return this.selectAppModule.get(\"modules\");\r\n  }\r\n\r\n  searchAppModule() {\r\n    let currAppMod = {\r\n      applicationName: this.appCtrl.value,\r\n      moduleName: this.moduleCtrl.value,\r\n    };\r\n    sessionStorage.setItem(\"tax\", JSON.stringify(currAppMod));\r\n    this.getDecodedDataForListing(\r\n      this.userData.userId,\r\n      this.appCtrl.value.code,\r\n      this.moduleCtrl.value.code\r\n    );\r\n  }\r\n  getDecodedDataForListing(userId: any, appValue: any, moduleValue: any) {\r\n    this.coreService.displayLoadingScreen();\r\n    forkJoin({\r\n      criteriaMasterData: this.taxSettingsService.getCriteriaMasterData(\r\n        this.userData.userId,\r\n        this.formName,\r\n        appValue,\r\n        moduleValue\r\n      ),\r\n      taxSettingListingData: this.taxSettingsService.getTaxCodeData(\r\n        userId,\r\n        this.formName,\r\n        appValue,\r\n        moduleValue\r\n      ),\r\n    })\r\n      .pipe(\r\n        take(1),\r\n        map((response) => {\r\n          let criteriaMasterJson = _lodashClone(response.criteriaMasterData);\r\n          delete criteriaMasterJson[\"fieldDisplay\"];\r\n          this.fieldDisplayData = response.criteriaMasterData[\"fieldDisplay\"];\r\n          const criteriaMasterData = criteriaMasterJson;\r\n          const taxSettingListingData = response.taxSettingListingData;\r\n\r\n          if (taxSettingListingData[\"data\"]) {\r\n            this.taxListingApiData = taxSettingListingData;\r\n            this.taxListingApiData.data.forEach((tax) => {\r\n              let beforeSplit = tax.criteriaMap.split(\"&&&&\")[0];\r\n              const sections = tax.criteriaMap.split(\"&&&&\");\r\n              let amounts = \"\";\r\n              let dates = \"\";\r\n              let afterSplit = \"\";\r\n\r\n              // Process each section\r\n              sections.forEach((section) => {\r\n                if (section.includes(\"from\") && section.includes(\"to\")) {\r\n                  // Extract the amounts\r\n                  const amountsArray = section\r\n                    .split(\"#\")\r\n                    .map((amountSection) => {\r\n                      const [from, to] = amountSection\r\n                        .split(\"::\")\r\n                        .map((part) => part.split(\":\")[1]);\r\n                      return `Between ${from} - ${to}`;\r\n                    });\r\n                  amounts = amountsArray.join(\" & \");\r\n                } else if (\r\n                  section.startsWith(\"trnStartDate\") &&\r\n                  section.includes(\"trnEndDate\")\r\n                ) {\r\n                  // Extract the dates\r\n                  const dateSections = section.split(\"#\").map((dateSection) => {\r\n                    const [startDate, endDate] = dateSection\r\n                      .split(\"::\")\r\n                      .map((part) => part.split(\"=\")[1]);\r\n                    return `Between ${startDate} - ${endDate}`;\r\n                  });\r\n                  dates = dateSections.join(\" & \");\r\n                }\r\n              });\r\n\r\n              if (amounts.length && dates.length) {\r\n                afterSplit += `Amount (${amounts}), Date (${dates})`;\r\n              } else if (amounts.length) {\r\n                afterSplit += `Amount (${amounts})`;\r\n              } else if (dates.length) {\r\n                afterSplit += `Date (${dates})`;\r\n              }\r\n\r\n              if (beforeSplit.length) {\r\n                let criteriaCodeText = this.setCriteriaService.setCriteriaMap({\r\n                  criteriaMap: beforeSplit,\r\n                });\r\n                tax.criteriaMap = (\r\n                  this.setCriteriaService.decodeFormattedCriteria(\r\n                    criteriaCodeText,\r\n                    criteriaMasterData,\r\n                    this.fieldDisplayData\r\n                  ) as []\r\n                ).join(\", \");\r\n                if (afterSplit?.length) {\r\n                  tax.criteriaMap = tax.criteriaMap + \", \" + afterSplit;\r\n                }\r\n              } else {\r\n                if (afterSplit?.length) {\r\n                  tax.criteriaMap = afterSplit;\r\n                }\r\n              }\r\n            });\r\n            this.taxListingData = [...this.taxListingApiData.data];\r\n            this.showNoDataFound = false;\r\n            this.linkedTaxCode = [...this.taxListingApiData.linkedTaxCode];\r\n            this.taxCode = this.taxListingApiData.taxCode.map((code) => {\r\n              return { label: code, value: code };\r\n            });\r\n            this.taxCodeDesc = this.taxListingApiData.taxCodeDesc.map(\r\n              (code) => {\r\n                return { label: code, value: code };\r\n              }\r\n            );\r\n            this.criteriaMap = this.taxListingApiData.criteriaMap.map(\r\n              (code) => {\r\n                return { label: code, value: code };\r\n              }\r\n            );\r\n            this.status = this.taxListingApiData.status.map((code) => {\r\n              return { label: code, value: code };\r\n            });\r\n          } else {\r\n            if (taxSettingListingData[\"msg\"]) {\r\n              this.coreService.showWarningToast(taxSettingListingData[\"msg\"]);\r\n            }\r\n            this.showNoDataFound = true;\r\n            this.taxListingData = [];\r\n          }\r\n          return taxSettingListingData;\r\n        })\r\n      )\r\n      .subscribe(\r\n        (res) => {\r\n          this.coreService.removeLoadingScreen();\r\n          this.loading = false;\r\n          if (\r\n            res[\"status\"] &&\r\n            typeof res[\"status\"] == \"string\" &&\r\n            (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n          ) {\r\n            this.showNoDataFound = true;\r\n            if (res[\"error\"]) {\r\n              this.coreService.showWarningToast(res[\"error\"]);\r\n            } else {\r\n              this.coreService.showWarningToast(\"Some error in fetching data\");\r\n            }\r\n          } else {\r\n            if (!res[\"data\"]) {\r\n              this.showNoDataFound = true;\r\n            }\r\n          }\r\n        },\r\n        (err) => {\r\n          this.coreService.removeLoadingScreen();\r\n          this.taxListingData = null;\r\n          this.showNoDataFound = true;\r\n          this.loading = false;\r\n          console.log(\"Error in getting tax seting list data\", err);\r\n          this.coreService.showWarningToast(\r\n            \"Some Error in getting tax seting list data\"\r\n          );\r\n        }\r\n      );\r\n  }\r\n\r\n  viewTaxSetting(data: any) {\r\n    this.taxSettingsService.applicationName = this.appCtrl.value.code;\r\n    this.taxSettingsService.moduleName = this.moduleCtrl.value.code;\r\n    this.router.navigate([\r\n      \"navbar\",\r\n      \"tax-settings\",\r\n      \"add-tax\",\r\n      data.taxCode,\r\n      \"edit\",\r\n    ]);\r\n    this.taxSettingsService.setData(data);\r\n  }\r\n\r\n  isLinked(id: any) {\r\n    return this.linkedTaxCode.includes(id);\r\n  }\r\n\r\n  confirmStatus(e: any, data: any) {\r\n    e.preventDefault();\r\n    let type = \"\";\r\n    let reqStatus = \"\";\r\n    if (e.target.checked) {\r\n      reqStatus = \"Active\";\r\n      type = \"Activate\";\r\n    } else {\r\n      reqStatus = \"Inactive\";\r\n      type = \"Deactivate\";\r\n    }\r\n    this.coreService.setSidebarBtnFixedStyle(false);\r\n    this.coreService.setHeaderStickyStyle(false);\r\n    let completeMsg = \"\";\r\n    let isLinkedMsg = `Active Transactions Exist. </br>`;\r\n    if (\r\n      reqStatus == \"Inactive\" &&\r\n      this.linkedTaxCode.includes(data[\"taxCode\"])\r\n    ) {\r\n      completeMsg =\r\n        `<img src=\"../../../assets/warning.svg\"><br/><br/>` +\r\n        isLinkedMsg +\r\n        `Do you wish to ` +\r\n        type +\r\n        ` the Tax Record: ${data[\"taxCode\"]}?`;\r\n    } else {\r\n      completeMsg =\r\n        `<img src=\"../../../assets/warning.svg\"><br/><br/>` +\r\n        `Do you wish to ` +\r\n        type +\r\n        ` the Tax Record: ${data[\"taxCode\"]}?`;\r\n    }\r\n    this.confirmationService.confirm({\r\n      message: completeMsg,\r\n      key: \"activeDeactiveStatus\",\r\n      accept: () => {\r\n        this.updateStatus(e, reqStatus, data);\r\n        this.setHeaderSidebarBtn(true);\r\n      },\r\n      reject: () => {\r\n        this.confirmationService.close;\r\n        this.setHeaderSidebarBtn(false);\r\n      },\r\n    });\r\n  }\r\n\r\n  setHeaderSidebarBtn(accept: boolean) {\r\n    this.coreService.displayLoadingScreen();\r\n    setTimeout(() => {\r\n      this.coreService.setHeaderStickyStyle(true);\r\n      this.coreService.setSidebarBtnFixedStyle(true);\r\n    }, 500);\r\n    if (!accept) {\r\n      setTimeout(() => {\r\n        this.coreService.removeLoadingScreen();\r\n      }, 1000);\r\n    }\r\n  }\r\n\r\n  updateStatus(e: any, reqStatus: any, data: any) {\r\n    this.coreService.displayLoadingScreen();\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"userId\", this.userData.userId);\r\n    formData.append(\"taxCode\", data[\"taxCode\"]);\r\n    formData.append(\"status\", reqStatus);\r\n    formData.append(\"applications\", this.appCtrl.value.code);\r\n    formData.append(\"moduleName\", this.moduleCtrl.value.code);\r\n    formData.append(\"form\", this.formName);\r\n    this.updateTaxCodeStatus(formData, e.target, data);\r\n  }\r\n\r\n  updateTaxCodeStatus(formData: any, sliderElm: any, taxData: any) {\r\n    this.taxSettingsService.updateTaxSettingsStatus(formData).subscribe(\r\n      (res) => {\r\n        let message = \"\";\r\n        if (res[\"error\"] == \"true\") {\r\n          this.coreService.removeLoadingScreen();\r\n          message = `Kindly deactivate the Tax code: ${res[\"msg\"]} ( ${taxData[\"criteriaMap\"]} ) to activate the current record.`;\r\n          this.coreService.showWarningToast(message);\r\n        } else {\r\n          if (res[\"msg\"]) {\r\n            message = res[\"msg\"];\r\n            sliderElm.checked = sliderElm!.checked;\r\n            this.getDecodedDataForListing(\r\n              this.userData.userId,\r\n              this.appCtrl.value.code,\r\n              this.moduleCtrl.value.code\r\n            );\r\n            this.coreService.showSuccessToast(message);\r\n          } else {\r\n            this.coreService.removeLoadingScreen();\r\n            message = \"Error in fetching data, Please try again later\";\r\n            this.coreService.showWarningToast(message);\r\n          }\r\n        }\r\n      },\r\n      (err) => {\r\n        console.log(err);\r\n        this.coreService.removeLoadingScreen();\r\n      }\r\n    );\r\n  }\r\n\r\n  cloneTax(data: any) {\r\n    this.taxSettingsService.applicationName = this.appCtrl.value.code;\r\n    this.taxSettingsService.moduleName = this.moduleCtrl.value.code;\r\n    this.router.navigate([\r\n      \"navbar\",\r\n      \"tax-settings\",\r\n      \"add-tax\",\r\n      data.taxCode,\r\n      \"clone\",\r\n    ]);\r\n  }\r\n\r\n  addNewTaxPage() {\r\n    this.router.navigate([\"navbar\", \"tax-settings\", \"add-tax\"]);\r\n  }\r\n\r\n  toggleFilterVisibility(field) {\r\n    this[`show${field}Options`] = !this[`show${field}Options`];\r\n  }\r\n\r\n  hideFilterVisibility(field) {\r\n    this[`show${field}Options`] = false;\r\n  }\r\n\r\n  getSelectedFilterArr(field: any) {\r\n    return this[`selectedFilter${field}`];\r\n  }\r\n\r\n  setSelectedFilter(ms: MultiSelect, field: any) {\r\n    this[`selectedFilter${field}`] = ms.value;\r\n  }\r\n\r\n  fieldFilterVisible(field: any) {\r\n    return this[`show${field}Options`];\r\n  }\r\n\r\n  fieldFilterOptions(field: any): [] {\r\n    return this[field];\r\n  }\r\n\r\n  copyToClipboard(text: string) {\r\n    this.coreService.copyToClipboard(text);\r\n  }\r\n}\r\n","<div class=\"visible-main-section\">\r\n  <div class=\"pagetitle\">\r\n    <div class=\"infoicon\">\r\n      <i class=\"pi pi-info-circle\"></i>\r\n      List of taxes.\r\n    </div>\r\n    <div class=\"addnew\">\r\n      <button\r\n        pButton\r\n        pRipple\r\n        type=\"button\"\r\n        label=\"Add New Tax\"\r\n        class=\"p-button-raised\"\r\n        (click)=\"addNewTaxPage()\"\r\n      ></button>\r\n    </div>\r\n  </div>\r\n  <div class=\"app-form-search\">\r\n    <div [formGroup]=\"selectAppModule\" class=\"select-module-application m-2\">\r\n      <div class=\"col-12\">\r\n        <div class=\"row\">\r\n          <div class=\"d-flex field col-md-4 col-lg-4 col-sm-12 col-xs-12 md-4\">\r\n            <label\r\n              class=\"detail-page-section-heading col-sm-3 col-xs-12\"\r\n              for=\"application\"\r\n              >Application</label\r\n            >\r\n            <p-dropdown\r\n              name=\"application\"\r\n              inputId=\"application\"\r\n              [options]=\"searchApplicationOptions\"\r\n              placeholder=\"Select\"\r\n              optionLabel=\"name\"\r\n              formControlName=\"applications\"\r\n            >\r\n              <ng-template let-options pTemplate=\"item\">\r\n                <div class=\"truncate-text\">\r\n                  <div>{{ options.name }}</div>\r\n                </div>\r\n              </ng-template></p-dropdown\r\n            >\r\n          </div>\r\n          <div class=\"d-flex field col-md-4 col-lg-4 col-sm-12 col-xs-12 md-4\">\r\n            <label\r\n              class=\"detail-page-section-heading small col-sm-3 col-xs-12\"\r\n              for=\"module\"\r\n              >Module</label\r\n            >\r\n            <p-dropdown\r\n              name=\"module\"\r\n              inputId=\"module\"\r\n              [options]=\"searchModuleOptions\"\r\n              placeholder=\"Select\"\r\n              optionLabel=\"name\"\r\n              formControlName=\"modules\"\r\n            >\r\n              <ng-template let-options pTemplate=\"item\">\r\n                <div class=\"truncate-text\">\r\n                  <div>{{ options.name }}</div>\r\n                </div>\r\n              </ng-template></p-dropdown\r\n            >\r\n          </div>\r\n          <div class=\"addnew field col-md-2 col-lg-2 col-sm-4 col-xs-4 md-2\">\r\n            <button\r\n              pButton\r\n              pRipple\r\n              type=\"button\"\r\n              (click)=\"searchAppModule()\"\r\n              label=\"Apply\"\r\n              class=\"p-button-raised\"\r\n              [disabled]=\"selectAppModule.invalid\"\r\n            ></button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"ptable\" *ngIf=\"taxListingData && taxListingData.length\">\r\n    <p-table\r\n      #dt\r\n      [columns]=\"cols\"\r\n      [value]=\"taxListingData\"\r\n      [paginator]=\"true\"\r\n      [rows]=\"10\"\r\n      [loading]=\"loading\"\r\n      [resizableColumns]=\"true\"\r\n      columnResizeMode=\"fit\"\r\n      [rowHover]=\"true\"\r\n    >\r\n      <ng-template pTemplate=\"header\" let-columns>\r\n        <tr>\r\n          <th\r\n            *ngFor=\"let col of columns; let c = index\"\r\n            pReorderableColumn\r\n            [pSortableColumn]=\"col.field\"\r\n            pResizableColumn\r\n            [style.width]=\"col.width\"\r\n          >\r\n            {{ col.header }}\r\n            <div\r\n              *ngIf=\"c == 0 || col.field == 'status'\"\r\n              (click)=\"$event.stopPropagation()\"\r\n              class=\"filter-icon\"\r\n            >\r\n              <i\r\n                [ngStyle]=\"{\r\n                  color: getSelectedFilterArr(col.field).length\r\n                    ? 'var(--primary-color)'\r\n                    : 'rgb(105 105 105)',\r\n                  fontSize: '11px'\r\n                }\"\r\n                class=\"pi pi-filter-fill\"\r\n                (click)=\"toggleFilterVisibility(col.field)\"\r\n              ></i>\r\n              <p-multiSelect\r\n                #ms\r\n                [options]=\"fieldFilterOptions(col.field)\"\r\n                [filter]=\"true\"\r\n                [displaySelectedLabel]=\"false\"\r\n                [overlayVisible]=\"fieldFilterVisible(col.field)\"\r\n                [defaultLabel]=\"'Search'\"\r\n                [appendTo]=\"'body'\"\r\n                [autoWidth]=\"false\"\r\n                (onChange)=\"\r\n                  dt.filter($event.value, col.field, 'in');\r\n                  setSelectedFilter(ms, col.field)\r\n                \"\r\n                (onPanelHide)=\"hideFilterVisibility(col.field)\"\r\n              >\r\n              </p-multiSelect>\r\n            </div>\r\n          </th>\r\n        </tr>\r\n        <tr class=\"search-row\">\r\n          <th *ngFor=\"let col of cols\" [style.width]=\"col.width\">\r\n            <span\r\n              style=\"width: 100%\"\r\n              class=\"p-input-icon-left\"\r\n              *ngIf=\"col.field != 'status' && col.field != 'operation'\"\r\n            >\r\n              <i class=\"pi pi-search\"></i>\r\n              <input\r\n                type=\"text\"\r\n                class=\"p-inputtext table-search\"\r\n                placeholder=\"Search\"\r\n                (input)=\"dt.filter($event.target.value, col.field, 'contains')\"\r\n              />\r\n            </span>\r\n          </th>\r\n        </tr>\r\n      </ng-template>\r\n      <ng-template\r\n        pTemplate=\"body\"\r\n        let-rowData\r\n        let-columns=\"columns\"\r\n        let-index=\"rowIndex\"\r\n      >\r\n        <tr [pReorderableRow]=\"index\">\r\n          <ng-container *ngFor=\"let col of columns; let i = index\">\r\n            <td *ngIf=\"col.field != 'status' && col.field != 'operation'\">\r\n              <div\r\n                *ngIf=\"!(i == 0 || i == 2 || i == 1)\"\r\n                style=\"display: inline-block\"\r\n              >\r\n                {{ rowData[col[\"field\"]] }}\r\n              </div>\r\n              <a\r\n                *ngIf=\"i == 0\"\r\n                style=\"text-decoration: underline !important\"\r\n                [ngStyle]=\"{\r\n                  color: isLinked(rowData[col['field']])\r\n                    ? '#f89406'\r\n                    : 'var(--primary-color)',\r\n                  fontSize: '11px',\r\n                  cursor: 'pointer'\r\n                }\"\r\n                [pTooltip]=\"'Active Transactions Exist.'\"\r\n                [tooltipDisabled]=\"!isLinked(rowData[col['field']])\"\r\n                tabindex=\"0\"\r\n                (keyup.Space)= \"viewTaxSetting(rowData)\"\r\n                (click)=\"viewTaxSetting(rowData)\"\r\n                >{{ rowData[col[\"field\"]] }}</a\r\n              >\r\n              <span\r\n                *ngIf=\"i == 1\"\r\n                [pTooltip]=\"\r\n                  rowData[col['field']].length > 30 ? rowData[col['field']] : ''\r\n                \"\r\n                tooltipPosition=\"bottom\"\r\n              >\r\n                {{\r\n                  rowData[col[\"field\"]].length > 30\r\n                    ? rowData[col[\"field\"]].substring(0, 30) + \"..\"\r\n                    : rowData[col[\"field\"]]\r\n                }}</span\r\n              >\r\n              <span\r\n                *ngIf=\"i == 2\"\r\n                [pTooltip]=\"\r\n                  rowData[col['field']].length > 80 ? rowData[col['field']] : ''\r\n                \"\r\n                tooltipPosition=\"bottom\"\r\n                (mouseenter)=\"rowData['isHovered'] = true\"\r\n                (mouseleave)=\"rowData['isHovered'] = false\"\r\n              >\r\n                {{\r\n                  rowData[col[\"field\"]].length > 80\r\n                    ? rowData[\"isHovered\"]\r\n                      ? rowData[col[\"field\"]].substring(0, 75) + \"..\"\r\n                      : rowData[col[\"field\"]].substring(0, 80) + \"..\"\r\n                    : rowData[col[\"field\"]]\r\n                }}<a\r\n                  style=\"cursor: pointer\"\r\n                  *ngIf=\"\r\n                    rowData['isHovered'] && rowData[col['field']].length > 80\r\n                  \"\r\n                  (click)=\"copyToClipboard(rowData[col['field']])\"\r\n                  >COPY</a\r\n                ></span\r\n              >\r\n            </td>\r\n\r\n            <td\r\n              *ngIf=\"col.field == 'status'\"\r\n              style=\"border: none; text-align: center\"\r\n            >\r\n              <label class=\"switch\" tabindex=\"0\"\r\n              (keyup.Space)= \"statusInp.click()\">\r\n                <input\r\n                  #statusInp\r\n                  [value]=\"rowData[col['field']]\"\r\n                  type=\"checkbox\"\r\n                  (click)=\"confirmStatus($event, rowData)\"\r\n                  [checked]=\"\r\n                    rowData[col['field']] == 'Active' ||\r\n                    rowData[col['field']] == 'A'\r\n                      ? true\r\n                      : false\r\n                  \"\r\n                />\r\n                <span class=\"slider round\"></span>\r\n              </label>\r\n            </td>\r\n            <td\r\n              *ngIf=\"col.field == 'operation'\"\r\n              style=\"border: none; text-align: center\"\r\n            >\r\n              <span class=\"image-text\">\r\n                <button\r\n                  pButton\r\n                  type=\"button\"\r\n                  icon=\"pi pi-clone\"\r\n                  class=\"operation-btns mr-2\"\r\n                  [disabled]=\"rowData['status'] == 'Inactive'\"\r\n                  (click)=\"cloneTax(rowData)\"\r\n                ></button>\r\n              </span>\r\n            </td>\r\n          </ng-container>\r\n        </tr>\r\n      </ng-template>\r\n      <ng-template pTemplate=\"emptymessage\">\r\n        <tr>\r\n          <td [attr.colspan]=\"cols.length\">No Data Found.</td>\r\n        </tr>\r\n      </ng-template>\r\n      <ng-template pTemplate=\"paginatorleft\" let-state>\r\n        {{ state.page * state.rows + 1 }} -\r\n        {{\r\n          state.rows * (state.page + 1) > state.totalRecords\r\n            ? state.totalRecords\r\n            : state.rows * (state.page + 1)\r\n        }}\r\n        of {{ state.totalRecords }}\r\n      </ng-template>\r\n    </p-table>\r\n  </div>\r\n</div>\r\n<div class=\"NorecordFound\" *ngIf=\"!taxListingData?.length && showNoDataFound\">\r\n  <div class=\"row\">\r\n    <div class=\"col-12\"><img src=\"assets/noRecordFound.svg\" /></div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col-12\">\r\n      <p>\"No Record Found.Click Add New Tax To Add Record\"</p>\r\n      <button\r\n        pButton\r\n        pRipple\r\n        type=\"button\"\r\n        label=\"Add New Tax\"\r\n        class=\"p-button-raised\"\r\n        (click)=\"addNewTaxPage()\"\r\n      ></button>\r\n    </div>\r\n  </div>\r\n</div>\r\n<p-confirmDialog\r\n  key=\"activeDeactiveStatus\"\r\n  class=\"status-confirm confirm-popup\"\r\n  #cd\r\n  [closable]=\"false\"\r\n>\r\n  <p-footer>\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-check\"\r\n      label=\"Yes\"\r\n      (click)=\"cd.accept()\"\r\n    ></button>\r\n\r\n    <button\r\n      type=\"button\"\r\n      pButton\r\n      icon=\"pi pi-times\"\r\n      label=\"No\"\r\n      (click)=\"cd.reject()\"\r\n    ></button>\r\n  </p-footer>\r\n</p-confirmDialog>\r\n","import { HttpClient, HttpHeaders } from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { BehaviorSubject, Observable, Subject } from \"rxjs\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class TaxSettingsService {\r\n  constructor(private http: HttpClient) {}\r\n\r\n  applicationName: any = null;\r\n  moduleName: any = null;\r\n\r\n  private statusDataForEditForm: any = undefined;\r\n\r\n  setData(data: any) {\r\n    this.statusDataForEditForm = data;\r\n  }\r\n\r\n  getData(): any {\r\n    return this.statusDataForEditForm;\r\n  }\r\n\r\n  // COMMON SERVICES\r\n  getTaxSettingAppModuleList() {\r\n    return this.http.get(\r\n      `/appControl/applicationSettingsController/criteriaTypes`\r\n    );\r\n  }\r\n\r\n  getCriteriaMasterData(\r\n    userId: any,\r\n    formName: any,\r\n    appName: any,\r\n    moduleName: any\r\n  ) {\r\n    return this.http.get(\r\n      `/appControl/formRulesController/getCriteriaMasterData`,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"userId\", userId)\r\n          .set(\"form\", formName)\r\n          .set(\"applications\", String(appName))\r\n          .set(\"moduleName\", String(moduleName)),\r\n      }\r\n    );\r\n  }\r\n\r\n  getCorrespondentValuesData(\r\n    formName: any,\r\n    appName: any,\r\n    criteriaMap: any,\r\n    fieldName: any,\r\n    displayName: any,\r\n    moduleName: any\r\n  ) {\r\n    return this.http.get(`/appControl/formRulesController/getCriteriaData`, {\r\n      headers: new HttpHeaders()\r\n        .set(\"form\", formName)\r\n        .set(\"applications\", String(appName))\r\n        .set(\"criteriaMap\", criteriaMap)\r\n        .set(\"fieldName\", fieldName)\r\n        .set(\"displayName\", displayName)\r\n        .set(\"moduleName\", String(moduleName)),\r\n    });\r\n  }\r\n\r\n  currentCriteriaSaveAsTemplate(data: any): Observable<any> {\r\n    return this.http.post(\r\n      `appControl/formRulesController/saveFormRuleCriteria`,\r\n      data\r\n    );\r\n  }\r\n\r\n  getAllCriteriaTemplates(\r\n    id: string,\r\n    appName: any,\r\n    moduleName: any,\r\n    formName: any\r\n  ): Observable<any> {\r\n    return this.http.get(\r\n      `appControl/formRulesController/getExistingFormRuleList\r\n      `,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"userId\", id)\r\n          .set(\"applications\", String(appName))\r\n          .set(\"moduleName\", String(moduleName))\r\n          .set(\"form\", formName),\r\n      }\r\n    );\r\n  }\r\n  // COMMON SERVICES END\r\n\r\n  getTaxCodeData(id: string, formName: any, appName: any, moduleName: any) {\r\n    return this.http.get(\r\n      `/appControl/taxSettingCriteriaController/getTaxCodeList`,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"userId\", id)\r\n          .set(\"applications\", String(appName))\r\n          .set(\"moduleName\", String(moduleName))\r\n          .set(\"form\", formName),\r\n      }\r\n    );\r\n  }\r\n\r\n  updateTaxSettingsStatus(data: any) {\r\n    return this.http.post(\r\n      `/appControl/taxSettingCriteriaController/updateTaxSettingsStatus`,\r\n      data\r\n    );\r\n  }\r\n\r\n  getTaxSettingForEdit(\r\n    taxCode: any,\r\n    operation: any,\r\n    appName: any,\r\n    moduleName: any,\r\n    formName: any\r\n  ) {\r\n    return this.http.get(\r\n      `/appControl/taxSettingCriteriaController/getTaxSettingCriteriaForEdit`,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"taxCode\", taxCode)\r\n          .set(\"operation\", operation),\r\n      }\r\n    );\r\n  }\r\n\r\n  getAddTaxSettingsCriteriaData(appName: any, moduleName: any, formName: any) {\r\n    return this.http.get(\r\n      `/appControl/taxSettingCriteriaController/addTaxSettings`,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"applications\", String(appName))\r\n          .set(\"moduleName\", String(moduleName))\r\n          .set(\"form\", formName),\r\n      }\r\n    );\r\n  }\r\n\r\n  postTaxCriteriaSearch(data: any) {\r\n    return this.http.post(\r\n      `/appControl/taxSettingCriteriaController/applyCriteriaSearch`,\r\n      data\r\n    );\r\n  }\r\n\r\n  addNewTax(\r\n    data,\r\n    appName: any,\r\n    moduleName: any,\r\n    formName: any\r\n  ): Observable<any> {\r\n    return this.http.post(\r\n      `/appControl/taxSettingCriteriaController/addCriteriaDetails`,\r\n      data,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"applications\", String(appName))\r\n          .set(\"moduleName\", String(moduleName))\r\n          .set(\"form\", formName),\r\n      }\r\n    );\r\n  }\r\n\r\n  updateTaxSetting(\r\n    userId,\r\n    data,\r\n    appName: any,\r\n    moduleName: any,\r\n    formName: any\r\n  ): Observable<any> {\r\n    return this.http.put(\r\n      `/appControl/taxSettingCriteriaController/updateTaxSettingsCriteria`,\r\n      data,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"userId\", userId)\r\n          .set(\"applications\", String(appName))\r\n          .set(\"moduleName\", String(moduleName))\r\n          .set(\"form\", formName),\r\n      }\r\n    );\r\n  }\r\n}\r\n","import { Component, EventEmitter, Input, OnInit, Output } from \"@angular/core\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { CoreService } from \"src/app/core.service\";\r\n\r\n@Component({\r\n  selector: \"app-system-users-details\",\r\n  templateUrl: \"./system-users-details.component.html\",\r\n  styleUrls: [\"./system-users-details.component.scss\"],\r\n})\r\nexport class SystemUsersDetailsComponent implements OnInit {\r\n  @Output(\"modeEventBack\") modeEventBack = new EventEmitter<any>();\r\n  @Input(\"bankTransferModel\") bankTransferModel: boolean = false;\r\n\r\n  userCode: \"\";\r\n  userBranch: \"\";\r\n  userGroup: \"\";\r\n  dataAccessGroup: \"\";\r\n  userIDText: \"\";\r\n  userName: \"\";\r\n  userEmailId: \"\";\r\n  contactNumber: \"\";\r\n  userCurrentBranch: \"\";\r\n  userCurrencyCode: \"\";\r\n  userFXStock: \"\";\r\n  userCashierAccount: \"\";\r\n  userTransferBranch: \"\";\r\n\r\n  showEditModal: boolean = false;\r\n\r\n  newValues: any;\r\n\r\n  branchOptions: any = [\r\n    {\r\n      id: 1,\r\n      code: \"Airport\",\r\n      codeName: \"Airport\",\r\n      status: \"A\",\r\n    },\r\n    {\r\n      id: 2,\r\n      code: \"HeadOffice\",\r\n      codeName: \"HeadOffice\",\r\n      status: \"A\",\r\n    },\r\n  ];\r\n  userGroupOptions: any = [\r\n    {\r\n      id: 1,\r\n      code: \"Teller\",\r\n      codeName: \"Teller\",\r\n      status: \"A\",\r\n    },\r\n    {\r\n      id: 2,\r\n      code: \"Accountant\",\r\n      codeName: \"Accountant\",\r\n      status: \"A\",\r\n    },\r\n  ];\r\n  dataAccessGroupOptions: any = [\r\n    {\r\n      id: 1,\r\n      code: \"Airports-USD Group\",\r\n      codeName: \"Airports-USD Group\",\r\n      status: \"A\",\r\n    },\r\n    {\r\n      id: 2,\r\n      code: \"Euro Group\",\r\n      codeName: \"Euro Group\",\r\n      status: \"A\",\r\n    },\r\n  ];\r\n  transferBranchOptions: any = [\r\n    {\r\n      id: 1,\r\n      code: \"Airport\",\r\n      codeName: \"Airport\",\r\n      status: \"A\",\r\n    },\r\n    {\r\n      id: 2,\r\n      code: \"HeadOffice\",\r\n      codeName: \"HeadOffice\",\r\n      status: \"A\",\r\n    },\r\n  ];\r\n\r\n  mode = \"add\";\r\n  deactivated: boolean = false;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private coreService: CoreService,\r\n    private route: ActivatedRoute\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    // this.route.data.subscribe((data) => {\r\n    //   this.coreService.setBreadCrumbMenu(Object.values(data));\r\n    // });\r\n  }\r\n  isValidEmail(email: string): boolean {\r\n    // Regular expression for email validation\r\n    const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/;\r\n    return emailRegex.test(email);\r\n  }\r\n  upperCaseSpaceFormat(value: string): string {\r\n    // Trim extra spaces and convert to uppercase\r\n    return value?.trim().toUpperCase().replace(/\\s+/g, \" \");\r\n  }\r\n\r\n  onSubmit(action) {\r\n    // this.coreService.displayLoadingScreen();\r\n    let userNameMissing = false;\r\n    let userEmailMissing = false;\r\n    let userBranchMissing = false;\r\n    let userGroupMissing = false;\r\n    let userContactMissing = false;\r\n\r\n    this.newValues = [\r\n      {\r\n        userID: this.userIDText,\r\n        userCode: this.userCode,\r\n        userName: this.userName,\r\n        status: \"A\",\r\n        userBranch: this.userBranch,\r\n        userGroup: this.userGroup,\r\n        dataAccessGroup: this.dataAccessGroup,\r\n        userEmail: this.userEmailId,\r\n        userContact: this.contactNumber,\r\n      },\r\n    ];\r\n    this.newValues.forEach((data) => {\r\n      data[\"userName\"] = this.upperCaseSpaceFormat(this.userName);\r\n      console.log(\"save\", data);\r\n      if (!data[\"userEmail\"] || data[\"userEmail\"] === \"\") {\r\n        userEmailMissing = true;\r\n      }\r\n      if (!this.isValidEmail(data[\"userEmail\"])) {\r\n        this.coreService.removeLoadingScreen();\r\n        this.coreService.showWarningToast(\"Please enter a valid email format.\");\r\n        return; // Stop execution here if email format is invalid\r\n      }\r\n      if (!data[\"userName\"] || data[\"userName\"] === \"\") {\r\n        userNameMissing = true;\r\n      }\r\n\r\n      if (!data[\"userContact\"] || data[\"userContact\"] === \"\") {\r\n        userContactMissing = true;\r\n      }\r\n      if (!data[\"userGroup\"] || data[\"userGroup\"] === \"\") {\r\n        userGroupMissing = true;\r\n      }\r\n      if (!data[\"userBranch\"] || data[\"userBranch\"] === \"\") {\r\n        userBranchMissing = true;\r\n      }\r\n    });\r\n\r\n    console.log(\"save\", this.newValues);\r\n    if (userBranchMissing) {\r\n      this.coreService.removeLoadingScreen();\r\n      this.coreService.showWarningToast(\"Please select the Branch.\");\r\n    } else if (userGroupMissing) {\r\n      this.coreService.removeLoadingScreen();\r\n      this.coreService.showWarningToast(\"Please select the User Group.\");\r\n    } else if (userContactMissing) {\r\n      this.coreService.removeLoadingScreen();\r\n      this.coreService.showWarningToast(\"Please fill the Contanct Number.\");\r\n    } else if (userNameMissing) {\r\n      this.coreService.removeLoadingScreen();\r\n      this.coreService.showWarningToast(\"Please fill the Name.\");\r\n    } else if (userEmailMissing) {\r\n      this.coreService.removeLoadingScreen();\r\n      this.coreService.showWarningToast(\"Please fill the Email.\");\r\n    }\r\n    // } else {\r\n    //   let service;\r\n    //   if (this.mode == \"edit\") {\r\n    //     let data = this.newValues;\r\n\r\n    //     service = this.compamnyService.updateCompanySettings(data, this.userId);\r\n    //     console.log(\"::\", data);\r\n    //   } else {\r\n    //     let data = this.newValues;\r\n    //     console.log(\"saveeee\", data);\r\n    //     service = this.compamnyService.saveCompanySettings(data, this.userId);\r\n    //   }\r\n\r\n    //   if (service) {\r\n    //     service.subscribe(\r\n    //       (res) => {\r\n    //         if (\r\n    //           res[\"status\"] &&\r\n    //           typeof res[\"status\"] == \"string\" &&\r\n    //           (res[\"status\"] == \"400\" || res[\"status\"] == \"500\")\r\n    //         ) {\r\n    //           if (res[\"error\"]) {\r\n    //             this.coreService.showWarningToast(res[\"error\"]);\r\n    //           } else {\r\n    //             this.coreService.showWarningToast(\r\n    //               \"Something went wrong, Please try again later\"\r\n    //             );\r\n    //           }\r\n    //         } else {\r\n    //           if (res[\"msg\"]) {\r\n    //             this.coreService.showSuccessToast(res.msg);\r\n    //             this.coreService.removeLoadingScreen();\r\n    //             this.getCompanySettingsData();\r\n    //           }\r\n    //         }\r\n    //       },\r\n    //       (err) => {\r\n    //         this.coreService.removeLoadingScreen();\r\n    //         console.log(\"error in save\", err);\r\n    //         this.coreService.showWarningToast(\r\n    //           \"Something went wrong, Please try again later\"\r\n    //         );\r\n    //       }\r\n    //     );\r\n    //   }\r\n    // }\r\n  }\r\n  onReset() {}\r\n  onEdit() {}\r\n  onActive() {}\r\n  onBankTransfer() {\r\n    this.showEditModal = true;\r\n  }\r\n  closeDialog() {\r\n    this.showEditModal = false;\r\n    this.coreService.displayLoadingScreen();\r\n    setTimeout(() => {\r\n      this.coreService.setHeaderStickyStyle(true);\r\n      this.coreService.setSidebarBtnFixedStyle(true);\r\n    }, 500);\r\n    setTimeout(() => {\r\n      this.coreService.removeLoadingScreen();\r\n    }, 1000);\r\n  }\r\n  onBack() {\r\n    this.modeEventBack.emit(\"list\");\r\n  }\r\n  resetAddNewModal() {}\r\n\r\n  saveAddNewSystem() {}\r\n}\r\n","<div class=\"row custom-form\">\r\n      <div class=\"'col-xs-12 col-sm-6 col-md-4 col-lg-2 p-2 fieldForm'\">\r\n        <label> User Code </label><span class=\"required\">*</span> \r\n        <input type=\"text\" class=\"block\" pInputText [(ngModel)]=\"userCode\"/>\r\n      </div>\r\n      <div class=\"'col-xs-12 col-sm-6 col-md-4 col-lg-2 p-2 fieldForm'\">\r\n        <label>\r\n          Branch\r\n        </label><span class=\"required\">*</span>\r\n        <p-dropdown class=\"block\" placeholder=\"select\"  [options]=\"branchOptions\" optionLabel=\"codeName\" [appendTo]=\"'body'\" \r\n        [(ngModel)]=\"userBranch\"\r\n          [filter]=\"true\" filterBy=\"codeName\" [virtualScroll]=\"true\" [virtualScrollItemSize]=\"35\"\r\n          panelStyleClass=\"formFields-dropdown\" >\r\n          <ng-template let-options pTemplate=\"item\">\r\n            <div class=\"truncate-text\">\r\n              <div>{{ options.codeName }}</div>\r\n            </div>\r\n          </ng-template></p-dropdown>\r\n      </div>\r\n      <div class=\"'col-xs-12 col-sm-6 col-md-4 col-lg-2 p-2 fieldForm'\">\r\n        <label>\r\n          User Group\r\n        </label><span class=\"required\">*</span>\r\n        <p-dropdown class=\"block\" placeholder=\"select\"  [options]=\"userGroupOptions\" optionLabel=\"codeName\" [appendTo]=\"'body'\" \r\n        [(ngModel)]=\"userGroup\"\r\n          [filter]=\"true\" filterBy=\"codeName\" [virtualScroll]=\"true\" [virtualScrollItemSize]=\"35\"\r\n          panelStyleClass=\"formFields-dropdown\" >\r\n          <ng-template let-options pTemplate=\"item\">\r\n            <div class=\"truncate-text\">\r\n              <div>{{ options.codeName }}</div>\r\n            </div>\r\n          </ng-template></p-dropdown>\r\n      </div>\r\n      <div class=\"'col-xs-12 col-sm-6 col-md-4 col-lg-2 p-2 fieldForm'\">\r\n        <label>\r\n          Data Access Group\r\n        </label>\r\n        <p-dropdown class=\"block\" placeholder=\"select\"  [options]=\"dataAccessGroupOptions\" optionLabel=\"codeName\" [appendTo]=\"'body'\" \r\n        [(ngModel)]=\"dataAccessGroup\"\r\n          [filter]=\"true\" filterBy=\"codeName\" [virtualScroll]=\"true\" [virtualScrollItemSize]=\"35\"\r\n          panelStyleClass=\"formFields-dropdown\" >\r\n          <ng-template let-options pTemplate=\"item\">\r\n            <div class=\"truncate-text\">\r\n              <div>{{ options.codeName }}</div>\r\n            </div>\r\n          </ng-template></p-dropdown>\r\n      </div>\r\n      <div class=\"'col-xs-12 col-sm-6 col-md-4 col-lg-2 p-2 fieldForm'\">\r\n        <label>\r\n         Name\r\n        </label><span class=\"required\">*</span>\r\n        <input type=\"text\" class=\"block\" pInputText [(ngModel)]=\"userName\"/>\r\n      </div>\r\n      <div class=\"'col-xs-12 col-sm-6 col-md-4 col-lg-2 p-2 fieldForm'\">\r\n        <label> User ID </label><span class=\"required\">*</span>\r\n        <input type=\"text\" class=\"block\" pInputText [(ngModel)]=\"userIDText\"/>\r\n        \r\n      </div>\r\n      <div class=\"'col-xs-12 col-sm-6 col-md-4 col-lg-2 p-2 fieldForm'\">\r\n        <label> Email </label><span class=\"required\">*</span>\r\n        <input type=\"text\" class=\"block\" pInputText [(ngModel)]=\"userEmailId\" />\r\n          \r\n      </div>\r\n      <div class=\"'col-xs-12 col-sm-6 col-md-4 col-lg-2 p-2 fieldForm'\">\r\n        <label> Contact Number </label><span class=\"required\">*</span>\r\n<p-inputNumber class=\"contactNumber\" [(ngModel)]=\"contactNumber\" mode=\"decimal\" inputId=\"withoutgrouping\" [useGrouping]=\"false\">\r\n</p-inputNumber>     \r\n      </div>\r\n      <div class=\"form-group btn-grp buttons-section\">\r\n        <button\r\n        pButton\r\n        pRipple\r\n        type=\"button\"\r\n        label=\"Back\"\r\n        class=\"p-button-raised\"\r\n        (click)=\"onBack()\"\r\n      ></button>\r\n        <button\r\n          *ngIf=\"mode == 'edit'\"\r\n          pButton\r\n          pRipple\r\n          type=\"button\"\r\n          label=\"edit\"\r\n          class=\"p-button-raised\"\r\n          (click)=\"onEdit()\"\r\n        ></button>\r\n        <button\r\n          pButton\r\n          pRipple\r\n          type=\"button\"\r\n          label=\"Save\"\r\n          class=\"p-button-raised\"\r\n          (click)=\"onSubmit('save')\"\r\n          [disabled]=\"deactivated\"\r\n        ></button>\r\n        <button\r\n        *ngIf=\"!bankTransferModel\"\r\n          pButton\r\n          pRipple\r\n          type=\"button\"\r\n          label=\"Save & Add New\"\r\n          class=\"p-button-raised\"\r\n          (click)=\"onSubmit('saveAndAddNew')\"\r\n          [disabled]=\"deactivated\"\r\n        ></button>\r\n        <button\r\n        *ngIf=\"!bankTransferModel\"\r\n          pButton\r\n          pRipple\r\n          type=\"button\"\r\n          label=\"Reset\"\r\n          class=\"p-button-warning\"\r\n          (click)=\"onReset()\"\r\n          [disabled]=\"deactivated\"\r\n        ></button>\r\n        <button\r\n          *ngIf=\"bankTransferModel\"\r\n          pButton\r\n          pRipple\r\n          type=\"button\"\r\n          label=\"{{ deactivated ? 'Activate' : 'Deactivate' }}\"\r\n          class=\"p-button-warning\"\r\n          (click)=\"onActive()\"\r\n        ></button>\r\n        <button\r\n          *ngIf=\"bankTransferModel\"\r\n          pButton\r\n          pRipple\r\n          type=\"button\"\r\n          label=\"Bank Transfer\"\r\n          class=\"p-button-raised\"\r\n          (click)=\"onBankTransfer()\"\r\n        ></button>\r\n      </div>\r\n  </div>\r\n  <div class=\"uploadedImgModal\">\r\n    <p-dialog\r\n      [(visible)]=\"showEditModal\"\r\n      [modal]=\"true\"\r\n      [style]=\"{ width: '40vw', left: '50px' }\"\r\n      (onHide)=\"closeDialog()\"\r\n    >\r\n      <ng-template pTemplate=\"header\">\r\n        <div class=\"application-header\">Branch Transfer</div>\r\n      </ng-template>\r\n      <ng-template pTemplate=\"body\">\r\n        <div class=\"row\">\r\n            <div class=\"'col-xs-12 col-sm-6 col-md-4 col-lg-4 p-2 fieldForm'\">\r\n              <label>\r\n               Name\r\n              </label>\r\n              <input type=\"text\" class=\"block\" pInputText [(ngModel)]=\"userName\"/>\r\n            </div>\r\n            <div class=\"'col-xs-12 col-sm-6 col-md-4 col-lg-4 p-2 fieldForm'\">\r\n              <label>\r\n               Current Branch\r\n              </label>\r\n              <input type=\"text\" class=\"block\" pInputText [(ngModel)]=\"userCurrentBranch\"/>\r\n            </div>\r\n            <div class=\"'col-xs-12 col-sm-6 col-md-4 col-lg-4 p-2 fieldForm'\">\r\n              <label>\r\n               Currency Code\r\n              </label>\r\n              <input type=\"text\" class=\"block\" pInputText [(ngModel)]=\"userCurrencyCode\"/>\r\n            </div>\r\n            </div>\r\n            <div class=\"row\">\r\n            <div class=\"'col-xs-12 col-sm-6 col-md-4 col-lg-4 p-2 fieldForm'\">\r\n              <label>\r\n               FX Stock\r\n              </label>\r\n              <input type=\"text\" class=\"block\" pInputText [(ngModel)]=\"userFXStock\"/>\r\n            </div>\r\n            <div class=\"'col-xs-12 col-sm-6 col-md-4 col-lg-4 p-2 fieldForm'\">\r\n              <label>\r\n               Cashier Account\r\n              </label>\r\n              <input type=\"text\" class=\"block\" pInputText [(ngModel)]=\"userCashierAccount\"/>\r\n            </div>\r\n            <div class=\"'col-xs-12 col-sm-6 col-md-4 col-lg-4 p-2 fieldForm'                        \">\r\n              <label>\r\n                Transfer Branch\r\n              </label>\r\n              <p-dropdown class=\"block\" placeholder=\"select\"  [options]=\"transferBranchOptions\" optionLabel=\"codeName\" [appendTo]=\"'body'\" \r\n              [(ngModel)]=\"userTransferBranch\"\r\n                [filter]=\"true\" filterBy=\"codeName\" [virtualScroll]=\"true\" [virtualScrollItemSize]=\"35\"\r\n                panelStyleClass=\"formFields-dropdown\" >\r\n                <ng-template let-options pTemplate=\"item\">\r\n                  <div class=\"truncate-text\">\r\n                    <div>{{ options.codeName }}</div>\r\n                  </div>\r\n                </ng-template></p-dropdown>\r\n            </div>\r\n          </div>\r\n      </ng-template>\r\n      <ng-template pTemplate=\"footer\">\r\n        <div class=\"row addnewbtnSection\" Master-addnew-section >\r\n            <button\r\n            pButton\r\n            pRipple\r\n            type=\"button\"\r\n            label=\"Save & Close\"\r\n            class=\"p-button-raised search-btn \"\r\n            (click)=\"saveAddNewSystem()\"\r\n          ></button>\r\n            <button\r\n            pButton\r\n            pRipple\r\n            type=\"button\"\r\n            label=\"Reset\"\r\n            class=\"p-button-warning search-btn \"\r\n            (click)=\"resetAddNewModal()\"\r\n          ></button>\r\n        </div>\r\n      </ng-template>\r\n    </p-dialog>\r\n  </div>","import { Component, EventEmitter, OnInit, Output } from \"@angular/core\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { ConfirmationService } from \"primeng/api\";\r\nimport { CoreService } from \"src/app/core.service\";\r\nimport { UsersPermissionService } from \"../../users-permission.service\";\r\n\r\n@Component({\r\n  selector: \"app-system-users-listing\",\r\n  templateUrl: \"./system-users-listing.component.html\",\r\n  styleUrls: [\"./system-users-listing.component.scss\"],\r\n})\r\nexport class SystemUsersListingComponent implements OnInit {\r\n  @Output(\"modeEvent\") modeEvent = new EventEmitter<any>();\r\n  @Output(\"editEvent\") editEvent = new EventEmitter<any>();\r\n\r\n  systemUsersListingData: any = [\r\n    {\r\n      id: 0,\r\n      userID: \"BaniE0001\",\r\n      userCode: \"E0001\",\r\n      userName: \"Bani Singh\",\r\n      status: \"Active\",\r\n      userBranch: \"Airport\",\r\n      userGroup: \"Teller\",\r\n      dataAccessGroup: \"Airports-USD Group\",\r\n    },\r\n    {\r\n      id: 1,\r\n      userID: \"VedE0002\",\r\n      userCode: \"E0002\",\r\n      userName: \"Ved Prakash\",\r\n      status: \"Active\",\r\n      userBranch: \"Head Office\",\r\n      userGroup: \"Accountant\",\r\n      dataAccessGroup: \"NA\",\r\n    },\r\n    {\r\n      id: 2,\r\n      userID: \"KaranE0003\",\r\n      userCode: \"E0003\",\r\n      userName: \"Karan Patel\",\r\n      status: \"Active\",\r\n      userBranch: \"Head Office\",\r\n      userGroup: \"Administrator\",\r\n      dataAccessGroup: \"Euro Group\",\r\n    },\r\n  ];\r\n\r\n  cols = [\r\n    { field: \"userCode\", header: \"User Code\", width: \"10%\" },\r\n    { field: \"userName\", header: \"Name\", width: \"15%\" },\r\n    { field: \"userBranch\", header: \"Branch\", width: \"15%\" },\r\n    { field: \"userID\", header: \"User ID\", width: \"15%\" },\r\n    { field: \"userGroup\", header: \"User Group\", width: \"15%\" },\r\n    { field: \"dataAccessGroup\", header: \"Data Access Group\", width: \"20%\" },\r\n    { field: \"status\", header: \"Status\", width: \"10%\" },\r\n  ];\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private coreService: CoreService,\r\n    private route: ActivatedRoute,\r\n    private confirmationService: ConfirmationService,\r\n    private userPermisionsService: UsersPermissionService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    // this.route.data.subscribe((data) => {\r\n    //   this.coreService.setBreadCrumbMenu(Object.values(data));\r\n    // });\r\n  }\r\n\r\n  addNewSystemUserPage() {\r\n    this.modeEvent.emit(\"add\");\r\n  }\r\n\r\n  viewSystemUser(data: any) {\r\n    this.editEvent.emit(data);\r\n    // this.router.navigate([\r\n    //   \"navbar\",\r\n    //   \"tax-settings\",\r\n    //   \"add-tax\",\r\n    //   data.taxCode,\r\n    //   \"edit\",\r\n    // ]);\r\n    // this.taxSettingsService.setData(data);\r\n  }\r\n\r\n  confirmStatus(e: any, data: any) {\r\n    e.preventDefault();\r\n    let type = \"\";\r\n    let reqStatus = \"\";\r\n    if (e.target.checked) {\r\n      reqStatus = \"A\";\r\n      type = \"Activate\";\r\n    } else {\r\n      reqStatus = \"D\";\r\n      type = \"Deactivate\";\r\n    }\r\n    this.coreService.setSidebarBtnFixedStyle(false);\r\n    this.coreService.setHeaderStickyStyle(false);\r\n    let completeMsg = \"\";\r\n\r\n    completeMsg =\r\n      `<img src=\"../../../assets/warning.svg\"><br/><br/>` +\r\n      `Do you wish to ` +\r\n      type +\r\n      ` the User Record: ${data[\"currencyCode\"]}?`;\r\n    this.confirmationService.confirm({\r\n      message: completeMsg,\r\n      key: \"activeDeactiveStatus\",\r\n      accept: () => {\r\n        // this.updateStatus(e, reqStatus, data);\r\n        this.setHeaderSidebarBtn(true);\r\n      },\r\n      reject: () => {\r\n        this.confirmationService.close;\r\n        this.setHeaderSidebarBtn(false);\r\n      },\r\n    });\r\n  }\r\n\r\n  setHeaderSidebarBtn(accept: boolean) {\r\n    this.coreService.displayLoadingScreen();\r\n    setTimeout(() => {\r\n      this.coreService.setHeaderStickyStyle(true);\r\n      this.coreService.setSidebarBtnFixedStyle(true);\r\n    }, 500);\r\n    if (!accept) {\r\n      setTimeout(() => {\r\n        this.coreService.removeLoadingScreen();\r\n      }, 1000);\r\n    }\r\n  }\r\n\r\n  // updateStatus(e: any, reqStatus: any, data: any) {\r\n  //   this.coreService.displayLoadingScreen();\r\n  //   this.updateSystemUserStatus(e.target, data, reqStatus);\r\n  // }\r\n\r\n  // updateSystemUserStatus(sliderElm: any, data: any, reqStatus: any) {\r\n  //   this.userPermisionsService\r\n  //     .updateSystemUsersStatus(\r\n  //       this.clientCode,\r\n  //       this.licenseCountry,\r\n  //       data.currencyCode,\r\n  //       reqStatus\r\n  //     )\r\n  //     .subscribe(\r\n  //       (res) => {\r\n  //         let message = \"\";\r\n  //         if (res[\"error\"] == \"true\") {\r\n  //           this.coreService.removeLoadingScreen();\r\n  //           this.coreService.showWarningToast(res[\"error\"]);\r\n  //         } else {\r\n  //           if (res[\"msg\"]) {\r\n  //             message = res[\"msg\"];\r\n  //             sliderElm.checked = sliderElm!.checked;\r\n  //             this.getRateListingdata();\r\n  //             this.coreService.showSuccessToast(message);\r\n  //           } else {\r\n  //             this.coreService.removeLoadingScreen();\r\n  //             message = \"Error in fetching data, Please try again later\";\r\n  //             this.coreService.showWarningToast(message);\r\n  //           }\r\n  //         }\r\n  //       },\r\n  //       (err) => {\r\n  //         console.log(err);\r\n  //         this.coreService.removeLoadingScreen();\r\n  //       }\r\n  //     );\r\n  // }\r\n}\r\n","<div class=\"visible-main-section\">\r\n    <div class=\"pagetitle\">\r\n      <div class=\"infoicon\">\r\n        <i class=\"pi pi-info-circle\"></i>\r\n        List of System Users.\r\n      </div>\r\n      <div class=\"addnew\">\r\n        <button\r\n          pButton\r\n          pRipple\r\n          type=\"button\"\r\n          label=\"Add New System User\"\r\n          class=\"p-button-raised\"\r\n          (click)=\"addNewSystemUserPage()\"\r\n        ></button>\r\n      </div>\r\n    </div>\r\n    <div class=\"ptable\" *ngIf=\"systemUsersListingData?.length\">\r\n      <p-table\r\n        #dt\r\n        [columns]=\"cols\"\r\n        [value]=\"systemUsersListingData\"\r\n        [paginator]=\"true\"\r\n        [rows]=\"10\"\r\n        [resizableColumns]=\"true\"\r\n        columnResizeMode=\"fit\"\r\n        [rowHover]=\"true\"\r\n      >\r\n        <ng-template pTemplate=\"header\" let-columns>\r\n          <tr>\r\n            <th\r\n              *ngFor=\"let col of columns; let c = index\"\r\n              pReorderableColumn\r\n              [pSortableColumn]=\"col.field\"\r\n              pResizableColumn\r\n              [style.width]=\"col.width\"\r\n            >\r\n              {{ col.header }}\r\n            </th>\r\n          </tr>\r\n          <tr class=\"search-row\">\r\n            <th *ngFor=\"let col of cols\" [style.width]=\"col.width\">\r\n              <span\r\n                style=\"width: 100%\"\r\n                class=\"p-input-icon-left\"\r\n              >\r\n                <i class=\"pi pi-search\"></i>\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"p-inputtext table-search\"\r\n                  placeholder=\"Search\"\r\n                  (input)=\"dt.filter($event.target.value, col.field, 'contains')\"\r\n                />\r\n              </span>\r\n            </th>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template\r\n          pTemplate=\"body\"\r\n          let-rowData\r\n          let-columns=\"columns\"\r\n          let-index=\"rowIndex\"\r\n        >\r\n          <tr [pReorderableRow]=\"index\">\r\n            <ng-container *ngFor=\"let col of columns; let i = index\">\r\n              <td *ngIf=\"col.field != 'status'\">\r\n                <div\r\n                  *ngIf=\"!(i == 0 || i == 6 )\"\r\n                  style=\"display: inline-block\"\r\n                >\r\n                  {{ rowData[col[\"field\"]] }}\r\n                </div>\r\n                <a\r\n                  *ngIf=\"i == 0\"\r\n                  style=\"text-decoration: underline !important;cursor: pointer\"\r\n                  tabindex=\"0\"\r\n                  (keyup.Space)= \"viewSystemUser(rowData)\"\r\n                  (click)=\"viewSystemUser(rowData)\"\r\n                  >{{ rowData[col[\"field\"]] }}</a\r\n                >\r\n                <span\r\n                  *ngIf=\"i == 1\"\r\n                  [pTooltip]=\"\r\n                    rowData[col['field']].length > 30 ? rowData[col['field']] : ''\r\n                  \"\r\n                  tooltipPosition=\"bottom\"\r\n                >\r\n                  {{\r\n                    rowData[col[\"field\"]].length > 30\r\n                      ? rowData[col[\"field\"]].substring(0, 30) + \"..\"\r\n                      : rowData[col[\"field\"]]\r\n                  }}</span\r\n                >\r\n                <span\r\n                  *ngIf=\"i == 2\"\r\n                  [pTooltip]=\"\r\n                    rowData[col['field']].length > 80 ? rowData[col['field']] : ''\r\n                  \"\r\n                  tooltipPosition=\"bottom\"\r\n                  (mouseenter)=\"rowData['isHovered'] = true\"\r\n                  (mouseleave)=\"rowData['isHovered'] = false\"\r\n                >\r\n                  {{\r\n                    rowData[col[\"field\"]].length > 80\r\n                      ? rowData[\"isHovered\"]\r\n                        ? rowData[col[\"field\"]].substring(0, 75) + \"..\"\r\n                        : rowData[col[\"field\"]].substring(0, 80) + \"..\"\r\n                      : rowData[col[\"field\"]]\r\n                  }}<a\r\n                    style=\"cursor: pointer\"\r\n                    *ngIf=\"\r\n                      rowData['isHovered'] && rowData[col['field']].length > 80\r\n                    \"\r\n                    (click)=\"copyToClipboard(rowData[col['field']])\"\r\n                    >COPY</a\r\n                  ></span\r\n                >\r\n              </td>\r\n  \r\n              <td\r\n                *ngIf=\"col.field == 'status'\"\r\n                style=\"border: none; text-align: center\"\r\n              >\r\n                <label class=\"switch\" tabindex=\"0\"\r\n                (keyup.Space)= \"statusInp.click()\">\r\n                  <input\r\n                    #statusInp\r\n                    [value]=\"rowData[col['field']]\"\r\n                    type=\"checkbox\"\r\n                    (click)=\"confirmStatus($event, rowData)\"\r\n                    [checked]=\"\r\n                      rowData[col['field']] == 'Active' ||\r\n                      rowData[col['field']] == 'A'\r\n                        ? true\r\n                        : false\r\n                    \"\r\n                  />\r\n                  <span class=\"slider round\"></span>\r\n                </label>\r\n              </td>\r\n            </ng-container>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"emptymessage\">\r\n          <tr>\r\n            <td [attr.colspan]=\"cols.length\">No Data Found.</td>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"paginatorleft\" let-state>\r\n          {{ state.page * state.rows + 1 }} -\r\n          {{\r\n            state.rows * (state.page + 1) > state.totalRecords\r\n              ? state.totalRecords\r\n              : state.rows * (state.page + 1)\r\n          }}\r\n          of {{ state.totalRecords }}\r\n        </ng-template>\r\n      </p-table>\r\n    </div>\r\n  </div>\r\n  <div class=\"NorecordFound\" *ngIf=\"!systemUsersListingData?.length\">\r\n    <div class=\"row\">\r\n      <div class=\"col-12\"><img src=\"assets/noRecordFound.svg\" /></div>\r\n    </div>\r\n    <div class=\"row\">\r\n      <div class=\"col-12\">\r\n        <p>\"No Record Found.Click Add New System User To Add Record\"</p>\r\n        <button\r\n          pButton\r\n          pRipple\r\n          type=\"button\"\r\n          label=\"Add New System User\"\r\n          class=\"p-button-raised\"\r\n          (click)=\"addNewTaxPage()\"\r\n        ></button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <p-confirmDialog\r\n    key=\"activeDeactiveStatus\"\r\n    class=\"status-confirm confirm-popup\"\r\n    #cd\r\n    [closable]=\"false\"\r\n  >\r\n    <p-footer>\r\n      <button\r\n        type=\"button\"\r\n        pButton\r\n        icon=\"pi pi-check\"\r\n        label=\"Yes\"\r\n        (click)=\"cd.accept()\"\r\n      ></button>\r\n  \r\n      <button\r\n        type=\"button\"\r\n        pButton\r\n        icon=\"pi pi-times\"\r\n        label=\"No\"\r\n        (click)=\"cd.reject()\"\r\n      ></button>\r\n    </p-footer>\r\n  </p-confirmDialog>\r\n  \r\n","import { Component, EventEmitter, OnInit, Output } from \"@angular/core\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { ConfirmationService } from \"primeng/api\";\r\nimport { CoreService } from \"src/app/core.service\";\r\nimport { UsersPermissionService } from \"../../users-permission.service\";\r\n\r\n@Component({\r\n  selector: \"app-user-group\",\r\n  templateUrl: \"./user-group.component.html\",\r\n  styleUrls: [\"./user-group.component.scss\"],\r\n})\r\nexport class UserGroupComponent implements OnInit {\r\n  userGroupListingData: any = [\r\n    {\r\n      id: 0,\r\n      userGroupCode: \"UG0001\",\r\n      status: \"Active\",\r\n      userGroup: \"Teller\",\r\n    },\r\n    {\r\n      id: 1,\r\n      userGroupCode: \"UG0002\",\r\n      status: \"Active\",\r\n      userGroup: \"Accountant\",\r\n    },\r\n    {\r\n      id: 2,\r\n      userGroupCode: \"UG0003\",\r\n      userName: \"Karan Patel\",\r\n      status: \"Active\",\r\n      userGroup: \"Administrator\",\r\n    },\r\n  ];\r\n\r\n  cols = [\r\n    { field: \"userGroupCode\", header: \"User Group Code\", width: \"30%\" },\r\n    { field: \"userGroup\", header: \"User Group\", width: \"50%\" },\r\n    { field: \"status\", header: \"Status\", width: \"20%\" },\r\n  ];\r\n\r\n  mode = \"list\";\r\n  deactivated: boolean = false;\r\n\r\n  userGroupOptions: any = [\r\n    {\r\n      id: 1,\r\n      code: \"Teller\",\r\n      codeName: \"Teller\",\r\n      status: \"A\",\r\n    },\r\n    {\r\n      id: 2,\r\n      code: \"Accountant\",\r\n      codeName: \"Accountant\",\r\n      status: \"A\",\r\n    },\r\n  ];\r\n\r\n  userCode: \"\";\r\n  userGroup: \"\";\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private coreService: CoreService,\r\n    private route: ActivatedRoute,\r\n    private confirmationService: ConfirmationService,\r\n    private userPermisionsService: UsersPermissionService\r\n  ) {}\r\n\r\n  ngOnInit(): void {}\r\n  addNewUserGroupPage() {\r\n    this.mode = \"add\";\r\n  }\r\n\r\n  viewSystemUser(data: any) {\r\n    this.mode = \"edit\";\r\n    // this.modeEvent.emit(\"edit\");\r\n    // this.router.navigate([\r\n    //   \"navbar\",\r\n    //   \"tax-settings\",\r\n    //   \"add-tax\",\r\n    //   data.taxCode,\r\n    //   \"edit\",\r\n    // ]);\r\n    // this.taxSettingsService.setData(data);\r\n  }\r\n  onBack() {\r\n    this.mode = \"list\";\r\n  }\r\n  onEdit() {}\r\n  onSubmit(action) {}\r\n  onReset() {}\r\n\r\n  confirmStatus(e: any, data: any) {\r\n    e.preventDefault();\r\n    let type = \"\";\r\n    let reqStatus = \"\";\r\n    if (e.target.checked) {\r\n      reqStatus = \"A\";\r\n      type = \"Activate\";\r\n    } else {\r\n      reqStatus = \"D\";\r\n      type = \"Deactivate\";\r\n    }\r\n    this.coreService.setSidebarBtnFixedStyle(false);\r\n    this.coreService.setHeaderStickyStyle(false);\r\n    let completeMsg = \"\";\r\n\r\n    completeMsg =\r\n      `<img src=\"../../../assets/warning.svg\"><br/><br/>` +\r\n      `Do you wish to ` +\r\n      type +\r\n      ` the User Record: ${data[\"currencyCode\"]}?`;\r\n    this.confirmationService.confirm({\r\n      message: completeMsg,\r\n      key: \"activeDeactiveStatus\",\r\n      accept: () => {\r\n        // this.updateStatus(e, reqStatus, data);\r\n        this.setHeaderSidebarBtn(true);\r\n      },\r\n      reject: () => {\r\n        this.confirmationService.close;\r\n        this.setHeaderSidebarBtn(false);\r\n      },\r\n    });\r\n  }\r\n\r\n  setHeaderSidebarBtn(accept: boolean) {\r\n    this.coreService.displayLoadingScreen();\r\n    setTimeout(() => {\r\n      this.coreService.setHeaderStickyStyle(true);\r\n      this.coreService.setSidebarBtnFixedStyle(true);\r\n    }, 500);\r\n    if (!accept) {\r\n      setTimeout(() => {\r\n        this.coreService.removeLoadingScreen();\r\n      }, 1000);\r\n    }\r\n  }\r\n\r\n  // updateStatus(e: any, reqStatus: any, data: any) {\r\n  //   this.coreService.displayLoadingScreen();\r\n  //   this.updateSystemUserStatus(e.target, data, reqStatus);\r\n  // }\r\n\r\n  // updateSystemUserStatus(sliderElm: any, data: any, reqStatus: any) {\r\n  //   this.userPermisionsService\r\n  //     .updateSystemUsersStatus(\r\n  //       this.clientCode,\r\n  //       this.licenseCountry,\r\n  //       data.currencyCode,\r\n  //       reqStatus\r\n  //     )\r\n  //     .subscribe(\r\n  //       (res) => {\r\n  //         let message = \"\";\r\n  //         if (res[\"error\"] == \"true\") {\r\n  //           this.coreService.removeLoadingScreen();\r\n  //           this.coreService.showWarningToast(res[\"error\"]);\r\n  //         } else {\r\n  //           if (res[\"msg\"]) {\r\n  //             message = res[\"msg\"];\r\n  //             sliderElm.checked = sliderElm!.checked;\r\n  //             this.getRateListingdata();\r\n  //             this.coreService.showSuccessToast(message);\r\n  //           } else {\r\n  //             this.coreService.removeLoadingScreen();\r\n  //             message = \"Error in fetching data, Please try again later\";\r\n  //             this.coreService.showWarningToast(message);\r\n  //           }\r\n  //         }\r\n  //       },\r\n  //       (err) => {\r\n  //         console.log(err);\r\n  //         this.coreService.removeLoadingScreen();\r\n  //       }\r\n  //     );\r\n  // }\r\n}\r\n","<div class=\"visible-main-section\" *ngIf=\"mode == 'list'\">\r\n    <div class=\"pagetitle\">\r\n      <div class=\"infoicon\">\r\n        <i class=\"pi pi-info-circle\"></i>\r\n        List of User Group.\r\n      </div>\r\n      <div class=\"addnew\">\r\n        <button\r\n          pButton\r\n          pRipple\r\n          type=\"button\"\r\n          label=\"Add New User Group\"\r\n          class=\"p-button-raised\"\r\n          (click)=\"addNewUserGroupPage()\"\r\n        ></button>\r\n      </div>\r\n    </div>\r\n    <div class=\"ptable\" *ngIf=\"userGroupListingData?.length\">\r\n      <p-table\r\n        #dt\r\n        [columns]=\"cols\"\r\n        [value]=\"userGroupListingData\"\r\n        [paginator]=\"true\"\r\n        [rows]=\"10\"\r\n        [resizableColumns]=\"true\"\r\n        columnResizeMode=\"fit\"\r\n        [rowHover]=\"true\"\r\n      >\r\n        <ng-template pTemplate=\"header\" let-columns>\r\n          <tr>\r\n            <th\r\n              *ngFor=\"let col of columns; let c = index\"\r\n              pReorderableColumn\r\n              [pSortableColumn]=\"col.field\"\r\n              pResizableColumn\r\n              [style.width]=\"col.width\"\r\n            >\r\n              {{ col.header }}\r\n            </th>\r\n          </tr>\r\n          <tr class=\"search-row\">\r\n            <th *ngFor=\"let col of cols\" [style.width]=\"col.width\">\r\n              <span\r\n                style=\"width: 100%\"\r\n                class=\"p-input-icon-left\"\r\n              >\r\n                <i class=\"pi pi-search\"></i>\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"p-inputtext table-search\"\r\n                  placeholder=\"Search\"\r\n                  (input)=\"dt.filter($event.target.value, col.field, 'contains')\"\r\n                />\r\n              </span>\r\n            </th>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template\r\n          pTemplate=\"body\"\r\n          let-rowData\r\n          let-columns=\"columns\"\r\n          let-index=\"rowIndex\"\r\n        >\r\n          <tr [pReorderableRow]=\"index\">\r\n            <ng-container *ngFor=\"let col of columns; let i = index\">\r\n              <td *ngIf=\"col.field != 'status'\">\r\n                <div\r\n                  *ngIf=\"!(i == 0)\"\r\n                  style=\"display: inline-block\"\r\n                >\r\n                  {{ rowData[col[\"field\"]] }}\r\n                </div>\r\n                <a\r\n                  *ngIf=\"i == 0\"\r\n                  style=\"text-decoration: underline !important;cursor: pointer;\"\r\n                  tabindex=\"0\"\r\n                  (keyup.Space)= \"viewSystemUser(rowData)\"\r\n                  (click)=\"viewSystemUser(rowData)\"\r\n                  >{{ rowData[col[\"field\"]] }}</a\r\n                >\r\n                <span\r\n                  *ngIf=\"i == 1\"\r\n                  [pTooltip]=\"\r\n                    rowData[col['field']].length > 30 ? rowData[col['field']] : ''\r\n                  \"\r\n                  tooltipPosition=\"bottom\"\r\n                >\r\n                  {{\r\n                    rowData[col[\"field\"]].length > 30\r\n                      ? rowData[col[\"field\"]].substring(0, 30) + \"..\"\r\n                      : rowData[col[\"field\"]]\r\n                  }}</span\r\n                >\r\n              </td>\r\n  \r\n              <td\r\n                *ngIf=\"col.field == 'status'\"\r\n                style=\"border: none; text-align: center\"\r\n              >\r\n                <label class=\"switch\" tabindex=\"0\"\r\n                (keyup.Space)= \"statusInp.click()\">\r\n                  <input\r\n                    #statusInp\r\n                    [value]=\"rowData[col['field']]\"\r\n                    type=\"checkbox\"\r\n                    (click)=\"confirmStatus($event, rowData)\"\r\n                    [checked]=\"\r\n                      rowData[col['field']] == 'Active' ||\r\n                      rowData[col['field']] == 'A'\r\n                        ? true\r\n                        : false\r\n                    \"\r\n                  />\r\n                  <span class=\"slider round\"></span>\r\n                </label>\r\n              </td>\r\n            </ng-container>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"emptymessage\">\r\n          <tr>\r\n            <td [attr.colspan]=\"cols.length\">No Data Found.</td>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"paginatorleft\" let-state>\r\n          {{ state.page * state.rows + 1 }} -\r\n          {{\r\n            state.rows * (state.page + 1) > state.totalRecords\r\n              ? state.totalRecords\r\n              : state.rows * (state.page + 1)\r\n          }}\r\n          of {{ state.totalRecords }}\r\n        </ng-template>\r\n      </p-table>\r\n    </div>\r\n  </div>\r\n  <div class=\"NorecordFound\" *ngIf=\"!userGroupListingData?.length\">\r\n    <div class=\"row\">\r\n      <div class=\"col-12\"><img src=\"assets/noRecordFound.svg\" /></div>\r\n    </div>\r\n    <div class=\"row\">\r\n      <div class=\"col-12\">\r\n        <p>\"No Record Found.Click Add New User Group To Add Record\"</p>\r\n        <button\r\n          pButton\r\n          pRipple\r\n          type=\"button\"\r\n          label=\"Add New System User\"\r\n          class=\"p-button-raised\"\r\n          (click)=\"addNewTaxPage()\"\r\n        ></button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"row custom-form\" *ngIf=\"mode == 'add' || mode == 'edit'\">\r\n    <div class=\"'col-xs-12 col-sm-6 col-md-4 col-lg-2 p-2 fieldForm'\">\r\n      <label> User Code </label> \r\n      <input type=\"text\" class=\"block\" pInputText [(ngModel)]=\"userCode\"/>\r\n    </div>\r\n    <div class=\"'col-xs-12 col-sm-6 col-md-4 col-lg-2 p-2 fieldForm'\">\r\n      <label>\r\n        User Group\r\n      </label>\r\n      <p-dropdown class=\"block\" placeholder=\"select\"  [options]=\"userGroupOptions\" optionLabel=\"codeName\" [appendTo]=\"'body'\" \r\n      [(ngModel)]=\"userGroup\"\r\n        [filter]=\"true\" filterBy=\"codeName\" [virtualScroll]=\"true\" [virtualScrollItemSize]=\"35\"\r\n        panelStyleClass=\"formFields-dropdown\" >\r\n        <ng-template let-options pTemplate=\"item\">\r\n          <div class=\"truncate-text\">\r\n            <div>{{ options.codeName }}</div>\r\n          </div>\r\n        </ng-template></p-dropdown>\r\n    </div>\r\n    <div class=\"form-group btn-grp buttons-section\">\r\n      <button\r\n      pButton\r\n      pRipple\r\n      type=\"button\"\r\n      label=\"Back\"\r\n      class=\"p-button-raised\"\r\n      (click)=\"onBack()\"\r\n    ></button>\r\n      <button\r\n        *ngIf=\"mode == 'edit'\"\r\n        pButton\r\n        pRipple\r\n        type=\"button\"\r\n        label=\"edit\"\r\n        class=\"p-button-raised\"\r\n        (click)=\"onEdit()\"\r\n      ></button>\r\n     \r\n      <button\r\n        pButton\r\n        pRipple\r\n        type=\"button\"\r\n        label=\"Save\"\r\n        class=\"p-button-raised\"\r\n        (click)=\"onSubmit('save')\"\r\n        [disabled]=\"deactivated\"\r\n      ></button>\r\n      <button\r\n      *ngIf=\"mode == 'add'\"\r\n        pButton\r\n        pRipple\r\n        type=\"button\"\r\n        label=\"Save & Add New\"\r\n        class=\"p-button-raised\"\r\n        (click)=\"onSubmit('saveAndAddNew')\"\r\n        [disabled]=\"deactivated\"\r\n      ></button>\r\n      <button\r\n      *ngIf=\"mode == 'add'\"\r\n        pButton\r\n        pRipple\r\n        type=\"button\"\r\n        label=\"Reset\"\r\n        class=\"p-button-warning\"\r\n        (click)=\"onReset()\"\r\n        [disabled]=\"deactivated\"\r\n      ></button>\r\n      <button\r\n        *ngIf=\"mode == 'edit'\"\r\n        pButton\r\n        pRipple\r\n        type=\"button\"\r\n        label=\"{{ deactivated ? 'Activate' : 'Deactivate' }}\"\r\n        class=\"p-button-warning\"\r\n        (click)=\"onActive()\"\r\n      ></button>\r\n    </div>\r\n</div>\r\n  <p-confirmDialog\r\n    key=\"activeDeactiveStatus\"\r\n    class=\"status-confirm confirm-popup\"\r\n    #cd\r\n    [closable]=\"false\"\r\n  >\r\n    <p-footer>\r\n      <button\r\n        type=\"button\"\r\n        pButton\r\n        icon=\"pi pi-check\"\r\n        label=\"Yes\"\r\n        (click)=\"cd.accept()\"\r\n      ></button>\r\n  \r\n      <button\r\n        type=\"button\"\r\n        pButton\r\n        icon=\"pi pi-times\"\r\n        label=\"No\"\r\n        (click)=\"cd.reject()\"\r\n      ></button>\r\n    </p-footer>\r\n  </p-confirmDialog>\r\n  \r\n","import { Component, OnInit } from \"@angular/core\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { CoreService } from \"../core.service\";\r\nimport { take } from \"rxjs/operators\";\r\n\r\n@Component({\r\n  selector: \"app-users-permisions\",\r\n  templateUrl: \"./users-permisions.component.html\",\r\n  styleUrls: [\"./users-permisions.component.scss\"],\r\n})\r\nexport class UsersPermisionsComponent implements OnInit {\r\n  mode = \"list\";\r\n  bankTransferModel: boolean = false;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private coreService: CoreService,\r\n    private route: ActivatedRoute\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    const translationKey = \"Home.Settings\";\r\n\r\n    // Update translation\r\n    this.coreService\r\n      .translate(translationKey)\r\n      .then((translatedTitle: string) => {\r\n        this.coreService.setPageTitle(translatedTitle);\r\n      });\r\n\r\n    this.route.data.subscribe((data) => {\r\n      this.coreService.setBreadCrumbMenu(Object.values(data));\r\n    });\r\n  }\r\n  handleModeBack(data: string) {\r\n    this.mode = data;\r\n    this.coreService\r\n      .getBreadCrumbMenu()\r\n      .pipe(take(1))\r\n      .subscribe((currBCrumbs) => {\r\n        const systemUserIndex = currBCrumbs.splice(4);\r\n        console.log(\":::currB\", systemUserIndex);\r\n        this.coreService.setBreadCrumbMenuFromInternalPages(currBCrumbs);\r\n      });\r\n  }\r\n\r\n  handleMode(data: string) {\r\n    this.mode = data;\r\n    console.log(\"mode\", data);\r\n    if (this.mode == \"add\") {\r\n      // set BreadCrumbs\r\n      this.coreService\r\n        .getBreadCrumbMenu()\r\n        .pipe(take(1))\r\n        .subscribe((currBCrumbs) => {\r\n          console.log(\":::currB\", currBCrumbs);\r\n          currBCrumbs.push({\r\n            label: \"Add System User\",\r\n            routerLink: \"\",\r\n          });\r\n          this.coreService.setBreadCrumbMenuFromInternalPages(currBCrumbs);\r\n        });\r\n    } else {\r\n      // set BreadCrumbs\r\n      this.coreService\r\n        .getBreadCrumbMenu()\r\n        .pipe(take(1))\r\n        .subscribe((currBCrumbs) => {\r\n          console.log(\":::currB\", currBCrumbs);\r\n          currBCrumbs.push({\r\n            label: \"Edit System User\",\r\n            routerLink: \"\",\r\n          });\r\n          this.coreService.setBreadCrumbMenuFromInternalPages(currBCrumbs);\r\n        });\r\n    }\r\n  }\r\n  handleEdit(data) {\r\n    console.log(\"mode\", data);\r\n    if (data) {\r\n      this.mode = \"add\";\r\n      this.bankTransferModel = true;\r\n    }\r\n  }\r\n  clickTabChange(e) {\r\n    console.log(\":::currB\", e);\r\n    if (e.index == \"1\") {\r\n      this.coreService\r\n        .getBreadCrumbMenu()\r\n        .pipe(take(1))\r\n        .subscribe((currBCrumbs) => {\r\n          console.log(\":::currB\", currBCrumbs);\r\n          const systemUserIndex = currBCrumbs.findIndex(\r\n            (item) => item.label === \"System User\"\r\n          );\r\n          if (systemUserIndex !== -1) {\r\n            currBCrumbs[systemUserIndex].label = \"User Group\";\r\n          }\r\n          this.coreService.setBreadCrumbMenuFromInternalPages(currBCrumbs);\r\n        });\r\n    } else {\r\n      this.coreService\r\n        .getBreadCrumbMenu()\r\n        .pipe(take(1))\r\n        .subscribe((currBCrumbs) => {\r\n          const systemUserIndex = currBCrumbs.splice(3);\r\n          console.log(\":::currB\", systemUserIndex);\r\n          currBCrumbs.push({\r\n            label: \"System User\",\r\n            routerLink: \"../navbar/users-permissions/system-user\",\r\n          });\r\n          this.coreService.setBreadCrumbMenuFromInternalPages(currBCrumbs);\r\n        });\r\n      this.mode = \"list\";\r\n    }\r\n  }\r\n}\r\n","<div class=\"row visible-main-section\">\r\n    <div class=\"col-12\">\r\n      <p-tabView\r\n      (onChange)=\"clickTabChange($event)\"\r\n      >\r\n        <p-tabPanel\r\n          header=\"System Users\"\r\n          \r\n        >\r\n        <div *ngIf=\"mode != 'add'\">\r\n\r\n          <app-system-users-listing  (modeEvent)=\"handleMode($event)\" (editEvent)=\"handleEdit($event)\"></app-system-users-listing>\r\n        </div>\r\n        <div *ngIf=\"mode === 'add'\">\r\n\r\n          <app-system-users-details (modeEventBack)=\"handleModeBack($event)\" [bankTransferModel]=\"bankTransferModel\"></app-system-users-details>\r\n        </div>\r\n        </p-tabPanel>\r\n        <p-tabPanel\r\n          header=\"User Group\"\r\n        >\r\n        <app-user-group></app-user-group>\r\n        </p-tabPanel>\r\n        <p-tabPanel\r\n          header=\"User Group Menu Permission\"\r\n        >\r\n          <ng-template pTemplate=\"content\">\r\n            <!-- <app-corporate [activeIndex]=\"activeTabIndex\"></app-corporate> -->\r\n          </ng-template>\r\n        </p-tabPanel>\r\n        <p-tabPanel\r\n          header=\"Data Access Group\"\r\n        >\r\n          <ng-template pTemplate=\"content\">\r\n            <!-- <app-corporate [activeIndex]=\"activeTabIndex\"></app-corporate> -->\r\n          </ng-template>\r\n        </p-tabPanel>\r\n        <p-tabPanel\r\n          header=\"Data Access Group Permission\"\r\n        >\r\n          <ng-template pTemplate=\"content\">\r\n            <!-- <app-corporate [activeIndex]=\"activeTabIndex\"></app-corporate> -->\r\n          </ng-template>\r\n        </p-tabPanel>\r\n        <p-tabPanel\r\n          header=\"User Group Field Permission\"\r\n        >\r\n          <ng-template pTemplate=\"content\">\r\n            <!-- <app-corporate [activeIndex]=\"activeTabIndex\"></app-corporate> -->\r\n          </ng-template>\r\n        </p-tabPanel>\r\n      </p-tabView>\r\n    </div>\r\n  </div>\r\n","import { HttpHeaders } from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { Observable } from \"rxjs\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class UsersPermissionService {\r\n  http: any;\r\n\r\n  constructor() {}\r\n\r\n  updateSystemUsersStatus(\r\n    clientCode: any,\r\n    licenseCountry: any,\r\n    currencyCode: any,\r\n    status: any\r\n  ): Observable<any> {\r\n    return this.http.post(\r\n      `/appControl/rateSettingsController/updateRateSettingsStatus`,\r\n      null,\r\n      {\r\n        headers: new HttpHeaders()\r\n          .set(\"clientCode\", clientCode)\r\n          .set(\"licenseCountry\", licenseCountry)\r\n          .set(\"currencyCode\", currencyCode)\r\n          .set(\"status\", status),\r\n      }\r\n    );\r\n  }\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false,\r\n  baseUrl: 'http://172.26.1.25:8889'\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}